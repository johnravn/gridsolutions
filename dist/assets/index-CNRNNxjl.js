var u1e=Object.defineProperty;var XF=e=>{throw TypeError(e)};var d1e=(e,t,n)=>t in e?u1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Fi=(e,t,n)=>d1e(e,typeof t!="symbol"?t+"":t,n),c3=(e,t,n)=>t.has(e)||XF("Cannot "+n);var Ae=(e,t,n)=>(c3(e,t,"read from private field"),n?n.call(e):t.get(e)),Kt=(e,t,n)=>t.has(e)?XF("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Tt=(e,t,n,i)=>(c3(e,t,"write to private field"),i?i.call(e,n):t.set(e,n),n),ni=(e,t,n)=>(c3(e,t,"access private method"),n);var JS=(e,t,n,i)=>({set _(r){Tt(e,t,r,n)},get _(){return Ae(e,t,i)}});function Iee(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in e)){const a=Object.getOwnPropertyDescriptor(i,r);a&&Object.defineProperty(e,r,a.get?a:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();var zxt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ol(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function A2(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var r=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return e[i]}})}),n}var u3={exports:{}},QS={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZF;function f1e(){if(ZF)return QS;ZF=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,r,a){var o=null;if(a!==void 0&&(o=""+a),r.key!==void 0&&(o=""+r.key),"key"in r){a={};for(var l in r)l!=="key"&&(a[l]=r[l])}else a=r;return r=a.ref,{$$typeof:e,type:i,key:o,ref:r!==void 0?r:null,props:a}}return QS.Fragment=t,QS.jsx=n,QS.jsxs=n,QS}var eB;function h1e(){return eB||(eB=1,u3.exports=f1e()),u3.exports}var s=h1e(),d3={exports:{}},Yn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tB;function p1e(){if(tB)return Yn;tB=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),m=Symbol.iterator;function p(G){return G===null||typeof G!="object"?null:(G=m&&G[m]||G["@@iterator"],typeof G=="function"?G:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,b={};function w(G,H,T){this.props=G,this.context=H,this.refs=b,this.updater=T||v}w.prototype.isReactComponent={},w.prototype.setState=function(G,H){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,H,"setState")},w.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function R(){}R.prototype=w.prototype;function E(G,H,T){this.props=G,this.context=H,this.refs=b,this.updater=T||v}var _=E.prototype=new R;_.constructor=E,S(_,w.prototype),_.isPureReactComponent=!0;var N=Array.isArray;function O(){}var j={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function P(G,H,T){var Y=T.ref;return{$$typeof:e,type:G,key:H,ref:Y!==void 0?Y:null,props:T}}function B(G,H){return P(G.type,H,G.props)}function M(G){return typeof G=="object"&&G!==null&&G.$$typeof===e}function z(G){var H={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(T){return H[T]})}var U=/\/+/g;function K(G,H){return typeof G=="object"&&G!==null&&G.key!=null?z(""+G.key):H.toString(36)}function te(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(O,O):(G.status="pending",G.then(function(H){G.status==="pending"&&(G.status="fulfilled",G.value=H)},function(H){G.status==="pending"&&(G.status="rejected",G.reason=H)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function q(G,H,T,Y,ie){var ne=typeof G;(ne==="undefined"||ne==="boolean")&&(G=null);var J=!1;if(G===null)J=!0;else switch(ne){case"bigint":case"string":case"number":J=!0;break;case"object":switch(G.$$typeof){case e:case t:J=!0;break;case d:return J=G._init,q(J(G._payload),H,T,Y,ie)}}if(J)return ie=ie(G),J=Y===""?"."+K(G,0):Y,N(ie)?(T="",J!=null&&(T=J.replace(U,"$&/")+"/"),q(ie,H,T,"",function(de){return de})):ie!=null&&(M(ie)&&(ie=B(ie,T+(ie.key==null||G&&G.key===ie.key?"":(""+ie.key).replace(U,"$&/")+"/")+J)),H.push(ie)),1;J=0;var ee=Y===""?".":Y+":";if(N(G))for(var se=0;se<G.length;se++)Y=G[se],ne=ee+K(Y,se),J+=q(Y,H,T,ne,ie);else if(se=p(G),typeof se=="function")for(G=se.call(G),se=0;!(Y=G.next()).done;)Y=Y.value,ne=ee+K(Y,se++),J+=q(Y,H,T,ne,ie);else if(ne==="object"){if(typeof G.then=="function")return q(te(G),H,T,Y,ie);throw H=String(G),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return J}function V(G,H,T){if(G==null)return G;var Y=[],ie=0;return q(G,Y,"","",function(ne){return H.call(T,ne,ie++)}),Y}function Q(G){if(G._status===-1){var H=G._result;H=H(),H.then(function(T){(G._status===0||G._status===-1)&&(G._status=1,G._result=T)},function(T){(G._status===0||G._status===-1)&&(G._status=2,G._result=T)}),G._status===-1&&(G._status=0,G._result=H)}if(G._status===1)return G._result.default;throw G._result}var ce=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)},ae={map:V,forEach:function(G,H,T){V(G,function(){H.apply(this,arguments)},T)},count:function(G){var H=0;return V(G,function(){H++}),H},toArray:function(G){return V(G,function(H){return H})||[]},only:function(G){if(!M(G))throw Error("React.Children.only expected to receive a single React element child.");return G}};return Yn.Activity=h,Yn.Children=ae,Yn.Component=w,Yn.Fragment=n,Yn.Profiler=r,Yn.PureComponent=E,Yn.StrictMode=i,Yn.Suspense=c,Yn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,Yn.__COMPILER_RUNTIME={__proto__:null,c:function(G){return j.H.useMemoCache(G)}},Yn.cache=function(G){return function(){return G.apply(null,arguments)}},Yn.cacheSignal=function(){return null},Yn.cloneElement=function(G,H,T){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var Y=S({},G.props),ie=G.key;if(H!=null)for(ne in H.key!==void 0&&(ie=""+H.key),H)!D.call(H,ne)||ne==="key"||ne==="__self"||ne==="__source"||ne==="ref"&&H.ref===void 0||(Y[ne]=H[ne]);var ne=arguments.length-2;if(ne===1)Y.children=T;else if(1<ne){for(var J=Array(ne),ee=0;ee<ne;ee++)J[ee]=arguments[ee+2];Y.children=J}return P(G.type,ie,Y)},Yn.createContext=function(G){return G={$$typeof:o,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:a,_context:G},G},Yn.createElement=function(G,H,T){var Y,ie={},ne=null;if(H!=null)for(Y in H.key!==void 0&&(ne=""+H.key),H)D.call(H,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(ie[Y]=H[Y]);var J=arguments.length-2;if(J===1)ie.children=T;else if(1<J){for(var ee=Array(J),se=0;se<J;se++)ee[se]=arguments[se+2];ie.children=ee}if(G&&G.defaultProps)for(Y in J=G.defaultProps,J)ie[Y]===void 0&&(ie[Y]=J[Y]);return P(G,ne,ie)},Yn.createRef=function(){return{current:null}},Yn.forwardRef=function(G){return{$$typeof:l,render:G}},Yn.isValidElement=M,Yn.lazy=function(G){return{$$typeof:d,_payload:{_status:-1,_result:G},_init:Q}},Yn.memo=function(G,H){return{$$typeof:u,type:G,compare:H===void 0?null:H}},Yn.startTransition=function(G){var H=j.T,T={};j.T=T;try{var Y=G(),ie=j.S;ie!==null&&ie(T,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(O,ce)}catch(ne){ce(ne)}finally{H!==null&&T.types!==null&&(H.types=T.types),j.T=H}},Yn.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},Yn.use=function(G){return j.H.use(G)},Yn.useActionState=function(G,H,T){return j.H.useActionState(G,H,T)},Yn.useCallback=function(G,H){return j.H.useCallback(G,H)},Yn.useContext=function(G){return j.H.useContext(G)},Yn.useDebugValue=function(){},Yn.useDeferredValue=function(G,H){return j.H.useDeferredValue(G,H)},Yn.useEffect=function(G,H){return j.H.useEffect(G,H)},Yn.useEffectEvent=function(G){return j.H.useEffectEvent(G)},Yn.useId=function(){return j.H.useId()},Yn.useImperativeHandle=function(G,H,T){return j.H.useImperativeHandle(G,H,T)},Yn.useInsertionEffect=function(G,H){return j.H.useInsertionEffect(G,H)},Yn.useLayoutEffect=function(G,H){return j.H.useLayoutEffect(G,H)},Yn.useMemo=function(G,H){return j.H.useMemo(G,H)},Yn.useOptimistic=function(G,H){return j.H.useOptimistic(G,H)},Yn.useReducer=function(G,H,T){return j.H.useReducer(G,H,T)},Yn.useRef=function(G){return j.H.useRef(G)},Yn.useState=function(G){return j.H.useState(G)},Yn.useSyncExternalStore=function(G,H,T){return j.H.useSyncExternalStore(G,H,T)},Yn.useTransition=function(){return j.H.useTransition()},Yn.version="19.2.0",Yn}var nB;function z1(){return nB||(nB=1,d3.exports=p1e()),d3.exports}var g=z1();const Pt=ol(g),VI=Iee({__proto__:null,default:Pt},[g]);var f3={exports:{}},XS={},h3={exports:{}},p3={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iB;function m1e(){return iB||(iB=1,(function(e){function t(q,V){var Q=q.length;q.push(V);e:for(;0<Q;){var ce=Q-1>>>1,ae=q[ce];if(0<r(ae,V))q[ce]=V,q[Q]=ae,Q=ce;else break e}}function n(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var V=q[0],Q=q.pop();if(Q!==V){q[0]=Q;e:for(var ce=0,ae=q.length,G=ae>>>1;ce<G;){var H=2*(ce+1)-1,T=q[H],Y=H+1,ie=q[Y];if(0>r(T,Q))Y<ae&&0>r(ie,T)?(q[ce]=ie,q[Y]=Q,ce=Y):(q[ce]=T,q[H]=Q,ce=H);else if(Y<ae&&0>r(ie,Q))q[ce]=ie,q[Y]=Q,ce=Y;else break e}}return V}function r(q,V){var Q=q.sortIndex-V.sortIndex;return Q!==0?Q:q.id-V.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,m=3,p=!1,v=!1,S=!1,b=!1,w=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function _(q){for(var V=n(u);V!==null;){if(V.callback===null)i(u);else if(V.startTime<=q)i(u),V.sortIndex=V.expirationTime,t(c,V);else break;V=n(u)}}function N(q){if(S=!1,_(q),!v)if(n(c)!==null)v=!0,O||(O=!0,z());else{var V=n(u);V!==null&&te(N,V.startTime-q)}}var O=!1,j=-1,D=5,P=-1;function B(){return b?!0:!(e.unstable_now()-P<D)}function M(){if(b=!1,O){var q=e.unstable_now();P=q;var V=!0;try{e:{v=!1,S&&(S=!1,R(j),j=-1),p=!0;var Q=m;try{t:{for(_(q),h=n(c);h!==null&&!(h.expirationTime>q&&B());){var ce=h.callback;if(typeof ce=="function"){h.callback=null,m=h.priorityLevel;var ae=ce(h.expirationTime<=q);if(q=e.unstable_now(),typeof ae=="function"){h.callback=ae,_(q),V=!0;break t}h===n(c)&&i(c),_(q)}else i(c);h=n(c)}if(h!==null)V=!0;else{var G=n(u);G!==null&&te(N,G.startTime-q),V=!1}}break e}finally{h=null,m=Q,p=!1}V=void 0}}finally{V?z():O=!1}}}var z;if(typeof E=="function")z=function(){E(M)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,K=U.port2;U.port1.onmessage=M,z=function(){K.postMessage(null)}}else z=function(){w(M,0)};function te(q,V){j=w(function(){q(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(q){switch(m){case 1:case 2:case 3:var V=3;break;default:V=m}var Q=m;m=V;try{return q()}finally{m=Q}},e.unstable_requestPaint=function(){b=!0},e.unstable_runWithPriority=function(q,V){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var Q=m;m=q;try{return V()}finally{m=Q}},e.unstable_scheduleCallback=function(q,V,Q){var ce=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ce+Q:ce):Q=ce,q){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=Q+ae,q={id:d++,callback:V,priorityLevel:q,startTime:Q,expirationTime:ae,sortIndex:-1},Q>ce?(q.sortIndex=Q,t(u,q),n(c)===null&&q===n(u)&&(S?(R(j),j=-1):S=!0,te(N,Q-ce))):(q.sortIndex=ae,t(c,q),v||p||(v=!0,O||(O=!0,z()))),q},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(q){var V=m;return function(){var Q=m;m=V;try{return q.apply(this,arguments)}finally{m=Q}}}})(p3)),p3}var rB;function y1e(){return rB||(rB=1,h3.exports=m1e()),h3.exports}var m3={exports:{}},Us={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aB;function g1e(){if(aB)return Us;aB=1;var e=z1();function t(c){var u="https://react.dev/errors/"+c;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(c,u,d){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:h==null?null:""+h,children:c,containerInfo:u,implementation:d}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,u){if(c==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Us.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Us.createPortal=function(c,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(t(299));return a(c,u,null,d)},Us.flushSync=function(c){var u=o.T,d=i.p;try{if(o.T=null,i.p=2,c)return c()}finally{o.T=u,i.p=d,i.d.f()}},Us.preconnect=function(c,u){typeof c=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,i.d.C(c,u))},Us.prefetchDNS=function(c){typeof c=="string"&&i.d.D(c)},Us.preinit=function(c,u){if(typeof c=="string"&&u&&typeof u.as=="string"){var d=u.as,h=l(d,u.crossOrigin),m=typeof u.integrity=="string"?u.integrity:void 0,p=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;d==="style"?i.d.S(c,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:h,integrity:m,fetchPriority:p}):d==="script"&&i.d.X(c,{crossOrigin:h,integrity:m,fetchPriority:p,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Us.preinitModule=function(c,u){if(typeof c=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var d=l(u.as,u.crossOrigin);i.d.M(c,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&i.d.M(c)},Us.preload=function(c,u){if(typeof c=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var d=u.as,h=l(d,u.crossOrigin);i.d.L(c,d,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Us.preloadModule=function(c,u){if(typeof c=="string")if(u){var d=l(u.as,u.crossOrigin);i.d.m(c,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else i.d.m(c)},Us.requestFormReset=function(c){i.d.r(c)},Us.unstable_batchedUpdates=function(c,u){return c(u)},Us.useFormState=function(c,u,d){return o.H.useFormState(c,u,d)},Us.useFormStatus=function(){return o.H.useHostTransitionStatus()},Us.version="19.2.0",Us}var sB;function Pee(){if(sB)return m3.exports;sB=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),m3.exports=g1e(),m3.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oB;function v1e(){if(oB)return XS;oB=1;var e=y1e(),t=z1(),n=Pee();function i(f){var y="https://react.dev/errors/"+f;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)y+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+f+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}function a(f){var y=f,x=f;if(f.alternate)for(;y.return;)y=y.return;else{f=y;do y=f,(y.flags&4098)!==0&&(x=y.return),f=y.return;while(f)}return y.tag===3?x:null}function o(f){if(f.tag===13){var y=f.memoizedState;if(y===null&&(f=f.alternate,f!==null&&(y=f.memoizedState)),y!==null)return y.dehydrated}return null}function l(f){if(f.tag===31){var y=f.memoizedState;if(y===null&&(f=f.alternate,f!==null&&(y=f.memoizedState)),y!==null)return y.dehydrated}return null}function c(f){if(a(f)!==f)throw Error(i(188))}function u(f){var y=f.alternate;if(!y){if(y=a(f),y===null)throw Error(i(188));return y!==f?null:f}for(var x=f,A=y;;){var I=x.return;if(I===null)break;var F=I.alternate;if(F===null){if(A=I.return,A!==null){x=A;continue}break}if(I.child===F.child){for(F=I.child;F;){if(F===x)return c(I),f;if(F===A)return c(I),y;F=F.sibling}throw Error(i(188))}if(x.return!==A.return)x=I,A=F;else{for(var fe=!1,be=I.child;be;){if(be===x){fe=!0,x=I,A=F;break}if(be===A){fe=!0,A=I,x=F;break}be=be.sibling}if(!fe){for(be=F.child;be;){if(be===x){fe=!0,x=F,A=I;break}if(be===A){fe=!0,A=F,x=I;break}be=be.sibling}if(!fe)throw Error(i(189))}}if(x.alternate!==A)throw Error(i(190))}if(x.tag!==3)throw Error(i(188));return x.stateNode.current===x?f:y}function d(f){var y=f.tag;if(y===5||y===26||y===27||y===6)return f;for(f=f.child;f!==null;){if(y=d(f),y!==null)return y;f=f.sibling}return null}var h=Object.assign,m=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),E=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function z(f){return f===null||typeof f!="object"?null:(f=M&&f[M]||f["@@iterator"],typeof f=="function"?f:null)}var U=Symbol.for("react.client.reference");function K(f){if(f==null)return null;if(typeof f=="function")return f.$$typeof===U?null:f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case S:return"Fragment";case w:return"Profiler";case b:return"StrictMode";case N:return"Suspense";case O:return"SuspenseList";case P:return"Activity"}if(typeof f=="object")switch(f.$$typeof){case v:return"Portal";case E:return f.displayName||"Context";case R:return(f._context.displayName||"Context")+".Consumer";case _:var y=f.render;return f=f.displayName,f||(f=y.displayName||y.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case j:return y=f.displayName||null,y!==null?y:K(f.type)||"Memo";case D:y=f._payload,f=f._init;try{return K(f(y))}catch{}}return null}var te=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},ce=[],ae=-1;function G(f){return{current:f}}function H(f){0>ae||(f.current=ce[ae],ce[ae]=null,ae--)}function T(f,y){ae++,ce[ae]=f.current,f.current=y}var Y=G(null),ie=G(null),ne=G(null),J=G(null);function ee(f,y){switch(T(ne,y),T(ie,f),T(Y,null),y.nodeType){case 9:case 11:f=(f=y.documentElement)&&(f=f.namespaceURI)?xF(f):0;break;default:if(f=y.tagName,y=y.namespaceURI)y=xF(y),f=wF(y,f);else switch(f){case"svg":f=1;break;case"math":f=2;break;default:f=0}}H(Y),T(Y,f)}function se(){H(Y),H(ie),H(ne)}function de(f){f.memoizedState!==null&&T(J,f);var y=Y.current,x=wF(y,f.type);y!==x&&(T(ie,f),T(Y,x))}function he(f){ie.current===f&&(H(Y),H(ie)),J.current===f&&(H(J),HS._currentValue=Q)}var me,we;function le(f){if(me===void 0)try{throw Error()}catch(x){var y=x.stack.trim().match(/\n( *(at )?)/);me=y&&y[1]||"",we=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+me+f+we}var ue=!1;function De(f,y){if(!f||ue)return"";ue=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var A={DetermineComponentFrameRoot:function(){try{if(y){var _t=function(){throw Error()};if(Object.defineProperty(_t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_t,[])}catch(ct){var it=ct}Reflect.construct(f,[],_t)}else{try{_t.call()}catch(ct){it=ct}f.call(_t.prototype)}}else{try{throw Error()}catch(ct){it=ct}(_t=f())&&typeof _t.catch=="function"&&_t.catch(function(){})}}catch(ct){if(ct&&it&&typeof ct.stack=="string")return[ct.stack,it.stack]}return[null,null]}};A.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var I=Object.getOwnPropertyDescriptor(A.DetermineComponentFrameRoot,"name");I&&I.configurable&&Object.defineProperty(A.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var F=A.DetermineComponentFrameRoot(),fe=F[0],be=F[1];if(fe&&be){var Me=fe.split(`
`),Ze=be.split(`
`);for(I=A=0;A<Me.length&&!Me[A].includes("DetermineComponentFrameRoot");)A++;for(;I<Ze.length&&!Ze[I].includes("DetermineComponentFrameRoot");)I++;if(A===Me.length||I===Ze.length)for(A=Me.length-1,I=Ze.length-1;1<=A&&0<=I&&Me[A]!==Ze[I];)I--;for(;1<=A&&0<=I;A--,I--)if(Me[A]!==Ze[I]){if(A!==1||I!==1)do if(A--,I--,0>I||Me[A]!==Ze[I]){var pt=`
`+Me[A].replace(" at new "," at ");return f.displayName&&pt.includes("<anonymous>")&&(pt=pt.replace("<anonymous>",f.displayName)),pt}while(1<=A&&0<=I);break}}}finally{ue=!1,Error.prepareStackTrace=x}return(x=f?f.displayName||f.name:"")?le(x):""}function Le(f,y){switch(f.tag){case 26:case 27:case 5:return le(f.type);case 16:return le("Lazy");case 13:return f.child!==y&&y!==null?le("Suspense Fallback"):le("Suspense");case 19:return le("SuspenseList");case 0:case 15:return De(f.type,!1);case 11:return De(f.type.render,!1);case 1:return De(f.type,!0);case 31:return le("Activity");default:return""}}function Be(f){try{var y="",x=null;do y+=Le(f,x),x=f,f=f.return;while(f);return y}catch(A){return`
Error generating stack: `+A.message+`
`+A.stack}}var ke=Object.prototype.hasOwnProperty,Ee=e.unstable_scheduleCallback,lt=e.unstable_cancelCallback,Mt=e.unstable_shouldYield,St=e.unstable_requestPaint,tt=e.unstable_now,Je=e.unstable_getCurrentPriorityLevel,Ve=e.unstable_ImmediatePriority,qt=e.unstable_UserBlockingPriority,Et=e.unstable_NormalPriority,rt=e.unstable_LowPriority,xt=e.unstable_IdlePriority,Te=e.log,Ot=e.unstable_setDisableYieldValue,$t=null,jt=null;function Ht(f){if(typeof Te=="function"&&Ot(f),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode($t,f)}catch{}}var Ie=Math.clz32?Math.clz32:kt,nt=Math.log,Lt=Math.LN2;function kt(f){return f>>>=0,f===0?32:31-(nt(f)/Lt|0)|0}var vn=256,Rn=262144,yn=4194304;function Ut(f){var y=f&42;if(y!==0)return y;switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return f&261888;case 262144:case 524288:case 1048576:case 2097152:return f&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return f&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return f}}function ut(f,y,x){var A=f.pendingLanes;if(A===0)return 0;var I=0,F=f.suspendedLanes,fe=f.pingedLanes;f=f.warmLanes;var be=A&134217727;return be!==0?(A=be&~F,A!==0?I=Ut(A):(fe&=be,fe!==0?I=Ut(fe):x||(x=be&~f,x!==0&&(I=Ut(x))))):(be=A&~F,be!==0?I=Ut(be):fe!==0?I=Ut(fe):x||(x=A&~f,x!==0&&(I=Ut(x)))),I===0?0:y!==0&&y!==I&&(y&F)===0&&(F=I&-I,x=y&-y,F>=x||F===32&&(x&4194048)!==0)?y:I}function Ft(f,y){return(f.pendingLanes&~(f.suspendedLanes&~f.pingedLanes)&y)===0}function Zt(f,y){switch(f){case 1:case 2:case 4:case 8:case 64:return y+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return y+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wt(){var f=yn;return yn<<=1,(yn&62914560)===0&&(yn=4194304),f}function Bn(f){for(var y=[],x=0;31>x;x++)y.push(f);return y}function Vt(f,y){f.pendingLanes|=y,y!==268435456&&(f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0)}function br(f,y,x,A,I,F){var fe=f.pendingLanes;f.pendingLanes=x,f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0,f.expiredLanes&=x,f.entangledLanes&=x,f.errorRecoveryDisabledLanes&=x,f.shellSuspendCounter=0;var be=f.entanglements,Me=f.expirationTimes,Ze=f.hiddenUpdates;for(x=fe&~x;0<x;){var pt=31-Ie(x),_t=1<<pt;be[pt]=0,Me[pt]=-1;var it=Ze[pt];if(it!==null)for(Ze[pt]=null,pt=0;pt<it.length;pt++){var ct=it[pt];ct!==null&&(ct.lane&=-536870913)}x&=~_t}A!==0&&Ur(f,A,0),F!==0&&I===0&&f.tag!==0&&(f.suspendedLanes|=F&~(fe&~y))}function Ur(f,y,x){f.pendingLanes|=y,f.suspendedLanes&=~y;var A=31-Ie(y);f.entangledLanes|=y,f.entanglements[A]=f.entanglements[A]|1073741824|x&261930}function Qi(f,y){var x=f.entangledLanes|=y;for(f=f.entanglements;x;){var A=31-Ie(x),I=1<<A;I&y|f[A]&y&&(f[A]|=y),x&=~I}}function Mi(f,y){var x=y&-y;return x=(x&42)!==0?1:Ii(x),(x&(f.suspendedLanes|y))!==0?0:x}function Ii(f){switch(f){case 2:f=1;break;case 8:f=4;break;case 32:f=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:f=128;break;case 268435456:f=134217728;break;default:f=0}return f}function xr(f){return f&=-f,2<f?8<f?(f&134217727)!==0?32:268435456:8:2}function Vr(){var f=V.p;return f!==0?f:(f=window.event,f===void 0?32:GF(f.type))}function Xu(f,y){var x=V.p;try{return V.p=f,y()}finally{V.p=x}}var _s=Math.random().toString(36).slice(2),Ki="__reactFiber$"+_s,wr="__reactProps$"+_s,ss="__reactContainer$"+_s,ao="__reactEvents$"+_s,Co="__reactListeners$"+_s,nf="__reactHandles$"+_s,ul="__reactResources$"+_s,dl="__reactMarker$"+_s;function Zu(f){delete f[Ki],delete f[wr],delete f[ao],delete f[Co],delete f[nf]}function fl(f){var y=f[Ki];if(y)return y;for(var x=f.parentNode;x;){if(y=x[ss]||x[Ki]){if(x=y.alternate,y.child!==null||x!==null&&x.child!==null)for(f=jF(f);f!==null;){if(x=f[Ki])return x;f=jF(f)}return y}f=x,x=f.parentNode}return null}function hl(f){if(f=f[Ki]||f[ss]){var y=f.tag;if(y===5||y===6||y===13||y===31||y===26||y===27||y===3)return f}return null}function rf(f){var y=f.tag;if(y===5||y===26||y===27||y===6)return f.stateNode;throw Error(i(33))}function Zl(f){var y=f[ul];return y||(y=f[ul]={hoistableStyles:new Map,hoistableScripts:new Map}),y}function Kr(f){f[dl]=!0}var $m=new Set,so={};function pl(f,y){zc(f,y),zc(f+"Capture",y)}function zc(f,y){for(so[f]=y,f=0;f<y.length;f++)$m.add(y[f])}var Fm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bm={},zm={};function ov(f){return ke.call(zm,f)?!0:ke.call(Bm,f)?!1:Fm.test(f)?zm[f]=!0:(Bm[f]=!0,!1)}function Uc(f,y,x){if(ov(y))if(x===null)f.removeAttribute(y);else{switch(typeof x){case"undefined":case"function":case"symbol":f.removeAttribute(y);return;case"boolean":var A=y.toLowerCase().slice(0,5);if(A!=="data-"&&A!=="aria-"){f.removeAttribute(y);return}}f.setAttribute(y,""+x)}}function Mh(f,y,x){if(x===null)f.removeAttribute(y);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(y);return}f.setAttribute(y,""+x)}}function Ui(f,y,x,A){if(A===null)f.removeAttribute(x);else{switch(typeof A){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(x);return}f.setAttributeNS(y,x,""+A)}}function As(f){switch(typeof f){case"bigint":case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function Um(f){var y=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(y==="checkbox"||y==="radio")}function Vc(f,y,x){var A=Object.getOwnPropertyDescriptor(f.constructor.prototype,y);if(!f.hasOwnProperty(y)&&typeof A<"u"&&typeof A.get=="function"&&typeof A.set=="function"){var I=A.get,F=A.set;return Object.defineProperty(f,y,{configurable:!0,get:function(){return I.call(this)},set:function(fe){x=""+fe,F.call(this,fe)}}),Object.defineProperty(f,y,{enumerable:A.enumerable}),{getValue:function(){return x},setValue:function(fe){x=""+fe},stopTracking:function(){f._valueTracker=null,delete f[y]}}}}function Kc(f){if(!f._valueTracker){var y=Um(f)?"checked":"value";f._valueTracker=Vc(f,y,""+f[y])}}function Lo(f){if(!f)return!1;var y=f._valueTracker;if(!y)return!0;var x=y.getValue(),A="";return f&&(A=Um(f)?f.checked?"true":"false":f.value),f=A,f!==x?(y.setValue(f),!0):!1}function ec(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}var Gr=/[\n"\\]/g;function os(f){return f.replace(Gr,function(y){return"\\"+y.charCodeAt(0).toString(16)+" "})}function Vm(f,y,x,A,I,F,fe,be){f.name="",fe!=null&&typeof fe!="function"&&typeof fe!="symbol"&&typeof fe!="boolean"?f.type=fe:f.removeAttribute("type"),y!=null?fe==="number"?(y===0&&f.value===""||f.value!=y)&&(f.value=""+As(y)):f.value!==""+As(y)&&(f.value=""+As(y)):fe!=="submit"&&fe!=="reset"||f.removeAttribute("value"),y!=null?Km(f,fe,As(y)):x!=null?Km(f,fe,As(x)):A!=null&&f.removeAttribute("value"),I==null&&F!=null&&(f.defaultChecked=!!F),I!=null&&(f.checked=I&&typeof I!="function"&&typeof I!="symbol"),be!=null&&typeof be!="function"&&typeof be!="symbol"&&typeof be!="boolean"?f.name=""+As(be):f.removeAttribute("name")}function lv(f,y,x,A,I,F,fe,be){if(F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"&&(f.type=F),y!=null||x!=null){if(!(F!=="submit"&&F!=="reset"||y!=null)){Kc(f);return}x=x!=null?""+As(x):"",y=y!=null?""+As(y):x,be||y===f.value||(f.value=y),f.defaultValue=y}A=A??I,A=typeof A!="function"&&typeof A!="symbol"&&!!A,f.checked=be?f.checked:!!A,f.defaultChecked=!!A,fe!=null&&typeof fe!="function"&&typeof fe!="symbol"&&typeof fe!="boolean"&&(f.name=fe),Kc(f)}function Km(f,y,x){y==="number"&&ec(f.ownerDocument)===f||f.defaultValue===""+x||(f.defaultValue=""+x)}function Rs(f,y,x,A){if(f=f.options,y){y={};for(var I=0;I<x.length;I++)y["$"+x[I]]=!0;for(x=0;x<f.length;x++)I=y.hasOwnProperty("$"+f[x].value),f[x].selected!==I&&(f[x].selected=I),I&&A&&(f[x].defaultSelected=!0)}else{for(x=""+As(x),y=null,I=0;I<f.length;I++){if(f[I].value===x){f[I].selected=!0,A&&(f[I].defaultSelected=!0);return}y!==null||f[I].disabled||(y=f[I])}y!==null&&(y.selected=!0)}}function Gm(f,y,x){if(y!=null&&(y=""+As(y),y!==f.value&&(f.value=y),x==null)){f.defaultValue!==y&&(f.defaultValue=y);return}f.defaultValue=x!=null?""+As(x):""}function Hm(f,y,x,A){if(y==null){if(A!=null){if(x!=null)throw Error(i(92));if(te(A)){if(1<A.length)throw Error(i(93));A=A[0]}x=A}x==null&&(x=""),y=x}x=As(y),f.defaultValue=x,A=f.textContent,A===x&&A!==""&&A!==null&&(f.value=A),Kc(f)}function oo(f,y){if(y){var x=f.firstChild;if(x&&x===f.lastChild&&x.nodeType===3){x.nodeValue=y;return}}f.textContent=y}var qm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cv(f,y,x){var A=y.indexOf("--")===0;x==null||typeof x=="boolean"||x===""?A?f.setProperty(y,""):y==="float"?f.cssFloat="":f[y]="":A?f.setProperty(y,x):typeof x!="number"||x===0||qm.has(y)?y==="float"?f.cssFloat=x:f[y]=(""+x).trim():f[y]=x+"px"}function uv(f,y,x){if(y!=null&&typeof y!="object")throw Error(i(62));if(f=f.style,x!=null){for(var A in x)!x.hasOwnProperty(A)||y!=null&&y.hasOwnProperty(A)||(A.indexOf("--")===0?f.setProperty(A,""):A==="float"?f.cssFloat="":f[A]="");for(var I in y)A=y[I],y.hasOwnProperty(I)&&x[I]!==A&&cv(f,I,A)}else for(var F in y)y.hasOwnProperty(F)&&cv(f,F,y[F])}function Wm(f){if(f.indexOf("-")===-1)return!1;switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ym=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),af=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ml(f){return af.test(""+f)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":f}function yl(){}var Gc=null;function sf(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var Nn=null,ed=null;function dv(f){var y=hl(f);if(y&&(f=y.stateNode)){var x=f[wr]||null;e:switch(f=y.stateNode,y.type){case"input":if(Vm(f,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name),y=x.name,x.type==="radio"&&y!=null){for(x=f;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll('input[name="'+os(""+y)+'"][type="radio"]'),y=0;y<x.length;y++){var A=x[y];if(A!==f&&A.form===f.form){var I=A[wr]||null;if(!I)throw Error(i(90));Vm(A,I.value,I.defaultValue,I.defaultValue,I.checked,I.defaultChecked,I.type,I.name)}}for(y=0;y<x.length;y++)A=x[y],A.form===f.form&&Lo(A)}break e;case"textarea":Gm(f,x.value,x.defaultValue);break e;case"select":y=x.value,y!=null&&Rs(f,!!x.multiple,y,!1)}}}var Jm=!1;function fv(f,y,x){if(Jm)return f(y,x);Jm=!0;try{var A=f(y);return A}finally{if(Jm=!1,(Nn!==null||ed!==null)&&(Yw(),Nn&&(y=Nn,f=ed,ed=Nn=null,dv(y),f)))for(y=0;y<f.length;y++)dv(f[y])}}function lo(f,y){var x=f.stateNode;if(x===null)return null;var A=x[wr]||null;if(A===null)return null;x=A[y];e:switch(y){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(A=!A.disabled)||(f=f.type,A=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!A;break e;default:f=!1}if(f)return null;if(x&&typeof x!="function")throw Error(i(231,y,typeof x));return x}var Ba=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qm=!1;if(Ba)try{var of={};Object.defineProperty(of,"passive",{get:function(){Qm=!0}}),window.addEventListener("test",of,of),window.removeEventListener("test",of,of)}catch{Qm=!1}var co=null,lf=null,tc=null;function cf(){if(tc)return tc;var f,y=lf,x=y.length,A,I="value"in co?co.value:co.textContent,F=I.length;for(f=0;f<x&&y[f]===I[f];f++);var fe=x-f;for(A=1;A<=fe&&y[x-A]===I[F-A];A++);return tc=I.slice(f,1<A?1-A:void 0)}function Hc(f){var y=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&y===13&&(f=13)):f=y,f===10&&(f=13),32<=f||f===13?f:0}function Ih(){return!0}function Ph(){return!1}function Ra(f){function y(x,A,I,F,fe){this._reactName=x,this._targetInst=I,this.type=A,this.nativeEvent=F,this.target=fe,this.currentTarget=null;for(var be in f)f.hasOwnProperty(be)&&(x=f[be],this[be]=x?x(F):F[be]);return this.isDefaultPrevented=(F.defaultPrevented!=null?F.defaultPrevented:F.returnValue===!1)?Ih:Ph,this.isPropagationStopped=Ph,this}return h(y.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=Ih)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=Ih)},persist:function(){},isPersistent:Ih}),y}var uo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nc=Ra(uo),qc=h({},uo,{view:0,detail:0}),kh=Ra(qc),uf,Wc,td,df=h({},qc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ln,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==td&&(td&&f.type==="mousemove"?(uf=f.screenX-td.screenX,Wc=f.screenY-td.screenY):Wc=uf=0,td=f),uf)},movementY:function(f){return"movementY"in f?f.movementY:Wc}}),ic=Ra(df),Yc=h({},df,{dataTransfer:0}),hv=Ra(Yc),pv=h({},qc,{relatedTarget:0}),Jc=Ra(pv),mv=h({},uo,{animationName:0,elapsedTime:0,pseudoElement:0}),W=Ra(mv),ye=h({},uo,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),je=Ra(ye),Pe=h({},uo,{data:0}),Ke=Ra(Pe),yt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},on={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hn(f){var y=this.nativeEvent;return y.getModifierState?y.getModifierState(f):(f=on[f])?!!y[f]:!1}function Ln(){return hn}var zn=h({},qc,{key:function(f){if(f.key){var y=yt[f.key]||f.key;if(y!=="Unidentified")return y}return f.type==="keypress"?(f=Hc(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?Nt[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ln,charCode:function(f){return f.type==="keypress"?Hc(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?Hc(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),Ai=Ra(zn),Er=h({},df,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hr=Ra(Er),Xi=h({},qc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ln}),ma=Ra(Xi),ea=h({},uo,{propertyName:0,elapsedTime:0,pseudoElement:0}),za=Ra(ea),To=h({},df,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),Fs=Ra(To),yv=h({},uo,{newState:0,oldState:0}),$h=Ra(yv),ff=[9,13,27,32],rc=Ba&&"CompositionEvent"in window,gl=null;Ba&&"documentMode"in document&&(gl=document.documentMode);var hf=Ba&&"TextEvent"in window&&!gl,nd=Ba&&(!rc||gl&&8<gl&&11>=gl),Ua=" ",id=!1;function rd(f,y){switch(f){case"keyup":return ff.indexOf(y.keyCode)!==-1;case"keydown":return y.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fh(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var ac=!1;function Lr(f,y){switch(f){case"compositionend":return Fh(y);case"keypress":return y.which!==32?null:(id=!0,Ua);case"textInput":return f=y.data,f===Ua&&id?null:f;default:return null}}function Qc(f,y){if(ac)return f==="compositionend"||!rc&&rd(f,y)?(f=cf(),tc=lf=co=null,ac=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(y.ctrlKey||y.altKey||y.metaKey)||y.ctrlKey&&y.altKey){if(y.char&&1<y.char.length)return y.char;if(y.which)return String.fromCharCode(y.which)}return null;case"compositionend":return nd&&y.locale!=="ko"?null:y.data;default:return null}}var Bh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xm(f){var y=f&&f.nodeName&&f.nodeName.toLowerCase();return y==="input"?!!Bh[f.type]:y==="textarea"}function fo(f,y,x,A){Nn?ed?ed.push(A):ed=[A]:Nn=A,y=nE(y,"onChange"),0<y.length&&(x=new nc("onChange","change",null,x,A),f.push({event:x,listeners:y}))}var vl=null,Xc=null;function Zm(f){mF(f,0)}function Sl(f){var y=rf(f);if(Lo(y))return f}function ad(f,y){if(f==="change")return y}var Bs=!1;if(Ba){var Ns;if(Ba){var sc="oninput"in document;if(!sc){var oc=document.createElement("div");oc.setAttribute("oninput","return;"),sc=typeof oc.oninput=="function"}Ns=sc}else Ns=!1;Bs=Ns&&(!document.documentMode||9<document.documentMode)}function Zc(){vl&&(vl.detachEvent("onpropertychange",zh),Xc=vl=null)}function zh(f){if(f.propertyName==="value"&&Sl(Xc)){var y=[];fo(y,Xc,f,sf(f)),fv(Zm,y)}}function Uh(f,y,x){f==="focusin"?(Zc(),vl=y,Xc=x,vl.attachEvent("onpropertychange",zh)):f==="focusout"&&Zc()}function qr(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return Sl(Xc)}function gv(f,y){if(f==="click")return Sl(y)}function lc(f,y){if(f==="input"||f==="change")return Sl(y)}function cc(f,y){return f===y&&(f!==0||1/f===1/y)||f!==f&&y!==y}var Va=typeof Object.is=="function"?Object.is:cc;function eu(f,y){if(Va(f,y))return!0;if(typeof f!="object"||f===null||typeof y!="object"||y===null)return!1;var x=Object.keys(f),A=Object.keys(y);if(x.length!==A.length)return!1;for(A=0;A<x.length;A++){var I=x[A];if(!ke.call(y,I)||!Va(f[I],y[I]))return!1}return!0}function Vh(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function Kh(f,y){var x=Vh(f);f=0;for(var A;x;){if(x.nodeType===3){if(A=f+x.textContent.length,f<=y&&A>=y)return{node:x,offset:y-f};f=A}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=Vh(x)}}function tu(f,y){return f&&y?f===y?!0:f&&f.nodeType===3?!1:y&&y.nodeType===3?tu(f,y.parentNode):"contains"in f?f.contains(y):f.compareDocumentPosition?!!(f.compareDocumentPosition(y)&16):!1:!1}function nu(f){f=f!=null&&f.ownerDocument!=null&&f.ownerDocument.defaultView!=null?f.ownerDocument.defaultView:window;for(var y=ec(f.document);y instanceof f.HTMLIFrameElement;){try{var x=typeof y.contentWindow.location.href=="string"}catch{x=!1}if(x)f=y.contentWindow;else break;y=ec(f.document)}return y}function uc(f){var y=f&&f.nodeName&&f.nodeName.toLowerCase();return y&&(y==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||y==="textarea"||f.contentEditable==="true")}var pf=Ba&&"documentMode"in document&&11>=document.documentMode,ho=null,iu=null,ls=null,Mo=!1;function Ri(f,y,x){var A=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;Mo||ho==null||ho!==ec(A)||(A=ho,"selectionStart"in A&&uc(A)?A={start:A.selectionStart,end:A.selectionEnd}:(A=(A.ownerDocument&&A.ownerDocument.defaultView||window).getSelection(),A={anchorNode:A.anchorNode,anchorOffset:A.anchorOffset,focusNode:A.focusNode,focusOffset:A.focusOffset}),ls&&eu(ls,A)||(ls=A,A=nE(iu,"onSelect"),0<A.length&&(y=new nc("onSelect","select",null,y,x),f.push({event:y,listeners:A}),y.target=ho)))}function di(f,y){var x={};return x[f.toLowerCase()]=y.toLowerCase(),x["Webkit"+f]="webkit"+y,x["Moz"+f]="moz"+y,x}var Zi={animationend:di("Animation","AnimationEnd"),animationiteration:di("Animation","AnimationIteration"),animationstart:di("Animation","AnimationStart"),transitionrun:di("Transition","TransitionRun"),transitionstart:di("Transition","TransitionStart"),transitioncancel:di("Transition","TransitionCancel"),transitionend:di("Transition","TransitionEnd")},Wr={},dc={};Ba&&(dc=document.createElement("div").style,"AnimationEvent"in window||(delete Zi.animationend.animation,delete Zi.animationiteration.animation,delete Zi.animationstart.animation),"TransitionEvent"in window||delete Zi.transitionend.transition);function bl(f){if(Wr[f])return Wr[f];if(!Zi[f])return f;var y=Zi[f],x;for(x in y)if(y.hasOwnProperty(x)&&x in dc)return Wr[f]=y[x];return f}var mf=bl("animationend"),ey=bl("animationiteration"),mS=bl("animationstart"),Aw=bl("transitionrun"),Rw=bl("transitionstart"),Nw=bl("transitioncancel"),yS=bl("transitionend"),gS=new Map,yf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yf.push("scrollEnd");function Io(f,y){gS.set(f,y),pl(y,[f])}var ty=typeof reportError=="function"?reportError:function(f){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof f=="object"&&f!==null&&typeof f.message=="string"?String(f.message):String(f),error:f});if(!window.dispatchEvent(y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",f);return}console.error(f)},po=[],gf=0,vv=0;function ny(){for(var f=gf,y=vv=gf=0;y<f;){var x=po[y];po[y++]=null;var A=po[y];po[y++]=null;var I=po[y];po[y++]=null;var F=po[y];if(po[y++]=null,A!==null&&I!==null){var fe=A.pending;fe===null?I.next=I:(I.next=fe.next,fe.next=I),A.pending=I}F!==0&&ry(x,I,F)}}function iy(f,y,x,A){po[gf++]=f,po[gf++]=y,po[gf++]=x,po[gf++]=A,vv|=A,f.lanes|=A,f=f.alternate,f!==null&&(f.lanes|=A)}function Sv(f,y,x,A){return iy(f,y,x,A),cs(f)}function ru(f,y){return iy(f,null,null,y),cs(f)}function ry(f,y,x){f.lanes|=x;var A=f.alternate;A!==null&&(A.lanes|=x);for(var I=!1,F=f.return;F!==null;)F.childLanes|=x,A=F.alternate,A!==null&&(A.childLanes|=x),F.tag===22&&(f=F.stateNode,f===null||f._visibility&1||(I=!0)),f=F,F=F.return;return f.tag===3?(F=f.stateNode,I&&y!==null&&(I=31-Ie(x),f=F.hiddenUpdates,A=f[I],A===null?f[I]=[y]:A.push(y),y.lane=x|536870912),F):null}function cs(f){if(50<FS)throw FS=0,T5=null,Error(i(185));for(var y=f.return;y!==null;)f=y,y=f.return;return f.tag===3?f.stateNode:null}var Ka={};function bv(f,y,x,A){this.tag=f,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=y,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function us(f,y,x,A){return new bv(f,y,x,A)}function xv(f){return f=f.prototype,!(!f||!f.isReactComponent)}function Po(f,y){var x=f.alternate;return x===null?(x=us(f.tag,y,f.key,f.mode),x.elementType=f.elementType,x.type=f.type,x.stateNode=f.stateNode,x.alternate=f,f.alternate=x):(x.pendingProps=y,x.type=f.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=f.flags&65011712,x.childLanes=f.childLanes,x.lanes=f.lanes,x.child=f.child,x.memoizedProps=f.memoizedProps,x.memoizedState=f.memoizedState,x.updateQueue=f.updateQueue,y=f.dependencies,x.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext},x.sibling=f.sibling,x.index=f.index,x.ref=f.ref,x.refCleanup=f.refCleanup,x}function ay(f,y){f.flags&=65011714;var x=f.alternate;return x===null?(f.childLanes=0,f.lanes=y,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=x.childLanes,f.lanes=x.lanes,f.child=x.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=x.memoizedProps,f.memoizedState=x.memoizedState,f.updateQueue=x.updateQueue,f.type=x.type,y=x.dependencies,f.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext}),f}function Gh(f,y,x,A,I,F){var fe=0;if(A=f,typeof f=="function")xv(f)&&(fe=1);else if(typeof f=="string")fe=X0e(f,x,Y.current)?26:f==="html"||f==="head"||f==="body"?27:5;else e:switch(f){case P:return f=us(31,x,y,I),f.elementType=P,f.lanes=F,f;case S:return sd(x.children,I,F,y);case b:fe=8,I|=24;break;case w:return f=us(12,x,y,I|2),f.elementType=w,f.lanes=F,f;case N:return f=us(13,x,y,I),f.elementType=N,f.lanes=F,f;case O:return f=us(19,x,y,I),f.elementType=O,f.lanes=F,f;default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case E:fe=10;break e;case R:fe=9;break e;case _:fe=11;break e;case j:fe=14;break e;case D:fe=16,A=null;break e}fe=29,x=Error(i(130,f===null?"null":typeof f,"")),A=null}return y=us(fe,x,y,I),y.elementType=f,y.type=A,y.lanes=F,y}function sd(f,y,x,A){return f=us(7,f,A,y),f.lanes=x,f}function sy(f,y,x){return f=us(6,f,null,y),f.lanes=x,f}function wv(f){var y=us(18,null,null,0);return y.stateNode=f,y}function Hh(f,y,x){return y=us(4,f.children!==null?f.children:[],f.key,y),y.lanes=x,y.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},y}var Ev=new WeakMap;function ko(f,y){if(typeof f=="object"&&f!==null){var x=Ev.get(f);return x!==void 0?x:(y={value:f,source:y,stack:Be(y)},Ev.set(f,y),y)}return{value:f,source:y,stack:Be(y)}}var qh=[],vf=0,_v=null,oy=0,$o=[],Fo=0,od=null,Bo=1,zo="";function mo(f,y){qh[vf++]=oy,qh[vf++]=_v,_v=f,oy=y}function Ow(f,y,x){$o[Fo++]=Bo,$o[Fo++]=zo,$o[Fo++]=od,od=f;var A=Bo;f=zo;var I=32-Ie(A)-1;A&=~(1<<I),x+=1;var F=32-Ie(y)+I;if(30<F){var fe=I-I%5;F=(A&(1<<fe)-1).toString(32),A>>=fe,I-=fe,Bo=1<<32-Ie(y)+I|x<<I|A,zo=F+f}else Bo=1<<F|x<<I|A,zo=f}function vS(f){f.return!==null&&(mo(f,1),Ow(f,1,0))}function Av(f){for(;f===_v;)_v=qh[--vf],qh[vf]=null,oy=qh[--vf],qh[vf]=null;for(;f===od;)od=$o[--Fo],$o[Fo]=null,zo=$o[--Fo],$o[Fo]=null,Bo=$o[--Fo],$o[Fo]=null}function jw(f,y){$o[Fo++]=Bo,$o[Fo++]=zo,$o[Fo++]=od,Bo=y.id,zo=y.overflow,od=f}var Ga=null,lr=null,si=!1,Os=null,Tr=!1,xl=Error(i(519));function ld(f){var y=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wh(ko(y,f)),xl}function SS(f){var y=f.stateNode,x=f.type,A=f.memoizedProps;switch(y[Ki]=f,y[wr]=A,x){case"dialog":li("cancel",y),li("close",y);break;case"iframe":case"object":case"embed":li("load",y);break;case"video":case"audio":for(x=0;x<zS.length;x++)li(zS[x],y);break;case"source":li("error",y);break;case"img":case"image":case"link":li("error",y),li("load",y);break;case"details":li("toggle",y);break;case"input":li("invalid",y),lv(y,A.value,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name,!0);break;case"select":li("invalid",y);break;case"textarea":li("invalid",y),Hm(y,A.value,A.defaultValue,A.children)}x=A.children,typeof x!="string"&&typeof x!="number"&&typeof x!="bigint"||y.textContent===""+x||A.suppressHydrationWarning===!0||SF(y.textContent,x)?(A.popover!=null&&(li("beforetoggle",y),li("toggle",y)),A.onScroll!=null&&li("scroll",y),A.onScrollEnd!=null&&li("scrollend",y),A.onClick!=null&&(y.onclick=yl),y=!0):y=!1,y||ld(f,!0)}function au(f){for(Ga=f.return;Ga;)switch(Ga.tag){case 5:case 31:case 13:Tr=!1;return;case 27:case 3:Tr=!0;return;default:Ga=Ga.return}}function Ha(f){if(f!==Ga)return!1;if(!si)return au(f),si=!0,!1;var y=f.tag,x;if((x=y!==3&&y!==27)&&((x=y===5)&&(x=f.type,x=!(x!=="form"&&x!=="button")||W5(f.type,f.memoizedProps)),x=!x),x&&lr&&ld(f),au(f),y===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));lr=OF(f)}else if(y===31){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));lr=OF(f)}else y===27?(y=lr,lp(f.type)?(f=Z5,Z5=null,lr=f):lr=y):lr=Ga?mc(f.stateNode.nextSibling):null;return!0}function Sf(){lr=Ga=null,si=!1}function bS(){var f=Os;return f!==null&&(qo===null?qo=f:qo.push.apply(qo,f),Os=null),f}function Wh(f){Os===null?Os=[f]:Os.push(f)}var Rv=G(null),cd=null,fc=null;function ud(f,y,x){T(Rv,y._currentValue),y._currentValue=x}function Uo(f){f._currentValue=Rv.current,H(Rv)}function Yh(f,y,x){for(;f!==null;){var A=f.alternate;if((f.childLanes&y)!==y?(f.childLanes|=y,A!==null&&(A.childLanes|=y)):A!==null&&(A.childLanes&y)!==y&&(A.childLanes|=y),f===x)break;f=f.return}}function bf(f,y,x,A){var I=f.child;for(I!==null&&(I.return=f);I!==null;){var F=I.dependencies;if(F!==null){var fe=I.child;F=F.firstContext;e:for(;F!==null;){var be=F;F=I;for(var Me=0;Me<y.length;Me++)if(be.context===y[Me]){F.lanes|=x,be=F.alternate,be!==null&&(be.lanes|=x),Yh(F.return,x,f),A||(fe=null);break e}F=be.next}}else if(I.tag===18){if(fe=I.return,fe===null)throw Error(i(341));fe.lanes|=x,F=fe.alternate,F!==null&&(F.lanes|=x),Yh(fe,x,f),fe=null}else fe=I.child;if(fe!==null)fe.return=I;else for(fe=I;fe!==null;){if(fe===f){fe=null;break}if(I=fe.sibling,I!==null){I.return=fe.return,fe=I;break}fe=fe.return}I=fe}}function dd(f,y,x,A){f=null;for(var I=y,F=!1;I!==null;){if(!F){if((I.flags&524288)!==0)F=!0;else if((I.flags&262144)!==0)break}if(I.tag===10){var fe=I.alternate;if(fe===null)throw Error(i(387));if(fe=fe.memoizedProps,fe!==null){var be=I.type;Va(I.pendingProps.value,fe.value)||(f!==null?f.push(be):f=[be])}}else if(I===J.current){if(fe=I.alternate,fe===null)throw Error(i(387));fe.memoizedState.memoizedState!==I.memoizedState.memoizedState&&(f!==null?f.push(HS):f=[HS])}I=I.return}f!==null&&bf(y,f,x,A),y.flags|=262144}function Nv(f){for(f=f.firstContext;f!==null;){if(!Va(f.context._currentValue,f.memoizedValue))return!0;f=f.next}return!1}function fd(f){cd=f,fc=null,f=f.dependencies,f!==null&&(f.firstContext=null)}function qa(f){return Dw(cd,f)}function Ov(f,y){return cd===null&&fd(f),Dw(f,y)}function Dw(f,y){var x=y._currentValue;if(y={context:y,memoizedValue:x,next:null},fc===null){if(f===null)throw Error(i(308));fc=y,f.dependencies={lanes:0,firstContext:y},f.flags|=524288}else fc=fc.next=y;return x}var Xj=typeof AbortController<"u"?AbortController:function(){var f=[],y=this.signal={aborted:!1,addEventListener:function(x,A){f.push(A)}};this.abort=function(){y.aborted=!0,f.forEach(function(x){return x()})}},Zj=e.unstable_scheduleCallback,e5=e.unstable_NormalPriority,Yr={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jh(){return{controller:new Xj,data:new Map,refCount:0}}function ly(f){f.refCount--,f.refCount===0&&Zj(e5,function(){f.controller.abort()})}var cy=null,jv=0,C=0,k=null;function Z(f,y){if(cy===null){var x=cy=[];jv=0,C=F5(),k={status:"pending",value:void 0,then:function(A){x.push(A)}}}return jv++,y.then(oe,oe),y}function oe(){if(--jv===0&&cy!==null){k!==null&&(k.status="fulfilled");var f=cy;cy=null,C=0,k=null;for(var y=0;y<f.length;y++)(0,f[y])()}}function ge(f,y){var x=[],A={status:"pending",value:null,reason:null,then:function(I){x.push(I)}};return f.then(function(){A.status="fulfilled",A.value=y;for(var I=0;I<x.length;I++)(0,x[I])(y)},function(I){for(A.status="rejected",A.reason=I,I=0;I<x.length;I++)(0,x[I])(void 0)}),A}var ve=q.S;q.S=function(f,y){V$=tt(),typeof y=="object"&&y!==null&&typeof y.then=="function"&&Z(f,y),ve!==null&&ve(f,y)};var Se=G(null);function xe(){var f=Se.current;return f!==null?f:ur.pooledCache}function _e(f,y){y===null?T(Se,Se.current):T(Se,y.pool)}function Ne(){var f=xe();return f===null?null:{parent:Yr._currentValue,pool:f}}var $e=Error(i(460)),Qe=Error(i(474)),Re=Error(i(542)),Ue={then:function(){}};function We(f){return f=f.status,f==="fulfilled"||f==="rejected"}function ft(f,y,x){switch(x=f[x],x===void 0?f.push(y):x!==y&&(y.then(yl,yl),y=x),y.status){case"fulfilled":return y.value;case"rejected":throw f=y.reason,Ct(f),f;default:if(typeof y.status=="string")y.then(yl,yl);else{if(f=ur,f!==null&&100<f.shellSuspendCounter)throw Error(i(482));f=y,f.status="pending",f.then(function(A){if(y.status==="pending"){var I=y;I.status="fulfilled",I.value=A}},function(A){if(y.status==="pending"){var I=y;I.status="rejected",I.reason=A}})}switch(y.status){case"fulfilled":return y.value;case"rejected":throw f=y.reason,Ct(f),f}throw dt=y,$e}}function Ye(f){try{var y=f._init;return y(f._payload)}catch(x){throw x!==null&&typeof x=="object"&&typeof x.then=="function"?(dt=x,$e):x}}var dt=null;function gt(){if(dt===null)throw Error(i(459));var f=dt;return dt=null,f}function Ct(f){if(f===$e||f===Re)throw Error(i(483))}var At=null,un=0;function Qt(f){var y=un;return un+=1,At===null&&(At=[]),ft(At,f,y)}function $n(f,y){y=y.props.ref,f.ref=y!==void 0?y:null}function tn(f,y){throw y.$$typeof===m?Error(i(525)):(f=Object.prototype.toString.call(y),Error(i(31,f==="[object Object]"?"object with keys {"+Object.keys(y).join(", ")+"}":f)))}function ai(f){function y(Ge,Fe){if(f){var Xe=Ge.deletions;Xe===null?(Ge.deletions=[Fe],Ge.flags|=16):Xe.push(Fe)}}function x(Ge,Fe){if(!f)return null;for(;Fe!==null;)y(Ge,Fe),Fe=Fe.sibling;return null}function A(Ge){for(var Fe=new Map;Ge!==null;)Ge.key!==null?Fe.set(Ge.key,Ge):Fe.set(Ge.index,Ge),Ge=Ge.sibling;return Fe}function I(Ge,Fe){return Ge=Po(Ge,Fe),Ge.index=0,Ge.sibling=null,Ge}function F(Ge,Fe,Xe){return Ge.index=Xe,f?(Xe=Ge.alternate,Xe!==null?(Xe=Xe.index,Xe<Fe?(Ge.flags|=67108866,Fe):Xe):(Ge.flags|=67108866,Fe)):(Ge.flags|=1048576,Fe)}function fe(Ge){return f&&Ge.alternate===null&&(Ge.flags|=67108866),Ge}function be(Ge,Fe,Xe,vt){return Fe===null||Fe.tag!==6?(Fe=sy(Xe,Ge.mode,vt),Fe.return=Ge,Fe):(Fe=I(Fe,Xe),Fe.return=Ge,Fe)}function Me(Ge,Fe,Xe,vt){var wn=Xe.type;return wn===S?pt(Ge,Fe,Xe.props.children,vt,Xe.key):Fe!==null&&(Fe.elementType===wn||typeof wn=="object"&&wn!==null&&wn.$$typeof===D&&Ye(wn)===Fe.type)?(Fe=I(Fe,Xe.props),$n(Fe,Xe),Fe.return=Ge,Fe):(Fe=Gh(Xe.type,Xe.key,Xe.props,null,Ge.mode,vt),$n(Fe,Xe),Fe.return=Ge,Fe)}function Ze(Ge,Fe,Xe,vt){return Fe===null||Fe.tag!==4||Fe.stateNode.containerInfo!==Xe.containerInfo||Fe.stateNode.implementation!==Xe.implementation?(Fe=Hh(Xe,Ge.mode,vt),Fe.return=Ge,Fe):(Fe=I(Fe,Xe.children||[]),Fe.return=Ge,Fe)}function pt(Ge,Fe,Xe,vt,wn){return Fe===null||Fe.tag!==7?(Fe=sd(Xe,Ge.mode,vt,wn),Fe.return=Ge,Fe):(Fe=I(Fe,Xe),Fe.return=Ge,Fe)}function _t(Ge,Fe,Xe){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number"||typeof Fe=="bigint")return Fe=sy(""+Fe,Ge.mode,Xe),Fe.return=Ge,Fe;if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case p:return Xe=Gh(Fe.type,Fe.key,Fe.props,null,Ge.mode,Xe),$n(Xe,Fe),Xe.return=Ge,Xe;case v:return Fe=Hh(Fe,Ge.mode,Xe),Fe.return=Ge,Fe;case D:return Fe=Ye(Fe),_t(Ge,Fe,Xe)}if(te(Fe)||z(Fe))return Fe=sd(Fe,Ge.mode,Xe,null),Fe.return=Ge,Fe;if(typeof Fe.then=="function")return _t(Ge,Qt(Fe),Xe);if(Fe.$$typeof===E)return _t(Ge,Ov(Ge,Fe),Xe);tn(Ge,Fe)}return null}function it(Ge,Fe,Xe,vt){var wn=Fe!==null?Fe.key:null;if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number"||typeof Xe=="bigint")return wn!==null?null:be(Ge,Fe,""+Xe,vt);if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case p:return Xe.key===wn?Me(Ge,Fe,Xe,vt):null;case v:return Xe.key===wn?Ze(Ge,Fe,Xe,vt):null;case D:return Xe=Ye(Xe),it(Ge,Fe,Xe,vt)}if(te(Xe)||z(Xe))return wn!==null?null:pt(Ge,Fe,Xe,vt,null);if(typeof Xe.then=="function")return it(Ge,Fe,Qt(Xe),vt);if(Xe.$$typeof===E)return it(Ge,Fe,Ov(Ge,Xe),vt);tn(Ge,Xe)}return null}function ct(Ge,Fe,Xe,vt,wn){if(typeof vt=="string"&&vt!==""||typeof vt=="number"||typeof vt=="bigint")return Ge=Ge.get(Xe)||null,be(Fe,Ge,""+vt,wn);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case p:return Ge=Ge.get(vt.key===null?Xe:vt.key)||null,Me(Fe,Ge,vt,wn);case v:return Ge=Ge.get(vt.key===null?Xe:vt.key)||null,Ze(Fe,Ge,vt,wn);case D:return vt=Ye(vt),ct(Ge,Fe,Xe,vt,wn)}if(te(vt)||z(vt))return Ge=Ge.get(Xe)||null,pt(Fe,Ge,vt,wn,null);if(typeof vt.then=="function")return ct(Ge,Fe,Xe,Qt(vt),wn);if(vt.$$typeof===E)return ct(Ge,Fe,Xe,Ov(Fe,vt),wn);tn(Fe,vt)}return null}function ln(Ge,Fe,Xe,vt){for(var wn=null,Oi=null,pn=Fe,ei=Fe=0,ui=null;pn!==null&&ei<Xe.length;ei++){pn.index>ei?(ui=pn,pn=null):ui=pn.sibling;var ji=it(Ge,pn,Xe[ei],vt);if(ji===null){pn===null&&(pn=ui);break}f&&pn&&ji.alternate===null&&y(Ge,pn),Fe=F(ji,Fe,ei),Oi===null?wn=ji:Oi.sibling=ji,Oi=ji,pn=ui}if(ei===Xe.length)return x(Ge,pn),si&&mo(Ge,ei),wn;if(pn===null){for(;ei<Xe.length;ei++)pn=_t(Ge,Xe[ei],vt),pn!==null&&(Fe=F(pn,Fe,ei),Oi===null?wn=pn:Oi.sibling=pn,Oi=pn);return si&&mo(Ge,ei),wn}for(pn=A(pn);ei<Xe.length;ei++)ui=ct(pn,Ge,ei,Xe[ei],vt),ui!==null&&(f&&ui.alternate!==null&&pn.delete(ui.key===null?ei:ui.key),Fe=F(ui,Fe,ei),Oi===null?wn=ui:Oi.sibling=ui,Oi=ui);return f&&pn.forEach(function(hp){return y(Ge,hp)}),si&&mo(Ge,ei),wn}function Cn(Ge,Fe,Xe,vt){if(Xe==null)throw Error(i(151));for(var wn=null,Oi=null,pn=Fe,ei=Fe=0,ui=null,ji=Xe.next();pn!==null&&!ji.done;ei++,ji=Xe.next()){pn.index>ei?(ui=pn,pn=null):ui=pn.sibling;var hp=it(Ge,pn,ji.value,vt);if(hp===null){pn===null&&(pn=ui);break}f&&pn&&hp.alternate===null&&y(Ge,pn),Fe=F(hp,Fe,ei),Oi===null?wn=hp:Oi.sibling=hp,Oi=hp,pn=ui}if(ji.done)return x(Ge,pn),si&&mo(Ge,ei),wn;if(pn===null){for(;!ji.done;ei++,ji=Xe.next())ji=_t(Ge,ji.value,vt),ji!==null&&(Fe=F(ji,Fe,ei),Oi===null?wn=ji:Oi.sibling=ji,Oi=ji);return si&&mo(Ge,ei),wn}for(pn=A(pn);!ji.done;ei++,ji=Xe.next())ji=ct(pn,Ge,ei,ji.value,vt),ji!==null&&(f&&ji.alternate!==null&&pn.delete(ji.key===null?ei:ji.key),Fe=F(ji,Fe,ei),Oi===null?wn=ji:Oi.sibling=ji,Oi=ji);return f&&pn.forEach(function(c1e){return y(Ge,c1e)}),si&&mo(Ge,ei),wn}function ir(Ge,Fe,Xe,vt){if(typeof Xe=="object"&&Xe!==null&&Xe.type===S&&Xe.key===null&&(Xe=Xe.props.children),typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case p:e:{for(var wn=Xe.key;Fe!==null;){if(Fe.key===wn){if(wn=Xe.type,wn===S){if(Fe.tag===7){x(Ge,Fe.sibling),vt=I(Fe,Xe.props.children),vt.return=Ge,Ge=vt;break e}}else if(Fe.elementType===wn||typeof wn=="object"&&wn!==null&&wn.$$typeof===D&&Ye(wn)===Fe.type){x(Ge,Fe.sibling),vt=I(Fe,Xe.props),$n(vt,Xe),vt.return=Ge,Ge=vt;break e}x(Ge,Fe);break}else y(Ge,Fe);Fe=Fe.sibling}Xe.type===S?(vt=sd(Xe.props.children,Ge.mode,vt,Xe.key),vt.return=Ge,Ge=vt):(vt=Gh(Xe.type,Xe.key,Xe.props,null,Ge.mode,vt),$n(vt,Xe),vt.return=Ge,Ge=vt)}return fe(Ge);case v:e:{for(wn=Xe.key;Fe!==null;){if(Fe.key===wn)if(Fe.tag===4&&Fe.stateNode.containerInfo===Xe.containerInfo&&Fe.stateNode.implementation===Xe.implementation){x(Ge,Fe.sibling),vt=I(Fe,Xe.children||[]),vt.return=Ge,Ge=vt;break e}else{x(Ge,Fe);break}else y(Ge,Fe);Fe=Fe.sibling}vt=Hh(Xe,Ge.mode,vt),vt.return=Ge,Ge=vt}return fe(Ge);case D:return Xe=Ye(Xe),ir(Ge,Fe,Xe,vt)}if(te(Xe))return ln(Ge,Fe,Xe,vt);if(z(Xe)){if(wn=z(Xe),typeof wn!="function")throw Error(i(150));return Xe=wn.call(Xe),Cn(Ge,Fe,Xe,vt)}if(typeof Xe.then=="function")return ir(Ge,Fe,Qt(Xe),vt);if(Xe.$$typeof===E)return ir(Ge,Fe,Ov(Ge,Xe),vt);tn(Ge,Xe)}return typeof Xe=="string"&&Xe!==""||typeof Xe=="number"||typeof Xe=="bigint"?(Xe=""+Xe,Fe!==null&&Fe.tag===6?(x(Ge,Fe.sibling),vt=I(Fe,Xe),vt.return=Ge,Ge=vt):(x(Ge,Fe),vt=sy(Xe,Ge.mode,vt),vt.return=Ge,Ge=vt),fe(Ge)):x(Ge,Fe)}return function(Ge,Fe,Xe,vt){try{un=0;var wn=ir(Ge,Fe,Xe,vt);return At=null,wn}catch(pn){if(pn===$e||pn===Re)throw pn;var Oi=us(29,pn,null,Ge.mode);return Oi.lanes=vt,Oi.return=Ge,Oi}finally{}}}var cr=ai(!0),Wn=ai(!1),Xt=!1;function zt(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _r(f,y){f=f.updateQueue,y.updateQueue===f&&(y.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,callbacks:null})}function On(f){return{lane:f,tag:0,payload:null,callback:null,next:null}}function Xn(f,y,x){var A=f.updateQueue;if(A===null)return null;if(A=A.shared,($i&2)!==0){var I=A.pending;return I===null?y.next=y:(y.next=I.next,I.next=y),A.pending=y,y=cs(f),ry(f,null,x),y}return iy(f,A,y,x),cs(f)}function Pi(f,y,x){if(y=y.updateQueue,y!==null&&(y=y.shared,(x&4194048)!==0)){var A=y.lanes;A&=f.pendingLanes,x|=A,y.lanes=x,Qi(f,x)}}function ya(f,y){var x=f.updateQueue,A=f.alternate;if(A!==null&&(A=A.updateQueue,x===A)){var I=null,F=null;if(x=x.firstBaseUpdate,x!==null){do{var fe={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};F===null?I=F=fe:F=F.next=fe,x=x.next}while(x!==null);F===null?I=F=y:F=F.next=y}else I=F=y;x={baseState:A.baseState,firstBaseUpdate:I,lastBaseUpdate:F,shared:A.shared,callbacks:A.callbacks},f.updateQueue=x;return}f=x.lastBaseUpdate,f===null?x.firstBaseUpdate=y:f.next=y,x.lastBaseUpdate=y}var Wa=!1;function er(){if(Wa){var f=k;if(f!==null)throw f}}function ta(f,y,x,A){Wa=!1;var I=f.updateQueue;Xt=!1;var F=I.firstBaseUpdate,fe=I.lastBaseUpdate,be=I.shared.pending;if(be!==null){I.shared.pending=null;var Me=be,Ze=Me.next;Me.next=null,fe===null?F=Ze:fe.next=Ze,fe=Me;var pt=f.alternate;pt!==null&&(pt=pt.updateQueue,be=pt.lastBaseUpdate,be!==fe&&(be===null?pt.firstBaseUpdate=Ze:be.next=Ze,pt.lastBaseUpdate=Me))}if(F!==null){var _t=I.baseState;fe=0,pt=Ze=Me=null,be=F;do{var it=be.lane&-536870913,ct=it!==be.lane;if(ct?(ci&it)===it:(A&it)===it){it!==0&&it===C&&(Wa=!0),pt!==null&&(pt=pt.next={lane:0,tag:be.tag,payload:be.payload,callback:null,next:null});e:{var ln=f,Cn=be;it=y;var ir=x;switch(Cn.tag){case 1:if(ln=Cn.payload,typeof ln=="function"){_t=ln.call(ir,_t,it);break e}_t=ln;break e;case 3:ln.flags=ln.flags&-65537|128;case 0:if(ln=Cn.payload,it=typeof ln=="function"?ln.call(ir,_t,it):ln,it==null)break e;_t=h({},_t,it);break e;case 2:Xt=!0}}it=be.callback,it!==null&&(f.flags|=64,ct&&(f.flags|=8192),ct=I.callbacks,ct===null?I.callbacks=[it]:ct.push(it))}else ct={lane:it,tag:be.tag,payload:be.payload,callback:be.callback,next:null},pt===null?(Ze=pt=ct,Me=_t):pt=pt.next=ct,fe|=it;if(be=be.next,be===null){if(be=I.shared.pending,be===null)break;ct=be,be=ct.next,ct.next=null,I.lastBaseUpdate=ct,I.shared.pending=null}}while(!0);pt===null&&(Me=_t),I.baseState=Me,I.firstBaseUpdate=Ze,I.lastBaseUpdate=pt,F===null&&(I.shared.lanes=0),ip|=fe,f.lanes=fe,f.memoizedState=_t}}function ds(f,y){if(typeof f!="function")throw Error(i(191,f));f.call(y)}function na(f,y){var x=f.callbacks;if(x!==null)for(f.callbacks=null,f=0;f<x.length;f++)ds(x[f],y)}var ti=G(null),Si=G(0);function Ar(f,y){f=Df,T(Si,f),T(ti,y),Df=f|y.baseLanes}function Ni(){T(Si,Df),T(ti,ti.current)}function ga(){Df=Si.current,H(ti),H(Si)}var Rr=G(null),bi=null;function Jr(f){var y=f.alternate;T(fi,fi.current&1),T(Rr,f),bi===null&&(y===null||ti.current!==null||y.memoizedState!==null)&&(bi=f)}function ki(f){T(fi,fi.current),T(Rr,f),bi===null&&(bi=f)}function ia(f){f.tag===22?(T(fi,fi.current),T(Rr,f),bi===null&&(bi=f)):ra()}function ra(){T(fi,fi.current),T(Rr,Rr.current)}function Gi(f){H(Rr),bi===f&&(bi=null),H(fi)}var fi=G(0);function fs(f){for(var y=f;y!==null;){if(y.tag===13){var x=y.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||Q5(x)||X5(x)))return y}else if(y.tag===19&&(y.memoizedProps.revealOrder==="forwards"||y.memoizedProps.revealOrder==="backwards"||y.memoizedProps.revealOrder==="unstable_legacy-backwards"||y.memoizedProps.revealOrder==="together")){if((y.flags&128)!==0)return y}else if(y.child!==null){y.child.return=y,y=y.child;continue}if(y===f)break;for(;y.sibling===null;){if(y.return===null||y.return===f)return null;y=y.return}y.sibling.return=y.return,y=y.sibling}return null}var Mr=0,bn=null,xn=null,xi=null,zs=!1,Vo=!1,js=!1,aa=0,hd=0,pd=null,Dv=0;function tr(){throw Error(i(321))}function xS(f,y){if(y===null)return!1;for(var x=0;x<y.length&&x<f.length;x++)if(!Va(f[x],y[x]))return!1;return!0}function wS(f,y,x,A,I,F){return Mr=F,bn=y,y.memoizedState=null,y.updateQueue=null,y.lanes=0,q.H=f===null||f.memoizedState===null?e$:l5,js=!1,F=x(A,I),js=!1,Vo&&(F=su(y,x,A,I)),Cv(f),F}function Cv(f){q.H=DS;var y=xn!==null&&xn.next!==null;if(Mr=0,xi=xn=bn=null,zs=!1,hd=0,pd=null,y)throw Error(i(300));f===null||Oa||(f=f.dependencies,f!==null&&Nv(f)&&(Oa=!0))}function su(f,y,x,A){bn=f;var I=0;do{if(Vo&&(pd=null),hd=0,Vo=!1,25<=I)throw Error(i(301));if(I+=1,xi=xn=null,f.updateQueue!=null){var F=f.updateQueue;F.lastEffect=null,F.events=null,F.stores=null,F.memoCache!=null&&(F.memoCache.index=0)}q.H=t$,F=y(x,A)}while(Vo);return F}function t5(){var f=q.H,y=f.useState()[0];return y=typeof y.then=="function"?md(y):y,f=f.useState()[0],(xn!==null?xn.memoizedState:null)!==f&&(bn.flags|=1024),y}function ES(){var f=aa!==0;return aa=0,f}function _S(f,y,x){y.updateQueue=f.updateQueue,y.flags&=-2053,f.lanes&=~x}function Lv(f){if(zs){for(f=f.memoizedState;f!==null;){var y=f.queue;y!==null&&(y.pending=null),f=f.next}zs=!1}Mr=0,xi=xn=bn=null,Vo=!1,hd=aa=0,pd=null}function Na(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xi===null?bn.memoizedState=xi=f:xi=xi.next=f,xi}function Ir(){if(xn===null){var f=bn.alternate;f=f!==null?f.memoizedState:null}else f=xn.next;var y=xi===null?bn.memoizedState:xi.next;if(y!==null)xi=y,xn=f;else{if(f===null)throw bn.alternate===null?Error(i(467)):Error(i(310));xn=f,f={memoizedState:xn.memoizedState,baseState:xn.baseState,baseQueue:xn.baseQueue,queue:xn.queue,next:null},xi===null?bn.memoizedState=xi=f:xi=xi.next=f}return xi}function uy(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function md(f){var y=hd;return hd+=1,pd===null&&(pd=[]),f=ft(pd,f,y),y=bn,(xi===null?y.memoizedState:xi.next)===null&&(y=y.alternate,q.H=y===null||y.memoizedState===null?e$:l5),f}function Qh(f){if(f!==null&&typeof f=="object"){if(typeof f.then=="function")return md(f);if(f.$$typeof===E)return qa(f)}throw Error(i(438,String(f)))}function xf(f){var y=null,x=bn.updateQueue;if(x!==null&&(y=x.memoCache),y==null){var A=bn.alternate;A!==null&&(A=A.updateQueue,A!==null&&(A=A.memoCache,A!=null&&(y={data:A.data.map(function(I){return I.slice()}),index:0})))}if(y==null&&(y={data:[],index:0}),x===null&&(x=uy(),bn.updateQueue=x),x.memoCache=y,x=y.data[y.index],x===void 0)for(x=y.data[y.index]=Array(f),A=0;A<f;A++)x[A]=B;return y.index++,x}function hc(f,y){return typeof y=="function"?y(f):y}function Tv(f){var y=Ir();return Xh(y,xn,f)}function Xh(f,y,x){var A=f.queue;if(A===null)throw Error(i(311));A.lastRenderedReducer=x;var I=f.baseQueue,F=A.pending;if(F!==null){if(I!==null){var fe=I.next;I.next=F.next,F.next=fe}y.baseQueue=I=F,A.pending=null}if(F=f.baseState,I===null)f.memoizedState=F;else{y=I.next;var be=fe=null,Me=null,Ze=y,pt=!1;do{var _t=Ze.lane&-536870913;if(_t!==Ze.lane?(ci&_t)===_t:(Mr&_t)===_t){var it=Ze.revertLane;if(it===0)Me!==null&&(Me=Me.next={lane:0,revertLane:0,gesture:null,action:Ze.action,hasEagerState:Ze.hasEagerState,eagerState:Ze.eagerState,next:null}),_t===C&&(pt=!0);else if((Mr&it)===it){Ze=Ze.next,it===C&&(pt=!0);continue}else _t={lane:0,revertLane:Ze.revertLane,gesture:null,action:Ze.action,hasEagerState:Ze.hasEagerState,eagerState:Ze.eagerState,next:null},Me===null?(be=Me=_t,fe=F):Me=Me.next=_t,bn.lanes|=it,ip|=it;_t=Ze.action,js&&x(F,_t),F=Ze.hasEagerState?Ze.eagerState:x(F,_t)}else it={lane:_t,revertLane:Ze.revertLane,gesture:Ze.gesture,action:Ze.action,hasEagerState:Ze.hasEagerState,eagerState:Ze.eagerState,next:null},Me===null?(be=Me=it,fe=F):Me=Me.next=it,bn.lanes|=_t,ip|=_t;Ze=Ze.next}while(Ze!==null&&Ze!==y);if(Me===null?fe=F:Me.next=be,!Va(F,f.memoizedState)&&(Oa=!0,pt&&(x=k,x!==null)))throw x;f.memoizedState=F,f.baseState=fe,f.baseQueue=Me,A.lastRenderedState=F}return I===null&&(A.lanes=0),[f.memoizedState,A.dispatch]}function Mv(f){var y=Ir(),x=y.queue;if(x===null)throw Error(i(311));x.lastRenderedReducer=f;var A=x.dispatch,I=x.pending,F=y.memoizedState;if(I!==null){x.pending=null;var fe=I=I.next;do F=f(F,fe.action),fe=fe.next;while(fe!==I);Va(F,y.memoizedState)||(Oa=!0),y.memoizedState=F,y.baseQueue===null&&(y.baseState=F),x.lastRenderedState=F}return[F,A]}function Iv(f,y,x){var A=bn,I=Ir(),F=si;if(F){if(x===void 0)throw Error(i(407));x=x()}else x=y();var fe=!Va((xn||I).memoizedState,x);if(fe&&(I.memoizedState=x,Oa=!0),I=I.queue,n5(RS.bind(null,A,I,f),[f]),I.getSnapshot!==y||fe||xi!==null&&xi.memoizedState.tag&1){if(A.flags|=2048,Ef(9,{destroy:void 0},AS.bind(null,A,I,x,y),null),ur===null)throw Error(i(349));F||(Mr&127)!==0||ou(A,y,x)}return x}function ou(f,y,x){f.flags|=16384,f={getSnapshot:y,value:x},y=bn.updateQueue,y===null?(y=uy(),bn.updateQueue=y,y.stores=[f]):(x=y.stores,x===null?y.stores=[f]:x.push(f))}function AS(f,y,x,A){y.value=x,y.getSnapshot=A,Cw(y)&&NS(f)}function RS(f,y,x){return x(function(){Cw(y)&&NS(f)})}function Cw(f){var y=f.getSnapshot;f=f.value;try{var x=y();return!Va(f,x)}catch{return!0}}function NS(f){var y=ru(f,2);y!==null&&Wo(y,f,2)}function yd(f){var y=Na();if(typeof f=="function"){var x=f;if(f=x(),js){Ht(!0);try{x()}finally{Ht(!1)}}}return y.memoizedState=y.baseState=f,y.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hc,lastRenderedState:f},y}function Lw(f,y,x,A){return f.baseState=x,Xh(f,xn,typeof A=="function"?A:hc)}function Tw(f,y,x,A,I){if(kw(f))throw Error(i(485));if(f=y.action,f!==null){var F={payload:I,action:f,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(fe){F.listeners.push(fe)}};q.T!==null?x(!0):F.isTransition=!1,A(F),x=y.pending,x===null?(F.next=y.pending=F,Mw(y,F)):(F.next=x.next,y.pending=x.next=F)}}function Mw(f,y){var x=y.action,A=y.payload,I=f.state;if(y.isTransition){var F=q.T,fe={};q.T=fe;try{var be=x(I,A),Me=q.S;Me!==null&&Me(fe,be),OS(f,y,be)}catch(Ze){wf(f,y,Ze)}finally{F!==null&&fe.types!==null&&(F.types=fe.types),q.T=F}}else try{F=x(I,A),OS(f,y,F)}catch(Ze){wf(f,y,Ze)}}function OS(f,y,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(A){Iw(f,y,A)},function(A){return wf(f,y,A)}):Iw(f,y,x)}function Iw(f,y,x){y.status="fulfilled",y.value=x,Pv(y),f.state=x,y=f.pending,y!==null&&(x=y.next,x===y?f.pending=null:(x=x.next,y.next=x,Mw(f,x)))}function wf(f,y,x){var A=f.pending;if(f.pending=null,A!==null){A=A.next;do y.status="rejected",y.reason=x,Pv(y),y=y.next;while(y!==A)}f.action=null}function Pv(f){f=f.listeners;for(var y=0;y<f.length;y++)(0,f[y])()}function dy(f,y){return y}function pc(f,y){if(si){var x=ur.formState;if(x!==null){e:{var A=bn;if(si){if(lr){t:{for(var I=lr,F=Tr;I.nodeType!==8;){if(!F){I=null;break t}if(I=mc(I.nextSibling),I===null){I=null;break t}}F=I.data,I=F==="F!"||F==="F"?I:null}if(I){lr=mc(I.nextSibling),A=I.data==="F!";break e}}ld(A)}A=!1}A&&(y=x[0])}}return x=Na(),x.memoizedState=x.baseState=y,A={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dy,lastRenderedState:y},x.queue=A,x=Q9.bind(null,bn,A),A.dispatch=x,A=yd(!1),F=o5.bind(null,bn,!1,A.queue),A=Na(),I={state:y,dispatch:null,action:f,pending:null},A.queue=I,x=Tw.bind(null,bn,I,F,x),I.dispatch=x,A.memoizedState=f,[y,x,!1]}function lu(f){var y=Ir();return cu(y,xn,f)}function cu(f,y,x){if(y=Xh(f,y,dy)[0],f=Tv(hc)[0],typeof y=="object"&&y!==null&&typeof y.then=="function")try{var A=md(y)}catch(fe){throw fe===$e?Re:fe}else A=y;y=Ir();var I=y.queue,F=I.dispatch;return x!==y.memoizedState&&(bn.flags|=2048,Ef(9,{destroy:void 0},kv.bind(null,I,x),null)),[A,F,f]}function kv(f,y){f.action=y}function $v(f){var y=Ir(),x=xn;if(x!==null)return cu(y,x,f);Ir(),y=y.memoizedState,x=Ir();var A=x.queue.dispatch;return x.memoizedState=f,[y,A,!1]}function Ef(f,y,x,A){return f={tag:f,create:x,deps:A,inst:y,next:null},y=bn.updateQueue,y===null&&(y=uy(),bn.updateQueue=y),x=y.lastEffect,x===null?y.lastEffect=f.next=f:(A=x.next,x.next=f,f.next=A,y.lastEffect=f),f}function Pw(){return Ir().memoizedState}function Zh(f,y,x,A){var I=Na();bn.flags|=f,I.memoizedState=Ef(1|y,{destroy:void 0},x,A===void 0?null:A)}function ep(f,y,x,A){var I=Ir();A=A===void 0?null:A;var F=I.memoizedState.inst;xn!==null&&A!==null&&xS(A,xn.memoizedState.deps)?I.memoizedState=Ef(y,F,x,A):(bn.flags|=f,I.memoizedState=Ef(1|y,F,x,A))}function k9(f,y){Zh(8390656,8,f,y)}function n5(f,y){ep(2048,8,f,y)}function i0e(f){bn.flags|=4;var y=bn.updateQueue;if(y===null)y=uy(),bn.updateQueue=y,y.events=[f];else{var x=y.events;x===null?y.events=[f]:x.push(f)}}function $9(f){var y=Ir().memoizedState;return i0e({ref:y,nextImpl:f}),function(){if(($i&2)!==0)throw Error(i(440));return y.impl.apply(void 0,arguments)}}function F9(f,y){return ep(4,2,f,y)}function B9(f,y){return ep(4,4,f,y)}function z9(f,y){if(typeof y=="function"){f=f();var x=y(f);return function(){typeof x=="function"?x():y(null)}}if(y!=null)return f=f(),y.current=f,function(){y.current=null}}function U9(f,y,x){x=x!=null?x.concat([f]):null,ep(4,4,z9.bind(null,y,f),x)}function i5(){}function V9(f,y){var x=Ir();y=y===void 0?null:y;var A=x.memoizedState;return y!==null&&xS(y,A[1])?A[0]:(x.memoizedState=[f,y],f)}function K9(f,y){var x=Ir();y=y===void 0?null:y;var A=x.memoizedState;if(y!==null&&xS(y,A[1]))return A[0];if(A=f(),js){Ht(!0);try{f()}finally{Ht(!1)}}return x.memoizedState=[A,y],A}function r5(f,y,x){return x===void 0||(Mr&1073741824)!==0&&(ci&261930)===0?f.memoizedState=y:(f.memoizedState=x,f=G$(),bn.lanes|=f,ip|=f,x)}function G9(f,y,x,A){return Va(x,y)?x:ti.current!==null?(f=r5(f,x,A),Va(f,y)||(Oa=!0),f):(Mr&42)===0||(Mr&1073741824)!==0&&(ci&261930)===0?(Oa=!0,f.memoizedState=x):(f=G$(),bn.lanes|=f,ip|=f,y)}function H9(f,y,x,A,I){var F=V.p;V.p=F!==0&&8>F?F:8;var fe=q.T,be={};q.T=be,o5(f,!1,y,x);try{var Me=I(),Ze=q.S;if(Ze!==null&&Ze(be,Me),Me!==null&&typeof Me=="object"&&typeof Me.then=="function"){var pt=ge(Me,A);jS(f,y,pt,_l(f))}else jS(f,y,A,_l(f))}catch(_t){jS(f,y,{then:function(){},status:"rejected",reason:_t},_l())}finally{V.p=F,fe!==null&&be.types!==null&&(fe.types=be.types),q.T=fe}}function r0e(){}function a5(f,y,x,A){if(f.tag!==5)throw Error(i(476));var I=q9(f).queue;H9(f,I,y,Q,x===null?r0e:function(){return W9(f),x(A)})}function q9(f){var y=f.memoizedState;if(y!==null)return y;y={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hc,lastRenderedState:Q},next:null};var x={};return y.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hc,lastRenderedState:x},next:null},f.memoizedState=y,f=f.alternate,f!==null&&(f.memoizedState=y),y}function W9(f){var y=q9(f);y.next===null&&(y=f.alternate.memoizedState),jS(f,y.next.queue,{},_l())}function s5(){return qa(HS)}function Y9(){return Ir().memoizedState}function J9(){return Ir().memoizedState}function a0e(f){for(var y=f.return;y!==null;){switch(y.tag){case 24:case 3:var x=_l();f=On(x);var A=Xn(y,f,x);A!==null&&(Wo(A,y,x),Pi(A,y,x)),y={cache:Jh()},f.payload=y;return}y=y.return}}function s0e(f,y,x){var A=_l();x={lane:A,revertLane:0,gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},kw(f)?X9(y,x):(x=Sv(f,y,x,A),x!==null&&(Wo(x,f,A),Z9(x,y,A)))}function Q9(f,y,x){var A=_l();jS(f,y,x,A)}function jS(f,y,x,A){var I={lane:A,revertLane:0,gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null};if(kw(f))X9(y,I);else{var F=f.alternate;if(f.lanes===0&&(F===null||F.lanes===0)&&(F=y.lastRenderedReducer,F!==null))try{var fe=y.lastRenderedState,be=F(fe,x);if(I.hasEagerState=!0,I.eagerState=be,Va(be,fe))return iy(f,y,I,0),ur===null&&ny(),!1}catch{}finally{}if(x=Sv(f,y,I,A),x!==null)return Wo(x,f,A),Z9(x,y,A),!0}return!1}function o5(f,y,x,A){if(A={lane:2,revertLane:F5(),gesture:null,action:A,hasEagerState:!1,eagerState:null,next:null},kw(f)){if(y)throw Error(i(479))}else y=Sv(f,x,A,2),y!==null&&Wo(y,f,2)}function kw(f){var y=f.alternate;return f===bn||y!==null&&y===bn}function X9(f,y){Vo=zs=!0;var x=f.pending;x===null?y.next=y:(y.next=x.next,x.next=y),f.pending=y}function Z9(f,y,x){if((x&4194048)!==0){var A=y.lanes;A&=f.pendingLanes,x|=A,y.lanes=x,Qi(f,x)}}var DS={readContext:qa,use:Qh,useCallback:tr,useContext:tr,useEffect:tr,useImperativeHandle:tr,useLayoutEffect:tr,useInsertionEffect:tr,useMemo:tr,useReducer:tr,useRef:tr,useState:tr,useDebugValue:tr,useDeferredValue:tr,useTransition:tr,useSyncExternalStore:tr,useId:tr,useHostTransitionStatus:tr,useFormState:tr,useActionState:tr,useOptimistic:tr,useMemoCache:tr,useCacheRefresh:tr};DS.useEffectEvent=tr;var e$={readContext:qa,use:Qh,useCallback:function(f,y){return Na().memoizedState=[f,y===void 0?null:y],f},useContext:qa,useEffect:k9,useImperativeHandle:function(f,y,x){x=x!=null?x.concat([f]):null,Zh(4194308,4,z9.bind(null,y,f),x)},useLayoutEffect:function(f,y){return Zh(4194308,4,f,y)},useInsertionEffect:function(f,y){Zh(4,2,f,y)},useMemo:function(f,y){var x=Na();y=y===void 0?null:y;var A=f();if(js){Ht(!0);try{f()}finally{Ht(!1)}}return x.memoizedState=[A,y],A},useReducer:function(f,y,x){var A=Na();if(x!==void 0){var I=x(y);if(js){Ht(!0);try{x(y)}finally{Ht(!1)}}}else I=y;return A.memoizedState=A.baseState=I,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:I},A.queue=f,f=f.dispatch=s0e.bind(null,bn,f),[A.memoizedState,f]},useRef:function(f){var y=Na();return f={current:f},y.memoizedState=f},useState:function(f){f=yd(f);var y=f.queue,x=Q9.bind(null,bn,y);return y.dispatch=x,[f.memoizedState,x]},useDebugValue:i5,useDeferredValue:function(f,y){var x=Na();return r5(x,f,y)},useTransition:function(){var f=yd(!1);return f=H9.bind(null,bn,f.queue,!0,!1),Na().memoizedState=f,[!1,f]},useSyncExternalStore:function(f,y,x){var A=bn,I=Na();if(si){if(x===void 0)throw Error(i(407));x=x()}else{if(x=y(),ur===null)throw Error(i(349));(ci&127)!==0||ou(A,y,x)}I.memoizedState=x;var F={value:x,getSnapshot:y};return I.queue=F,k9(RS.bind(null,A,F,f),[f]),A.flags|=2048,Ef(9,{destroy:void 0},AS.bind(null,A,F,x,y),null),x},useId:function(){var f=Na(),y=ur.identifierPrefix;if(si){var x=zo,A=Bo;x=(A&~(1<<32-Ie(A)-1)).toString(32)+x,y="_"+y+"R_"+x,x=aa++,0<x&&(y+="H"+x.toString(32)),y+="_"}else x=Dv++,y="_"+y+"r_"+x.toString(32)+"_";return f.memoizedState=y},useHostTransitionStatus:s5,useFormState:pc,useActionState:pc,useOptimistic:function(f){var y=Na();y.memoizedState=y.baseState=f;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return y.queue=x,y=o5.bind(null,bn,!0,x),x.dispatch=y,[f,y]},useMemoCache:xf,useCacheRefresh:function(){return Na().memoizedState=a0e.bind(null,bn)},useEffectEvent:function(f){var y=Na(),x={impl:f};return y.memoizedState=x,function(){if(($i&2)!==0)throw Error(i(440));return x.impl.apply(void 0,arguments)}}},l5={readContext:qa,use:Qh,useCallback:V9,useContext:qa,useEffect:n5,useImperativeHandle:U9,useInsertionEffect:F9,useLayoutEffect:B9,useMemo:K9,useReducer:Tv,useRef:Pw,useState:function(){return Tv(hc)},useDebugValue:i5,useDeferredValue:function(f,y){var x=Ir();return G9(x,xn.memoizedState,f,y)},useTransition:function(){var f=Tv(hc)[0],y=Ir().memoizedState;return[typeof f=="boolean"?f:md(f),y]},useSyncExternalStore:Iv,useId:Y9,useHostTransitionStatus:s5,useFormState:lu,useActionState:lu,useOptimistic:function(f,y){var x=Ir();return Lw(x,xn,f,y)},useMemoCache:xf,useCacheRefresh:J9};l5.useEffectEvent=$9;var t$={readContext:qa,use:Qh,useCallback:V9,useContext:qa,useEffect:n5,useImperativeHandle:U9,useInsertionEffect:F9,useLayoutEffect:B9,useMemo:K9,useReducer:Mv,useRef:Pw,useState:function(){return Mv(hc)},useDebugValue:i5,useDeferredValue:function(f,y){var x=Ir();return xn===null?r5(x,f,y):G9(x,xn.memoizedState,f,y)},useTransition:function(){var f=Mv(hc)[0],y=Ir().memoizedState;return[typeof f=="boolean"?f:md(f),y]},useSyncExternalStore:Iv,useId:Y9,useHostTransitionStatus:s5,useFormState:$v,useActionState:$v,useOptimistic:function(f,y){var x=Ir();return xn!==null?Lw(x,xn,f,y):(x.baseState=f,[f,x.queue.dispatch])},useMemoCache:xf,useCacheRefresh:J9};t$.useEffectEvent=$9;function c5(f,y,x,A){y=f.memoizedState,x=x(A,y),x=x==null?y:h({},y,x),f.memoizedState=x,f.lanes===0&&(f.updateQueue.baseState=x)}var u5={enqueueSetState:function(f,y,x){f=f._reactInternals;var A=_l(),I=On(A);I.payload=y,x!=null&&(I.callback=x),y=Xn(f,I,A),y!==null&&(Wo(y,f,A),Pi(y,f,A))},enqueueReplaceState:function(f,y,x){f=f._reactInternals;var A=_l(),I=On(A);I.tag=1,I.payload=y,x!=null&&(I.callback=x),y=Xn(f,I,A),y!==null&&(Wo(y,f,A),Pi(y,f,A))},enqueueForceUpdate:function(f,y){f=f._reactInternals;var x=_l(),A=On(x);A.tag=2,y!=null&&(A.callback=y),y=Xn(f,A,x),y!==null&&(Wo(y,f,x),Pi(y,f,x))}};function n$(f,y,x,A,I,F,fe){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(A,F,fe):y.prototype&&y.prototype.isPureReactComponent?!eu(x,A)||!eu(I,F):!0}function i$(f,y,x,A){f=y.state,typeof y.componentWillReceiveProps=="function"&&y.componentWillReceiveProps(x,A),typeof y.UNSAFE_componentWillReceiveProps=="function"&&y.UNSAFE_componentWillReceiveProps(x,A),y.state!==f&&u5.enqueueReplaceState(y,y.state,null)}function fy(f,y){var x=y;if("ref"in y){x={};for(var A in y)A!=="ref"&&(x[A]=y[A])}if(f=f.defaultProps){x===y&&(x=h({},x));for(var I in f)x[I]===void 0&&(x[I]=f[I])}return x}function r$(f){ty(f)}function a$(f){console.error(f)}function s$(f){ty(f)}function $w(f,y){try{var x=f.onUncaughtError;x(y.value,{componentStack:y.stack})}catch(A){setTimeout(function(){throw A})}}function o$(f,y,x){try{var A=f.onCaughtError;A(x.value,{componentStack:x.stack,errorBoundary:y.tag===1?y.stateNode:null})}catch(I){setTimeout(function(){throw I})}}function d5(f,y,x){return x=On(x),x.tag=3,x.payload={element:null},x.callback=function(){$w(f,y)},x}function l$(f){return f=On(f),f.tag=3,f}function c$(f,y,x,A){var I=x.type.getDerivedStateFromError;if(typeof I=="function"){var F=A.value;f.payload=function(){return I(F)},f.callback=function(){o$(y,x,A)}}var fe=x.stateNode;fe!==null&&typeof fe.componentDidCatch=="function"&&(f.callback=function(){o$(y,x,A),typeof I!="function"&&(rp===null?rp=new Set([this]):rp.add(this));var be=A.stack;this.componentDidCatch(A.value,{componentStack:be!==null?be:""})})}function o0e(f,y,x,A,I){if(x.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){if(y=x.alternate,y!==null&&dd(y,x,I,!0),x=Rr.current,x!==null){switch(x.tag){case 31:case 13:return bi===null?Jw():x.alternate===null&&sa===0&&(sa=3),x.flags&=-257,x.flags|=65536,x.lanes=I,A===Ue?x.flags|=16384:(y=x.updateQueue,y===null?x.updateQueue=new Set([A]):y.add(A),P5(f,A,I)),!1;case 22:return x.flags|=65536,A===Ue?x.flags|=16384:(y=x.updateQueue,y===null?(y={transitions:null,markerInstances:null,retryQueue:new Set([A])},x.updateQueue=y):(x=y.retryQueue,x===null?y.retryQueue=new Set([A]):x.add(A)),P5(f,A,I)),!1}throw Error(i(435,x.tag))}return P5(f,A,I),Jw(),!1}if(si)return y=Rr.current,y!==null?((y.flags&65536)===0&&(y.flags|=256),y.flags|=65536,y.lanes=I,A!==xl&&(f=Error(i(422),{cause:A}),Wh(ko(f,x)))):(A!==xl&&(y=Error(i(423),{cause:A}),Wh(ko(y,x))),f=f.current.alternate,f.flags|=65536,I&=-I,f.lanes|=I,A=ko(A,x),I=d5(f.stateNode,A,I),ya(f,I),sa!==4&&(sa=2)),!1;var F=Error(i(520),{cause:A});if(F=ko(F,x),$S===null?$S=[F]:$S.push(F),sa!==4&&(sa=2),y===null)return!0;A=ko(A,x),x=y;do{switch(x.tag){case 3:return x.flags|=65536,f=I&-I,x.lanes|=f,f=d5(x.stateNode,A,f),ya(x,f),!1;case 1:if(y=x.type,F=x.stateNode,(x.flags&128)===0&&(typeof y.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(rp===null||!rp.has(F))))return x.flags|=65536,I&=-I,x.lanes|=I,I=l$(I),c$(I,f,x,A),ya(x,I),!1}x=x.return}while(x!==null);return!1}var f5=Error(i(461)),Oa=!1;function Ds(f,y,x,A){y.child=f===null?Wn(y,null,x,A):cr(y,f.child,x,A)}function u$(f,y,x,A,I){x=x.render;var F=y.ref;if("ref"in A){var fe={};for(var be in A)be!=="ref"&&(fe[be]=A[be])}else fe=A;return fd(y),A=wS(f,y,x,fe,F,I),be=ES(),f!==null&&!Oa?(_S(f,y,I),_f(f,y,I)):(si&&be&&vS(y),y.flags|=1,Ds(f,y,A,I),y.child)}function d$(f,y,x,A,I){if(f===null){var F=x.type;return typeof F=="function"&&!xv(F)&&F.defaultProps===void 0&&x.compare===null?(y.tag=15,y.type=F,f$(f,y,F,A,I)):(f=Gh(x.type,null,A,y,y.mode,I),f.ref=y.ref,f.return=y,y.child=f)}if(F=f.child,!b5(f,I)){var fe=F.memoizedProps;if(x=x.compare,x=x!==null?x:eu,x(fe,A)&&f.ref===y.ref)return _f(f,y,I)}return y.flags|=1,f=Po(F,A),f.ref=y.ref,f.return=y,y.child=f}function f$(f,y,x,A,I){if(f!==null){var F=f.memoizedProps;if(eu(F,A)&&f.ref===y.ref)if(Oa=!1,y.pendingProps=A=F,b5(f,I))(f.flags&131072)!==0&&(Oa=!0);else return y.lanes=f.lanes,_f(f,y,I)}return h5(f,y,x,A,I)}function h$(f,y,x,A){var I=A.children,F=f!==null?f.memoizedState:null;if(f===null&&y.stateNode===null&&(y.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),A.mode==="hidden"){if((y.flags&128)!==0){if(F=F!==null?F.baseLanes|x:x,f!==null){for(A=y.child=f.child,I=0;A!==null;)I=I|A.lanes|A.childLanes,A=A.sibling;A=I&~F}else A=0,y.child=null;return p$(f,y,F,x,A)}if((x&536870912)!==0)y.memoizedState={baseLanes:0,cachePool:null},f!==null&&_e(y,F!==null?F.cachePool:null),F!==null?Ar(y,F):Ni(),ia(y);else return A=y.lanes=536870912,p$(f,y,F!==null?F.baseLanes|x:x,x,A)}else F!==null?(_e(y,F.cachePool),Ar(y,F),ra(),y.memoizedState=null):(f!==null&&_e(y,null),Ni(),ra());return Ds(f,y,I,x),y.child}function CS(f,y){return f!==null&&f.tag===22||y.stateNode!==null||(y.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),y.sibling}function p$(f,y,x,A,I){var F=xe();return F=F===null?null:{parent:Yr._currentValue,pool:F},y.memoizedState={baseLanes:x,cachePool:F},f!==null&&_e(y,null),Ni(),ia(y),f!==null&&dd(f,y,A,!0),y.childLanes=I,null}function Fw(f,y){return y=zw({mode:y.mode,children:y.children},f.mode),y.ref=f.ref,f.child=y,y.return=f,y}function m$(f,y,x){return cr(y,f.child,null,x),f=Fw(y,y.pendingProps),f.flags|=2,Gi(y),y.memoizedState=null,f}function l0e(f,y,x){var A=y.pendingProps,I=(y.flags&128)!==0;if(y.flags&=-129,f===null){if(si){if(A.mode==="hidden")return f=Fw(y,A),y.lanes=536870912,CS(null,f);if(ki(y),(f=lr)?(f=NF(f,Tr),f=f!==null&&f.data==="&"?f:null,f!==null&&(y.memoizedState={dehydrated:f,treeContext:od!==null?{id:Bo,overflow:zo}:null,retryLane:536870912,hydrationErrors:null},x=wv(f),x.return=y,y.child=x,Ga=y,lr=null)):f=null,f===null)throw ld(y);return y.lanes=536870912,null}return Fw(y,A)}var F=f.memoizedState;if(F!==null){var fe=F.dehydrated;if(ki(y),I)if(y.flags&256)y.flags&=-257,y=m$(f,y,x);else if(y.memoizedState!==null)y.child=f.child,y.flags|=128,y=null;else throw Error(i(558));else if(Oa||dd(f,y,x,!1),I=(x&f.childLanes)!==0,Oa||I){if(A=ur,A!==null&&(fe=Mi(A,x),fe!==0&&fe!==F.retryLane))throw F.retryLane=fe,ru(f,fe),Wo(A,f,fe),f5;Jw(),y=m$(f,y,x)}else f=F.treeContext,lr=mc(fe.nextSibling),Ga=y,si=!0,Os=null,Tr=!1,f!==null&&jw(y,f),y=Fw(y,A),y.flags|=4096;return y}return f=Po(f.child,{mode:A.mode,children:A.children}),f.ref=y.ref,y.child=f,f.return=y,f}function Bw(f,y){var x=y.ref;if(x===null)f!==null&&f.ref!==null&&(y.flags|=4194816);else{if(typeof x!="function"&&typeof x!="object")throw Error(i(284));(f===null||f.ref!==x)&&(y.flags|=4194816)}}function h5(f,y,x,A,I){return fd(y),x=wS(f,y,x,A,void 0,I),A=ES(),f!==null&&!Oa?(_S(f,y,I),_f(f,y,I)):(si&&A&&vS(y),y.flags|=1,Ds(f,y,x,I),y.child)}function y$(f,y,x,A,I,F){return fd(y),y.updateQueue=null,x=su(y,A,x,I),Cv(f),A=ES(),f!==null&&!Oa?(_S(f,y,F),_f(f,y,F)):(si&&A&&vS(y),y.flags|=1,Ds(f,y,x,F),y.child)}function g$(f,y,x,A,I){if(fd(y),y.stateNode===null){var F=Ka,fe=x.contextType;typeof fe=="object"&&fe!==null&&(F=qa(fe)),F=new x(A,F),y.memoizedState=F.state!==null&&F.state!==void 0?F.state:null,F.updater=u5,y.stateNode=F,F._reactInternals=y,F=y.stateNode,F.props=A,F.state=y.memoizedState,F.refs={},zt(y),fe=x.contextType,F.context=typeof fe=="object"&&fe!==null?qa(fe):Ka,F.state=y.memoizedState,fe=x.getDerivedStateFromProps,typeof fe=="function"&&(c5(y,x,fe,A),F.state=y.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof F.getSnapshotBeforeUpdate=="function"||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(fe=F.state,typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount(),fe!==F.state&&u5.enqueueReplaceState(F,F.state,null),ta(y,A,F,I),er(),F.state=y.memoizedState),typeof F.componentDidMount=="function"&&(y.flags|=4194308),A=!0}else if(f===null){F=y.stateNode;var be=y.memoizedProps,Me=fy(x,be);F.props=Me;var Ze=F.context,pt=x.contextType;fe=Ka,typeof pt=="object"&&pt!==null&&(fe=qa(pt));var _t=x.getDerivedStateFromProps;pt=typeof _t=="function"||typeof F.getSnapshotBeforeUpdate=="function",be=y.pendingProps!==be,pt||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(be||Ze!==fe)&&i$(y,F,A,fe),Xt=!1;var it=y.memoizedState;F.state=it,ta(y,A,F,I),er(),Ze=y.memoizedState,be||it!==Ze||Xt?(typeof _t=="function"&&(c5(y,x,_t,A),Ze=y.memoizedState),(Me=Xt||n$(y,x,Me,A,it,Ze,fe))?(pt||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(y.flags|=4194308)):(typeof F.componentDidMount=="function"&&(y.flags|=4194308),y.memoizedProps=A,y.memoizedState=Ze),F.props=A,F.state=Ze,F.context=fe,A=Me):(typeof F.componentDidMount=="function"&&(y.flags|=4194308),A=!1)}else{F=y.stateNode,_r(f,y),fe=y.memoizedProps,pt=fy(x,fe),F.props=pt,_t=y.pendingProps,it=F.context,Ze=x.contextType,Me=Ka,typeof Ze=="object"&&Ze!==null&&(Me=qa(Ze)),be=x.getDerivedStateFromProps,(Ze=typeof be=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(fe!==_t||it!==Me)&&i$(y,F,A,Me),Xt=!1,it=y.memoizedState,F.state=it,ta(y,A,F,I),er();var ct=y.memoizedState;fe!==_t||it!==ct||Xt||f!==null&&f.dependencies!==null&&Nv(f.dependencies)?(typeof be=="function"&&(c5(y,x,be,A),ct=y.memoizedState),(pt=Xt||n$(y,x,pt,A,it,ct,Me)||f!==null&&f.dependencies!==null&&Nv(f.dependencies))?(Ze||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(A,ct,Me),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(A,ct,Me)),typeof F.componentDidUpdate=="function"&&(y.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(y.flags|=1024)):(typeof F.componentDidUpdate!="function"||fe===f.memoizedProps&&it===f.memoizedState||(y.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||fe===f.memoizedProps&&it===f.memoizedState||(y.flags|=1024),y.memoizedProps=A,y.memoizedState=ct),F.props=A,F.state=ct,F.context=Me,A=pt):(typeof F.componentDidUpdate!="function"||fe===f.memoizedProps&&it===f.memoizedState||(y.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||fe===f.memoizedProps&&it===f.memoizedState||(y.flags|=1024),A=!1)}return F=A,Bw(f,y),A=(y.flags&128)!==0,F||A?(F=y.stateNode,x=A&&typeof x.getDerivedStateFromError!="function"?null:F.render(),y.flags|=1,f!==null&&A?(y.child=cr(y,f.child,null,I),y.child=cr(y,null,x,I)):Ds(f,y,x,I),y.memoizedState=F.state,f=y.child):f=_f(f,y,I),f}function v$(f,y,x,A){return Sf(),y.flags|=256,Ds(f,y,x,A),y.child}var p5={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function m5(f){return{baseLanes:f,cachePool:Ne()}}function y5(f,y,x){return f=f!==null?f.childLanes&~x:0,y&&(f|=El),f}function S$(f,y,x){var A=y.pendingProps,I=!1,F=(y.flags&128)!==0,fe;if((fe=F)||(fe=f!==null&&f.memoizedState===null?!1:(fi.current&2)!==0),fe&&(I=!0,y.flags&=-129),fe=(y.flags&32)!==0,y.flags&=-33,f===null){if(si){if(I?Jr(y):ra(),(f=lr)?(f=NF(f,Tr),f=f!==null&&f.data!=="&"?f:null,f!==null&&(y.memoizedState={dehydrated:f,treeContext:od!==null?{id:Bo,overflow:zo}:null,retryLane:536870912,hydrationErrors:null},x=wv(f),x.return=y,y.child=x,Ga=y,lr=null)):f=null,f===null)throw ld(y);return X5(f)?y.lanes=32:y.lanes=536870912,null}var be=A.children;return A=A.fallback,I?(ra(),I=y.mode,be=zw({mode:"hidden",children:be},I),A=sd(A,I,x,null),be.return=y,A.return=y,be.sibling=A,y.child=be,A=y.child,A.memoizedState=m5(x),A.childLanes=y5(f,fe,x),y.memoizedState=p5,CS(null,A)):(Jr(y),g5(y,be))}var Me=f.memoizedState;if(Me!==null&&(be=Me.dehydrated,be!==null)){if(F)y.flags&256?(Jr(y),y.flags&=-257,y=v5(f,y,x)):y.memoizedState!==null?(ra(),y.child=f.child,y.flags|=128,y=null):(ra(),be=A.fallback,I=y.mode,A=zw({mode:"visible",children:A.children},I),be=sd(be,I,x,null),be.flags|=2,A.return=y,be.return=y,A.sibling=be,y.child=A,cr(y,f.child,null,x),A=y.child,A.memoizedState=m5(x),A.childLanes=y5(f,fe,x),y.memoizedState=p5,y=CS(null,A));else if(Jr(y),X5(be)){if(fe=be.nextSibling&&be.nextSibling.dataset,fe)var Ze=fe.dgst;fe=Ze,A=Error(i(419)),A.stack="",A.digest=fe,Wh({value:A,source:null,stack:null}),y=v5(f,y,x)}else if(Oa||dd(f,y,x,!1),fe=(x&f.childLanes)!==0,Oa||fe){if(fe=ur,fe!==null&&(A=Mi(fe,x),A!==0&&A!==Me.retryLane))throw Me.retryLane=A,ru(f,A),Wo(fe,f,A),f5;Q5(be)||Jw(),y=v5(f,y,x)}else Q5(be)?(y.flags|=192,y.child=f.child,y=null):(f=Me.treeContext,lr=mc(be.nextSibling),Ga=y,si=!0,Os=null,Tr=!1,f!==null&&jw(y,f),y=g5(y,A.children),y.flags|=4096);return y}return I?(ra(),be=A.fallback,I=y.mode,Me=f.child,Ze=Me.sibling,A=Po(Me,{mode:"hidden",children:A.children}),A.subtreeFlags=Me.subtreeFlags&65011712,Ze!==null?be=Po(Ze,be):(be=sd(be,I,x,null),be.flags|=2),be.return=y,A.return=y,A.sibling=be,y.child=A,CS(null,A),A=y.child,be=f.child.memoizedState,be===null?be=m5(x):(I=be.cachePool,I!==null?(Me=Yr._currentValue,I=I.parent!==Me?{parent:Me,pool:Me}:I):I=Ne(),be={baseLanes:be.baseLanes|x,cachePool:I}),A.memoizedState=be,A.childLanes=y5(f,fe,x),y.memoizedState=p5,CS(f.child,A)):(Jr(y),x=f.child,f=x.sibling,x=Po(x,{mode:"visible",children:A.children}),x.return=y,x.sibling=null,f!==null&&(fe=y.deletions,fe===null?(y.deletions=[f],y.flags|=16):fe.push(f)),y.child=x,y.memoizedState=null,x)}function g5(f,y){return y=zw({mode:"visible",children:y},f.mode),y.return=f,f.child=y}function zw(f,y){return f=us(22,f,null,y),f.lanes=0,f}function v5(f,y,x){return cr(y,f.child,null,x),f=g5(y,y.pendingProps.children),f.flags|=2,y.memoizedState=null,f}function b$(f,y,x){f.lanes|=y;var A=f.alternate;A!==null&&(A.lanes|=y),Yh(f.return,y,x)}function S5(f,y,x,A,I,F){var fe=f.memoizedState;fe===null?f.memoizedState={isBackwards:y,rendering:null,renderingStartTime:0,last:A,tail:x,tailMode:I,treeForkCount:F}:(fe.isBackwards=y,fe.rendering=null,fe.renderingStartTime=0,fe.last=A,fe.tail=x,fe.tailMode=I,fe.treeForkCount=F)}function x$(f,y,x){var A=y.pendingProps,I=A.revealOrder,F=A.tail;A=A.children;var fe=fi.current,be=(fe&2)!==0;if(be?(fe=fe&1|2,y.flags|=128):fe&=1,T(fi,fe),Ds(f,y,A,x),A=si?oy:0,!be&&f!==null&&(f.flags&128)!==0)e:for(f=y.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&b$(f,x,y);else if(f.tag===19)b$(f,x,y);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===y)break e;for(;f.sibling===null;){if(f.return===null||f.return===y)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}switch(I){case"forwards":for(x=y.child,I=null;x!==null;)f=x.alternate,f!==null&&fs(f)===null&&(I=x),x=x.sibling;x=I,x===null?(I=y.child,y.child=null):(I=x.sibling,x.sibling=null),S5(y,!1,I,x,F,A);break;case"backwards":case"unstable_legacy-backwards":for(x=null,I=y.child,y.child=null;I!==null;){if(f=I.alternate,f!==null&&fs(f)===null){y.child=I;break}f=I.sibling,I.sibling=x,x=I,I=f}S5(y,!0,x,null,F,A);break;case"together":S5(y,!1,null,null,void 0,A);break;default:y.memoizedState=null}return y.child}function _f(f,y,x){if(f!==null&&(y.dependencies=f.dependencies),ip|=y.lanes,(x&y.childLanes)===0)if(f!==null){if(dd(f,y,x,!1),(x&y.childLanes)===0)return null}else return null;if(f!==null&&y.child!==f.child)throw Error(i(153));if(y.child!==null){for(f=y.child,x=Po(f,f.pendingProps),y.child=x,x.return=y;f.sibling!==null;)f=f.sibling,x=x.sibling=Po(f,f.pendingProps),x.return=y;x.sibling=null}return y.child}function b5(f,y){return(f.lanes&y)!==0?!0:(f=f.dependencies,!!(f!==null&&Nv(f)))}function c0e(f,y,x){switch(y.tag){case 3:ee(y,y.stateNode.containerInfo),ud(y,Yr,f.memoizedState.cache),Sf();break;case 27:case 5:de(y);break;case 4:ee(y,y.stateNode.containerInfo);break;case 10:ud(y,y.type,y.memoizedProps.value);break;case 31:if(y.memoizedState!==null)return y.flags|=128,ki(y),null;break;case 13:var A=y.memoizedState;if(A!==null)return A.dehydrated!==null?(Jr(y),y.flags|=128,null):(x&y.child.childLanes)!==0?S$(f,y,x):(Jr(y),f=_f(f,y,x),f!==null?f.sibling:null);Jr(y);break;case 19:var I=(f.flags&128)!==0;if(A=(x&y.childLanes)!==0,A||(dd(f,y,x,!1),A=(x&y.childLanes)!==0),I){if(A)return x$(f,y,x);y.flags|=128}if(I=y.memoizedState,I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),T(fi,fi.current),A)break;return null;case 22:return y.lanes=0,h$(f,y,x,y.pendingProps);case 24:ud(y,Yr,f.memoizedState.cache)}return _f(f,y,x)}function w$(f,y,x){if(f!==null)if(f.memoizedProps!==y.pendingProps)Oa=!0;else{if(!b5(f,x)&&(y.flags&128)===0)return Oa=!1,c0e(f,y,x);Oa=(f.flags&131072)!==0}else Oa=!1,si&&(y.flags&1048576)!==0&&Ow(y,oy,y.index);switch(y.lanes=0,y.tag){case 16:e:{var A=y.pendingProps;if(f=Ye(y.elementType),y.type=f,typeof f=="function")xv(f)?(A=fy(f,A),y.tag=1,y=g$(null,y,f,A,x)):(y.tag=0,y=h5(null,y,f,A,x));else{if(f!=null){var I=f.$$typeof;if(I===_){y.tag=11,y=u$(null,y,f,A,x);break e}else if(I===j){y.tag=14,y=d$(null,y,f,A,x);break e}}throw y=K(f)||f,Error(i(306,y,""))}}return y;case 0:return h5(f,y,y.type,y.pendingProps,x);case 1:return A=y.type,I=fy(A,y.pendingProps),g$(f,y,A,I,x);case 3:e:{if(ee(y,y.stateNode.containerInfo),f===null)throw Error(i(387));A=y.pendingProps;var F=y.memoizedState;I=F.element,_r(f,y),ta(y,A,null,x);var fe=y.memoizedState;if(A=fe.cache,ud(y,Yr,A),A!==F.cache&&bf(y,[Yr],x,!0),er(),A=fe.element,F.isDehydrated)if(F={element:A,isDehydrated:!1,cache:fe.cache},y.updateQueue.baseState=F,y.memoizedState=F,y.flags&256){y=v$(f,y,A,x);break e}else if(A!==I){I=ko(Error(i(424)),y),Wh(I),y=v$(f,y,A,x);break e}else{switch(f=y.stateNode.containerInfo,f.nodeType){case 9:f=f.body;break;default:f=f.nodeName==="HTML"?f.ownerDocument.body:f}for(lr=mc(f.firstChild),Ga=y,si=!0,Os=null,Tr=!0,x=Wn(y,null,A,x),y.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling}else{if(Sf(),A===I){y=_f(f,y,x);break e}Ds(f,y,A,x)}y=y.child}return y;case 26:return Bw(f,y),f===null?(x=TF(y.type,null,y.pendingProps,null))?y.memoizedState=x:si||(x=y.type,f=y.pendingProps,A=iE(ne.current).createElement(x),A[Ki]=y,A[wr]=f,Cs(A,x,f),Kr(A),y.stateNode=A):y.memoizedState=TF(y.type,f.memoizedProps,y.pendingProps,f.memoizedState),null;case 27:return de(y),f===null&&si&&(A=y.stateNode=DF(y.type,y.pendingProps,ne.current),Ga=y,Tr=!0,I=lr,lp(y.type)?(Z5=I,lr=mc(A.firstChild)):lr=I),Ds(f,y,y.pendingProps.children,x),Bw(f,y),f===null&&(y.flags|=4194304),y.child;case 5:return f===null&&si&&((I=A=lr)&&(A=F0e(A,y.type,y.pendingProps,Tr),A!==null?(y.stateNode=A,Ga=y,lr=mc(A.firstChild),Tr=!1,I=!0):I=!1),I||ld(y)),de(y),I=y.type,F=y.pendingProps,fe=f!==null?f.memoizedProps:null,A=F.children,W5(I,F)?A=null:fe!==null&&W5(I,fe)&&(y.flags|=32),y.memoizedState!==null&&(I=wS(f,y,t5,null,null,x),HS._currentValue=I),Bw(f,y),Ds(f,y,A,x),y.child;case 6:return f===null&&si&&((f=x=lr)&&(x=B0e(x,y.pendingProps,Tr),x!==null?(y.stateNode=x,Ga=y,lr=null,f=!0):f=!1),f||ld(y)),null;case 13:return S$(f,y,x);case 4:return ee(y,y.stateNode.containerInfo),A=y.pendingProps,f===null?y.child=cr(y,null,A,x):Ds(f,y,A,x),y.child;case 11:return u$(f,y,y.type,y.pendingProps,x);case 7:return Ds(f,y,y.pendingProps,x),y.child;case 8:return Ds(f,y,y.pendingProps.children,x),y.child;case 12:return Ds(f,y,y.pendingProps.children,x),y.child;case 10:return A=y.pendingProps,ud(y,y.type,A.value),Ds(f,y,A.children,x),y.child;case 9:return I=y.type._context,A=y.pendingProps.children,fd(y),I=qa(I),A=A(I),y.flags|=1,Ds(f,y,A,x),y.child;case 14:return d$(f,y,y.type,y.pendingProps,x);case 15:return f$(f,y,y.type,y.pendingProps,x);case 19:return x$(f,y,x);case 31:return l0e(f,y,x);case 22:return h$(f,y,x,y.pendingProps);case 24:return fd(y),A=qa(Yr),f===null?(I=xe(),I===null&&(I=ur,F=Jh(),I.pooledCache=F,F.refCount++,F!==null&&(I.pooledCacheLanes|=x),I=F),y.memoizedState={parent:A,cache:I},zt(y),ud(y,Yr,I)):((f.lanes&x)!==0&&(_r(f,y),ta(y,null,null,x),er()),I=f.memoizedState,F=y.memoizedState,I.parent!==A?(I={parent:A,cache:A},y.memoizedState=I,y.lanes===0&&(y.memoizedState=y.updateQueue.baseState=I),ud(y,Yr,A)):(A=F.cache,ud(y,Yr,A),A!==I.cache&&bf(y,[Yr],x,!0))),Ds(f,y,y.pendingProps.children,x),y.child;case 29:throw y.pendingProps}throw Error(i(156,y.tag))}function Af(f){f.flags|=4}function x5(f,y,x,A,I){if((y=(f.mode&32)!==0)&&(y=!1),y){if(f.flags|=16777216,(I&335544128)===I)if(f.stateNode.complete)f.flags|=8192;else if(Y$())f.flags|=8192;else throw dt=Ue,Qe}else f.flags&=-16777217}function E$(f,y){if(y.type!=="stylesheet"||(y.state.loading&4)!==0)f.flags&=-16777217;else if(f.flags|=16777216,!$F(y))if(Y$())f.flags|=8192;else throw dt=Ue,Qe}function Uw(f,y){y!==null&&(f.flags|=4),f.flags&16384&&(y=f.tag!==22?Wt():536870912,f.lanes|=y,Uv|=y)}function LS(f,y){if(!si)switch(f.tailMode){case"hidden":y=f.tail;for(var x=null;y!==null;)y.alternate!==null&&(x=y),y=y.sibling;x===null?f.tail=null:x.sibling=null;break;case"collapsed":x=f.tail;for(var A=null;x!==null;)x.alternate!==null&&(A=x),x=x.sibling;A===null?y||f.tail===null?f.tail=null:f.tail.sibling=null:A.sibling=null}}function Nr(f){var y=f.alternate!==null&&f.alternate.child===f.child,x=0,A=0;if(y)for(var I=f.child;I!==null;)x|=I.lanes|I.childLanes,A|=I.subtreeFlags&65011712,A|=I.flags&65011712,I.return=f,I=I.sibling;else for(I=f.child;I!==null;)x|=I.lanes|I.childLanes,A|=I.subtreeFlags,A|=I.flags,I.return=f,I=I.sibling;return f.subtreeFlags|=A,f.childLanes=x,y}function u0e(f,y,x){var A=y.pendingProps;switch(Av(y),y.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nr(y),null;case 1:return Nr(y),null;case 3:return x=y.stateNode,A=null,f!==null&&(A=f.memoizedState.cache),y.memoizedState.cache!==A&&(y.flags|=2048),Uo(Yr),se(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(f===null||f.child===null)&&(Ha(y)?Af(y):f===null||f.memoizedState.isDehydrated&&(y.flags&256)===0||(y.flags|=1024,bS())),Nr(y),null;case 26:var I=y.type,F=y.memoizedState;return f===null?(Af(y),F!==null?(Nr(y),E$(y,F)):(Nr(y),x5(y,I,null,A,x))):F?F!==f.memoizedState?(Af(y),Nr(y),E$(y,F)):(Nr(y),y.flags&=-16777217):(f=f.memoizedProps,f!==A&&Af(y),Nr(y),x5(y,I,f,A,x)),null;case 27:if(he(y),x=ne.current,I=y.type,f!==null&&y.stateNode!=null)f.memoizedProps!==A&&Af(y);else{if(!A){if(y.stateNode===null)throw Error(i(166));return Nr(y),null}f=Y.current,Ha(y)?SS(y):(f=DF(I,A,x),y.stateNode=f,Af(y))}return Nr(y),null;case 5:if(he(y),I=y.type,f!==null&&y.stateNode!=null)f.memoizedProps!==A&&Af(y);else{if(!A){if(y.stateNode===null)throw Error(i(166));return Nr(y),null}if(F=Y.current,Ha(y))SS(y);else{var fe=iE(ne.current);switch(F){case 1:F=fe.createElementNS("http://www.w3.org/2000/svg",I);break;case 2:F=fe.createElementNS("http://www.w3.org/1998/Math/MathML",I);break;default:switch(I){case"svg":F=fe.createElementNS("http://www.w3.org/2000/svg",I);break;case"math":F=fe.createElementNS("http://www.w3.org/1998/Math/MathML",I);break;case"script":F=fe.createElement("div"),F.innerHTML="<script><\/script>",F=F.removeChild(F.firstChild);break;case"select":F=typeof A.is=="string"?fe.createElement("select",{is:A.is}):fe.createElement("select"),A.multiple?F.multiple=!0:A.size&&(F.size=A.size);break;default:F=typeof A.is=="string"?fe.createElement(I,{is:A.is}):fe.createElement(I)}}F[Ki]=y,F[wr]=A;e:for(fe=y.child;fe!==null;){if(fe.tag===5||fe.tag===6)F.appendChild(fe.stateNode);else if(fe.tag!==4&&fe.tag!==27&&fe.child!==null){fe.child.return=fe,fe=fe.child;continue}if(fe===y)break e;for(;fe.sibling===null;){if(fe.return===null||fe.return===y)break e;fe=fe.return}fe.sibling.return=fe.return,fe=fe.sibling}y.stateNode=F;e:switch(Cs(F,I,A),I){case"button":case"input":case"select":case"textarea":A=!!A.autoFocus;break e;case"img":A=!0;break e;default:A=!1}A&&Af(y)}}return Nr(y),x5(y,y.type,f===null?null:f.memoizedProps,y.pendingProps,x),null;case 6:if(f&&y.stateNode!=null)f.memoizedProps!==A&&Af(y);else{if(typeof A!="string"&&y.stateNode===null)throw Error(i(166));if(f=ne.current,Ha(y)){if(f=y.stateNode,x=y.memoizedProps,A=null,I=Ga,I!==null)switch(I.tag){case 27:case 5:A=I.memoizedProps}f[Ki]=y,f=!!(f.nodeValue===x||A!==null&&A.suppressHydrationWarning===!0||SF(f.nodeValue,x)),f||ld(y,!0)}else f=iE(f).createTextNode(A),f[Ki]=y,y.stateNode=f}return Nr(y),null;case 31:if(x=y.memoizedState,f===null||f.memoizedState!==null){if(A=Ha(y),x!==null){if(f===null){if(!A)throw Error(i(318));if(f=y.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(557));f[Ki]=y}else Sf(),(y.flags&128)===0&&(y.memoizedState=null),y.flags|=4;Nr(y),f=!1}else x=bS(),f!==null&&f.memoizedState!==null&&(f.memoizedState.hydrationErrors=x),f=!0;if(!f)return y.flags&256?(Gi(y),y):(Gi(y),null);if((y.flags&128)!==0)throw Error(i(558))}return Nr(y),null;case 13:if(A=y.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(I=Ha(y),A!==null&&A.dehydrated!==null){if(f===null){if(!I)throw Error(i(318));if(I=y.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(i(317));I[Ki]=y}else Sf(),(y.flags&128)===0&&(y.memoizedState=null),y.flags|=4;Nr(y),I=!1}else I=bS(),f!==null&&f.memoizedState!==null&&(f.memoizedState.hydrationErrors=I),I=!0;if(!I)return y.flags&256?(Gi(y),y):(Gi(y),null)}return Gi(y),(y.flags&128)!==0?(y.lanes=x,y):(x=A!==null,f=f!==null&&f.memoizedState!==null,x&&(A=y.child,I=null,A.alternate!==null&&A.alternate.memoizedState!==null&&A.alternate.memoizedState.cachePool!==null&&(I=A.alternate.memoizedState.cachePool.pool),F=null,A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(F=A.memoizedState.cachePool.pool),F!==I&&(A.flags|=2048)),x!==f&&x&&(y.child.flags|=8192),Uw(y,y.updateQueue),Nr(y),null);case 4:return se(),f===null&&V5(y.stateNode.containerInfo),Nr(y),null;case 10:return Uo(y.type),Nr(y),null;case 19:if(H(fi),A=y.memoizedState,A===null)return Nr(y),null;if(I=(y.flags&128)!==0,F=A.rendering,F===null)if(I)LS(A,!1);else{if(sa!==0||f!==null&&(f.flags&128)!==0)for(f=y.child;f!==null;){if(F=fs(f),F!==null){for(y.flags|=128,LS(A,!1),f=F.updateQueue,y.updateQueue=f,Uw(y,f),y.subtreeFlags=0,f=x,x=y.child;x!==null;)ay(x,f),x=x.sibling;return T(fi,fi.current&1|2),si&&mo(y,A.treeForkCount),y.child}f=f.sibling}A.tail!==null&&tt()>qw&&(y.flags|=128,I=!0,LS(A,!1),y.lanes=4194304)}else{if(!I)if(f=fs(F),f!==null){if(y.flags|=128,I=!0,f=f.updateQueue,y.updateQueue=f,Uw(y,f),LS(A,!0),A.tail===null&&A.tailMode==="hidden"&&!F.alternate&&!si)return Nr(y),null}else 2*tt()-A.renderingStartTime>qw&&x!==536870912&&(y.flags|=128,I=!0,LS(A,!1),y.lanes=4194304);A.isBackwards?(F.sibling=y.child,y.child=F):(f=A.last,f!==null?f.sibling=F:y.child=F,A.last=F)}return A.tail!==null?(f=A.tail,A.rendering=f,A.tail=f.sibling,A.renderingStartTime=tt(),f.sibling=null,x=fi.current,T(fi,I?x&1|2:x&1),si&&mo(y,A.treeForkCount),f):(Nr(y),null);case 22:case 23:return Gi(y),ga(),A=y.memoizedState!==null,f!==null?f.memoizedState!==null!==A&&(y.flags|=8192):A&&(y.flags|=8192),A?(x&536870912)!==0&&(y.flags&128)===0&&(Nr(y),y.subtreeFlags&6&&(y.flags|=8192)):Nr(y),x=y.updateQueue,x!==null&&Uw(y,x.retryQueue),x=null,f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(x=f.memoizedState.cachePool.pool),A=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(A=y.memoizedState.cachePool.pool),A!==x&&(y.flags|=2048),f!==null&&H(Se),null;case 24:return x=null,f!==null&&(x=f.memoizedState.cache),y.memoizedState.cache!==x&&(y.flags|=2048),Uo(Yr),Nr(y),null;case 25:return null;case 30:return null}throw Error(i(156,y.tag))}function d0e(f,y){switch(Av(y),y.tag){case 1:return f=y.flags,f&65536?(y.flags=f&-65537|128,y):null;case 3:return Uo(Yr),se(),f=y.flags,(f&65536)!==0&&(f&128)===0?(y.flags=f&-65537|128,y):null;case 26:case 27:case 5:return he(y),null;case 31:if(y.memoizedState!==null){if(Gi(y),y.alternate===null)throw Error(i(340));Sf()}return f=y.flags,f&65536?(y.flags=f&-65537|128,y):null;case 13:if(Gi(y),f=y.memoizedState,f!==null&&f.dehydrated!==null){if(y.alternate===null)throw Error(i(340));Sf()}return f=y.flags,f&65536?(y.flags=f&-65537|128,y):null;case 19:return H(fi),null;case 4:return se(),null;case 10:return Uo(y.type),null;case 22:case 23:return Gi(y),ga(),f!==null&&H(Se),f=y.flags,f&65536?(y.flags=f&-65537|128,y):null;case 24:return Uo(Yr),null;case 25:return null;default:return null}}function _$(f,y){switch(Av(y),y.tag){case 3:Uo(Yr),se();break;case 26:case 27:case 5:he(y);break;case 4:se();break;case 31:y.memoizedState!==null&&Gi(y);break;case 13:Gi(y);break;case 19:H(fi);break;case 10:Uo(y.type);break;case 22:case 23:Gi(y),ga(),f!==null&&H(Se);break;case 24:Uo(Yr)}}function TS(f,y){try{var x=y.updateQueue,A=x!==null?x.lastEffect:null;if(A!==null){var I=A.next;x=I;do{if((x.tag&f)===f){A=void 0;var F=x.create,fe=x.inst;A=F(),fe.destroy=A}x=x.next}while(x!==I)}}catch(be){qi(y,y.return,be)}}function tp(f,y,x){try{var A=y.updateQueue,I=A!==null?A.lastEffect:null;if(I!==null){var F=I.next;A=F;do{if((A.tag&f)===f){var fe=A.inst,be=fe.destroy;if(be!==void 0){fe.destroy=void 0,I=y;var Me=x,Ze=be;try{Ze()}catch(pt){qi(I,Me,pt)}}}A=A.next}while(A!==F)}}catch(pt){qi(y,y.return,pt)}}function A$(f){var y=f.updateQueue;if(y!==null){var x=f.stateNode;try{na(y,x)}catch(A){qi(f,f.return,A)}}}function R$(f,y,x){x.props=fy(f.type,f.memoizedProps),x.state=f.memoizedState;try{x.componentWillUnmount()}catch(A){qi(f,y,A)}}function MS(f,y){try{var x=f.ref;if(x!==null){switch(f.tag){case 26:case 27:case 5:var A=f.stateNode;break;case 30:A=f.stateNode;break;default:A=f.stateNode}typeof x=="function"?f.refCleanup=x(A):x.current=A}}catch(I){qi(f,y,I)}}function gd(f,y){var x=f.ref,A=f.refCleanup;if(x!==null)if(typeof A=="function")try{A()}catch(I){qi(f,y,I)}finally{f.refCleanup=null,f=f.alternate,f!=null&&(f.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(I){qi(f,y,I)}else x.current=null}function N$(f){var y=f.type,x=f.memoizedProps,A=f.stateNode;try{e:switch(y){case"button":case"input":case"select":case"textarea":x.autoFocus&&A.focus();break e;case"img":x.src?A.src=x.src:x.srcSet&&(A.srcset=x.srcSet)}}catch(I){qi(f,f.return,I)}}function w5(f,y,x){try{var A=f.stateNode;T0e(A,f.type,x,y),A[wr]=y}catch(I){qi(f,f.return,I)}}function O$(f){return f.tag===5||f.tag===3||f.tag===26||f.tag===27&&lp(f.type)||f.tag===4}function E5(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||O$(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.tag===27&&lp(f.type)||f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function _5(f,y,x){var A=f.tag;if(A===5||A===6)f=f.stateNode,y?(x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x).insertBefore(f,y):(y=x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x,y.appendChild(f),x=x._reactRootContainer,x!=null||y.onclick!==null||(y.onclick=yl));else if(A!==4&&(A===27&&lp(f.type)&&(x=f.stateNode,y=null),f=f.child,f!==null))for(_5(f,y,x),f=f.sibling;f!==null;)_5(f,y,x),f=f.sibling}function Vw(f,y,x){var A=f.tag;if(A===5||A===6)f=f.stateNode,y?x.insertBefore(f,y):x.appendChild(f);else if(A!==4&&(A===27&&lp(f.type)&&(x=f.stateNode),f=f.child,f!==null))for(Vw(f,y,x),f=f.sibling;f!==null;)Vw(f,y,x),f=f.sibling}function j$(f){var y=f.stateNode,x=f.memoizedProps;try{for(var A=f.type,I=y.attributes;I.length;)y.removeAttributeNode(I[0]);Cs(y,A,x),y[Ki]=f,y[wr]=x}catch(F){qi(f,f.return,F)}}var Rf=!1,ja=!1,A5=!1,D$=typeof WeakSet=="function"?WeakSet:Set,hs=null;function f0e(f,y){if(f=f.containerInfo,H5=uE,f=nu(f),uc(f)){if("selectionStart"in f)var x={start:f.selectionStart,end:f.selectionEnd};else e:{x=(x=f.ownerDocument)&&x.defaultView||window;var A=x.getSelection&&x.getSelection();if(A&&A.rangeCount!==0){x=A.anchorNode;var I=A.anchorOffset,F=A.focusNode;A=A.focusOffset;try{x.nodeType,F.nodeType}catch{x=null;break e}var fe=0,be=-1,Me=-1,Ze=0,pt=0,_t=f,it=null;t:for(;;){for(var ct;_t!==x||I!==0&&_t.nodeType!==3||(be=fe+I),_t!==F||A!==0&&_t.nodeType!==3||(Me=fe+A),_t.nodeType===3&&(fe+=_t.nodeValue.length),(ct=_t.firstChild)!==null;)it=_t,_t=ct;for(;;){if(_t===f)break t;if(it===x&&++Ze===I&&(be=fe),it===F&&++pt===A&&(Me=fe),(ct=_t.nextSibling)!==null)break;_t=it,it=_t.parentNode}_t=ct}x=be===-1||Me===-1?null:{start:be,end:Me}}else x=null}x=x||{start:0,end:0}}else x=null;for(q5={focusedElem:f,selectionRange:x},uE=!1,hs=y;hs!==null;)if(y=hs,f=y.child,(y.subtreeFlags&1028)!==0&&f!==null)f.return=y,hs=f;else for(;hs!==null;){switch(y=hs,F=y.alternate,f=y.flags,y.tag){case 0:if((f&4)!==0&&(f=y.updateQueue,f=f!==null?f.events:null,f!==null))for(x=0;x<f.length;x++)I=f[x],I.ref.impl=I.nextImpl;break;case 11:case 15:break;case 1:if((f&1024)!==0&&F!==null){f=void 0,x=y,I=F.memoizedProps,F=F.memoizedState,A=x.stateNode;try{var ln=fy(x.type,I);f=A.getSnapshotBeforeUpdate(ln,F),A.__reactInternalSnapshotBeforeUpdate=f}catch(Cn){qi(x,x.return,Cn)}}break;case 3:if((f&1024)!==0){if(f=y.stateNode.containerInfo,x=f.nodeType,x===9)J5(f);else if(x===1)switch(f.nodeName){case"HEAD":case"HTML":case"BODY":J5(f);break;default:f.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((f&1024)!==0)throw Error(i(163))}if(f=y.sibling,f!==null){f.return=y.return,hs=f;break}hs=y.return}}function C$(f,y,x){var A=x.flags;switch(x.tag){case 0:case 11:case 15:Of(f,x),A&4&&TS(5,x);break;case 1:if(Of(f,x),A&4)if(f=x.stateNode,y===null)try{f.componentDidMount()}catch(fe){qi(x,x.return,fe)}else{var I=fy(x.type,y.memoizedProps);y=y.memoizedState;try{f.componentDidUpdate(I,y,f.__reactInternalSnapshotBeforeUpdate)}catch(fe){qi(x,x.return,fe)}}A&64&&A$(x),A&512&&MS(x,x.return);break;case 3:if(Of(f,x),A&64&&(f=x.updateQueue,f!==null)){if(y=null,x.child!==null)switch(x.child.tag){case 27:case 5:y=x.child.stateNode;break;case 1:y=x.child.stateNode}try{na(f,y)}catch(fe){qi(x,x.return,fe)}}break;case 27:y===null&&A&4&&j$(x);case 26:case 5:Of(f,x),y===null&&A&4&&N$(x),A&512&&MS(x,x.return);break;case 12:Of(f,x);break;case 31:Of(f,x),A&4&&M$(f,x);break;case 13:Of(f,x),A&4&&I$(f,x),A&64&&(f=x.memoizedState,f!==null&&(f=f.dehydrated,f!==null&&(x=x0e.bind(null,x),z0e(f,x))));break;case 22:if(A=x.memoizedState!==null||Rf,!A){y=y!==null&&y.memoizedState!==null||ja,I=Rf;var F=ja;Rf=A,(ja=y)&&!F?jf(f,x,(x.subtreeFlags&8772)!==0):Of(f,x),Rf=I,ja=F}break;case 30:break;default:Of(f,x)}}function L$(f){var y=f.alternate;y!==null&&(f.alternate=null,L$(y)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(y=f.stateNode,y!==null&&Zu(y)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}var Pr=null,Ko=!1;function Nf(f,y,x){for(x=x.child;x!==null;)T$(f,y,x),x=x.sibling}function T$(f,y,x){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount($t,x)}catch{}switch(x.tag){case 26:ja||gd(x,y),Nf(f,y,x),x.memoizedState?x.memoizedState.count--:x.stateNode&&(x=x.stateNode,x.parentNode.removeChild(x));break;case 27:ja||gd(x,y);var A=Pr,I=Ko;lp(x.type)&&(Pr=x.stateNode,Ko=!1),Nf(f,y,x),VS(x.stateNode),Pr=A,Ko=I;break;case 5:ja||gd(x,y);case 6:if(A=Pr,I=Ko,Pr=null,Nf(f,y,x),Pr=A,Ko=I,Pr!==null)if(Ko)try{(Pr.nodeType===9?Pr.body:Pr.nodeName==="HTML"?Pr.ownerDocument.body:Pr).removeChild(x.stateNode)}catch(F){qi(x,y,F)}else try{Pr.removeChild(x.stateNode)}catch(F){qi(x,y,F)}break;case 18:Pr!==null&&(Ko?(f=Pr,AF(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,x.stateNode),Jv(f)):AF(Pr,x.stateNode));break;case 4:A=Pr,I=Ko,Pr=x.stateNode.containerInfo,Ko=!0,Nf(f,y,x),Pr=A,Ko=I;break;case 0:case 11:case 14:case 15:tp(2,x,y),ja||tp(4,x,y),Nf(f,y,x);break;case 1:ja||(gd(x,y),A=x.stateNode,typeof A.componentWillUnmount=="function"&&R$(x,y,A)),Nf(f,y,x);break;case 21:Nf(f,y,x);break;case 22:ja=(A=ja)||x.memoizedState!==null,Nf(f,y,x),ja=A;break;default:Nf(f,y,x)}}function M$(f,y){if(y.memoizedState===null&&(f=y.alternate,f!==null&&(f=f.memoizedState,f!==null))){f=f.dehydrated;try{Jv(f)}catch(x){qi(y,y.return,x)}}}function I$(f,y){if(y.memoizedState===null&&(f=y.alternate,f!==null&&(f=f.memoizedState,f!==null&&(f=f.dehydrated,f!==null))))try{Jv(f)}catch(x){qi(y,y.return,x)}}function h0e(f){switch(f.tag){case 31:case 13:case 19:var y=f.stateNode;return y===null&&(y=f.stateNode=new D$),y;case 22:return f=f.stateNode,y=f._retryCache,y===null&&(y=f._retryCache=new D$),y;default:throw Error(i(435,f.tag))}}function Kw(f,y){var x=h0e(f);y.forEach(function(A){if(!x.has(A)){x.add(A);var I=w0e.bind(null,f,A);A.then(I,I)}})}function Go(f,y){var x=y.deletions;if(x!==null)for(var A=0;A<x.length;A++){var I=x[A],F=f,fe=y,be=fe;e:for(;be!==null;){switch(be.tag){case 27:if(lp(be.type)){Pr=be.stateNode,Ko=!1;break e}break;case 5:Pr=be.stateNode,Ko=!1;break e;case 3:case 4:Pr=be.stateNode.containerInfo,Ko=!0;break e}be=be.return}if(Pr===null)throw Error(i(160));T$(F,fe,I),Pr=null,Ko=!1,F=I.alternate,F!==null&&(F.return=null),I.return=null}if(y.subtreeFlags&13886)for(y=y.child;y!==null;)P$(y,f),y=y.sibling}var uu=null;function P$(f,y){var x=f.alternate,A=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:Go(y,f),Ho(f),A&4&&(tp(3,f,f.return),TS(3,f),tp(5,f,f.return));break;case 1:Go(y,f),Ho(f),A&512&&(ja||x===null||gd(x,x.return)),A&64&&Rf&&(f=f.updateQueue,f!==null&&(A=f.callbacks,A!==null&&(x=f.shared.hiddenCallbacks,f.shared.hiddenCallbacks=x===null?A:x.concat(A))));break;case 26:var I=uu;if(Go(y,f),Ho(f),A&512&&(ja||x===null||gd(x,x.return)),A&4){var F=x!==null?x.memoizedState:null;if(A=f.memoizedState,x===null)if(A===null)if(f.stateNode===null){e:{A=f.type,x=f.memoizedProps,I=I.ownerDocument||I;t:switch(A){case"title":F=I.getElementsByTagName("title")[0],(!F||F[dl]||F[Ki]||F.namespaceURI==="http://www.w3.org/2000/svg"||F.hasAttribute("itemprop"))&&(F=I.createElement(A),I.head.insertBefore(F,I.querySelector("head > title"))),Cs(F,A,x),F[Ki]=f,Kr(F),A=F;break e;case"link":var fe=PF("link","href",I).get(A+(x.href||""));if(fe){for(var be=0;be<fe.length;be++)if(F=fe[be],F.getAttribute("href")===(x.href==null||x.href===""?null:x.href)&&F.getAttribute("rel")===(x.rel==null?null:x.rel)&&F.getAttribute("title")===(x.title==null?null:x.title)&&F.getAttribute("crossorigin")===(x.crossOrigin==null?null:x.crossOrigin)){fe.splice(be,1);break t}}F=I.createElement(A),Cs(F,A,x),I.head.appendChild(F);break;case"meta":if(fe=PF("meta","content",I).get(A+(x.content||""))){for(be=0;be<fe.length;be++)if(F=fe[be],F.getAttribute("content")===(x.content==null?null:""+x.content)&&F.getAttribute("name")===(x.name==null?null:x.name)&&F.getAttribute("property")===(x.property==null?null:x.property)&&F.getAttribute("http-equiv")===(x.httpEquiv==null?null:x.httpEquiv)&&F.getAttribute("charset")===(x.charSet==null?null:x.charSet)){fe.splice(be,1);break t}}F=I.createElement(A),Cs(F,A,x),I.head.appendChild(F);break;default:throw Error(i(468,A))}F[Ki]=f,Kr(F),A=F}f.stateNode=A}else kF(I,f.type,f.stateNode);else f.stateNode=IF(I,A,f.memoizedProps);else F!==A?(F===null?x.stateNode!==null&&(x=x.stateNode,x.parentNode.removeChild(x)):F.count--,A===null?kF(I,f.type,f.stateNode):IF(I,A,f.memoizedProps)):A===null&&f.stateNode!==null&&w5(f,f.memoizedProps,x.memoizedProps)}break;case 27:Go(y,f),Ho(f),A&512&&(ja||x===null||gd(x,x.return)),x!==null&&A&4&&w5(f,f.memoizedProps,x.memoizedProps);break;case 5:if(Go(y,f),Ho(f),A&512&&(ja||x===null||gd(x,x.return)),f.flags&32){I=f.stateNode;try{oo(I,"")}catch(ln){qi(f,f.return,ln)}}A&4&&f.stateNode!=null&&(I=f.memoizedProps,w5(f,I,x!==null?x.memoizedProps:I)),A&1024&&(A5=!0);break;case 6:if(Go(y,f),Ho(f),A&4){if(f.stateNode===null)throw Error(i(162));A=f.memoizedProps,x=f.stateNode;try{x.nodeValue=A}catch(ln){qi(f,f.return,ln)}}break;case 3:if(sE=null,I=uu,uu=rE(y.containerInfo),Go(y,f),uu=I,Ho(f),A&4&&x!==null&&x.memoizedState.isDehydrated)try{Jv(y.containerInfo)}catch(ln){qi(f,f.return,ln)}A5&&(A5=!1,k$(f));break;case 4:A=uu,uu=rE(f.stateNode.containerInfo),Go(y,f),Ho(f),uu=A;break;case 12:Go(y,f),Ho(f);break;case 31:Go(y,f),Ho(f),A&4&&(A=f.updateQueue,A!==null&&(f.updateQueue=null,Kw(f,A)));break;case 13:Go(y,f),Ho(f),f.child.flags&8192&&f.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(Hw=tt()),A&4&&(A=f.updateQueue,A!==null&&(f.updateQueue=null,Kw(f,A)));break;case 22:I=f.memoizedState!==null;var Me=x!==null&&x.memoizedState!==null,Ze=Rf,pt=ja;if(Rf=Ze||I,ja=pt||Me,Go(y,f),ja=pt,Rf=Ze,Ho(f),A&8192)e:for(y=f.stateNode,y._visibility=I?y._visibility&-2:y._visibility|1,I&&(x===null||Me||Rf||ja||hy(f)),x=null,y=f;;){if(y.tag===5||y.tag===26){if(x===null){Me=x=y;try{if(F=Me.stateNode,I)fe=F.style,typeof fe.setProperty=="function"?fe.setProperty("display","none","important"):fe.display="none";else{be=Me.stateNode;var _t=Me.memoizedProps.style,it=_t!=null&&_t.hasOwnProperty("display")?_t.display:null;be.style.display=it==null||typeof it=="boolean"?"":(""+it).trim()}}catch(ln){qi(Me,Me.return,ln)}}}else if(y.tag===6){if(x===null){Me=y;try{Me.stateNode.nodeValue=I?"":Me.memoizedProps}catch(ln){qi(Me,Me.return,ln)}}}else if(y.tag===18){if(x===null){Me=y;try{var ct=Me.stateNode;I?RF(ct,!0):RF(Me.stateNode,!1)}catch(ln){qi(Me,Me.return,ln)}}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===f)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===f)break e;for(;y.sibling===null;){if(y.return===null||y.return===f)break e;x===y&&(x=null),y=y.return}x===y&&(x=null),y.sibling.return=y.return,y=y.sibling}A&4&&(A=f.updateQueue,A!==null&&(x=A.retryQueue,x!==null&&(A.retryQueue=null,Kw(f,x))));break;case 19:Go(y,f),Ho(f),A&4&&(A=f.updateQueue,A!==null&&(f.updateQueue=null,Kw(f,A)));break;case 30:break;case 21:break;default:Go(y,f),Ho(f)}}function Ho(f){var y=f.flags;if(y&2){try{for(var x,A=f.return;A!==null;){if(O$(A)){x=A;break}A=A.return}if(x==null)throw Error(i(160));switch(x.tag){case 27:var I=x.stateNode,F=E5(f);Vw(f,F,I);break;case 5:var fe=x.stateNode;x.flags&32&&(oo(fe,""),x.flags&=-33);var be=E5(f);Vw(f,be,fe);break;case 3:case 4:var Me=x.stateNode.containerInfo,Ze=E5(f);_5(f,Ze,Me);break;default:throw Error(i(161))}}catch(pt){qi(f,f.return,pt)}f.flags&=-3}y&4096&&(f.flags&=-4097)}function k$(f){if(f.subtreeFlags&1024)for(f=f.child;f!==null;){var y=f;k$(y),y.tag===5&&y.flags&1024&&y.stateNode.reset(),f=f.sibling}}function Of(f,y){if(y.subtreeFlags&8772)for(y=y.child;y!==null;)C$(f,y.alternate,y),y=y.sibling}function hy(f){for(f=f.child;f!==null;){var y=f;switch(y.tag){case 0:case 11:case 14:case 15:tp(4,y,y.return),hy(y);break;case 1:gd(y,y.return);var x=y.stateNode;typeof x.componentWillUnmount=="function"&&R$(y,y.return,x),hy(y);break;case 27:VS(y.stateNode);case 26:case 5:gd(y,y.return),hy(y);break;case 22:y.memoizedState===null&&hy(y);break;case 30:hy(y);break;default:hy(y)}f=f.sibling}}function jf(f,y,x){for(x=x&&(y.subtreeFlags&8772)!==0,y=y.child;y!==null;){var A=y.alternate,I=f,F=y,fe=F.flags;switch(F.tag){case 0:case 11:case 15:jf(I,F,x),TS(4,F);break;case 1:if(jf(I,F,x),A=F,I=A.stateNode,typeof I.componentDidMount=="function")try{I.componentDidMount()}catch(Ze){qi(A,A.return,Ze)}if(A=F,I=A.updateQueue,I!==null){var be=A.stateNode;try{var Me=I.shared.hiddenCallbacks;if(Me!==null)for(I.shared.hiddenCallbacks=null,I=0;I<Me.length;I++)ds(Me[I],be)}catch(Ze){qi(A,A.return,Ze)}}x&&fe&64&&A$(F),MS(F,F.return);break;case 27:j$(F);case 26:case 5:jf(I,F,x),x&&A===null&&fe&4&&N$(F),MS(F,F.return);break;case 12:jf(I,F,x);break;case 31:jf(I,F,x),x&&fe&4&&M$(I,F);break;case 13:jf(I,F,x),x&&fe&4&&I$(I,F);break;case 22:F.memoizedState===null&&jf(I,F,x),MS(F,F.return);break;case 30:break;default:jf(I,F,x)}y=y.sibling}}function R5(f,y){var x=null;f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(x=f.memoizedState.cachePool.pool),f=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(f=y.memoizedState.cachePool.pool),f!==x&&(f!=null&&f.refCount++,x!=null&&ly(x))}function N5(f,y){f=null,y.alternate!==null&&(f=y.alternate.memoizedState.cache),y=y.memoizedState.cache,y!==f&&(y.refCount++,f!=null&&ly(f))}function du(f,y,x,A){if(y.subtreeFlags&10256)for(y=y.child;y!==null;)$$(f,y,x,A),y=y.sibling}function $$(f,y,x,A){var I=y.flags;switch(y.tag){case 0:case 11:case 15:du(f,y,x,A),I&2048&&TS(9,y);break;case 1:du(f,y,x,A);break;case 3:du(f,y,x,A),I&2048&&(f=null,y.alternate!==null&&(f=y.alternate.memoizedState.cache),y=y.memoizedState.cache,y!==f&&(y.refCount++,f!=null&&ly(f)));break;case 12:if(I&2048){du(f,y,x,A),f=y.stateNode;try{var F=y.memoizedProps,fe=F.id,be=F.onPostCommit;typeof be=="function"&&be(fe,y.alternate===null?"mount":"update",f.passiveEffectDuration,-0)}catch(Me){qi(y,y.return,Me)}}else du(f,y,x,A);break;case 31:du(f,y,x,A);break;case 13:du(f,y,x,A);break;case 23:break;case 22:F=y.stateNode,fe=y.alternate,y.memoizedState!==null?F._visibility&2?du(f,y,x,A):IS(f,y):F._visibility&2?du(f,y,x,A):(F._visibility|=2,Fv(f,y,x,A,(y.subtreeFlags&10256)!==0||!1)),I&2048&&R5(fe,y);break;case 24:du(f,y,x,A),I&2048&&N5(y.alternate,y);break;default:du(f,y,x,A)}}function Fv(f,y,x,A,I){for(I=I&&((y.subtreeFlags&10256)!==0||!1),y=y.child;y!==null;){var F=f,fe=y,be=x,Me=A,Ze=fe.flags;switch(fe.tag){case 0:case 11:case 15:Fv(F,fe,be,Me,I),TS(8,fe);break;case 23:break;case 22:var pt=fe.stateNode;fe.memoizedState!==null?pt._visibility&2?Fv(F,fe,be,Me,I):IS(F,fe):(pt._visibility|=2,Fv(F,fe,be,Me,I)),I&&Ze&2048&&R5(fe.alternate,fe);break;case 24:Fv(F,fe,be,Me,I),I&&Ze&2048&&N5(fe.alternate,fe);break;default:Fv(F,fe,be,Me,I)}y=y.sibling}}function IS(f,y){if(y.subtreeFlags&10256)for(y=y.child;y!==null;){var x=f,A=y,I=A.flags;switch(A.tag){case 22:IS(x,A),I&2048&&R5(A.alternate,A);break;case 24:IS(x,A),I&2048&&N5(A.alternate,A);break;default:IS(x,A)}y=y.sibling}}var PS=8192;function Bv(f,y,x){if(f.subtreeFlags&PS)for(f=f.child;f!==null;)F$(f,y,x),f=f.sibling}function F$(f,y,x){switch(f.tag){case 26:Bv(f,y,x),f.flags&PS&&f.memoizedState!==null&&Z0e(x,uu,f.memoizedState,f.memoizedProps);break;case 5:Bv(f,y,x);break;case 3:case 4:var A=uu;uu=rE(f.stateNode.containerInfo),Bv(f,y,x),uu=A;break;case 22:f.memoizedState===null&&(A=f.alternate,A!==null&&A.memoizedState!==null?(A=PS,PS=16777216,Bv(f,y,x),PS=A):Bv(f,y,x));break;default:Bv(f,y,x)}}function B$(f){var y=f.alternate;if(y!==null&&(f=y.child,f!==null)){y.child=null;do y=f.sibling,f.sibling=null,f=y;while(f!==null)}}function kS(f){var y=f.deletions;if((f.flags&16)!==0){if(y!==null)for(var x=0;x<y.length;x++){var A=y[x];hs=A,U$(A,f)}B$(f)}if(f.subtreeFlags&10256)for(f=f.child;f!==null;)z$(f),f=f.sibling}function z$(f){switch(f.tag){case 0:case 11:case 15:kS(f),f.flags&2048&&tp(9,f,f.return);break;case 3:kS(f);break;case 12:kS(f);break;case 22:var y=f.stateNode;f.memoizedState!==null&&y._visibility&2&&(f.return===null||f.return.tag!==13)?(y._visibility&=-3,Gw(f)):kS(f);break;default:kS(f)}}function Gw(f){var y=f.deletions;if((f.flags&16)!==0){if(y!==null)for(var x=0;x<y.length;x++){var A=y[x];hs=A,U$(A,f)}B$(f)}for(f=f.child;f!==null;){switch(y=f,y.tag){case 0:case 11:case 15:tp(8,y,y.return),Gw(y);break;case 22:x=y.stateNode,x._visibility&2&&(x._visibility&=-3,Gw(y));break;default:Gw(y)}f=f.sibling}}function U$(f,y){for(;hs!==null;){var x=hs;switch(x.tag){case 0:case 11:case 15:tp(8,x,y);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var A=x.memoizedState.cachePool.pool;A!=null&&A.refCount++}break;case 24:ly(x.memoizedState.cache)}if(A=x.child,A!==null)A.return=x,hs=A;else e:for(x=f;hs!==null;){A=hs;var I=A.sibling,F=A.return;if(L$(A),A===x){hs=null;break e}if(I!==null){I.return=F,hs=I;break e}hs=F}}}var p0e={getCacheForType:function(f){var y=qa(Yr),x=y.data.get(f);return x===void 0&&(x=f(),y.data.set(f,x)),x},cacheSignal:function(){return qa(Yr).controller.signal}},m0e=typeof WeakMap=="function"?WeakMap:Map,$i=0,ur=null,oi=null,ci=0,Hi=0,wl=null,np=!1,zv=!1,O5=!1,Df=0,sa=0,ip=0,py=0,j5=0,El=0,Uv=0,$S=null,qo=null,D5=!1,Hw=0,V$=0,qw=1/0,Ww=null,rp=null,Ya=0,ap=null,Vv=null,Cf=0,C5=0,L5=null,K$=null,FS=0,T5=null;function _l(){return($i&2)!==0&&ci!==0?ci&-ci:q.T!==null?F5():Vr()}function G$(){if(El===0)if((ci&536870912)===0||si){var f=Rn;Rn<<=1,(Rn&3932160)===0&&(Rn=262144),El=f}else El=536870912;return f=Rr.current,f!==null&&(f.flags|=32),El}function Wo(f,y,x){(f===ur&&(Hi===2||Hi===9)||f.cancelPendingCommit!==null)&&(Kv(f,0),sp(f,ci,El,!1)),Vt(f,x),(($i&2)===0||f!==ur)&&(f===ur&&(($i&2)===0&&(py|=x),sa===4&&sp(f,ci,El,!1)),vd(f))}function H$(f,y,x){if(($i&6)!==0)throw Error(i(327));var A=!x&&(y&127)===0&&(y&f.expiredLanes)===0||Ft(f,y),I=A?v0e(f,y):I5(f,y,!0),F=A;do{if(I===0){zv&&!A&&sp(f,y,0,!1);break}else{if(x=f.current.alternate,F&&!y0e(x)){I=I5(f,y,!1),F=!1;continue}if(I===2){if(F=y,f.errorRecoveryDisabledLanes&F)var fe=0;else fe=f.pendingLanes&-536870913,fe=fe!==0?fe:fe&536870912?536870912:0;if(fe!==0){y=fe;e:{var be=f;I=$S;var Me=be.current.memoizedState.isDehydrated;if(Me&&(Kv(be,fe).flags|=256),fe=I5(be,fe,!1),fe!==2){if(O5&&!Me){be.errorRecoveryDisabledLanes|=F,py|=F,I=4;break e}F=qo,qo=I,F!==null&&(qo===null?qo=F:qo.push.apply(qo,F))}I=fe}if(F=!1,I!==2)continue}}if(I===1){Kv(f,0),sp(f,y,0,!0);break}e:{switch(A=f,F=I,F){case 0:case 1:throw Error(i(345));case 4:if((y&4194048)!==y)break;case 6:sp(A,y,El,!np);break e;case 2:qo=null;break;case 3:case 5:break;default:throw Error(i(329))}if((y&62914560)===y&&(I=Hw+300-tt(),10<I)){if(sp(A,y,El,!np),ut(A,0,!0)!==0)break e;Cf=y,A.timeoutHandle=EF(q$.bind(null,A,x,qo,Ww,D5,y,El,py,Uv,np,F,"Throttled",-0,0),I);break e}q$(A,x,qo,Ww,D5,y,El,py,Uv,np,F,null,-0,0)}}break}while(!0);vd(f)}function q$(f,y,x,A,I,F,fe,be,Me,Ze,pt,_t,it,ct){if(f.timeoutHandle=-1,_t=y.subtreeFlags,_t&8192||(_t&16785408)===16785408){_t={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:yl},F$(y,F,_t);var ln=(F&62914560)===F?Hw-tt():(F&4194048)===F?V$-tt():0;if(ln=e1e(_t,ln),ln!==null){Cf=F,f.cancelPendingCommit=ln(tF.bind(null,f,y,F,x,A,I,fe,be,Me,pt,_t,null,it,ct)),sp(f,F,fe,!Ze);return}}tF(f,y,F,x,A,I,fe,be,Me)}function y0e(f){for(var y=f;;){var x=y.tag;if((x===0||x===11||x===15)&&y.flags&16384&&(x=y.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var A=0;A<x.length;A++){var I=x[A],F=I.getSnapshot;I=I.value;try{if(!Va(F(),I))return!1}catch{return!1}}if(x=y.child,y.subtreeFlags&16384&&x!==null)x.return=y,y=x;else{if(y===f)break;for(;y.sibling===null;){if(y.return===null||y.return===f)return!0;y=y.return}y.sibling.return=y.return,y=y.sibling}}return!0}function sp(f,y,x,A){y&=~j5,y&=~py,f.suspendedLanes|=y,f.pingedLanes&=~y,A&&(f.warmLanes|=y),A=f.expirationTimes;for(var I=y;0<I;){var F=31-Ie(I),fe=1<<F;A[F]=-1,I&=~fe}x!==0&&Ur(f,x,y)}function Yw(){return($i&6)===0?(BS(0),!1):!0}function M5(){if(oi!==null){if(Hi===0)var f=oi.return;else f=oi,fc=cd=null,Lv(f),At=null,un=0,f=oi;for(;f!==null;)_$(f.alternate,f),f=f.return;oi=null}}function Kv(f,y){var x=f.timeoutHandle;x!==-1&&(f.timeoutHandle=-1,P0e(x)),x=f.cancelPendingCommit,x!==null&&(f.cancelPendingCommit=null,x()),Cf=0,M5(),ur=f,oi=x=Po(f.current,null),ci=y,Hi=0,wl=null,np=!1,zv=Ft(f,y),O5=!1,Uv=El=j5=py=ip=sa=0,qo=$S=null,D5=!1,(y&8)!==0&&(y|=y&32);var A=f.entangledLanes;if(A!==0)for(f=f.entanglements,A&=y;0<A;){var I=31-Ie(A),F=1<<I;y|=f[I],A&=~F}return Df=y,ny(),x}function W$(f,y){bn=null,q.H=DS,y===$e||y===Re?(y=gt(),Hi=3):y===Qe?(y=gt(),Hi=4):Hi=y===f5?8:y!==null&&typeof y=="object"&&typeof y.then=="function"?6:1,wl=y,oi===null&&(sa=1,$w(f,ko(y,f.current)))}function Y$(){var f=Rr.current;return f===null?!0:(ci&4194048)===ci?bi===null:(ci&62914560)===ci||(ci&536870912)!==0?f===bi:!1}function J$(){var f=q.H;return q.H=DS,f===null?DS:f}function Q$(){var f=q.A;return q.A=p0e,f}function Jw(){sa=4,np||(ci&4194048)!==ci&&Rr.current!==null||(zv=!0),(ip&134217727)===0&&(py&134217727)===0||ur===null||sp(ur,ci,El,!1)}function I5(f,y,x){var A=$i;$i|=2;var I=J$(),F=Q$();(ur!==f||ci!==y)&&(Ww=null,Kv(f,y)),y=!1;var fe=sa;e:do try{if(Hi!==0&&oi!==null){var be=oi,Me=wl;switch(Hi){case 8:M5(),fe=6;break e;case 3:case 2:case 9:case 6:Rr.current===null&&(y=!0);var Ze=Hi;if(Hi=0,wl=null,Gv(f,be,Me,Ze),x&&zv){fe=0;break e}break;default:Ze=Hi,Hi=0,wl=null,Gv(f,be,Me,Ze)}}g0e(),fe=sa;break}catch(pt){W$(f,pt)}while(!0);return y&&f.shellSuspendCounter++,fc=cd=null,$i=A,q.H=I,q.A=F,oi===null&&(ur=null,ci=0,ny()),fe}function g0e(){for(;oi!==null;)X$(oi)}function v0e(f,y){var x=$i;$i|=2;var A=J$(),I=Q$();ur!==f||ci!==y?(Ww=null,qw=tt()+500,Kv(f,y)):zv=Ft(f,y);e:do try{if(Hi!==0&&oi!==null){y=oi;var F=wl;t:switch(Hi){case 1:Hi=0,wl=null,Gv(f,y,F,1);break;case 2:case 9:if(We(F)){Hi=0,wl=null,Z$(y);break}y=function(){Hi!==2&&Hi!==9||ur!==f||(Hi=7),vd(f)},F.then(y,y);break e;case 3:Hi=7;break e;case 4:Hi=5;break e;case 7:We(F)?(Hi=0,wl=null,Z$(y)):(Hi=0,wl=null,Gv(f,y,F,7));break;case 5:var fe=null;switch(oi.tag){case 26:fe=oi.memoizedState;case 5:case 27:var be=oi;if(fe?$F(fe):be.stateNode.complete){Hi=0,wl=null;var Me=be.sibling;if(Me!==null)oi=Me;else{var Ze=be.return;Ze!==null?(oi=Ze,Qw(Ze)):oi=null}break t}}Hi=0,wl=null,Gv(f,y,F,5);break;case 6:Hi=0,wl=null,Gv(f,y,F,6);break;case 8:M5(),sa=6;break e;default:throw Error(i(462))}}S0e();break}catch(pt){W$(f,pt)}while(!0);return fc=cd=null,q.H=A,q.A=I,$i=x,oi!==null?0:(ur=null,ci=0,ny(),sa)}function S0e(){for(;oi!==null&&!Mt();)X$(oi)}function X$(f){var y=w$(f.alternate,f,Df);f.memoizedProps=f.pendingProps,y===null?Qw(f):oi=y}function Z$(f){var y=f,x=y.alternate;switch(y.tag){case 15:case 0:y=y$(x,y,y.pendingProps,y.type,void 0,ci);break;case 11:y=y$(x,y,y.pendingProps,y.type.render,y.ref,ci);break;case 5:Lv(y);default:_$(x,y),y=oi=ay(y,Df),y=w$(x,y,Df)}f.memoizedProps=f.pendingProps,y===null?Qw(f):oi=y}function Gv(f,y,x,A){fc=cd=null,Lv(y),At=null,un=0;var I=y.return;try{if(o0e(f,I,y,x,ci)){sa=1,$w(f,ko(x,f.current)),oi=null;return}}catch(F){if(I!==null)throw oi=I,F;sa=1,$w(f,ko(x,f.current)),oi=null;return}y.flags&32768?(si||A===1?f=!0:zv||(ci&536870912)!==0?f=!1:(np=f=!0,(A===2||A===9||A===3||A===6)&&(A=Rr.current,A!==null&&A.tag===13&&(A.flags|=16384))),eF(y,f)):Qw(y)}function Qw(f){var y=f;do{if((y.flags&32768)!==0){eF(y,np);return}f=y.return;var x=u0e(y.alternate,y,Df);if(x!==null){oi=x;return}if(y=y.sibling,y!==null){oi=y;return}oi=y=f}while(y!==null);sa===0&&(sa=5)}function eF(f,y){do{var x=d0e(f.alternate,f);if(x!==null){x.flags&=32767,oi=x;return}if(x=f.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!y&&(f=f.sibling,f!==null)){oi=f;return}oi=f=x}while(f!==null);sa=6,oi=null}function tF(f,y,x,A,I,F,fe,be,Me){f.cancelPendingCommit=null;do Xw();while(Ya!==0);if(($i&6)!==0)throw Error(i(327));if(y!==null){if(y===f.current)throw Error(i(177));if(F=y.lanes|y.childLanes,F|=vv,br(f,x,F,fe,be,Me),f===ur&&(oi=ur=null,ci=0),Vv=y,ap=f,Cf=x,C5=F,L5=I,K$=A,(y.subtreeFlags&10256)!==0||(y.flags&10256)!==0?(f.callbackNode=null,f.callbackPriority=0,E0e(Et,function(){return sF(),null})):(f.callbackNode=null,f.callbackPriority=0),A=(y.flags&13878)!==0,(y.subtreeFlags&13878)!==0||A){A=q.T,q.T=null,I=V.p,V.p=2,fe=$i,$i|=4;try{f0e(f,y,x)}finally{$i=fe,V.p=I,q.T=A}}Ya=1,nF(),iF(),rF()}}function nF(){if(Ya===1){Ya=0;var f=ap,y=Vv,x=(y.flags&13878)!==0;if((y.subtreeFlags&13878)!==0||x){x=q.T,q.T=null;var A=V.p;V.p=2;var I=$i;$i|=4;try{P$(y,f);var F=q5,fe=nu(f.containerInfo),be=F.focusedElem,Me=F.selectionRange;if(fe!==be&&be&&be.ownerDocument&&tu(be.ownerDocument.documentElement,be)){if(Me!==null&&uc(be)){var Ze=Me.start,pt=Me.end;if(pt===void 0&&(pt=Ze),"selectionStart"in be)be.selectionStart=Ze,be.selectionEnd=Math.min(pt,be.value.length);else{var _t=be.ownerDocument||document,it=_t&&_t.defaultView||window;if(it.getSelection){var ct=it.getSelection(),ln=be.textContent.length,Cn=Math.min(Me.start,ln),ir=Me.end===void 0?Cn:Math.min(Me.end,ln);!ct.extend&&Cn>ir&&(fe=ir,ir=Cn,Cn=fe);var Ge=Kh(be,Cn),Fe=Kh(be,ir);if(Ge&&Fe&&(ct.rangeCount!==1||ct.anchorNode!==Ge.node||ct.anchorOffset!==Ge.offset||ct.focusNode!==Fe.node||ct.focusOffset!==Fe.offset)){var Xe=_t.createRange();Xe.setStart(Ge.node,Ge.offset),ct.removeAllRanges(),Cn>ir?(ct.addRange(Xe),ct.extend(Fe.node,Fe.offset)):(Xe.setEnd(Fe.node,Fe.offset),ct.addRange(Xe))}}}}for(_t=[],ct=be;ct=ct.parentNode;)ct.nodeType===1&&_t.push({element:ct,left:ct.scrollLeft,top:ct.scrollTop});for(typeof be.focus=="function"&&be.focus(),be=0;be<_t.length;be++){var vt=_t[be];vt.element.scrollLeft=vt.left,vt.element.scrollTop=vt.top}}uE=!!H5,q5=H5=null}finally{$i=I,V.p=A,q.T=x}}f.current=y,Ya=2}}function iF(){if(Ya===2){Ya=0;var f=ap,y=Vv,x=(y.flags&8772)!==0;if((y.subtreeFlags&8772)!==0||x){x=q.T,q.T=null;var A=V.p;V.p=2;var I=$i;$i|=4;try{C$(f,y.alternate,y)}finally{$i=I,V.p=A,q.T=x}}Ya=3}}function rF(){if(Ya===4||Ya===3){Ya=0,St();var f=ap,y=Vv,x=Cf,A=K$;(y.subtreeFlags&10256)!==0||(y.flags&10256)!==0?Ya=5:(Ya=0,Vv=ap=null,aF(f,f.pendingLanes));var I=f.pendingLanes;if(I===0&&(rp=null),xr(x),y=y.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot($t,y,void 0,(y.current.flags&128)===128)}catch{}if(A!==null){y=q.T,I=V.p,V.p=2,q.T=null;try{for(var F=f.onRecoverableError,fe=0;fe<A.length;fe++){var be=A[fe];F(be.value,{componentStack:be.stack})}}finally{q.T=y,V.p=I}}(Cf&3)!==0&&Xw(),vd(f),I=f.pendingLanes,(x&261930)!==0&&(I&42)!==0?f===T5?FS++:(FS=0,T5=f):FS=0,BS(0)}}function aF(f,y){(f.pooledCacheLanes&=y)===0&&(y=f.pooledCache,y!=null&&(f.pooledCache=null,ly(y)))}function Xw(){return nF(),iF(),rF(),sF()}function sF(){if(Ya!==5)return!1;var f=ap,y=C5;C5=0;var x=xr(Cf),A=q.T,I=V.p;try{V.p=32>x?32:x,q.T=null,x=L5,L5=null;var F=ap,fe=Cf;if(Ya=0,Vv=ap=null,Cf=0,($i&6)!==0)throw Error(i(331));var be=$i;if($i|=4,z$(F.current),$$(F,F.current,fe,x),$i=be,BS(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot($t,F)}catch{}return!0}finally{V.p=I,q.T=A,aF(f,y)}}function oF(f,y,x){y=ko(x,y),y=d5(f.stateNode,y,2),f=Xn(f,y,2),f!==null&&(Vt(f,2),vd(f))}function qi(f,y,x){if(f.tag===3)oF(f,f,x);else for(;y!==null;){if(y.tag===3){oF(y,f,x);break}else if(y.tag===1){var A=y.stateNode;if(typeof y.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(rp===null||!rp.has(A))){f=ko(x,f),x=l$(2),A=Xn(y,x,2),A!==null&&(c$(x,A,y,f),Vt(A,2),vd(A));break}}y=y.return}}function P5(f,y,x){var A=f.pingCache;if(A===null){A=f.pingCache=new m0e;var I=new Set;A.set(y,I)}else I=A.get(y),I===void 0&&(I=new Set,A.set(y,I));I.has(x)||(O5=!0,I.add(x),f=b0e.bind(null,f,y,x),y.then(f,f))}function b0e(f,y,x){var A=f.pingCache;A!==null&&A.delete(y),f.pingedLanes|=f.suspendedLanes&x,f.warmLanes&=~x,ur===f&&(ci&x)===x&&(sa===4||sa===3&&(ci&62914560)===ci&&300>tt()-Hw?($i&2)===0&&Kv(f,0):j5|=x,Uv===ci&&(Uv=0)),vd(f)}function lF(f,y){y===0&&(y=Wt()),f=ru(f,y),f!==null&&(Vt(f,y),vd(f))}function x0e(f){var y=f.memoizedState,x=0;y!==null&&(x=y.retryLane),lF(f,x)}function w0e(f,y){var x=0;switch(f.tag){case 31:case 13:var A=f.stateNode,I=f.memoizedState;I!==null&&(x=I.retryLane);break;case 19:A=f.stateNode;break;case 22:A=f.stateNode._retryCache;break;default:throw Error(i(314))}A!==null&&A.delete(y),lF(f,x)}function E0e(f,y){return Ee(f,y)}var Zw=null,Hv=null,k5=!1,eE=!1,$5=!1,op=0;function vd(f){f!==Hv&&f.next===null&&(Hv===null?Zw=Hv=f:Hv=Hv.next=f),eE=!0,k5||(k5=!0,A0e())}function BS(f,y){if(!$5&&eE){$5=!0;do for(var x=!1,A=Zw;A!==null;){if(f!==0){var I=A.pendingLanes;if(I===0)var F=0;else{var fe=A.suspendedLanes,be=A.pingedLanes;F=(1<<31-Ie(42|f)+1)-1,F&=I&~(fe&~be),F=F&201326741?F&201326741|1:F?F|2:0}F!==0&&(x=!0,fF(A,F))}else F=ci,F=ut(A,A===ur?F:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),(F&3)===0||Ft(A,F)||(x=!0,fF(A,F));A=A.next}while(x);$5=!1}}function _0e(){cF()}function cF(){eE=k5=!1;var f=0;op!==0&&I0e()&&(f=op);for(var y=tt(),x=null,A=Zw;A!==null;){var I=A.next,F=uF(A,y);F===0?(A.next=null,x===null?Zw=I:x.next=I,I===null&&(Hv=x)):(x=A,(f!==0||(F&3)!==0)&&(eE=!0)),A=I}Ya!==0&&Ya!==5||BS(f),op!==0&&(op=0)}function uF(f,y){for(var x=f.suspendedLanes,A=f.pingedLanes,I=f.expirationTimes,F=f.pendingLanes&-62914561;0<F;){var fe=31-Ie(F),be=1<<fe,Me=I[fe];Me===-1?((be&x)===0||(be&A)!==0)&&(I[fe]=Zt(be,y)):Me<=y&&(f.expiredLanes|=be),F&=~be}if(y=ur,x=ci,x=ut(f,f===y?x:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),A=f.callbackNode,x===0||f===y&&(Hi===2||Hi===9)||f.cancelPendingCommit!==null)return A!==null&&A!==null&&lt(A),f.callbackNode=null,f.callbackPriority=0;if((x&3)===0||Ft(f,x)){if(y=x&-x,y===f.callbackPriority)return y;switch(A!==null&&lt(A),xr(x)){case 2:case 8:x=qt;break;case 32:x=Et;break;case 268435456:x=xt;break;default:x=Et}return A=dF.bind(null,f),x=Ee(x,A),f.callbackPriority=y,f.callbackNode=x,y}return A!==null&&A!==null&&lt(A),f.callbackPriority=2,f.callbackNode=null,2}function dF(f,y){if(Ya!==0&&Ya!==5)return f.callbackNode=null,f.callbackPriority=0,null;var x=f.callbackNode;if(Xw()&&f.callbackNode!==x)return null;var A=ci;return A=ut(f,f===ur?A:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),A===0?null:(H$(f,A,y),uF(f,tt()),f.callbackNode!=null&&f.callbackNode===x?dF.bind(null,f):null)}function fF(f,y){if(Xw())return null;H$(f,y,!0)}function A0e(){k0e(function(){($i&6)!==0?Ee(Ve,_0e):cF()})}function F5(){if(op===0){var f=C;f===0&&(f=vn,vn<<=1,(vn&261888)===0&&(vn=256)),op=f}return op}function hF(f){return f==null||typeof f=="symbol"||typeof f=="boolean"?null:typeof f=="function"?f:ml(""+f)}function pF(f,y){var x=y.ownerDocument.createElement("input");return x.name=y.name,x.value=y.value,f.id&&x.setAttribute("form",f.id),y.parentNode.insertBefore(x,y),f=new FormData(f),x.parentNode.removeChild(x),f}function R0e(f,y,x,A,I){if(y==="submit"&&x&&x.stateNode===I){var F=hF((I[wr]||null).action),fe=A.submitter;fe&&(y=(y=fe[wr]||null)?hF(y.formAction):fe.getAttribute("formAction"),y!==null&&(F=y,fe=null));var be=new nc("action","action",null,A,I);f.push({event:be,listeners:[{instance:null,listener:function(){if(A.defaultPrevented){if(op!==0){var Me=fe?pF(I,fe):new FormData(I);a5(x,{pending:!0,data:Me,method:I.method,action:F},null,Me)}}else typeof F=="function"&&(be.preventDefault(),Me=fe?pF(I,fe):new FormData(I),a5(x,{pending:!0,data:Me,method:I.method,action:F},F,Me))},currentTarget:I}]})}}for(var B5=0;B5<yf.length;B5++){var z5=yf[B5],N0e=z5.toLowerCase(),O0e=z5[0].toUpperCase()+z5.slice(1);Io(N0e,"on"+O0e)}Io(mf,"onAnimationEnd"),Io(ey,"onAnimationIteration"),Io(mS,"onAnimationStart"),Io("dblclick","onDoubleClick"),Io("focusin","onFocus"),Io("focusout","onBlur"),Io(Aw,"onTransitionRun"),Io(Rw,"onTransitionStart"),Io(Nw,"onTransitionCancel"),Io(yS,"onTransitionEnd"),zc("onMouseEnter",["mouseout","mouseover"]),zc("onMouseLeave",["mouseout","mouseover"]),zc("onPointerEnter",["pointerout","pointerover"]),zc("onPointerLeave",["pointerout","pointerover"]),pl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pl("onBeforeInput",["compositionend","keypress","textInput","paste"]),pl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zS="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j0e=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zS));function mF(f,y){y=(y&4)!==0;for(var x=0;x<f.length;x++){var A=f[x],I=A.event;A=A.listeners;e:{var F=void 0;if(y)for(var fe=A.length-1;0<=fe;fe--){var be=A[fe],Me=be.instance,Ze=be.currentTarget;if(be=be.listener,Me!==F&&I.isPropagationStopped())break e;F=be,I.currentTarget=Ze;try{F(I)}catch(pt){ty(pt)}I.currentTarget=null,F=Me}else for(fe=0;fe<A.length;fe++){if(be=A[fe],Me=be.instance,Ze=be.currentTarget,be=be.listener,Me!==F&&I.isPropagationStopped())break e;F=be,I.currentTarget=Ze;try{F(I)}catch(pt){ty(pt)}I.currentTarget=null,F=Me}}}}function li(f,y){var x=y[ao];x===void 0&&(x=y[ao]=new Set);var A=f+"__bubble";x.has(A)||(yF(y,f,2,!1),x.add(A))}function U5(f,y,x){var A=0;y&&(A|=4),yF(x,f,A,y)}var tE="_reactListening"+Math.random().toString(36).slice(2);function V5(f){if(!f[tE]){f[tE]=!0,$m.forEach(function(x){x!=="selectionchange"&&(j0e.has(x)||U5(x,!1,f),U5(x,!0,f))});var y=f.nodeType===9?f:f.ownerDocument;y===null||y[tE]||(y[tE]=!0,U5("selectionchange",!1,y))}}function yF(f,y,x,A){switch(GF(y)){case 2:var I=i1e;break;case 8:I=r1e;break;default:I=r3}x=I.bind(null,y,x,f),I=void 0,!Qm||y!=="touchstart"&&y!=="touchmove"&&y!=="wheel"||(I=!0),A?I!==void 0?f.addEventListener(y,x,{capture:!0,passive:I}):f.addEventListener(y,x,!0):I!==void 0?f.addEventListener(y,x,{passive:I}):f.addEventListener(y,x,!1)}function K5(f,y,x,A,I){var F=A;if((y&1)===0&&(y&2)===0&&A!==null)e:for(;;){if(A===null)return;var fe=A.tag;if(fe===3||fe===4){var be=A.stateNode.containerInfo;if(be===I)break;if(fe===4)for(fe=A.return;fe!==null;){var Me=fe.tag;if((Me===3||Me===4)&&fe.stateNode.containerInfo===I)return;fe=fe.return}for(;be!==null;){if(fe=fl(be),fe===null)return;if(Me=fe.tag,Me===5||Me===6||Me===26||Me===27){A=F=fe;continue e}be=be.parentNode}}A=A.return}fv(function(){var Ze=F,pt=sf(x),_t=[];e:{var it=gS.get(f);if(it!==void 0){var ct=nc,ln=f;switch(f){case"keypress":if(Hc(x)===0)break e;case"keydown":case"keyup":ct=Ai;break;case"focusin":ln="focus",ct=Jc;break;case"focusout":ln="blur",ct=Jc;break;case"beforeblur":case"afterblur":ct=Jc;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ct=ic;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ct=hv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ct=ma;break;case mf:case ey:case mS:ct=W;break;case yS:ct=za;break;case"scroll":case"scrollend":ct=kh;break;case"wheel":ct=Fs;break;case"copy":case"cut":case"paste":ct=je;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ct=Hr;break;case"toggle":case"beforetoggle":ct=$h}var Cn=(y&4)!==0,ir=!Cn&&(f==="scroll"||f==="scrollend"),Ge=Cn?it!==null?it+"Capture":null:it;Cn=[];for(var Fe=Ze,Xe;Fe!==null;){var vt=Fe;if(Xe=vt.stateNode,vt=vt.tag,vt!==5&&vt!==26&&vt!==27||Xe===null||Ge===null||(vt=lo(Fe,Ge),vt!=null&&Cn.push(US(Fe,vt,Xe))),ir)break;Fe=Fe.return}0<Cn.length&&(it=new ct(it,ln,null,x,pt),_t.push({event:it,listeners:Cn}))}}if((y&7)===0){e:{if(it=f==="mouseover"||f==="pointerover",ct=f==="mouseout"||f==="pointerout",it&&x!==Gc&&(ln=x.relatedTarget||x.fromElement)&&(fl(ln)||ln[ss]))break e;if((ct||it)&&(it=pt.window===pt?pt:(it=pt.ownerDocument)?it.defaultView||it.parentWindow:window,ct?(ln=x.relatedTarget||x.toElement,ct=Ze,ln=ln?fl(ln):null,ln!==null&&(ir=a(ln),Cn=ln.tag,ln!==ir||Cn!==5&&Cn!==27&&Cn!==6)&&(ln=null)):(ct=null,ln=Ze),ct!==ln)){if(Cn=ic,vt="onMouseLeave",Ge="onMouseEnter",Fe="mouse",(f==="pointerout"||f==="pointerover")&&(Cn=Hr,vt="onPointerLeave",Ge="onPointerEnter",Fe="pointer"),ir=ct==null?it:rf(ct),Xe=ln==null?it:rf(ln),it=new Cn(vt,Fe+"leave",ct,x,pt),it.target=ir,it.relatedTarget=Xe,vt=null,fl(pt)===Ze&&(Cn=new Cn(Ge,Fe+"enter",ln,x,pt),Cn.target=Xe,Cn.relatedTarget=ir,vt=Cn),ir=vt,ct&&ln)t:{for(Cn=D0e,Ge=ct,Fe=ln,Xe=0,vt=Ge;vt;vt=Cn(vt))Xe++;vt=0;for(var wn=Fe;wn;wn=Cn(wn))vt++;for(;0<Xe-vt;)Ge=Cn(Ge),Xe--;for(;0<vt-Xe;)Fe=Cn(Fe),vt--;for(;Xe--;){if(Ge===Fe||Fe!==null&&Ge===Fe.alternate){Cn=Ge;break t}Ge=Cn(Ge),Fe=Cn(Fe)}Cn=null}else Cn=null;ct!==null&&gF(_t,it,ct,Cn,!1),ln!==null&&ir!==null&&gF(_t,ir,ln,Cn,!0)}}e:{if(it=Ze?rf(Ze):window,ct=it.nodeName&&it.nodeName.toLowerCase(),ct==="select"||ct==="input"&&it.type==="file")var Oi=ad;else if(Xm(it))if(Bs)Oi=lc;else{Oi=qr;var pn=Uh}else ct=it.nodeName,!ct||ct.toLowerCase()!=="input"||it.type!=="checkbox"&&it.type!=="radio"?Ze&&Wm(Ze.elementType)&&(Oi=ad):Oi=gv;if(Oi&&(Oi=Oi(f,Ze))){fo(_t,Oi,x,pt);break e}pn&&pn(f,it,Ze),f==="focusout"&&Ze&&it.type==="number"&&Ze.memoizedProps.value!=null&&Km(it,"number",it.value)}switch(pn=Ze?rf(Ze):window,f){case"focusin":(Xm(pn)||pn.contentEditable==="true")&&(ho=pn,iu=Ze,ls=null);break;case"focusout":ls=iu=ho=null;break;case"mousedown":Mo=!0;break;case"contextmenu":case"mouseup":case"dragend":Mo=!1,Ri(_t,x,pt);break;case"selectionchange":if(pf)break;case"keydown":case"keyup":Ri(_t,x,pt)}var ei;if(rc)e:{switch(f){case"compositionstart":var ui="onCompositionStart";break e;case"compositionend":ui="onCompositionEnd";break e;case"compositionupdate":ui="onCompositionUpdate";break e}ui=void 0}else ac?rd(f,x)&&(ui="onCompositionEnd"):f==="keydown"&&x.keyCode===229&&(ui="onCompositionStart");ui&&(nd&&x.locale!=="ko"&&(ac||ui!=="onCompositionStart"?ui==="onCompositionEnd"&&ac&&(ei=cf()):(co=pt,lf="value"in co?co.value:co.textContent,ac=!0)),pn=nE(Ze,ui),0<pn.length&&(ui=new Ke(ui,f,null,x,pt),_t.push({event:ui,listeners:pn}),ei?ui.data=ei:(ei=Fh(x),ei!==null&&(ui.data=ei)))),(ei=hf?Lr(f,x):Qc(f,x))&&(ui=nE(Ze,"onBeforeInput"),0<ui.length&&(pn=new Ke("onBeforeInput","beforeinput",null,x,pt),_t.push({event:pn,listeners:ui}),pn.data=ei)),R0e(_t,f,Ze,x,pt)}mF(_t,y)})}function US(f,y,x){return{instance:f,listener:y,currentTarget:x}}function nE(f,y){for(var x=y+"Capture",A=[];f!==null;){var I=f,F=I.stateNode;if(I=I.tag,I!==5&&I!==26&&I!==27||F===null||(I=lo(f,x),I!=null&&A.unshift(US(f,I,F)),I=lo(f,y),I!=null&&A.push(US(f,I,F))),f.tag===3)return A;f=f.return}return[]}function D0e(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5&&f.tag!==27);return f||null}function gF(f,y,x,A,I){for(var F=y._reactName,fe=[];x!==null&&x!==A;){var be=x,Me=be.alternate,Ze=be.stateNode;if(be=be.tag,Me!==null&&Me===A)break;be!==5&&be!==26&&be!==27||Ze===null||(Me=Ze,I?(Ze=lo(x,F),Ze!=null&&fe.unshift(US(x,Ze,Me))):I||(Ze=lo(x,F),Ze!=null&&fe.push(US(x,Ze,Me)))),x=x.return}fe.length!==0&&f.push({event:y,listeners:fe})}var C0e=/\r\n?/g,L0e=/\u0000|\uFFFD/g;function vF(f){return(typeof f=="string"?f:""+f).replace(C0e,`
`).replace(L0e,"")}function SF(f,y){return y=vF(y),vF(f)===y}function nr(f,y,x,A,I,F){switch(x){case"children":typeof A=="string"?y==="body"||y==="textarea"&&A===""||oo(f,A):(typeof A=="number"||typeof A=="bigint")&&y!=="body"&&oo(f,""+A);break;case"className":Mh(f,"class",A);break;case"tabIndex":Mh(f,"tabindex",A);break;case"dir":case"role":case"viewBox":case"width":case"height":Mh(f,x,A);break;case"style":uv(f,A,F);break;case"data":if(y!=="object"){Mh(f,"data",A);break}case"src":case"href":if(A===""&&(y!=="a"||x!=="href")){f.removeAttribute(x);break}if(A==null||typeof A=="function"||typeof A=="symbol"||typeof A=="boolean"){f.removeAttribute(x);break}A=ml(""+A),f.setAttribute(x,A);break;case"action":case"formAction":if(typeof A=="function"){f.setAttribute(x,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof F=="function"&&(x==="formAction"?(y!=="input"&&nr(f,y,"name",I.name,I,null),nr(f,y,"formEncType",I.formEncType,I,null),nr(f,y,"formMethod",I.formMethod,I,null),nr(f,y,"formTarget",I.formTarget,I,null)):(nr(f,y,"encType",I.encType,I,null),nr(f,y,"method",I.method,I,null),nr(f,y,"target",I.target,I,null)));if(A==null||typeof A=="symbol"||typeof A=="boolean"){f.removeAttribute(x);break}A=ml(""+A),f.setAttribute(x,A);break;case"onClick":A!=null&&(f.onclick=yl);break;case"onScroll":A!=null&&li("scroll",f);break;case"onScrollEnd":A!=null&&li("scrollend",f);break;case"dangerouslySetInnerHTML":if(A!=null){if(typeof A!="object"||!("__html"in A))throw Error(i(61));if(x=A.__html,x!=null){if(I.children!=null)throw Error(i(60));f.innerHTML=x}}break;case"multiple":f.multiple=A&&typeof A!="function"&&typeof A!="symbol";break;case"muted":f.muted=A&&typeof A!="function"&&typeof A!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(A==null||typeof A=="function"||typeof A=="boolean"||typeof A=="symbol"){f.removeAttribute("xlink:href");break}x=ml(""+A),f.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",x);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":A!=null&&typeof A!="function"&&typeof A!="symbol"?f.setAttribute(x,""+A):f.removeAttribute(x);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":A&&typeof A!="function"&&typeof A!="symbol"?f.setAttribute(x,""):f.removeAttribute(x);break;case"capture":case"download":A===!0?f.setAttribute(x,""):A!==!1&&A!=null&&typeof A!="function"&&typeof A!="symbol"?f.setAttribute(x,A):f.removeAttribute(x);break;case"cols":case"rows":case"size":case"span":A!=null&&typeof A!="function"&&typeof A!="symbol"&&!isNaN(A)&&1<=A?f.setAttribute(x,A):f.removeAttribute(x);break;case"rowSpan":case"start":A==null||typeof A=="function"||typeof A=="symbol"||isNaN(A)?f.removeAttribute(x):f.setAttribute(x,A);break;case"popover":li("beforetoggle",f),li("toggle",f),Uc(f,"popover",A);break;case"xlinkActuate":Ui(f,"http://www.w3.org/1999/xlink","xlink:actuate",A);break;case"xlinkArcrole":Ui(f,"http://www.w3.org/1999/xlink","xlink:arcrole",A);break;case"xlinkRole":Ui(f,"http://www.w3.org/1999/xlink","xlink:role",A);break;case"xlinkShow":Ui(f,"http://www.w3.org/1999/xlink","xlink:show",A);break;case"xlinkTitle":Ui(f,"http://www.w3.org/1999/xlink","xlink:title",A);break;case"xlinkType":Ui(f,"http://www.w3.org/1999/xlink","xlink:type",A);break;case"xmlBase":Ui(f,"http://www.w3.org/XML/1998/namespace","xml:base",A);break;case"xmlLang":Ui(f,"http://www.w3.org/XML/1998/namespace","xml:lang",A);break;case"xmlSpace":Ui(f,"http://www.w3.org/XML/1998/namespace","xml:space",A);break;case"is":Uc(f,"is",A);break;case"innerText":case"textContent":break;default:(!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(x=Ym.get(x)||x,Uc(f,x,A))}}function G5(f,y,x,A,I,F){switch(x){case"style":uv(f,A,F);break;case"dangerouslySetInnerHTML":if(A!=null){if(typeof A!="object"||!("__html"in A))throw Error(i(61));if(x=A.__html,x!=null){if(I.children!=null)throw Error(i(60));f.innerHTML=x}}break;case"children":typeof A=="string"?oo(f,A):(typeof A=="number"||typeof A=="bigint")&&oo(f,""+A);break;case"onScroll":A!=null&&li("scroll",f);break;case"onScrollEnd":A!=null&&li("scrollend",f);break;case"onClick":A!=null&&(f.onclick=yl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!so.hasOwnProperty(x))e:{if(x[0]==="o"&&x[1]==="n"&&(I=x.endsWith("Capture"),y=x.slice(2,I?x.length-7:void 0),F=f[wr]||null,F=F!=null?F[x]:null,typeof F=="function"&&f.removeEventListener(y,F,I),typeof A=="function")){typeof F!="function"&&F!==null&&(x in f?f[x]=null:f.hasAttribute(x)&&f.removeAttribute(x)),f.addEventListener(y,A,I);break e}x in f?f[x]=A:A===!0?f.setAttribute(x,""):Uc(f,x,A)}}}function Cs(f,y,x){switch(y){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":li("error",f),li("load",f);var A=!1,I=!1,F;for(F in x)if(x.hasOwnProperty(F)){var fe=x[F];if(fe!=null)switch(F){case"src":A=!0;break;case"srcSet":I=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,y));default:nr(f,y,F,fe,x,null)}}I&&nr(f,y,"srcSet",x.srcSet,x,null),A&&nr(f,y,"src",x.src,x,null);return;case"input":li("invalid",f);var be=F=fe=I=null,Me=null,Ze=null;for(A in x)if(x.hasOwnProperty(A)){var pt=x[A];if(pt!=null)switch(A){case"name":I=pt;break;case"type":fe=pt;break;case"checked":Me=pt;break;case"defaultChecked":Ze=pt;break;case"value":F=pt;break;case"defaultValue":be=pt;break;case"children":case"dangerouslySetInnerHTML":if(pt!=null)throw Error(i(137,y));break;default:nr(f,y,A,pt,x,null)}}lv(f,F,be,Me,Ze,fe,I,!1);return;case"select":li("invalid",f),A=fe=F=null;for(I in x)if(x.hasOwnProperty(I)&&(be=x[I],be!=null))switch(I){case"value":F=be;break;case"defaultValue":fe=be;break;case"multiple":A=be;default:nr(f,y,I,be,x,null)}y=F,x=fe,f.multiple=!!A,y!=null?Rs(f,!!A,y,!1):x!=null&&Rs(f,!!A,x,!0);return;case"textarea":li("invalid",f),F=I=A=null;for(fe in x)if(x.hasOwnProperty(fe)&&(be=x[fe],be!=null))switch(fe){case"value":A=be;break;case"defaultValue":I=be;break;case"children":F=be;break;case"dangerouslySetInnerHTML":if(be!=null)throw Error(i(91));break;default:nr(f,y,fe,be,x,null)}Hm(f,A,I,F);return;case"option":for(Me in x)if(x.hasOwnProperty(Me)&&(A=x[Me],A!=null))switch(Me){case"selected":f.selected=A&&typeof A!="function"&&typeof A!="symbol";break;default:nr(f,y,Me,A,x,null)}return;case"dialog":li("beforetoggle",f),li("toggle",f),li("cancel",f),li("close",f);break;case"iframe":case"object":li("load",f);break;case"video":case"audio":for(A=0;A<zS.length;A++)li(zS[A],f);break;case"image":li("error",f),li("load",f);break;case"details":li("toggle",f);break;case"embed":case"source":case"link":li("error",f),li("load",f);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ze in x)if(x.hasOwnProperty(Ze)&&(A=x[Ze],A!=null))switch(Ze){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,y));default:nr(f,y,Ze,A,x,null)}return;default:if(Wm(y)){for(pt in x)x.hasOwnProperty(pt)&&(A=x[pt],A!==void 0&&G5(f,y,pt,A,x,void 0));return}}for(be in x)x.hasOwnProperty(be)&&(A=x[be],A!=null&&nr(f,y,be,A,x,null))}function T0e(f,y,x,A){switch(y){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var I=null,F=null,fe=null,be=null,Me=null,Ze=null,pt=null;for(ct in x){var _t=x[ct];if(x.hasOwnProperty(ct)&&_t!=null)switch(ct){case"checked":break;case"value":break;case"defaultValue":Me=_t;default:A.hasOwnProperty(ct)||nr(f,y,ct,null,A,_t)}}for(var it in A){var ct=A[it];if(_t=x[it],A.hasOwnProperty(it)&&(ct!=null||_t!=null))switch(it){case"type":F=ct;break;case"name":I=ct;break;case"checked":Ze=ct;break;case"defaultChecked":pt=ct;break;case"value":fe=ct;break;case"defaultValue":be=ct;break;case"children":case"dangerouslySetInnerHTML":if(ct!=null)throw Error(i(137,y));break;default:ct!==_t&&nr(f,y,it,ct,A,_t)}}Vm(f,fe,be,Me,Ze,pt,F,I);return;case"select":ct=fe=be=it=null;for(F in x)if(Me=x[F],x.hasOwnProperty(F)&&Me!=null)switch(F){case"value":break;case"multiple":ct=Me;default:A.hasOwnProperty(F)||nr(f,y,F,null,A,Me)}for(I in A)if(F=A[I],Me=x[I],A.hasOwnProperty(I)&&(F!=null||Me!=null))switch(I){case"value":it=F;break;case"defaultValue":be=F;break;case"multiple":fe=F;default:F!==Me&&nr(f,y,I,F,A,Me)}y=be,x=fe,A=ct,it!=null?Rs(f,!!x,it,!1):!!A!=!!x&&(y!=null?Rs(f,!!x,y,!0):Rs(f,!!x,x?[]:"",!1));return;case"textarea":ct=it=null;for(be in x)if(I=x[be],x.hasOwnProperty(be)&&I!=null&&!A.hasOwnProperty(be))switch(be){case"value":break;case"children":break;default:nr(f,y,be,null,A,I)}for(fe in A)if(I=A[fe],F=x[fe],A.hasOwnProperty(fe)&&(I!=null||F!=null))switch(fe){case"value":it=I;break;case"defaultValue":ct=I;break;case"children":break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(91));break;default:I!==F&&nr(f,y,fe,I,A,F)}Gm(f,it,ct);return;case"option":for(var ln in x)if(it=x[ln],x.hasOwnProperty(ln)&&it!=null&&!A.hasOwnProperty(ln))switch(ln){case"selected":f.selected=!1;break;default:nr(f,y,ln,null,A,it)}for(Me in A)if(it=A[Me],ct=x[Me],A.hasOwnProperty(Me)&&it!==ct&&(it!=null||ct!=null))switch(Me){case"selected":f.selected=it&&typeof it!="function"&&typeof it!="symbol";break;default:nr(f,y,Me,it,A,ct)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Cn in x)it=x[Cn],x.hasOwnProperty(Cn)&&it!=null&&!A.hasOwnProperty(Cn)&&nr(f,y,Cn,null,A,it);for(Ze in A)if(it=A[Ze],ct=x[Ze],A.hasOwnProperty(Ze)&&it!==ct&&(it!=null||ct!=null))switch(Ze){case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(i(137,y));break;default:nr(f,y,Ze,it,A,ct)}return;default:if(Wm(y)){for(var ir in x)it=x[ir],x.hasOwnProperty(ir)&&it!==void 0&&!A.hasOwnProperty(ir)&&G5(f,y,ir,void 0,A,it);for(pt in A)it=A[pt],ct=x[pt],!A.hasOwnProperty(pt)||it===ct||it===void 0&&ct===void 0||G5(f,y,pt,it,A,ct);return}}for(var Ge in x)it=x[Ge],x.hasOwnProperty(Ge)&&it!=null&&!A.hasOwnProperty(Ge)&&nr(f,y,Ge,null,A,it);for(_t in A)it=A[_t],ct=x[_t],!A.hasOwnProperty(_t)||it===ct||it==null&&ct==null||nr(f,y,_t,it,A,ct)}function bF(f){switch(f){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function M0e(){if(typeof performance.getEntriesByType=="function"){for(var f=0,y=0,x=performance.getEntriesByType("resource"),A=0;A<x.length;A++){var I=x[A],F=I.transferSize,fe=I.initiatorType,be=I.duration;if(F&&be&&bF(fe)){for(fe=0,be=I.responseEnd,A+=1;A<x.length;A++){var Me=x[A],Ze=Me.startTime;if(Ze>be)break;var pt=Me.transferSize,_t=Me.initiatorType;pt&&bF(_t)&&(Me=Me.responseEnd,fe+=pt*(Me<be?1:(be-Ze)/(Me-Ze)))}if(--A,y+=8*(F+fe)/(I.duration/1e3),f++,10<f)break}}if(0<f)return y/f/1e6}return navigator.connection&&(f=navigator.connection.downlink,typeof f=="number")?f:5}var H5=null,q5=null;function iE(f){return f.nodeType===9?f:f.ownerDocument}function xF(f){switch(f){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wF(f,y){if(f===0)switch(y){case"svg":return 1;case"math":return 2;default:return 0}return f===1&&y==="foreignObject"?0:f}function W5(f,y){return f==="textarea"||f==="noscript"||typeof y.children=="string"||typeof y.children=="number"||typeof y.children=="bigint"||typeof y.dangerouslySetInnerHTML=="object"&&y.dangerouslySetInnerHTML!==null&&y.dangerouslySetInnerHTML.__html!=null}var Y5=null;function I0e(){var f=window.event;return f&&f.type==="popstate"?f===Y5?!1:(Y5=f,!0):(Y5=null,!1)}var EF=typeof setTimeout=="function"?setTimeout:void 0,P0e=typeof clearTimeout=="function"?clearTimeout:void 0,_F=typeof Promise=="function"?Promise:void 0,k0e=typeof queueMicrotask=="function"?queueMicrotask:typeof _F<"u"?function(f){return _F.resolve(null).then(f).catch($0e)}:EF;function $0e(f){setTimeout(function(){throw f})}function lp(f){return f==="head"}function AF(f,y){var x=y,A=0;do{var I=x.nextSibling;if(f.removeChild(x),I&&I.nodeType===8)if(x=I.data,x==="/$"||x==="/&"){if(A===0){f.removeChild(I),Jv(y);return}A--}else if(x==="$"||x==="$?"||x==="$~"||x==="$!"||x==="&")A++;else if(x==="html")VS(f.ownerDocument.documentElement);else if(x==="head"){x=f.ownerDocument.head,VS(x);for(var F=x.firstChild;F;){var fe=F.nextSibling,be=F.nodeName;F[dl]||be==="SCRIPT"||be==="STYLE"||be==="LINK"&&F.rel.toLowerCase()==="stylesheet"||x.removeChild(F),F=fe}}else x==="body"&&VS(f.ownerDocument.body);x=I}while(x);Jv(y)}function RF(f,y){var x=f;f=0;do{var A=x.nextSibling;if(x.nodeType===1?y?(x._stashedDisplay=x.style.display,x.style.display="none"):(x.style.display=x._stashedDisplay||"",x.getAttribute("style")===""&&x.removeAttribute("style")):x.nodeType===3&&(y?(x._stashedText=x.nodeValue,x.nodeValue=""):x.nodeValue=x._stashedText||""),A&&A.nodeType===8)if(x=A.data,x==="/$"){if(f===0)break;f--}else x!=="$"&&x!=="$?"&&x!=="$~"&&x!=="$!"||f++;x=A}while(x)}function J5(f){var y=f.firstChild;for(y&&y.nodeType===10&&(y=y.nextSibling);y;){var x=y;switch(y=y.nextSibling,x.nodeName){case"HTML":case"HEAD":case"BODY":J5(x),Zu(x);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(x.rel.toLowerCase()==="stylesheet")continue}f.removeChild(x)}}function F0e(f,y,x,A){for(;f.nodeType===1;){var I=x;if(f.nodeName.toLowerCase()!==y.toLowerCase()){if(!A&&(f.nodeName!=="INPUT"||f.type!=="hidden"))break}else if(A){if(!f[dl])switch(y){case"meta":if(!f.hasAttribute("itemprop"))break;return f;case"link":if(F=f.getAttribute("rel"),F==="stylesheet"&&f.hasAttribute("data-precedence"))break;if(F!==I.rel||f.getAttribute("href")!==(I.href==null||I.href===""?null:I.href)||f.getAttribute("crossorigin")!==(I.crossOrigin==null?null:I.crossOrigin)||f.getAttribute("title")!==(I.title==null?null:I.title))break;return f;case"style":if(f.hasAttribute("data-precedence"))break;return f;case"script":if(F=f.getAttribute("src"),(F!==(I.src==null?null:I.src)||f.getAttribute("type")!==(I.type==null?null:I.type)||f.getAttribute("crossorigin")!==(I.crossOrigin==null?null:I.crossOrigin))&&F&&f.hasAttribute("async")&&!f.hasAttribute("itemprop"))break;return f;default:return f}}else if(y==="input"&&f.type==="hidden"){var F=I.name==null?null:""+I.name;if(I.type==="hidden"&&f.getAttribute("name")===F)return f}else return f;if(f=mc(f.nextSibling),f===null)break}return null}function B0e(f,y,x){if(y==="")return null;for(;f.nodeType!==3;)if((f.nodeType!==1||f.nodeName!=="INPUT"||f.type!=="hidden")&&!x||(f=mc(f.nextSibling),f===null))return null;return f}function NF(f,y){for(;f.nodeType!==8;)if((f.nodeType!==1||f.nodeName!=="INPUT"||f.type!=="hidden")&&!y||(f=mc(f.nextSibling),f===null))return null;return f}function Q5(f){return f.data==="$?"||f.data==="$~"}function X5(f){return f.data==="$!"||f.data==="$?"&&f.ownerDocument.readyState!=="loading"}function z0e(f,y){var x=f.ownerDocument;if(f.data==="$~")f._reactRetry=y;else if(f.data!=="$?"||x.readyState!=="loading")y();else{var A=function(){y(),x.removeEventListener("DOMContentLoaded",A)};x.addEventListener("DOMContentLoaded",A),f._reactRetry=A}}function mc(f){for(;f!=null;f=f.nextSibling){var y=f.nodeType;if(y===1||y===3)break;if(y===8){if(y=f.data,y==="$"||y==="$!"||y==="$?"||y==="$~"||y==="&"||y==="F!"||y==="F")break;if(y==="/$"||y==="/&")return null}}return f}var Z5=null;function OF(f){f=f.nextSibling;for(var y=0;f;){if(f.nodeType===8){var x=f.data;if(x==="/$"||x==="/&"){if(y===0)return mc(f.nextSibling);y--}else x!=="$"&&x!=="$!"&&x!=="$?"&&x!=="$~"&&x!=="&"||y++}f=f.nextSibling}return null}function jF(f){f=f.previousSibling;for(var y=0;f;){if(f.nodeType===8){var x=f.data;if(x==="$"||x==="$!"||x==="$?"||x==="$~"||x==="&"){if(y===0)return f;y--}else x!=="/$"&&x!=="/&"||y++}f=f.previousSibling}return null}function DF(f,y,x){switch(y=iE(x),f){case"html":if(f=y.documentElement,!f)throw Error(i(452));return f;case"head":if(f=y.head,!f)throw Error(i(453));return f;case"body":if(f=y.body,!f)throw Error(i(454));return f;default:throw Error(i(451))}}function VS(f){for(var y=f.attributes;y.length;)f.removeAttributeNode(y[0]);Zu(f)}var yc=new Map,CF=new Set;function rE(f){return typeof f.getRootNode=="function"?f.getRootNode():f.nodeType===9?f:f.ownerDocument}var Lf=V.d;V.d={f:U0e,r:V0e,D:K0e,C:G0e,L:H0e,m:q0e,X:Y0e,S:W0e,M:J0e};function U0e(){var f=Lf.f(),y=Yw();return f||y}function V0e(f){var y=hl(f);y!==null&&y.tag===5&&y.type==="form"?W9(y):Lf.r(f)}var qv=typeof document>"u"?null:document;function LF(f,y,x){var A=qv;if(A&&typeof y=="string"&&y){var I=os(y);I='link[rel="'+f+'"][href="'+I+'"]',typeof x=="string"&&(I+='[crossorigin="'+x+'"]'),CF.has(I)||(CF.add(I),f={rel:f,crossOrigin:x,href:y},A.querySelector(I)===null&&(y=A.createElement("link"),Cs(y,"link",f),Kr(y),A.head.appendChild(y)))}}function K0e(f){Lf.D(f),LF("dns-prefetch",f,null)}function G0e(f,y){Lf.C(f,y),LF("preconnect",f,y)}function H0e(f,y,x){Lf.L(f,y,x);var A=qv;if(A&&f&&y){var I='link[rel="preload"][as="'+os(y)+'"]';y==="image"&&x&&x.imageSrcSet?(I+='[imagesrcset="'+os(x.imageSrcSet)+'"]',typeof x.imageSizes=="string"&&(I+='[imagesizes="'+os(x.imageSizes)+'"]')):I+='[href="'+os(f)+'"]';var F=I;switch(y){case"style":F=Wv(f);break;case"script":F=Yv(f)}yc.has(F)||(f=h({rel:"preload",href:y==="image"&&x&&x.imageSrcSet?void 0:f,as:y},x),yc.set(F,f),A.querySelector(I)!==null||y==="style"&&A.querySelector(KS(F))||y==="script"&&A.querySelector(GS(F))||(y=A.createElement("link"),Cs(y,"link",f),Kr(y),A.head.appendChild(y)))}}function q0e(f,y){Lf.m(f,y);var x=qv;if(x&&f){var A=y&&typeof y.as=="string"?y.as:"script",I='link[rel="modulepreload"][as="'+os(A)+'"][href="'+os(f)+'"]',F=I;switch(A){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":F=Yv(f)}if(!yc.has(F)&&(f=h({rel:"modulepreload",href:f},y),yc.set(F,f),x.querySelector(I)===null)){switch(A){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(x.querySelector(GS(F)))return}A=x.createElement("link"),Cs(A,"link",f),Kr(A),x.head.appendChild(A)}}}function W0e(f,y,x){Lf.S(f,y,x);var A=qv;if(A&&f){var I=Zl(A).hoistableStyles,F=Wv(f);y=y||"default";var fe=I.get(F);if(!fe){var be={loading:0,preload:null};if(fe=A.querySelector(KS(F)))be.loading=5;else{f=h({rel:"stylesheet",href:f,"data-precedence":y},x),(x=yc.get(F))&&e3(f,x);var Me=fe=A.createElement("link");Kr(Me),Cs(Me,"link",f),Me._p=new Promise(function(Ze,pt){Me.onload=Ze,Me.onerror=pt}),Me.addEventListener("load",function(){be.loading|=1}),Me.addEventListener("error",function(){be.loading|=2}),be.loading|=4,aE(fe,y,A)}fe={type:"stylesheet",instance:fe,count:1,state:be},I.set(F,fe)}}}function Y0e(f,y){Lf.X(f,y);var x=qv;if(x&&f){var A=Zl(x).hoistableScripts,I=Yv(f),F=A.get(I);F||(F=x.querySelector(GS(I)),F||(f=h({src:f,async:!0},y),(y=yc.get(I))&&t3(f,y),F=x.createElement("script"),Kr(F),Cs(F,"link",f),x.head.appendChild(F)),F={type:"script",instance:F,count:1,state:null},A.set(I,F))}}function J0e(f,y){Lf.M(f,y);var x=qv;if(x&&f){var A=Zl(x).hoistableScripts,I=Yv(f),F=A.get(I);F||(F=x.querySelector(GS(I)),F||(f=h({src:f,async:!0,type:"module"},y),(y=yc.get(I))&&t3(f,y),F=x.createElement("script"),Kr(F),Cs(F,"link",f),x.head.appendChild(F)),F={type:"script",instance:F,count:1,state:null},A.set(I,F))}}function TF(f,y,x,A){var I=(I=ne.current)?rE(I):null;if(!I)throw Error(i(446));switch(f){case"meta":case"title":return null;case"style":return typeof x.precedence=="string"&&typeof x.href=="string"?(y=Wv(x.href),x=Zl(I).hoistableStyles,A=x.get(y),A||(A={type:"style",instance:null,count:0,state:null},x.set(y,A)),A):{type:"void",instance:null,count:0,state:null};case"link":if(x.rel==="stylesheet"&&typeof x.href=="string"&&typeof x.precedence=="string"){f=Wv(x.href);var F=Zl(I).hoistableStyles,fe=F.get(f);if(fe||(I=I.ownerDocument||I,fe={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},F.set(f,fe),(F=I.querySelector(KS(f)))&&!F._p&&(fe.instance=F,fe.state.loading=5),yc.has(f)||(x={rel:"preload",as:"style",href:x.href,crossOrigin:x.crossOrigin,integrity:x.integrity,media:x.media,hrefLang:x.hrefLang,referrerPolicy:x.referrerPolicy},yc.set(f,x),F||Q0e(I,f,x,fe.state))),y&&A===null)throw Error(i(528,""));return fe}if(y&&A!==null)throw Error(i(529,""));return null;case"script":return y=x.async,x=x.src,typeof x=="string"&&y&&typeof y!="function"&&typeof y!="symbol"?(y=Yv(x),x=Zl(I).hoistableScripts,A=x.get(y),A||(A={type:"script",instance:null,count:0,state:null},x.set(y,A)),A):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,f))}}function Wv(f){return'href="'+os(f)+'"'}function KS(f){return'link[rel="stylesheet"]['+f+"]"}function MF(f){return h({},f,{"data-precedence":f.precedence,precedence:null})}function Q0e(f,y,x,A){f.querySelector('link[rel="preload"][as="style"]['+y+"]")?A.loading=1:(y=f.createElement("link"),A.preload=y,y.addEventListener("load",function(){return A.loading|=1}),y.addEventListener("error",function(){return A.loading|=2}),Cs(y,"link",x),Kr(y),f.head.appendChild(y))}function Yv(f){return'[src="'+os(f)+'"]'}function GS(f){return"script[async]"+f}function IF(f,y,x){if(y.count++,y.instance===null)switch(y.type){case"style":var A=f.querySelector('style[data-href~="'+os(x.href)+'"]');if(A)return y.instance=A,Kr(A),A;var I=h({},x,{"data-href":x.href,"data-precedence":x.precedence,href:null,precedence:null});return A=(f.ownerDocument||f).createElement("style"),Kr(A),Cs(A,"style",I),aE(A,x.precedence,f),y.instance=A;case"stylesheet":I=Wv(x.href);var F=f.querySelector(KS(I));if(F)return y.state.loading|=4,y.instance=F,Kr(F),F;A=MF(x),(I=yc.get(I))&&e3(A,I),F=(f.ownerDocument||f).createElement("link"),Kr(F);var fe=F;return fe._p=new Promise(function(be,Me){fe.onload=be,fe.onerror=Me}),Cs(F,"link",A),y.state.loading|=4,aE(F,x.precedence,f),y.instance=F;case"script":return F=Yv(x.src),(I=f.querySelector(GS(F)))?(y.instance=I,Kr(I),I):(A=x,(I=yc.get(F))&&(A=h({},x),t3(A,I)),f=f.ownerDocument||f,I=f.createElement("script"),Kr(I),Cs(I,"link",A),f.head.appendChild(I),y.instance=I);case"void":return null;default:throw Error(i(443,y.type))}else y.type==="stylesheet"&&(y.state.loading&4)===0&&(A=y.instance,y.state.loading|=4,aE(A,x.precedence,f));return y.instance}function aE(f,y,x){for(var A=x.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),I=A.length?A[A.length-1]:null,F=I,fe=0;fe<A.length;fe++){var be=A[fe];if(be.dataset.precedence===y)F=be;else if(F!==I)break}F?F.parentNode.insertBefore(f,F.nextSibling):(y=x.nodeType===9?x.head:x,y.insertBefore(f,y.firstChild))}function e3(f,y){f.crossOrigin==null&&(f.crossOrigin=y.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=y.referrerPolicy),f.title==null&&(f.title=y.title)}function t3(f,y){f.crossOrigin==null&&(f.crossOrigin=y.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=y.referrerPolicy),f.integrity==null&&(f.integrity=y.integrity)}var sE=null;function PF(f,y,x){if(sE===null){var A=new Map,I=sE=new Map;I.set(x,A)}else I=sE,A=I.get(x),A||(A=new Map,I.set(x,A));if(A.has(f))return A;for(A.set(f,null),x=x.getElementsByTagName(f),I=0;I<x.length;I++){var F=x[I];if(!(F[dl]||F[Ki]||f==="link"&&F.getAttribute("rel")==="stylesheet")&&F.namespaceURI!=="http://www.w3.org/2000/svg"){var fe=F.getAttribute(y)||"";fe=f+fe;var be=A.get(fe);be?be.push(F):A.set(fe,[F])}}return A}function kF(f,y,x){f=f.ownerDocument||f,f.head.insertBefore(x,y==="title"?f.querySelector("head > title"):null)}function X0e(f,y,x){if(x===1||y.itemProp!=null)return!1;switch(f){case"meta":case"title":return!0;case"style":if(typeof y.precedence!="string"||typeof y.href!="string"||y.href==="")break;return!0;case"link":if(typeof y.rel!="string"||typeof y.href!="string"||y.href===""||y.onLoad||y.onError)break;switch(y.rel){case"stylesheet":return f=y.disabled,typeof y.precedence=="string"&&f==null;default:return!0}case"script":if(y.async&&typeof y.async!="function"&&typeof y.async!="symbol"&&!y.onLoad&&!y.onError&&y.src&&typeof y.src=="string")return!0}return!1}function $F(f){return!(f.type==="stylesheet"&&(f.state.loading&3)===0)}function Z0e(f,y,x,A){if(x.type==="stylesheet"&&(typeof A.media!="string"||matchMedia(A.media).matches!==!1)&&(x.state.loading&4)===0){if(x.instance===null){var I=Wv(A.href),F=y.querySelector(KS(I));if(F){y=F._p,y!==null&&typeof y=="object"&&typeof y.then=="function"&&(f.count++,f=oE.bind(f),y.then(f,f)),x.state.loading|=4,x.instance=F,Kr(F);return}F=y.ownerDocument||y,A=MF(A),(I=yc.get(I))&&e3(A,I),F=F.createElement("link"),Kr(F);var fe=F;fe._p=new Promise(function(be,Me){fe.onload=be,fe.onerror=Me}),Cs(F,"link",A),x.instance=F}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(x,y),(y=x.state.preload)&&(x.state.loading&3)===0&&(f.count++,x=oE.bind(f),y.addEventListener("load",x),y.addEventListener("error",x))}}var n3=0;function e1e(f,y){return f.stylesheets&&f.count===0&&cE(f,f.stylesheets),0<f.count||0<f.imgCount?function(x){var A=setTimeout(function(){if(f.stylesheets&&cE(f,f.stylesheets),f.unsuspend){var F=f.unsuspend;f.unsuspend=null,F()}},6e4+y);0<f.imgBytes&&n3===0&&(n3=62500*M0e());var I=setTimeout(function(){if(f.waitingForImages=!1,f.count===0&&(f.stylesheets&&cE(f,f.stylesheets),f.unsuspend)){var F=f.unsuspend;f.unsuspend=null,F()}},(f.imgBytes>n3?50:800)+y);return f.unsuspend=x,function(){f.unsuspend=null,clearTimeout(A),clearTimeout(I)}}:null}function oE(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)cE(this,this.stylesheets);else if(this.unsuspend){var f=this.unsuspend;this.unsuspend=null,f()}}}var lE=null;function cE(f,y){f.stylesheets=null,f.unsuspend!==null&&(f.count++,lE=new Map,y.forEach(t1e,f),lE=null,oE.call(f))}function t1e(f,y){if(!(y.state.loading&4)){var x=lE.get(f);if(x)var A=x.get(null);else{x=new Map,lE.set(f,x);for(var I=f.querySelectorAll("link[data-precedence],style[data-precedence]"),F=0;F<I.length;F++){var fe=I[F];(fe.nodeName==="LINK"||fe.getAttribute("media")!=="not all")&&(x.set(fe.dataset.precedence,fe),A=fe)}A&&x.set(null,A)}I=y.instance,fe=I.getAttribute("data-precedence"),F=x.get(fe)||A,F===A&&x.set(null,I),x.set(fe,I),this.count++,A=oE.bind(this),I.addEventListener("load",A),I.addEventListener("error",A),F?F.parentNode.insertBefore(I,F.nextSibling):(f=f.nodeType===9?f.head:f,f.insertBefore(I,f.firstChild)),y.state.loading|=4}}var HS={$$typeof:E,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function n1e(f,y,x,A,I,F,fe,be,Me){this.tag=1,this.containerInfo=f,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bn(0),this.hiddenUpdates=Bn(null),this.identifierPrefix=A,this.onUncaughtError=I,this.onCaughtError=F,this.onRecoverableError=fe,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Me,this.incompleteTransitions=new Map}function FF(f,y,x,A,I,F,fe,be,Me,Ze,pt,_t){return f=new n1e(f,y,x,fe,Me,Ze,pt,_t,be),y=1,F===!0&&(y|=24),F=us(3,null,null,y),f.current=F,F.stateNode=f,y=Jh(),y.refCount++,f.pooledCache=y,y.refCount++,F.memoizedState={element:A,isDehydrated:x,cache:y},zt(F),f}function BF(f){return f?(f=Ka,f):Ka}function zF(f,y,x,A,I,F){I=BF(I),A.context===null?A.context=I:A.pendingContext=I,A=On(y),A.payload={element:x},F=F===void 0?null:F,F!==null&&(A.callback=F),x=Xn(f,A,y),x!==null&&(Wo(x,f,y),Pi(x,f,y))}function UF(f,y){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var x=f.retryLane;f.retryLane=x!==0&&x<y?x:y}}function i3(f,y){UF(f,y),(f=f.alternate)&&UF(f,y)}function VF(f){if(f.tag===13||f.tag===31){var y=ru(f,67108864);y!==null&&Wo(y,f,67108864),i3(f,67108864)}}function KF(f){if(f.tag===13||f.tag===31){var y=_l();y=Ii(y);var x=ru(f,y);x!==null&&Wo(x,f,y),i3(f,y)}}var uE=!0;function i1e(f,y,x,A){var I=q.T;q.T=null;var F=V.p;try{V.p=2,r3(f,y,x,A)}finally{V.p=F,q.T=I}}function r1e(f,y,x,A){var I=q.T;q.T=null;var F=V.p;try{V.p=8,r3(f,y,x,A)}finally{V.p=F,q.T=I}}function r3(f,y,x,A){if(uE){var I=a3(A);if(I===null)K5(f,y,A,dE,x),HF(f,A);else if(s1e(I,f,y,x,A))A.stopPropagation();else if(HF(f,A),y&4&&-1<a1e.indexOf(f)){for(;I!==null;){var F=hl(I);if(F!==null)switch(F.tag){case 3:if(F=F.stateNode,F.current.memoizedState.isDehydrated){var fe=Ut(F.pendingLanes);if(fe!==0){var be=F;for(be.pendingLanes|=2,be.entangledLanes|=2;fe;){var Me=1<<31-Ie(fe);be.entanglements[1]|=Me,fe&=~Me}vd(F),($i&6)===0&&(qw=tt()+500,BS(0))}}break;case 31:case 13:be=ru(F,2),be!==null&&Wo(be,F,2),Yw(),i3(F,2)}if(F=a3(A),F===null&&K5(f,y,A,dE,x),F===I)break;I=F}I!==null&&A.stopPropagation()}else K5(f,y,A,null,x)}}function a3(f){return f=sf(f),s3(f)}var dE=null;function s3(f){if(dE=null,f=fl(f),f!==null){var y=a(f);if(y===null)f=null;else{var x=y.tag;if(x===13){if(f=o(y),f!==null)return f;f=null}else if(x===31){if(f=l(y),f!==null)return f;f=null}else if(x===3){if(y.stateNode.current.memoizedState.isDehydrated)return y.tag===3?y.stateNode.containerInfo:null;f=null}else y!==f&&(f=null)}}return dE=f,null}function GF(f){switch(f){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Je()){case Ve:return 2;case qt:return 8;case Et:case rt:return 32;case xt:return 268435456;default:return 32}default:return 32}}var o3=!1,cp=null,up=null,dp=null,qS=new Map,WS=new Map,fp=[],a1e="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function HF(f,y){switch(f){case"focusin":case"focusout":cp=null;break;case"dragenter":case"dragleave":up=null;break;case"mouseover":case"mouseout":dp=null;break;case"pointerover":case"pointerout":qS.delete(y.pointerId);break;case"gotpointercapture":case"lostpointercapture":WS.delete(y.pointerId)}}function YS(f,y,x,A,I,F){return f===null||f.nativeEvent!==F?(f={blockedOn:y,domEventName:x,eventSystemFlags:A,nativeEvent:F,targetContainers:[I]},y!==null&&(y=hl(y),y!==null&&VF(y)),f):(f.eventSystemFlags|=A,y=f.targetContainers,I!==null&&y.indexOf(I)===-1&&y.push(I),f)}function s1e(f,y,x,A,I){switch(y){case"focusin":return cp=YS(cp,f,y,x,A,I),!0;case"dragenter":return up=YS(up,f,y,x,A,I),!0;case"mouseover":return dp=YS(dp,f,y,x,A,I),!0;case"pointerover":var F=I.pointerId;return qS.set(F,YS(qS.get(F)||null,f,y,x,A,I)),!0;case"gotpointercapture":return F=I.pointerId,WS.set(F,YS(WS.get(F)||null,f,y,x,A,I)),!0}return!1}function qF(f){var y=fl(f.target);if(y!==null){var x=a(y);if(x!==null){if(y=x.tag,y===13){if(y=o(x),y!==null){f.blockedOn=y,Xu(f.priority,function(){KF(x)});return}}else if(y===31){if(y=l(x),y!==null){f.blockedOn=y,Xu(f.priority,function(){KF(x)});return}}else if(y===3&&x.stateNode.current.memoizedState.isDehydrated){f.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}f.blockedOn=null}function fE(f){if(f.blockedOn!==null)return!1;for(var y=f.targetContainers;0<y.length;){var x=a3(f.nativeEvent);if(x===null){x=f.nativeEvent;var A=new x.constructor(x.type,x);Gc=A,x.target.dispatchEvent(A),Gc=null}else return y=hl(x),y!==null&&VF(y),f.blockedOn=x,!1;y.shift()}return!0}function WF(f,y,x){fE(f)&&x.delete(y)}function o1e(){o3=!1,cp!==null&&fE(cp)&&(cp=null),up!==null&&fE(up)&&(up=null),dp!==null&&fE(dp)&&(dp=null),qS.forEach(WF),WS.forEach(WF)}function hE(f,y){f.blockedOn===y&&(f.blockedOn=null,o3||(o3=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,o1e)))}var pE=null;function YF(f){pE!==f&&(pE=f,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){pE===f&&(pE=null);for(var y=0;y<f.length;y+=3){var x=f[y],A=f[y+1],I=f[y+2];if(typeof A!="function"){if(s3(A||x)===null)continue;break}var F=hl(x);F!==null&&(f.splice(y,3),y-=3,a5(F,{pending:!0,data:I,method:x.method,action:A},A,I))}}))}function Jv(f){function y(Me){return hE(Me,f)}cp!==null&&hE(cp,f),up!==null&&hE(up,f),dp!==null&&hE(dp,f),qS.forEach(y),WS.forEach(y);for(var x=0;x<fp.length;x++){var A=fp[x];A.blockedOn===f&&(A.blockedOn=null)}for(;0<fp.length&&(x=fp[0],x.blockedOn===null);)qF(x),x.blockedOn===null&&fp.shift();if(x=(f.ownerDocument||f).$$reactFormReplay,x!=null)for(A=0;A<x.length;A+=3){var I=x[A],F=x[A+1],fe=I[wr]||null;if(typeof F=="function")fe||YF(x);else if(fe){var be=null;if(F&&F.hasAttribute("formAction")){if(I=F,fe=F[wr]||null)be=fe.formAction;else if(s3(I)!==null)continue}else be=fe.action;typeof be=="function"?x[A+1]=be:(x.splice(A,3),A-=3),YF(x)}}}function JF(){function f(F){F.canIntercept&&F.info==="react-transition"&&F.intercept({handler:function(){return new Promise(function(fe){return I=fe})},focusReset:"manual",scroll:"manual"})}function y(){I!==null&&(I(),I=null),A||setTimeout(x,20)}function x(){if(!A&&!navigation.transition){var F=navigation.currentEntry;F&&F.url!=null&&navigation.navigate(F.url,{state:F.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var A=!1,I=null;return navigation.addEventListener("navigate",f),navigation.addEventListener("navigatesuccess",y),navigation.addEventListener("navigateerror",y),setTimeout(x,100),function(){A=!0,navigation.removeEventListener("navigate",f),navigation.removeEventListener("navigatesuccess",y),navigation.removeEventListener("navigateerror",y),I!==null&&(I(),I=null)}}}function l3(f){this._internalRoot=f}mE.prototype.render=l3.prototype.render=function(f){var y=this._internalRoot;if(y===null)throw Error(i(409));var x=y.current,A=_l();zF(x,A,f,y,null,null)},mE.prototype.unmount=l3.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var y=f.containerInfo;zF(f.current,2,null,f,null,null),Yw(),y[ss]=null}};function mE(f){this._internalRoot=f}mE.prototype.unstable_scheduleHydration=function(f){if(f){var y=Vr();f={blockedOn:null,target:f,priority:y};for(var x=0;x<fp.length&&y!==0&&y<fp[x].priority;x++);fp.splice(x,0,f),x===0&&qF(f)}};var QF=t.version;if(QF!=="19.2.0")throw Error(i(527,QF,"19.2.0"));V.findDOMNode=function(f){var y=f._reactInternals;if(y===void 0)throw typeof f.render=="function"?Error(i(188)):(f=Object.keys(f).join(","),Error(i(268,f)));return f=u(y),f=f!==null?d(f):null,f=f===null?null:f.stateNode,f};var l1e={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yE=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yE.isDisabled&&yE.supportsFiber)try{$t=yE.inject(l1e),jt=yE}catch{}}return XS.createRoot=function(f,y){if(!r(f))throw Error(i(299));var x=!1,A="",I=r$,F=a$,fe=s$;return y!=null&&(y.unstable_strictMode===!0&&(x=!0),y.identifierPrefix!==void 0&&(A=y.identifierPrefix),y.onUncaughtError!==void 0&&(I=y.onUncaughtError),y.onCaughtError!==void 0&&(F=y.onCaughtError),y.onRecoverableError!==void 0&&(fe=y.onRecoverableError)),y=FF(f,1,!1,null,null,x,A,null,I,F,fe,JF),f[ss]=y.current,V5(f),new l3(y)},XS.hydrateRoot=function(f,y,x){if(!r(f))throw Error(i(299));var A=!1,I="",F=r$,fe=a$,be=s$,Me=null;return x!=null&&(x.unstable_strictMode===!0&&(A=!0),x.identifierPrefix!==void 0&&(I=x.identifierPrefix),x.onUncaughtError!==void 0&&(F=x.onUncaughtError),x.onCaughtError!==void 0&&(fe=x.onCaughtError),x.onRecoverableError!==void 0&&(be=x.onRecoverableError),x.formState!==void 0&&(Me=x.formState)),y=FF(f,1,!0,y,x??null,A,I,Me,F,fe,be,JF),y.context=BF(null),x=y.current,A=_l(),A=Ii(A),I=On(A),I.callback=null,Xn(x,I,A),x=A,y.current.lanes=x,Vt(y,x),vd(y),f[ss]=y.current,V5(f),new mE(y)},XS.version="19.2.0",XS}var lB;function S1e(){if(lB)return f3.exports;lB=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),f3.exports=v1e(),f3.exports}var b1e=S1e();const x1e=ol(b1e);var w1e=(e,t,n,i,r,a,o,l)=>{let c=document.documentElement,u=["light","dark"];function d(p){(Array.isArray(e)?e:[e]).forEach(v=>{let S=v==="class",b=S&&a?r.map(w=>a[w]||w):r;S?(c.classList.remove(...b),c.classList.add(a&&a[p]?a[p]:p)):c.setAttribute(v,p)}),h(p)}function h(p){l&&u.includes(p)&&(c.style.colorScheme=p)}function m(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(i)d(i);else try{let p=localStorage.getItem(t)||n,v=o&&p==="system"?m():p;d(v)}catch{}},cB=["light","dark"],kee="(prefers-color-scheme: dark)",E1e=typeof window>"u",$ee=g.createContext(void 0),_1e=e=>g.useContext($ee)?g.createElement(g.Fragment,null,e.children):g.createElement(R1e,{...e}),A1e=["light","dark"],R1e=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:i=!0,storageKey:r="theme",themes:a=A1e,defaultTheme:o=n?"system":"light",attribute:l="data-theme",value:c,children:u,nonce:d,scriptProps:h})=>{let[m,p]=g.useState(()=>O1e(r,o)),[v,S]=g.useState(()=>m==="system"?y3():m),b=c?Object.values(c):a,w=g.useCallback(N=>{let O=N;if(!O)return;N==="system"&&n&&(O=y3());let j=c?c[O]:O,D=t?j1e(d):null,P=document.documentElement,B=M=>{M==="class"?(P.classList.remove(...b),j&&P.classList.add(j)):M.startsWith("data-")&&(j?P.setAttribute(M,j):P.removeAttribute(M))};if(Array.isArray(l)?l.forEach(B):B(l),i){let M=cB.includes(o)?o:null,z=cB.includes(O)?O:M;P.style.colorScheme=z}D==null||D()},[d]),R=g.useCallback(N=>{let O=typeof N=="function"?N(m):N;p(O);try{localStorage.setItem(r,O)}catch{}},[m]),E=g.useCallback(N=>{let O=y3(N);S(O),m==="system"&&n&&!e&&w("system")},[m,e]);g.useEffect(()=>{let N=window.matchMedia(kee);return N.addListener(E),E(N),()=>N.removeListener(E)},[E]),g.useEffect(()=>{let N=O=>{O.key===r&&(O.newValue?p(O.newValue):R(o))};return window.addEventListener("storage",N),()=>window.removeEventListener("storage",N)},[R]),g.useEffect(()=>{w(e??m)},[e,m]);let _=g.useMemo(()=>({theme:m,setTheme:R,forcedTheme:e,resolvedTheme:m==="system"?v:m,themes:n?[...a,"system"]:a,systemTheme:n?v:void 0}),[m,R,e,v,n,a]);return g.createElement($ee.Provider,{value:_},g.createElement(N1e,{forcedTheme:e,storageKey:r,attribute:l,enableSystem:n,enableColorScheme:i,defaultTheme:o,value:c,themes:a,nonce:d,scriptProps:h}),u)},N1e=g.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:i,enableColorScheme:r,defaultTheme:a,value:o,themes:l,nonce:c,scriptProps:u})=>{let d=JSON.stringify([n,t,a,e,l,o,i,r]).slice(1,-1);return g.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${w1e.toString()})(${d})`}})}),O1e=(e,t)=>{if(E1e)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||t},j1e=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},y3=e=>(e||(e=window.matchMedia(kee)),e.matches?"dark":"light");const C0=new WeakMap,z_=new WeakMap,RA={current:[]};let g3=!1,Yb=0;const Ib=new Set,gE=new Map;function Fee(e){const t=Array.from(e).sort((n,i)=>n instanceof L0&&n.options.deps.includes(i)?1:i instanceof L0&&i.options.deps.includes(n)?-1:0);for(const n of t){if(RA.current.includes(n))continue;RA.current.push(n),n.recompute();const i=z_.get(n);if(i)for(const r of i){const a=C0.get(r);a&&Fee(a)}}}function D1e(e){const t={prevVal:e.prevState,currentVal:e.state};for(const n of e.listeners)n(t)}function C1e(e){const t={prevVal:e.prevState,currentVal:e.state};for(const n of e.listeners)n(t)}function Bee(e){if(Yb>0&&!gE.has(e)&&gE.set(e,e.prevState),Ib.add(e),!(Yb>0)&&!g3)try{for(g3=!0;Ib.size>0;){const t=Array.from(Ib);Ib.clear();for(const n of t){const i=gE.get(n)??n.prevState;n.prevState=i,D1e(n)}for(const n of t){const i=C0.get(n);i&&(RA.current.push(n),Fee(i))}for(const n of t){const i=C0.get(n);if(i)for(const r of i)C1e(r)}}}finally{g3=!1,RA.current=[],gE.clear()}}function Jb(e){Yb++;try{e()}finally{if(Yb--,Yb===0){const t=Ib.values().next().value;t&&Bee(t)}}}function L1e(e){return typeof e=="function"}let h4=class{constructor(t,n){this.listeners=new Set,this.subscribe=i=>{var r,a;this.listeners.add(i);const o=(a=(r=this.options)==null?void 0:r.onSubscribe)==null?void 0:a.call(r,i,this);return()=>{this.listeners.delete(i),o==null||o()}},this.prevState=t,this.state=t,this.options=n}setState(t){var n,i,r;this.prevState=this.state,(n=this.options)!=null&&n.updateFn?this.state=this.options.updateFn(this.prevState)(t):L1e(t)?this.state=t(this.prevState):this.state=t,(r=(i=this.options)==null?void 0:i.onUpdate)==null||r.call(i),Bee(this)}};class L0{constructor(t){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const n=this.options.deps.length,i=new Array(n),r=new Array(n);for(let a=0;a<n;a++){const o=this.options.deps[a];i[a]=o.prevState,r[a]=o.state}return this.lastSeenDepValues=r,{prevDepVals:i,currDepVals:r,prevVal:this.prevState??void 0}},this.recompute=()=>{var n,i;this.prevState=this.state;const r=this.getDepVals();this.state=this.options.fn(r),(i=(n=this.options).onUpdate)==null||i.call(n)},this.checkIfRecalculationNeededDeeply=()=>{for(const a of this.options.deps)a instanceof L0&&a.checkIfRecalculationNeededDeeply();let n=!1;const i=this.lastSeenDepValues,{currDepVals:r}=this.getDepVals();for(let a=0;a<r.length;a++)if(r[a]!==i[a]){n=!0;break}n&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const n of this._subscriptions)n()}),this.subscribe=n=>{var i,r;this.listeners.add(n);const a=(r=(i=this.options).onSubscribe)==null?void 0:r.call(i,n,this);return()=>{this.listeners.delete(n),a==null||a()}},this.options=t,this.state=t.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(t=this.options.deps){for(const n of t)if(n instanceof L0)n.registerOnGraph(),this.registerOnGraph(n.options.deps);else if(n instanceof h4){let i=C0.get(n);i||(i=new Set,C0.set(n,i)),i.add(this);let r=z_.get(this);r||(r=new Set,z_.set(this,r)),r.add(n)}}unregisterFromGraph(t=this.options.deps){for(const n of t)if(n instanceof L0)this.unregisterFromGraph(n.options.deps);else if(n instanceof h4){const i=C0.get(n);i&&i.delete(this);const r=z_.get(this);r&&r.delete(n)}}}const Zp="__TSR_index",uB="popstate",dB="beforeunload";function T1e(e){let t=e.getLocation();const n=new Set,i=o=>{t=e.getLocation(),n.forEach(l=>l({location:t,action:o}))},r=o=>{e.notifyOnIndexChange??!0?i(o):t=e.getLocation()},a=async({task:o,navigateOpts:l,...c})=>{var m,p;if((l==null?void 0:l.ignoreBlocker)??!1){o();return}const d=((m=e.getBlockers)==null?void 0:m.call(e))??[],h=c.type==="PUSH"||c.type==="REPLACE";if(typeof document<"u"&&d.length&&h)for(const v of d){const S=NA(c.path,c.state);if(await v.blockerFn({currentLocation:t,nextLocation:S,action:c.type})){(p=e.onBlocked)==null||p.call(e);return}}o()};return{get location(){return t},get length(){return e.getLength()},subscribers:n,subscribe:o=>(n.add(o),()=>{n.delete(o)}),push:(o,l,c)=>{const u=t.state[Zp];l=fB(u+1,l),a({task:()=>{e.pushState(o,l),i({type:"PUSH"})},navigateOpts:c,type:"PUSH",path:o,state:l})},replace:(o,l,c)=>{const u=t.state[Zp];l=fB(u,l),a({task:()=>{e.replaceState(o,l),i({type:"REPLACE"})},navigateOpts:c,type:"REPLACE",path:o,state:l})},go:(o,l)=>{a({task:()=>{e.go(o),r({type:"GO",index:o})},navigateOpts:l,type:"GO"})},back:o=>{a({task:()=>{e.back((o==null?void 0:o.ignoreBlocker)??!1),r({type:"BACK"})},navigateOpts:o,type:"BACK"})},forward:o=>{a({task:()=>{e.forward((o==null?void 0:o.ignoreBlocker)??!1),r({type:"FORWARD"})},navigateOpts:o,type:"FORWARD"})},canGoBack:()=>t.state[Zp]!==0,createHref:o=>e.createHref(o),block:o=>{var c;if(!e.setBlockers)return()=>{};const l=((c=e.getBlockers)==null?void 0:c.call(e))??[];return e.setBlockers([...l,o]),()=>{var d,h;const u=((d=e.getBlockers)==null?void 0:d.call(e))??[];(h=e.setBlockers)==null||h.call(e,u.filter(m=>m!==o))}},flush:()=>{var o;return(o=e.flush)==null?void 0:o.call(e)},destroy:()=>{var o;return(o=e.destroy)==null?void 0:o.call(e)},notify:i}}function fB(e,t){t||(t={});const n=KI();return{...t,key:n,__TSR_key:n,[Zp]:e}}function M1e(e){var D,P;const t=typeof document<"u"?window:void 0,n=t.history.pushState,i=t.history.replaceState;let r=[];const a=()=>r,o=B=>r=B,l=(B=>B),c=(()=>NA(`${t.location.pathname}${t.location.search}${t.location.hash}`,t.history.state));if(!((D=t.history.state)!=null&&D.__TSR_key)&&!((P=t.history.state)!=null&&P.key)){const B=KI();t.history.replaceState({[Zp]:0,key:B,__TSR_key:B},"")}let u=c(),d,h=!1,m=!1,p=!1,v=!1;const S=()=>u;let b,w;const R=()=>{b&&(j._ignoreSubscribers=!0,(b.isPush?t.history.pushState:t.history.replaceState)(b.state,"",b.href),j._ignoreSubscribers=!1,b=void 0,w=void 0,d=void 0)},E=(B,M,z)=>{const U=l(M);w||(d=u),u=NA(M,z),b={href:U,state:z,isPush:(b==null?void 0:b.isPush)||B==="push"},w||(w=Promise.resolve().then(()=>R()))},_=B=>{u=c(),j.notify({type:B})},N=async()=>{if(m){m=!1;return}const B=c(),M=B.state[Zp]-u.state[Zp],z=M===1,U=M===-1,K=!z&&!U||h;h=!1;const te=K?"GO":U?"BACK":"FORWARD",q=K?{type:"GO",index:M}:{type:U?"BACK":"FORWARD"};if(p)p=!1;else{const V=a();if(typeof document<"u"&&V.length){for(const Q of V)if(await Q.blockerFn({currentLocation:u,nextLocation:B,action:te})){m=!0,t.history.go(1),j.notify(q);return}}}u=c(),j.notify(q)},O=B=>{if(v){v=!1;return}let M=!1;const z=a();if(typeof document<"u"&&z.length)for(const U of z){const K=U.enableBeforeUnload??!0;if(K===!0){M=!0;break}if(typeof K=="function"&&K()===!0){M=!0;break}}if(M)return B.preventDefault(),B.returnValue=""},j=T1e({getLocation:S,getLength:()=>t.history.length,pushState:(B,M)=>E("push",B,M),replaceState:(B,M)=>E("replace",B,M),back:B=>(B&&(p=!0),v=!0,t.history.back()),forward:B=>{B&&(p=!0),v=!0,t.history.forward()},go:B=>{h=!0,t.history.go(B)},createHref:B=>l(B),flush:R,destroy:()=>{t.history.pushState=n,t.history.replaceState=i,t.removeEventListener(dB,O,{capture:!0}),t.removeEventListener(uB,N)},onBlocked:()=>{d&&u!==d&&(u=d)},getBlockers:a,setBlockers:o,notifyOnIndexChange:!1});return t.addEventListener(dB,O,{capture:!0}),t.addEventListener(uB,N),t.history.pushState=function(...B){const M=n.apply(t.history,B);return j._ignoreSubscribers||_("PUSH"),M},t.history.replaceState=function(...B){const M=i.apply(t.history,B);return j._ignoreSubscribers||_("REPLACE"),M},j}function NA(e,t){const n=e.indexOf("#"),i=e.indexOf("?"),r=KI();return{href:e,pathname:e.substring(0,n>0?i>0?Math.min(n,i):n:i>0?i:e.length),hash:n>-1?e.substring(n):"",search:i>-1?e.slice(i,n===-1?void 0:n):"",state:t||{[Zp]:0,key:r,__TSR_key:r}}}function KI(){return(Math.random()+1).toString(36).substring(7)}function p4(e){return e[e.length-1]}function I1e(e){return typeof e=="function"}function ng(e,t){return I1e(e)?e(t):e}const P1e=Object.prototype.hasOwnProperty;function _c(e,t){if(e===t)return e;const n=t,i=mB(e)&&mB(n);if(!i&&!(OA(e)&&OA(n)))return n;const r=i?e:hB(e);if(!r)return n;const a=i?n:hB(n);if(!a)return n;const o=r.length,l=a.length,c=i?new Array(l):{};let u=0;for(let d=0;d<l;d++){const h=i?d:a[d],m=e[h],p=n[h];if(m===p){c[h]=m,(i?d<o:P1e.call(e,h))&&u++;continue}if(m===null||p===null||typeof m!="object"||typeof p!="object"){c[h]=p;continue}const v=_c(m,p);c[h]=v,v===m&&u++}return o===l&&u===o?e:c}function hB(e){const t=[],n=Object.getOwnPropertyNames(e);for(const r of n){if(!Object.prototype.propertyIsEnumerable.call(e,r))return!1;t.push(r)}const i=Object.getOwnPropertySymbols(e);for(const r of i){if(!Object.prototype.propertyIsEnumerable.call(e,r))return!1;t.push(r)}return t}function OA(e){if(!pB(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const n=t.prototype;return!(!pB(n)||!n.hasOwnProperty("isPrototypeOf"))}function pB(e){return Object.prototype.toString.call(e)==="[object Object]"}function mB(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ig(e,t,n){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(let i=0,r=e.length;i<r;i++)if(!ig(e[i],t[i],n))return!1;return!0}if(OA(e)&&OA(t)){const i=(n==null?void 0:n.ignoreUndefined)??!0;if(n!=null&&n.partial){for(const o in t)if((!i||t[o]!==void 0)&&!ig(e[o],t[o],n))return!1;return!0}let r=0;if(!i)r=Object.keys(e).length;else for(const o in e)e[o]!==void 0&&r++;let a=0;for(const o in t)if((!i||t[o]!==void 0)&&(a++,a>r||!ig(e[o],t[o],n)))return!1;return r===a}return!1}function h1(e){let t,n;const i=new Promise((r,a)=>{t=r,n=a});return i.status="pending",i.resolve=r=>{i.status="resolved",i.value=r,t(r),e==null||e(r)},i.reject=r=>{i.status="rejected",n(r)},i}function em(e){return!!(e&&typeof e=="object"&&typeof e.then=="function")}var k1e="Invariant failed";function kd(e,t){if(!e)throw new Error(k1e)}const jl="__root__",Cd=0,vg=1,p1=2,m1=3;function rh(e){return GI(e.filter(t=>t!==void 0).join("/"))}function GI(e){return e.replace(/\/{2,}/g,"/")}function HI(e){return e==="/"?e:e.replace(/^\/{1,}/,"")}function tm(e){return e==="/"?e:e.replace(/\/{1,}$/,"")}function m4(e){return tm(HI(e))}function jA(e,t){return e!=null&&e.endsWith("/")&&e!=="/"&&e!==`${t}/`?e.slice(0,-1):e}function $1e(e,t,n){return jA(e,n)===jA(t,n)}function F1e(e){const{type:t,value:n}=e;if(t===Cd)return n;const{prefixSegment:i,suffixSegment:r}=e;if(t===vg){const a=n.substring(1);if(i&&r)return`${i}{$${a}}${r}`;if(i)return`${i}{$${a}}`;if(r)return`{$${a}}${r}`}if(t===m1){const a=n.substring(1);return i&&r?`${i}{-$${a}}${r}`:i?`${i}{-$${a}}`:r?`{-$${a}}${r}`:`{-$${a}}`}if(t===p1){if(i&&r)return`${i}{$}${r}`;if(i)return`${i}{$}`;if(r)return`{$}${r}`}return n}function B1e({base:e,to:t,trailingSlash:n="never",parseCache:i}){var c;let r=zee(e,i).slice();const a=TN(t,i);r.length>1&&((c=p4(r))==null?void 0:c.value)==="/"&&r.pop();for(let u=0,d=a.length;u<d;u++){const h=a[u],m=h.value;m==="/"?u?u===d-1&&r.push(h):r=[h]:m===".."?r.pop():m==="."||r.push(h)}r.length>1&&(p4(r).value==="/"?n==="never"&&r.pop():n==="always"&&r.push({type:Cd,value:"/"}));const o=r.map(F1e);return rh(o)}const zee=(e,t)=>Uee(e,t,!0),TN=(e,t)=>Uee(e,t,!1),Uee=(e,t,n)=>{if(!e)return[];const i=t==null?void 0:t.get(e);if(i)return i;const r=H1e(e,n);return t==null||t.set(e,r),r},z1e=/^\$.{1,}$/,U1e=/^(.*?)\{(\$[a-zA-Z_$][a-zA-Z0-9_$]*)\}(.*)$/,V1e=/^(.*?)\{-(\$[a-zA-Z_$][a-zA-Z0-9_$]*)\}(.*)$/,K1e=/^\$$/,G1e=/^(.*?)\{\$\}(.*)$/;function H1e(e,t){e=GI(e);const n=[];if(e.slice(0,1)==="/"&&(e=e.substring(1),n.push({type:Cd,value:"/"})),!e)return n;const i=e.split("/").filter(Boolean);return n.push(...i.map(r=>{const a=!t&&r!==jl&&r.slice(-1)==="_"?r.slice(0,-1):r,o=a.match(G1e);if(o){const u=o[1],d=o[2];return{type:p1,value:"$",prefixSegment:u||void 0,suffixSegment:d||void 0}}const l=a.match(V1e);if(l){const u=l[1],d=l[2],h=l[3];return{type:m1,value:d,prefixSegment:u||void 0,suffixSegment:h||void 0}}const c=a.match(U1e);if(c){const u=c[1],d=c[2],h=c[3];return{type:vg,value:""+d,prefixSegment:u||void 0,suffixSegment:h||void 0}}if(z1e.test(a)){const u=a.substring(1);return{type:vg,value:"$"+u,prefixSegment:void 0,suffixSegment:void 0}}return K1e.test(a)?{type:p1,value:"$",prefixSegment:void 0,suffixSegment:void 0}:{type:Cd,value:a.includes("%25")?a.split("%25").map(u=>decodeURI(u)).join("%25"):decodeURI(a)}})),e.slice(-1)==="/"&&(e=e.substring(1),n.push({type:Cd,value:"/"})),n}function vE({path:e,params:t,leaveWildcards:n,leaveParams:i,decodeCharMap:r,parseCache:a}){const o=TN(e,a);function l(h){const m=t[h],p=typeof m=="string";return h==="*"||h==="_splat"?p?encodeURI(m):m:p?q1e(m,r):m}let c=!1;const u={},d=rh(o.map(h=>{if(h.type===Cd)return h.value;if(h.type===p1){u._splat=t._splat,u["*"]=t._splat;const m=h.prefixSegment||"",p=h.suffixSegment||"";if(!("_splat"in t))return c=!0,n?`${m}${h.value}${p}`:m||p?`${m}${p}`:void 0;const v=l("_splat");return n?`${m}${h.value}${v??""}${p}`:`${m}${v}${p}`}if(h.type===vg){const m=h.value.substring(1);!c&&!(m in t)&&(c=!0),u[m]=t[m];const p=h.prefixSegment||"",v=h.suffixSegment||"";if(i){const S=l(h.value);return`${p}${h.value}${S??""}${v}`}return`${p}${l(m)??"undefined"}${v}`}if(h.type===m1){const m=h.value.substring(1),p=h.prefixSegment||"",v=h.suffixSegment||"";if(!(m in t)||t[m]==null)return n?`${p}${m}${v}`:p||v?`${p}${v}`:void 0;if(u[m]=t[m],i){const S=l(h.value);return`${p}${h.value}${S??""}${v}`}return n?`${p}${m}${l(m)??""}${v}`:`${p}${l(m)??""}${v}`}return h.value}));return{usedParams:u,interpolatedPath:d,isMissingParams:c}}function q1e(e,t){let n=encodeURIComponent(e);if(t)for(const[i,r]of t)n=n.replaceAll(i,r);return n}function y4(e,t,n){const i=W1e(e,t,n);if(!(t.to&&!i))return i??{}}function W1e(e,{to:t,fuzzy:n,caseSensitive:i},r){const a=t,o=zee(e.startsWith("/")?e:`/${e}`,r),l=TN(a.startsWith("/")?a:`/${a}`,r),c={};return Y1e(o,l,c,n,i)?c:void 0}function Y1e(e,t,n,i,r){var l,c,u;let a=0,o=0;for(;a<e.length||o<t.length;){const d=e[a],h=t[o];if(h){if(h.type===p1){const m=e.slice(a);let p;if(h.prefixSegment||h.suffixSegment){if(!d)return!1;const v=h.prefixSegment||"",S=h.suffixSegment||"",b=d.value;if("prefixSegment"in h&&!b.startsWith(v)||"suffixSegment"in h&&!((l=e[e.length-1])!=null&&l.value.endsWith(S)))return!1;let w=decodeURI(rh(m.map(R=>R.value)));v&&w.startsWith(v)&&(w=w.slice(v.length)),S&&w.endsWith(S)&&(w=w.slice(0,w.length-S.length)),p=w}else p=decodeURI(rh(m.map(v=>v.value)));return n["*"]=p,n._splat=p,!0}if(h.type===Cd){if(h.value==="/"&&!(d!=null&&d.value)){o++;continue}if(d){if(r){if(h.value!==d.value)return!1}else if(h.value.toLowerCase()!==d.value.toLowerCase())return!1;a++,o++;continue}else return!1}if(h.type===vg){if(!d||d.value==="/")return!1;let m="",p=!1;if(h.prefixSegment||h.suffixSegment){const v=h.prefixSegment||"",S=h.suffixSegment||"",b=d.value;if(v&&!b.startsWith(v)||S&&!b.endsWith(S))return!1;let w=b;v&&w.startsWith(v)&&(w=w.slice(v.length)),S&&w.endsWith(S)&&(w=w.slice(0,w.length-S.length)),m=decodeURIComponent(w),p=!0}else m=decodeURIComponent(d.value),p=!0;p&&(n[h.value.substring(1)]=m,a++),o++;continue}if(h.type===m1){if(!d){o++;continue}if(d.value==="/"){o++;continue}let m="",p=!1;if(h.prefixSegment||h.suffixSegment){const v=h.prefixSegment||"",S=h.suffixSegment||"",b=d.value;if((!v||b.startsWith(v))&&(!S||b.endsWith(S))){let w=b;v&&w.startsWith(v)&&(w=w.slice(v.length)),S&&w.endsWith(S)&&(w=w.slice(0,w.length-S.length)),m=decodeURIComponent(w),p=!0}}else{let v=!0;for(let S=o+1;S<t.length;S++){const b=t[S];if((b==null?void 0:b.type)===Cd&&b.value===d.value){v=!1;break}if((b==null?void 0:b.type)===vg||(b==null?void 0:b.type)===p1){e.length<t.length&&(v=!1);break}}v&&(m=decodeURIComponent(d.value),p=!0)}p&&(n[h.value.substring(1)]=m,a++),o++;continue}}if(a<e.length&&o>=t.length)return n["**"]=rh(e.slice(a).map(m=>m.value)),!!i&&((c=t[t.length-1])==null?void 0:c.value)!=="/";if(o<t.length&&a>=e.length){for(let m=o;m<t.length;m++)if(((u=t[m])==null?void 0:u.type)!==m1)return!1;break}break}return!0}const J1e=.75,Q1e=1,X1e=.5,Z1e=.4,eSe=.25,tSe=.2,nSe=.05,iSe=.02,rSe=.01,yB=2e-4,gB=1e-4;function vB(e,t){return e.prefixSegment&&e.suffixSegment?t+nSe+yB*e.prefixSegment.length+gB*e.suffixSegment.length:e.prefixSegment?t+iSe+yB*e.prefixSegment.length:e.suffixSegment?t+rSe+gB*e.suffixSegment.length:t}function aSe(e){const t=[];return e.forEach((i,r)=>{var h;if(i.isRoot||!i.path)return;const a=HI(i.fullPath);let o=TN(a),l=0;for(;o.length>l+1&&((h=o[l])==null?void 0:h.value)==="/";)l++;l>0&&(o=o.slice(l));let c=0,u=!1;const d=o.map((m,p)=>{if(m.value==="/")return J1e;if(m.type===Cd)return Q1e;let v;m.type===vg?v=X1e:m.type===m1?(v=Z1e,c++):v=eSe;for(let S=p+1;S<o.length;S++){const b=o[S];if(b.type===Cd&&b.value!=="/")return u=!0,vB(m,v+tSe)}return vB(m,v)});t.push({child:i,trimmed:a,parsed:o,index:r,scores:d,optionalParamCount:c,hasStaticAfter:u})}),t.sort((i,r)=>{const a=Math.min(i.scores.length,r.scores.length);for(let o=0;o<a;o++)if(i.scores[o]!==r.scores[o])return r.scores[o]-i.scores[o];if(i.scores.length!==r.scores.length){if(i.optionalParamCount!==r.optionalParamCount){if(i.hasStaticAfter===r.hasStaticAfter)return i.optionalParamCount-r.optionalParamCount;if(i.hasStaticAfter&&!r.hasStaticAfter)return-1;if(!i.hasStaticAfter&&r.hasStaticAfter)return 1}return r.scores.length-i.scores.length}for(let o=0;o<a;o++)if(i.parsed[o].value!==r.parsed[o].value)return i.parsed[o].value>r.parsed[o].value?1:-1;return i.index-r.index}).map((i,r)=>(i.child.rank=r,i.child))}function sSe({routeTree:e,initRoute:t}){const n={},i={},r=o=>{o.forEach((l,c)=>{t==null||t(l,c);const u=n[l.id];if(kd(!u,`Duplicate routes found with id: ${String(l.id)}`),n[l.id]=l,!l.isRoot&&l.path){const h=tm(l.fullPath);(!i[h]||l.fullPath.endsWith("/"))&&(i[h]=l)}const d=l.children;d!=null&&d.length&&r(d)})};r([e]);const a=aSe(Object.values(n));return{routesById:n,routesByPath:i,flatRoutes:a}}function $d(e){return!!(e!=null&&e.isNotFound)}function oSe(){try{if(typeof window<"u"&&typeof window.sessionStorage=="object")return window.sessionStorage}catch{}}const DA="tsr-scroll-restoration-v1_3",lSe=(e,t)=>{let n;return(...i)=>{n||(n=setTimeout(()=>{e(...i),n=null},t))}};function cSe(){const e=oSe();if(!e)return null;const t=e.getItem(DA);let n=t?JSON.parse(t):{};return{state:n,set:i=>(n=ng(i,n)||n,e.setItem(DA,JSON.stringify(n)))}}const SE=cSe(),g4=e=>e.state.__TSR_key||e.href;function uSe(e){const t=[];let n;for(;n=e.parentNode;)t.push(`${e.tagName}:nth-child(${Array.prototype.indexOf.call(n.children,e)+1})`),e=n;return`${t.reverse().join(" > ")}`.toLowerCase()}let CA=!1;function Vee({storageKey:e,key:t,behavior:n,shouldScrollRestoration:i,scrollToTopSelectors:r,location:a}){var u,d;let o;try{o=JSON.parse(sessionStorage.getItem(e)||"{}")}catch(h){console.error(h);return}const l=t||((u=window.history.state)==null?void 0:u.__TSR_key),c=o[l];CA=!0;e:{if(i&&c&&Object.keys(c).length>0){for(const p in c){const v=c[p];if(p==="window")window.scrollTo({top:v.scrollY,left:v.scrollX,behavior:n});else if(p){const S=document.querySelector(p);S&&(S.scrollLeft=v.scrollX,S.scrollTop=v.scrollY)}}break e}const h=(a??window.location).hash.split("#",2)[1];if(h){const p=((d=window.history.state)==null?void 0:d.__hashScrollIntoViewOptions)??!0;if(p){const v=document.getElementById(h);v&&v.scrollIntoView(p)}break e}const m={top:0,left:0,behavior:n};if(window.scrollTo(m),r)for(const p of r){if(p==="window")continue;const v=typeof p=="function"?p():document.querySelector(p);v&&v.scrollTo(m)}}CA=!1}function dSe(e,t){if(!SE&&!e.isServer||((e.options.scrollRestoration??!1)&&(e.isScrollRestoring=!0),e.isServer||e.isScrollRestorationSetup||!SE))return;e.isScrollRestorationSetup=!0,CA=!1;const i=e.options.getScrollRestorationKey||g4;window.history.scrollRestoration="manual";const r=a=>{if(CA||!e.isScrollRestoring)return;let o="";if(a.target===document||a.target===window)o="window";else{const c=a.target.getAttribute("data-scroll-restoration-id");c?o=`[data-scroll-restoration-id="${c}"]`:o=uSe(a.target)}const l=i(e.state.location);SE.set(c=>{const u=c[l]||(c[l]={}),d=u[o]||(u[o]={});if(o==="window")d.scrollX=window.scrollX||0,d.scrollY=window.scrollY||0;else if(o){const h=document.querySelector(o);h&&(d.scrollX=h.scrollLeft||0,d.scrollY=h.scrollTop||0)}return c})};typeof document<"u"&&document.addEventListener("scroll",lSe(r,100),!0),e.subscribe("onRendered",a=>{const o=i(a.toLocation);if(!e.resetNextScroll){e.resetNextScroll=!0;return}typeof e.options.scrollRestoration=="function"&&!e.options.scrollRestoration({location:e.latestLocation})||(Vee({storageKey:DA,key:o,behavior:e.options.scrollRestorationBehavior,shouldScrollRestoration:e.isScrollRestoring,scrollToTopSelectors:e.options.scrollToTopSelectors,location:e.history.location}),e.isScrollRestoring&&SE.set(l=>(l[o]||(l[o]={}),l)))})}function fSe(e){if(typeof document<"u"&&document.querySelector){const t=e.state.location.state.__hashScrollIntoViewOptions??!0;if(t&&e.state.location.hash!==""){const n=document.getElementById(e.state.location.hash);n&&n.scrollIntoView(t)}}}function hSe(e,t=String){const n=new URLSearchParams;for(const i in e){const r=e[i];r!==void 0&&n.set(i,t(r))}return n.toString()}function v3(e){return e?e==="false"?!1:e==="true"?!0:+e*0===0&&+e+""===e?+e:e:""}function pSe(e){const t=new URLSearchParams(e),n={};for(const[i,r]of t.entries()){const a=n[i];a==null?n[i]=v3(r):Array.isArray(a)?a.push(v3(r)):n[i]=[a,v3(r)]}return n}const mSe=gSe(JSON.parse),ySe=vSe(JSON.stringify,JSON.parse);function gSe(e){return t=>{t[0]==="?"&&(t=t.substring(1));const n=pSe(t);for(const i in n){const r=n[i];if(typeof r=="string")try{n[i]=e(r)}catch{}}return n}}function vSe(e,t){const n=typeof t=="function";function i(r){if(typeof r=="object"&&r!==null)try{return e(r)}catch{}else if(n&&typeof r=="string")try{return t(r),e(r)}catch{}return r}return r=>{const a=hSe(r,i);return a?`?${a}`:""}}function MN(e){if(e.statusCode=e.statusCode||e.code||307,!e.reloadDocument&&typeof e.href=="string")try{new URL(e.href),e.reloadDocument=!0}catch{}const t=new Headers(e.headers);e.href&&t.get("Location")===null&&t.set("Location",e.href);const n=new Response(null,{status:e.statusCode,headers:t});if(n.options=e,e.throw)throw n;return n}function Nd(e){return e instanceof Response&&!!e.options}function SSe(e){const t=new Map;let n,i;const r=a=>{a.next&&(a.prev?(a.prev.next=a.next,a.next.prev=a.prev,a.next=void 0,i&&(i.next=a,a.prev=i)):(a.next.prev=void 0,n=a.next,a.next=void 0,i&&(a.prev=i,i.next=a)),i=a)};return{get(a){const o=t.get(a);if(o)return r(o),o.value},set(a,o){if(t.size>=e&&n){const c=n;t.delete(c.key),c.next&&(n=c.next,c.next.prev=void 0),c===i&&(i=void 0)}const l=t.get(a);if(l)l.value=o,r(l);else{const c={key:a,value:o,prev:i};i&&(i.next=c),i=c,n||(n=c),t.set(a,c)}}}}const U_=e=>{var t;if(!e.rendered)return e.rendered=!0,(t=e.onReady)==null?void 0:t.call(e)},IN=(e,t)=>!!(e.preload&&!e.router.state.matches.some(n=>n.id===t)),Kee=(e,t)=>{var r;const n=e.router.routesById[t.routeId??""]??e.router.routeTree;!n.options.notFoundComponent&&((r=e.router.options)!=null&&r.defaultNotFoundComponent)&&(n.options.notFoundComponent=e.router.options.defaultNotFoundComponent),kd(n.options.notFoundComponent);const i=e.matches.find(a=>a.routeId===n.id);kd(i,"Could not find match for route: "+n.id),e.updateMatch(i.id,a=>({...a,status:"notFound",error:t,isFetching:!1})),t.routerCode==="BEFORE_LOAD"&&n.parentRoute&&(t.routeId=n.parentRoute.id,Kee(e,t))},Gp=(e,t,n)=>{var i,r,a;if(!(!Nd(n)&&!$d(n))){if(Nd(n)&&n.redirectHandled&&!n.options.reloadDocument)throw n;if(t){(i=t._nonReactive.beforeLoadPromise)==null||i.resolve(),(r=t._nonReactive.loaderPromise)==null||r.resolve(),t._nonReactive.beforeLoadPromise=void 0,t._nonReactive.loaderPromise=void 0;const o=Nd(n)?"redirected":"notFound";e.updateMatch(t.id,l=>({...l,status:o,isFetching:!1,error:n})),$d(n)&&!n.routeId&&(n.routeId=t.routeId),(a=t._nonReactive.loadPromise)==null||a.resolve()}throw Nd(n)?(e.rendered=!0,n.options._fromLocation=e.location,n.redirectHandled=!0,n=e.router.resolveRedirect(n),n):(Kee(e,n),n)}},Gee=(e,t)=>{const n=e.router.getMatch(t);return!!(!e.router.isServer&&n._nonReactive.dehydrated||e.router.isServer&&n.ssr===!1)},ZS=(e,t,n,i)=>{var l,c;const{id:r,routeId:a}=e.matches[t],o=e.router.looseRoutesById[a];if(n instanceof Promise)throw n;n.routerCode=i,e.firstBadMatchIndex??(e.firstBadMatchIndex=t),Gp(e,e.router.getMatch(r),n);try{(c=(l=o.options).onError)==null||c.call(l,n)}catch(u){n=u,Gp(e,e.router.getMatch(r),n)}e.updateMatch(r,u=>{var d,h;return(d=u._nonReactive.beforeLoadPromise)==null||d.resolve(),u._nonReactive.beforeLoadPromise=void 0,(h=u._nonReactive.loadPromise)==null||h.resolve(),{...u,error:n,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController}})},bSe=(e,t,n,i)=>{var p;const r=e.router.getMatch(t),a=(p=e.matches[n-1])==null?void 0:p.id,o=a?e.router.getMatch(a):void 0;if(e.router.isShell()){r.ssr=t===jl;return}if((o==null?void 0:o.ssr)===!1){r.ssr=!1;return}const l=v=>v===!0&&(o==null?void 0:o.ssr)==="data-only"?"data-only":v,c=e.router.options.defaultSsr??!0;if(i.options.ssr===void 0){r.ssr=l(c);return}if(typeof i.options.ssr!="function"){r.ssr=l(i.options.ssr);return}const{search:u,params:d}=r,h={search:bE(u,r.searchError),params:bE(d,r.paramsError),location:e.location,matches:e.matches.map(v=>({index:v.index,pathname:v.pathname,fullPath:v.fullPath,staticData:v.staticData,id:v.id,routeId:v.routeId,search:bE(v.search,v.searchError),params:bE(v.params,v.paramsError),ssr:v.ssr}))},m=i.options.ssr(h);if(em(m))return m.then(v=>{r.ssr=l(v??c)});r.ssr=l(m??c)},Hee=(e,t,n,i)=>{var o;if(i._nonReactive.pendingTimeout!==void 0)return;const r=n.options.pendingMs??e.router.options.defaultPendingMs;if(!!(e.onReady&&!e.router.isServer&&!IN(e,t)&&(n.options.loader||n.options.beforeLoad||Yee(n))&&typeof r=="number"&&r!==1/0&&(n.options.pendingComponent??((o=e.router.options)==null?void 0:o.defaultPendingComponent)))){const l=setTimeout(()=>{U_(e)},r);i._nonReactive.pendingTimeout=l}},xSe=(e,t,n)=>{const i=e.router.getMatch(t);if(!i._nonReactive.beforeLoadPromise&&!i._nonReactive.loaderPromise)return;Hee(e,t,n,i);const r=()=>{const a=e.router.getMatch(t);a.preload&&(a.status==="redirected"||a.status==="notFound")&&Gp(e,a,a.error)};return i._nonReactive.beforeLoadPromise?i._nonReactive.beforeLoadPromise.then(r):r()},wSe=(e,t,n,i)=>{var j;const r=e.router.getMatch(t),a=r._nonReactive.loadPromise;r._nonReactive.loadPromise=h1(()=>{a==null||a.resolve()});const{paramsError:o,searchError:l}=r;o&&ZS(e,n,o,"PARSE_PARAMS"),l&&ZS(e,n,l,"VALIDATE_SEARCH"),Hee(e,t,i,r);const c=new AbortController,u=(j=e.matches[n-1])==null?void 0:j.id,d=u?e.router.getMatch(u):void 0,m={...(d==null?void 0:d.context)??e.router.options.context??void 0,...r.__routeContext};let p=!1;const v=()=>{p||(p=!0,e.updateMatch(t,D=>({...D,isFetching:"beforeLoad",fetchCount:D.fetchCount+1,abortController:c,context:m})))},S=()=>{var D;(D=r._nonReactive.beforeLoadPromise)==null||D.resolve(),r._nonReactive.beforeLoadPromise=void 0,e.updateMatch(t,P=>({...P,isFetching:!1}))};if(!i.options.beforeLoad){Jb(()=>{v(),S()});return}r._nonReactive.beforeLoadPromise=h1();const{search:b,params:w,cause:R}=r,E=IN(e,t),_={search:b,abortController:c,params:w,preload:E,context:m,location:e.location,navigate:D=>e.router.navigate({...D,_fromLocation:e.location}),buildLocation:e.router.buildLocation,cause:E?"preload":R,matches:e.matches,...e.router.options.additionalContext},N=D=>{if(D===void 0){Jb(()=>{v(),S()});return}(Nd(D)||$d(D))&&(v(),ZS(e,n,D,"BEFORE_LOAD")),Jb(()=>{v(),e.updateMatch(t,P=>({...P,__beforeLoadContext:D,context:{...P.context,...D}})),S()})};let O;try{if(O=i.options.beforeLoad(_),em(O))return v(),O.catch(D=>{ZS(e,n,D,"BEFORE_LOAD")}).then(N)}catch(D){v(),ZS(e,n,D,"BEFORE_LOAD")}N(O)},ESe=(e,t)=>{const{id:n,routeId:i}=e.matches[t],r=e.router.looseRoutesById[i],a=()=>{if(e.router.isServer){const c=bSe(e,n,t,r);if(em(c))return c.then(l)}return l()},o=()=>wSe(e,n,t,r),l=()=>{if(Gee(e,n))return;const c=xSe(e,n,r);return em(c)?c.then(o):o()};return a()},Qb=(e,t,n)=>{var a,o,l,c,u,d;const i=e.router.getMatch(t);if(!i||!n.options.head&&!n.options.scripts&&!n.options.headers)return;const r={matches:e.matches,match:i,params:i.params,loaderData:i.loaderData};return Promise.all([(o=(a=n.options).head)==null?void 0:o.call(a,r),(c=(l=n.options).scripts)==null?void 0:c.call(l,r),(d=(u=n.options).headers)==null?void 0:d.call(u,r)]).then(([h,m,p])=>{const v=h==null?void 0:h.meta,S=h==null?void 0:h.links,b=h==null?void 0:h.scripts,w=h==null?void 0:h.styles;return{meta:v,links:S,headScripts:b,headers:p,scripts:m,styles:w}})},qee=(e,t,n,i)=>{const r=e.matchPromises[n-1],{params:a,loaderDeps:o,abortController:l,context:c,cause:u}=e.router.getMatch(t),d=IN(e,t);return{params:a,deps:o,preload:!!d,parentMatchPromise:r,abortController:l,context:c,location:e.location,navigate:h=>e.router.navigate({...h,_fromLocation:e.location}),cause:d?"preload":u,route:i,...e.router.options.additionalContext}},SB=async(e,t,n,i)=>{var r,a,o,l;try{const c=e.router.getMatch(t);try{(!e.router.isServer||c.ssr===!0)&&Wee(i);const u=(a=(r=i.options).loader)==null?void 0:a.call(r,qee(e,t,n,i)),d=i.options.loader&&em(u);if(!!(d||i._lazyPromise||i._componentsPromise||i.options.head||i.options.scripts||i.options.headers||c._nonReactive.minPendingPromise)&&e.updateMatch(t,S=>({...S,isFetching:"loader"})),i.options.loader){const S=d?await u:u;Gp(e,e.router.getMatch(t),S),S!==void 0&&e.updateMatch(t,b=>({...b,loaderData:S}))}i._lazyPromise&&await i._lazyPromise;const m=Qb(e,t,i),p=m?await m:void 0,v=c._nonReactive.minPendingPromise;v&&await v,i._componentsPromise&&await i._componentsPromise,e.updateMatch(t,S=>({...S,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),...p}))}catch(u){let d=u;const h=c._nonReactive.minPendingPromise;h&&await h,Gp(e,e.router.getMatch(t),u);try{(l=(o=i.options).onError)==null||l.call(o,u)}catch(v){d=v,Gp(e,e.router.getMatch(t),v)}const m=Qb(e,t,i),p=m?await m:void 0;e.updateMatch(t,v=>({...v,error:d,status:"error",isFetching:!1,...p}))}}catch(c){const u=e.router.getMatch(t);if(u){const d=Qb(e,t,i);if(d){const h=await d;e.updateMatch(t,m=>({...m,...h}))}u._nonReactive.loaderPromise=void 0}Gp(e,u,c)}},_Se=async(e,t)=>{var u,d;const{id:n,routeId:i}=e.matches[t];let r=!1,a=!1;const o=e.router.looseRoutesById[i];if(Gee(e,n)){if(e.router.isServer){const h=Qb(e,n,o);if(h){const m=await h;e.updateMatch(n,p=>({...p,...m}))}return e.router.getMatch(n)}}else{const h=e.router.getMatch(n);if(h._nonReactive.loaderPromise){if(h.status==="success"&&!e.sync&&!h.preload)return h;await h._nonReactive.loaderPromise;const m=e.router.getMatch(n);m.error&&Gp(e,m,m.error)}else{const m=Date.now()-h.updatedAt,p=IN(e,n),v=p?o.options.preloadStaleTime??e.router.options.defaultPreloadStaleTime??3e4:o.options.staleTime??e.router.options.defaultStaleTime??0,S=o.options.shouldReload,b=typeof S=="function"?S(qee(e,n,t,o)):S,w=!!p&&!e.router.state.matches.some(N=>N.id===n),R=e.router.getMatch(n);R._nonReactive.loaderPromise=h1(),w!==R.preload&&e.updateMatch(n,N=>({...N,preload:w}));const{status:E,invalid:_}=R;if(r=E==="success"&&(_||(b??m>v)),!(p&&o.options.preload===!1))if(r&&!e.sync)a=!0,(async()=>{var N,O;try{await SB(e,n,t,o);const j=e.router.getMatch(n);(N=j._nonReactive.loaderPromise)==null||N.resolve(),(O=j._nonReactive.loadPromise)==null||O.resolve(),j._nonReactive.loaderPromise=void 0}catch(j){Nd(j)&&await e.router.navigate(j.options)}})();else if(E!=="success"||r&&e.sync)await SB(e,n,t,o);else{const N=Qb(e,n,o);if(N){const O=await N;e.updateMatch(n,j=>({...j,...O}))}}}}const l=e.router.getMatch(n);a||((u=l._nonReactive.loaderPromise)==null||u.resolve(),(d=l._nonReactive.loadPromise)==null||d.resolve()),clearTimeout(l._nonReactive.pendingTimeout),l._nonReactive.pendingTimeout=void 0,a||(l._nonReactive.loaderPromise=void 0),l._nonReactive.dehydrated=void 0;const c=a?l.isFetching:!1;return c!==l.isFetching||l.invalid!==!1?(e.updateMatch(n,h=>({...h,isFetching:c,invalid:!1})),e.router.getMatch(n)):l};async function bB(e){const t=Object.assign(e,{matchPromises:[]});!t.router.isServer&&t.router.state.matches.some(n=>n._forcePending)&&U_(t);try{for(let r=0;r<t.matches.length;r++){const a=ESe(t,r);em(a)&&await a}const n=t.firstBadMatchIndex??t.matches.length;for(let r=0;r<n;r++)t.matchPromises.push(_Se(t,r));await Promise.all(t.matchPromises);const i=U_(t);em(i)&&await i}catch(n){if($d(n)&&!t.preload){const i=U_(t);throw em(i)&&await i,n}if(Nd(n))throw n}return t.matches}async function Wee(e){if(!e._lazyLoaded&&e._lazyPromise===void 0&&(e.lazyFn?e._lazyPromise=e.lazyFn().then(t=>{const{id:n,...i}=t.options;Object.assign(e.options,i),e._lazyLoaded=!0,e._lazyPromise=void 0}):e._lazyLoaded=!0),!e._componentsLoaded&&e._componentsPromise===void 0){const t=()=>{var i;const n=[];for(const r of Jee){const a=(i=e.options[r])==null?void 0:i.preload;a&&n.push(a())}if(n.length)return Promise.all(n).then(()=>{e._componentsLoaded=!0,e._componentsPromise=void 0});e._componentsLoaded=!0,e._componentsPromise=void 0};e._componentsPromise=e._lazyPromise?e._lazyPromise.then(t):t()}return e._componentsPromise}function bE(e,t){return t?{status:"error",error:t}:{status:"success",value:e}}function Yee(e){var t;for(const n of Jee)if((t=e.options[n])!=null&&t.preload)return!0;return!1}const Jee=["component","errorComponent","pendingComponent","notFoundComponent"];function ASe(e){return{input:({url:t})=>{for(const n of e)t=Qee(n,t);return t},output:({url:t})=>{for(let n=e.length-1;n>=0;n--)t=Xee(e[n],t);return t}}}function RSe(e){const t=m4(e.basepath),n=`/${t}`,i=`${n}/`,r=e.caseSensitive?n:n.toLowerCase(),a=e.caseSensitive?i:i.toLowerCase();return{input:({url:o})=>{const l=e.caseSensitive?o.pathname:o.pathname.toLowerCase();return l===r?o.pathname="/":l.startsWith(a)&&(o.pathname=o.pathname.slice(n.length)),o},output:({url:o})=>(o.pathname=rh(["/",t,o.pathname]),o)}}function Qee(e,t){var i;const n=(i=e==null?void 0:e.input)==null?void 0:i.call(e,{url:t});if(n){if(typeof n=="string")return new URL(n);if(n instanceof URL)return n}return t}function Xee(e,t){var i;const n=(i=e==null?void 0:e.output)==null?void 0:i.call(e,{url:t});if(n){if(typeof n=="string")return new URL(n);if(n instanceof URL)return n}return t}function rg(e){const t=e.resolvedLocation,n=e.location,i=(t==null?void 0:t.pathname)!==n.pathname,r=(t==null?void 0:t.href)!==n.href,a=(t==null?void 0:t.hash)!==n.hash;return{fromLocation:t,toLocation:n,pathChanged:i,hrefChanged:r,hashChanged:a}}class NSe{constructor(t){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=n=>n(),this.update=n=>{var i;if(n.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info."),this.options={...this.options,...n},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(r=>[encodeURIComponent(r),r])):void 0,(!this.history||this.options.history&&this.options.history!==this.history)&&(this.options.history?this.history=this.options.history:this.isServer||(this.history=M1e())),this.options.basepath){const r=RSe({basepath:this.options.basepath});this.options.rewrite?this.rewrite=ASe([r,this.options.rewrite]):this.rewrite=r}else this.rewrite=this.options.rewrite;this.origin=this.options.origin,this.origin||(this.isServer?this.origin="http://localhost":this.origin=window.origin),this.history&&this.updateLatestLocation(),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),!this.__store&&this.latestLocation&&(this.__store=new h4(jSe(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(r=>!["redirected"].includes(r.status))}}}),dSe(this)),typeof window<"u"&&"CSS"in window&&typeof((i=window.CSS)==null?void 0:i.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.updateLatestLocation=()=>{this.latestLocation=this.parseLocation(this.history.location,this.latestLocation)},this.buildRouteTree=()=>{const{routesById:n,routesByPath:i,flatRoutes:r}=sSe({routeTree:this.routeTree,initRoute:(o,l)=>{o.init({originalIndex:l})}});this.routesById=n,this.routesByPath=i,this.flatRoutes=r;const a=this.options.notFoundRoute;a&&(a.init({originalIndex:99999999999}),this.routesById[a.id]=a)},this.subscribe=(n,i)=>{const r={eventType:n,fn:i};return this.subscribers.add(r),()=>{this.subscribers.delete(r)}},this.emit=n=>{this.subscribers.forEach(i=>{i.eventType===n.type&&i.fn(n)})},this.parseLocation=(n,i)=>{const r=({href:c,state:u})=>{const d=new URL(c,this.origin),h=Qee(this.rewrite,d),m=this.options.parseSearch(h.search),p=this.options.stringifySearch(m);h.search=p;const v=h.href.replace(h.origin,""),{pathname:S,hash:b}=h;return{href:v,publicHref:c,url:h.href,pathname:S,searchStr:p,search:_c(i==null?void 0:i.search,m),hash:b.split("#").reverse()[0]??"",state:_c(i==null?void 0:i.state,u)}},a=r(n),{__tempLocation:o,__tempKey:l}=a.state;if(o&&(!l||l===this.tempLocationKey)){const c=r(o);return c.state.key=a.state.key,c.state.__TSR_key=a.state.__TSR_key,delete c.state.__tempLocation,{...c,maskedLocation:a}}return a},this.resolvePathWithBase=(n,i)=>B1e({base:n,to:GI(i),trailingSlash:this.options.trailingSlash,parseCache:this.parsePathnameCache}),this.matchRoutes=(n,i,r)=>typeof n=="string"?this.matchRoutesInternal({pathname:n,search:i},r):this.matchRoutesInternal(n,i),this.parsePathnameCache=SSe(1e3),this.getMatchedRoutes=(n,i)=>DSe({pathname:n,routePathname:i,caseSensitive:this.options.caseSensitive,routesByPath:this.routesByPath,routesById:this.routesById,flatRoutes:this.flatRoutes,parseCache:this.parsePathnameCache}),this.cancelMatch=n=>{const i=this.getMatch(n);i&&(i.abortController.abort(),clearTimeout(i._nonReactive.pendingTimeout),i._nonReactive.pendingTimeout=void 0)},this.cancelMatches=()=>{var n;(n=this.state.pendingMatches)==null||n.forEach(i=>{this.cancelMatch(i.id)})},this.buildLocation=n=>{const i=(a={})=>{var B,M;const o=a._fromLocation||this.latestLocation,l=this.matchRoutes(o,{_buildLocation:!0}),c=p4(l);a.from;const u=a.unsafeRelative==="path"?o.pathname:a.from??c.fullPath,d=this.resolvePathWithBase(u,"."),h=c.search,m={...c.params},p=a.to?this.resolvePathWithBase(d,`${a.to}`):this.resolvePathWithBase(d,"."),v=a.params===!1||a.params===null?{}:(a.params??!0)===!0?m:Object.assign(m,ng(a.params,m)),S=vE({path:p,params:v,parseCache:this.parsePathnameCache}).interpolatedPath,b=this.matchRoutes(S,void 0,{_buildLocation:!0}).map(z=>this.looseRoutesById[z.routeId]);if(Object.keys(v).length>0)for(const z of b){const U=((B=z.options.params)==null?void 0:B.stringify)??z.options.stringifyParams;U&&Object.assign(v,U(v))}const w=vE({path:p,params:v,leaveWildcards:!1,leaveParams:n.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap,parseCache:this.parsePathnameCache}).interpolatedPath;let R=h;if(n._includeValidateSearch&&((M=this.options.search)!=null&&M.strict)){const z={};b.forEach(U=>{if(U.options.validateSearch)try{Object.assign(z,v4(U.options.validateSearch,{...z,...R}))}catch{}}),R=z}R=CSe({search:R,dest:a,destRoutes:b,_includeValidateSearch:n._includeValidateSearch}),R=_c(h,R);const E=this.options.stringifySearch(R),_=a.hash===!0?o.hash:a.hash?ng(a.hash,o.hash):void 0,N=_?`#${_}`:"";let O=a.state===!0?o.state:a.state?ng(a.state,o.state):{};O=_c(o.state,O);const j=`${w}${E}${N}`,D=new URL(j,this.origin),P=Xee(this.rewrite,D);return{publicHref:P.pathname+P.search+P.hash,href:j,url:P.href,pathname:w,search:R,searchStr:E,state:O,hash:_??"",unmaskOnReload:a.unmaskOnReload}},r=(a={},o)=>{var u;const l=i(a);let c=o?i(o):void 0;if(!c){let d={};const h=(u=this.options.routeMasks)==null?void 0:u.find(m=>{const p=y4(l.pathname,{to:m.from,caseSensitive:!1,fuzzy:!1},this.parsePathnameCache);return p?(d=p,!0):!1});if(h){const{from:m,...p}=h;o={from:n.from,...p,params:d},c=i(o)}}return c&&(l.maskedLocation=c),l};return n.mask?r(n,{from:n.from,...n.mask}):r(n)},this.commitLocation=({viewTransition:n,ignoreBlocker:i,...r})=>{const a=()=>{const c=["key","__TSR_key","__TSR_index","__hashScrollIntoViewOptions"];c.forEach(d=>{r.state[d]=this.latestLocation.state[d]});const u=ig(r.state,this.latestLocation.state);return c.forEach(d=>{delete r.state[d]}),u},o=tm(this.latestLocation.href)===tm(r.href),l=this.commitLocationPromise;if(this.commitLocationPromise=h1(()=>{l==null||l.resolve()}),o&&a())this.load();else{let{maskedLocation:c,hashScrollIntoView:u,...d}=r;c&&(d={...c,state:{...c.state,__tempKey:void 0,__tempLocation:{...d,search:d.searchStr,state:{...d.state,__tempKey:void 0,__tempLocation:void 0,__TSR_key:void 0,key:void 0}}}},(d.unmaskOnReload??this.options.unmaskOnReload??!1)&&(d.state.__tempKey=this.tempLocationKey)),d.state.__hashScrollIntoViewOptions=u??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=n,this.history[r.replace?"replace":"push"](d.publicHref,d.state,{ignoreBlocker:i})}return this.resetNextScroll=r.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:n,resetScroll:i,hashScrollIntoView:r,viewTransition:a,ignoreBlocker:o,href:l,...c}={})=>{if(l){const d=this.history.location.state.__TSR_index,h=NA(l,{__TSR_index:n?d:d+1});c.to=h.pathname,c.search=this.options.parseSearch(h.search),c.hash=h.hash.slice(1)}const u=this.buildLocation({...c,_includeValidateSearch:!0});return this.commitLocation({...u,viewTransition:a,replace:n,resetScroll:i,hashScrollIntoView:r,ignoreBlocker:o})},this.navigate=({to:n,reloadDocument:i,href:r,...a})=>{if(!i&&r)try{new URL(`${r}`),i=!0}catch{}return i?(r||(r=this.buildLocation({to:n,...a}).href),a.replace?window.location.replace(r):window.location.href=r,Promise.resolve()):this.buildAndCommitLocation({...a,href:r,to:n,_isNavigate:!0})},this.beforeLoad=()=>{if(this.cancelMatches(),this.updateLatestLocation(),this.isServer){const i=this.buildLocation({to:this.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0}),r=a=>{try{return encodeURI(decodeURI(a))}catch{return a}};if(m4(r(this.latestLocation.href))!==m4(r(i.href)))throw MN({href:i.href})}const n=this.matchRoutes(this.latestLocation);this.__store.setState(i=>({...i,status:"pending",statusCode:200,isLoading:!0,location:this.latestLocation,pendingMatches:n,cachedMatches:i.cachedMatches.filter(r=>!n.some(a=>a.id===r.id))}))},this.load=async n=>{let i,r,a;for(a=new Promise(o=>{this.startTransition(async()=>{var l;try{this.beforeLoad();const c=this.latestLocation,u=this.state.resolvedLocation;this.state.redirect||this.emit({type:"onBeforeNavigate",...rg({resolvedLocation:u,location:c})}),this.emit({type:"onBeforeLoad",...rg({resolvedLocation:u,location:c})}),await bB({router:this,sync:n==null?void 0:n.sync,matches:this.state.pendingMatches,location:c,updateMatch:this.updateMatch,onReady:async()=>{this.startViewTransition(async()=>{let d,h,m;Jb(()=>{this.__store.setState(p=>{const v=p.matches,S=p.pendingMatches||p.matches;return d=v.filter(b=>!S.some(w=>w.id===b.id)),h=S.filter(b=>!v.some(w=>w.id===b.id)),m=v.filter(b=>S.some(w=>w.id===b.id)),{...p,isLoading:!1,loadedAt:Date.now(),matches:S,pendingMatches:void 0,cachedMatches:[...p.cachedMatches,...d.filter(b=>b.status!=="error")]}}),this.clearExpiredCache()}),[[d,"onLeave"],[h,"onEnter"],[m,"onStay"]].forEach(([p,v])=>{p.forEach(S=>{var b,w;(w=(b=this.looseRoutesById[S.routeId].options)[v])==null||w.call(b,S)})})})}})}catch(c){Nd(c)?(i=c,this.isServer||this.navigate({...i.options,replace:!0,ignoreBlocker:!0})):$d(c)&&(r=c),this.__store.setState(u=>({...u,statusCode:i?i.status:r?404:u.matches.some(d=>d.status==="error")?500:200,redirect:i}))}this.latestLoadPromise===a&&((l=this.commitLocationPromise)==null||l.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),o()})}),this.latestLoadPromise=a,await a;this.latestLoadPromise&&a!==this.latestLoadPromise;)await this.latestLoadPromise;this.hasNotFoundMatch()&&this.__store.setState(o=>({...o,statusCode:404}))},this.startViewTransition=n=>{const i=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,i&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let r;if(typeof i=="object"&&this.isViewTransitionTypesSupported){const a=this.latestLocation,o=this.state.resolvedLocation,l=typeof i.types=="function"?i.types(rg({resolvedLocation:o,location:a})):i.types;r={update:n,types:l}}else r=n;document.startViewTransition(r)}else n()},this.updateMatch=(n,i)=>{var a;const r=(a=this.state.pendingMatches)!=null&&a.some(o=>o.id===n)?"pendingMatches":this.state.matches.some(o=>o.id===n)?"matches":this.state.cachedMatches.some(o=>o.id===n)?"cachedMatches":"";r&&this.__store.setState(o=>{var l;return{...o,[r]:(l=o[r])==null?void 0:l.map(c=>c.id===n?i(c):c)}})},this.getMatch=n=>{var r;const i=a=>a.id===n;return this.state.cachedMatches.find(i)??((r=this.state.pendingMatches)==null?void 0:r.find(i))??this.state.matches.find(i)},this.invalidate=n=>{const i=r=>{var a;return((a=n==null?void 0:n.filter)==null?void 0:a.call(n,r))??!0?{...r,invalid:!0,...n!=null&&n.forcePending||r.status==="error"?{status:"pending",error:void 0}:void 0}:r};return this.__store.setState(r=>{var a;return{...r,matches:r.matches.map(i),cachedMatches:r.cachedMatches.map(i),pendingMatches:(a=r.pendingMatches)==null?void 0:a.map(i)}}),this.shouldViewTransition=!1,this.load({sync:n==null?void 0:n.sync})},this.resolveRedirect=n=>{if(!n.options.href){const i=this.buildLocation(n.options);let r=i.url;this.origin&&r.startsWith(this.origin)&&(r=r.replace(this.origin,"")||"/"),n.options.href=i.href,n.headers.set("Location",r)}return n.headers.get("Location")||n.headers.set("Location",n.options.href),n},this.clearCache=n=>{const i=n==null?void 0:n.filter;i!==void 0?this.__store.setState(r=>({...r,cachedMatches:r.cachedMatches.filter(a=>!i(a))})):this.__store.setState(r=>({...r,cachedMatches:[]}))},this.clearExpiredCache=()=>{const n=i=>{const r=this.looseRoutesById[i.routeId];if(!r.options.loader)return!0;const a=(i.preload?r.options.preloadGcTime??this.options.defaultPreloadGcTime:r.options.gcTime??this.options.defaultGcTime)??300*1e3;return i.status==="error"?!0:Date.now()-i.updatedAt>=a};this.clearCache({filter:n})},this.loadRouteChunk=Wee,this.preloadRoute=async n=>{const i=this.buildLocation(n);let r=this.matchRoutes(i,{throwOnError:!0,preload:!0,dest:n});const a=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(l=>l.id)),o=new Set([...a,...this.state.cachedMatches.map(l=>l.id)]);Jb(()=>{r.forEach(l=>{o.has(l.id)||this.__store.setState(c=>({...c,cachedMatches:[...c.cachedMatches,l]}))})});try{return r=await bB({router:this,matches:r,location:i,preload:!0,updateMatch:(l,c)=>{a.has(l)?r=r.map(u=>u.id===l?c(u):u):this.updateMatch(l,c)}}),r}catch(l){if(Nd(l))return l.options.reloadDocument?void 0:await this.preloadRoute({...l.options,_fromLocation:i});$d(l)||console.error(l);return}},this.matchRoute=(n,i)=>{const r={...n,to:n.to?this.resolvePathWithBase(n.from||"",n.to):void 0,params:n.params||{},leaveParams:!0},a=this.buildLocation(r);if(i!=null&&i.pending&&this.state.status!=="pending")return!1;const l=((i==null?void 0:i.pending)===void 0?!this.state.isLoading:i.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,c=y4(l.pathname,{...i,to:a.pathname},this.parsePathnameCache);return!c||n.params&&!ig(c,n.params,{partial:!0})?!1:c&&((i==null?void 0:i.includeSearch)??!0)?ig(l.search,a.search,{partial:!0})?c:!1:c},this.hasNotFoundMatch=()=>this.__store.state.matches.some(n=>n.status==="notFound"||n.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...t,caseSensitive:t.caseSensitive??!1,notFoundMode:t.notFoundMode??"fuzzy",stringifySearch:t.stringifySearch??ySe,parseSearch:t.parseSearch??mSe}),typeof document<"u"&&(self.__TSR_ROUTER__=this)}isShell(){return!!this.options.isShell}isPrerendering(){return!!this.options.isPrerendering}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutesInternal(t,n){var d;const{foundRoute:i,matchedRoutes:r,routeParams:a}=this.getMatchedRoutes(t.pathname,(d=n==null?void 0:n.dest)==null?void 0:d.to);let o=!1;(i?i.path!=="/"&&a["**"]:tm(t.pathname))&&(this.options.notFoundRoute?r.push(this.options.notFoundRoute):o=!0);const l=(()=>{if(o){if(this.options.notFoundMode!=="root")for(let h=r.length-1;h>=0;h--){const m=r[h];if(m.children)return m.id}return jl}})(),c=[],u=h=>(h==null?void 0:h.id)?h.context??this.options.context??void 0:this.options.context??void 0;return r.forEach((h,m)=>{var U,K,te;const p=c[m-1],[v,S,b]=(()=>{const q=(p==null?void 0:p.search)??t.search,V=(p==null?void 0:p._strictSearch)??void 0;try{const Q=v4(h.options.validateSearch,{...q})??void 0;return[{...q,...Q},{...V,...Q},void 0]}catch(Q){let ce=Q;if(Q instanceof LA||(ce=new LA(Q.message,{cause:Q})),n!=null&&n.throwOnError)throw ce;return[q,{},ce]}})(),w=((K=(U=h.options).loaderDeps)==null?void 0:K.call(U,{search:v}))??"",R=w?JSON.stringify(w):"",{interpolatedPath:E,usedParams:_}=vE({path:h.fullPath,params:a,decodeCharMap:this.pathParamsDecodeCharMap}),N=vE({path:h.id,params:a,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap,parseCache:this.parsePathnameCache}).interpolatedPath+R,O=this.getMatch(N),j=this.state.matches.find(q=>q.routeId===h.id),D=(O==null?void 0:O._strictParams)??_;let P;if(!O){const q=((te=h.options.params)==null?void 0:te.parse)??h.options.parseParams;if(q)try{Object.assign(D,q(D))}catch(V){if(P=new OSe(V.message,{cause:V}),n!=null&&n.throwOnError)throw P}}Object.assign(a,D);const B=j?"stay":"enter";let M;if(O)M={...O,cause:B,params:j?_c(j.params,a):a,_strictParams:D,search:_c(j?j.search:O.search,v),_strictSearch:S};else{const q=h.options.loader||h.options.beforeLoad||h.lazyFn||Yee(h)?"pending":"success";M={id:N,index:m,routeId:h.id,params:j?_c(j.params,a):a,_strictParams:D,pathname:E,updatedAt:Date.now(),search:j?_c(j.search,v):v,_strictSearch:S,searchError:void 0,status:q,isFetching:!1,error:void 0,paramsError:P,__routeContext:void 0,_nonReactive:{loadPromise:h1()},__beforeLoadContext:void 0,context:{},abortController:new AbortController,fetchCount:0,cause:B,loaderDeps:j?_c(j.loaderDeps,w):w,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:h.options.staticData||{},fullPath:h.fullPath}}n!=null&&n.preload||(M.globalNotFound=l===h.id),M.searchError=b;const z=u(p);M.context={...z,...M.__routeContext,...M.__beforeLoadContext},c.push(M)}),c.forEach((h,m)=>{const p=this.looseRoutesById[h.routeId];if(!this.getMatch(h.id)&&(n==null?void 0:n._buildLocation)!==!0){const S=c[m-1],b=u(S);if(p.options.context){const w={deps:h.loaderDeps,params:h.params,context:b??{},location:t,navigate:R=>this.navigate({...R,_fromLocation:t}),buildLocation:this.buildLocation,cause:h.cause,abortController:h.abortController,preload:!!h.preload,matches:c};h.__routeContext=p.options.context(w)??void 0}h.context={...b,...h.__routeContext,...h.__beforeLoadContext}}}),c}}class LA extends Error{}class OSe extends Error{}function jSe(e){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:e,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function v4(e,t){if(e==null)return{};if("~standard"in e){const n=e["~standard"].validate(t);if(n instanceof Promise)throw new LA("Async validation not supported");if(n.issues)throw new LA(JSON.stringify(n.issues,void 0,2),{cause:n});return n.value}return"parse"in e?e.parse(t):typeof e=="function"?e(t):{}}function DSe({pathname:e,routePathname:t,caseSensitive:n,routesByPath:i,routesById:r,flatRoutes:a,parseCache:o}){let l={};const c=tm(e),u=p=>{var S;return y4(c,{to:p.fullPath,caseSensitive:((S=p.options)==null?void 0:S.caseSensitive)??n,fuzzy:!0},o)};let d=t!==void 0?i[t]:void 0;if(d)l=u(d);else{let p;for(const v of a){const S=u(v);if(S)if(v.path!=="/"&&S["**"])p||(p={foundRoute:v,routeParams:S});else{d=v,l=S;break}}!d&&p&&(d=p.foundRoute,l=p.routeParams)}let h=d||r[jl];const m=[h];for(;h.parentRoute;)h=h.parentRoute,m.push(h);return m.reverse(),{matchedRoutes:m,routeParams:l,foundRoute:d}}function CSe({search:e,dest:t,destRoutes:n,_includeValidateSearch:i}){const r=n.reduce((l,c)=>{var d;const u=[];if("search"in c.options)(d=c.options.search)!=null&&d.middlewares&&u.push(...c.options.search.middlewares);else if(c.options.preSearchFilters||c.options.postSearchFilters){const h=({search:m,next:p})=>{let v=m;"preSearchFilters"in c.options&&c.options.preSearchFilters&&(v=c.options.preSearchFilters.reduce((b,w)=>w(b),m));const S=p(v);return"postSearchFilters"in c.options&&c.options.postSearchFilters?c.options.postSearchFilters.reduce((b,w)=>w(b),S):S};u.push(h)}if(i&&c.options.validateSearch){const h=({search:m,next:p})=>{const v=p(m);try{return{...v,...v4(c.options.validateSearch,v)??void 0}}catch{return v}};u.push(h)}return l.concat(u)},[])??[],a=({search:l})=>t.search?t.search===!0?l:ng(t.search,l):{};r.push(a);const o=(l,c)=>{if(l>=r.length)return c;const u=r[l];return u({search:c,next:h=>o(l+1,h)})};return o(0,e)}const LSe="Error preloading route! ";class Zee{constructor(t){if(this.init=n=>{var u,d;this.originalIndex=n.originalIndex;const i=this.options,r=!(i!=null&&i.path)&&!(i!=null&&i.id);this.parentRoute=(d=(u=this.options).getParentRoute)==null?void 0:d.call(u),r?this._path=jl:this.parentRoute||kd(!1);let a=r?jl:i==null?void 0:i.path;a&&a!=="/"&&(a=HI(a));const o=(i==null?void 0:i.id)||a;let l=r?jl:rh([this.parentRoute.id===jl?"":this.parentRoute.id,o]);a===jl&&(a="/"),l!==jl&&(l=rh(["/",l]));const c=l===jl?"/":rh([this.parentRoute.fullPath,a]);this._path=a,this._id=l,this._fullPath=c,this._to=c},this.clone=n=>{this._path=n._path,this._id=n._id,this._fullPath=n._fullPath,this._to=n._to,this.options.getParentRoute=n.options.getParentRoute,this.children=n.children},this.addChildren=n=>this._addFileChildren(n),this._addFileChildren=n=>(Array.isArray(n)&&(this.children=n),typeof n=="object"&&n!==null&&(this.children=Object.values(n)),this),this._addFileTypes=()=>this,this.updateLoader=n=>(Object.assign(this.options,n),this),this.update=n=>(Object.assign(this.options,n),this),this.lazy=n=>(this.lazyFn=n,this),this.options=t||{},this.isRoot=!(t!=null&&t.getParentRoute),t!=null&&t.id&&(t!=null&&t.path))throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}}class TSe extends Zee{constructor(t){super(t)}}function qI(e){const t=e.errorComponent??PN;return s.jsx(MSe,{getResetKey:e.getResetKey,onCatch:e.onCatch,children:({error:n,reset:i})=>n?g.createElement(t,{error:n,reset:i}):e.children})}class MSe extends g.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(t){return{resetKey:t.getResetKey()}}static getDerivedStateFromError(t){return{error:t}}reset(){this.setState({error:null})}componentDidUpdate(t,n){n.error&&n.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(t,n){this.props.onCatch&&this.props.onCatch(t,n)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function PN({error:e}){const[t,n]=g.useState(!1);return s.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[s.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),s.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>n(i=>!i),children:t?"Hide Error":"Show Error"})]}),s.jsx("div",{style:{height:".25rem"}}),t?s.jsx("div",{children:s.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:e.message?s.jsx("code",{children:e.message}):null})}):null]})}function ISe({children:e,fallback:t=null}){return PSe()?s.jsx(Pt.Fragment,{children:e}):s.jsx(Pt.Fragment,{children:t})}function PSe(){return Pt.useSyncExternalStore(kSe,()=>!0,()=>!1)}function kSe(){return()=>{}}var S3={exports:{}},b3={},x3={exports:{}},w3={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xB;function $Se(){if(xB)return w3;xB=1;var e=z1();function t(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var n=typeof Object.is=="function"?Object.is:t,i=e.useState,r=e.useEffect,a=e.useLayoutEffect,o=e.useDebugValue;function l(h,m){var p=m(),v=i({inst:{value:p,getSnapshot:m}}),S=v[0].inst,b=v[1];return a(function(){S.value=p,S.getSnapshot=m,c(S)&&b({inst:S})},[h,p,m]),r(function(){return c(S)&&b({inst:S}),h(function(){c(S)&&b({inst:S})})},[h]),o(p),p}function c(h){var m=h.getSnapshot;h=h.value;try{var p=m();return!n(h,p)}catch{return!0}}function u(h,m){return m()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return w3.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,w3}var wB;function ete(){return wB||(wB=1,x3.exports=$Se()),x3.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EB;function FSe(){if(EB)return b3;EB=1;var e=z1(),t=ete();function n(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var i=typeof Object.is=="function"?Object.is:n,r=t.useSyncExternalStore,a=e.useRef,o=e.useEffect,l=e.useMemo,c=e.useDebugValue;return b3.useSyncExternalStoreWithSelector=function(u,d,h,m,p){var v=a(null);if(v.current===null){var S={hasValue:!1,value:null};v.current=S}else S=v.current;v=l(function(){function w(O){if(!R){if(R=!0,E=O,O=m(O),p!==void 0&&S.hasValue){var j=S.value;if(p(j,O))return _=j}return _=O}if(j=_,i(E,O))return j;var D=m(O);return p!==void 0&&p(j,D)?(E=O,j):(E=O,_=D)}var R=!1,E,_,N=h===void 0?null:h;return[function(){return w(d())},N===null?void 0:function(){return w(N())}]},[d,h,m,p]);var b=r(u,v[0],v[1]);return o(function(){S.hasValue=!0,S.value=b},[b]),c(b),b},b3}var _B;function BSe(){return _B||(_B=1,S3.exports=FSe()),S3.exports}var WI=BSe();function zSe(e,t=n=>n){return WI.useSyncExternalStoreWithSelector(e.subscribe,()=>e.state,()=>e.state,t,USe)}function USe(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[i,r]of e)if(!t.has(i)||!Object.is(r,t.get(i)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0}if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();const n=AB(e);if(n.length!==AB(t).length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!Object.is(e[n[i]],t[n[i]]))return!1;return!0}function AB(e){return Object.keys(e).concat(Object.getOwnPropertySymbols(e))}const E3=g.createContext(null);function tte(){return typeof document>"u"?E3:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=E3,E3)}function Jl(e){const t=g.useContext(tte());return e==null||e.warn,t}function to(e){const t=Jl({warn:(e==null?void 0:e.router)===void 0}),n=(e==null?void 0:e.router)||t,i=g.useRef(void 0);return zSe(n.__store,r=>{if(e!=null&&e.select){if(e.structuralSharing??n.options.defaultStructuralSharing){const a=_c(i.current,e.select(r));return i.current=a,a}return e.select(r)}return r})}const kN=g.createContext(void 0),VSe=g.createContext(void 0);function Fd(e){const t=g.useContext(e.from?VSe:kN);return to({select:i=>{const r=i.matches.find(a=>e.from?e.from===a.routeId:a.id===t);if(kd(!((e.shouldThrow??!0)&&!r),`Could not find ${e.from?`an active match from "${e.from}"`:"a nearest match!"}`),r!==void 0)return e.select?e.select(r):r},structuralSharing:e.structuralSharing})}function YI(e){return Fd({from:e.from,strict:e.strict,structuralSharing:e.structuralSharing,select:t=>e.select?e.select(t.loaderData):t.loaderData})}function JI(e){const{select:t,...n}=e;return Fd({...n,select:i=>t?t(i.loaderDeps):i.loaderDeps})}function $N(e){return Fd({from:e.from,shouldThrow:e.shouldThrow,structuralSharing:e.structuralSharing,strict:e.strict,select:t=>{const n=e.strict===!1?t.params:t._strictParams;return e.select?e.select(n):n}})}function QI(e){return Fd({from:e.from,strict:e.strict,shouldThrow:e.shouldThrow,structuralSharing:e.structuralSharing,select:t=>e.select?e.select(t.search):t.search})}function _a(e){const t=Jl();return g.useCallback(n=>t.navigate({...n,from:n.from??(e==null?void 0:e.from)}),[e==null?void 0:e.from,t])}var Kl=Pee();const KSe=ol(Kl),xE=typeof window<"u"?g.useLayoutEffect:g.useEffect;function _3(e){const t=g.useRef({value:e,prev:null}),n=t.current.value;return e!==n&&(t.current={value:e,prev:n}),t.current.prev}function GSe(e,t,n={},i={}){g.useEffect(()=>{if(!e.current||i.disabled||typeof IntersectionObserver!="function")return;const r=new IntersectionObserver(([a])=>{t(a)},n);return r.observe(e.current),()=>{r.disconnect()}},[t,n,i.disabled,e])}function HSe(e){const t=g.useRef(null);return g.useImperativeHandle(e,()=>t.current,[]),t}function qSe(e,t){const n=Jl(),[i,r]=g.useState(!1),a=g.useRef(!1),o=HSe(t),{activeProps:l,inactiveProps:c,activeOptions:u,to:d,preload:h,preloadDelay:m,hashScrollIntoView:p,replace:v,startTransition:S,resetScroll:b,viewTransition:w,children:R,target:E,disabled:_,style:N,className:O,onClick:j,onFocus:D,onMouseEnter:P,onMouseLeave:B,onTouchStart:M,ignoreBlocker:z,params:U,search:K,hash:te,state:q,mask:V,reloadDocument:Q,unsafeRelative:ce,from:ae,_fromLocation:G,...H}=e,T=to({select:St=>St.location.search,structuralSharing:!0}),Y=e.from,ie=g.useMemo(()=>({...e,from:Y}),[n,T,Y,e._fromLocation,e.hash,e.to,e.search,e.params,e.state,e.mask,e.unsafeRelative]),ne=g.useMemo(()=>n.buildLocation({...ie}),[n,ie]),J=g.useMemo(()=>{if(_)return;let St=ne.maskedLocation?ne.maskedLocation.url:ne.url,tt=!1;return n.origin&&(St.startsWith(n.origin)?St=n.history.createHref(St.replace(n.origin,""))||"/":tt=!0),{href:St,external:tt}},[_,ne.maskedLocation,ne.url,n.origin,n.history]),ee=g.useMemo(()=>{if(J!=null&&J.external)return J.href;try{return new URL(d),d}catch{}},[d,J]),se=e.reloadDocument||ee?!1:h??n.options.defaultPreload,de=m??n.options.defaultPreloadDelay??0,he=to({select:St=>{if(ee)return!1;if(u!=null&&u.exact){if(!$1e(St.location.pathname,ne.pathname,n.basepath))return!1}else{const tt=jA(St.location.pathname,n.basepath),Je=jA(ne.pathname,n.basepath);if(!(tt.startsWith(Je)&&(tt.length===Je.length||tt[Je.length]==="/")))return!1}return((u==null?void 0:u.includeSearch)??!0)&&!ig(St.location.search,ne.search,{partial:!(u!=null&&u.exact),ignoreUndefined:!(u!=null&&u.explicitUndefined)})?!1:u!=null&&u.includeHash?St.location.hash===ne.hash:!0}}),me=g.useCallback(()=>{n.preloadRoute({...ie}).catch(St=>{console.warn(St),console.warn(LSe)})},[n,ie]),we=g.useCallback(St=>{St!=null&&St.isIntersecting&&me()},[me]);GSe(o,we,XSe,{disabled:!!_||se!=="viewport"}),g.useEffect(()=>{a.current||!_&&se==="render"&&(me(),a.current=!0)},[_,me,se]);const le=St=>{const tt=St.currentTarget.target,Je=E!==void 0?E:tt;if(!_&&!ZSe(St)&&!St.defaultPrevented&&(!Je||Je==="_self")&&St.button===0){St.preventDefault(),Kl.flushSync(()=>{r(!0)});const Ve=n.subscribe("onResolved",()=>{Ve(),r(!1)});n.navigate({...ie,replace:v,resetScroll:b,hashScrollIntoView:p,startTransition:S,viewTransition:w,ignoreBlocker:z})}};if(ee)return{...H,ref:o,href:ee,...R&&{children:R},...E&&{target:E},..._&&{disabled:_},...N&&{style:N},...O&&{className:O},...j&&{onClick:j},...D&&{onFocus:D},...P&&{onMouseEnter:P},...B&&{onMouseLeave:B},...M&&{onTouchStart:M}};const ue=St=>{_||se&&me()},De=ue,Le=St=>{if(!(_||!se))if(!de)me();else{const tt=St.target;if(eb.has(tt))return;const Je=setTimeout(()=>{eb.delete(tt),me()},de);eb.set(tt,Je)}},Be=St=>{if(_||!se||!de)return;const tt=St.target,Je=eb.get(tt);Je&&(clearTimeout(Je),eb.delete(tt))},ke=he?ng(l,{})??WSe:A3,Ee=he?A3:ng(c,{})??A3,lt=[O,ke.className,Ee.className].filter(Boolean).join(" "),Mt=(N||ke.style||Ee.style)&&{...N,...ke.style,...Ee.style};return{...H,...ke,...Ee,href:J==null?void 0:J.href,ref:o,onClick:tb([j,le]),onFocus:tb([D,ue]),onMouseEnter:tb([P,Le]),onMouseLeave:tb([B,Be]),onTouchStart:tb([M,De]),disabled:!!_,target:E,...Mt&&{style:Mt},...lt&&{className:lt},..._&&YSe,...he&&JSe,...i&&QSe}}const A3={},WSe={className:"active"},YSe={role:"link","aria-disabled":!0},JSe={"data-status":"active","aria-current":"page"},QSe={"data-transitioning":"transitioning"},eb=new WeakMap,XSe={rootMargin:"100px"},tb=e=>t=>{for(const n of e)if(n){if(t.defaultPrevented)return;n(t)}},Kg=g.forwardRef((e,t)=>{const{_asChild:n,...i}=e,{type:r,ref:a,...o}=qSe(i,t),l=typeof i.children=="function"?i.children({isActive:o["data-status"]==="active"}):i.children;return n===void 0&&delete o.disabled,g.createElement(n||"a",{...o,ref:a},l)});function ZSe(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}class ebe extends Zee{constructor(t){super(t),this.useMatch=n=>Fd({select:n==null?void 0:n.select,from:this.id,structuralSharing:n==null?void 0:n.structuralSharing}),this.useRouteContext=n=>Fd({...n,from:this.id,select:i=>n!=null&&n.select?n.select(i.context):i.context}),this.useSearch=n=>QI({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.id}),this.useParams=n=>$N({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.id}),this.useLoaderDeps=n=>JI({...n,from:this.id}),this.useLoaderData=n=>YI({...n,from:this.id}),this.useNavigate=()=>_a({from:this.fullPath}),this.Link=Pt.forwardRef((n,i)=>s.jsx(Kg,{ref:i,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}}function ha(e){return new ebe(e)}class tbe extends TSe{constructor(t){super(t),this.useMatch=n=>Fd({select:n==null?void 0:n.select,from:this.id,structuralSharing:n==null?void 0:n.structuralSharing}),this.useRouteContext=n=>Fd({...n,from:this.id,select:i=>n!=null&&n.select?n.select(i.context):i.context}),this.useSearch=n=>QI({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.id}),this.useParams=n=>$N({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.id}),this.useLoaderDeps=n=>JI({...n,from:this.id}),this.useLoaderData=n=>YI({...n,from:this.id}),this.useNavigate=()=>_a({from:this.fullPath}),this.Link=Pt.forwardRef((n,i)=>s.jsx(Kg,{ref:i,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}}function nbe(e){return new tbe(e)}function RB(e){return typeof e=="object"?new NB(e,{silent:!0}).createRoute(e):new NB(e,{silent:!0}).createRoute}class NB{constructor(t,n){this.path=t,this.createRoute=i=>{this.silent;const r=ha(i);return r.isRoot=!1,r},this.silent=n==null?void 0:n.silent}}class OB{constructor(t){this.useMatch=n=>Fd({select:n==null?void 0:n.select,from:this.options.id,structuralSharing:n==null?void 0:n.structuralSharing}),this.useRouteContext=n=>Fd({from:this.options.id,select:i=>n!=null&&n.select?n.select(i.context):i.context}),this.useSearch=n=>QI({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.options.id}),this.useParams=n=>$N({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.options.id}),this.useLoaderDeps=n=>JI({...n,from:this.options.id}),this.useLoaderData=n=>YI({...n,from:this.options.id}),this.useNavigate=()=>{const n=Jl();return _a({from:n.routesById[this.options.id].fullPath})},this.options=t,this.$$typeof=Symbol.for("react.memo")}}function jB(e){return typeof e=="object"?new OB(e):t=>new OB({id:e,...t})}function ibe(){const e=Jl(),t=g.useRef({router:e,mounted:!1}),[n,i]=g.useState(!1),{hasPendingMatches:r,isLoading:a}=to({select:h=>({isLoading:h.isLoading,hasPendingMatches:h.matches.some(m=>m.status==="pending")}),structuralSharing:!0}),o=_3(a),l=a||n||r,c=_3(l),u=a||r,d=_3(u);return e.startTransition=h=>{i(!0),g.startTransition(()=>{h(),i(!1)})},g.useEffect(()=>{const h=e.history.subscribe(e.load),m=e.buildLocation({to:e.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return tm(e.latestLocation.href)!==tm(m.href)&&e.commitLocation({...m,replace:!0}),()=>{h()}},[e,e.history]),xE(()=>{if(typeof window<"u"&&e.ssr||t.current.router===e&&t.current.mounted)return;t.current={router:e,mounted:!0},(async()=>{try{await e.load()}catch(m){console.error(m)}})()},[e]),xE(()=>{o&&!a&&e.emit({type:"onLoad",...rg(e.state)})},[o,e,a]),xE(()=>{d&&!u&&e.emit({type:"onBeforeRouteMount",...rg(e.state)})},[u,d,e]),xE(()=>{c&&!l&&(e.emit({type:"onResolved",...rg(e.state)}),e.__store.setState(h=>({...h,status:"idle",resolvedLocation:h.location})),fSe(e))},[l,c,e]),null}function rbe(e){const t=to({select:n=>`not-found-${n.location.pathname}-${n.status}`});return s.jsx(qI,{getResetKey:()=>t,onCatch:(n,i)=>{var r;if($d(n))(r=e.onCatch)==null||r.call(e,n,i);else throw n},errorComponent:({error:n})=>{var i;if($d(n))return(i=e.fallback)==null?void 0:i.call(e,n);throw n},children:e.children})}function abe(){return s.jsx("p",{children:"Not Found"})}function p0(e){return s.jsx(s.Fragment,{children:e.children})}function nte(e,t,n){return t.options.notFoundComponent?s.jsx(t.options.notFoundComponent,{data:n}):e.options.defaultNotFoundComponent?s.jsx(e.options.defaultNotFoundComponent,{data:n}):s.jsx(abe,{})}function sbe({children:e}){var n;const t=Jl();return t.isServer?s.jsx("script",{nonce:(n=t.options.ssr)==null?void 0:n.nonce,className:"$tsr",dangerouslySetInnerHTML:{__html:[e].filter(Boolean).join(`
`)+";$_TSR.c()"}}):null}function obe(){const e=Jl();if(!e.isScrollRestoring||!e.isServer||typeof e.options.scrollRestoration=="function"&&!e.options.scrollRestoration({location:e.latestLocation}))return null;const n=(e.options.getScrollRestorationKey||g4)(e.latestLocation),i=n!==g4(e.latestLocation)?n:void 0,r={storageKey:DA,shouldScrollRestoration:!0};return i&&(r.key=i),s.jsx(sbe,{children:`(${Vee.toString()})(${JSON.stringify(r)})`})}const ite=g.memo(function({matchId:t}){var w,R;const n=Jl(),i=to({select:E=>{const _=E.matches.find(N=>N.id===t);return kd(_),{routeId:_.routeId,ssr:_.ssr,_displayPending:_._displayPending}},structuralSharing:!0}),r=n.routesById[i.routeId],a=r.options.pendingComponent??n.options.defaultPendingComponent,o=a?s.jsx(a,{}):null,l=r.options.errorComponent??n.options.defaultErrorComponent,c=r.options.onCatch??n.options.defaultOnCatch,u=r.isRoot?r.options.notFoundComponent??((w=n.options.notFoundRoute)==null?void 0:w.options.component):r.options.notFoundComponent,d=i.ssr===!1||i.ssr==="data-only",h=(!r.isRoot||r.options.wrapInSuspense||d)&&(r.options.wrapInSuspense??a??(((R=r.options.errorComponent)==null?void 0:R.preload)||d))?g.Suspense:p0,m=l?qI:p0,p=u?rbe:p0,v=to({select:E=>E.loadedAt}),S=to({select:E=>{var N;const _=E.matches.findIndex(O=>O.id===t);return(N=E.matches[_-1])==null?void 0:N.routeId}}),b=r.isRoot?r.options.shellComponent??p0:p0;return s.jsxs(b,{children:[s.jsx(kN.Provider,{value:t,children:s.jsx(h,{fallback:o,children:s.jsx(m,{getResetKey:()=>v,errorComponent:l||PN,onCatch:(E,_)=>{if($d(E))throw E;c==null||c(E,_)},children:s.jsx(p,{fallback:E=>{if(!u||E.routeId&&E.routeId!==i.routeId||!E.routeId&&!r.isRoot)throw E;return g.createElement(u,E)},children:d||i._displayPending?s.jsx(ISe,{fallback:o,children:s.jsx(DB,{matchId:t})}):s.jsx(DB,{matchId:t})})})})}),S===jl&&n.options.scrollRestoration?s.jsxs(s.Fragment,{children:[s.jsx(lbe,{}),s.jsx(obe,{})]}):null]})});function lbe(){const e=Jl(),t=g.useRef(void 0);return s.jsx("script",{suppressHydrationWarning:!0,ref:n=>{n&&(t.current===void 0||t.current.href!==e.latestLocation.href)&&(e.emit({type:"onRendered",...rg(e.state)}),t.current=e.latestLocation)}},e.latestLocation.state.__TSR_key)}const DB=g.memo(function({matchId:t}){var c,u,d,h;const n=Jl(),{match:i,key:r,routeId:a}=to({select:m=>{const p=m.matches.find(R=>R.id===t),v=p.routeId,S=n.routesById[v].options.remountDeps??n.options.defaultRemountDeps,b=S==null?void 0:S({routeId:v,loaderDeps:p.loaderDeps,params:p._strictParams,search:p._strictSearch});return{key:b?JSON.stringify(b):void 0,routeId:v,match:{id:p.id,status:p.status,error:p.error,_forcePending:p._forcePending,_displayPending:p._displayPending}}},structuralSharing:!0}),o=n.routesById[a],l=g.useMemo(()=>{const m=o.options.component??n.options.defaultComponent;return m?s.jsx(m,{},r):s.jsx(XI,{})},[r,o.options.component,n.options.defaultComponent]);if(i._displayPending)throw(c=n.getMatch(i.id))==null?void 0:c._nonReactive.displayPendingPromise;if(i._forcePending)throw(u=n.getMatch(i.id))==null?void 0:u._nonReactive.minPendingPromise;if(i.status==="pending"){const m=o.options.pendingMinMs??n.options.defaultPendingMinMs;if(m){const p=n.getMatch(i.id);if(p&&!p._nonReactive.minPendingPromise&&!n.isServer){const v=h1();p._nonReactive.minPendingPromise=v,setTimeout(()=>{v.resolve(),p._nonReactive.minPendingPromise=void 0},m)}}throw(d=n.getMatch(i.id))==null?void 0:d._nonReactive.loadPromise}if(i.status==="notFound")return kd($d(i.error)),nte(n,o,i.error);if(i.status==="redirected")throw kd(Nd(i.error)),(h=n.getMatch(i.id))==null?void 0:h._nonReactive.loadPromise;if(i.status==="error"){if(n.isServer){const m=(o.options.errorComponent??n.options.defaultErrorComponent)||PN;return s.jsx(m,{error:i.error,reset:void 0,info:{componentStack:""}})}throw i.error}return l}),XI=g.memo(function(){const t=Jl(),n=g.useContext(kN),i=to({select:u=>{var d;return(d=u.matches.find(h=>h.id===n))==null?void 0:d.routeId}}),r=t.routesById[i],a=to({select:u=>{const h=u.matches.find(m=>m.id===n);return kd(h),h.globalNotFound}}),o=to({select:u=>{var m;const d=u.matches,h=d.findIndex(p=>p.id===n);return(m=d[h+1])==null?void 0:m.id}}),l=t.options.defaultPendingComponent?s.jsx(t.options.defaultPendingComponent,{}):null;if(a)return nte(t,r,void 0);if(!o)return null;const c=s.jsx(ite,{matchId:o});return n===jl?s.jsx(g.Suspense,{fallback:l,children:c}):c});function cbe(){const e=Jl(),t=e.options.defaultPendingComponent?s.jsx(e.options.defaultPendingComponent,{}):null,n=e.isServer||typeof document<"u"&&e.ssr?p0:g.Suspense,i=s.jsxs(n,{fallback:t,children:[!e.isServer&&s.jsx(ibe,{}),s.jsx(ube,{})]});return e.options.InnerWrap?s.jsx(e.options.InnerWrap,{children:i}):i}function ube(){const e=Jl(),t=to({select:r=>{var a;return(a=r.matches[0])==null?void 0:a.id}}),n=to({select:r=>r.loadedAt}),i=t?s.jsx(ite,{matchId:t}):null;return s.jsx(kN.Provider,{value:t,children:e.options.disableGlobalCatchBoundary?i:s.jsx(qI,{getResetKey:()=>n,errorComponent:PN,onCatch:r=>{r.message||r.toString()},children:i})})}const dbe=e=>new fbe(e);class fbe extends NSe{constructor(t){super(t)}}typeof globalThis<"u"?(globalThis.createFileRoute=RB,globalThis.createLazyFileRoute=jB):typeof window<"u"&&(window.createFileRoute=RB,window.createLazyFileRoute=jB);function hbe({router:e,children:t,...n}){Object.keys(n).length>0&&e.update({...e.options,...n,context:{...e.options.context,...n.context}});const i=tte(),r=s.jsx(i.Provider,{value:e,children:t});return e.options.Wrap?s.jsx(e.options.Wrap,{children:r}):r}function pbe({router:e,...t}){return s.jsx(hbe,{router:e,...t,children:s.jsx(cbe,{})})}function FN(e){return to({select:t=>t.location})}const mbe="modulepreload",ybe=function(e){return"/"+e},CB={},$l=function(t,n,i){let r=Promise.resolve();if(n&&n.length>0){let o=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));r=o(n.map(u=>{if(u=ybe(u),u in CB)return;CB[u]=!0;const d=u.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":mbe,d||(m.as="script"),m.crossOrigin="",m.href=u,c&&m.setAttribute("nonce",c),document.head.appendChild(m),d)return new Promise((p,v)=>{m.addEventListener("load",p),m.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return r.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})};var U1=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},gbe={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Mp,UI,Eee,vbe=(Eee=class{constructor(){Kt(this,Mp,gbe);Kt(this,UI,!1)}setTimeoutProvider(e){Tt(this,Mp,e)}setTimeout(e,t){return Ae(this,Mp).setTimeout(e,t)}clearTimeout(e){Ae(this,Mp).clearTimeout(e)}setInterval(e,t){return Ae(this,Mp).setInterval(e,t)}clearInterval(e){Ae(this,Mp).clearInterval(e)}},Mp=new WeakMap,UI=new WeakMap,Eee),$y=new vbe;function Sbe(e){setTimeout(e,0)}var Sg=typeof window>"u"||"Deno"in globalThis;function So(){}function bbe(e,t){return typeof e=="function"?e(t):e}function S4(e){return typeof e=="number"&&e>=0&&e!==1/0}function rte(e,t){return Math.max(e+(t||0)-Date.now(),0)}function nm(e,t){return typeof e=="function"?e(t):e}function Oc(e,t){return typeof e=="function"?e(t):e}function LB(e,t){const{type:n="all",exact:i,fetchStatus:r,predicate:a,queryKey:o,stale:l}=e;if(o){if(i){if(t.queryHash!==ZI(o,t.options))return!1}else if(!gx(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||r&&r!==t.state.fetchStatus||a&&!a(t))}function TB(e,t){const{exact:n,status:i,predicate:r,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(bg(t.options.mutationKey)!==bg(a))return!1}else if(!gx(t.options.mutationKey,a))return!1}return!(i&&t.state.status!==i||r&&!r(t))}function ZI(e,t){return((t==null?void 0:t.queryKeyHashFn)||bg)(e)}function bg(e){return JSON.stringify(e,(t,n)=>b4(n)?Object.keys(n).sort().reduce((i,r)=>(i[r]=n[r],i),{}):n)}function gx(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>gx(e[n],t[n])):!1}var xbe=Object.prototype.hasOwnProperty;function ate(e,t){if(e===t)return e;const n=MB(e)&&MB(t);if(!n&&!(b4(e)&&b4(t)))return t;const r=(n?e:Object.keys(e)).length,a=n?t:Object.keys(t),o=a.length,l=n?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=n?u:a[u],h=e[d],m=t[d];if(h===m){l[d]=h,(n?u<r:xbe.call(e,d))&&c++;continue}if(h===null||m===null||typeof h!="object"||typeof m!="object"){l[d]=m;continue}const p=ate(h,m);l[d]=p,p===h&&c++}return r===o&&c===r?e:l}function TA(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function MB(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function b4(e){if(!IB(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!IB(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function IB(e){return Object.prototype.toString.call(e)==="[object Object]"}function wbe(e){return new Promise(t=>{$y.setTimeout(t,e)})}function x4(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?ate(e,t):t}function Ebe(e,t,n=0){const i=[...e,t];return n&&i.length>n?i.slice(1):i}function _be(e,t,n=0){const i=[t,...e];return n&&i.length>n?i.slice(0,-1):i}var eP=Symbol();function ste(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===eP?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function ote(e,t){return typeof e=="function"?e(...t):!!e}var Gy,Ip,Q0,_ee,Abe=(_ee=class extends U1{constructor(){super();Kt(this,Gy);Kt(this,Ip);Kt(this,Q0);Tt(this,Q0,t=>{if(!Sg&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Ae(this,Ip)||this.setEventListener(Ae(this,Q0))}onUnsubscribe(){var t;this.hasListeners()||((t=Ae(this,Ip))==null||t.call(this),Tt(this,Ip,void 0))}setEventListener(t){var n;Tt(this,Q0,t),(n=Ae(this,Ip))==null||n.call(this),Tt(this,Ip,t(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(t){Ae(this,Gy)!==t&&(Tt(this,Gy,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof Ae(this,Gy)=="boolean"?Ae(this,Gy):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Gy=new WeakMap,Ip=new WeakMap,Q0=new WeakMap,_ee),tP=new Abe;function w4(){let e,t;const n=new Promise((r,a)=>{e=r,t=a});n.status="pending",n.catch(()=>{});function i(r){Object.assign(n,r),delete n.resolve,delete n.reject}return n.resolve=r=>{i({status:"fulfilled",value:r}),e(r)},n.reject=r=>{i({status:"rejected",reason:r}),t(r)},n}var Rbe=Sbe;function Nbe(){let e=[],t=0,n=l=>{l()},i=l=>{l()},r=Rbe;const a=l=>{t?e.push(l):r(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&r(()=>{i(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{i=l},setScheduler:l=>{r=l}}}var Qa=Nbe(),X0,Pp,Z0,Aee,Obe=(Aee=class extends U1{constructor(){super();Kt(this,X0,!0);Kt(this,Pp);Kt(this,Z0);Tt(this,Z0,t=>{if(!Sg&&window.addEventListener){const n=()=>t(!0),i=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",i)}}})}onSubscribe(){Ae(this,Pp)||this.setEventListener(Ae(this,Z0))}onUnsubscribe(){var t;this.hasListeners()||((t=Ae(this,Pp))==null||t.call(this),Tt(this,Pp,void 0))}setEventListener(t){var n;Tt(this,Z0,t),(n=Ae(this,Pp))==null||n.call(this),Tt(this,Pp,t(this.setOnline.bind(this)))}setOnline(t){Ae(this,X0)!==t&&(Tt(this,X0,t),this.listeners.forEach(i=>{i(t)}))}isOnline(){return Ae(this,X0)}},X0=new WeakMap,Pp=new WeakMap,Z0=new WeakMap,Aee),MA=new Obe;function jbe(e){return Math.min(1e3*2**e,3e4)}function lte(e){return(e??"online")==="online"?MA.isOnline():!0}var E4=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function cte(e){let t=!1,n=0,i;const r=w4(),a=()=>r.status!=="pending",o=S=>{var b;if(!a()){const w=new E4(S);m(w),(b=e.onCancel)==null||b.call(e,w)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>tP.isFocused()&&(e.networkMode==="always"||MA.isOnline())&&e.canRun(),d=()=>lte(e.networkMode)&&e.canRun(),h=S=>{a()||(i==null||i(),r.resolve(S))},m=S=>{a()||(i==null||i(),r.reject(S))},p=()=>new Promise(S=>{var b;i=w=>{(a()||u())&&S(w)},(b=e.onPause)==null||b.call(e)}).then(()=>{var S;i=void 0,a()||(S=e.onContinue)==null||S.call(e)}),v=()=>{if(a())return;let S;const b=n===0?e.initialPromise:void 0;try{S=b??e.fn()}catch(w){S=Promise.reject(w)}Promise.resolve(S).then(h).catch(w=>{var O;if(a())return;const R=e.retry??(Sg?0:3),E=e.retryDelay??jbe,_=typeof E=="function"?E(n,w):E,N=R===!0||typeof R=="number"&&n<R||typeof R=="function"&&R(n,w);if(t||!N){m(w);return}n++,(O=e.onFail)==null||O.call(e,n,w),wbe(_).then(()=>u()?void 0:p()).then(()=>{t?m(w):v()})})};return{promise:r,status:()=>r.status,cancel:o,continue:()=>(i==null||i(),r),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?v():p().then(v),r)}}var Hy,Ree,ute=(Ree=class{constructor(){Kt(this,Hy)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),S4(this.gcTime)&&Tt(this,Hy,$y.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Sg?1/0:300*1e3))}clearGcTimeout(){Ae(this,Hy)&&($y.clearTimeout(Ae(this,Hy)),Tt(this,Hy,void 0))}},Hy=new WeakMap,Ree),qy,e1,Rc,Wy,gs,y2,Yy,Su,Ff,Nee,Dbe=(Nee=class extends ute{constructor(t){super();Kt(this,Su);Kt(this,qy);Kt(this,e1);Kt(this,Rc);Kt(this,Wy);Kt(this,gs);Kt(this,y2);Kt(this,Yy);Tt(this,Yy,!1),Tt(this,y2,t.defaultOptions),this.setOptions(t.options),this.observers=[],Tt(this,Wy,t.client),Tt(this,Rc,Ae(this,Wy).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Tt(this,qy,PB(this.options)),this.state=t.state??Ae(this,qy),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Ae(this,gs))==null?void 0:t.promise}setOptions(t){if(this.options={...Ae(this,y2),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=PB(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),Tt(this,qy,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Ae(this,Rc).remove(this)}setData(t,n){const i=x4(this.state.data,t,this.options);return ni(this,Su,Ff).call(this,{data:i,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),i}setState(t,n){ni(this,Su,Ff).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var i,r;const n=(i=Ae(this,gs))==null?void 0:i.promise;return(r=Ae(this,gs))==null||r.cancel(t),n?n.then(So).catch(So):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Ae(this,qy))}isActive(){return this.observers.some(t=>Oc(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===eP||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>nm(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!rte(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(i=>i.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=Ae(this,gs))==null||n.continue()}onOnline(){var n;const t=this.observers.find(i=>i.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=Ae(this,gs))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Ae(this,Rc).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(Ae(this,gs)&&(Ae(this,Yy)?Ae(this,gs).cancel({revert:!0}):Ae(this,gs).cancelRetry()),this.scheduleGc()),Ae(this,Rc).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ni(this,Su,Ff).call(this,{type:"invalidate"})}async fetch(t,n){var c,u,d,h,m,p,v,S,b,w,R,E;if(this.state.fetchStatus!=="idle"&&((c=Ae(this,gs))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Ae(this,gs))return Ae(this,gs).continueRetry(),Ae(this,gs).promise}if(t&&this.setOptions(t),!this.options.queryFn){const _=this.observers.find(N=>N.options.queryFn);_&&this.setOptions(_.options)}const i=new AbortController,r=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(Tt(this,Yy,!0),i.signal)})},a=()=>{const _=ste(this.options,n),O=(()=>{const j={client:Ae(this,Wy),queryKey:this.queryKey,meta:this.meta};return r(j),j})();return Tt(this,Yy,!1),this.options.persister?this.options.persister(_,O,this):_(O)},l=(()=>{const _={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:Ae(this,Wy),state:this.state,fetchFn:a};return r(_),_})();(u=this.options.behavior)==null||u.onFetch(l,this),Tt(this,e1,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&ni(this,Su,Ff).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),Tt(this,gs,cte({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:_=>{_ instanceof E4&&_.revert&&this.setState({...Ae(this,e1),fetchStatus:"idle"}),i.abort()},onFail:(_,N)=>{ni(this,Su,Ff).call(this,{type:"failed",failureCount:_,error:N})},onPause:()=>{ni(this,Su,Ff).call(this,{type:"pause"})},onContinue:()=>{ni(this,Su,Ff).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const _=await Ae(this,gs).start();if(_===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(_),(p=(m=Ae(this,Rc).config).onSuccess)==null||p.call(m,_,this),(S=(v=Ae(this,Rc).config).onSettled)==null||S.call(v,_,this.state.error,this),_}catch(_){if(_ instanceof E4){if(_.silent)return Ae(this,gs).promise;if(_.revert){if(this.state.data===void 0)throw _;return this.state.data}}throw ni(this,Su,Ff).call(this,{type:"error",error:_}),(w=(b=Ae(this,Rc).config).onError)==null||w.call(b,_,this),(E=(R=Ae(this,Rc).config).onSettled)==null||E.call(R,this.state.data,_,this),_}finally{this.scheduleGc()}}},qy=new WeakMap,e1=new WeakMap,Rc=new WeakMap,Wy=new WeakMap,gs=new WeakMap,y2=new WeakMap,Yy=new WeakMap,Su=new WeakSet,Ff=function(t){const n=i=>{switch(t.type){case"failed":return{...i,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...dte(i.data,this.options),fetchMeta:t.meta??null};case"success":const r={...i,data:t.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Tt(this,e1,t.manual?r:void 0),r;case"error":const a=t.error;return{...i,error:a,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...t.state}}};this.state=n(this.state),Qa.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),Ae(this,Rc).notify({query:this,type:"updated",action:t})})},Nee);function dte(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:lte(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function PB(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,i=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Qo,hi,g2,yo,Jy,t1,Kf,kp,v2,n1,i1,Qy,Xy,$p,r1,Vi,Pb,_4,A4,R4,N4,O4,j4,D4,fte,Oee,Cbe=(Oee=class extends U1{constructor(t,n){super();Kt(this,Vi);Kt(this,Qo);Kt(this,hi);Kt(this,g2);Kt(this,yo);Kt(this,Jy);Kt(this,t1);Kt(this,Kf);Kt(this,kp);Kt(this,v2);Kt(this,n1);Kt(this,i1);Kt(this,Qy);Kt(this,Xy);Kt(this,$p);Kt(this,r1,new Set);this.options=n,Tt(this,Qo,t),Tt(this,kp,null),Tt(this,Kf,w4()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Ae(this,hi).addObserver(this),kB(Ae(this,hi),this.options)?ni(this,Vi,Pb).call(this):this.updateResult(),ni(this,Vi,N4).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return C4(Ae(this,hi),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return C4(Ae(this,hi),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ni(this,Vi,O4).call(this),ni(this,Vi,j4).call(this),Ae(this,hi).removeObserver(this)}setOptions(t){const n=this.options,i=Ae(this,hi);if(this.options=Ae(this,Qo).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Oc(this.options.enabled,Ae(this,hi))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ni(this,Vi,D4).call(this),Ae(this,hi).setOptions(this.options),n._defaulted&&!TA(this.options,n)&&Ae(this,Qo).getQueryCache().notify({type:"observerOptionsUpdated",query:Ae(this,hi),observer:this});const r=this.hasListeners();r&&$B(Ae(this,hi),i,this.options,n)&&ni(this,Vi,Pb).call(this),this.updateResult(),r&&(Ae(this,hi)!==i||Oc(this.options.enabled,Ae(this,hi))!==Oc(n.enabled,Ae(this,hi))||nm(this.options.staleTime,Ae(this,hi))!==nm(n.staleTime,Ae(this,hi)))&&ni(this,Vi,_4).call(this);const a=ni(this,Vi,A4).call(this);r&&(Ae(this,hi)!==i||Oc(this.options.enabled,Ae(this,hi))!==Oc(n.enabled,Ae(this,hi))||a!==Ae(this,$p))&&ni(this,Vi,R4).call(this,a)}getOptimisticResult(t){const n=Ae(this,Qo).getQueryCache().build(Ae(this,Qo),t),i=this.createResult(n,t);return Tbe(this,i)&&(Tt(this,yo,i),Tt(this,t1,this.options),Tt(this,Jy,Ae(this,hi).state)),i}getCurrentResult(){return Ae(this,yo)}trackResult(t,n){return new Proxy(t,{get:(i,r)=>(this.trackProp(r),n==null||n(r),r==="promise"&&!this.options.experimental_prefetchInRender&&Ae(this,Kf).status==="pending"&&Ae(this,Kf).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(i,r))})}trackProp(t){Ae(this,r1).add(t)}getCurrentQuery(){return Ae(this,hi)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=Ae(this,Qo).defaultQueryOptions(t),i=Ae(this,Qo).getQueryCache().build(Ae(this,Qo),n);return i.fetch().then(()=>this.createResult(i,n))}fetch(t){return ni(this,Vi,Pb).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Ae(this,yo)))}createResult(t,n){var P;const i=Ae(this,hi),r=this.options,a=Ae(this,yo),o=Ae(this,Jy),l=Ae(this,t1),u=t!==i?t.state:Ae(this,g2),{state:d}=t;let h={...d},m=!1,p;if(n._optimisticResults){const B=this.hasListeners(),M=!B&&kB(t,n),z=B&&$B(t,i,n,r);(M||z)&&(h={...h,...dte(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:v,errorUpdatedAt:S,status:b}=h;p=h.data;let w=!1;if(n.placeholderData!==void 0&&p===void 0&&b==="pending"){let B;a!=null&&a.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(B=a.data,w=!0):B=typeof n.placeholderData=="function"?n.placeholderData((P=Ae(this,i1))==null?void 0:P.state.data,Ae(this,i1)):n.placeholderData,B!==void 0&&(b="success",p=x4(a==null?void 0:a.data,B,n),m=!0)}if(n.select&&p!==void 0&&!w)if(a&&p===(o==null?void 0:o.data)&&n.select===Ae(this,v2))p=Ae(this,n1);else try{Tt(this,v2,n.select),p=n.select(p),p=x4(a==null?void 0:a.data,p,n),Tt(this,n1,p),Tt(this,kp,null)}catch(B){Tt(this,kp,B)}Ae(this,kp)&&(v=Ae(this,kp),p=Ae(this,n1),S=Date.now(),b="error");const R=h.fetchStatus==="fetching",E=b==="pending",_=b==="error",N=E&&R,O=p!==void 0,D={status:b,fetchStatus:h.fetchStatus,isPending:E,isSuccess:b==="success",isError:_,isInitialLoading:N,isLoading:N,data:p,dataUpdatedAt:h.dataUpdatedAt,error:v,errorUpdatedAt:S,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:R,isRefetching:R&&!E,isLoadingError:_&&!O,isPaused:h.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:_&&O,isStale:nP(t,n),refetch:this.refetch,promise:Ae(this,Kf),isEnabled:Oc(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const B=U=>{D.status==="error"?U.reject(D.error):D.data!==void 0&&U.resolve(D.data)},M=()=>{const U=Tt(this,Kf,D.promise=w4());B(U)},z=Ae(this,Kf);switch(z.status){case"pending":t.queryHash===i.queryHash&&B(z);break;case"fulfilled":(D.status==="error"||D.data!==z.value)&&M();break;case"rejected":(D.status!=="error"||D.error!==z.reason)&&M();break}}return D}updateResult(){const t=Ae(this,yo),n=this.createResult(Ae(this,hi),this.options);if(Tt(this,Jy,Ae(this,hi).state),Tt(this,t1,this.options),Ae(this,Jy).data!==void 0&&Tt(this,i1,Ae(this,hi)),TA(n,t))return;Tt(this,yo,n);const i=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,a=typeof r=="function"?r():r;if(a==="all"||!a&&!Ae(this,r1).size)return!0;const o=new Set(a??Ae(this,r1));return this.options.throwOnError&&o.add("error"),Object.keys(Ae(this,yo)).some(l=>{const c=l;return Ae(this,yo)[c]!==t[c]&&o.has(c)})};ni(this,Vi,fte).call(this,{listeners:i()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ni(this,Vi,N4).call(this)}},Qo=new WeakMap,hi=new WeakMap,g2=new WeakMap,yo=new WeakMap,Jy=new WeakMap,t1=new WeakMap,Kf=new WeakMap,kp=new WeakMap,v2=new WeakMap,n1=new WeakMap,i1=new WeakMap,Qy=new WeakMap,Xy=new WeakMap,$p=new WeakMap,r1=new WeakMap,Vi=new WeakSet,Pb=function(t){ni(this,Vi,D4).call(this);let n=Ae(this,hi).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(So)),n},_4=function(){ni(this,Vi,O4).call(this);const t=nm(this.options.staleTime,Ae(this,hi));if(Sg||Ae(this,yo).isStale||!S4(t))return;const i=rte(Ae(this,yo).dataUpdatedAt,t)+1;Tt(this,Qy,$y.setTimeout(()=>{Ae(this,yo).isStale||this.updateResult()},i))},A4=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Ae(this,hi)):this.options.refetchInterval)??!1},R4=function(t){ni(this,Vi,j4).call(this),Tt(this,$p,t),!(Sg||Oc(this.options.enabled,Ae(this,hi))===!1||!S4(Ae(this,$p))||Ae(this,$p)===0)&&Tt(this,Xy,$y.setInterval(()=>{(this.options.refetchIntervalInBackground||tP.isFocused())&&ni(this,Vi,Pb).call(this)},Ae(this,$p)))},N4=function(){ni(this,Vi,_4).call(this),ni(this,Vi,R4).call(this,ni(this,Vi,A4).call(this))},O4=function(){Ae(this,Qy)&&($y.clearTimeout(Ae(this,Qy)),Tt(this,Qy,void 0))},j4=function(){Ae(this,Xy)&&($y.clearInterval(Ae(this,Xy)),Tt(this,Xy,void 0))},D4=function(){const t=Ae(this,Qo).getQueryCache().build(Ae(this,Qo),this.options);if(t===Ae(this,hi))return;const n=Ae(this,hi);Tt(this,hi,t),Tt(this,g2,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},fte=function(t){Qa.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(Ae(this,yo))}),Ae(this,Qo).getQueryCache().notify({query:Ae(this,hi),type:"observerResultsUpdated"})})},Oee);function Lbe(e,t){return Oc(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function kB(e,t){return Lbe(e,t)||e.state.data!==void 0&&C4(e,t,t.refetchOnMount)}function C4(e,t,n){if(Oc(t.enabled,e)!==!1&&nm(t.staleTime,e)!=="static"){const i=typeof n=="function"?n(e):n;return i==="always"||i!==!1&&nP(e,t)}return!1}function $B(e,t,n,i){return(e!==t||Oc(i.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&nP(e,n)}function nP(e,t){return Oc(t.enabled,e)!==!1&&e.isStaleByTime(nm(t.staleTime,e))}function Tbe(e,t){return!TA(e.getCurrentResult(),t)}function FB(e){return{onFetch:(t,n)=>{var d,h,m,p,v;const i=t.options,r=(m=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,a=((p=t.state.data)==null?void 0:p.pages)||[],o=((v=t.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let S=!1;const b=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(t.signal.aborted?S=!0:t.signal.addEventListener("abort",()=>{S=!0}),t.signal)})},w=ste(t.options,t.fetchOptions),R=async(E,_,N)=>{if(S)return Promise.reject();if(_==null&&E.pages.length)return Promise.resolve(E);const j=(()=>{const M={client:t.client,queryKey:t.queryKey,pageParam:_,direction:N?"backward":"forward",meta:t.options.meta};return b(M),M})(),D=await w(j),{maxPages:P}=t.options,B=N?_be:Ebe;return{pages:B(E.pages,D,P),pageParams:B(E.pageParams,_,P)}};if(r&&a.length){const E=r==="backward",_=E?Mbe:BB,N={pages:a,pageParams:o},O=_(i,N);l=await R(N,O,E)}else{const E=e??a.length;do{const _=c===0?o[0]??i.initialPageParam:BB(i,l);if(c>0&&_==null)break;l=await R(l,_),c++}while(c<E)}return l};t.options.persister?t.fetchFn=()=>{var S,b;return(b=(S=t.options).persister)==null?void 0:b.call(S,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function BB(e,{pages:t,pageParams:n}){const i=t.length-1;return t.length>0?e.getNextPageParam(t[i],t,n[i],n):void 0}function Mbe(e,{pages:t,pageParams:n}){var i;return t.length>0?(i=e.getPreviousPageParam)==null?void 0:i.call(e,t[0],t,n[0],n):void 0}var S2,Ed,go,Zy,_d,_p,jee,Ibe=(jee=class extends ute{constructor(t){super();Kt(this,_d);Kt(this,S2);Kt(this,Ed);Kt(this,go);Kt(this,Zy);Tt(this,S2,t.client),this.mutationId=t.mutationId,Tt(this,go,t.mutationCache),Tt(this,Ed,[]),this.state=t.state||hte(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Ae(this,Ed).includes(t)||(Ae(this,Ed).push(t),this.clearGcTimeout(),Ae(this,go).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Tt(this,Ed,Ae(this,Ed).filter(n=>n!==t)),this.scheduleGc(),Ae(this,go).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Ae(this,Ed).length||(this.state.status==="pending"?this.scheduleGc():Ae(this,go).remove(this))}continue(){var t;return((t=Ae(this,Zy))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,h,m,p,v,S,b,w,R,E,_,N,O,j,D,P;const n=()=>{ni(this,_d,_p).call(this,{type:"continue"})},i={client:Ae(this,S2),meta:this.options.meta,mutationKey:this.options.mutationKey};Tt(this,Zy,cte({fn:()=>this.options.mutationFn?this.options.mutationFn(t,i):Promise.reject(new Error("No mutationFn found")),onFail:(B,M)=>{ni(this,_d,_p).call(this,{type:"failed",failureCount:B,error:M})},onPause:()=>{ni(this,_d,_p).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Ae(this,go).canRun(this)}));const r=this.state.status==="pending",a=!Ae(this,Zy).canStart();try{if(r)n();else{ni(this,_d,_p).call(this,{type:"pending",variables:t,isPaused:a}),await((l=(o=Ae(this,go).config).onMutate)==null?void 0:l.call(o,t,this,i));const M=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,i));M!==this.state.context&&ni(this,_d,_p).call(this,{type:"pending",context:M,variables:t,isPaused:a})}const B=await Ae(this,Zy).start();return await((h=(d=Ae(this,go).config).onSuccess)==null?void 0:h.call(d,B,t,this.state.context,this,i)),await((p=(m=this.options).onSuccess)==null?void 0:p.call(m,B,t,this.state.context,i)),await((S=(v=Ae(this,go).config).onSettled)==null?void 0:S.call(v,B,null,this.state.variables,this.state.context,this,i)),await((w=(b=this.options).onSettled)==null?void 0:w.call(b,B,null,t,this.state.context,i)),ni(this,_d,_p).call(this,{type:"success",data:B}),B}catch(B){try{throw await((E=(R=Ae(this,go).config).onError)==null?void 0:E.call(R,B,t,this.state.context,this,i)),await((N=(_=this.options).onError)==null?void 0:N.call(_,B,t,this.state.context,i)),await((j=(O=Ae(this,go).config).onSettled)==null?void 0:j.call(O,void 0,B,this.state.variables,this.state.context,this,i)),await((P=(D=this.options).onSettled)==null?void 0:P.call(D,void 0,B,t,this.state.context,i)),B}finally{ni(this,_d,_p).call(this,{type:"error",error:B})}}finally{Ae(this,go).runNext(this)}}},S2=new WeakMap,Ed=new WeakMap,go=new WeakMap,Zy=new WeakMap,_d=new WeakSet,_p=function(t){const n=i=>{switch(t.type){case"failed":return{...i,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...i,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:t.error,failureCount:i.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Qa.batch(()=>{Ae(this,Ed).forEach(i=>{i.onMutationUpdate(t)}),Ae(this,go).notify({mutation:this,type:"updated",action:t})})},jee);function hte(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Gf,bu,b2,Dee,Pbe=(Dee=class extends U1{constructor(t={}){super();Kt(this,Gf);Kt(this,bu);Kt(this,b2);this.config=t,Tt(this,Gf,new Set),Tt(this,bu,new Map),Tt(this,b2,0)}build(t,n,i){const r=new Ibe({client:t,mutationCache:this,mutationId:++JS(this,b2)._,options:t.defaultMutationOptions(n),state:i});return this.add(r),r}add(t){Ae(this,Gf).add(t);const n=wE(t);if(typeof n=="string"){const i=Ae(this,bu).get(n);i?i.push(t):Ae(this,bu).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Ae(this,Gf).delete(t)){const n=wE(t);if(typeof n=="string"){const i=Ae(this,bu).get(n);if(i)if(i.length>1){const r=i.indexOf(t);r!==-1&&i.splice(r,1)}else i[0]===t&&Ae(this,bu).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=wE(t);if(typeof n=="string"){const i=Ae(this,bu).get(n),r=i==null?void 0:i.find(a=>a.state.status==="pending");return!r||r===t}else return!0}runNext(t){var i;const n=wE(t);if(typeof n=="string"){const r=(i=Ae(this,bu).get(n))==null?void 0:i.find(a=>a!==t&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Qa.batch(()=>{Ae(this,Gf).forEach(t=>{this.notify({type:"removed",mutation:t})}),Ae(this,Gf).clear(),Ae(this,bu).clear()})}getAll(){return Array.from(Ae(this,Gf))}find(t){const n={exact:!0,...t};return this.getAll().find(i=>TB(n,i))}findAll(t={}){return this.getAll().filter(n=>TB(t,n))}notify(t){Qa.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Qa.batch(()=>Promise.all(t.map(n=>n.continue().catch(So))))}},Gf=new WeakMap,bu=new WeakMap,b2=new WeakMap,Dee);function wE(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Hf,Fp,Xo,qf,fh,V_,L4,Cee,kbe=(Cee=class extends U1{constructor(n,i){super();Kt(this,fh);Kt(this,Hf);Kt(this,Fp);Kt(this,Xo);Kt(this,qf);Tt(this,Hf,n),this.setOptions(i),this.bindMethods(),ni(this,fh,V_).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var r;const i=this.options;this.options=Ae(this,Hf).defaultMutationOptions(n),TA(this.options,i)||Ae(this,Hf).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Ae(this,Xo),observer:this}),i!=null&&i.mutationKey&&this.options.mutationKey&&bg(i.mutationKey)!==bg(this.options.mutationKey)?this.reset():((r=Ae(this,Xo))==null?void 0:r.state.status)==="pending"&&Ae(this,Xo).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=Ae(this,Xo))==null||n.removeObserver(this)}onMutationUpdate(n){ni(this,fh,V_).call(this),ni(this,fh,L4).call(this,n)}getCurrentResult(){return Ae(this,Fp)}reset(){var n;(n=Ae(this,Xo))==null||n.removeObserver(this),Tt(this,Xo,void 0),ni(this,fh,V_).call(this),ni(this,fh,L4).call(this)}mutate(n,i){var r;return Tt(this,qf,i),(r=Ae(this,Xo))==null||r.removeObserver(this),Tt(this,Xo,Ae(this,Hf).getMutationCache().build(Ae(this,Hf),this.options)),Ae(this,Xo).addObserver(this),Ae(this,Xo).execute(n)}},Hf=new WeakMap,Fp=new WeakMap,Xo=new WeakMap,qf=new WeakMap,fh=new WeakSet,V_=function(){var i;const n=((i=Ae(this,Xo))==null?void 0:i.state)??hte();Tt(this,Fp,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},L4=function(n){Qa.batch(()=>{var i,r,a,o,l,c,u,d;if(Ae(this,qf)&&this.hasListeners()){const h=Ae(this,Fp).variables,m=Ae(this,Fp).context,p={client:Ae(this,Hf),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((r=(i=Ae(this,qf)).onSuccess)==null||r.call(i,n.data,h,m,p),(o=(a=Ae(this,qf)).onSettled)==null||o.call(a,n.data,null,h,m,p)):(n==null?void 0:n.type)==="error"&&((c=(l=Ae(this,qf)).onError)==null||c.call(l,n.error,h,m,p),(d=(u=Ae(this,qf)).onSettled)==null||d.call(u,void 0,n.error,h,m,p))}this.listeners.forEach(h=>{h(Ae(this,Fp))})})},Cee),Ad,Lee,$be=(Lee=class extends U1{constructor(t={}){super();Kt(this,Ad);this.config=t,Tt(this,Ad,new Map)}build(t,n,i){const r=n.queryKey,a=n.queryHash??ZI(r,n);let o=this.get(a);return o||(o=new Dbe({client:t,queryKey:r,queryHash:a,options:t.defaultQueryOptions(n),state:i,defaultOptions:t.getQueryDefaults(r)}),this.add(o)),o}add(t){Ae(this,Ad).has(t.queryHash)||(Ae(this,Ad).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=Ae(this,Ad).get(t.queryHash);n&&(t.destroy(),n===t&&Ae(this,Ad).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Qa.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Ae(this,Ad).get(t)}getAll(){return[...Ae(this,Ad).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(i=>LB(n,i))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(i=>LB(t,i)):n}notify(t){Qa.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Qa.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Qa.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ad=new WeakMap,Lee),ca,Bp,zp,a1,s1,Up,o1,l1,Tee,Fbe=(Tee=class{constructor(e={}){Kt(this,ca);Kt(this,Bp);Kt(this,zp);Kt(this,a1);Kt(this,s1);Kt(this,Up);Kt(this,o1);Kt(this,l1);Tt(this,ca,e.queryCache||new $be),Tt(this,Bp,e.mutationCache||new Pbe),Tt(this,zp,e.defaultOptions||{}),Tt(this,a1,new Map),Tt(this,s1,new Map),Tt(this,Up,0)}mount(){JS(this,Up)._++,Ae(this,Up)===1&&(Tt(this,o1,tP.subscribe(async e=>{e&&(await this.resumePausedMutations(),Ae(this,ca).onFocus())})),Tt(this,l1,MA.subscribe(async e=>{e&&(await this.resumePausedMutations(),Ae(this,ca).onOnline())})))}unmount(){var e,t;JS(this,Up)._--,Ae(this,Up)===0&&((e=Ae(this,o1))==null||e.call(this),Tt(this,o1,void 0),(t=Ae(this,l1))==null||t.call(this),Tt(this,l1,void 0))}isFetching(e){return Ae(this,ca).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Ae(this,Bp).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Ae(this,ca).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=Ae(this,ca).build(this,t),i=n.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(nm(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(i))}getQueriesData(e){return Ae(this,ca).findAll(e).map(({queryKey:t,state:n})=>{const i=n.data;return[t,i]})}setQueryData(e,t,n){const i=this.defaultQueryOptions({queryKey:e}),r=Ae(this,ca).get(i.queryHash),a=r==null?void 0:r.state.data,o=bbe(t,a);if(o!==void 0)return Ae(this,ca).build(this,i).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Qa.batch(()=>Ae(this,ca).findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Ae(this,ca).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=Ae(this,ca);Qa.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=Ae(this,ca);return Qa.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},i=Qa.batch(()=>Ae(this,ca).findAll(e).map(r=>r.cancel(n)));return Promise.all(i).then(So).catch(So)}invalidateQueries(e,t={}){return Qa.batch(()=>(Ae(this,ca).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},i=Qa.batch(()=>Ae(this,ca).findAll(e).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let a=r.fetch(void 0,n);return n.throwOnError||(a=a.catch(So)),r.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(i).then(So)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=Ae(this,ca).build(this,t);return n.isStaleByTime(nm(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(So).catch(So)}fetchInfiniteQuery(e){return e.behavior=FB(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(So).catch(So)}ensureInfiniteQueryData(e){return e.behavior=FB(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return MA.isOnline()?Ae(this,Bp).resumePausedMutations():Promise.resolve()}getQueryCache(){return Ae(this,ca)}getMutationCache(){return Ae(this,Bp)}getDefaultOptions(){return Ae(this,zp)}setDefaultOptions(e){Tt(this,zp,e)}setQueryDefaults(e,t){Ae(this,a1).set(bg(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Ae(this,a1).values()],n={};return t.forEach(i=>{gx(e,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(e,t){Ae(this,s1).set(bg(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Ae(this,s1).values()],n={};return t.forEach(i=>{gx(e,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Ae(this,zp).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ZI(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===eP&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Ae(this,zp).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Ae(this,ca).clear(),Ae(this,Bp).clear()}},ca=new WeakMap,Bp=new WeakMap,zp=new WeakMap,a1=new WeakMap,s1=new WeakMap,Up=new WeakMap,o1=new WeakMap,l1=new WeakMap,Tee),pte=g.createContext(void 0),Yt=e=>{const t=g.useContext(pte);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Bbe=({client:e,children:t})=>(g.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(pte.Provider,{value:e,children:t})),mte=g.createContext(!1),zbe=()=>g.useContext(mte);mte.Provider;function Ube(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Vbe=g.createContext(Ube()),Kbe=()=>g.useContext(Vbe),Gbe=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Hbe=e=>{g.useEffect(()=>{e.clearReset()},[e])},qbe=({result:e,errorResetBoundary:t,throwOnError:n,query:i,suspense:r})=>e.isError&&!t.isReset()&&!e.isFetching&&i&&(r&&e.data===void 0||ote(n,[e.error,i])),Wbe=e=>{if(e.suspense){const n=r=>r==="static"?r:Math.max(r??1e3,1e3),i=e.staleTime;e.staleTime=typeof i=="function"?(...r)=>n(i(...r)):n(i),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Ybe=(e,t)=>e.isLoading&&e.isFetching&&!t,Jbe=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,zB=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Qbe(e,t,n){var h,m,p,v,S;const i=zbe(),r=Kbe(),a=Yt(),o=a.defaultQueryOptions(e);(m=(h=a.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||m.call(h,o),o._optimisticResults=i?"isRestoring":"optimistic",Wbe(o),Gbe(o,r),Hbe(r);const l=!a.getQueryCache().get(o.queryHash),[c]=g.useState(()=>new t(a,o)),u=c.getOptimisticResult(o),d=!i&&e.subscribed!==!1;if(g.useSyncExternalStore(g.useCallback(b=>{const w=d?c.subscribe(Qa.batchCalls(b)):So;return c.updateResult(),w},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),g.useEffect(()=>{c.setOptions(o)},[o,c]),Jbe(o,u))throw zB(o,c,r);if(qbe({result:u,errorResetBoundary:r,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((v=(p=a.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||v.call(p,o,u),o.experimental_prefetchInRender&&!Sg&&Ybe(u,i)){const b=l?zB(o,c,r):(S=a.getQueryCache().get(o.queryHash))==null?void 0:S.promise;b==null||b.catch(So).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function et(e,t){return Qbe(e,Cbe)}function bt(e,t){const n=Yt(),[i]=g.useState(()=>new kbe(n,e));g.useEffect(()=>{i.setOptions(e)},[i,e]);const r=g.useSyncExternalStore(g.useCallback(o=>i.subscribe(Qa.batchCalls(o)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),a=g.useCallback((o,l)=>{i.mutate(o,l).catch(So)},[i]);if(r.error&&ote(i.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:a,mutateAsync:r.mutate}}function UB(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function R2(...e){return t=>{let n=!1;const i=e.map(r=>{const a=UB(r,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let r=0;r<i.length;r++){const a=i[r];typeof a=="function"?a():UB(e[r],null)}}}}function _n(...e){return g.useCallback(R2(...e),e)}function om(e){const t=Xbe(e),n=g.forwardRef((i,r)=>{const{children:a,...o}=i,l=g.Children.toArray(a),c=l.find(exe);if(c){const u=c.props.children,d=l.map(h=>h===c?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:h);return s.jsx(t,{...o,ref:r,children:g.isValidElement(u)?g.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:r,children:a})});return n.displayName=`${e}.Slot`,n}var Ku=om("Slot");function Xbe(e){const t=g.forwardRef((n,i)=>{const{children:r,...a}=n;if(g.isValidElement(r)){const o=nxe(r),l=txe(a,r.props);return r.type!==g.Fragment&&(l.ref=i?R2(i,o):o),g.cloneElement(r,l)}return g.Children.count(r)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var yte=Symbol("radix.slottable");function iP(e){const t=({children:n})=>s.jsx(s.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=yte,t}var Zbe=iP("Slottable");function exe(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===yte}function txe(e,t){const n={...t};for(const i in t){const r=e[i],a=t[i];/^on[A-Z]/.test(i)?r&&a?n[i]=(...l)=>{const c=a(...l);return r(...l),c}:r&&(n[i]=r):i==="style"?n[i]={...r,...a}:i==="className"&&(n[i]=[r,a].filter(Boolean).join(" "))}return{...e,...n}}function nxe(e){var i,r;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var ixe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Gt=ixe.reduce((e,t)=>{const n=om(`Primitive.${t}`),i=g.forwardRef((r,a)=>{const{asChild:o,...l}=r,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function BN(e,t){e&&Kl.flushSync(()=>e.dispatchEvent(t))}var gte=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),rxe="VisuallyHidden",zN=g.forwardRef((e,t)=>s.jsx(Gt.span,{...e,ref:t,style:{...gte,...e.style}}));zN.displayName=rxe;var vte=zN;function axe(e,t){const n=g.createContext(t),i=a=>{const{children:o,...l}=a,c=g.useMemo(()=>l,Object.values(l));return s.jsx(n.Provider,{value:c,children:o})};i.displayName=e+"Provider";function r(a){const o=g.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[i,r]}function pa(e,t=[]){let n=[];function i(a,o){const l=g.createContext(o),c=n.length;n=[...n,o];const u=h=>{var w;const{scope:m,children:p,...v}=h,S=((w=m==null?void 0:m[e])==null?void 0:w[c])||l,b=g.useMemo(()=>v,Object.values(v));return s.jsx(S.Provider,{value:b,children:p})};u.displayName=a+"Provider";function d(h,m){var S;const p=((S=m==null?void 0:m[e])==null?void 0:S[c])||l,v=g.useContext(p);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[u,d]}const r=()=>{const a=n.map(o=>g.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return g.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return r.scopeName=e,[i,sxe(r,...t)]}function sxe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(a){const o=i.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function N2(e){const t=e+"CollectionProvider",[n,i]=pa(t),[r,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=S=>{const{scope:b,children:w}=S,R=Pt.useRef(null),E=Pt.useRef(new Map).current;return s.jsx(r,{scope:b,itemMap:E,collectionRef:R,children:w})};o.displayName=t;const l=e+"CollectionSlot",c=om(l),u=Pt.forwardRef((S,b)=>{const{scope:w,children:R}=S,E=a(l,w),_=_n(b,E.collectionRef);return s.jsx(c,{ref:_,children:R})});u.displayName=l;const d=e+"CollectionItemSlot",h="data-radix-collection-item",m=om(d),p=Pt.forwardRef((S,b)=>{const{scope:w,children:R,...E}=S,_=Pt.useRef(null),N=_n(b,_),O=a(d,w);return Pt.useEffect(()=>(O.itemMap.set(_,{ref:_,...E}),()=>void O.itemMap.delete(_))),s.jsx(m,{[h]:"",ref:N,children:R})});p.displayName=d;function v(S){const b=a(e+"CollectionConsumer",S);return Pt.useCallback(()=>{const R=b.collectionRef.current;if(!R)return[];const E=Array.from(R.querySelectorAll(`[${h}]`));return Array.from(b.itemMap.values()).sort((O,j)=>E.indexOf(O.ref.current)-E.indexOf(j.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},v,i]}function Dt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e==null||e(r),n===!1||!r.defaultPrevented)return t==null?void 0:t(r)}}var Ea=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},oxe=VI[" useInsertionEffect ".trim().toString()]||Ea;function xs({prop:e,defaultProp:t,onChange:n=()=>{},caller:i}){const[r,a,o]=lxe({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:r;{const d=g.useRef(e!==void 0);g.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${i} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,i])}const u=g.useCallback(d=>{var h;if(l){const m=cxe(d)?d(e):d;m!==e&&((h=o.current)==null||h.call(o,m))}else a(d)},[l,e,a,o]);return[c,u]}function lxe({defaultProp:e,onChange:t}){const[n,i]=g.useState(e),r=g.useRef(n),a=g.useRef(t);return oxe(()=>{a.current=t},[t]),g.useEffect(()=>{var o;r.current!==n&&((o=a.current)==null||o.call(a,n),r.current=n)},[n,r]),[n,i,a]}function cxe(e){return typeof e=="function"}function uxe(e,t){return g.useReducer((n,i)=>t[n][i]??n,e)}var Fa=e=>{const{present:t,children:n}=e,i=dxe(t),r=typeof n=="function"?n({present:i.isPresent}):g.Children.only(n),a=_n(i.ref,fxe(r));return typeof n=="function"||i.isPresent?g.cloneElement(r,{ref:a}):null};Fa.displayName="Presence";function dxe(e){const[t,n]=g.useState(),i=g.useRef(null),r=g.useRef(e),a=g.useRef("none"),o=e?"mounted":"unmounted",[l,c]=uxe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=EE(i.current);a.current=l==="mounted"?u:"none"},[l]),Ea(()=>{const u=i.current,d=r.current;if(d!==e){const m=a.current,p=EE(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==p?"ANIMATION_OUT":"UNMOUNT"),r.current=e}},[e,c]),Ea(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=p=>{const S=EE(i.current).includes(CSS.escape(p.animationName));if(p.target===t&&S&&(c("ANIMATION_END"),!r.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},m=p=>{p.target===t&&(a.current=EE(i.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:g.useCallback(u=>{i.current=u?getComputedStyle(u):null,n(u)},[])}}function EE(e){return(e==null?void 0:e.animationName)||"none"}function fxe(e){var i,r;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var hxe=VI[" useId ".trim().toString()]||(()=>{}),pxe=0;function Tc(e){const[t,n]=g.useState(hxe());return Ea(()=>{n(i=>i??String(pxe++))},[e]),e||(t?`radix-${t}`:"")}var Ste=g.createContext(void 0),mxe=e=>{const{dir:t,children:n}=e;return s.jsx(Ste.Provider,{value:t,children:n})};function bm(e){const t=g.useContext(Ste);return e||t||"ltr"}var yxe=mxe;function fa(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...n)=>{var i;return(i=t.current)==null?void 0:i.call(t,...n)},[])}function gxe(e,t=globalThis==null?void 0:globalThis.document){const n=fa(e);g.useEffect(()=>{const i=r=>{r.key==="Escape"&&n(r)};return t.addEventListener("keydown",i,{capture:!0}),()=>t.removeEventListener("keydown",i,{capture:!0})},[n,t])}var vxe="DismissableLayer",T4="dismissableLayer.update",Sxe="dismissableLayer.pointerDownOutside",bxe="dismissableLayer.focusOutside",VB,bte=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Gg=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:r,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,u=g.useContext(bte),[d,h]=g.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=g.useState({}),v=_n(t,j=>h(j)),S=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=S.indexOf(b),R=d?S.indexOf(d):-1,E=u.layersWithOutsidePointerEventsDisabled.size>0,_=R>=w,N=wxe(j=>{const D=j.target,P=[...u.branches].some(B=>B.contains(D));!_||P||(r==null||r(j),o==null||o(j),j.defaultPrevented||l==null||l())},m),O=Exe(j=>{const D=j.target;[...u.branches].some(B=>B.contains(D))||(a==null||a(j),o==null||o(j),j.defaultPrevented||l==null||l())},m);return gxe(j=>{R===u.layers.size-1&&(i==null||i(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},m),g.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(VB=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),KB(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=VB)}},[d,m,n,u]),g.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),KB())},[d,u]),g.useEffect(()=>{const j=()=>p({});return document.addEventListener(T4,j),()=>document.removeEventListener(T4,j)},[]),s.jsx(Gt.div,{...c,ref:v,style:{pointerEvents:E?_?"auto":"none":void 0,...e.style},onFocusCapture:Dt(e.onFocusCapture,O.onFocusCapture),onBlurCapture:Dt(e.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Dt(e.onPointerDownCapture,N.onPointerDownCapture)})});Gg.displayName=vxe;var xxe="DismissableLayerBranch",xte=g.forwardRef((e,t)=>{const n=g.useContext(bte),i=g.useRef(null),r=_n(t,i);return g.useEffect(()=>{const a=i.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),s.jsx(Gt.div,{...e,ref:r})});xte.displayName=xxe;function wxe(e,t=globalThis==null?void 0:globalThis.document){const n=fa(e),i=g.useRef(!1),r=g.useRef(()=>{});return g.useEffect(()=>{const a=l=>{if(l.target&&!i.current){let c=function(){wte(Sxe,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",r.current),r.current=c,t.addEventListener("click",r.current,{once:!0})):c()}else t.removeEventListener("click",r.current);i.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",r.current)}},[t,n]),{onPointerDownCapture:()=>i.current=!0}}function Exe(e,t=globalThis==null?void 0:globalThis.document){const n=fa(e),i=g.useRef(!1);return g.useEffect(()=>{const r=a=>{a.target&&!i.current&&wte(bxe,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",r),()=>t.removeEventListener("focusin",r)},[t,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function KB(){const e=new CustomEvent(T4);document.dispatchEvent(e)}function wte(e,t,n,{discrete:i}){const r=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),i?BN(r,a):r.dispatchEvent(a)}var _xe=Gg,Axe=xte,R3="focusScope.autoFocusOnMount",N3="focusScope.autoFocusOnUnmount",GB={bubbles:!1,cancelable:!0},Rxe="FocusScope",O2=g.forwardRef((e,t)=>{const{loop:n=!1,trapped:i=!1,onMountAutoFocus:r,onUnmountAutoFocus:a,...o}=e,[l,c]=g.useState(null),u=fa(r),d=fa(a),h=g.useRef(null),m=_n(t,S=>c(S)),p=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(i){let S=function(E){if(p.paused||!l)return;const _=E.target;l.contains(_)?h.current=_:Ap(h.current,{select:!0})},b=function(E){if(p.paused||!l)return;const _=E.relatedTarget;_!==null&&(l.contains(_)||Ap(h.current,{select:!0}))},w=function(E){if(document.activeElement===document.body)for(const N of E)N.removedNodes.length>0&&Ap(l)};document.addEventListener("focusin",S),document.addEventListener("focusout",b);const R=new MutationObserver(w);return l&&R.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",b),R.disconnect()}}},[i,l,p.paused]),g.useEffect(()=>{if(l){qB.add(p);const S=document.activeElement;if(!l.contains(S)){const w=new CustomEvent(R3,GB);l.addEventListener(R3,u),l.dispatchEvent(w),w.defaultPrevented||(Nxe(Lxe(Ete(l)),{select:!0}),document.activeElement===S&&Ap(l))}return()=>{l.removeEventListener(R3,u),setTimeout(()=>{const w=new CustomEvent(N3,GB);l.addEventListener(N3,d),l.dispatchEvent(w),w.defaultPrevented||Ap(S??document.body,{select:!0}),l.removeEventListener(N3,d),qB.remove(p)},0)}}},[l,u,d,p]);const v=g.useCallback(S=>{if(!n&&!i||p.paused)return;const b=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,w=document.activeElement;if(b&&w){const R=S.currentTarget,[E,_]=Oxe(R);E&&_?!S.shiftKey&&w===_?(S.preventDefault(),n&&Ap(E,{select:!0})):S.shiftKey&&w===E&&(S.preventDefault(),n&&Ap(_,{select:!0})):w===R&&S.preventDefault()}},[n,i,p.paused]);return s.jsx(Gt.div,{tabIndex:-1,...o,ref:m,onKeyDown:v})});O2.displayName=Rxe;function Nxe(e,{select:t=!1}={}){const n=document.activeElement;for(const i of e)if(Ap(i,{select:t}),document.activeElement!==n)return}function Oxe(e){const t=Ete(e),n=HB(t,e),i=HB(t.reverse(),e);return[n,i]}function Ete(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function HB(e,t){for(const n of e)if(!jxe(n,{upTo:t}))return n}function jxe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Dxe(e){return e instanceof HTMLInputElement&&"select"in e}function Ap(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Dxe(e)&&t&&e.select()}}var qB=Cxe();function Cxe(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=WB(e,t),e.unshift(t)},remove(t){var n;e=WB(e,t),(n=e[0])==null||n.resume()}}}function WB(e,t){const n=[...e],i=n.indexOf(t);return i!==-1&&n.splice(i,1),n}function Lxe(e){return e.filter(t=>t.tagName!=="A")}var Txe="Portal",Hg=g.forwardRef((e,t)=>{var l;const{container:n,...i}=e,[r,a]=g.useState(!1);Ea(()=>a(!0),[]);const o=n||r&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?KSe.createPortal(s.jsx(Gt.div,{...i,ref:t}),o):null});Hg.displayName=Txe;var O3=0;function UN(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??YB()),document.body.insertAdjacentElement("beforeend",e[1]??YB()),O3++,()=>{O3===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),O3--}},[])}function YB(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var M4=function(e,t){return M4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])},M4(e,t)};function _te(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");M4(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Dc=function(){return Dc=Object.assign||function(t){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Dc.apply(this,arguments)};function xm(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}function Ate(e,t,n,i){var r=arguments.length,a=r<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,n):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a}function Rte(e,t){return function(n,i){t(n,i,e)}}function Nte(e,t,n,i,r,a){function o(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var l=i.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!t&&e?i.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,i.name):{}),h,m=!1,p=n.length-1;p>=0;p--){var v={};for(var S in i)v[S]=S==="access"?{}:i[S];for(var S in i.access)v.access[S]=i.access[S];v.addInitializer=function(w){if(m)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(w||null))};var b=(0,n[p])(l==="accessor"?{get:d.get,set:d.set}:d[c],v);if(l==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(h=o(b.get))&&(d.get=h),(h=o(b.set))&&(d.set=h),(h=o(b.init))&&r.unshift(h)}else(h=o(b))&&(l==="field"?r.unshift(h):d[c]=h)}u&&Object.defineProperty(u,i.name,d),m=!0}function Ote(e,t,n){for(var i=arguments.length>2,r=0;r<t.length;r++)n=i?t[r].call(e,n):t[r].call(e);return i?n:void 0}function jte(e){return typeof e=="symbol"?e:"".concat(e)}function Dte(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function Cte(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function nn(e,t,n,i){function r(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(i.next(d))}catch(h){o(h)}}function c(d){try{u(i.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):r(d.value).then(l,c)}u((i=i.apply(e,t||[])).next())})}function Lte(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,r,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(d){return c([u,d])}}function c(u){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(i=1,r&&(a=u[0]&2?r.return:u[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,u[1])).done)return a;switch(r=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,r=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(d){u=[6,d],r=0}finally{i=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var VN=Object.create?(function(e,t,n,i){i===void 0&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}):(function(e,t,n,i){i===void 0&&(i=n),e[i]=t[n]});function Tte(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&VN(t,e,n)}function IA(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function rP(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),r,a=[],o;try{for(;(t===void 0||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(l){o={error:l}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function Mte(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(rP(arguments[t]));return e}function Ite(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),r=0,t=0;t<n;t++)for(var a=arguments[t],o=0,l=a.length;o<l;o++,r++)i[r]=a[o];return i}function aP(e,t,n){if(n||arguments.length===2)for(var i=0,r=t.length,a;i<r;i++)(a||!(i in t))&&(a||(a=Array.prototype.slice.call(t,0,i)),a[i]=t[i]);return e.concat(a||Array.prototype.slice.call(t))}function y1(e){return this instanceof y1?(this.v=e,this):new y1(e)}function Pte(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),r,a=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(p){return function(v){return Promise.resolve(v).then(p,h)}}function l(p,v){i[p]&&(r[p]=function(S){return new Promise(function(b,w){a.push([p,S,b,w])>1||c(p,S)})},v&&(r[p]=v(r[p])))}function c(p,v){try{u(i[p](v))}catch(S){m(a[0][3],S)}}function u(p){p.value instanceof y1?Promise.resolve(p.value.v).then(d,h):m(a[0][2],p)}function d(p){c("next",p)}function h(p){c("throw",p)}function m(p,v){p(v),a.shift(),a.length&&c(a[0][0],a[0][1])}}function kte(e){var t,n;return t={},i("next"),i("throw",function(r){throw r}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(r,a){t[r]=e[r]?function(o){return(n=!n)?{value:y1(e[r](o)),done:!1}:a?a(o):o}:a}}function $te(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof IA=="function"?IA(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=e[a]&&function(o){return new Promise(function(l,c){o=e[a](o),r(l,c,o.done,o.value)})}}function r(a,o,l,c){Promise.resolve(c).then(function(u){a({value:u,done:l})},o)}}function Fte(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var Mxe=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},I4=function(e){return I4=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},I4(e)};function Bte(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=I4(e),i=0;i<n.length;i++)n[i]!=="default"&&VN(t,e,n[i]);return Mxe(t,e),t}function zte(e){return e&&e.__esModule?e:{default:e}}function Ute(e,t,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(e):i?i.value:t.get(e)}function Vte(e,t,n,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(e,n):r?r.value=n:t.set(e,n),n}function Kte(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function Gte(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var i,r;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=t[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=t[Symbol.dispose],n&&(r=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");r&&(i=function(){try{r.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:i,async:n})}else n&&e.stack.push({async:!0});return t}var Ixe=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var i=new Error(n);return i.name="SuppressedError",i.error=e,i.suppressed=t,i};function Hte(e){function t(a){e.error=e.hasError?new Ixe(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var n,i=0;function r(){for(;n=e.stack.pop();)try{if(!n.async&&i===1)return i=0,e.stack.push(n),Promise.resolve().then(r);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(a).then(r,function(o){return t(o),r()})}else i|=1}catch(o){t(o)}if(i===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return r()}function qte(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,i,r,a,o){return i?t?".jsx":".js":r&&(!a||!o)?n:r+a+"."+o.toLowerCase()+"js"}):e}const Pxe={__extends:_te,__assign:Dc,__rest:xm,__decorate:Ate,__param:Rte,__esDecorate:Nte,__runInitializers:Ote,__propKey:jte,__setFunctionName:Dte,__metadata:Cte,__awaiter:nn,__generator:Lte,__createBinding:VN,__exportStar:Tte,__values:IA,__read:rP,__spread:Mte,__spreadArrays:Ite,__spreadArray:aP,__await:y1,__asyncGenerator:Pte,__asyncDelegator:kte,__asyncValues:$te,__makeTemplateObject:Fte,__importStar:Bte,__importDefault:zte,__classPrivateFieldGet:Ute,__classPrivateFieldSet:Vte,__classPrivateFieldIn:Kte,__addDisposableResource:Gte,__disposeResources:Hte,__rewriteRelativeImportExtension:qte},kxe=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Gte,get __assign(){return Dc},__asyncDelegator:kte,__asyncGenerator:Pte,__asyncValues:$te,__await:y1,__awaiter:nn,__classPrivateFieldGet:Ute,__classPrivateFieldIn:Kte,__classPrivateFieldSet:Vte,__createBinding:VN,__decorate:Ate,__disposeResources:Hte,__esDecorate:Nte,__exportStar:Tte,__extends:_te,__generator:Lte,__importDefault:zte,__importStar:Bte,__makeTemplateObject:Fte,__metadata:Cte,__param:Rte,__propKey:jte,__read:rP,__rest:xm,__rewriteRelativeImportExtension:qte,__runInitializers:Ote,__setFunctionName:Dte,__spread:Mte,__spreadArray:aP,__spreadArrays:Ite,__values:IA,default:Pxe},Symbol.toStringTag,{value:"Module"}));var K_="right-scroll-bar-position",G_="width-before-scroll-bar",$xe="with-scroll-bars-hidden",Fxe="--removed-body-scroll-bar-size";function j3(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Bxe(e,t){var n=g.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(i){var r=n.value;r!==i&&(n.value=i,n.callback(i,r))}}}})[0];return n.callback=t,n.facade}var zxe=typeof window<"u"?g.useLayoutEffect:g.useEffect,JB=new WeakMap;function Uxe(e,t){var n=Bxe(null,function(i){return e.forEach(function(r){return j3(r,i)})});return zxe(function(){var i=JB.get(n);if(i){var r=new Set(i),a=new Set(e),o=n.current;r.forEach(function(l){a.has(l)||j3(l,null)}),a.forEach(function(l){r.has(l)||j3(l,o)})}JB.set(n,e)},[e]),n}function Vxe(e){return e}function Kxe(e,t){t===void 0&&(t=Vxe);var n=[],i=!1,r={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,i);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(i=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){i=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(a),o=n}var c=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return r}function Gxe(e){e===void 0&&(e={});var t=Kxe(null);return t.options=Dc({async:!0,ssr:!1},e),t}var Wte=function(e){var t=e.sideCar,n=xm(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return g.createElement(i,Dc({},n))};Wte.isSideCarExport=!0;function Hxe(e,t){return e.useMedium(t),Wte}var Yte=Gxe(),D3=function(){},KN=g.forwardRef(function(e,t){var n=g.useRef(null),i=g.useState({onScrollCapture:D3,onWheelCapture:D3,onTouchMoveCapture:D3}),r=i[0],a=i[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,m=e.sideCar,p=e.noRelative,v=e.noIsolation,S=e.inert,b=e.allowPinchZoom,w=e.as,R=w===void 0?"div":w,E=e.gapMode,_=xm(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=m,O=Uxe([n,t]),j=Dc(Dc({},_),r);return g.createElement(g.Fragment,null,d&&g.createElement(N,{sideCar:Yte,removeScrollBar:u,shards:h,noRelative:p,noIsolation:v,inert:S,setCallbacks:a,allowPinchZoom:!!b,lockRef:n,gapMode:E}),o?g.cloneElement(g.Children.only(l),Dc(Dc({},j),{ref:O})):g.createElement(R,Dc({},j,{className:c,ref:O}),l))});KN.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};KN.classNames={fullWidth:G_,zeroRight:K_};var qxe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Wxe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=qxe();return t&&e.setAttribute("nonce",t),e}function Yxe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Jxe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Qxe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Wxe())&&(Yxe(t,n),Jxe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Xxe=function(){var e=Qxe();return function(t,n){g.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Jte=function(){var e=Xxe(),t=function(n){var i=n.styles,r=n.dynamic;return e(i,r),null};return t},Zxe={left:0,top:0,right:0,gap:0},C3=function(e){return parseInt(e||"",10)||0},e2e=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],i=t[e==="padding"?"paddingTop":"marginTop"],r=t[e==="padding"?"paddingRight":"marginRight"];return[C3(n),C3(i),C3(r)]},t2e=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Zxe;var t=e2e(e),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-n+t[2]-t[0])}},n2e=Jte(),T0="data-scroll-locked",i2e=function(e,t,n,i){var r=e.left,a=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat($xe,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(l,"px ").concat(i,`;
  }
  body[`).concat(T0,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(i,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(i,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(K_,` {
    right: `).concat(l,"px ").concat(i,`;
  }
  
  .`).concat(G_,` {
    margin-right: `).concat(l,"px ").concat(i,`;
  }
  
  .`).concat(K_," .").concat(K_,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(G_," .").concat(G_,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(T0,`] {
    `).concat(Fxe,": ").concat(l,`px;
  }
`)},QB=function(){var e=parseInt(document.body.getAttribute(T0)||"0",10);return isFinite(e)?e:0},r2e=function(){g.useEffect(function(){return document.body.setAttribute(T0,(QB()+1).toString()),function(){var e=QB()-1;e<=0?document.body.removeAttribute(T0):document.body.setAttribute(T0,e.toString())}},[])},a2e=function(e){var t=e.noRelative,n=e.noImportant,i=e.gapMode,r=i===void 0?"margin":i;r2e();var a=g.useMemo(function(){return t2e(r)},[r]);return g.createElement(n2e,{styles:i2e(a,!t,r,n?"":"!important")})},P4=!1;if(typeof window<"u")try{var _E=Object.defineProperty({},"passive",{get:function(){return P4=!0,!0}});window.addEventListener("test",_E,_E),window.removeEventListener("test",_E,_E)}catch{P4=!1}var Qv=P4?{passive:!1}:!1,s2e=function(e){return e.tagName==="TEXTAREA"},Qte=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!s2e(e)&&n[t]==="visible")},o2e=function(e){return Qte(e,"overflowY")},l2e=function(e){return Qte(e,"overflowX")},XB=function(e,t){var n=t.ownerDocument,i=t;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var r=Xte(e,i);if(r){var a=Zte(e,i),o=a[1],l=a[2];if(o>l)return!0}i=i.parentNode}while(i&&i!==n.body);return!1},c2e=function(e){var t=e.scrollTop,n=e.scrollHeight,i=e.clientHeight;return[t,n,i]},u2e=function(e){var t=e.scrollLeft,n=e.scrollWidth,i=e.clientWidth;return[t,n,i]},Xte=function(e,t){return e==="v"?o2e(t):l2e(t)},Zte=function(e,t){return e==="v"?c2e(t):u2e(t)},d2e=function(e,t){return e==="h"&&t==="rtl"?-1:1},f2e=function(e,t,n,i,r){var a=d2e(e,window.getComputedStyle(t).direction),o=a*i,l=n.target,c=t.contains(l),u=!1,d=o>0,h=0,m=0;do{if(!l)break;var p=Zte(e,l),v=p[0],S=p[1],b=p[2],w=S-b-a*v;(v||w)&&Xte(e,l)&&(h+=w,m+=v);var R=l.parentNode;l=R&&R.nodeType===Node.DOCUMENT_FRAGMENT_NODE?R.host:R}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(h)<1||!d&&Math.abs(m)<1)&&(u=!0),u},AE=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ZB=function(e){return[e.deltaX,e.deltaY]},ez=function(e){return e&&"current"in e?e.current:e},h2e=function(e,t){return e[0]===t[0]&&e[1]===t[1]},p2e=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},m2e=0,Xv=[];function y2e(e){var t=g.useRef([]),n=g.useRef([0,0]),i=g.useRef(),r=g.useState(m2e++)[0],a=g.useState(Jte)[0],o=g.useRef(e);g.useEffect(function(){o.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(r));var S=aP([e.lockRef.current],(e.shards||[]).map(ez),!0).filter(Boolean);return S.forEach(function(b){return b.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),S.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(r))})}}},[e.inert,e.lockRef.current,e.shards]);var l=g.useCallback(function(S,b){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!o.current.allowPinchZoom;var w=AE(S),R=n.current,E="deltaX"in S?S.deltaX:R[0]-w[0],_="deltaY"in S?S.deltaY:R[1]-w[1],N,O=S.target,j=Math.abs(E)>Math.abs(_)?"h":"v";if("touches"in S&&j==="h"&&O.type==="range")return!1;var D=XB(j,O);if(!D)return!0;if(D?N=j:(N=j==="v"?"h":"v",D=XB(j,O)),!D)return!1;if(!i.current&&"changedTouches"in S&&(E||_)&&(i.current=N),!N)return!0;var P=i.current||N;return f2e(P,b,S,P==="h"?E:_)},[]),c=g.useCallback(function(S){var b=S;if(!(!Xv.length||Xv[Xv.length-1]!==a)){var w="deltaY"in b?ZB(b):AE(b),R=t.current.filter(function(N){return N.name===b.type&&(N.target===b.target||b.target===N.shadowParent)&&h2e(N.delta,w)})[0];if(R&&R.should){b.cancelable&&b.preventDefault();return}if(!R){var E=(o.current.shards||[]).map(ez).filter(Boolean).filter(function(N){return N.contains(b.target)}),_=E.length>0?l(b,E[0]):!o.current.noIsolation;_&&b.cancelable&&b.preventDefault()}}},[]),u=g.useCallback(function(S,b,w,R){var E={name:S,delta:b,target:w,should:R,shadowParent:g2e(w)};t.current.push(E),setTimeout(function(){t.current=t.current.filter(function(_){return _!==E})},1)},[]),d=g.useCallback(function(S){n.current=AE(S),i.current=void 0},[]),h=g.useCallback(function(S){u(S.type,ZB(S),S.target,l(S,e.lockRef.current))},[]),m=g.useCallback(function(S){u(S.type,AE(S),S.target,l(S,e.lockRef.current))},[]);g.useEffect(function(){return Xv.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Qv),document.addEventListener("touchmove",c,Qv),document.addEventListener("touchstart",d,Qv),function(){Xv=Xv.filter(function(S){return S!==a}),document.removeEventListener("wheel",c,Qv),document.removeEventListener("touchmove",c,Qv),document.removeEventListener("touchstart",d,Qv)}},[]);var p=e.removeScrollBar,v=e.inert;return g.createElement(g.Fragment,null,v?g.createElement(a,{styles:p2e(r)}):null,p?g.createElement(a2e,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function g2e(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const v2e=Hxe(Yte,y2e);var j2=g.forwardRef(function(e,t){return g.createElement(KN,Dc({},e,{ref:t,sideCar:v2e}))});j2.classNames=KN.classNames;var S2e=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Zv=new WeakMap,RE=new WeakMap,NE={},L3=0,ene=function(e){return e&&(e.host||ene(e.parentNode))},b2e=function(e,t){return t.map(function(n){if(e.contains(n))return n;var i=ene(n);return i&&e.contains(i)?i:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},x2e=function(e,t,n,i){var r=b2e(t,Array.isArray(e)?e:[e]);NE[n]||(NE[n]=new WeakMap);var a=NE[n],o=[],l=new Set,c=new Set(r),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};r.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))d(m);else try{var p=m.getAttribute(i),v=p!==null&&p!=="false",S=(Zv.get(m)||0)+1,b=(a.get(m)||0)+1;Zv.set(m,S),a.set(m,b),o.push(m),S===1&&v&&RE.set(m,!0),b===1&&m.setAttribute(n,"true"),v||m.setAttribute(i,"true")}catch(w){console.error("aria-hidden: cannot operate on ",m,w)}})};return d(t),l.clear(),L3++,function(){o.forEach(function(h){var m=Zv.get(h)-1,p=a.get(h)-1;Zv.set(h,m),a.set(h,p),m||(RE.has(h)||h.removeAttribute(i),RE.delete(h)),p||h.removeAttribute(n)}),L3--,L3||(Zv=new WeakMap,Zv=new WeakMap,RE=new WeakMap,NE={})}},GN=function(e,t,n){n===void 0&&(n="data-aria-hidden");var i=Array.from(Array.isArray(e)?e:[e]),r=S2e(e);return r?(i.push.apply(i,Array.from(r.querySelectorAll("[aria-live], script"))),x2e(i,r,n,"aria-hidden")):function(){return null}},HN="Dialog",[tne,nne]=pa(HN),[w2e,Gu]=tne(HN),ine=e=>{const{__scopeDialog:t,children:n,open:i,defaultOpen:r,onOpenChange:a,modal:o=!0}=e,l=g.useRef(null),c=g.useRef(null),[u,d]=xs({prop:i,defaultProp:r??!1,onChange:a,caller:HN});return s.jsx(w2e,{scope:t,triggerRef:l,contentRef:c,contentId:Tc(),titleId:Tc(),descriptionId:Tc(),open:u,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};ine.displayName=HN;var rne="DialogTrigger",ane=g.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,r=Gu(rne,n),a=_n(t,r.triggerRef);return s.jsx(Gt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":lP(r.open),...i,ref:a,onClick:Dt(e.onClick,r.onOpenToggle)})});ane.displayName=rne;var sP="DialogPortal",[E2e,sne]=tne(sP,{forceMount:void 0}),one=e=>{const{__scopeDialog:t,forceMount:n,children:i,container:r}=e,a=Gu(sP,t);return s.jsx(E2e,{scope:t,forceMount:n,children:g.Children.map(i,o=>s.jsx(Fa,{present:n||a.open,children:s.jsx(Hg,{asChild:!0,container:r,children:o})}))})};one.displayName=sP;var PA="DialogOverlay",lne=g.forwardRef((e,t)=>{const n=sne(PA,e.__scopeDialog),{forceMount:i=n.forceMount,...r}=e,a=Gu(PA,e.__scopeDialog);return a.modal?s.jsx(Fa,{present:i||a.open,children:s.jsx(A2e,{...r,ref:t})}):null});lne.displayName=PA;var _2e=om("DialogOverlay.RemoveScroll"),A2e=g.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,r=Gu(PA,n);return s.jsx(j2,{as:_2e,allowPinchZoom:!0,shards:[r.contentRef],children:s.jsx(Gt.div,{"data-state":lP(r.open),...i,ref:t,style:{pointerEvents:"auto",...i.style}})})}),xg="DialogContent",cne=g.forwardRef((e,t)=>{const n=sne(xg,e.__scopeDialog),{forceMount:i=n.forceMount,...r}=e,a=Gu(xg,e.__scopeDialog);return s.jsx(Fa,{present:i||a.open,children:a.modal?s.jsx(R2e,{...r,ref:t}):s.jsx(N2e,{...r,ref:t})})});cne.displayName=xg;var R2e=g.forwardRef((e,t)=>{const n=Gu(xg,e.__scopeDialog),i=g.useRef(null),r=_n(t,n.contentRef,i);return g.useEffect(()=>{const a=i.current;if(a)return GN(a)},[]),s.jsx(une,{...e,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Dt(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Dt(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:Dt(e.onFocusOutside,a=>a.preventDefault())})}),N2e=g.forwardRef((e,t)=>{const n=Gu(xg,e.__scopeDialog),i=g.useRef(!1),r=g.useRef(!1);return s.jsx(une,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(i.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),i.current=!1,r.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(i.current=!0,a.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&r.current&&a.preventDefault()}})}),une=g.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:i,onOpenAutoFocus:r,onCloseAutoFocus:a,...o}=e,l=Gu(xg,n),c=g.useRef(null),u=_n(t,c);return UN(),s.jsxs(s.Fragment,{children:[s.jsx(O2,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:r,onUnmountAutoFocus:a,children:s.jsx(Gg,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":lP(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(j2e,{titleId:l.titleId}),s.jsx(C2e,{contentRef:c,descriptionId:l.descriptionId})]})]})}),oP="DialogTitle",dne=g.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,r=Gu(oP,n);return s.jsx(Gt.h2,{id:r.titleId,...i,ref:t})});dne.displayName=oP;var fne="DialogDescription",hne=g.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,r=Gu(fne,n);return s.jsx(Gt.p,{id:r.descriptionId,...i,ref:t})});hne.displayName=fne;var pne="DialogClose",mne=g.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,r=Gu(pne,n);return s.jsx(Gt.button,{type:"button",...i,ref:t,onClick:Dt(e.onClick,()=>r.onOpenChange(!1))})});mne.displayName=pne;function lP(e){return e?"open":"closed"}var yne="DialogTitleWarning",[O2e,gne]=axe(yne,{contentName:xg,titleName:oP,docsSlug:"dialog"}),j2e=({titleId:e})=>{const t=gne(yne),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},D2e="DialogDescriptionWarning",C2e=({contentRef:e,descriptionId:t})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${gne(D2e).contentName}}.`;return g.useEffect(()=>{var a;const r=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&r&&(document.getElementById(t)||console.warn(i))},[i,e,t]),null},vne=ine,Sne=ane,bne=one,xne=lne,wne=cne,Ene=dne,_ne=hne,cP=mne,Ane="AlertDialog",[L2e]=pa(Ane,[nne]),Eh=nne(),Rne=e=>{const{__scopeAlertDialog:t,...n}=e,i=Eh(t);return s.jsx(vne,{...i,...n,modal:!0})};Rne.displayName=Ane;var T2e="AlertDialogTrigger",Nne=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...i}=e,r=Eh(n);return s.jsx(Sne,{...r,...i,ref:t})});Nne.displayName=T2e;var M2e="AlertDialogPortal",One=e=>{const{__scopeAlertDialog:t,...n}=e,i=Eh(t);return s.jsx(bne,{...i,...n})};One.displayName=M2e;var I2e="AlertDialogOverlay",jne=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...i}=e,r=Eh(n);return s.jsx(xne,{...r,...i,ref:t})});jne.displayName=I2e;var M0="AlertDialogContent",[P2e,k2e]=L2e(M0),$2e=iP("AlertDialogContent"),Dne=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:i,...r}=e,a=Eh(n),o=g.useRef(null),l=_n(t,o),c=g.useRef(null);return s.jsx(O2e,{contentName:M0,titleName:Cne,docsSlug:"alert-dialog",children:s.jsx(P2e,{scope:n,cancelRef:c,children:s.jsxs(wne,{role:"alertdialog",...a,...r,ref:l,onOpenAutoFocus:Dt(r.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx($2e,{children:i}),s.jsx(B2e,{contentRef:o})]})})})});Dne.displayName=M0;var Cne="AlertDialogTitle",Lne=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...i}=e,r=Eh(n);return s.jsx(Ene,{...r,...i,ref:t})});Lne.displayName=Cne;var Tne="AlertDialogDescription",Mne=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...i}=e,r=Eh(n);return s.jsx(_ne,{...r,...i,ref:t})});Mne.displayName=Tne;var F2e="AlertDialogAction",Ine=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...i}=e,r=Eh(n);return s.jsx(cP,{...r,...i,ref:t})});Ine.displayName=F2e;var Pne="AlertDialogCancel",kne=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...i}=e,{cancelRef:r}=k2e(Pne,n),a=Eh(n),o=_n(t,r);return s.jsx(cP,{...a,...i,ref:o})});kne.displayName=Pne;var B2e=({contentRef:e})=>{const t=`\`${M0}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${M0}\` by passing a \`${Tne}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${M0}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return g.useEffect(()=>{var i;document.getElementById((i=e.current)==null?void 0:i.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},z2e=Rne,U2e=Nne,V2e=One,K2e=jne,G2e=Dne,H2e=Ine,q2e=kne,W2e=Lne,Y2e=Mne,J2e=ete();function Q2e(){return J2e.useSyncExternalStore(X2e,()=>!0,()=>!1)}function X2e(){return()=>{}}var uP="Avatar",[Z2e]=pa(uP),[ewe,$ne]=Z2e(uP),Fne=g.forwardRef((e,t)=>{const{__scopeAvatar:n,...i}=e,[r,a]=g.useState("idle");return s.jsx(ewe,{scope:n,imageLoadingStatus:r,onImageLoadingStatusChange:a,children:s.jsx(Gt.span,{...i,ref:t})})});Fne.displayName=uP;var Bne="AvatarImage",zne=g.forwardRef((e,t)=>{const{__scopeAvatar:n,src:i,onLoadingStatusChange:r=()=>{},...a}=e,o=$ne(Bne,n),l=twe(i,a),c=fa(u=>{r(u),o.onImageLoadingStatusChange(u)});return Ea(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(Gt.img,{...a,ref:t,src:i}):null});zne.displayName=Bne;var Une="AvatarFallback",Vne=g.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:i,...r}=e,a=$ne(Une,n),[o,l]=g.useState(i===void 0);return g.useEffect(()=>{if(i!==void 0){const c=window.setTimeout(()=>l(!0),i);return()=>window.clearTimeout(c)}},[i]),o&&a.imageLoadingStatus!=="loaded"?s.jsx(Gt.span,{...r,ref:t}):null});Vne.displayName=Une;function tz(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function twe(e,{referrerPolicy:t,crossOrigin:n}){const i=Q2e(),r=g.useRef(null),a=i?(r.current||(r.current=new window.Image),r.current):null,[o,l]=g.useState(()=>tz(a,e));return Ea(()=>{l(tz(a,e))},[a,e]),Ea(()=>{const c=h=>()=>{l(h)};if(!a)return;const u=c("loaded"),d=c("error");return a.addEventListener("load",u),a.addEventListener("error",d),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",u),a.removeEventListener("error",d)}},[a,n,t]),o}var nwe=Fne,iwe=zne,rwe=Vne;function D2(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function C2(e){const[t,n]=g.useState(void 0);return Ea(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const i=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const a=r[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return i.observe(e,{box:"border-box"}),()=>i.unobserve(e)}else n(void 0)},[e]),t}var qN="Checkbox",[awe]=pa(qN),[swe,dP]=awe(qN);function owe(e){const{__scopeCheckbox:t,checked:n,children:i,defaultChecked:r,disabled:a,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:h}=e,[m,p]=xs({prop:n,defaultProp:r??!1,onChange:c,caller:qN}),[v,S]=g.useState(null),[b,w]=g.useState(null),R=g.useRef(!1),E=v?!!o||!!v.closest("form"):!0,_={checked:m,disabled:a,setChecked:p,control:v,setControl:S,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:R,required:u,defaultChecked:im(r)?!1:r,isFormControl:E,bubbleInput:b,setBubbleInput:w};return s.jsx(swe,{scope:t,..._,children:lwe(h)?h(_):i})}var Kne="CheckboxTrigger",Gne=g.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...i},r)=>{const{control:a,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:h,hasConsumerStoppedPropagationRef:m,isFormControl:p,bubbleInput:v}=dP(Kne,e),S=_n(r,d),b=g.useRef(c);return g.useEffect(()=>{const w=a==null?void 0:a.form;if(w){const R=()=>h(b.current);return w.addEventListener("reset",R),()=>w.removeEventListener("reset",R)}},[a,h]),s.jsx(Gt.button,{type:"button",role:"checkbox","aria-checked":im(c)?"mixed":c,"aria-required":u,"data-state":Qne(c),"data-disabled":l?"":void 0,disabled:l,value:o,...i,ref:S,onKeyDown:Dt(t,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:Dt(n,w=>{h(R=>im(R)?!0:!R),v&&p&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})})});Gne.displayName=Kne;var Hne=g.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:i,checked:r,defaultChecked:a,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...h}=e;return s.jsx(owe,{__scopeCheckbox:n,checked:r,defaultChecked:a,disabled:l,required:o,onCheckedChange:u,name:i,form:d,value:c,internal_do_not_use_render:({isFormControl:m})=>s.jsxs(s.Fragment,{children:[s.jsx(Gne,{...h,ref:t,__scopeCheckbox:n}),m&&s.jsx(Jne,{__scopeCheckbox:n})]})})});Hne.displayName=qN;var qne="CheckboxIndicator",Wne=g.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:i,...r}=e,a=dP(qne,n);return s.jsx(Fa,{present:i||im(a.checked)||a.checked===!0,children:s.jsx(Gt.span,{"data-state":Qne(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t,style:{pointerEvents:"none",...e.style}})})});Wne.displayName=qne;var Yne="CheckboxBubbleInput",Jne=g.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:i,hasConsumerStoppedPropagationRef:r,checked:a,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:h,bubbleInput:m,setBubbleInput:p}=dP(Yne,e),v=_n(n,p),S=D2(a),b=C2(i);g.useEffect(()=>{const R=m;if(!R)return;const E=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(E,"checked").set,O=!r.current;if(S!==a&&N){const j=new Event("click",{bubbles:O});R.indeterminate=im(a),N.call(R,im(a)?!1:a),R.dispatchEvent(j)}},[m,S,a,r]);const w=g.useRef(im(a)?!1:a);return s.jsx(Gt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??w.current,required:l,disabled:c,name:u,value:d,form:h,...t,tabIndex:-1,ref:v,style:{...t.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Jne.displayName=Yne;function lwe(e){return typeof e=="function"}function im(e){return e==="indeterminate"}function Qne(e){return im(e)?"indeterminate":e?"checked":"unchecked"}const cwe=["top","right","bottom","left"],lm=Math.min,Ll=Math.max,kA=Math.round,OE=Math.floor,Ld=e=>({x:e,y:e}),uwe={left:"right",right:"left",bottom:"top",top:"bottom"},dwe={start:"end",end:"start"};function k4(e,t,n){return Ll(e,lm(t,n))}function hh(e,t){return typeof e=="function"?e(t):e}function ph(e){return e.split("-")[0]}function V1(e){return e.split("-")[1]}function fP(e){return e==="x"?"y":"x"}function hP(e){return e==="y"?"height":"width"}const fwe=new Set(["top","bottom"]);function Od(e){return fwe.has(ph(e))?"y":"x"}function pP(e){return fP(Od(e))}function hwe(e,t,n){n===void 0&&(n=!1);const i=V1(e),r=pP(e),a=hP(r);let o=r==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=$A(o)),[o,$A(o)]}function pwe(e){const t=$A(e);return[$4(e),t,$4(t)]}function $4(e){return e.replace(/start|end/g,t=>dwe[t])}const nz=["left","right"],iz=["right","left"],mwe=["top","bottom"],ywe=["bottom","top"];function gwe(e,t,n){switch(e){case"top":case"bottom":return n?t?iz:nz:t?nz:iz;case"left":case"right":return t?mwe:ywe;default:return[]}}function vwe(e,t,n,i){const r=V1(e);let a=gwe(ph(e),n==="start",i);return r&&(a=a.map(o=>o+"-"+r),t&&(a=a.concat(a.map($4)))),a}function $A(e){return e.replace(/left|right|bottom|top/g,t=>uwe[t])}function Swe(e){return{top:0,right:0,bottom:0,left:0,...e}}function Xne(e){return typeof e!="number"?Swe(e):{top:e,right:e,bottom:e,left:e}}function FA(e){const{x:t,y:n,width:i,height:r}=e;return{width:i,height:r,top:n,left:t,right:t+i,bottom:n+r,x:t,y:n}}function rz(e,t,n){let{reference:i,floating:r}=e;const a=Od(t),o=pP(t),l=hP(o),c=ph(t),u=a==="y",d=i.x+i.width/2-r.width/2,h=i.y+i.height/2-r.height/2,m=i[l]/2-r[l]/2;let p;switch(c){case"top":p={x:d,y:i.y-r.height};break;case"bottom":p={x:d,y:i.y+i.height};break;case"right":p={x:i.x+i.width,y:h};break;case"left":p={x:i.x-r.width,y:h};break;default:p={x:i.x,y:i.y}}switch(V1(t)){case"start":p[o]-=m*(n&&u?-1:1);break;case"end":p[o]+=m*(n&&u?-1:1);break}return p}const bwe=async(e,t,n)=>{const{placement:i="bottom",strategy:r="absolute",middleware:a=[],platform:o}=n,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:r}),{x:d,y:h}=rz(u,i,c),m=i,p={},v=0;for(let S=0;S<l.length;S++){const{name:b,fn:w}=l[S],{x:R,y:E,data:_,reset:N}=await w({x:d,y:h,initialPlacement:i,placement:m,strategy:r,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});d=R??d,h=E??h,p={...p,[b]:{...p[b],..._}},N&&v<=50&&(v++,typeof N=="object"&&(N.placement&&(m=N.placement),N.rects&&(u=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:r}):N.rects),{x:d,y:h}=rz(u,m,c)),S=-1)}return{x:d,y:h,placement:m,strategy:r,middlewareData:p}};async function vx(e,t){var n;t===void 0&&(t={});const{x:i,y:r,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:m=!1,padding:p=0}=hh(t,e),v=Xne(p),b=l[m?h==="floating"?"reference":"floating":h],w=FA(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(b)))==null||n?b:b.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),R=h==="floating"?{x:i,y:r,width:o.floating.width,height:o.floating.height}:o.reference,E=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),_=await(a.isElement==null?void 0:a.isElement(E))?await(a.getScale==null?void 0:a.getScale(E))||{x:1,y:1}:{x:1,y:1},N=FA(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:R,offsetParent:E,strategy:c}):R);return{top:(w.top-N.top+v.top)/_.y,bottom:(N.bottom-w.bottom+v.bottom)/_.y,left:(w.left-N.left+v.left)/_.x,right:(N.right-w.right+v.right)/_.x}}const xwe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:i,placement:r,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=hh(e,t)||{};if(u==null)return{};const h=Xne(d),m={x:n,y:i},p=pP(r),v=hP(p),S=await o.getDimensions(u),b=p==="y",w=b?"top":"left",R=b?"bottom":"right",E=b?"clientHeight":"clientWidth",_=a.reference[v]+a.reference[p]-m[p]-a.floating[v],N=m[p]-a.reference[p],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let j=O?O[E]:0;(!j||!await(o.isElement==null?void 0:o.isElement(O)))&&(j=l.floating[E]||a.floating[v]);const D=_/2-N/2,P=j/2-S[v]/2-1,B=lm(h[w],P),M=lm(h[R],P),z=B,U=j-S[v]-M,K=j/2-S[v]/2+D,te=k4(z,K,U),q=!c.arrow&&V1(r)!=null&&K!==te&&a.reference[v]/2-(K<z?B:M)-S[v]/2<0,V=q?K<z?K-z:K-U:0;return{[p]:m[p]+V,data:{[p]:te,centerOffset:K-te-V,...q&&{alignmentOffset:V}},reset:q}}}),wwe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,i;const{placement:r,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:S=!0,...b}=hh(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const w=ph(r),R=Od(l),E=ph(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=m||(E||!S?[$A(l)]:pwe(l)),O=v!=="none";!m&&O&&N.push(...vwe(l,S,v,_));const j=[l,...N],D=await vx(t,b),P=[];let B=((i=a.flip)==null?void 0:i.overflows)||[];if(d&&P.push(D[w]),h){const K=hwe(r,o,_);P.push(D[K[0]],D[K[1]])}if(B=[...B,{placement:r,overflows:P}],!P.every(K=>K<=0)){var M,z;const K=(((M=a.flip)==null?void 0:M.index)||0)+1,te=j[K];if(te&&(!(h==="alignment"?R!==Od(te):!1)||B.every(Q=>Od(Q.placement)===R?Q.overflows[0]>0:!0)))return{data:{index:K,overflows:B},reset:{placement:te}};let q=(z=B.filter(V=>V.overflows[0]<=0).sort((V,Q)=>V.overflows[1]-Q.overflows[1])[0])==null?void 0:z.placement;if(!q)switch(p){case"bestFit":{var U;const V=(U=B.filter(Q=>{if(O){const ce=Od(Q.placement);return ce===R||ce==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(ce=>ce>0).reduce((ce,ae)=>ce+ae,0)]).sort((Q,ce)=>Q[1]-ce[1])[0])==null?void 0:U[0];V&&(q=V);break}case"initialPlacement":q=l;break}if(r!==q)return{reset:{placement:q}}}return{}}}};function az(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function sz(e){return cwe.some(t=>e[t]>=0)}const Ewe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:i="referenceHidden",...r}=hh(e,t);switch(i){case"referenceHidden":{const a=await vx(t,{...r,elementContext:"reference"}),o=az(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:sz(o)}}}case"escaped":{const a=await vx(t,{...r,altBoundary:!0}),o=az(a,n.floating);return{data:{escapedOffsets:o,escaped:sz(o)}}}default:return{}}}}},Zne=new Set(["left","top"]);async function _we(e,t){const{placement:n,platform:i,elements:r}=e,a=await(i.isRTL==null?void 0:i.isRTL(r.floating)),o=ph(n),l=V1(n),c=Od(n)==="y",u=Zne.has(o)?-1:1,d=a&&c?-1:1,h=hh(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof v=="number"&&(p=l==="end"?v*-1:v),c?{x:p*d,y:m*u}:{x:m*u,y:p*d}}const Awe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,i;const{x:r,y:a,placement:o,middlewareData:l}=t,c=await _we(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(i=l.arrow)!=null&&i.alignmentOffset?{}:{x:r+c.x,y:a+c.y,data:{...c,placement:o}}}}},Rwe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:r}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:b=>{let{x:w,y:R}=b;return{x:w,y:R}}},...c}=hh(e,t),u={x:n,y:i},d=await vx(t,c),h=Od(ph(r)),m=fP(h);let p=u[m],v=u[h];if(a){const b=m==="y"?"top":"left",w=m==="y"?"bottom":"right",R=p+d[b],E=p-d[w];p=k4(R,p,E)}if(o){const b=h==="y"?"top":"left",w=h==="y"?"bottom":"right",R=v+d[b],E=v-d[w];v=k4(R,v,E)}const S=l.fn({...t,[m]:p,[h]:v});return{...S,data:{x:S.x-n,y:S.y-i,enabled:{[m]:a,[h]:o}}}}}},Nwe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:i,placement:r,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=hh(e,t),d={x:n,y:i},h=Od(r),m=fP(h);let p=d[m],v=d[h];const S=hh(l,t),b=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(c){const E=m==="y"?"height":"width",_=a.reference[m]-a.floating[E]+b.mainAxis,N=a.reference[m]+a.reference[E]-b.mainAxis;p<_?p=_:p>N&&(p=N)}if(u){var w,R;const E=m==="y"?"width":"height",_=Zne.has(ph(r)),N=a.reference[h]-a.floating[E]+(_&&((w=o.offset)==null?void 0:w[h])||0)+(_?0:b.crossAxis),O=a.reference[h]+a.reference[E]+(_?0:((R=o.offset)==null?void 0:R[h])||0)-(_?b.crossAxis:0);v<N?v=N:v>O&&(v=O)}return{[m]:p,[h]:v}}}},Owe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,i;const{placement:r,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...u}=hh(e,t),d=await vx(t,u),h=ph(r),m=V1(r),p=Od(r)==="y",{width:v,height:S}=a.floating;let b,w;h==="top"||h==="bottom"?(b=h,w=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(w=h,b=m==="end"?"top":"bottom");const R=S-d.top-d.bottom,E=v-d.left-d.right,_=lm(S-d[b],R),N=lm(v-d[w],E),O=!t.middlewareData.shift;let j=_,D=N;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(D=E),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(j=R),O&&!m){const B=Ll(d.left,0),M=Ll(d.right,0),z=Ll(d.top,0),U=Ll(d.bottom,0);p?D=v-2*(B!==0||M!==0?B+M:Ll(d.left,d.right)):j=S-2*(z!==0||U!==0?z+U:Ll(d.top,d.bottom))}await c({...t,availableWidth:D,availableHeight:j});const P=await o.getDimensions(l.floating);return v!==P.width||S!==P.height?{reset:{rects:!0}}:{}}}};function WN(){return typeof window<"u"}function K1(e){return eie(e)?(e.nodeName||"").toLowerCase():"#document"}function Fl(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Jd(e){var t;return(t=(eie(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function eie(e){return WN()?e instanceof Node||e instanceof Fl(e).Node:!1}function Lu(e){return WN()?e instanceof Element||e instanceof Fl(e).Element:!1}function Bd(e){return WN()?e instanceof HTMLElement||e instanceof Fl(e).HTMLElement:!1}function oz(e){return!WN()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Fl(e).ShadowRoot}const jwe=new Set(["inline","contents"]);function L2(e){const{overflow:t,overflowX:n,overflowY:i,display:r}=Tu(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!jwe.has(r)}const Dwe=new Set(["table","td","th"]);function Cwe(e){return Dwe.has(K1(e))}const Lwe=[":popover-open",":modal"];function YN(e){return Lwe.some(t=>{try{return e.matches(t)}catch{return!1}})}const Twe=["transform","translate","scale","rotate","perspective"],Mwe=["transform","translate","scale","rotate","perspective","filter"],Iwe=["paint","layout","strict","content"];function mP(e){const t=yP(),n=Lu(e)?Tu(e):e;return Twe.some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Mwe.some(i=>(n.willChange||"").includes(i))||Iwe.some(i=>(n.contain||"").includes(i))}function Pwe(e){let t=cm(e);for(;Bd(t)&&!g1(t);){if(mP(t))return t;if(YN(t))return null;t=cm(t)}return null}function yP(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const kwe=new Set(["html","body","#document"]);function g1(e){return kwe.has(K1(e))}function Tu(e){return Fl(e).getComputedStyle(e)}function JN(e){return Lu(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function cm(e){if(K1(e)==="html")return e;const t=e.assignedSlot||e.parentNode||oz(e)&&e.host||Jd(e);return oz(t)?t.host:t}function tie(e){const t=cm(e);return g1(t)?e.ownerDocument?e.ownerDocument.body:e.body:Bd(t)&&L2(t)?t:tie(t)}function Sx(e,t,n){var i;t===void 0&&(t=[]),n===void 0&&(n=!0);const r=tie(e),a=r===((i=e.ownerDocument)==null?void 0:i.body),o=Fl(r);if(a){const l=F4(o);return t.concat(o,o.visualViewport||[],L2(r)?r:[],l&&n?Sx(l):[])}return t.concat(r,Sx(r,[],n))}function F4(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function nie(e){const t=Tu(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const r=Bd(e),a=r?e.offsetWidth:n,o=r?e.offsetHeight:i,l=kA(n)!==a||kA(i)!==o;return l&&(n=a,i=o),{width:n,height:i,$:l}}function gP(e){return Lu(e)?e:e.contextElement}function I0(e){const t=gP(e);if(!Bd(t))return Ld(1);const n=t.getBoundingClientRect(),{width:i,height:r,$:a}=nie(t);let o=(a?kA(n.width):n.width)/i,l=(a?kA(n.height):n.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const $we=Ld(0);function iie(e){const t=Fl(e);return!yP()||!t.visualViewport?$we:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Fwe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Fl(e)?!1:t}function wg(e,t,n,i){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=e.getBoundingClientRect(),a=gP(e);let o=Ld(1);t&&(i?Lu(i)&&(o=I0(i)):o=I0(e));const l=Fwe(a,n,i)?iie(a):Ld(0);let c=(r.left+l.x)/o.x,u=(r.top+l.y)/o.y,d=r.width/o.x,h=r.height/o.y;if(a){const m=Fl(a),p=i&&Lu(i)?Fl(i):i;let v=m,S=F4(v);for(;S&&i&&p!==v;){const b=I0(S),w=S.getBoundingClientRect(),R=Tu(S),E=w.left+(S.clientLeft+parseFloat(R.paddingLeft))*b.x,_=w.top+(S.clientTop+parseFloat(R.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,h*=b.y,c+=E,u+=_,v=Fl(S),S=F4(v)}}return FA({width:d,height:h,x:c,y:u})}function QN(e,t){const n=JN(e).scrollLeft;return t?t.left+n:wg(Jd(e)).left+n}function rie(e,t){const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-QN(e,n),r=n.top+t.scrollTop;return{x:i,y:r}}function Bwe(e){let{elements:t,rect:n,offsetParent:i,strategy:r}=e;const a=r==="fixed",o=Jd(i),l=t?YN(t.floating):!1;if(i===o||l&&a)return n;let c={scrollLeft:0,scrollTop:0},u=Ld(1);const d=Ld(0),h=Bd(i);if((h||!h&&!a)&&((K1(i)!=="body"||L2(o))&&(c=JN(i)),Bd(i))){const p=wg(i);u=I0(i),d.x=p.x+i.clientLeft,d.y=p.y+i.clientTop}const m=o&&!h&&!a?rie(o,c):Ld(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-c.scrollTop*u.y+d.y+m.y}}function zwe(e){return Array.from(e.getClientRects())}function Uwe(e){const t=Jd(e),n=JN(e),i=e.ownerDocument.body,r=Ll(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),a=Ll(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let o=-n.scrollLeft+QN(e);const l=-n.scrollTop;return Tu(i).direction==="rtl"&&(o+=Ll(t.clientWidth,i.clientWidth)-r),{width:r,height:a,x:o,y:l}}const lz=25;function Vwe(e,t){const n=Fl(e),i=Jd(e),r=n.visualViewport;let a=i.clientWidth,o=i.clientHeight,l=0,c=0;if(r){a=r.width,o=r.height;const d=yP();(!d||d&&t==="fixed")&&(l=r.offsetLeft,c=r.offsetTop)}const u=QN(i);if(u<=0){const d=i.ownerDocument,h=d.body,m=getComputedStyle(h),p=d.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,v=Math.abs(i.clientWidth-h.clientWidth-p);v<=lz&&(a-=v)}else u<=lz&&(a+=u);return{width:a,height:o,x:l,y:c}}const Kwe=new Set(["absolute","fixed"]);function Gwe(e,t){const n=wg(e,!0,t==="fixed"),i=n.top+e.clientTop,r=n.left+e.clientLeft,a=Bd(e)?I0(e):Ld(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=r*a.x,u=i*a.y;return{width:o,height:l,x:c,y:u}}function cz(e,t,n){let i;if(t==="viewport")i=Vwe(e,n);else if(t==="document")i=Uwe(Jd(e));else if(Lu(t))i=Gwe(t,n);else{const r=iie(e);i={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return FA(i)}function aie(e,t){const n=cm(e);return n===t||!Lu(n)||g1(n)?!1:Tu(n).position==="fixed"||aie(n,t)}function Hwe(e,t){const n=t.get(e);if(n)return n;let i=Sx(e,[],!1).filter(l=>Lu(l)&&K1(l)!=="body"),r=null;const a=Tu(e).position==="fixed";let o=a?cm(e):e;for(;Lu(o)&&!g1(o);){const l=Tu(o),c=mP(o);!c&&l.position==="fixed"&&(r=null),(a?!c&&!r:!c&&l.position==="static"&&!!r&&Kwe.has(r.position)||L2(o)&&!c&&aie(e,o))?i=i.filter(d=>d!==o):r=l,o=cm(o)}return t.set(e,i),i}function qwe(e){let{element:t,boundary:n,rootBoundary:i,strategy:r}=e;const o=[...n==="clippingAncestors"?YN(t)?[]:Hwe(t,this._c):[].concat(n),i],l=o[0],c=o.reduce((u,d)=>{const h=cz(t,d,r);return u.top=Ll(h.top,u.top),u.right=lm(h.right,u.right),u.bottom=lm(h.bottom,u.bottom),u.left=Ll(h.left,u.left),u},cz(t,l,r));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Wwe(e){const{width:t,height:n}=nie(e);return{width:t,height:n}}function Ywe(e,t,n){const i=Bd(t),r=Jd(t),a=n==="fixed",o=wg(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=Ld(0);function u(){c.x=QN(r)}if(i||!i&&!a)if((K1(t)!=="body"||L2(r))&&(l=JN(t)),i){const p=wg(t,!0,a,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else r&&u();a&&!i&&r&&u();const d=r&&!i&&!a?rie(r,l):Ld(0),h=o.left+l.scrollLeft-c.x-d.x,m=o.top+l.scrollTop-c.y-d.y;return{x:h,y:m,width:o.width,height:o.height}}function T3(e){return Tu(e).position==="static"}function uz(e,t){if(!Bd(e)||Tu(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Jd(e)===n&&(n=n.ownerDocument.body),n}function sie(e,t){const n=Fl(e);if(YN(e))return n;if(!Bd(e)){let r=cm(e);for(;r&&!g1(r);){if(Lu(r)&&!T3(r))return r;r=cm(r)}return n}let i=uz(e,t);for(;i&&Cwe(i)&&T3(i);)i=uz(i,t);return i&&g1(i)&&T3(i)&&!mP(i)?n:i||Pwe(e)||n}const Jwe=async function(e){const t=this.getOffsetParent||sie,n=this.getDimensions,i=await n(e.floating);return{reference:Ywe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function Qwe(e){return Tu(e).direction==="rtl"}const Xwe={convertOffsetParentRelativeRectToViewportRelativeRect:Bwe,getDocumentElement:Jd,getClippingRect:qwe,getOffsetParent:sie,getElementRects:Jwe,getClientRects:zwe,getDimensions:Wwe,getScale:I0,isElement:Lu,isRTL:Qwe};function oie(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Zwe(e,t){let n=null,i;const r=Jd(e);function a(){var l;clearTimeout(i),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:h,width:m,height:p}=u;if(l||t(),!m||!p)return;const v=OE(h),S=OE(r.clientWidth-(d+m)),b=OE(r.clientHeight-(h+p)),w=OE(d),E={rootMargin:-v+"px "+-S+"px "+-b+"px "+-w+"px",threshold:Ll(0,lm(1,c))||1};let _=!0;function N(O){const j=O[0].intersectionRatio;if(j!==c){if(!_)return o();j?o(!1,j):i=setTimeout(()=>{o(!1,1e-7)},1e3)}j===1&&!oie(u,e.getBoundingClientRect())&&o(),_=!1}try{n=new IntersectionObserver(N,{...E,root:r.ownerDocument})}catch{n=new IntersectionObserver(N,E)}n.observe(e)}return o(!0),a}function eEe(e,t,n,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=i,u=gP(e),d=r||a?[...u?Sx(u):[],...Sx(t)]:[];d.forEach(w=>{r&&w.addEventListener("scroll",n,{passive:!0}),a&&w.addEventListener("resize",n)});const h=u&&l?Zwe(u,n):null;let m=-1,p=null;o&&(p=new ResizeObserver(w=>{let[R]=w;R&&R.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var E;(E=p)==null||E.observe(t)})),n()}),u&&!c&&p.observe(u),p.observe(t));let v,S=c?wg(e):null;c&&b();function b(){const w=wg(e);S&&!oie(S,w)&&n(),S=w,v=requestAnimationFrame(b)}return n(),()=>{var w;d.forEach(R=>{r&&R.removeEventListener("scroll",n),a&&R.removeEventListener("resize",n)}),h==null||h(),(w=p)==null||w.disconnect(),p=null,c&&cancelAnimationFrame(v)}}const tEe=Awe,nEe=Rwe,iEe=wwe,rEe=Owe,aEe=Ewe,dz=xwe,sEe=Nwe,oEe=(e,t,n)=>{const i=new Map,r={platform:Xwe,...n},a={...r.platform,_c:i};return bwe(e,t,{...r,platform:a})};var lEe=typeof document<"u",cEe=function(){},H_=lEe?g.useLayoutEffect:cEe;function BA(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,i,r;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(i=n;i--!==0;)if(!BA(e[i],t[i]))return!1;return!0}if(r=Object.keys(e),n=r.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(t,r[i]))return!1;for(i=n;i--!==0;){const a=r[i];if(!(a==="_owner"&&e.$$typeof)&&!BA(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function lie(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function fz(e,t){const n=lie(e);return Math.round(t*n)/n}function M3(e){const t=g.useRef(e);return H_(()=>{t.current=e}),t}function uEe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:i=[],platform:r,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=g.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=g.useState(i);BA(m,i)||p(i);const[v,S]=g.useState(null),[b,w]=g.useState(null),R=g.useCallback(Q=>{Q!==O.current&&(O.current=Q,S(Q))},[]),E=g.useCallback(Q=>{Q!==j.current&&(j.current=Q,w(Q))},[]),_=a||v,N=o||b,O=g.useRef(null),j=g.useRef(null),D=g.useRef(d),P=c!=null,B=M3(c),M=M3(r),z=M3(u),U=g.useCallback(()=>{if(!O.current||!j.current)return;const Q={placement:t,strategy:n,middleware:m};M.current&&(Q.platform=M.current),oEe(O.current,j.current,Q).then(ce=>{const ae={...ce,isPositioned:z.current!==!1};K.current&&!BA(D.current,ae)&&(D.current=ae,Kl.flushSync(()=>{h(ae)}))})},[m,t,n,M,z]);H_(()=>{u===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,h(Q=>({...Q,isPositioned:!1})))},[u]);const K=g.useRef(!1);H_(()=>(K.current=!0,()=>{K.current=!1}),[]),H_(()=>{if(_&&(O.current=_),N&&(j.current=N),_&&N){if(B.current)return B.current(_,N,U);U()}},[_,N,U,B,P]);const te=g.useMemo(()=>({reference:O,floating:j,setReference:R,setFloating:E}),[R,E]),q=g.useMemo(()=>({reference:_,floating:N}),[_,N]),V=g.useMemo(()=>{const Q={position:n,left:0,top:0};if(!q.floating)return Q;const ce=fz(q.floating,d.x),ae=fz(q.floating,d.y);return l?{...Q,transform:"translate("+ce+"px, "+ae+"px)",...lie(q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ce,top:ae}},[n,l,q.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:U,refs:te,elements:q,floatingStyles:V}),[d,U,te,q,V])}const dEe=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:i,padding:r}=typeof e=="function"?e(n):e;return i&&t(i)?i.current!=null?dz({element:i.current,padding:r}).fn(n):{}:i?dz({element:i,padding:r}).fn(n):{}}}},fEe=(e,t)=>({...tEe(e),options:[e,t]}),hEe=(e,t)=>({...nEe(e),options:[e,t]}),pEe=(e,t)=>({...sEe(e),options:[e,t]}),mEe=(e,t)=>({...iEe(e),options:[e,t]}),yEe=(e,t)=>({...rEe(e),options:[e,t]}),gEe=(e,t)=>({...aEe(e),options:[e,t]}),vEe=(e,t)=>({...dEe(e),options:[e,t]});var SEe="Arrow",cie=g.forwardRef((e,t)=>{const{children:n,width:i=10,height:r=5,...a}=e;return s.jsx(Gt.svg,{...a,ref:t,width:i,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});cie.displayName=SEe;var bEe=cie,vP="Popper",[uie,wm]=pa(vP),[xEe,die]=uie(vP),fie=e=>{const{__scopePopper:t,children:n}=e,[i,r]=g.useState(null);return s.jsx(xEe,{scope:t,anchor:i,onAnchorChange:r,children:n})};fie.displayName=vP;var hie="PopperAnchor",pie=g.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:i,...r}=e,a=die(hie,n),o=g.useRef(null),l=_n(t,o),c=g.useRef(null);return g.useEffect(()=>{const u=c.current;c.current=(i==null?void 0:i.current)||o.current,u!==c.current&&a.onAnchorChange(c.current)}),i?null:s.jsx(Gt.div,{...r,ref:l})});pie.displayName=hie;var SP="PopperContent",[wEe,EEe]=uie(SP),mie=g.forwardRef((e,t)=>{var J,ee,se,de,he,me;const{__scopePopper:n,side:i="bottom",sideOffset:r=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:v,...S}=e,b=die(SP,n),[w,R]=g.useState(null),E=_n(t,we=>R(we)),[_,N]=g.useState(null),O=C2(_),j=(O==null?void 0:O.width)??0,D=(O==null?void 0:O.height)??0,P=i+(a!=="center"?"-"+a:""),B=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},M=Array.isArray(u)?u:[u],z=M.length>0,U={padding:B,boundary:M.filter(AEe),altBoundary:z},{refs:K,floatingStyles:te,placement:q,isPositioned:V,middlewareData:Q}=uEe({strategy:"fixed",placement:P,whileElementsMounted:(...we)=>eEe(...we,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[fEe({mainAxis:r+D,alignmentAxis:o}),c&&hEe({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?pEe():void 0,...U}),c&&mEe({...U}),yEe({...U,apply:({elements:we,rects:le,availableWidth:ue,availableHeight:De})=>{const{width:Le,height:Be}=le.reference,ke=we.floating.style;ke.setProperty("--radix-popper-available-width",`${ue}px`),ke.setProperty("--radix-popper-available-height",`${De}px`),ke.setProperty("--radix-popper-anchor-width",`${Le}px`),ke.setProperty("--radix-popper-anchor-height",`${Be}px`)}}),_&&vEe({element:_,padding:l}),REe({arrowWidth:j,arrowHeight:D}),m&&gEe({strategy:"referenceHidden",...U})]}),[ce,ae]=vie(q),G=fa(v);Ea(()=>{V&&(G==null||G())},[V,G]);const H=(J=Q.arrow)==null?void 0:J.x,T=(ee=Q.arrow)==null?void 0:ee.y,Y=((se=Q.arrow)==null?void 0:se.centerOffset)!==0,[ie,ne]=g.useState();return Ea(()=>{w&&ne(window.getComputedStyle(w).zIndex)},[w]),s.jsx("div",{ref:K.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:V?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ie,"--radix-popper-transform-origin":[(de=Q.transformOrigin)==null?void 0:de.x,(he=Q.transformOrigin)==null?void 0:he.y].join(" "),...((me=Q.hide)==null?void 0:me.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(wEe,{scope:n,placedSide:ce,onArrowChange:N,arrowX:H,arrowY:T,shouldHideArrow:Y,children:s.jsx(Gt.div,{"data-side":ce,"data-align":ae,...S,ref:E,style:{...S.style,animation:V?void 0:"none"}})})})});mie.displayName=SP;var yie="PopperArrow",_Ee={top:"bottom",right:"left",bottom:"top",left:"right"},gie=g.forwardRef(function(t,n){const{__scopePopper:i,...r}=t,a=EEe(yie,i),o=_Ee[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(bEe,{...r,ref:n,style:{...r.style,display:"block"}})})});gie.displayName=yie;function AEe(e){return e!==null}var REe=e=>({name:"transformOrigin",options:e,fn(t){var b,w,R;const{placement:n,rects:i,middlewareData:r}=t,o=((b=r.arrow)==null?void 0:b.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=vie(n),h={start:"0%",center:"50%",end:"100%"}[d],m=(((w=r.arrow)==null?void 0:w.x)??0)+l/2,p=(((R=r.arrow)==null?void 0:R.y)??0)+c/2;let v="",S="";return u==="bottom"?(v=o?h:`${m}px`,S=`${-c}px`):u==="top"?(v=o?h:`${m}px`,S=`${i.floating.height+c}px`):u==="right"?(v=`${-c}px`,S=o?h:`${p}px`):u==="left"&&(v=`${i.floating.width+c}px`,S=o?h:`${p}px`),{data:{x:v,y:S}}}});function vie(e){const[t,n="center"]=e.split("-");return[t,n]}var XN=fie,T2=pie,ZN=mie,eO=gie,I3="rovingFocusGroup.onEntryFocus",NEe={bubbles:!1,cancelable:!0},M2="RovingFocusGroup",[B4,Sie,OEe]=N2(M2),[jEe,Em]=pa(M2,[OEe]),[DEe,CEe]=jEe(M2),bie=g.forwardRef((e,t)=>s.jsx(B4.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(B4.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(LEe,{...e,ref:t})})}));bie.displayName=M2;var LEe=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:i,loop:r=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,m=g.useRef(null),p=_n(t,m),v=bm(a),[S,b]=xs({prop:o,defaultProp:l??null,onChange:c,caller:M2}),[w,R]=g.useState(!1),E=fa(u),_=Sie(n),N=g.useRef(!1),[O,j]=g.useState(0);return g.useEffect(()=>{const D=m.current;if(D)return D.addEventListener(I3,E),()=>D.removeEventListener(I3,E)},[E]),s.jsx(DEe,{scope:n,orientation:i,dir:v,loop:r,currentTabStopId:S,onItemFocus:g.useCallback(D=>b(D),[b]),onItemShiftTab:g.useCallback(()=>R(!0),[]),onFocusableItemAdd:g.useCallback(()=>j(D=>D+1),[]),onFocusableItemRemove:g.useCallback(()=>j(D=>D-1),[]),children:s.jsx(Gt.div,{tabIndex:w||O===0?-1:0,"data-orientation":i,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:Dt(e.onMouseDown,()=>{N.current=!0}),onFocus:Dt(e.onFocus,D=>{const P=!N.current;if(D.target===D.currentTarget&&P&&!w){const B=new CustomEvent(I3,NEe);if(D.currentTarget.dispatchEvent(B),!B.defaultPrevented){const M=_().filter(q=>q.focusable),z=M.find(q=>q.active),U=M.find(q=>q.id===S),te=[z,U,...M].filter(Boolean).map(q=>q.ref.current);Eie(te,d)}}N.current=!1}),onBlur:Dt(e.onBlur,()=>R(!1))})})}),xie="RovingFocusGroupItem",wie=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:i=!0,active:r=!1,tabStopId:a,children:o,...l}=e,c=Tc(),u=a||c,d=CEe(xie,n),h=d.currentTabStopId===u,m=Sie(n),{onFocusableItemAdd:p,onFocusableItemRemove:v,currentTabStopId:S}=d;return g.useEffect(()=>{if(i)return p(),()=>v()},[i,p,v]),s.jsx(B4.ItemSlot,{scope:n,id:u,focusable:i,active:r,children:s.jsx(Gt.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:Dt(e.onMouseDown,b=>{i?d.onItemFocus(u):b.preventDefault()}),onFocus:Dt(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Dt(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const w=IEe(b,d.orientation,d.dir);if(w!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let E=m().filter(_=>_.focusable).map(_=>_.ref.current);if(w==="last")E.reverse();else if(w==="prev"||w==="next"){w==="prev"&&E.reverse();const _=E.indexOf(b.currentTarget);E=d.loop?PEe(E,_+1):E.slice(_+1)}setTimeout(()=>Eie(E))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:S!=null}):o})})});wie.displayName=xie;var TEe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function MEe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function IEe(e,t,n){const i=MEe(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return TEe[i]}function Eie(e,t=!1){const n=document.activeElement;for(const i of e)if(i===n||(i.focus({preventScroll:t}),document.activeElement!==n))return}function PEe(e,t){return e.map((n,i)=>e[(t+i)%e.length])}var tO=bie,nO=wie,z4=["Enter"," "],kEe=["ArrowDown","PageUp","Home"],_ie=["ArrowUp","PageDown","End"],$Ee=[...kEe,..._ie],FEe={ltr:[...z4,"ArrowRight"],rtl:[...z4,"ArrowLeft"]},BEe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},I2="Menu",[bx,zEe,UEe]=N2(I2),[qg,Aie]=pa(I2,[UEe,wm,Em]),iO=wm(),Rie=Em(),[VEe,Wg]=qg(I2),[KEe,P2]=qg(I2),Nie=e=>{const{__scopeMenu:t,open:n=!1,children:i,dir:r,onOpenChange:a,modal:o=!0}=e,l=iO(t),[c,u]=g.useState(null),d=g.useRef(!1),h=fa(a),m=bm(r);return g.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),s.jsx(XN,{...l,children:s.jsx(VEe,{scope:t,open:n,onOpenChange:h,content:c,onContentChange:u,children:s.jsx(KEe,{scope:t,onClose:g.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:m,modal:o,children:i})})})};Nie.displayName=I2;var GEe="MenuAnchor",bP=g.forwardRef((e,t)=>{const{__scopeMenu:n,...i}=e,r=iO(n);return s.jsx(T2,{...r,...i,ref:t})});bP.displayName=GEe;var xP="MenuPortal",[HEe,Oie]=qg(xP,{forceMount:void 0}),jie=e=>{const{__scopeMenu:t,forceMount:n,children:i,container:r}=e,a=Wg(xP,t);return s.jsx(HEe,{scope:t,forceMount:n,children:s.jsx(Fa,{present:n||a.open,children:s.jsx(Hg,{asChild:!0,container:r,children:i})})})};jie.displayName=xP;var Mc="MenuContent",[qEe,wP]=qg(Mc),Die=g.forwardRef((e,t)=>{const n=Oie(Mc,e.__scopeMenu),{forceMount:i=n.forceMount,...r}=e,a=Wg(Mc,e.__scopeMenu),o=P2(Mc,e.__scopeMenu);return s.jsx(bx.Provider,{scope:e.__scopeMenu,children:s.jsx(Fa,{present:i||a.open,children:s.jsx(bx.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(WEe,{...r,ref:t}):s.jsx(YEe,{...r,ref:t})})})})}),WEe=g.forwardRef((e,t)=>{const n=Wg(Mc,e.__scopeMenu),i=g.useRef(null),r=_n(t,i);return g.useEffect(()=>{const a=i.current;if(a)return GN(a)},[]),s.jsx(EP,{...e,ref:r,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Dt(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),YEe=g.forwardRef((e,t)=>{const n=Wg(Mc,e.__scopeMenu);return s.jsx(EP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),JEe=om("MenuContent.ScrollLock"),EP=g.forwardRef((e,t)=>{const{__scopeMenu:n,loop:i=!1,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:m,onDismiss:p,disableOutsideScroll:v,...S}=e,b=Wg(Mc,n),w=P2(Mc,n),R=iO(n),E=Rie(n),_=zEe(n),[N,O]=g.useState(null),j=g.useRef(null),D=_n(t,j,b.onContentChange),P=g.useRef(0),B=g.useRef(""),M=g.useRef(0),z=g.useRef(null),U=g.useRef("right"),K=g.useRef(0),te=v?j2:g.Fragment,q=v?{as:JEe,allowPinchZoom:!0}:void 0,V=ce=>{var J,ee;const ae=B.current+ce,G=_().filter(se=>!se.disabled),H=document.activeElement,T=(J=G.find(se=>se.ref.current===H))==null?void 0:J.textValue,Y=G.map(se=>se.textValue),ie=l_e(Y,ae,T),ne=(ee=G.find(se=>se.textValue===ie))==null?void 0:ee.ref.current;(function se(de){B.current=de,window.clearTimeout(P.current),de!==""&&(P.current=window.setTimeout(()=>se(""),1e3))})(ae),ne&&setTimeout(()=>ne.focus())};g.useEffect(()=>()=>window.clearTimeout(P.current),[]),UN();const Q=g.useCallback(ce=>{var G,H;return U.current===((G=z.current)==null?void 0:G.side)&&u_e(ce,(H=z.current)==null?void 0:H.area)},[]);return s.jsx(qEe,{scope:n,searchRef:B,onItemEnter:g.useCallback(ce=>{Q(ce)&&ce.preventDefault()},[Q]),onItemLeave:g.useCallback(ce=>{var ae;Q(ce)||((ae=j.current)==null||ae.focus(),O(null))},[Q]),onTriggerLeave:g.useCallback(ce=>{Q(ce)&&ce.preventDefault()},[Q]),pointerGraceTimerRef:M,onPointerGraceIntentChange:g.useCallback(ce=>{z.current=ce},[]),children:s.jsx(te,{...q,children:s.jsx(O2,{asChild:!0,trapped:r,onMountAutoFocus:Dt(a,ce=>{var ae;ce.preventDefault(),(ae=j.current)==null||ae.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(Gg,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:m,onDismiss:p,children:s.jsx(tO,{asChild:!0,...E,dir:w.dir,orientation:"vertical",loop:i,currentTabStopId:N,onCurrentTabStopIdChange:O,onEntryFocus:Dt(c,ce=>{w.isUsingKeyboardRef.current||ce.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(ZN,{role:"menu","aria-orientation":"vertical","data-state":Hie(b.open),"data-radix-menu-content":"",dir:w.dir,...R,...S,ref:D,style:{outline:"none",...S.style},onKeyDown:Dt(S.onKeyDown,ce=>{const G=ce.target.closest("[data-radix-menu-content]")===ce.currentTarget,H=ce.ctrlKey||ce.altKey||ce.metaKey,T=ce.key.length===1;G&&(ce.key==="Tab"&&ce.preventDefault(),!H&&T&&V(ce.key));const Y=j.current;if(ce.target!==Y||!$Ee.includes(ce.key))return;ce.preventDefault();const ne=_().filter(J=>!J.disabled).map(J=>J.ref.current);_ie.includes(ce.key)&&ne.reverse(),s_e(ne)}),onBlur:Dt(e.onBlur,ce=>{ce.currentTarget.contains(ce.target)||(window.clearTimeout(P.current),B.current="")}),onPointerMove:Dt(e.onPointerMove,xx(ce=>{const ae=ce.target,G=K.current!==ce.clientX;if(ce.currentTarget.contains(ae)&&G){const H=ce.clientX>K.current?"right":"left";U.current=H,K.current=ce.clientX}}))})})})})})})});Die.displayName=Mc;var QEe="MenuGroup",_P=g.forwardRef((e,t)=>{const{__scopeMenu:n,...i}=e;return s.jsx(Gt.div,{role:"group",...i,ref:t})});_P.displayName=QEe;var XEe="MenuLabel",Cie=g.forwardRef((e,t)=>{const{__scopeMenu:n,...i}=e;return s.jsx(Gt.div,{...i,ref:t})});Cie.displayName=XEe;var zA="MenuItem",hz="menu.itemSelect",rO=g.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:i,...r}=e,a=g.useRef(null),o=P2(zA,e.__scopeMenu),l=wP(zA,e.__scopeMenu),c=_n(t,a),u=g.useRef(!1),d=()=>{const h=a.current;if(!n&&h){const m=new CustomEvent(hz,{bubbles:!0,cancelable:!0});h.addEventListener(hz,p=>i==null?void 0:i(p),{once:!0}),BN(h,m),m.defaultPrevented?u.current=!1:o.onClose()}};return s.jsx(Lie,{...r,ref:c,disabled:n,onClick:Dt(e.onClick,d),onPointerDown:h=>{var m;(m=e.onPointerDown)==null||m.call(e,h),u.current=!0},onPointerUp:Dt(e.onPointerUp,h=>{var m;u.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:Dt(e.onKeyDown,h=>{const m=l.searchRef.current!=="";n||m&&h.key===" "||z4.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});rO.displayName=zA;var Lie=g.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:i=!1,textValue:r,...a}=e,o=wP(zA,n),l=Rie(n),c=g.useRef(null),u=_n(t,c),[d,h]=g.useState(!1),[m,p]=g.useState("");return g.useEffect(()=>{const v=c.current;v&&p((v.textContent??"").trim())},[a.children]),s.jsx(bx.ItemSlot,{scope:n,disabled:i,textValue:r??m,children:s.jsx(nO,{asChild:!0,...l,focusable:!i,children:s.jsx(Gt.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":i||void 0,"data-disabled":i?"":void 0,...a,ref:u,onPointerMove:Dt(e.onPointerMove,xx(v=>{i?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Dt(e.onPointerLeave,xx(v=>o.onItemLeave(v))),onFocus:Dt(e.onFocus,()=>h(!0)),onBlur:Dt(e.onBlur,()=>h(!1))})})})}),ZEe="MenuCheckboxItem",Tie=g.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:i,...r}=e;return s.jsx($ie,{scope:e.__scopeMenu,checked:n,children:s.jsx(rO,{role:"menuitemcheckbox","aria-checked":UA(n)?"mixed":n,...r,ref:t,"data-state":RP(n),onSelect:Dt(r.onSelect,()=>i==null?void 0:i(UA(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Tie.displayName=ZEe;var Mie="MenuRadioGroup",[e_e,t_e]=qg(Mie,{value:void 0,onValueChange:()=>{}}),Iie=g.forwardRef((e,t)=>{const{value:n,onValueChange:i,...r}=e,a=fa(i);return s.jsx(e_e,{scope:e.__scopeMenu,value:n,onValueChange:a,children:s.jsx(_P,{...r,ref:t})})});Iie.displayName=Mie;var Pie="MenuRadioItem",kie=g.forwardRef((e,t)=>{const{value:n,...i}=e,r=t_e(Pie,e.__scopeMenu),a=n===r.value;return s.jsx($ie,{scope:e.__scopeMenu,checked:a,children:s.jsx(rO,{role:"menuitemradio","aria-checked":a,...i,ref:t,"data-state":RP(a),onSelect:Dt(i.onSelect,()=>{var o;return(o=r.onValueChange)==null?void 0:o.call(r,n)},{checkForDefaultPrevented:!1})})})});kie.displayName=Pie;var AP="MenuItemIndicator",[$ie,n_e]=qg(AP,{checked:!1}),Fie=g.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:i,...r}=e,a=n_e(AP,n);return s.jsx(Fa,{present:i||UA(a.checked)||a.checked===!0,children:s.jsx(Gt.span,{...r,ref:t,"data-state":RP(a.checked)})})});Fie.displayName=AP;var i_e="MenuSeparator",Bie=g.forwardRef((e,t)=>{const{__scopeMenu:n,...i}=e;return s.jsx(Gt.div,{role:"separator","aria-orientation":"horizontal",...i,ref:t})});Bie.displayName=i_e;var r_e="MenuArrow",zie=g.forwardRef((e,t)=>{const{__scopeMenu:n,...i}=e,r=iO(n);return s.jsx(eO,{...r,...i,ref:t})});zie.displayName=r_e;var a_e="MenuSub",[Kxt,Uie]=qg(a_e),kb="MenuSubTrigger",Vie=g.forwardRef((e,t)=>{const n=Wg(kb,e.__scopeMenu),i=P2(kb,e.__scopeMenu),r=Uie(kb,e.__scopeMenu),a=wP(kb,e.__scopeMenu),o=g.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},d=g.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return g.useEffect(()=>d,[d]),g.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),s.jsx(bP,{asChild:!0,...u,children:s.jsx(Lie,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":r.contentId,"data-state":Hie(n.open),...e,ref:R2(t,r.onTriggerChange),onClick:h=>{var m;(m=e.onClick)==null||m.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Dt(e.onPointerMove,xx(h=>{a.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:Dt(e.onPointerLeave,xx(h=>{var p,v;d();const m=(p=n.content)==null?void 0:p.getBoundingClientRect();if(m){const S=(v=n.content)==null?void 0:v.dataset.side,b=S==="right",w=b?-5:5,R=m[b?"left":"right"],E=m[b?"right":"left"];a.onPointerGraceIntentChange({area:[{x:h.clientX+w,y:h.clientY},{x:R,y:m.top},{x:E,y:m.top},{x:E,y:m.bottom},{x:R,y:m.bottom}],side:S}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(h),h.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Dt(e.onKeyDown,h=>{var p;const m=a.searchRef.current!=="";e.disabled||m&&h.key===" "||FEe[i.dir].includes(h.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),h.preventDefault())})})})});Vie.displayName=kb;var Kie="MenuSubContent",Gie=g.forwardRef((e,t)=>{const n=Oie(Mc,e.__scopeMenu),{forceMount:i=n.forceMount,...r}=e,a=Wg(Mc,e.__scopeMenu),o=P2(Mc,e.__scopeMenu),l=Uie(Kie,e.__scopeMenu),c=g.useRef(null),u=_n(t,c);return s.jsx(bx.Provider,{scope:e.__scopeMenu,children:s.jsx(Fa,{present:i||a.open,children:s.jsx(bx.Slot,{scope:e.__scopeMenu,children:s.jsx(EP,{id:l.contentId,"aria-labelledby":l.triggerId,...r,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Dt(e.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Dt(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Dt(e.onKeyDown,d=>{var p;const h=d.currentTarget.contains(d.target),m=BEe[o.dir].includes(d.key);h&&m&&(a.onOpenChange(!1),(p=l.trigger)==null||p.focus(),d.preventDefault())})})})})})});Gie.displayName=Kie;function Hie(e){return e?"open":"closed"}function UA(e){return e==="indeterminate"}function RP(e){return UA(e)?"indeterminate":e?"checked":"unchecked"}function s_e(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function o_e(e,t){return e.map((n,i)=>e[(t+i)%e.length])}function l_e(e,t,n){const r=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=o_e(e,Math.max(a,0));r.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(r.toLowerCase()));return c!==n?c:void 0}function c_e(e,t){const{x:n,y:i}=e;let r=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],u=l.x,d=l.y,h=c.x,m=c.y;d>i!=m>i&&n<(h-u)*(i-d)/(m-d)+u&&(r=!r)}return r}function u_e(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return c_e(n,t)}function xx(e){return t=>t.pointerType==="mouse"?e(t):void 0}var d_e=Nie,f_e=bP,h_e=jie,p_e=Die,m_e=_P,y_e=Cie,g_e=rO,v_e=Tie,S_e=Iie,b_e=kie,x_e=Fie,w_e=Bie,E_e=zie,__e=Vie,A_e=Gie,aO="DropdownMenu",[R_e]=pa(aO,[Aie]),jo=Aie(),[N_e,qie]=R_e(aO),Wie=e=>{const{__scopeDropdownMenu:t,children:n,dir:i,open:r,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,c=jo(t),u=g.useRef(null),[d,h]=xs({prop:r,defaultProp:a??!1,onChange:o,caller:aO});return s.jsx(N_e,{scope:t,triggerId:Tc(),triggerRef:u,contentId:Tc(),open:d,onOpenChange:h,onOpenToggle:g.useCallback(()=>h(m=>!m),[h]),modal:l,children:s.jsx(d_e,{...c,open:d,onOpenChange:h,dir:i,modal:l,children:n})})};Wie.displayName=aO;var Yie="DropdownMenuTrigger",Jie=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:i=!1,...r}=e,a=qie(Yie,n),o=jo(n);return s.jsx(f_e,{asChild:!0,...o,children:s.jsx(Gt.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":i?"":void 0,disabled:i,...r,ref:R2(t,a.triggerRef),onPointerDown:Dt(e.onPointerDown,l=>{!i&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:Dt(e.onKeyDown,l=>{i||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Jie.displayName=Yie;var O_e="DropdownMenuPortal",Qie=e=>{const{__scopeDropdownMenu:t,...n}=e,i=jo(t);return s.jsx(h_e,{...i,...n})};Qie.displayName=O_e;var Xie="DropdownMenuContent",Zie=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,r=qie(Xie,n),a=jo(n),o=g.useRef(!1);return s.jsx(p_e,{id:r.contentId,"aria-labelledby":r.triggerId,...a,...i,ref:t,onCloseAutoFocus:Dt(e.onCloseAutoFocus,l=>{var c;o.current||(c=r.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Dt(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!r.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Zie.displayName=Xie;var j_e="DropdownMenuGroup",ere=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,r=jo(n);return s.jsx(m_e,{...r,...i,ref:t})});ere.displayName=j_e;var D_e="DropdownMenuLabel",tre=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,r=jo(n);return s.jsx(y_e,{...r,...i,ref:t})});tre.displayName=D_e;var C_e="DropdownMenuItem",nre=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,r=jo(n);return s.jsx(g_e,{...r,...i,ref:t})});nre.displayName=C_e;var L_e="DropdownMenuCheckboxItem",ire=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,r=jo(n);return s.jsx(v_e,{...r,...i,ref:t})});ire.displayName=L_e;var T_e="DropdownMenuRadioGroup",rre=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,r=jo(n);return s.jsx(S_e,{...r,...i,ref:t})});rre.displayName=T_e;var M_e="DropdownMenuRadioItem",are=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,r=jo(n);return s.jsx(b_e,{...r,...i,ref:t})});are.displayName=M_e;var I_e="DropdownMenuItemIndicator",sre=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,r=jo(n);return s.jsx(x_e,{...r,...i,ref:t})});sre.displayName=I_e;var P_e="DropdownMenuSeparator",ore=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,r=jo(n);return s.jsx(w_e,{...r,...i,ref:t})});ore.displayName=P_e;var k_e="DropdownMenuArrow",$_e=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,r=jo(n);return s.jsx(E_e,{...r,...i,ref:t})});$_e.displayName=k_e;var F_e="DropdownMenuSubTrigger",lre=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,r=jo(n);return s.jsx(__e,{...r,...i,ref:t})});lre.displayName=F_e;var B_e="DropdownMenuSubContent",cre=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,r=jo(n);return s.jsx(A_e,{...r,...i,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});cre.displayName=B_e;var z_e=Wie,U_e=Jie,ure=Qie,V_e=Zie,K_e=ere,G_e=tre,H_e=nre,q_e=ire,W_e=rre,Y_e=are,dre=sre,J_e=ore,Q_e=lre,X_e=cre;function wx(e,[t,n]){return Math.min(n,Math.max(t,e))}var sO="Popover",[fre]=pa(sO,[wm]),k2=wm(),[Z_e,_m]=fre(sO),hre=e=>{const{__scopePopover:t,children:n,open:i,defaultOpen:r,onOpenChange:a,modal:o=!1}=e,l=k2(t),c=g.useRef(null),[u,d]=g.useState(!1),[h,m]=xs({prop:i,defaultProp:r??!1,onChange:a,caller:sO});return s.jsx(XN,{...l,children:s.jsx(Z_e,{scope:t,contentId:Tc(),triggerRef:c,open:h,onOpenChange:m,onOpenToggle:g.useCallback(()=>m(p=>!p),[m]),hasCustomAnchor:u,onCustomAnchorAdd:g.useCallback(()=>d(!0),[]),onCustomAnchorRemove:g.useCallback(()=>d(!1),[]),modal:o,children:n})})};hre.displayName=sO;var pre="PopoverAnchor",mre=g.forwardRef((e,t)=>{const{__scopePopover:n,...i}=e,r=_m(pre,n),a=k2(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=r;return g.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(T2,{...a,...i,ref:t})});mre.displayName=pre;var yre="PopoverTrigger",gre=g.forwardRef((e,t)=>{const{__scopePopover:n,...i}=e,r=_m(yre,n),a=k2(n),o=_n(t,r.triggerRef),l=s.jsx(Gt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":Ere(r.open),...i,ref:o,onClick:Dt(e.onClick,r.onOpenToggle)});return r.hasCustomAnchor?l:s.jsx(T2,{asChild:!0,...a,children:l})});gre.displayName=yre;var NP="PopoverPortal",[eAe,tAe]=fre(NP,{forceMount:void 0}),vre=e=>{const{__scopePopover:t,forceMount:n,children:i,container:r}=e,a=_m(NP,t);return s.jsx(eAe,{scope:t,forceMount:n,children:s.jsx(Fa,{present:n||a.open,children:s.jsx(Hg,{asChild:!0,container:r,children:i})})})};vre.displayName=NP;var v1="PopoverContent",Sre=g.forwardRef((e,t)=>{const n=tAe(v1,e.__scopePopover),{forceMount:i=n.forceMount,...r}=e,a=_m(v1,e.__scopePopover);return s.jsx(Fa,{present:i||a.open,children:a.modal?s.jsx(iAe,{...r,ref:t}):s.jsx(rAe,{...r,ref:t})})});Sre.displayName=v1;var nAe=om("PopoverContent.RemoveScroll"),iAe=g.forwardRef((e,t)=>{const n=_m(v1,e.__scopePopover),i=g.useRef(null),r=_n(t,i),a=g.useRef(!1);return g.useEffect(()=>{const o=i.current;if(o)return GN(o)},[]),s.jsx(j2,{as:nAe,allowPinchZoom:!0,children:s.jsx(bre,{...e,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Dt(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),a.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Dt(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Dt(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),rAe=g.forwardRef((e,t)=>{const n=_m(v1,e.__scopePopover),i=g.useRef(!1),r=g.useRef(!1);return s.jsx(bre,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(i.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),i.current=!1,r.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(i.current=!0,a.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&r.current&&a.preventDefault()}})}),bre=g.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:i,onOpenAutoFocus:r,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...h}=e,m=_m(v1,n),p=k2(n);return UN(),s.jsx(O2,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:r,onUnmountAutoFocus:a,children:s.jsx(Gg,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:s.jsx(ZN,{"data-state":Ere(m.open),role:"dialog",id:m.contentId,...p,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),xre="PopoverClose",wre=g.forwardRef((e,t)=>{const{__scopePopover:n,...i}=e,r=_m(xre,n);return s.jsx(Gt.button,{type:"button",...i,ref:t,onClick:Dt(e.onClick,()=>r.onOpenChange(!1))})});wre.displayName=xre;var aAe="PopoverArrow",sAe=g.forwardRef((e,t)=>{const{__scopePopover:n,...i}=e,r=k2(n);return s.jsx(eO,{...r,...i,ref:t})});sAe.displayName=aAe;function Ere(e){return e?"open":"closed"}var oAe=hre,lAe=mre,cAe=gre,uAe=vre,dAe=Sre,fAe=wre,OP="Progress",jP=100,[hAe]=pa(OP),[pAe,mAe]=hAe(OP),_re=g.forwardRef((e,t)=>{const{__scopeProgress:n,value:i=null,max:r,getValueLabel:a=yAe,...o}=e;(r||r===0)&&!pz(r)&&console.error(gAe(`${r}`,"Progress"));const l=pz(r)?r:jP;i!==null&&!mz(i,l)&&console.error(vAe(`${i}`,"Progress"));const c=mz(i,l)?i:null,u=VA(c)?a(c,l):void 0;return s.jsx(pAe,{scope:n,value:c,max:l,children:s.jsx(Gt.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":VA(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":Nre(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});_re.displayName=OP;var Are="ProgressIndicator",Rre=g.forwardRef((e,t)=>{const{__scopeProgress:n,...i}=e,r=mAe(Are,n);return s.jsx(Gt.div,{"data-state":Nre(r.value,r.max),"data-value":r.value??void 0,"data-max":r.max,...i,ref:t})});Rre.displayName=Are;function yAe(e,t){return`${Math.round(e/t*100)}%`}function Nre(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function VA(e){return typeof e=="number"}function pz(e){return VA(e)&&!isNaN(e)&&e>0}function mz(e,t){return VA(e)&&!isNaN(e)&&e<=t&&e>=0}function gAe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${jP}\`.`}function vAe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${jP} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var SAe=_re,bAe=Rre,DP="Radio",[xAe,Ore]=pa(DP),[wAe,EAe]=xAe(DP),jre=g.forwardRef((e,t)=>{const{__scopeRadio:n,name:i,checked:r=!1,required:a,disabled:o,value:l="on",onCheck:c,form:u,...d}=e,[h,m]=g.useState(null),p=_n(t,b=>m(b)),v=g.useRef(!1),S=h?u||!!h.closest("form"):!0;return s.jsxs(wAe,{scope:n,checked:r,disabled:o,children:[s.jsx(Gt.button,{type:"button",role:"radio","aria-checked":r,"data-state":Tre(r),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:p,onClick:Dt(e.onClick,b=>{r||c==null||c(),S&&(v.current=b.isPropagationStopped(),v.current||b.stopPropagation())})}),S&&s.jsx(Lre,{control:h,bubbles:!v.current,name:i,value:l,checked:r,required:a,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});jre.displayName=DP;var Dre="RadioIndicator",Cre=g.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:i,...r}=e,a=EAe(Dre,n);return s.jsx(Fa,{present:i||a.checked,children:s.jsx(Gt.span,{"data-state":Tre(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})})});Cre.displayName=Dre;var _Ae="RadioBubbleInput",Lre=g.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:i=!0,...r},a)=>{const o=g.useRef(null),l=_n(o,a),c=D2(n),u=C2(t);return g.useEffect(()=>{const d=o.current;if(!d)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==n&&p){const v=new Event("click",{bubbles:i});p.call(d,n),d.dispatchEvent(v)}},[c,n,i]),s.jsx(Gt.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...r,tabIndex:-1,ref:l,style:{...r.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Lre.displayName=_Ae;function Tre(e){return e?"checked":"unchecked"}var AAe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],oO="RadioGroup",[RAe,Mre]=pa(oO,[Em,Ore]),Ire=Em(),Pre=Ore(),[NAe,OAe]=RAe(oO),kre=g.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:i,defaultValue:r,value:a,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:h,...m}=e,p=Ire(n),v=bm(u),[S,b]=xs({prop:a,defaultProp:r??null,onChange:h,caller:oO});return s.jsx(NAe,{scope:n,name:i,required:o,disabled:l,value:S,onValueChange:b,children:s.jsx(tO,{asChild:!0,...p,orientation:c,dir:v,loop:d,children:s.jsx(Gt.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:v,...m,ref:t})})})});kre.displayName=oO;var $re="RadioGroupItem",Fre=g.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:i,...r}=e,a=OAe($re,n),o=a.disabled||i,l=Ire(n),c=Pre(n),u=g.useRef(null),d=_n(t,u),h=a.value===r.value,m=g.useRef(!1);return g.useEffect(()=>{const p=S=>{AAe.includes(S.key)&&(m.current=!0)},v=()=>m.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",v)}},[]),s.jsx(nO,{asChild:!0,...l,focusable:!o,active:h,children:s.jsx(jre,{disabled:o,required:a.required,checked:h,...c,...r,name:a.name,ref:d,onCheck:()=>a.onValueChange(r.value),onKeyDown:Dt(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:Dt(r.onFocus,()=>{var p;m.current&&((p=u.current)==null||p.click())})})})});Fre.displayName=$re;var jAe="RadioGroupIndicator",DAe=g.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...i}=e,r=Pre(n);return s.jsx(Cre,{...r,...i,ref:t})});DAe.displayName=jAe;var Bre=kre,zre=Fre;function CAe(e,t){return g.useReducer((n,i)=>t[n][i]??n,e)}var CP="ScrollArea",[Ure]=pa(CP),[LAe,Fc]=Ure(CP),Vre=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:i="hover",dir:r,scrollHideDelay:a=600,...o}=e,[l,c]=g.useState(null),[u,d]=g.useState(null),[h,m]=g.useState(null),[p,v]=g.useState(null),[S,b]=g.useState(null),[w,R]=g.useState(0),[E,_]=g.useState(0),[N,O]=g.useState(!1),[j,D]=g.useState(!1),P=_n(t,M=>c(M)),B=bm(r);return s.jsx(LAe,{scope:n,type:i,dir:B,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:d,content:h,onContentChange:m,scrollbarX:p,onScrollbarXChange:v,scrollbarXEnabled:N,onScrollbarXEnabledChange:O,scrollbarY:S,onScrollbarYChange:b,scrollbarYEnabled:j,onScrollbarYEnabledChange:D,onCornerWidthChange:R,onCornerHeightChange:_,children:s.jsx(Gt.div,{dir:B,...o,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":E+"px",...e.style}})})});Vre.displayName=CP;var Kre="ScrollAreaViewport",Gre=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:i,nonce:r,...a}=e,o=Fc(Kre,n),l=g.useRef(null),c=_n(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(Gt.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:i})})]})});Gre.displayName=Kre;var Qd="ScrollAreaScrollbar",Hre=g.forwardRef((e,t)=>{const{forceMount:n,...i}=e,r=Fc(Qd,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=r,l=e.orientation==="horizontal";return g.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),r.type==="hover"?s.jsx(TAe,{...i,ref:t,forceMount:n}):r.type==="scroll"?s.jsx(MAe,{...i,ref:t,forceMount:n}):r.type==="auto"?s.jsx(qre,{...i,ref:t,forceMount:n}):r.type==="always"?s.jsx(LP,{...i,ref:t}):null});Hre.displayName=Qd;var TAe=g.forwardRef((e,t)=>{const{forceMount:n,...i}=e,r=Fc(Qd,e.__scopeScrollArea),[a,o]=g.useState(!1);return g.useEffect(()=>{const l=r.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),r.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[r.scrollArea,r.scrollHideDelay]),s.jsx(Fa,{present:n||a,children:s.jsx(qre,{"data-state":a?"visible":"hidden",...i,ref:t})})}),MAe=g.forwardRef((e,t)=>{const{forceMount:n,...i}=e,r=Fc(Qd,e.__scopeScrollArea),a=e.orientation==="horizontal",o=cO(()=>c("SCROLL_END"),100),[l,c]=CAe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return g.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),r.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,r.scrollHideDelay,c]),g.useEffect(()=>{const u=r.viewport,d=a?"scrollLeft":"scrollTop";if(u){let h=u[d];const m=()=>{const p=u[d];h!==p&&(c("SCROLL"),o()),h=p};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[r.viewport,a,c,o]),s.jsx(Fa,{present:n||l!=="hidden",children:s.jsx(LP,{"data-state":l==="hidden"?"hidden":"visible",...i,ref:t,onPointerEnter:Dt(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Dt(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),qre=g.forwardRef((e,t)=>{const n=Fc(Qd,e.__scopeScrollArea),{forceMount:i,...r}=e,[a,o]=g.useState(!1),l=e.orientation==="horizontal",c=cO(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?u:d)}},10);return S1(n.viewport,c),S1(n.content,c),s.jsx(Fa,{present:i||a,children:s.jsx(LP,{"data-state":a?"visible":"hidden",...r,ref:t})})}),LP=g.forwardRef((e,t)=>{const{orientation:n="vertical",...i}=e,r=Fc(Qd,e.__scopeScrollArea),a=g.useRef(null),o=g.useRef(0),[l,c]=g.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Xre(l.viewport,l.content),d={...i,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>a.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function h(m,p){return BAe(m,o.current,l,p)}return n==="horizontal"?s.jsx(IAe,{...d,ref:t,onThumbPositionChange:()=>{if(r.viewport&&a.current){const m=r.viewport.scrollLeft,p=yz(m,l,r.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{r.viewport&&(r.viewport.scrollLeft=m)},onDragScroll:m=>{r.viewport&&(r.viewport.scrollLeft=h(m,r.dir))}}):n==="vertical"?s.jsx(PAe,{...d,ref:t,onThumbPositionChange:()=>{if(r.viewport&&a.current){const m=r.viewport.scrollTop,p=yz(m,l);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{r.viewport&&(r.viewport.scrollTop=m)},onDragScroll:m=>{r.viewport&&(r.viewport.scrollTop=h(m))}}):null}),IAe=g.forwardRef((e,t)=>{const{sizes:n,onSizesChange:i,...r}=e,a=Fc(Qd,e.__scopeScrollArea),[o,l]=g.useState(),c=g.useRef(null),u=_n(t,c,a.onScrollbarXChange);return g.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(Yre,{"data-orientation":"horizontal",...r,ref:u,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":lO(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(a.viewport){const m=a.viewport.scrollLeft+d.deltaX;e.onWheelScroll(m),eae(m,h)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&i({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:GA(o.paddingLeft),paddingEnd:GA(o.paddingRight)}})}})}),PAe=g.forwardRef((e,t)=>{const{sizes:n,onSizesChange:i,...r}=e,a=Fc(Qd,e.__scopeScrollArea),[o,l]=g.useState(),c=g.useRef(null),u=_n(t,c,a.onScrollbarYChange);return g.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(Yre,{"data-orientation":"vertical",...r,ref:u,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":lO(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(a.viewport){const m=a.viewport.scrollTop+d.deltaY;e.onWheelScroll(m),eae(m,h)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&i({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:GA(o.paddingTop),paddingEnd:GA(o.paddingBottom)}})}})}),[kAe,Wre]=Ure(Qd),Yre=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:i,hasThumb:r,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...m}=e,p=Fc(Qd,n),[v,S]=g.useState(null),b=_n(t,P=>S(P)),w=g.useRef(null),R=g.useRef(""),E=p.viewport,_=i.content-i.viewport,N=fa(d),O=fa(c),j=cO(h,10);function D(P){if(w.current){const B=P.clientX-w.current.left,M=P.clientY-w.current.top;u({x:B,y:M})}}return g.useEffect(()=>{const P=B=>{const M=B.target;(v==null?void 0:v.contains(M))&&N(B,_)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[E,v,_,N]),g.useEffect(O,[i,O]),S1(v,j),S1(p.content,j),s.jsx(kAe,{scope:n,scrollbar:v,hasThumb:r,onThumbChange:fa(a),onThumbPointerUp:fa(o),onThumbPositionChange:O,onThumbPointerDown:fa(l),children:s.jsx(Gt.div,{...m,ref:b,style:{position:"absolute",...m.style},onPointerDown:Dt(e.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),w.current=v.getBoundingClientRect(),R.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),D(P))}),onPointerMove:Dt(e.onPointerMove,D),onPointerUp:Dt(e.onPointerUp,P=>{const B=P.target;B.hasPointerCapture(P.pointerId)&&B.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=R.current,p.viewport&&(p.viewport.style.scrollBehavior=""),w.current=null})})})}),KA="ScrollAreaThumb",Jre=g.forwardRef((e,t)=>{const{forceMount:n,...i}=e,r=Wre(KA,e.__scopeScrollArea);return s.jsx(Fa,{present:n||r.hasThumb,children:s.jsx($Ae,{ref:t,...i})})}),$Ae=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:i,...r}=e,a=Fc(KA,n),o=Wre(KA,n),{onThumbPositionChange:l}=o,c=_n(t,h=>o.onThumbChange(h)),u=g.useRef(void 0),d=cO(()=>{u.current&&(u.current(),u.current=void 0)},100);return g.useEffect(()=>{const h=a.viewport;if(h){const m=()=>{if(d(),!u.current){const p=zAe(h,l);u.current=p,l()}};return l(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[a.viewport,d,l]),s.jsx(Gt.div,{"data-state":o.hasThumb?"visible":"hidden",...r,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...i},onPointerDownCapture:Dt(e.onPointerDownCapture,h=>{const p=h.target.getBoundingClientRect(),v=h.clientX-p.left,S=h.clientY-p.top;o.onThumbPointerDown({x:v,y:S})}),onPointerUp:Dt(e.onPointerUp,o.onThumbPointerUp)})});Jre.displayName=KA;var TP="ScrollAreaCorner",Qre=g.forwardRef((e,t)=>{const n=Fc(TP,e.__scopeScrollArea),i=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&i?s.jsx(FAe,{...e,ref:t}):null});Qre.displayName=TP;var FAe=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,...i}=e,r=Fc(TP,n),[a,o]=g.useState(0),[l,c]=g.useState(0),u=!!(a&&l);return S1(r.scrollbarX,()=>{var h;const d=((h=r.scrollbarX)==null?void 0:h.offsetHeight)||0;r.onCornerHeightChange(d),c(d)}),S1(r.scrollbarY,()=>{var h;const d=((h=r.scrollbarY)==null?void 0:h.offsetWidth)||0;r.onCornerWidthChange(d),o(d)}),u?s.jsx(Gt.div,{...i,ref:t,style:{width:a,height:l,position:"absolute",right:r.dir==="ltr"?0:void 0,left:r.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function GA(e){return e?parseInt(e,10):0}function Xre(e,t){const n=e/t;return isNaN(n)?0:n}function lO(e){const t=Xre(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=(e.scrollbar.size-n)*t;return Math.max(i,18)}function BAe(e,t,n,i="ltr"){const r=lO(n),a=r/2,o=t||a,l=r-o,c=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,h=i==="ltr"?[0,d]:[d*-1,0];return Zre([c,u],h)(e)}function yz(e,t,n="ltr"){const i=lO(t),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-r,o=t.content-t.viewport,l=a-i,c=n==="ltr"?[0,o]:[o*-1,0],u=wx(e,c);return Zre([0,o],[0,l])(u)}function Zre(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const i=(t[1]-t[0])/(e[1]-e[0]);return t[0]+i*(n-e[0])}}function eae(e,t){return e>0&&e<t}var zAe=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},i=0;return(function r(){const a={left:e.scrollLeft,top:e.scrollTop},o=n.left!==a.left,l=n.top!==a.top;(o||l)&&t(),n=a,i=window.requestAnimationFrame(r)})(),()=>window.cancelAnimationFrame(i)};function cO(e,t){const n=fa(e),i=g.useRef(0);return g.useEffect(()=>()=>window.clearTimeout(i.current),[]),g.useCallback(()=>{window.clearTimeout(i.current),i.current=window.setTimeout(n,t)},[n,t])}function S1(e,t){const n=fa(t);Ea(()=>{let i=0;if(e){const r=new ResizeObserver(()=>{cancelAnimationFrame(i),i=window.requestAnimationFrame(n)});return r.observe(e),()=>{window.cancelAnimationFrame(i),r.unobserve(e)}}},[e,n])}var MP=Vre,IP=Gre,HA=Hre,qA=Jre,UAe=Qre,VAe=[" ","Enter","ArrowUp","ArrowDown"],KAe=[" ","Enter"],Eg="Select",[uO,dO,GAe]=N2(Eg),[G1]=pa(Eg,[GAe,wm]),fO=wm(),[HAe,Am]=G1(Eg),[qAe,WAe]=G1(Eg),tae=e=>{const{__scopeSelect:t,children:n,open:i,defaultOpen:r,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:m,required:p,form:v}=e,S=fO(t),[b,w]=g.useState(null),[R,E]=g.useState(null),[_,N]=g.useState(!1),O=bm(u),[j,D]=xs({prop:i,defaultProp:r??!1,onChange:a,caller:Eg}),[P,B]=xs({prop:o,defaultProp:l,onChange:c,caller:Eg}),M=g.useRef(null),z=b?v||!!b.closest("form"):!0,[U,K]=g.useState(new Set),te=Array.from(U).map(q=>q.props.value).join(";");return s.jsx(XN,{...S,children:s.jsxs(HAe,{required:p,scope:t,trigger:b,onTriggerChange:w,valueNode:R,onValueNodeChange:E,valueNodeHasChildren:_,onValueNodeHasChildrenChange:N,contentId:Tc(),value:P,onValueChange:B,open:j,onOpenChange:D,dir:O,triggerPointerDownPosRef:M,disabled:m,children:[s.jsx(uO.Provider,{scope:t,children:s.jsx(qAe,{scope:e.__scopeSelect,onNativeOptionAdd:g.useCallback(q=>{K(V=>new Set(V).add(q))},[]),onNativeOptionRemove:g.useCallback(q=>{K(V=>{const Q=new Set(V);return Q.delete(q),Q})},[]),children:n})}),z?s.jsxs(_ae,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:h,value:P,onChange:q=>B(q.target.value),disabled:m,form:v,children:[P===void 0?s.jsx("option",{value:""}):null,Array.from(U)]},te):null]})})};tae.displayName=Eg;var nae="SelectTrigger",iae=g.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:i=!1,...r}=e,a=fO(n),o=Am(nae,n),l=o.disabled||i,c=_n(t,o.onTriggerChange),u=dO(n),d=g.useRef("touch"),[h,m,p]=Rae(S=>{const b=u().filter(E=>!E.disabled),w=b.find(E=>E.value===o.value),R=Nae(b,S,w);R!==void 0&&o.onValueChange(R.value)}),v=S=>{l||(o.onOpenChange(!0),p()),S&&(o.triggerPointerDownPosRef.current={x:Math.round(S.pageX),y:Math.round(S.pageY)})};return s.jsx(T2,{asChild:!0,...a,children:s.jsx(Gt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Aae(o.value)?"":void 0,...r,ref:c,onClick:Dt(r.onClick,S=>{S.currentTarget.focus(),d.current!=="mouse"&&v(S)}),onPointerDown:Dt(r.onPointerDown,S=>{d.current=S.pointerType;const b=S.target;b.hasPointerCapture(S.pointerId)&&b.releasePointerCapture(S.pointerId),S.button===0&&S.ctrlKey===!1&&S.pointerType==="mouse"&&(v(S),S.preventDefault())}),onKeyDown:Dt(r.onKeyDown,S=>{const b=h.current!=="";!(S.ctrlKey||S.altKey||S.metaKey)&&S.key.length===1&&m(S.key),!(b&&S.key===" ")&&VAe.includes(S.key)&&(v(),S.preventDefault())})})})});iae.displayName=nae;var rae="SelectValue",aae=g.forwardRef((e,t)=>{const{__scopeSelect:n,className:i,style:r,children:a,placeholder:o="",...l}=e,c=Am(rae,n),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,h=_n(t,c.onValueNodeChange);return Ea(()=>{u(d)},[u,d]),s.jsx(Gt.span,{...l,ref:h,style:{pointerEvents:"none"},children:Aae(c.value)?s.jsx(s.Fragment,{children:o}):a})});aae.displayName=rae;var YAe="SelectIcon",sae=g.forwardRef((e,t)=>{const{__scopeSelect:n,children:i,...r}=e;return s.jsx(Gt.span,{"aria-hidden":!0,...r,ref:t,children:i||""})});sae.displayName=YAe;var JAe="SelectPortal",oae=e=>s.jsx(Hg,{asChild:!0,...e});oae.displayName=JAe;var _g="SelectContent",lae=g.forwardRef((e,t)=>{const n=Am(_g,e.__scopeSelect),[i,r]=g.useState();if(Ea(()=>{r(new DocumentFragment)},[]),!n.open){const a=i;return a?Kl.createPortal(s.jsx(cae,{scope:e.__scopeSelect,children:s.jsx(uO.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),a):null}return s.jsx(uae,{...e,ref:t})});lae.displayName=_g;var mu=10,[cae,Rm]=G1(_g),QAe="SelectContentImpl",XAe=om("SelectContent.RemoveScroll"),uae=g.forwardRef((e,t)=>{const{__scopeSelect:n,position:i="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:v,hideWhenDetached:S,avoidCollisions:b,...w}=e,R=Am(_g,n),[E,_]=g.useState(null),[N,O]=g.useState(null),j=_n(t,J=>_(J)),[D,P]=g.useState(null),[B,M]=g.useState(null),z=dO(n),[U,K]=g.useState(!1),te=g.useRef(!1);g.useEffect(()=>{if(E)return GN(E)},[E]),UN();const q=g.useCallback(J=>{const[ee,...se]=z().map(me=>me.ref.current),[de]=se.slice(-1),he=document.activeElement;for(const me of J)if(me===he||(me==null||me.scrollIntoView({block:"nearest"}),me===ee&&N&&(N.scrollTop=0),me===de&&N&&(N.scrollTop=N.scrollHeight),me==null||me.focus(),document.activeElement!==he))return},[z,N]),V=g.useCallback(()=>q([D,E]),[q,D,E]);g.useEffect(()=>{U&&V()},[U,V]);const{onOpenChange:Q,triggerPointerDownPosRef:ce}=R;g.useEffect(()=>{if(E){let J={x:0,y:0};const ee=de=>{var he,me;J={x:Math.abs(Math.round(de.pageX)-(((he=ce.current)==null?void 0:he.x)??0)),y:Math.abs(Math.round(de.pageY)-(((me=ce.current)==null?void 0:me.y)??0))}},se=de=>{J.x<=10&&J.y<=10?de.preventDefault():E.contains(de.target)||Q(!1),document.removeEventListener("pointermove",ee),ce.current=null};return ce.current!==null&&(document.addEventListener("pointermove",ee),document.addEventListener("pointerup",se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ee),document.removeEventListener("pointerup",se,{capture:!0})}}},[E,Q,ce]),g.useEffect(()=>{const J=()=>Q(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[Q]);const[ae,G]=Rae(J=>{const ee=z().filter(he=>!he.disabled),se=ee.find(he=>he.ref.current===document.activeElement),de=Nae(ee,J,se);de&&setTimeout(()=>de.ref.current.focus())}),H=g.useCallback((J,ee,se)=>{const de=!te.current&&!se;(R.value!==void 0&&R.value===ee||de)&&(P(J),de&&(te.current=!0))},[R.value]),T=g.useCallback(()=>E==null?void 0:E.focus(),[E]),Y=g.useCallback((J,ee,se)=>{const de=!te.current&&!se;(R.value!==void 0&&R.value===ee||de)&&M(J)},[R.value]),ie=i==="popper"?U4:dae,ne=ie===U4?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:v,hideWhenDetached:S,avoidCollisions:b}:{};return s.jsx(cae,{scope:n,content:E,viewport:N,onViewportChange:O,itemRefCallback:H,selectedItem:D,onItemLeave:T,itemTextRefCallback:Y,focusSelectedItem:V,selectedItemText:B,position:i,isPositioned:U,searchRef:ae,children:s.jsx(j2,{as:XAe,allowPinchZoom:!0,children:s.jsx(O2,{asChild:!0,trapped:R.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:Dt(r,J=>{var ee;(ee=R.trigger)==null||ee.focus({preventScroll:!0}),J.preventDefault()}),children:s.jsx(Gg,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>R.onOpenChange(!1),children:s.jsx(ie,{role:"listbox",id:R.contentId,"data-state":R.open?"open":"closed",dir:R.dir,onContextMenu:J=>J.preventDefault(),...w,...ne,onPlaced:()=>K(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:Dt(w.onKeyDown,J=>{const ee=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!ee&&J.key.length===1&&G(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let de=z().filter(he=>!he.disabled).map(he=>he.ref.current);if(["ArrowUp","End"].includes(J.key)&&(de=de.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const he=J.target,me=de.indexOf(he);de=de.slice(me+1)}setTimeout(()=>q(de)),J.preventDefault()}})})})})})})});uae.displayName=QAe;var ZAe="SelectItemAlignedPosition",dae=g.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:i,...r}=e,a=Am(_g,n),o=Rm(_g,n),[l,c]=g.useState(null),[u,d]=g.useState(null),h=_n(t,j=>d(j)),m=dO(n),p=g.useRef(!1),v=g.useRef(!0),{viewport:S,selectedItem:b,selectedItemText:w,focusSelectedItem:R}=o,E=g.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&S&&b&&w){const j=a.trigger.getBoundingClientRect(),D=u.getBoundingClientRect(),P=a.valueNode.getBoundingClientRect(),B=w.getBoundingClientRect();if(a.dir!=="rtl"){const he=B.left-D.left,me=P.left-he,we=j.left-me,le=j.width+we,ue=Math.max(le,D.width),De=window.innerWidth-mu,Le=wx(me,[mu,Math.max(mu,De-ue)]);l.style.minWidth=le+"px",l.style.left=Le+"px"}else{const he=D.right-B.right,me=window.innerWidth-P.right-he,we=window.innerWidth-j.right-me,le=j.width+we,ue=Math.max(le,D.width),De=window.innerWidth-mu,Le=wx(me,[mu,Math.max(mu,De-ue)]);l.style.minWidth=le+"px",l.style.right=Le+"px"}const M=m(),z=window.innerHeight-mu*2,U=S.scrollHeight,K=window.getComputedStyle(u),te=parseInt(K.borderTopWidth,10),q=parseInt(K.paddingTop,10),V=parseInt(K.borderBottomWidth,10),Q=parseInt(K.paddingBottom,10),ce=te+q+U+Q+V,ae=Math.min(b.offsetHeight*5,ce),G=window.getComputedStyle(S),H=parseInt(G.paddingTop,10),T=parseInt(G.paddingBottom,10),Y=j.top+j.height/2-mu,ie=z-Y,ne=b.offsetHeight/2,J=b.offsetTop+ne,ee=te+q+J,se=ce-ee;if(ee<=Y){const he=M.length>0&&b===M[M.length-1].ref.current;l.style.bottom="0px";const me=u.clientHeight-S.offsetTop-S.offsetHeight,we=Math.max(ie,ne+(he?T:0)+me+V),le=ee+we;l.style.height=le+"px"}else{const he=M.length>0&&b===M[0].ref.current;l.style.top="0px";const we=Math.max(Y,te+S.offsetTop+(he?H:0)+ne)+se;l.style.height=we+"px",S.scrollTop=ee-Y+S.offsetTop}l.style.margin=`${mu}px 0`,l.style.minHeight=ae+"px",l.style.maxHeight=z+"px",i==null||i(),requestAnimationFrame(()=>p.current=!0)}},[m,a.trigger,a.valueNode,l,u,S,b,w,a.dir,i]);Ea(()=>E(),[E]);const[_,N]=g.useState();Ea(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const O=g.useCallback(j=>{j&&v.current===!0&&(E(),R==null||R(),v.current=!1)},[E,R]);return s.jsx(tRe,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:O,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:s.jsx(Gt.div,{...r,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})});dae.displayName=ZAe;var eRe="SelectPopperPosition",U4=g.forwardRef((e,t)=>{const{__scopeSelect:n,align:i="start",collisionPadding:r=mu,...a}=e,o=fO(n);return s.jsx(ZN,{...o,...a,ref:t,align:i,collisionPadding:r,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});U4.displayName=eRe;var[tRe,PP]=G1(_g,{}),V4="SelectViewport",fae=g.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:i,...r}=e,a=Rm(V4,n),o=PP(V4,n),l=_n(t,a.onViewportChange),c=g.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),s.jsx(uO.Slot,{scope:n,children:s.jsx(Gt.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...r.style},onScroll:Dt(r.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&h){const p=Math.abs(c.current-d.scrollTop);if(p>0){const v=window.innerHeight-mu*2,S=parseFloat(h.style.minHeight),b=parseFloat(h.style.height),w=Math.max(S,b);if(w<v){const R=w+p,E=Math.min(v,R),_=R-E;h.style.height=E+"px",h.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});fae.displayName=V4;var hae="SelectGroup",[nRe,iRe]=G1(hae),pae=g.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e,r=Tc();return s.jsx(nRe,{scope:n,id:r,children:s.jsx(Gt.div,{role:"group","aria-labelledby":r,...i,ref:t})})});pae.displayName=hae;var mae="SelectLabel",yae=g.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e,r=iRe(mae,n);return s.jsx(Gt.div,{id:r.id,...i,ref:t})});yae.displayName=mae;var WA="SelectItem",[rRe,gae]=G1(WA),vae=g.forwardRef((e,t)=>{const{__scopeSelect:n,value:i,disabled:r=!1,textValue:a,...o}=e,l=Am(WA,n),c=Rm(WA,n),u=l.value===i,[d,h]=g.useState(a??""),[m,p]=g.useState(!1),v=_n(t,R=>{var E;return(E=c.itemRefCallback)==null?void 0:E.call(c,R,i,r)}),S=Tc(),b=g.useRef("touch"),w=()=>{r||(l.onValueChange(i),l.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(rRe,{scope:n,value:i,disabled:r,textId:S,isSelected:u,onItemTextChange:g.useCallback(R=>{h(E=>E||((R==null?void 0:R.textContent)??"").trim())},[]),children:s.jsx(uO.ItemSlot,{scope:n,value:i,disabled:r,textValue:d,children:s.jsx(Gt.div,{role:"option","aria-labelledby":S,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...o,ref:v,onFocus:Dt(o.onFocus,()=>p(!0)),onBlur:Dt(o.onBlur,()=>p(!1)),onClick:Dt(o.onClick,()=>{b.current!=="mouse"&&w()}),onPointerUp:Dt(o.onPointerUp,()=>{b.current==="mouse"&&w()}),onPointerDown:Dt(o.onPointerDown,R=>{b.current=R.pointerType}),onPointerMove:Dt(o.onPointerMove,R=>{var E;b.current=R.pointerType,r?(E=c.onItemLeave)==null||E.call(c):b.current==="mouse"&&R.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Dt(o.onPointerLeave,R=>{var E;R.currentTarget===document.activeElement&&((E=c.onItemLeave)==null||E.call(c))}),onKeyDown:Dt(o.onKeyDown,R=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&R.key===" "||(KAe.includes(R.key)&&w(),R.key===" "&&R.preventDefault())})})})})});vae.displayName=WA;var $b="SelectItemText",Sae=g.forwardRef((e,t)=>{const{__scopeSelect:n,className:i,style:r,...a}=e,o=Am($b,n),l=Rm($b,n),c=gae($b,n),u=WAe($b,n),[d,h]=g.useState(null),m=_n(t,w=>h(w),c.onItemTextChange,w=>{var R;return(R=l.itemTextRefCallback)==null?void 0:R.call(l,w,c.value,c.disabled)}),p=d==null?void 0:d.textContent,v=g.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:S,onNativeOptionRemove:b}=u;return Ea(()=>(S(v),()=>b(v)),[S,b,v]),s.jsxs(s.Fragment,{children:[s.jsx(Gt.span,{id:c.textId,...a,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Kl.createPortal(a.children,o.valueNode):null]})});Sae.displayName=$b;var bae="SelectItemIndicator",xae=g.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e;return gae(bae,n).isSelected?s.jsx(Gt.span,{"aria-hidden":!0,...i,ref:t}):null});xae.displayName=bae;var K4="SelectScrollUpButton",aRe=g.forwardRef((e,t)=>{const n=Rm(K4,e.__scopeSelect),i=PP(K4,e.__scopeSelect),[r,a]=g.useState(!1),o=_n(t,i.onScrollButtonChange);return Ea(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),r?s.jsx(wae,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});aRe.displayName=K4;var G4="SelectScrollDownButton",sRe=g.forwardRef((e,t)=>{const n=Rm(G4,e.__scopeSelect),i=PP(G4,e.__scopeSelect),[r,a]=g.useState(!1),o=_n(t,i.onScrollButtonChange);return Ea(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),r?s.jsx(wae,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});sRe.displayName=G4;var wae=g.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:i,...r}=e,a=Rm("SelectScrollButton",n),o=g.useRef(null),l=dO(n),c=g.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return g.useEffect(()=>()=>c(),[c]),Ea(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),s.jsx(Gt.div,{"aria-hidden":!0,...r,ref:t,style:{flexShrink:0,...r.style},onPointerDown:Dt(r.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(i,50))}),onPointerMove:Dt(r.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(i,50))}),onPointerLeave:Dt(r.onPointerLeave,()=>{c()})})}),oRe="SelectSeparator",Eae=g.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e;return s.jsx(Gt.div,{"aria-hidden":!0,...i,ref:t})});Eae.displayName=oRe;var H4="SelectArrow",lRe=g.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e,r=fO(n),a=Am(H4,n),o=Rm(H4,n);return a.open&&o.position==="popper"?s.jsx(eO,{...r,...i,ref:t}):null});lRe.displayName=H4;var cRe="SelectBubbleInput",_ae=g.forwardRef(({__scopeSelect:e,value:t,...n},i)=>{const r=g.useRef(null),a=_n(i,r),o=D2(t);return g.useEffect(()=>{const l=r.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const h=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(h)}},[o,t]),s.jsx(Gt.select,{...n,style:{...gte,...n.style},ref:a,defaultValue:t})});_ae.displayName=cRe;function Aae(e){return e===""||e===void 0}function Rae(e){const t=fa(e),n=g.useRef(""),i=g.useRef(0),r=g.useCallback(o=>{const l=n.current+o;t(l),(function c(u){n.current=u,window.clearTimeout(i.current),u!==""&&(i.current=window.setTimeout(()=>c(""),1e3))})(l)},[t]),a=g.useCallback(()=>{n.current="",window.clearTimeout(i.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(i.current),[]),[n,r,a]}function Nae(e,t,n){const r=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=uRe(e,Math.max(a,0));r.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(r.toLowerCase()));return c!==n?c:void 0}function uRe(e,t){return e.map((n,i)=>e[(t+i)%e.length])}var dRe=tae,fRe=iae,hRe=aae,pRe=sae,mRe=oae,yRe=lae,gRe=fae,vRe=pae,SRe=yae,bRe=vae,xRe=Sae,wRe=xae,ERe=Eae,Oae=["PageUp","PageDown"],jae=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Dae={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},H1="Slider",[q4,_Re,ARe]=N2(H1),[Cae]=pa(H1,[ARe]),[RRe,hO]=Cae(H1),Lae=g.forwardRef((e,t)=>{const{name:n,min:i=0,max:r=100,step:a=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[i],value:d,onValueChange:h=()=>{},onValueCommit:m=()=>{},inverted:p=!1,form:v,...S}=e,b=g.useRef(new Set),w=g.useRef(0),E=o==="horizontal"?NRe:ORe,[_=[],N]=xs({prop:d,defaultProp:u,onChange:M=>{var U;(U=[...b.current][w.current])==null||U.focus(),h(M)}}),O=g.useRef(_);function j(M){const z=TRe(_,M);B(M,z)}function D(M){B(M,w.current)}function P(){const M=O.current[w.current];_[w.current]!==M&&m(_)}function B(M,z,{commit:U}={commit:!1}){const K=kRe(a),te=$Re(Math.round((M-i)/a)*a+i,K),q=wx(te,[i,r]);N((V=[])=>{const Q=CRe(V,q,z);if(PRe(Q,c*a)){w.current=Q.indexOf(q);const ce=String(Q)!==String(V);return ce&&U&&m(Q),ce?Q:V}else return V})}return s.jsx(RRe,{scope:e.__scopeSlider,name:n,disabled:l,min:i,max:r,valueIndexToChangeRef:w,thumbs:b.current,values:_,orientation:o,form:v,children:s.jsx(q4.Provider,{scope:e.__scopeSlider,children:s.jsx(q4.Slot,{scope:e.__scopeSlider,children:s.jsx(E,{"aria-disabled":l,"data-disabled":l?"":void 0,...S,ref:t,onPointerDown:Dt(S.onPointerDown,()=>{l||(O.current=_)}),min:i,max:r,inverted:p,onSlideStart:l?void 0:j,onSlideMove:l?void 0:D,onSlideEnd:l?void 0:P,onHomeKeyDown:()=>!l&&B(i,0,{commit:!0}),onEndKeyDown:()=>!l&&B(r,_.length-1,{commit:!0}),onStepKeyDown:({event:M,direction:z})=>{if(!l){const te=Oae.includes(M.key)||M.shiftKey&&jae.includes(M.key)?10:1,q=w.current,V=_[q],Q=a*te*z;B(V+Q,q,{commit:!0})}}})})})})});Lae.displayName=H1;var[Tae,Mae]=Cae(H1,{startEdge:"left",endEdge:"right",size:"width",direction:1}),NRe=g.forwardRef((e,t)=>{const{min:n,max:i,dir:r,inverted:a,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,[h,m]=g.useState(null),p=_n(t,E=>m(E)),v=g.useRef(void 0),S=bm(r),b=S==="ltr",w=b&&!a||!b&&a;function R(E){const _=v.current||h.getBoundingClientRect(),N=[0,_.width],j=kP(N,w?[n,i]:[i,n]);return v.current=_,j(E-_.left)}return s.jsx(Tae,{scope:e.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width",children:s.jsx(Iae,{dir:S,"data-orientation":"horizontal",...d,ref:p,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:E=>{const _=R(E.clientX);o==null||o(_)},onSlideMove:E=>{const _=R(E.clientX);l==null||l(_)},onSlideEnd:()=>{v.current=void 0,c==null||c()},onStepKeyDown:E=>{const N=Dae[w?"from-left":"from-right"].includes(E.key);u==null||u({event:E,direction:N?-1:1})}})})}),ORe=g.forwardRef((e,t)=>{const{min:n,max:i,inverted:r,onSlideStart:a,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=e,d=g.useRef(null),h=_n(t,d),m=g.useRef(void 0),p=!r;function v(S){const b=m.current||d.current.getBoundingClientRect(),w=[0,b.height],E=kP(w,p?[i,n]:[n,i]);return m.current=b,E(S-b.top)}return s.jsx(Tae,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:s.jsx(Iae,{"data-orientation":"vertical",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:S=>{const b=v(S.clientY);a==null||a(b)},onSlideMove:S=>{const b=v(S.clientY);o==null||o(b)},onSlideEnd:()=>{m.current=void 0,l==null||l()},onStepKeyDown:S=>{const w=Dae[p?"from-bottom":"from-top"].includes(S.key);c==null||c({event:S,direction:w?-1:1})}})})}),Iae=g.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:i,onSlideMove:r,onSlideEnd:a,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=hO(H1,n);return s.jsx(Gt.span,{...u,ref:t,onKeyDown:Dt(e.onKeyDown,h=>{h.key==="Home"?(o(h),h.preventDefault()):h.key==="End"?(l(h),h.preventDefault()):Oae.concat(jae).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:Dt(e.onPointerDown,h=>{const m=h.target;m.setPointerCapture(h.pointerId),h.preventDefault(),d.thumbs.has(m)?m.focus():i(h)}),onPointerMove:Dt(e.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&r(h)}),onPointerUp:Dt(e.onPointerUp,h=>{const m=h.target;m.hasPointerCapture(h.pointerId)&&(m.releasePointerCapture(h.pointerId),a(h))})})}),Pae="SliderTrack",kae=g.forwardRef((e,t)=>{const{__scopeSlider:n,...i}=e,r=hO(Pae,n);return s.jsx(Gt.span,{"data-disabled":r.disabled?"":void 0,"data-orientation":r.orientation,...i,ref:t})});kae.displayName=Pae;var W4="SliderRange",$ae=g.forwardRef((e,t)=>{const{__scopeSlider:n,...i}=e,r=hO(W4,n),a=Mae(W4,n),o=g.useRef(null),l=_n(t,o),c=r.values.length,u=r.values.map(m=>zae(m,r.min,r.max)),d=c>1?Math.min(...u):0,h=100-Math.max(...u);return s.jsx(Gt.span,{"data-orientation":r.orientation,"data-disabled":r.disabled?"":void 0,...i,ref:l,style:{...e.style,[a.startEdge]:d+"%",[a.endEdge]:h+"%"}})});$ae.displayName=W4;var Y4="SliderThumb",Fae=g.forwardRef((e,t)=>{const n=_Re(e.__scopeSlider),[i,r]=g.useState(null),a=_n(t,l=>r(l)),o=g.useMemo(()=>i?n().findIndex(l=>l.ref.current===i):-1,[n,i]);return s.jsx(jRe,{...e,ref:a,index:o})}),jRe=g.forwardRef((e,t)=>{const{__scopeSlider:n,index:i,name:r,...a}=e,o=hO(Y4,n),l=Mae(Y4,n),[c,u]=g.useState(null),d=_n(t,R=>u(R)),h=c?o.form||!!c.closest("form"):!0,m=C2(c),p=o.values[i],v=p===void 0?0:zae(p,o.min,o.max),S=LRe(i,o.values.length),b=m==null?void 0:m[l.size],w=b?MRe(b,v,l.direction):0;return g.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),s.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${v}% + ${w}px)`},children:[s.jsx(q4.ItemSlot,{scope:e.__scopeSlider,children:s.jsx(Gt.span,{role:"slider","aria-label":e["aria-label"]||S,"aria-valuemin":o.min,"aria-valuenow":p,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...a,ref:d,style:p===void 0?{display:"none"}:e.style,onFocus:Dt(e.onFocus,()=>{o.valueIndexToChangeRef.current=i})})}),h&&s.jsx(Bae,{name:r??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:p},i)]})});Fae.displayName=Y4;var DRe="RadioBubbleInput",Bae=g.forwardRef(({__scopeSlider:e,value:t,...n},i)=>{const r=g.useRef(null),a=_n(r,i),o=D2(t);return g.useEffect(()=>{const l=r.current;if(!l)return;const c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const h=new Event("input",{bubbles:!0});d.call(l,t),l.dispatchEvent(h)}},[o,t]),s.jsx(Gt.input,{style:{display:"none"},...n,ref:a,defaultValue:t})});Bae.displayName=DRe;function CRe(e=[],t,n){const i=[...e];return i[n]=t,i.sort((r,a)=>r-a)}function zae(e,t,n){const a=100/(n-t)*(e-t);return wx(a,[0,100])}function LRe(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function TRe(e,t){if(e.length===1)return 0;const n=e.map(r=>Math.abs(r-t)),i=Math.min(...n);return n.indexOf(i)}function MRe(e,t,n){const i=e/2,a=kP([0,50],[0,i]);return(i-a(t)*n)*n}function IRe(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function PRe(e,t){if(t>0){const n=IRe(e);return Math.min(...n)>=t}return!0}function kP(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const i=(t[1]-t[0])/(e[1]-e[0]);return t[0]+i*(n-e[0])}}function kRe(e){return(String(e).split(".")[1]||"").length}function $Re(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var FRe=Lae,BRe=kae,zRe=$ae,URe=Fae,pO="Switch",[VRe]=pa(pO),[KRe,GRe]=VRe(pO),Uae=g.forwardRef((e,t)=>{const{__scopeSwitch:n,name:i,checked:r,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=e,[m,p]=g.useState(null),v=_n(t,E=>p(E)),S=g.useRef(!1),b=m?d||!!m.closest("form"):!0,[w,R]=xs({prop:r,defaultProp:a??!1,onChange:u,caller:pO});return s.jsxs(KRe,{scope:n,checked:w,disabled:l,children:[s.jsx(Gt.button,{type:"button",role:"switch","aria-checked":w,"aria-required":o,"data-state":Hae(w),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:v,onClick:Dt(e.onClick,E=>{R(_=>!_),b&&(S.current=E.isPropagationStopped(),S.current||E.stopPropagation())})}),b&&s.jsx(Gae,{control:m,bubbles:!S.current,name:i,value:c,checked:w,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});Uae.displayName=pO;var Vae="SwitchThumb",Kae=g.forwardRef((e,t)=>{const{__scopeSwitch:n,...i}=e,r=GRe(Vae,n);return s.jsx(Gt.span,{"data-state":Hae(r.checked),"data-disabled":r.disabled?"":void 0,...i,ref:t})});Kae.displayName=Vae;var HRe="SwitchBubbleInput",Gae=g.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:i=!0,...r},a)=>{const o=g.useRef(null),l=_n(o,a),c=D2(n),u=C2(t);return g.useEffect(()=>{const d=o.current;if(!d)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==n&&p){const v=new Event("click",{bubbles:i});p.call(d,n),d.dispatchEvent(v)}},[c,n,i]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...r,tabIndex:-1,ref:l,style:{...r.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Gae.displayName=HRe;function Hae(e){return e?"checked":"unchecked"}var qRe=Uae,WRe=Kae,mO="Tabs",[YRe]=pa(mO,[Em]),qae=Em(),[JRe,$P]=YRe(mO),Wae=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:i,onValueChange:r,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=bm(l),[h,m]=xs({prop:i,onChange:r,defaultProp:a??"",caller:mO});return s.jsx(JRe,{scope:n,baseId:Tc(),value:h,onValueChange:m,orientation:o,dir:d,activationMode:c,children:s.jsx(Gt.div,{dir:d,"data-orientation":o,...u,ref:t})})});Wae.displayName=mO;var Yae="TabsList",Jae=g.forwardRef((e,t)=>{const{__scopeTabs:n,loop:i=!0,...r}=e,a=$P(Yae,n),o=qae(n);return s.jsx(tO,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:i,children:s.jsx(Gt.div,{role:"tablist","aria-orientation":a.orientation,...r,ref:t})})});Jae.displayName=Yae;var Qae="TabsTrigger",Xae=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:i,disabled:r=!1,...a}=e,o=$P(Qae,n),l=qae(n),c=tse(o.baseId,i),u=nse(o.baseId,i),d=i===o.value;return s.jsx(nO,{asChild:!0,...l,focusable:!r,active:d,children:s.jsx(Gt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:c,...a,ref:t,onMouseDown:Dt(e.onMouseDown,h=>{!r&&h.button===0&&h.ctrlKey===!1?o.onValueChange(i):h.preventDefault()}),onKeyDown:Dt(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(i)}),onFocus:Dt(e.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!r&&h&&o.onValueChange(i)})})})});Xae.displayName=Qae;var Zae="TabsContent",ese=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:i,forceMount:r,children:a,...o}=e,l=$P(Zae,n),c=tse(l.baseId,i),u=nse(l.baseId,i),d=i===l.value,h=g.useRef(d);return g.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),s.jsx(Fa,{present:r||d,children:({present:m})=>s.jsx(Gt.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:m&&a})})});ese.displayName=Zae;function tse(e,t){return`${e}-trigger-${t}`}function nse(e,t){return`${e}-content-${t}`}var QRe=Wae,XRe=Jae,ZRe=Xae,eNe=ese,FP="ToastProvider",[BP,tNe,nNe]=N2("Toast"),[ise]=pa("Toast",[nNe]),[iNe,yO]=ise(FP),rse=e=>{const{__scopeToast:t,label:n="Notification",duration:i=5e3,swipeDirection:r="right",swipeThreshold:a=50,children:o}=e,[l,c]=g.useState(null),[u,d]=g.useState(0),h=g.useRef(!1),m=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${FP}\`. Expected non-empty \`string\`.`),s.jsx(BP.Provider,{scope:t,children:s.jsx(iNe,{scope:t,label:n,duration:i,swipeDirection:r,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:g.useCallback(()=>d(p=>p+1),[]),onToastRemove:g.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:o})})};rse.displayName=FP;var ase="ToastViewport",rNe=["F8"],J4="toast.viewportPause",Q4="toast.viewportResume",sse=g.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:i=rNe,label:r="Notifications ({hotkey})",...a}=e,o=yO(ase,n),l=tNe(n),c=g.useRef(null),u=g.useRef(null),d=g.useRef(null),h=g.useRef(null),m=_n(t,h,o.onViewportChange),p=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;g.useEffect(()=>{const b=w=>{var E;i.length!==0&&i.every(_=>w[_]||w.code===_)&&((E=h.current)==null||E.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[i]),g.useEffect(()=>{const b=c.current,w=h.current;if(v&&b&&w){const R=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent(J4);w.dispatchEvent(O),o.isClosePausedRef.current=!0}},E=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent(Q4);w.dispatchEvent(O),o.isClosePausedRef.current=!1}},_=O=>{!b.contains(O.relatedTarget)&&E()},N=()=>{b.contains(document.activeElement)||E()};return b.addEventListener("focusin",R),b.addEventListener("focusout",_),b.addEventListener("pointermove",R),b.addEventListener("pointerleave",N),window.addEventListener("blur",R),window.addEventListener("focus",E),()=>{b.removeEventListener("focusin",R),b.removeEventListener("focusout",_),b.removeEventListener("pointermove",R),b.removeEventListener("pointerleave",N),window.removeEventListener("blur",R),window.removeEventListener("focus",E)}}},[v,o.isClosePausedRef]);const S=g.useCallback(({tabbingDirection:b})=>{const R=l().map(E=>{const _=E.ref.current,N=[_,...vNe(_)];return b==="forwards"?N:N.reverse()});return(b==="forwards"?R.reverse():R).flat()},[l]);return g.useEffect(()=>{const b=h.current;if(b){const w=R=>{var N,O,j;const E=R.altKey||R.ctrlKey||R.metaKey;if(R.key==="Tab"&&!E){const D=document.activeElement,P=R.shiftKey;if(R.target===b&&P){(N=u.current)==null||N.focus();return}const z=S({tabbingDirection:P?"backwards":"forwards"}),U=z.findIndex(K=>K===D);P3(z.slice(U+1))?R.preventDefault():P?(O=u.current)==null||O.focus():(j=d.current)==null||j.focus()}};return b.addEventListener("keydown",w),()=>b.removeEventListener("keydown",w)}},[l,S]),s.jsxs(Axe,{ref:c,role:"region","aria-label":r.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&s.jsx(X4,{ref:u,onFocusFromOutsideViewport:()=>{const b=S({tabbingDirection:"forwards"});P3(b)}}),s.jsx(BP.Slot,{scope:n,children:s.jsx(Gt.ol,{tabIndex:-1,...a,ref:m})}),v&&s.jsx(X4,{ref:d,onFocusFromOutsideViewport:()=>{const b=S({tabbingDirection:"backwards"});P3(b)}})]})});sse.displayName=ase;var ose="ToastFocusProxy",X4=g.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:i,...r}=e,a=yO(ose,n);return s.jsx(zN,{tabIndex:0,...r,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&i()}})});X4.displayName=ose;var $2="Toast",aNe="toast.swipeStart",sNe="toast.swipeMove",oNe="toast.swipeCancel",lNe="toast.swipeEnd",lse=g.forwardRef((e,t)=>{const{forceMount:n,open:i,defaultOpen:r,onOpenChange:a,...o}=e,[l,c]=xs({prop:i,defaultProp:r??!0,onChange:a,caller:$2});return s.jsx(Fa,{present:n||l,children:s.jsx(dNe,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:fa(e.onPause),onResume:fa(e.onResume),onSwipeStart:Dt(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Dt(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Dt(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Dt(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});lse.displayName=$2;var[cNe,uNe]=ise($2,{onClose(){}}),dNe=g.forwardRef((e,t)=>{const{__scopeToast:n,type:i="foreground",duration:r,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:p,...v}=e,S=yO($2,n),[b,w]=g.useState(null),R=_n(t,K=>w(K)),E=g.useRef(null),_=g.useRef(null),N=r||S.duration,O=g.useRef(0),j=g.useRef(N),D=g.useRef(0),{onToastAdd:P,onToastRemove:B}=S,M=fa(()=>{var te;(b==null?void 0:b.contains(document.activeElement))&&((te=S.viewport)==null||te.focus()),o()}),z=g.useCallback(K=>{!K||K===1/0||(window.clearTimeout(D.current),O.current=new Date().getTime(),D.current=window.setTimeout(M,K))},[M]);g.useEffect(()=>{const K=S.viewport;if(K){const te=()=>{z(j.current),u==null||u()},q=()=>{const V=new Date().getTime()-O.current;j.current=j.current-V,window.clearTimeout(D.current),c==null||c()};return K.addEventListener(J4,q),K.addEventListener(Q4,te),()=>{K.removeEventListener(J4,q),K.removeEventListener(Q4,te)}}},[S.viewport,N,c,u,z]),g.useEffect(()=>{a&&!S.isClosePausedRef.current&&z(N)},[a,N,S.isClosePausedRef,z]),g.useEffect(()=>(P(),()=>B()),[P,B]);const U=g.useMemo(()=>b?mse(b):null,[b]);return S.viewport?s.jsxs(s.Fragment,{children:[U&&s.jsx(fNe,{__scopeToast:n,role:"status","aria-live":i==="foreground"?"assertive":"polite",children:U}),s.jsx(cNe,{scope:n,onClose:M,children:Kl.createPortal(s.jsx(BP.ItemSlot,{scope:n,children:s.jsx(_xe,{asChild:!0,onEscapeKeyDown:Dt(l,()=>{S.isFocusedToastEscapeKeyDownRef.current||M(),S.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Gt.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":S.swipeDirection,...v,ref:R,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Dt(e.onKeyDown,K=>{K.key==="Escape"&&(l==null||l(K.nativeEvent),K.nativeEvent.defaultPrevented||(S.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:Dt(e.onPointerDown,K=>{K.button===0&&(E.current={x:K.clientX,y:K.clientY})}),onPointerMove:Dt(e.onPointerMove,K=>{if(!E.current)return;const te=K.clientX-E.current.x,q=K.clientY-E.current.y,V=!!_.current,Q=["left","right"].includes(S.swipeDirection),ce=["left","up"].includes(S.swipeDirection)?Math.min:Math.max,ae=Q?ce(0,te):0,G=Q?0:ce(0,q),H=K.pointerType==="touch"?10:2,T={x:ae,y:G},Y={originalEvent:K,delta:T};V?(_.current=T,jE(sNe,h,Y,{discrete:!1})):gz(T,S.swipeDirection,H)?(_.current=T,jE(aNe,d,Y,{discrete:!1}),K.target.setPointerCapture(K.pointerId)):(Math.abs(te)>H||Math.abs(q)>H)&&(E.current=null)}),onPointerUp:Dt(e.onPointerUp,K=>{const te=_.current,q=K.target;if(q.hasPointerCapture(K.pointerId)&&q.releasePointerCapture(K.pointerId),_.current=null,E.current=null,te){const V=K.currentTarget,Q={originalEvent:K,delta:te};gz(te,S.swipeDirection,S.swipeThreshold)?jE(lNe,p,Q,{discrete:!0}):jE(oNe,m,Q,{discrete:!0}),V.addEventListener("click",ce=>ce.preventDefault(),{once:!0})}})})})}),S.viewport)})]}):null}),fNe=e=>{const{__scopeToast:t,children:n,...i}=e,r=yO($2,t),[a,o]=g.useState(!1),[l,c]=g.useState(!1);return yNe(()=>o(!0)),g.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(Hg,{asChild:!0,children:s.jsx(zN,{...i,children:a&&s.jsxs(s.Fragment,{children:[r.label," ",n]})})})},hNe="ToastTitle",cse=g.forwardRef((e,t)=>{const{__scopeToast:n,...i}=e;return s.jsx(Gt.div,{...i,ref:t})});cse.displayName=hNe;var pNe="ToastDescription",use=g.forwardRef((e,t)=>{const{__scopeToast:n,...i}=e;return s.jsx(Gt.div,{...i,ref:t})});use.displayName=pNe;var dse="ToastAction",mNe=g.forwardRef((e,t)=>{const{altText:n,...i}=e;return n.trim()?s.jsx(pse,{altText:n,asChild:!0,children:s.jsx(hse,{...i,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${dse}\`. Expected non-empty \`string\`.`),null)});mNe.displayName=dse;var fse="ToastClose",hse=g.forwardRef((e,t)=>{const{__scopeToast:n,...i}=e,r=uNe(fse,n);return s.jsx(pse,{asChild:!0,children:s.jsx(Gt.button,{type:"button",...i,ref:t,onClick:Dt(e.onClick,r.onClose)})})});hse.displayName=fse;var pse=g.forwardRef((e,t)=>{const{__scopeToast:n,altText:i,...r}=e;return s.jsx(Gt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":i||void 0,...r,ref:t})});function mse(e){const t=[];return Array.from(e.childNodes).forEach(i=>{if(i.nodeType===i.TEXT_NODE&&i.textContent&&t.push(i.textContent),gNe(i)){const r=i.ariaHidden||i.hidden||i.style.display==="none",a=i.dataset.radixToastAnnounceExclude==="";if(!r)if(a){const o=i.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...mse(i))}}),t}function jE(e,t,n,{discrete:i}){const r=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),i?BN(r,a):r.dispatchEvent(a)}var gz=(e,t,n=0)=>{const i=Math.abs(e.x),r=Math.abs(e.y),a=i>r;return t==="left"||t==="right"?a&&i>n:!a&&r>n};function yNe(e=()=>{}){const t=fa(e);Ea(()=>{let n=0,i=0;return n=window.requestAnimationFrame(()=>i=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(i)}},[t])}function gNe(e){return e.nodeType===e.ELEMENT_NODE}function vNe(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function P3(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var SNe=rse,bNe=sse,xNe=lse,wNe=cse,ENe=use,yse="Toggle",gse=g.forwardRef((e,t)=>{const{pressed:n,defaultPressed:i,onPressedChange:r,...a}=e,[o,l]=xs({prop:n,onChange:r,defaultProp:i??!1,caller:yse});return s.jsx(Gt.button,{type:"button","aria-pressed":o,"data-state":o?"on":"off","data-disabled":e.disabled?"":void 0,...a,ref:t,onClick:Dt(e.onClick,()=>{e.disabled||l(!o)})})});gse.displayName=yse;var Nm="ToggleGroup",[vse]=pa(Nm,[Em]),Sse=Em(),zP=Pt.forwardRef((e,t)=>{const{type:n,...i}=e;if(n==="single"){const r=i;return s.jsx(_Ne,{...r,ref:t})}if(n==="multiple"){const r=i;return s.jsx(ANe,{...r,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${Nm}\``)});zP.displayName=Nm;var[bse,xse]=vse(Nm),_Ne=Pt.forwardRef((e,t)=>{const{value:n,defaultValue:i,onValueChange:r=()=>{},...a}=e,[o,l]=xs({prop:n,defaultProp:i??"",onChange:r,caller:Nm});return s.jsx(bse,{scope:e.__scopeToggleGroup,type:"single",value:Pt.useMemo(()=>o?[o]:[],[o]),onItemActivate:l,onItemDeactivate:Pt.useCallback(()=>l(""),[l]),children:s.jsx(wse,{...a,ref:t})})}),ANe=Pt.forwardRef((e,t)=>{const{value:n,defaultValue:i,onValueChange:r=()=>{},...a}=e,[o,l]=xs({prop:n,defaultProp:i??[],onChange:r,caller:Nm}),c=Pt.useCallback(d=>l((h=[])=>[...h,d]),[l]),u=Pt.useCallback(d=>l((h=[])=>h.filter(m=>m!==d)),[l]);return s.jsx(bse,{scope:e.__scopeToggleGroup,type:"multiple",value:o,onItemActivate:c,onItemDeactivate:u,children:s.jsx(wse,{...a,ref:t})})});zP.displayName=Nm;var[RNe,NNe]=vse(Nm),wse=Pt.forwardRef((e,t)=>{const{__scopeToggleGroup:n,disabled:i=!1,rovingFocus:r=!0,orientation:a,dir:o,loop:l=!0,...c}=e,u=Sse(n),d=bm(o),h={role:"group",dir:d,...c};return s.jsx(RNe,{scope:n,rovingFocus:r,disabled:i,children:r?s.jsx(tO,{asChild:!0,...u,orientation:a,dir:d,loop:l,children:s.jsx(Gt.div,{...h,ref:t})}):s.jsx(Gt.div,{...h,ref:t})})}),YA="ToggleGroupItem",Ese=Pt.forwardRef((e,t)=>{const n=xse(YA,e.__scopeToggleGroup),i=NNe(YA,e.__scopeToggleGroup),r=Sse(e.__scopeToggleGroup),a=n.value.includes(e.value),o=i.disabled||e.disabled,l={...e,pressed:a,disabled:o},c=Pt.useRef(null);return i.rovingFocus?s.jsx(nO,{asChild:!0,...r,focusable:!o,active:a,ref:c,children:s.jsx(vz,{...l,ref:t})}):s.jsx(vz,{...l,ref:t})});Ese.displayName=YA;var vz=Pt.forwardRef((e,t)=>{const{__scopeToggleGroup:n,value:i,...r}=e,a=xse(YA,n),o={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},l=a.type==="single"?o:void 0;return s.jsx(gse,{...l,...r,ref:t,onPressedChange:c=>{c?a.onItemActivate(i):a.onItemDeactivate(i)}})}),ONe=zP,jNe=Ese,[gO]=pa("Tooltip",[wm]),vO=wm(),_se="TooltipProvider",DNe=700,Z4="tooltip.open",[CNe,UP]=gO(_se),Ase=e=>{const{__scopeTooltip:t,delayDuration:n=DNe,skipDelayDuration:i=300,disableHoverableContent:r=!1,children:a}=e,o=g.useRef(!0),l=g.useRef(!1),c=g.useRef(0);return g.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx(CNe,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:g.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,i)},[i]),isPointerInTransitRef:l,onPointerInTransitChange:g.useCallback(u=>{l.current=u},[]),disableHoverableContent:r,children:a})};Ase.displayName=_se;var Ex="Tooltip",[LNe,F2]=gO(Ex),Rse=e=>{const{__scopeTooltip:t,children:n,open:i,defaultOpen:r,onOpenChange:a,disableHoverableContent:o,delayDuration:l}=e,c=UP(Ex,e.__scopeTooltip),u=vO(t),[d,h]=g.useState(null),m=Tc(),p=g.useRef(0),v=o??c.disableHoverableContent,S=l??c.delayDuration,b=g.useRef(!1),[w,R]=xs({prop:i,defaultProp:r??!1,onChange:j=>{j?(c.onOpen(),document.dispatchEvent(new CustomEvent(Z4))):c.onClose(),a==null||a(j)},caller:Ex}),E=g.useMemo(()=>w?b.current?"delayed-open":"instant-open":"closed",[w]),_=g.useCallback(()=>{window.clearTimeout(p.current),p.current=0,b.current=!1,R(!0)},[R]),N=g.useCallback(()=>{window.clearTimeout(p.current),p.current=0,R(!1)},[R]),O=g.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{b.current=!0,R(!0),p.current=0},S)},[S,R]);return g.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),s.jsx(XN,{...u,children:s.jsx(LNe,{scope:t,contentId:m,open:w,stateAttribute:E,trigger:d,onTriggerChange:h,onTriggerEnter:g.useCallback(()=>{c.isOpenDelayedRef.current?O():_()},[c.isOpenDelayedRef,O,_]),onTriggerLeave:g.useCallback(()=>{v?N():(window.clearTimeout(p.current),p.current=0)},[N,v]),onOpen:_,onClose:N,disableHoverableContent:v,children:n})})};Rse.displayName=Ex;var e6="TooltipTrigger",Nse=g.forwardRef((e,t)=>{const{__scopeTooltip:n,...i}=e,r=F2(e6,n),a=UP(e6,n),o=vO(n),l=g.useRef(null),c=_n(t,l,r.onTriggerChange),u=g.useRef(!1),d=g.useRef(!1),h=g.useCallback(()=>u.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),s.jsx(T2,{asChild:!0,...o,children:s.jsx(Gt.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...i,ref:c,onPointerMove:Dt(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(r.onTriggerEnter(),d.current=!0)}),onPointerLeave:Dt(e.onPointerLeave,()=>{r.onTriggerLeave(),d.current=!1}),onPointerDown:Dt(e.onPointerDown,()=>{r.open&&r.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Dt(e.onFocus,()=>{u.current||r.onOpen()}),onBlur:Dt(e.onBlur,r.onClose),onClick:Dt(e.onClick,r.onClose)})})});Nse.displayName=e6;var VP="TooltipPortal",[TNe,MNe]=gO(VP,{forceMount:void 0}),Ose=e=>{const{__scopeTooltip:t,forceMount:n,children:i,container:r}=e,a=F2(VP,t);return s.jsx(TNe,{scope:t,forceMount:n,children:s.jsx(Fa,{present:n||a.open,children:s.jsx(Hg,{asChild:!0,container:r,children:i})})})};Ose.displayName=VP;var b1="TooltipContent",jse=g.forwardRef((e,t)=>{const n=MNe(b1,e.__scopeTooltip),{forceMount:i=n.forceMount,side:r="top",...a}=e,o=F2(b1,e.__scopeTooltip);return s.jsx(Fa,{present:i||o.open,children:o.disableHoverableContent?s.jsx(Dse,{side:r,...a,ref:t}):s.jsx(INe,{side:r,...a,ref:t})})}),INe=g.forwardRef((e,t)=>{const n=F2(b1,e.__scopeTooltip),i=UP(b1,e.__scopeTooltip),r=g.useRef(null),a=_n(t,r),[o,l]=g.useState(null),{trigger:c,onClose:u}=n,d=r.current,{onPointerInTransitChange:h}=i,m=g.useCallback(()=>{l(null),h(!1)},[h]),p=g.useCallback((v,S)=>{const b=v.currentTarget,w={x:v.clientX,y:v.clientY},R=FNe(w,b.getBoundingClientRect()),E=BNe(w,R),_=zNe(S.getBoundingClientRect()),N=VNe([...E,..._]);l(N),h(!0)},[h]);return g.useEffect(()=>()=>m(),[m]),g.useEffect(()=>{if(c&&d){const v=b=>p(b,d),S=b=>p(b,c);return c.addEventListener("pointerleave",v),d.addEventListener("pointerleave",S),()=>{c.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",S)}}},[c,d,p,m]),g.useEffect(()=>{if(o){const v=S=>{const b=S.target,w={x:S.clientX,y:S.clientY},R=(c==null?void 0:c.contains(b))||(d==null?void 0:d.contains(b)),E=!UNe(w,o);R?m():E&&(m(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,d,o,u,m]),s.jsx(Dse,{...e,ref:a})}),[PNe,kNe]=gO(Ex,{isInside:!1}),$Ne=iP("TooltipContent"),Dse=g.forwardRef((e,t)=>{const{__scopeTooltip:n,children:i,"aria-label":r,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=F2(b1,n),u=vO(n),{onClose:d}=c;return g.useEffect(()=>(document.addEventListener(Z4,d),()=>document.removeEventListener(Z4,d)),[d]),g.useEffect(()=>{if(c.trigger){const h=m=>{const p=m.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),s.jsx(Gg,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:s.jsxs(ZN,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx($Ne,{children:i}),s.jsx(PNe,{scope:n,isInside:!0,children:s.jsx(vte,{id:c.contentId,role:"tooltip",children:r||i})})]})})});jse.displayName=b1;var Cse="TooltipArrow",Lse=g.forwardRef((e,t)=>{const{__scopeTooltip:n,...i}=e,r=vO(n);return kNe(Cse,n).isInside?null:s.jsx(eO,{...r,...i,ref:t})});Lse.displayName=Cse;function FNe(e,t){const n=Math.abs(t.top-e.y),i=Math.abs(t.bottom-e.y),r=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,i,r,a)){case a:return"left";case r:return"right";case n:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function BNe(e,t,n=5){const i=[];switch(t){case"top":i.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":i.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":i.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":i.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return i}function zNe(e){const{top:t,right:n,bottom:i,left:r}=e;return[{x:r,y:t},{x:n,y:t},{x:n,y:i},{x:r,y:i}]}function UNe(e,t){const{x:n,y:i}=e;let r=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],u=l.x,d=l.y,h=c.x,m=c.y;d>i!=m>i&&n<(h-u)*(i-d)/(m-d)+u&&(r=!r)}return r}function VNe(e){const t=e.slice();return t.sort((n,i)=>n.x<i.x?-1:n.x>i.x?1:n.y<i.y?-1:n.y>i.y?1:0),KNe(t)}function KNe(e){if(e.length<=1)return e.slice();const t=[];for(let i=0;i<e.length;i++){const r=e[i];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(r.y-o.y)>=(a.y-o.y)*(r.x-o.x))t.pop();else break}t.push(r)}t.pop();const n=[];for(let i=e.length-1;i>=0;i--){const r=e[i];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(r.y-o.y)>=(a.y-o.y)*(r.x-o.x))n.pop();else break}n.push(r)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var GNe=Ase,HNe=Rse,qNe=Nse,WNe=Ose,YNe=jse,JNe=Lse,k3={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Sz;function QNe(){return Sz||(Sz=1,(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var a="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(a=r(a,i(l)))}return a}function i(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var o="";for(var l in a)t.call(a,l)&&a[l]&&(o=r(o,l));return o}function r(a,o){return o?a?a+" "+o:a+o:a}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(k3)),k3.exports}var XNe=QNe();const Bt=ol(XNe),es={asChild:{type:"boolean"}},Bl={width:{type:"string",className:"rt-r-w",customProperties:["--width"],responsive:!0},minWidth:{type:"string",className:"rt-r-min-w",customProperties:["--min-width"],responsive:!0},maxWidth:{type:"string",className:"rt-r-max-w",customProperties:["--max-width"],responsive:!0}},B2={height:{type:"string",className:"rt-r-h",customProperties:["--height"],responsive:!0},minHeight:{type:"string",className:"rt-r-min-h",customProperties:["--min-height"],responsive:!0},maxHeight:{type:"string",className:"rt-r-max-h",customProperties:["--max-height"],responsive:!0}},ZNe=["1","2","3","4"],Tse={...es,align:{type:"enum",className:"rt-r-align",values:["start","center"],default:"center"},size:{type:"enum",className:"rt-r-size",values:ZNe,default:"3",responsive:!0},width:Bl.width,minWidth:Bl.minWidth,maxWidth:{...Bl.maxWidth,default:"600px"},...B2},Mse=["gray","gold","bronze","brown","yellow","amber","orange","tomato","red","ruby","crimson","pink","plum","purple","violet","iris","indigo","blue","cyan","teal","jade","green","grass","lime","mint","sky"],ts={color:{type:"enum",values:Mse,default:void 0}},q1={color:{type:"enum",values:Mse,default:""}},ks={highContrast:{type:"boolean",className:"rt-high-contrast",default:void 0}},eOe=["normal","start","end","both"],KP={trim:{type:"enum",className:"rt-r-lt",values:eOe,responsive:!0}},tOe=["left","center","right"],Ise={align:{type:"enum",className:"rt-r-ta",values:tOe,responsive:!0}},nOe=["wrap","nowrap","pretty","balance"],SO={wrap:{type:"enum",className:"rt-r-tw",values:nOe,responsive:!0}},bO={truncate:{type:"boolean",className:"rt-truncate"}},iOe=["light","regular","medium","bold"],xO={weight:{type:"enum",className:"rt-r-weight",values:iOe,responsive:!0}},rOe=["h1","h2","h3","h4","h5","h6"],aOe=["1","2","3","4","5","6","7","8","9"],sOe={as:{type:"enum",values:rOe,default:"h1"},...es,size:{type:"enum",className:"rt-r-size",values:aOe,default:"6",responsive:!0},...xO,...Ise,...KP,...bO,...SO,...ts,...ks},GP=["initial","xs","sm","md","lg","xl"];function Pse(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Xb(e){return typeof e=="object"&&Object.keys(e).some(t=>GP.includes(t))}function Rp({className:e,customProperties:t,...n}){const i=_x({allowArbitraryValues:!0,className:e,...n}),r=oOe({customProperties:t,...n});return[i,r]}function _x({allowArbitraryValues:e,value:t,className:n,propValues:i,parseValue:r=a=>a}){const a=[];if(t){if(typeof t=="string"&&i.includes(t))return bz(n,t,r);if(Xb(t)){const o=t;for(const l in o){if(!Pse(o,l)||!GP.includes(l))continue;const c=o[l];if(c!==void 0){if(i.includes(c)){const u=bz(n,c,r),d=l==="initial"?u:`${l}:${u}`;a.push(d)}else if(e){const u=l==="initial"?n:`${l}:${n}`;a.push(u)}}}return a.join(" ")}if(e)return n}}function bz(e,t,n){const i=e?"-":"",r=n(t),a=r==null?void 0:r.startsWith("-"),o=a?"-":"",l=a?r==null?void 0:r.substring(1):r;return`${o}${e}${i}${l}`}function oOe({customProperties:e,value:t,propValues:n,parseValue:i=r=>r}){let r={};if(!(!t||typeof t=="string"&&n.includes(t))){if(typeof t=="string"&&(r=Object.fromEntries(e.map(a=>[a,t]))),Xb(t)){const a=t;for(const o in a){if(!Pse(a,o)||!GP.includes(o))continue;const l=a[o];if(!n.includes(l))for(const c of e)r={[o==="initial"?c:`${c}-${o}`]:l,...r}}}for(const a in r){const o=r[a];o!==void 0&&(r[a]=i(o))}return r}}function Ax(...e){let t={};for(const n of e)n&&(t={...t,...n});return Object.keys(t).length?t:void 0}function lOe(...e){return Object.assign({},...e)}function Un(e,...t){let n,i;const r={...e},a=lOe(...t);for(const o in a){let l=r[o];const c=a[o];if(c.default!==void 0&&l===void 0&&(l=c.default),c.type==="enum"&&![c.default,...c.values].includes(l)&&!Xb(l)&&(l=c.default),r[o]=l,"className"in c&&c.className){delete r[o];const u="responsive"in c;if(!l||Xb(l)&&!u)continue;if(Xb(l)&&(c.default!==void 0&&l.initial===void 0&&(l.initial=c.default),c.type==="enum"&&([c.default,...c.values].includes(l.initial)||(l.initial=c.default))),c.type==="enum"){const d=_x({allowArbitraryValues:!1,value:l,className:c.className,propValues:c.values,parseValue:c.parseValue});n=Bt(n,d);continue}if(c.type==="string"||c.type==="enum | string"){const d=c.type==="string"?[]:c.values,[h,m]=Rp({className:c.className,customProperties:c.customProperties,propValues:d,parseValue:c.parseValue,value:l});i=Ax(i,m),n=Bt(n,h);continue}if(c.type==="boolean"&&l){n=Bt(n,c.className);continue}}}return r.className=Bt(n,e.className),r.style=Ax(i,e.style),r}const my=["0","1","2","3","4","5","6","7","8","9","-1","-2","-3","-4","-5","-6","-7","-8","-9"],zi={m:{type:"enum | string",values:my,responsive:!0,className:"rt-r-m",customProperties:["--m"]},mx:{type:"enum | string",values:my,responsive:!0,className:"rt-r-mx",customProperties:["--ml","--mr"]},my:{type:"enum | string",values:my,responsive:!0,className:"rt-r-my",customProperties:["--mt","--mb"]},mt:{type:"enum | string",values:my,responsive:!0,className:"rt-r-mt",customProperties:["--mt"]},mr:{type:"enum | string",values:my,responsive:!0,className:"rt-r-mr",customProperties:["--mr"]},mb:{type:"enum | string",values:my,responsive:!0,className:"rt-r-mb",customProperties:["--mb"]},ml:{type:"enum | string",values:my,responsive:!0,className:"rt-r-ml",customProperties:["--ml"]}},He=g.forwardRef((e,t)=>{const{children:n,className:i,asChild:r,as:a="h1",color:o,...l}=Un(e,sOe,zi);return g.createElement(Ku,{"data-accent-color":o,...l,ref:t,className:Bt("rt-Heading",i)},r?n:g.createElement(a,null,n))});He.displayName="Heading";const cOe=["span","div","label","p"],uOe=["1","2","3","4","5","6","7","8","9"],dOe={as:{type:"enum",values:cOe,default:"span"},...es,size:{type:"enum",className:"rt-r-size",values:uOe,responsive:!0},...xO,...Ise,...KP,...bO,...SO,...ts,...ks},L=g.forwardRef((e,t)=>{const{children:n,className:i,asChild:r,as:a="span",color:o,...l}=Un(e,dOe,zi);return g.createElement(Ku,{"data-accent-color":o,...l,ref:t,className:Bt("rt-Text",i)},r?n:g.createElement(a,null,n))});L.displayName="Text";function fOe(e){switch(e){case"tomato":case"red":case"ruby":case"crimson":case"pink":case"plum":case"purple":case"violet":return"mauve";case"iris":case"indigo":case"blue":case"sky":case"cyan":return"slate";case"teal":case"jade":case"mint":case"green":return"sage";case"grass":case"lime":return"olive";case"yellow":case"amber":case"orange":case"brown":case"gold":case"bronze":return"sand";case"gray":return"gray"}}const hOe=["none","small","medium","large","full"],Hu={radius:{type:"enum",values:hOe,default:void 0}},Dl={hasBackground:{default:!0},appearance:{default:"inherit"},accentColor:{default:"indigo"},grayColor:{default:"auto"},panelBackground:{default:"translucent"},radius:{default:"medium"},scaling:{default:"100%"}},e0=()=>{},JA=g.createContext(void 0);function kse(){const e=g.useContext(JA);if(e===void 0)throw new Error("`useThemeContext` must be used within a `Theme`");return e}const Xd=g.forwardRef((e,t)=>g.useContext(JA)===void 0?g.createElement(GNe,{delayDuration:200},g.createElement(yxe,{dir:"ltr"},g.createElement($se,{...e,ref:t}))):g.createElement(HP,{...e,ref:t}));Xd.displayName="Theme";const $se=g.forwardRef((e,t)=>{const{appearance:n=Dl.appearance.default,accentColor:i=Dl.accentColor.default,grayColor:r=Dl.grayColor.default,panelBackground:a=Dl.panelBackground.default,radius:o=Dl.radius.default,scaling:l=Dl.scaling.default,hasBackground:c=Dl.hasBackground.default,...u}=e,[d,h]=g.useState(n);g.useEffect(()=>h(n),[n]);const[m,p]=g.useState(i);g.useEffect(()=>p(i),[i]);const[v,S]=g.useState(r);g.useEffect(()=>S(r),[r]);const[b,w]=g.useState(a);g.useEffect(()=>w(a),[a]);const[R,E]=g.useState(o);g.useEffect(()=>E(o),[o]);const[_,N]=g.useState(l);return g.useEffect(()=>N(l),[l]),g.createElement(HP,{...u,ref:t,isRoot:!0,hasBackground:c,appearance:d,accentColor:m,grayColor:v,panelBackground:b,radius:R,scaling:_,onAppearanceChange:h,onAccentColorChange:p,onGrayColorChange:S,onPanelBackgroundChange:w,onRadiusChange:E,onScalingChange:N})});$se.displayName="ThemeRoot";const HP=g.forwardRef((e,t)=>{const n=g.useContext(JA),{asChild:i,isRoot:r,hasBackground:a,appearance:o=(n==null?void 0:n.appearance)??Dl.appearance.default,accentColor:l=(n==null?void 0:n.accentColor)??Dl.accentColor.default,grayColor:c=(n==null?void 0:n.resolvedGrayColor)??Dl.grayColor.default,panelBackground:u=(n==null?void 0:n.panelBackground)??Dl.panelBackground.default,radius:d=(n==null?void 0:n.radius)??Dl.radius.default,scaling:h=(n==null?void 0:n.scaling)??Dl.scaling.default,onAppearanceChange:m=e0,onAccentColorChange:p=e0,onGrayColorChange:v=e0,onPanelBackgroundChange:S=e0,onRadiusChange:b=e0,onScalingChange:w=e0,...R}=e,E=i?Ku:"div",_=c==="auto"?fOe(l):c,N=e.appearance==="light"||e.appearance==="dark",O=a===void 0?r||N:a;return g.createElement(JA.Provider,{value:g.useMemo(()=>({appearance:o,accentColor:l,grayColor:c,resolvedGrayColor:_,panelBackground:u,radius:d,scaling:h,onAppearanceChange:m,onAccentColorChange:p,onGrayColorChange:v,onPanelBackgroundChange:S,onRadiusChange:b,onScalingChange:w}),[o,l,c,_,u,d,h,m,p,v,S,b,w])},g.createElement(E,{"data-is-root-theme":r?"true":"false","data-accent-color":l,"data-gray-color":_,"data-has-background":O?"true":"false","data-panel-background":u,"data-radius":d,"data-scaling":h,ref:t,...R,className:Bt("radix-themes",{light:o==="light",dark:o==="dark"},R.className)}))});HP.displayName="ThemeImpl";const Om=e=>{if(!g.isValidElement(e))throw Error(`Expected a single React Element child, but got: ${g.Children.toArray(e).map(t=>typeof t=="object"&&"type"in t&&typeof t.type=="string"?t.type:typeof t).join(", ")}`);return e},Mu=e=>g.createElement(z2e,{...e});Mu.displayName="AlertDialog.Root";const pOe=g.forwardRef(({children:e,...t},n)=>g.createElement(U2e,{...t,ref:n,asChild:!0},Om(e)));pOe.displayName="AlertDialog.Trigger";const Iu=g.forwardRef(({align:e,...t},n)=>{const{align:i,...r}=Tse,{className:a}=Un({align:e},{align:i}),{className:o,forceMount:l,container:c,...u}=Un(t,r);return g.createElement(V2e,{container:c,forceMount:l},g.createElement(Xd,{asChild:!0},g.createElement(K2e,{className:"rt-BaseDialogOverlay rt-AlertDialogOverlay"},g.createElement("div",{className:"rt-BaseDialogScroll rt-AlertDialogScroll"},g.createElement("div",{className:`rt-BaseDialogScrollPadding rt-AlertDialogScrollPadding ${a}`},g.createElement(G2e,{...u,ref:n,className:Bt("rt-BaseDialogContent","rt-AlertDialogContent",o)}))))))});Iu.displayName="AlertDialog.Content";const Pu=g.forwardRef((e,t)=>g.createElement(W2e,{asChild:!0},g.createElement(He,{size:"5",mb:"3",trim:"start",...e,asChild:!1,ref:t})));Pu.displayName="AlertDialog.Title";const ku=g.forwardRef((e,t)=>g.createElement(Y2e,{asChild:!0},g.createElement(L,{as:"p",size:"3",...e,asChild:!1,ref:t})));ku.displayName="AlertDialog.Description";const zd=g.forwardRef(({children:e,...t},n)=>g.createElement(H2e,{...t,ref:n,asChild:!0},Om(e)));zd.displayName="AlertDialog.Action";const $u=g.forwardRef(({children:e,...t},n)=>g.createElement(q2e,{...t,ref:n,asChild:!0},Om(e)));$u.displayName="AlertDialog.Cancel";const mOe=["1","2","3","4","5","6","7","8","9"],yOe=["solid","soft"],gOe={...es,size:{type:"enum",className:"rt-r-size",values:mOe,default:"3",responsive:!0},variant:{type:"enum",className:"rt-variant",values:yOe,default:"soft"},...q1,...ks,...Hu,fallback:{type:"ReactNode",required:!0}};function qP(e,t){const{asChild:n,children:i}=e;if(!n)return typeof t=="function"?t(i):t;const r=g.Children.only(i);return g.cloneElement(r,{children:typeof t=="function"?t(r.props.children):t})}const Xr=g.forwardRef((e,t)=>{const{asChild:n,children:i,className:r,style:a,color:o,radius:l,...c}=Un(e,gOe,zi);return g.createElement(nwe,{"data-accent-color":o,"data-radius":l,className:Bt("rt-reset","rt-AvatarRoot",r),style:a,asChild:n},qP({asChild:n,children:i},g.createElement(Fse,{ref:t,...c})))});Xr.displayName="Avatar";const Fse=g.forwardRef(({fallback:e,...t},n)=>{const[i,r]=g.useState("idle");return g.createElement(g.Fragment,null,i==="idle"||i==="loading"?g.createElement("span",{className:"rt-AvatarFallback"}):null,i==="error"?g.createElement(rwe,{className:Bt("rt-AvatarFallback",{"rt-one-letter":typeof e=="string"&&e.length===1,"rt-two-letters":typeof e=="string"&&e.length===2}),delayMs:0},e):null,g.createElement(iwe,{ref:n,className:"rt-AvatarImage",...t,onLoadingStatusChange:a=>{var o;(o=t.onLoadingStatusChange)==null||o.call(t,a),r(a)}}))});Fse.displayName="AvatarImpl";const vOe=["1","2","3"],SOe=["solid","soft","surface","outline"],bOe={...es,size:{type:"enum",className:"rt-r-size",values:vOe,default:"1",responsive:!0},variant:{type:"enum",className:"rt-variant",values:SOe,default:"soft"},...q1,...ks,...Hu},mt=g.forwardRef((e,t)=>{const{asChild:n,className:i,color:r,radius:a,...o}=Un(e,bOe,zi),l=n?Ku:"span";return g.createElement(l,{"data-accent-color":r,"data-radius":a,...o,ref:t,className:Bt("rt-reset","rt-Badge",i)})});mt.displayName="Badge";const WP=Ku,xOe=["div","span"],wOe=["none","inline","inline-block","block","contents"],EOe={as:{type:"enum",values:xOe,default:"div"},...es,display:{type:"enum",className:"rt-r-display",values:wOe,responsive:!0}},yy=["0","1","2","3","4","5","6","7","8","9"],Zb={p:{type:"enum | string",className:"rt-r-p",customProperties:["--p"],values:yy,responsive:!0},px:{type:"enum | string",className:"rt-r-px",customProperties:["--pl","--pr"],values:yy,responsive:!0},py:{type:"enum | string",className:"rt-r-py",customProperties:["--pt","--pb"],values:yy,responsive:!0},pt:{type:"enum | string",className:"rt-r-pt",customProperties:["--pt"],values:yy,responsive:!0},pr:{type:"enum | string",className:"rt-r-pr",customProperties:["--pr"],values:yy,responsive:!0},pb:{type:"enum | string",className:"rt-r-pb",customProperties:["--pb"],values:yy,responsive:!0},pl:{type:"enum | string",className:"rt-r-pl",customProperties:["--pl"],values:yy,responsive:!0}},$3=["visible","hidden","clip","scroll","auto"],_Oe=["static","relative","absolute","fixed","sticky"],nb=["0","1","2","3","4","5","6","7","8","9","-1","-2","-3","-4","-5","-6","-7","-8","-9"],AOe=["0","1"],ROe=["0","1"],wO={...Zb,...Bl,...B2,position:{type:"enum",className:"rt-r-position",values:_Oe,responsive:!0},inset:{type:"enum | string",className:"rt-r-inset",customProperties:["--inset"],values:nb,responsive:!0},top:{type:"enum | string",className:"rt-r-top",customProperties:["--top"],values:nb,responsive:!0},right:{type:"enum | string",className:"rt-r-right",customProperties:["--right"],values:nb,responsive:!0},bottom:{type:"enum | string",className:"rt-r-bottom",customProperties:["--bottom"],values:nb,responsive:!0},left:{type:"enum | string",className:"rt-r-left",customProperties:["--left"],values:nb,responsive:!0},overflow:{type:"enum",className:"rt-r-overflow",values:$3,responsive:!0},overflowX:{type:"enum",className:"rt-r-ox",values:$3,responsive:!0},overflowY:{type:"enum",className:"rt-r-oy",values:$3,responsive:!0},flexBasis:{type:"string",className:"rt-r-fb",customProperties:["--flex-basis"],responsive:!0},flexShrink:{type:"enum | string",className:"rt-r-fs",customProperties:["--flex-shrink"],values:AOe,responsive:!0},flexGrow:{type:"enum | string",className:"rt-r-fg",customProperties:["--flex-grow"],values:ROe,responsive:!0},gridArea:{type:"string",className:"rt-r-ga",customProperties:["--grid-area"],responsive:!0},gridColumn:{type:"string",className:"rt-r-gc",customProperties:["--grid-column"],responsive:!0},gridColumnStart:{type:"string",className:"rt-r-gcs",customProperties:["--grid-column-start"],responsive:!0},gridColumnEnd:{type:"string",className:"rt-r-gce",customProperties:["--grid-column-end"],responsive:!0},gridRow:{type:"string",className:"rt-r-gr",customProperties:["--grid-row"],responsive:!0},gridRowStart:{type:"string",className:"rt-r-grs",customProperties:["--grid-row-start"],responsive:!0},gridRowEnd:{type:"string",className:"rt-r-gre",customProperties:["--grid-row-end"],responsive:!0}},X=g.forwardRef((e,t)=>{const{className:n,asChild:i,as:r="div",...a}=Un(e,EOe,wO,zi);return g.createElement(i?WP:r,{...a,ref:t,className:Bt("rt-Box",n)})});X.displayName="Box";const NOe=["1","2","3","4"],OOe=["classic","solid","soft","surface","outline","ghost"],xz={...es,size:{type:"enum",className:"rt-r-size",values:NOe,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:OOe,default:"solid"},...q1,...ks,...Hu,loading:{type:"boolean",className:"rt-loading",default:!1}},F3=["0","1","2","3","4","5","6","7","8","9"],Bse={gap:{type:"enum | string",className:"rt-r-gap",customProperties:["--gap"],values:F3,responsive:!0},gapX:{type:"enum | string",className:"rt-r-cg",customProperties:["--column-gap"],values:F3,responsive:!0},gapY:{type:"enum | string",className:"rt-r-rg",customProperties:["--row-gap"],values:F3,responsive:!0}},jOe=["div","span"],DOe=["none","inline-flex","flex"],COe=["row","column","row-reverse","column-reverse"],LOe=["start","center","end","baseline","stretch"],TOe=["start","center","end","between"],MOe=["nowrap","wrap","wrap-reverse"],zse={as:{type:"enum",values:jOe,default:"div"},...es,display:{type:"enum",className:"rt-r-display",values:DOe,responsive:!0},direction:{type:"enum",className:"rt-r-fd",values:COe,responsive:!0},align:{type:"enum",className:"rt-r-ai",values:LOe,responsive:!0},justify:{type:"enum",className:"rt-r-jc",values:TOe,parseValue:IOe,responsive:!0},wrap:{type:"enum",className:"rt-r-fw",values:MOe,responsive:!0},...Bse};function IOe(e){return e==="between"?"space-between":e}const $=g.forwardRef((e,t)=>{const{className:n,asChild:i,as:r="div",...a}=Un(e,zse,wO,zi);return g.createElement(i?WP:r,{...a,ref:t,className:Bt("rt-Flex",n)})});$.displayName="Flex";const POe=["1","2","3"],kOe={size:{type:"enum",className:"rt-r-size",values:POe,default:"2",responsive:!0},loading:{type:"boolean",default:!0}},Ei=g.forwardRef((e,t)=>{const{className:n,children:i,loading:r,...a}=Un(e,kOe,zi);if(!r)return i;const o=g.createElement("span",{...a,ref:t,className:Bt("rt-Spinner",n)},g.createElement("span",{className:"rt-SpinnerLeaf"}),g.createElement("span",{className:"rt-SpinnerLeaf"}),g.createElement("span",{className:"rt-SpinnerLeaf"}),g.createElement("span",{className:"rt-SpinnerLeaf"}),g.createElement("span",{className:"rt-SpinnerLeaf"}),g.createElement("span",{className:"rt-SpinnerLeaf"}),g.createElement("span",{className:"rt-SpinnerLeaf"}),g.createElement("span",{className:"rt-SpinnerLeaf"}));return i===void 0?o:g.createElement($,{asChild:!0,position:"relative",align:"center",justify:"center"},g.createElement("span",null,g.createElement("span",{"aria-hidden":!0,style:{display:"contents",visibility:"hidden"},inert:void 0},i),g.createElement($,{asChild:!0,align:"center",justify:"center",position:"absolute",inset:"0"},g.createElement("span",null,o))))});Ei.displayName="Spinner";const $Oe=vte;function Use(e,t){if(e!==void 0)return typeof e=="string"?t(e):Object.fromEntries(Object.entries(e).map(([n,i])=>[n,t(i)]))}function FOe(e){return e==="3"?"3":"2"}function BOe(e){switch(e){case"1":return"1";case"2":case"3":return"2";case"4":return"3"}}const YP=g.forwardRef((e,t)=>{const{size:n=xz.size.default}=e,{className:i,children:r,asChild:a,color:o,radius:l,disabled:c=e.loading,...u}=Un(e,xz,zi),d=a?Ku:"button";return g.createElement(d,{"data-disabled":c||void 0,"data-accent-color":o,"data-radius":l,...u,ref:t,className:Bt("rt-reset","rt-BaseButton",i),disabled:c},e.loading?g.createElement(g.Fragment,null,g.createElement("span",{style:{display:"contents",visibility:"hidden"},"aria-hidden":!0},r),g.createElement($Oe,null,r),g.createElement($,{asChild:!0,align:"center",justify:"center",position:"absolute",inset:"0"},g.createElement("span",null,g.createElement(Ei,{size:Use(n,BOe)})))):r)});YP.displayName="BaseButton";const pe=g.forwardRef(({className:e,...t},n)=>g.createElement(YP,{...t,ref:n,className:Bt("rt-Button",e)}));pe.displayName="Button";const zOe=["1","2","3"],UOe=["soft","surface","outline"],wz={...es,size:{type:"enum",className:"rt-r-size",values:zOe,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:UOe,default:"soft"},...q1,...ks},Vse=g.createContext({}),q_=g.forwardRef((e,t)=>{const{size:n=wz.size.default}=e,{asChild:i,children:r,className:a,color:o,...l}=Un(e,wz,zi),c=i?Ku:"div";return g.createElement(c,{"data-accent-color":o,...l,className:Bt("rt-CalloutRoot",a),ref:t},g.createElement(Vse.Provider,{value:g.useMemo(()=>({size:n}),[n])},r))});q_.displayName="Callout.Root";const W_=g.forwardRef(({className:e,...t},n)=>g.createElement("div",{...t,className:Bt("rt-CalloutIcon",e),ref:n}));W_.displayName="Callout.Icon";const Y_=g.forwardRef(({className:e,...t},n)=>{const{size:i}=g.useContext(Vse);return g.createElement(L,{as:"p",size:Use(i,FOe),...t,asChild:!1,ref:n,className:Bt("rt-CalloutText",e)})});Y_.displayName="Callout.Text";const VOe=["1","2","3","4","5"],KOe=["surface","classic","ghost"],GOe={...es,size:{type:"enum",className:"rt-r-size",values:VOe,default:"1",responsive:!0},variant:{type:"enum",className:"rt-variant",values:KOe,default:"surface"}},Rt=g.forwardRef((e,t)=>{const{asChild:n,className:i,...r}=Un(e,GOe,zi),a=n?Ku:"div";return g.createElement(a,{ref:t,...r,className:Bt("rt-reset","rt-BaseCard","rt-Card",i)})});Rt.displayName="Card";var Kse=Gt;Kse.dispatchDiscreteCustomEvent=BN;Kse.Root=Gt;const HOe=["div","span"],qOe=["none","inline-grid","grid"],WOe=["1","2","3","4","5","6","7","8","9"],YOe=["1","2","3","4","5","6","7","8","9"],JOe=["row","column","dense","row-dense","column-dense"],QOe=["start","center","end","baseline","stretch"],XOe=["start","center","end","between"],QA={as:{type:"enum",values:HOe,default:"div"},...es,display:{type:"enum",className:"rt-r-display",values:qOe,responsive:!0},areas:{type:"string",className:"rt-r-gta",customProperties:["--grid-template-areas"],responsive:!0},columns:{type:"enum | string",className:"rt-r-gtc",customProperties:["--grid-template-columns"],values:WOe,parseValue:Ez,responsive:!0},rows:{type:"enum | string",className:"rt-r-gtr",customProperties:["--grid-template-rows"],values:YOe,parseValue:Ez,responsive:!0},flow:{type:"enum",className:"rt-r-gaf",values:JOe,responsive:!0},align:{type:"enum",className:"rt-r-ai",values:QOe,responsive:!0},justify:{type:"enum",className:"rt-r-jc",values:XOe,parseValue:ZOe,responsive:!0},...Bse};function Ez(e){return QA.columns.values.includes(e)?e:e!=null&&e.match(/^\d+$/)?`repeat(${e}, minmax(0, 1fr))`:e}function ZOe(e){return e==="between"?"space-between":e}const eje=["1","2","3"],tje=["classic","surface","soft"],nje={size:{type:"enum",className:"rt-r-size",values:eje,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:tje,default:"surface"},...ts,...ks},Zn=g.forwardRef((e,t)=>{const{className:n,asChild:i,as:r="div",...a}=Un(e,QA,wO,zi);return g.createElement(i?WP:r,{...a,ref:t,className:Bt("rt-Grid",n)})});Zn.displayName="Grid";const Gse=Pt.forwardRef((e,t)=>Pt.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",...e,ref:t},Pt.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.75 4.5C0.75 4.08579 1.08579 3.75 1.5 3.75H7.5C7.91421 3.75 8.25 4.08579 8.25 4.5C8.25 4.91421 7.91421 5.25 7.5 5.25H1.5C1.08579 5.25 0.75 4.91421 0.75 4.5Z"})));Gse.displayName="ThickDividerHorizontalIcon";const z2=Pt.forwardRef((e,t)=>Pt.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",...e,ref:t},Pt.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.53547 0.62293C8.88226 0.849446 8.97976 1.3142 8.75325 1.66099L4.5083 8.1599C4.38833 8.34356 4.19397 8.4655 3.9764 8.49358C3.75883 8.52167 3.53987 8.45309 3.3772 8.30591L0.616113 5.80777C0.308959 5.52987 0.285246 5.05559 0.563148 4.74844C0.84105 4.44128 1.31533 4.41757 1.62249 4.69547L3.73256 6.60459L7.49741 0.840706C7.72393 0.493916 8.18868 0.396414 8.53547 0.62293Z"})));z2.displayName="ThickCheckIcon";const Hse=Pt.forwardRef((e,t)=>Pt.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",...e,ref:t},Pt.createElement("path",{d:"M0.135232 3.15803C0.324102 2.95657 0.640521 2.94637 0.841971 3.13523L4.5 6.56464L8.158 3.13523C8.3595 2.94637 8.6759 2.95657 8.8648 3.15803C9.0536 3.35949 9.0434 3.67591 8.842 3.86477L4.84197 7.6148C4.64964 7.7951 4.35036 7.7951 4.15803 7.6148L0.158031 3.86477C-0.0434285 3.67591 -0.0536285 3.35949 0.135232 3.15803Z"})));Hse.displayName="ChevronDownIcon";const qse=Pt.forwardRef((e,t)=>Pt.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",...e,ref:t},Pt.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.23826 0.201711C3.54108 -0.0809141 4.01567 -0.0645489 4.29829 0.238264L7.79829 3.98826C8.06724 4.27642 8.06724 4.72359 7.79829 5.01174L4.29829 8.76174C4.01567 9.06455 3.54108 9.08092 3.23826 8.79829C2.93545 8.51567 2.91909 8.04108 3.20171 7.73826L6.22409 4.5L3.20171 1.26174C2.91909 0.958928 2.93545 0.484337 3.23826 0.201711Z"})));qse.displayName="ThickChevronRightIcon";const fr=g.forwardRef((e,t)=>{const{className:n,color:i,checked:r,defaultChecked:a,onCheckedChange:o,...l}=Un(e,nje,zi),[c,u]=xs({prop:r,defaultProp:a,onChange:o});return g.createElement(Hne,{"data-accent-color":i,...l,defaultChecked:a,checked:c,onCheckedChange:u,asChild:!1,ref:t,className:Bt("rt-reset","rt-BaseCheckboxRoot","rt-CheckboxRoot",n)},g.createElement(Wne,{asChild:!0,className:"rt-BaseCheckboxIndicator rt-CheckboxIndicator"},g.createElement(c==="indeterminate"?Gse:z2,null)))});fr.displayName="Checkbox";const ije=["1","2","3","4","5","6","7","8","9"],rje=["solid","soft","outline","ghost"],aje={...es,size:{type:"enum",className:"rt-r-size",values:ije,responsive:!0},variant:{type:"enum",className:"rt-variant",values:rje,default:"soft"},...xO,...q1,...ks,...bO,...SO},Ou=g.forwardRef((e,t)=>{const{asChild:n,className:i,color:r,...a}=Un(e,aje,zi),o=e.variant==="ghost"?r||void 0:r,l=n?Ku:"code";return g.createElement(l,{"data-accent-color":o,...a,ref:t,className:Bt("rt-reset","rt-Code",i)})});Ou.displayName="Code";const sje=["1","2","3","4"],oje=["none","initial"],lje=["left","center","right"],cje={...es,size:{type:"enum",className:"rt-r-size",values:sje,default:"4",responsive:!0},display:{type:"enum",className:"rt-r-display",values:oje,parseValue:uje,responsive:!0},align:{type:"enum",className:"rt-r-ai",values:lje,parseValue:dje,responsive:!0}};function uje(e){return e==="initial"?"flex":e}function dje(e){return e==="left"?"start":e==="right"?"end":e}const wy=g.forwardRef(({width:e,minWidth:t,maxWidth:n,height:i,minHeight:r,maxHeight:a,...o},l)=>{const{asChild:c,children:u,className:d,...h}=Un(o,cje,wO,zi),{className:m,style:p}=Un({width:e,minWidth:t,maxWidth:n,height:i,minHeight:r,maxHeight:a},Bl,B2),v=c?Ku:"div";return g.createElement(v,{...h,ref:l,className:Bt("rt-Container",d)},qP({asChild:c,children:u},S=>g.createElement("div",{className:Bt("rt-ContainerInner",m),style:p},S)))});wy.displayName="Container";const fje=["1","2","3"],ib={...es,size:{values:fje,default:"1"},...Hu,scrollbars:{default:"both"}};function hje(e){const{m:t,mx:n,my:i,mt:r,mr:a,mb:o,ml:l,...c}=e;return{m:t,mx:n,my:i,mt:r,mr:a,mb:o,ml:l,rest:c}}const gy=zi.m.values;function pje(e){const[t,n]=Rp({className:"rt-r-m",customProperties:["--margin"],propValues:gy,value:e.m}),[i,r]=Rp({className:"rt-r-mx",customProperties:["--margin-left","--margin-right"],propValues:gy,value:e.mx}),[a,o]=Rp({className:"rt-r-my",customProperties:["--margin-top","--margin-bottom"],propValues:gy,value:e.my}),[l,c]=Rp({className:"rt-r-mt",customProperties:["--margin-top"],propValues:gy,value:e.mt}),[u,d]=Rp({className:"rt-r-mr",customProperties:["--margin-right"],propValues:gy,value:e.mr}),[h,m]=Rp({className:"rt-r-mb",customProperties:["--margin-bottom"],propValues:gy,value:e.mb}),[p,v]=Rp({className:"rt-r-ml",customProperties:["--margin-left"],propValues:gy,value:e.ml});return[Bt(t,i,a,l,u,h,p),Ax(n,r,o,c,d,m,v)]}const W1=g.forwardRef((e,t)=>{const{rest:n,...i}=hje(e),[r,a]=pje(i),{asChild:o,children:l,className:c,style:u,type:d,scrollHideDelay:h=d!=="scroll"?0:void 0,dir:m,size:p=ib.size.default,radius:v=ib.radius.default,scrollbars:S=ib.scrollbars.default,...b}=n;return g.createElement(MP,{type:d,scrollHideDelay:h,className:Bt("rt-ScrollAreaRoot",r,c),style:Ax(a,u),asChild:o},qP({asChild:o,children:l},w=>g.createElement(g.Fragment,null,g.createElement(IP,{...b,ref:t,className:"rt-ScrollAreaViewport"},w),g.createElement("div",{className:"rt-ScrollAreaViewportFocusRing"}),S!=="vertical"?g.createElement(HA,{"data-radius":v,orientation:"horizontal",className:Bt("rt-ScrollAreaScrollbar",_x({className:"rt-r-size",value:p,propValues:ib.size.values}))},g.createElement(qA,{className:"rt-ScrollAreaThumb"})):null,S!=="horizontal"?g.createElement(HA,{"data-radius":v,orientation:"vertical",className:Bt("rt-ScrollAreaScrollbar",_x({className:"rt-r-size",value:p,propValues:ib.size.values}))},g.createElement(qA,{className:"rt-ScrollAreaThumb"})):null,S==="both"?g.createElement(UAe,{className:"rt-ScrollAreaCorner"}):null)))});W1.displayName="ScrollArea";const mje=["1","2"],yje=["solid","soft"],Fb={size:{type:"enum",className:"rt-r-size",values:mje,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:yje,default:"solid"},...ts,...ks},gje={...es,...ts},vje={...ts},Sje={...ts},rn=e=>g.createElement(vne,{...e,modal:!0});rn.displayName="Dialog.Root";const U2=g.forwardRef(({children:e,...t},n)=>g.createElement(Sne,{...t,ref:n,asChild:!0},Om(e)));U2.displayName="Dialog.Trigger";const an=g.forwardRef(({align:e,...t},n)=>{const{align:i,...r}=Tse,{className:a}=Un({align:e},{align:i}),{className:o,forceMount:l,container:c,...u}=Un(t,r);return g.createElement(bne,{container:c,forceMount:l},g.createElement(Xd,{asChild:!0},g.createElement(xne,{className:"rt-BaseDialogOverlay rt-DialogOverlay"},g.createElement("div",{className:"rt-BaseDialogScroll rt-DialogScroll"},g.createElement("div",{className:`rt-BaseDialogScrollPadding rt-DialogScrollPadding ${a}`},g.createElement(wne,{...u,ref:n,className:Bt("rt-BaseDialogContent","rt-DialogContent",o)}))))))});an.displayName="Dialog.Content";const cn=g.forwardRef((e,t)=>g.createElement(Ene,{asChild:!0},g.createElement(He,{size:"5",mb:"3",trim:"start",...e,asChild:!1,ref:t})));cn.displayName="Dialog.Title";const vr=g.forwardRef((e,t)=>g.createElement(_ne,{asChild:!0},g.createElement(L,{as:"p",size:"3",...e,asChild:!1,ref:t})));vr.displayName="Dialog.Description";const Dn=g.forwardRef(({children:e,...t},n)=>g.createElement(cP,{...t,ref:n,asChild:!0},Om(e)));Dn.displayName="Dialog.Close";const Yg=e=>g.createElement(z_e,{...e});Yg.displayName="DropdownMenu.Root";const Jg=g.forwardRef(({children:e,...t},n)=>g.createElement(U_e,{...t,ref:n,asChild:!0},Om(e)));Jg.displayName="DropdownMenu.Trigger";const Wse=g.createContext({}),Qg=g.forwardRef((e,t)=>{const n=kse(),{size:i=Fb.size.default,variant:r=Fb.variant.default,highContrast:a=Fb.highContrast.default}=e,{className:o,children:l,color:c,container:u,forceMount:d,...h}=Un(e,Fb),m=c||n.accentColor;return g.createElement(ure,{container:u,forceMount:d},g.createElement(Xd,{asChild:!0},g.createElement(V_e,{"data-accent-color":m,align:"start",sideOffset:4,collisionPadding:10,...h,asChild:!1,ref:t,className:Bt("rt-PopperContent","rt-BaseMenuContent","rt-DropdownMenuContent",o)},g.createElement(W1,{type:"auto"},g.createElement("div",{className:Bt("rt-BaseMenuViewport","rt-DropdownMenuViewport")},g.createElement(Wse.Provider,{value:g.useMemo(()=>({size:i,variant:r,color:m,highContrast:a}),[i,r,m,a])},l))))))});Qg.displayName="DropdownMenu.Content";const ag=g.forwardRef(({className:e,...t},n)=>g.createElement(G_e,{...t,asChild:!1,ref:n,className:Bt("rt-BaseMenuLabel","rt-DropdownMenuLabel",e)}));ag.displayName="DropdownMenu.Label";const Qr=g.forwardRef((e,t)=>{const{className:n,children:i,color:r=gje.color.default,shortcut:a,...o}=e;return g.createElement(H_e,{"data-accent-color":r,...o,ref:t,className:Bt("rt-reset","rt-BaseMenuItem","rt-DropdownMenuItem",n)},g.createElement(Zbe,null,i),a&&g.createElement("div",{className:"rt-BaseMenuShortcut rt-DropdownMenuShortcut"},a))});Qr.displayName="DropdownMenu.Item";const bje=g.forwardRef(({className:e,...t},n)=>g.createElement(K_e,{...t,asChild:!1,ref:n,className:Bt("rt-BaseMenuGroup","rt-DropdownMenuGroup",e)}));bje.displayName="DropdownMenu.Group";const xje=g.forwardRef(({className:e,...t},n)=>g.createElement(W_e,{...t,asChild:!1,ref:n,className:Bt("rt-BaseMenuRadioGroup","rt-DropdownMenuRadioGroup",e)}));xje.displayName="DropdownMenu.RadioGroup";const wje=g.forwardRef((e,t)=>{const{children:n,className:i,color:r=Sje.color.default,...a}=e;return g.createElement(Y_e,{...a,asChild:!1,ref:t,"data-accent-color":r,className:Bt("rt-BaseMenuItem","rt-BaseMenuRadioItem","rt-DropdownMenuItem","rt-DropdownMenuRadioItem",i)},n,g.createElement(dre,{className:"rt-BaseMenuItemIndicator rt-DropdownMenuItemIndicator"},g.createElement(z2,{className:"rt-BaseMenuItemIndicatorIcon rt-DropdownMenuItemIndicatorIcon"})))});wje.displayName="DropdownMenu.RadioItem";const Eje=g.forwardRef((e,t)=>{const{children:n,className:i,shortcut:r,color:a=vje.color.default,...o}=e;return g.createElement(q_e,{...o,asChild:!1,ref:t,"data-accent-color":a,className:Bt("rt-BaseMenuItem","rt-BaseMenuCheckboxItem","rt-DropdownMenuItem","rt-DropdownMenuCheckboxItem",i)},n,g.createElement(dre,{className:"rt-BaseMenuItemIndicator rt-DropdownMenuItemIndicator"},g.createElement(z2,{className:"rt-BaseMenuItemIndicatorIcon rt-ContextMenuItemIndicatorIcon"})),r&&g.createElement("div",{className:"rt-BaseMenuShortcut rt-DropdownMenuShortcut"},r))});Eje.displayName="DropdownMenu.CheckboxItem";const _je=g.forwardRef((e,t)=>{const{className:n,children:i,...r}=e;return g.createElement(Q_e,{...r,asChild:!1,ref:t,className:Bt("rt-BaseMenuItem","rt-BaseMenuSubTrigger","rt-DropdownMenuItem","rt-DropdownMenuSubTrigger",n)},i,g.createElement("div",{className:"rt-BaseMenuShortcut rt-DropdownMenuShortcut"},g.createElement(qse,{className:"rt-BaseMenuSubTriggerIcon rt-DropdownMenuSubtriggerIcon"})))});_je.displayName="DropdownMenu.SubTrigger";const Aje=g.forwardRef((e,t)=>{const{size:n,variant:i,color:r,highContrast:a}=g.useContext(Wse),{className:o,children:l,container:c,forceMount:u,...d}=Un({size:n,variant:i,color:r,highContrast:a,...e},Fb);return g.createElement(ure,{container:c,forceMount:u},g.createElement(Xd,{asChild:!0},g.createElement(X_e,{"data-accent-color":r,alignOffset:-Number(n)*4,sideOffset:1,collisionPadding:10,...d,asChild:!1,ref:t,className:Bt("rt-PopperContent","rt-BaseMenuContent","rt-BaseMenuSubContent","rt-DropdownMenuContent","rt-DropdownMenuSubContent",o)},g.createElement(W1,{type:"auto"},g.createElement("div",{className:Bt("rt-BaseMenuViewport","rt-DropdownMenuViewport")},l)))))});Aje.displayName="DropdownMenu.SubContent";const Ag=g.forwardRef(({className:e,...t},n)=>g.createElement(J_e,{...t,asChild:!1,ref:n,className:Bt("rt-BaseMenuSeparator","rt-DropdownMenuSeparator",e)}));Ag.displayName="DropdownMenu.Separator";const Mn=g.forwardRef(({className:e,...t},n)=>g.createElement(YP,{...t,ref:n,className:Bt("rt-IconButton",e)}));Mn.displayName="IconButton";const Rje=["1","2","3","4","5","6","7","8","9"],Nje=["auto","always","hover","none"],Oje={...es,size:{type:"enum",className:"rt-r-size",values:Rje,responsive:!0},...xO,...KP,...bO,...SO,underline:{type:"enum",className:"rt-underline",values:Nje,default:"auto"},...q1,...ks},XA=g.forwardRef((e,t)=>{const{children:n,className:i,color:r,asChild:a,...o}=Un(e,Oje);return g.createElement(L,{...o,"data-accent-color":r,ref:t,asChild:!0,className:Bt("rt-reset","rt-Link",i)},a?n:g.createElement("a",null,n))});XA.displayName="Link";const jje=["1","2","3","4"],Dje={...es,size:{type:"enum",className:"rt-r-size",values:jje,default:"2",responsive:!0},width:Bl.width,minWidth:Bl.minWidth,maxWidth:{...Bl.maxWidth,default:"480px"},...B2},Rg=e=>g.createElement(oAe,{...e});Rg.displayName="Popover.Root";const Ng=g.forwardRef(({children:e,...t},n)=>g.createElement(cAe,{...t,ref:n,asChild:!0},Om(e)));Ng.displayName="Popover.Trigger";const Og=g.forwardRef((e,t)=>{const{className:n,forceMount:i,container:r,...a}=Un(e,Dje);return g.createElement(uAe,{container:r,forceMount:i},g.createElement(Xd,{asChild:!0},g.createElement(dAe,{align:"start",sideOffset:8,collisionPadding:10,...a,ref:t,className:Bt("rt-PopperContent","rt-PopoverContent",n)})))});Og.displayName="Popover.Content";const Cje=g.forwardRef(({children:e,...t},n)=>g.createElement(fAe,{...t,ref:n,asChild:!0},Om(e)));Cje.displayName="Popover.Close";const Lje=g.forwardRef(({children:e,...t},n)=>g.createElement(lAe,{...t,ref:n}));Lje.displayName="Popover.Anchor";const Tje=["1","2","3"],Mje=["classic","surface","soft"],Ije={size:{type:"enum",className:"rt-r-size",values:Tje,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:Mje,default:"surface"},...ts,...ks,...Hu,duration:{type:"string"}},EO=g.forwardRef((e,t)=>{const{className:n,style:i,color:r,radius:a,duration:o,...l}=Un(e,Ije,zi);return g.createElement(SAe,{"data-accent-color":r,"data-radius":a,ref:t,className:Bt("rt-ProgressRoot",n),style:Ax({"--progress-duration":"value"in l?void 0:o,"--progress-value":"value"in l?l.value:void 0,"--progress-max":"max"in l?l.max:void 0},i),...l,asChild:!1},g.createElement(bAe,{className:"rt-ProgressIndicator"}))});EO.displayName="Progress";const Pje=["1","2","3"],kje=["surface","classic"],$je={...es,size:{type:"enum",className:"rt-r-size",values:Pje,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:kje,default:"surface"},...ts,...ks,columns:{...QA.columns,default:"repeat(auto-fit, minmax(160px, 1fr))"},gap:{...QA.gap,default:"4"}},JP=g.forwardRef((e,t)=>{const{className:n,color:i,...r}=Un(e,$je,zi);return g.createElement(Zn,{asChild:!0},g.createElement(Bre,{"data-accent-color":i,...r,ref:t,className:Bt("rt-RadioCardsRoot",n)}))});JP.displayName="RadioCards.Root";const sg=g.forwardRef(({className:e,...t},n)=>g.createElement(zre,{...t,asChild:!1,ref:n,className:Bt("rt-reset","rt-BaseCard","rt-RadioCardsItem",e)}));sg.displayName="RadioCards.Item";const Fje=["1","2","3"],Bje=["classic","surface","soft"],Bb={...es,size:{type:"enum",className:"rt-r-size",values:Fje,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:Bje,default:"surface"},...ts,...ks},Yse="RadioGroup",[zje]=pa(Yse,[Mre]),Jse=Mre(),[Uje,Qse]=zje(Yse),_O=g.forwardRef(({color:e=Bb.color.default,highContrast:t=Bb.highContrast.default,size:n=Bb.size.default,variant:i=Bb.variant.default,...r},a)=>{const{__scopeRadioGroup:o,className:l,...c}=Un(r,zi),u=Jse(o);return g.createElement(Uje,{scope:o,color:e,highContrast:t,size:n,variant:i},g.createElement(Bre,{...u,...c,ref:a,className:Bt("rt-RadioGroupRoot",l)}))});_O.displayName="RadioGroup.Root";const rm=g.forwardRef((e,t)=>{const{__scopeRadioGroup:n,children:i,className:r,style:a,...o}=e,{size:l}=Qse("RadioGroupItem",n);return i?g.createElement(L,{as:"label",size:l,className:Bt("rt-RadioGroupItem",r),style:a},g.createElement(t6,{__scopeRadioGroup:n,...o,ref:t}),i&&g.createElement("span",{className:"rt-RadioGroupItemInner"},i)):g.createElement(t6,{__scopeRadioGroup:n,...o,ref:t,className:r,style:a})});rm.displayName="RadioGroup.Item";const t6=g.forwardRef(({__scopeRadioGroup:e,...t},n)=>{const i=Qse("RadioGroupItemRadio",e),r=Jse(e),{color:a,className:o}=Un({...t,...i},Bb,zi);return g.createElement(zre,{...r,"data-accent-color":a,...t,asChild:!1,ref:n,className:Bt("rt-reset","rt-BaseRadioRoot",o)})});t6.displayName="RadioGroup.ItemRadio";const Vje=["1","2","3"],Kje=["surface","classic"],Gje={disabled:{type:"boolean",className:"disabled",default:!1},size:{type:"enum",className:"rt-r-size",values:Vje,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:Kje,default:"surface"},...Hu},Xa=g.forwardRef((e,t)=>{const{className:n,children:i,radius:r,value:a,defaultValue:o,onValueChange:l,...c}=Un(e,Gje,zi),[u,d]=xs({prop:a,onChange:l,defaultProp:o});return g.createElement(ONe,{"data-disabled":e.disabled||void 0,"data-radius":r,ref:t,className:Bt("rt-SegmentedControlRoot",n),onValueChange:h=>{h&&d(h)},...c,type:"single",value:u,asChild:!1,disabled:!!e.disabled},i,g.createElement("div",{className:"rt-SegmentedControlIndicator"}))});Xa.displayName="SegmentedControl.Root";const wi=g.forwardRef(({children:e,className:t,...n},i)=>g.createElement(jNe,{ref:i,className:Bt("rt-reset","rt-SegmentedControlItem",t),...n,disabled:!1,asChild:!1},g.createElement("span",{className:"rt-SegmentedControlItemSeparator"}),g.createElement("span",{className:"rt-SegmentedControlItemLabel"},g.createElement("span",{className:"rt-SegmentedControlItemLabelActive"},e),g.createElement("span",{className:"rt-SegmentedControlItemLabelInactive","aria-hidden":!0},e))));wi.displayName="SegmentedControl.Item";const Hje=["1","2","3"],QP={size:{type:"enum",className:"rt-r-size",values:Hje,default:"2",responsive:!0}},qje=["classic","surface","soft","ghost"],Wje={variant:{type:"enum",className:"rt-variant",values:qje,default:"surface"},...ts,...Hu,placeholder:{type:"string"}},Yje=["solid","soft"],Jje={variant:{type:"enum",className:"rt-variant",values:Yje,default:"solid"},...ts,...ks},XP=g.createContext({}),Vn=e=>{const{children:t,size:n=QP.size.default,...i}=e;return g.createElement(dRe,{...i},g.createElement(XP.Provider,{value:g.useMemo(()=>({size:n}),[n])},t))};Vn.displayName="Select.Root";const Kn=g.forwardRef((e,t)=>{const n=g.useContext(XP),{children:i,className:r,color:a,radius:o,placeholder:l,...c}=Un({size:n==null?void 0:n.size,...e},{size:QP.size},Wje,zi);return g.createElement(fRe,{asChild:!0},g.createElement("button",{"data-accent-color":a,"data-radius":o,...c,ref:t,className:Bt("rt-reset","rt-SelectTrigger",r)},g.createElement("span",{className:"rt-SelectTriggerInner"},g.createElement(hRe,{placeholder:l},i)),g.createElement(pRe,{asChild:!0},g.createElement(Hse,{className:"rt-SelectIcon"}))))});Kn.displayName="Select.Trigger";const Gn=g.forwardRef((e,t)=>{const n=g.useContext(XP),{className:i,children:r,color:a,container:o,...l}=Un({size:n==null?void 0:n.size,...e},{size:QP.size},Jje),c=kse(),u=a||c.accentColor;return g.createElement(mRe,{container:o},g.createElement(Xd,{asChild:!0},g.createElement(yRe,{"data-accent-color":u,sideOffset:4,...l,asChild:!1,ref:t,className:Bt({"rt-PopperContent":l.position==="popper"},"rt-SelectContent",i)},g.createElement(MP,{type:"auto",className:"rt-ScrollAreaRoot"},g.createElement(gRe,{asChild:!0,className:"rt-SelectViewport"},g.createElement(IP,{className:"rt-ScrollAreaViewport",style:{overflowY:void 0}},r)),g.createElement(HA,{className:"rt-ScrollAreaScrollbar rt-r-size-1",orientation:"vertical"},g.createElement(qA,{className:"rt-ScrollAreaThumb"}))))))});Gn.displayName="Select.Content";const wt=g.forwardRef((e,t)=>{const{className:n,children:i,...r}=e;return g.createElement(bRe,{...r,asChild:!1,ref:t,className:Bt("rt-SelectItem",n)},g.createElement(wRe,{className:"rt-SelectItemIndicator"},g.createElement(z2,{className:"rt-SelectItemIndicatorIcon"})),g.createElement(xRe,null,i))});wt.displayName="Select.Item";const Rx=g.forwardRef(({className:e,...t},n)=>g.createElement(vRe,{...t,asChild:!1,ref:n,className:Bt("rt-SelectGroup",e)}));Rx.displayName="Select.Group";const n6=g.forwardRef(({className:e,...t},n)=>g.createElement(SRe,{...t,asChild:!1,ref:n,className:Bt("rt-SelectLabel",e)}));n6.displayName="Select.Label";const Xse=g.forwardRef(({className:e,...t},n)=>g.createElement(ERe,{...t,asChild:!1,ref:n,className:Bt("rt-SelectSeparator",e)}));Xse.displayName="Select.Separator";const Qje=["horizontal","vertical"],Xje=["1","2","3","4"],Zje={orientation:{type:"enum",className:"rt-r-orientation",values:Qje,default:"horizontal",responsive:!0},size:{type:"enum",className:"rt-r-size",values:Xje,default:"1",responsive:!0},color:{...ts.color,default:"gray"},decorative:{type:"boolean",default:!0}},st=g.forwardRef((e,t)=>{const{className:n,color:i,decorative:r,...a}=Un(e,Zje,zi);return g.createElement("span",{"data-accent-color":i,role:r?void 0:"separator",...a,ref:t,className:Bt("rt-Separator",n)})});st.displayName="Separator";const e5e=parseFloat(g.version)>=19||"",t5e={loading:{type:"boolean",default:!0},...Bl,...B2},Di=g.forwardRef((e,t)=>{const{children:n,className:i,loading:r,...a}=Un(e,t5e,zi);if(!r)return n;const o=g.isValidElement(n)?Ku:"span";return g.createElement(o,{ref:t,"aria-hidden":!0,className:Bt("rt-Skeleton",i),"data-inline-skeleton":g.isValidElement(n)?void 0:!0,tabIndex:-1,inert:e5e,...a},n)});Di.displayName="Skeleton";const n5e=["1","2","3"],i5e=["classic","surface","soft"],r5e={size:{type:"enum",className:"rt-r-size",values:n5e,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:i5e,default:"surface"},...ts,...ks,...Hu},i6=g.forwardRef((e,t)=>{const{className:n,color:i,radius:r,tabIndex:a,...o}=Un(e,r5e,zi);return g.createElement(FRe,{"data-accent-color":i,"data-radius":r,ref:t,...o,asChild:!1,className:Bt("rt-SliderRoot",n)},g.createElement(BRe,{className:"rt-SliderTrack"},g.createElement(zRe,{className:Bt("rt-SliderRange",{"rt-high-contrast":e.highContrast}),"data-inverted":o.inverted?"":void 0})),(o.value??o.defaultValue??[]).map((l,c)=>g.createElement(URe,{key:c,className:"rt-SliderThumb",...a!==void 0?{tabIndex:a}:void 0})))});i6.displayName="Slider";const a5e=["1","2","3"],s5e=["classic","surface","soft"],o5e={size:{type:"enum",className:"rt-r-size",values:a5e,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:s5e,default:"surface"},...ts,...ks,...Hu},Ro=g.forwardRef((e,t)=>{const{className:n,color:i,radius:r,...a}=Un(e,o5e,zi);return g.createElement(qRe,{"data-accent-color":i,"data-radius":r,...a,asChild:!1,ref:t,className:Bt("rt-reset","rt-SwitchRoot",n)},g.createElement(WRe,{className:Bt("rt-SwitchThumb",{"rt-high-contrast":e.highContrast})}))});Ro.displayName="Switch";const l5e=["1","2"],c5e=["nowrap","wrap","wrap-reverse"],u5e=["start","center","end"],d5e={size:{type:"enum",className:"rt-r-size",values:l5e,default:"2",responsive:!0},wrap:{type:"enum",className:"rt-r-fw",values:c5e,responsive:!0},justify:{type:"enum",className:"rt-r-jc",values:u5e,responsive:!0},...ts,...ks},f5e=["1","2","3"],h5e=["surface","ghost"],p5e=["auto","fixed"],B3={size:{type:"enum",className:"rt-r-size",values:f5e,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:h5e,default:"ghost"},layout:{type:"enum",className:"rt-r-tl",values:p5e,responsive:!0}},m5e=["start","center","end","baseline"],y5e={align:{type:"enum",className:"rt-r-va",values:m5e,parseValue:g5e,responsive:!0}};function g5e(e){return{baseline:"baseline",start:"top",center:"middle",end:"bottom"}[e]}const v5e=["start","center","end"],ZP={justify:{type:"enum",className:"rt-r-ta",values:v5e,parseValue:S5e,responsive:!0},...Bl,...Zb};function S5e(e){return{start:"left",center:"center",end:"right"}[e]}const Hn=g.forwardRef((e,t)=>{const{layout:n,...i}=B3,{className:r,children:a,layout:o,...l}=Un(e,i,zi),c=_x({value:o,className:B3.layout.className,propValues:B3.layout.values});return g.createElement("div",{ref:t,className:Bt("rt-TableRoot",r),...l},g.createElement(W1,null,g.createElement("table",{className:Bt("rt-TableRootTable",c)},a)))});Hn.displayName="Table.Root";const Qn=g.forwardRef(({className:e,...t},n)=>g.createElement("thead",{...t,ref:n,className:Bt("rt-TableHeader",e)}));Qn.displayName="Table.Header";const qn=g.forwardRef(({className:e,...t},n)=>g.createElement("tbody",{...t,ref:n,className:Bt("rt-TableBody",e)}));qn.displayName="Table.Body";const ht=g.forwardRef((e,t)=>{const{className:n,...i}=Un(e,y5e);return g.createElement("tr",{...i,ref:t,className:Bt("rt-TableRow",n)})});ht.displayName="Table.Row";const Oe=g.forwardRef((e,t)=>{const{className:n,...i}=Un(e,ZP);return g.createElement("td",{className:Bt("rt-TableCell",n),ref:t,...i})});Oe.displayName="Table.Cell";const ze=g.forwardRef((e,t)=>{const{className:n,...i}=Un(e,ZP);return g.createElement("th",{className:Bt("rt-TableCell","rt-TableColumnHeaderCell",n),scope:"col",ref:t,...i})});ze.displayName="Table.ColumnHeaderCell";const r6=g.forwardRef((e,t)=>{const{className:n,...i}=Un(e,ZP);return g.createElement("th",{className:Bt("rt-TableCell","rt-TableRowHeaderCell",n),scope:"row",ref:t,...i})});r6.displayName="Table.RowHeaderCell";const Ud=g.forwardRef((e,t)=>{const{className:n,...i}=Un(e,zi);return g.createElement(QRe,{...i,ref:t,className:Bt("rt-TabsRoot",n)})});Ud.displayName="Tabs.Root";const Vd=g.forwardRef((e,t)=>{const{className:n,color:i,...r}=Un(e,d5e,zi);return g.createElement(XRe,{"data-accent-color":i,...r,asChild:!1,ref:t,className:Bt("rt-BaseTabList","rt-TabsList",n)})});Vd.displayName="Tabs.List";const ii=g.forwardRef((e,t)=>{const{className:n,children:i,...r}=e;return g.createElement(ZRe,{...r,asChild:!1,ref:t,className:Bt("rt-reset","rt-BaseTabListTrigger","rt-TabsTrigger",n)},g.createElement("span",{className:"rt-BaseTabListTriggerInner rt-TabsTriggerInner"},i),g.createElement("span",{className:"rt-BaseTabListTriggerInnerHidden rt-TabsTriggerInnerHidden"},i))});ii.displayName="Tabs.Trigger";const ri=g.forwardRef((e,t)=>{const{className:n,...i}=Un(e,zi);return g.createElement(eNe,{...i,ref:t,className:Bt("rt-TabsContent",n)})});ri.displayName="Tabs.Content";const b5e=["1","2","3"],x5e=["classic","surface","soft"],w5e=["none","vertical","horizontal","both"],E5e={size:{type:"enum",className:"rt-r-size",values:b5e,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:x5e,default:"surface"},resize:{type:"enum",className:"rt-r-resize",values:w5e,responsive:!0},...ts,...Hu},Ci=g.forwardRef((e,t)=>{const{className:n,color:i,radius:r,style:a,...o}=Un(e,E5e,zi);return g.createElement("div",{"data-accent-color":i,"data-radius":r,className:Bt("rt-TextAreaRoot",n),style:a},g.createElement("textarea",{className:"rt-reset rt-TextAreaInput",ref:t,...o}))});Ci.displayName="TextArea";const _5e=["1","2","3"],A5e=["classic","surface","soft"],R5e={size:{type:"enum",className:"rt-r-size",values:_5e,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:A5e,default:"surface"},...ts,...Hu},N5e=["left","right"],O5e={side:{type:"enum",values:N5e},...ts,gap:zse.gap,px:Zb.px,pl:Zb.pl,pr:Zb.pr},qe=g.forwardRef((e,t)=>{const n=g.useRef(null),{children:i,className:r,color:a,radius:o,style:l,...c}=Un(e,R5e,zi);return g.createElement("div",{"data-accent-color":a,"data-radius":o,style:l,className:Bt("rt-TextFieldRoot",r),onPointerDown:u=>{const d=u.target;if(d.closest("input, button, a"))return;const h=n.current;if(!h)return;const m=d.closest(`
            .rt-TextFieldSlot[data-side='right'],
            .rt-TextFieldSlot:not([data-side='right']) ~ .rt-TextFieldSlot:not([data-side='left'])
          `)?h.value.length:0;requestAnimationFrame(()=>{try{h.setSelectionRange(m,m)}catch{}h.focus()})}},g.createElement("input",{spellCheck:"false",...c,ref:R2(n,t),className:"rt-reset rt-TextFieldInput"}),i)});qe.displayName="TextField.Root";const Sr=g.forwardRef((e,t)=>{const{className:n,color:i,side:r,...a}=Un(e,O5e);return g.createElement("div",{"data-accent-color":i,"data-side":r,...a,ref:t,className:Bt("rt-TextFieldSlot",n)})});Sr.displayName="TextField.Slot";const j5e={content:{type:"ReactNode",required:!0},width:Bl.width,minWidth:Bl.minWidth,maxWidth:{...Bl.maxWidth,default:"360px"}},ju=g.forwardRef((e,t)=>{const{children:n,className:i,open:r,defaultOpen:a,onOpenChange:o,delayDuration:l,disableHoverableContent:c,content:u,container:d,forceMount:h,...m}=Un(e,j5e),p={open:r,defaultOpen:a,onOpenChange:o,delayDuration:l,disableHoverableContent:c};return g.createElement(HNe,{...p},g.createElement(qNe,{asChild:!0},n),g.createElement(WNe,{container:d,forceMount:h},g.createElement(Xd,{asChild:!0},g.createElement(YNe,{sideOffset:4,collisionPadding:10,...m,asChild:!1,ref:t,className:Bt("rt-TooltipContent",i)},g.createElement(L,{as:"p",className:"rt-TooltipText",size:"1"},u),g.createElement(JNe,{className:"rt-TooltipArrow"})))))});ju.displayName="Tooltip";const en=Pt.createContext({});var D5e=Object.defineProperty,_z=Object.getOwnPropertySymbols,C5e=Object.prototype.hasOwnProperty,L5e=Object.prototype.propertyIsEnumerable,Az=(e,t,n)=>t in e?D5e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,z3=(e,t)=>{for(var n in t||(t={}))C5e.call(t,n)&&Az(e,n,t[n]);if(_z)for(var n of _z(t))L5e.call(t,n)&&Az(e,n,t[n]);return e};const T5e=(e,t)=>{const n=g.useContext(en),i=z3(z3({},n),e);return g.createElement("svg",z3({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M3 12H6L9 3L15 21L18 12H21",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},M5e=g.forwardRef(T5e);var I5e=M5e,P5e=Object.defineProperty,Rz=Object.getOwnPropertySymbols,k5e=Object.prototype.hasOwnProperty,$5e=Object.prototype.propertyIsEnumerable,Nz=(e,t,n)=>t in e?P5e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,U3=(e,t)=>{for(var n in t||(t={}))k5e.call(t,n)&&Nz(e,n,t[n]);if(Rz)for(var n of Rz(t))$5e.call(t,n)&&Nz(e,n,t[n]);return e};const F5e=(e,t)=>{const n=g.useContext(en),i=U3(U3({},n),e);return g.createElement("svg",U3({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M7 6L17 6",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M7 9L17 9",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M9 17H15",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M3 12H2.6C2.26863 12 2 12.2686 2 12.6V21.4C2 21.7314 2.26863 22 2.6 22H21.4C21.7314 22 22 21.7314 22 21.4V12.6C22 12.2686 21.7314 12 21.4 12H21M3 12V2.6C3 2.26863 3.26863 2 3.6 2H20.4C20.7314 2 21 2.26863 21 2.6V12M3 12H21",stroke:"currentColor"}))},B5e=g.forwardRef(F5e);var a6=B5e,z5e=Object.defineProperty,Oz=Object.getOwnPropertySymbols,U5e=Object.prototype.hasOwnProperty,V5e=Object.prototype.propertyIsEnumerable,jz=(e,t,n)=>t in e?z5e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,V3=(e,t)=>{for(var n in t||(t={}))U5e.call(t,n)&&jz(e,n,t[n]);if(Oz)for(var n of Oz(t))V5e.call(t,n)&&jz(e,n,t[n]);return e};const K5e=(e,t)=>{const n=g.useContext(en),i=V3(V3({},n),e);return g.createElement("svg",V3({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M12 3L12 21M12 21L20.5 12.5M12 21L3.5 12.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},G5e=g.forwardRef(K5e);var Ml=G5e,H5e=Object.defineProperty,Dz=Object.getOwnPropertySymbols,q5e=Object.prototype.hasOwnProperty,W5e=Object.prototype.propertyIsEnumerable,Cz=(e,t,n)=>t in e?H5e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,K3=(e,t)=>{for(var n in t||(t={}))q5e.call(t,n)&&Cz(e,n,t[n]);if(Dz)for(var n of Dz(t))W5e.call(t,n)&&Cz(e,n,t[n]);return e};const Y5e=(e,t)=>{const n=g.useContext(en),i=K3(K3({},n),e);return g.createElement("svg",K3({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M3 12L21 12M21 12L12.5 3.5M21 12L12.5 20.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},J5e=g.forwardRef(Y5e);var jg=J5e,Q5e=Object.defineProperty,Lz=Object.getOwnPropertySymbols,X5e=Object.prototype.hasOwnProperty,Z5e=Object.prototype.propertyIsEnumerable,Tz=(e,t,n)=>t in e?Q5e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,G3=(e,t)=>{for(var n in t||(t={}))X5e.call(t,n)&&Tz(e,n,t[n]);if(Lz)for(var n of Lz(t))Z5e.call(t,n)&&Tz(e,n,t[n]);return e};const e3e=(e,t)=>{const n=g.useContext(en),i=G3(G3({},n),e);return g.createElement("svg",G3({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M12 21L12 3M12 3L20.5 11.5M12 3L3.5 11.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},t3e=g.forwardRef(e3e);var Eu=t3e,n3e=Object.defineProperty,Mz=Object.getOwnPropertySymbols,i3e=Object.prototype.hasOwnProperty,r3e=Object.prototype.propertyIsEnumerable,Iz=(e,t,n)=>t in e?n3e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,H3=(e,t)=>{for(var n in t||(t={}))i3e.call(t,n)&&Iz(e,n,t[n]);if(Mz)for(var n of Mz(t))r3e.call(t,n)&&Iz(e,n,t[n]);return e};const a3e=(e,t)=>{const n=g.useContext(en),i=H3(H3({},n),e);return g.createElement("svg",H3({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M18 8.4C18 6.70261 17.3679 5.07475 16.2426 3.87452C15.1174 2.67428 13.5913 2 12 2C10.4087 2 8.88258 2.67428 7.75736 3.87452C6.63214 5.07475 6 6.70261 6 8.4C6 15.8667 3 18 3 18H21C21 18 18 15.8667 18 8.4Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M13.73 21C13.5542 21.3031 13.3019 21.5547 12.9982 21.7295C12.6946 21.9044 12.3504 21.9965 12 21.9965C11.6496 21.9965 11.3054 21.9044 11.0018 21.7295C10.6982 21.5547 10.4458 21.3031 10.27 21",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},s3e=g.forwardRef(a3e);var o3e=s3e,l3e=Object.defineProperty,Pz=Object.getOwnPropertySymbols,c3e=Object.prototype.hasOwnProperty,u3e=Object.prototype.propertyIsEnumerable,kz=(e,t,n)=>t in e?l3e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,q3=(e,t)=>{for(var n in t||(t={}))c3e.call(t,n)&&kz(e,n,t[n]);if(Pz)for(var n of Pz(t))u3e.call(t,n)&&kz(e,n,t[n]);return e};const d3e=(e,t)=>{const n=g.useContext(en),i=q3(q3({},n),e);return g.createElement("svg",q3({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M2.6954 7.18536L11.6954 11.1854L12.3046 9.81464L3.3046 5.81464L2.6954 7.18536ZM12.75 21.5V10.5H11.25V21.5H12.75ZM12.3046 11.1854L21.3046 7.18536L20.6954 5.81464L11.6954 9.81464L12.3046 11.1854Z",fill:"currentColor"}),g.createElement("path",{d:"M3 17.1101V6.88992C3 6.65281 3.13964 6.43794 3.35632 6.34164L11.7563 2.6083C11.9115 2.53935 12.0885 2.53935 12.2437 2.6083L20.6437 6.34164C20.8604 6.43794 21 6.65281 21 6.88992V17.1101C21 17.3472 20.8604 17.5621 20.6437 17.6584L12.2437 21.3917C12.0885 21.4606 11.9115 21.4606 11.7563 21.3917L3.35632 17.6584C3.13964 17.5621 3 17.3472 3 17.1101Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M7.5 4.5L16.1437 8.34164C16.3604 8.43794 16.5 8.65281 16.5 8.88992V12.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},f3e=g.forwardRef(d3e);var Zse=f3e,h3e=Object.defineProperty,$z=Object.getOwnPropertySymbols,p3e=Object.prototype.hasOwnProperty,m3e=Object.prototype.propertyIsEnumerable,Fz=(e,t,n)=>t in e?h3e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,W3=(e,t)=>{for(var n in t||(t={}))p3e.call(t,n)&&Fz(e,n,t[n]);if($z)for(var n of $z(t))m3e.call(t,n)&&Fz(e,n,t[n]);return e};const y3e=(e,t)=>{const n=g.useContext(en),i=W3(W3({},n),e);return g.createElement("svg",W3({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M10 9.01L10.01 8.99889",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M14 9.01L14.01 8.99889",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M10 13.01L10.01 12.9989",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M14 13.01L14.01 12.9989",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M10 17.01L10.01 16.9989",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M14 17.01L14.01 16.9989",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M6 20.4V5.6C6 5.26863 6.26863 5 6.6 5H12V3.6C12 3.26863 12.2686 3 12.6 3H17.4C17.7314 3 18 3.26863 18 3.6V20.4C18 20.7314 17.7314 21 17.4 21H6.6C6.26863 21 6 20.7314 6 20.4Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},g3e=g.forwardRef(y3e);var eoe=g3e,v3e=Object.defineProperty,Bz=Object.getOwnPropertySymbols,S3e=Object.prototype.hasOwnProperty,b3e=Object.prototype.propertyIsEnumerable,zz=(e,t,n)=>t in e?v3e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Y3=(e,t)=>{for(var n in t||(t={}))S3e.call(t,n)&&zz(e,n,t[n]);if(Bz)for(var n of Bz(t))b3e.call(t,n)&&zz(e,n,t[n]);return e};const x3e=(e,t)=>{const n=g.useContext(en),i=Y3(Y3({},n),e);return g.createElement("svg",Y3({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M15 21H5C3.89543 21 3 20.1046 3 19V10H21V15M15 4V2M15 4V6M15 4H10.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M3 10V6C3 4.89543 3.89543 4 5 4H7",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M7 2V6",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M21 10V6C21 4.89543 20.1046 4 19 4H18.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M18 22.2426L20.1213 20.1213M20.1213 20.1213L22.2426 18M20.1213 20.1213L18 18M20.1213 20.1213L22.2426 22.2426",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},w3e=g.forwardRef(x3e);var E3e=w3e,_3e=Object.defineProperty,Uz=Object.getOwnPropertySymbols,A3e=Object.prototype.hasOwnProperty,R3e=Object.prototype.propertyIsEnumerable,Vz=(e,t,n)=>t in e?_3e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,J3=(e,t)=>{for(var n in t||(t={}))A3e.call(t,n)&&Vz(e,n,t[n]);if(Uz)for(var n of Uz(t))R3e.call(t,n)&&Vz(e,n,t[n]);return e};const N3e=(e,t)=>{const n=g.useContext(en),i=J3(J3({},n),e);return g.createElement("svg",J3({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M15 4V2M15 4V6M15 4H10.5M3 10V19C3 20.1046 3.89543 21 5 21H19C20.1046 21 21 20.1046 21 19V10H3Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M3 10V6C3 4.89543 3.89543 4 5 4H7",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M7 2V6",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M21 10V6C21 4.89543 20.1046 4 19 4H18.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},O3e=g.forwardRef(N3e);var Fu=O3e,j3e=Object.defineProperty,Kz=Object.getOwnPropertySymbols,D3e=Object.prototype.hasOwnProperty,C3e=Object.prototype.propertyIsEnumerable,Gz=(e,t,n)=>t in e?j3e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Q3=(e,t)=>{for(var n in t||(t={}))D3e.call(t,n)&&Gz(e,n,t[n]);if(Kz)for(var n of Kz(t))C3e.call(t,n)&&Gz(e,n,t[n]);return e};const L3e=(e,t)=>{const n=g.useContext(en),i=Q3(Q3({},n),e);return g.createElement("svg",Q3({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M2 19V9C2 7.89543 2.89543 7 4 7H4.5C5.12951 7 5.72229 6.70361 6.1 6.2L8.32 3.24C8.43331 3.08892 8.61115 3 8.8 3H15.2C15.3889 3 15.5667 3.08892 15.68 3.24L17.9 6.2C18.2777 6.70361 18.8705 7 19.5 7H20C21.1046 7 22 7.89543 22 9V19C22 20.1046 21.1046 21 20 21H4C2.89543 21 2 20.1046 2 19Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M12 17C14.2091 17 16 15.2091 16 13C16 10.7909 14.2091 9 12 9C9.79086 9 8 10.7909 8 13C8 15.2091 9.79086 17 12 17Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},T3e=g.forwardRef(L3e);var s6=T3e,M3e=Object.defineProperty,Hz=Object.getOwnPropertySymbols,I3e=Object.prototype.hasOwnProperty,P3e=Object.prototype.propertyIsEnumerable,qz=(e,t,n)=>t in e?M3e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,X3=(e,t)=>{for(var n in t||(t={}))I3e.call(t,n)&&qz(e,n,t[n]);if(Hz)for(var n of Hz(t))P3e.call(t,n)&&qz(e,n,t[n]);return e};const k3e=(e,t)=>{const n=g.useContext(en),i=X3(X3({},n),e);return g.createElement("svg",X3({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M8 10L16 10",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M7 14L8 14",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M16 14L17 14",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M3 18V11.4105C3 11.1397 3.05502 10.8716 3.16171 10.6227L5.4805 5.21216C5.79566 4.47679 6.51874 4 7.31879 4H16.6812C17.4813 4 18.2043 4.47679 18.5195 5.21216L20.8383 10.6227C20.945 10.8716 21 11.1397 21 11.4105V18M3 18V20.4C3 20.7314 3.26863 21 3.6 21H6.4C6.73137 21 7 20.7314 7 20.4V18M3 18H7M21 18V20.4C21 20.7314 20.7314 21 20.4 21H17.6C17.2686 21 17 20.7314 17 20.4V18M21 18H17M7 18H17",stroke:"currentColor"}))},$3e=g.forwardRef(k3e);var V2=$3e,F3e=Object.defineProperty,Wz=Object.getOwnPropertySymbols,B3e=Object.prototype.hasOwnProperty,z3e=Object.prototype.propertyIsEnumerable,Yz=(e,t,n)=>t in e?F3e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Z3=(e,t)=>{for(var n in t||(t={}))B3e.call(t,n)&&Yz(e,n,t[n]);if(Wz)for(var n of Wz(t))z3e.call(t,n)&&Yz(e,n,t[n]);return e};const U3e=(e,t)=>{const n=g.useContext(en),i=Z3(Z3({},n),e);return g.createElement("svg",Z3({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M9 9C9 5.49997 14.5 5.5 14.5 9C14.5 11.5 12 10.9999 12 13.9999",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M12 18.01L12.01 17.9989",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 13.8214 2.48697 15.5291 3.33782 17L2.5 21.5L7 20.6622C8.47087 21.513 10.1786 22 12 22Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},V3e=g.forwardRef(U3e);var K3e=V3e,G3e=Object.defineProperty,Jz=Object.getOwnPropertySymbols,H3e=Object.prototype.hasOwnProperty,q3e=Object.prototype.propertyIsEnumerable,Qz=(e,t,n)=>t in e?G3e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,eD=(e,t)=>{for(var n in t||(t={}))H3e.call(t,n)&&Qz(e,n,t[n]);if(Jz)for(var n of Jz(t))q3e.call(t,n)&&Qz(e,n,t[n]);return e};const W3e=(e,t)=>{const n=g.useContext(en),i=eD(eD({},n),e);return g.createElement("svg",eD({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M7 12.5L10 15.5L17 8.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},Y3e=g.forwardRef(W3e);var Ic=Y3e,J3e=Object.defineProperty,Xz=Object.getOwnPropertySymbols,Q3e=Object.prototype.hasOwnProperty,X3e=Object.prototype.propertyIsEnumerable,Zz=(e,t,n)=>t in e?J3e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tD=(e,t)=>{for(var n in t||(t={}))Q3e.call(t,n)&&Zz(e,n,t[n]);if(Xz)for(var n of Xz(t))X3e.call(t,n)&&Zz(e,n,t[n]);return e};const Z3e=(e,t)=>{const n=g.useContext(en),i=tD(tD({},n),e);return g.createElement("svg",tD({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M5 13L9 17L19 7",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},eDe=g.forwardRef(Z3e);var el=eDe,tDe=Object.defineProperty,eU=Object.getOwnPropertySymbols,nDe=Object.prototype.hasOwnProperty,iDe=Object.prototype.propertyIsEnumerable,tU=(e,t,n)=>t in e?tDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nD=(e,t)=>{for(var n in t||(t={}))nDe.call(t,n)&&tU(e,n,t[n]);if(eU)for(var n of eU(t))iDe.call(t,n)&&tU(e,n,t[n]);return e};const rDe=(e,t)=>{const n=g.useContext(en),i=nD(nD({},n),e);return g.createElement("svg",nD({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M12 6L12 12L18 12",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},aDe=g.forwardRef(rDe);var sDe=aDe,oDe=Object.defineProperty,nU=Object.getOwnPropertySymbols,lDe=Object.prototype.hasOwnProperty,cDe=Object.prototype.propertyIsEnumerable,iU=(e,t,n)=>t in e?oDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,iD=(e,t)=>{for(var n in t||(t={}))lDe.call(t,n)&&iU(e,n,t[n]);if(nU)for(var n of nU(t))cDe.call(t,n)&&iU(e,n,t[n]);return e};const uDe=(e,t)=>{const n=g.useContext(en),i=iD(iD({},n),e);return g.createElement("svg",iD({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M19.4 20H9.6C9.26863 20 9 19.7314 9 19.4V9.6C9 9.26863 9.26863 9 9.6 9H19.4C19.7314 9 20 9.26863 20 9.6V19.4C20 19.7314 19.7314 20 19.4 20Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M15 9V4.6C15 4.26863 14.7314 4 14.4 4H4.6C4.26863 4 4 4.26863 4 4.6V14.4C4 14.7314 4.26863 15 4.6 15H9",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},dDe=g.forwardRef(uDe);var toe=dDe,fDe=Object.defineProperty,rU=Object.getOwnPropertySymbols,hDe=Object.prototype.hasOwnProperty,pDe=Object.prototype.propertyIsEnumerable,aU=(e,t,n)=>t in e?fDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rD=(e,t)=>{for(var n in t||(t={}))hDe.call(t,n)&&aU(e,n,t[n]);if(rU)for(var n of rU(t))pDe.call(t,n)&&aU(e,n,t[n]);return e};const mDe=(e,t)=>{const n=g.useContext(en),i=rD(rD({},n),e);return g.createElement("svg",rD({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M6 20L18 20",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M12 4V16M12 16L15.5 12.5M12 16L8.5 12.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},yDe=g.forwardRef(mDe);var x1=yDe,gDe=Object.defineProperty,sU=Object.getOwnPropertySymbols,vDe=Object.prototype.hasOwnProperty,SDe=Object.prototype.propertyIsEnumerable,oU=(e,t,n)=>t in e?gDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,aD=(e,t)=>{for(var n in t||(t={}))vDe.call(t,n)&&oU(e,n,t[n]);if(sU)for(var n of sU(t))SDe.call(t,n)&&oU(e,n,t[n]);return e};const bDe=(e,t)=>{const n=g.useContext(en),i=aD(aD({},n),e);return g.createElement("svg",aD({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M14.3632 5.65156L15.8431 4.17157C16.6242 3.39052 17.8905 3.39052 18.6716 4.17157L20.0858 5.58579C20.8668 6.36683 20.8668 7.63316 20.0858 8.41421L18.6058 9.8942M14.3632 5.65156L4.74749 15.2672C4.41542 15.5993 4.21079 16.0376 4.16947 16.5054L3.92738 19.2459C3.87261 19.8659 4.39148 20.3848 5.0115 20.33L7.75191 20.0879C8.21972 20.0466 8.65806 19.8419 8.99013 19.5099L18.6058 9.8942M14.3632 5.65156L18.6058 9.8942",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},xDe=g.forwardRef(bDe);var o6=xDe,wDe=Object.defineProperty,lU=Object.getOwnPropertySymbols,EDe=Object.prototype.hasOwnProperty,_De=Object.prototype.propertyIsEnumerable,cU=(e,t,n)=>t in e?wDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sD=(e,t)=>{for(var n in t||(t={}))EDe.call(t,n)&&cU(e,n,t[n]);if(lU)for(var n of lU(t))_De.call(t,n)&&cU(e,n,t[n]);return e};const ADe=(e,t)=>{const n=g.useContext(en),i=sD(sD({},n),e);return g.createElement("svg",sD({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M3 21L12 21H21",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M12.2218 5.82839L15.0503 2.99996L20 7.94971L17.1716 10.7781M12.2218 5.82839L6.61522 11.435C6.42769 11.6225 6.32233 11.8769 6.32233 12.1421L6.32233 16.6776L10.8579 16.6776C11.1231 16.6776 11.3774 16.5723 11.565 16.3847L17.1716 10.7781M12.2218 5.82839L17.1716 10.7781",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},RDe=g.forwardRef(ADe);var gi=RDe,NDe=Object.defineProperty,uU=Object.getOwnPropertySymbols,ODe=Object.prototype.hasOwnProperty,jDe=Object.prototype.propertyIsEnumerable,dU=(e,t,n)=>t in e?NDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oD=(e,t)=>{for(var n in t||(t={}))ODe.call(t,n)&&dU(e,n,t[n]);if(uU)for(var n of uU(t))jDe.call(t,n)&&dU(e,n,t[n]);return e};const DDe=(e,t)=>{const n=g.useContext(en),i=oD(oD({},n),e);return g.createElement("svg",oD({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M3 13C6.6 5 17.4 5 21 13",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M12 17C10.3431 17 9 15.6569 9 14C9 12.3431 10.3431 11 12 11C13.6569 11 15 12.3431 15 14C15 15.6569 13.6569 17 12 17Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},CDe=g.forwardRef(DDe);var Nx=CDe,LDe=Object.defineProperty,fU=Object.getOwnPropertySymbols,TDe=Object.prototype.hasOwnProperty,MDe=Object.prototype.propertyIsEnumerable,hU=(e,t,n)=>t in e?LDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lD=(e,t)=>{for(var n in t||(t={}))TDe.call(t,n)&&hU(e,n,t[n]);if(fU)for(var n of fU(t))MDe.call(t,n)&&hU(e,n,t[n]);return e};const IDe=(e,t)=>{const n=g.useContext(en),i=lD(lD({},n),e);return g.createElement("svg",lD({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M3.99961 3H19.9997C20.552 3 20.9997 3.44764 20.9997 3.99987L20.9999 5.58569C21 5.85097 20.8946 6.10538 20.707 6.29295L14.2925 12.7071C14.105 12.8946 13.9996 13.149 13.9996 13.4142L13.9996 19.7192C13.9996 20.3698 13.3882 20.8472 12.7571 20.6894L10.7571 20.1894C10.3119 20.0781 9.99961 19.6781 9.99961 19.2192L9.99961 13.4142C9.99961 13.149 9.89425 12.8946 9.70672 12.7071L3.2925 6.29289C3.10496 6.10536 2.99961 5.851 2.99961 5.58579V4C2.99961 3.44772 3.44732 3 3.99961 3Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},PDe=g.forwardRef(IDe);var kDe=PDe,$De=Object.defineProperty,pU=Object.getOwnPropertySymbols,FDe=Object.prototype.hasOwnProperty,BDe=Object.prototype.propertyIsEnumerable,mU=(e,t,n)=>t in e?$De(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cD=(e,t)=>{for(var n in t||(t={}))FDe.call(t,n)&&mU(e,n,t[n]);if(pU)for(var n of pU(t))BDe.call(t,n)&&mU(e,n,t[n]);return e};const zDe=(e,t)=>{const n=g.useContext(en),i=cD(cD({},n),e);return g.createElement("svg",cD({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M19 3L5 3C3.89543 3 3 3.89543 3 5L3 19C3 20.1046 3.89543 21 5 21H19C20.1046 21 21 20.1046 21 19V5C21 3.89543 20.1046 3 19 3Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M7 7L17 7",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M7 12L17 12",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M7 17L13 17",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},UDe=g.forwardRef(zDe);var og=UDe,VDe=Object.defineProperty,yU=Object.getOwnPropertySymbols,KDe=Object.prototype.hasOwnProperty,GDe=Object.prototype.propertyIsEnumerable,gU=(e,t,n)=>t in e?VDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uD=(e,t)=>{for(var n in t||(t={}))KDe.call(t,n)&&gU(e,n,t[n]);if(yU)for(var n of yU(t))GDe.call(t,n)&&gU(e,n,t[n]);return e};const HDe=(e,t)=>{const n=g.useContext(en),i=uD(uD({},n),e);return g.createElement("svg",uD({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M1 20V19C1 15.134 4.13401 12 8 12V12C11.866 12 15 15.134 15 19V20",stroke:"currentColor",strokeLinecap:"round"}),g.createElement("path",{d:"M13 14V14C13 11.2386 15.2386 9 18 9V9C20.7614 9 23 11.2386 23 14V14.5",stroke:"currentColor",strokeLinecap:"round"}),g.createElement("path",{d:"M8 12C10.2091 12 12 10.2091 12 8C12 5.79086 10.2091 4 8 4C5.79086 4 4 5.79086 4 8C4 10.2091 5.79086 12 8 12Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M18 9C19.6569 9 21 7.65685 21 6C21 4.34315 19.6569 3 18 3C16.3431 3 15 4.34315 15 6C15 7.65685 16.3431 9 18 9Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},qDe=g.forwardRef(HDe);var noe=qDe,WDe=Object.defineProperty,vU=Object.getOwnPropertySymbols,YDe=Object.prototype.hasOwnProperty,JDe=Object.prototype.propertyIsEnumerable,SU=(e,t,n)=>t in e?WDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dD=(e,t)=>{for(var n in t||(t={}))YDe.call(t,n)&&SU(e,n,t[n]);if(vU)for(var n of vU(t))JDe.call(t,n)&&SU(e,n,t[n]);return e};const QDe=(e,t)=>{const n=g.useContext(en),i=dD(dD({},n),e);return g.createElement("svg",dD({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M3 11.5066C3 16.7497 7.25034 21 12.4934 21C16.2209 21 19.4466 18.8518 21 15.7259C12.4934 15.7259 8.27411 11.5066 8.27411 3C5.14821 4.55344 3 7.77915 3 11.5066Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},XDe=g.forwardRef(QDe);var ZDe=XDe,eCe=Object.defineProperty,bU=Object.getOwnPropertySymbols,tCe=Object.prototype.hasOwnProperty,nCe=Object.prototype.propertyIsEnumerable,xU=(e,t,n)=>t in e?eCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fD=(e,t)=>{for(var n in t||(t={}))tCe.call(t,n)&&xU(e,n,t[n]);if(bU)for(var n of bU(t))nCe.call(t,n)&&xU(e,n,t[n]);return e};const iCe=(e,t)=>{const n=g.useContext(en),i=fD(fD({},n),e);return g.createElement("svg",fD({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M22 8.86222C22 10.4087 21.4062 11.8941 20.3458 12.9929C17.9049 15.523 15.5374 18.1613 13.0053 20.5997C12.4249 21.1505 11.5042 21.1304 10.9488 20.5547L3.65376 12.9929C1.44875 10.7072 1.44875 7.01723 3.65376 4.73157C5.88044 2.42345 9.50794 2.42345 11.7346 4.73157L11.9998 5.00642L12.2648 4.73173C13.3324 3.6245 14.7864 3 16.3053 3C17.8242 3 19.2781 3.62444 20.3458 4.73157C21.4063 5.83045 22 7.31577 22 8.86222Z",stroke:"currentColor",strokeLinejoin:"round"}))},rCe=g.forwardRef(iCe);var wU=rCe,aCe=Object.defineProperty,EU=Object.getOwnPropertySymbols,sCe=Object.prototype.hasOwnProperty,oCe=Object.prototype.propertyIsEnumerable,_U=(e,t,n)=>t in e?aCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hD=(e,t)=>{for(var n in t||(t={}))sCe.call(t,n)&&_U(e,n,t[n]);if(EU)for(var n of EU(t))oCe.call(t,n)&&_U(e,n,t[n]);return e};const lCe=(e,t)=>{const n=g.useContext(en),i=hD(hD({},n),e);return g.createElement("svg",hD({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M10 18V15C10 13.8954 10.8954 13 12 13V13C13.1046 13 14 13.8954 14 15V18",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M2 8L11.7317 3.13416C11.9006 3.04971 12.0994 3.0497 12.2683 3.13416L22 8",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M20 11V19C20 20.1046 19.1046 21 18 21H6C4.89543 21 4 20.1046 4 19V11",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},cCe=g.forwardRef(lCe);var uCe=cCe,dCe=Object.defineProperty,AU=Object.getOwnPropertySymbols,fCe=Object.prototype.hasOwnProperty,hCe=Object.prototype.propertyIsEnumerable,RU=(e,t,n)=>t in e?dCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pD=(e,t)=>{for(var n in t||(t={}))fCe.call(t,n)&&RU(e,n,t[n]);if(AU)for(var n of AU(t))hCe.call(t,n)&&RU(e,n,t[n]);return e};const pCe=(e,t)=>{const n=g.useContext(en),i=pD(pD({},n),e);return g.createElement("svg",pD({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M4 13V19C4 20.1046 4.89543 21 6 21H18C19.1046 21 20 20.1046 20 19V13",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M12 3L12 15M12 15L8.5 11.5M12 15L15.5 11.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},mCe=g.forwardRef(pCe);var yCe=mCe,gCe=Object.defineProperty,NU=Object.getOwnPropertySymbols,vCe=Object.prototype.hasOwnProperty,SCe=Object.prototype.propertyIsEnumerable,OU=(e,t,n)=>t in e?gCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mD=(e,t)=>{for(var n in t||(t={}))vCe.call(t,n)&&OU(e,n,t[n]);if(NU)for(var n of NU(t))SCe.call(t,n)&&OU(e,n,t[n]);return e};const bCe=(e,t)=>{const n=g.useContext(en),i=mD(mD({},n),e);return g.createElement("svg",mD({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M12 11.5V16.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M12 7.51L12.01 7.49889",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},xCe=g.forwardRef(bCe);var K2=xCe,wCe=Object.defineProperty,jU=Object.getOwnPropertySymbols,ECe=Object.prototype.hasOwnProperty,_Ce=Object.prototype.propertyIsEnumerable,DU=(e,t,n)=>t in e?wCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yD=(e,t)=>{for(var n in t||(t={}))ECe.call(t,n)&&DU(e,n,t[n]);if(jU)for(var n of jU(t))_Ce.call(t,n)&&DU(e,n,t[n]);return e};const ACe=(e,t)=>{const n=g.useContext(en),i=yD(yD({},n),e);return g.createElement("svg",yD({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M7.14286 16.9953C6.75006 16.9953 6.36756 16.9525 6 16.8715C3.70973 16.3665 2 14.3761 2 11.9977C2 9.284 4.22573 7.07548 7 7.00195",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M13.3184 9.63429C12.7858 8.73635 11.9737 7.96977 11 7.4989",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M16.8571 6.99999C17.2499 6.99999 17.6324 7.04278 18 7.12383C20.2903 7.62884 22 9.6192 22 11.9976C22 14.7577 19.6975 16.9952 16.8571 16.9952C16.581 16.9952 15.4776 16.9952 15.1429 16.9952C12.317 16.9952 10 14.4893 10 11.9976C10 11.9976 10 11 10.5 10.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M3 3L21 21",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},RCe=g.forwardRef(ACe);var l6=RCe,NCe=Object.defineProperty,CU=Object.getOwnPropertySymbols,OCe=Object.prototype.hasOwnProperty,jCe=Object.prototype.propertyIsEnumerable,LU=(e,t,n)=>t in e?NCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gD=(e,t)=>{for(var n in t||(t={}))OCe.call(t,n)&&LU(e,n,t[n]);if(CU)for(var n of CU(t))jCe.call(t,n)&&LU(e,n,t[n]);return e};const DCe=(e,t)=>{const n=g.useContext(en),i=gD(gD({},n),e);return g.createElement("svg",gD({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M14 11.9976C14 9.5059 11.683 7 8.85714 7C8.52241 7 7.41904 7.00001 7.14286 7.00001C4.30254 7.00001 2 9.23752 2 11.9976C2 14.376 3.70973 16.3664 6 16.8714C6.36756 16.9525 6.75006 16.9952 7.14286 16.9952",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M10 11.9976C10 14.4893 12.317 16.9952 15.1429 16.9952C15.4776 16.9952 16.581 16.9952 16.8571 16.9952C19.6975 16.9952 22 14.7577 22 11.9976C22 9.6192 20.2903 7.62884 18 7.12383C17.6324 7.04278 17.2499 6.99999 16.8571 6.99999",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},CCe=g.forwardRef(DCe);var ZA=CCe,LCe=Object.defineProperty,TU=Object.getOwnPropertySymbols,TCe=Object.prototype.hasOwnProperty,MCe=Object.prototype.propertyIsEnumerable,MU=(e,t,n)=>t in e?LCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vD=(e,t)=>{for(var n in t||(t={}))TCe.call(t,n)&&MU(e,n,t[n]);if(TU)for(var n of TU(t))MCe.call(t,n)&&MU(e,n,t[n]);return e};const ICe=(e,t)=>{const n=g.useContext(en),i=vD(vD({},n),e);return g.createElement("svg",vD({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M8 6L20 6",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M4 6.01L4.01 5.99889",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M4 12.01L4.01 11.9989",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M4 18.01L4.01 17.9989",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M8 12L20 12",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M8 18L20 18",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},PCe=g.forwardRef(ICe);var e8=PCe,kCe=Object.defineProperty,IU=Object.getOwnPropertySymbols,$Ce=Object.prototype.hasOwnProperty,FCe=Object.prototype.propertyIsEnumerable,PU=(e,t,n)=>t in e?kCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,SD=(e,t)=>{for(var n in t||(t={}))$Ce.call(t,n)&&PU(e,n,t[n]);if(IU)for(var n of IU(t))FCe.call(t,n)&&PU(e,n,t[n]);return e};const BCe=(e,t)=>{const n=g.useContext(en),i=SD(SD({},n),e);return g.createElement("svg",SD({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M16 12H17.4C17.7314 12 18 12.2686 18 12.6V19.4C18 19.7314 17.7314 20 17.4 20H6.6C6.26863 20 6 19.7314 6 19.4V12.6C6 12.2686 6.26863 12 6.6 12H8M16 12V8C16 6.66667 15.2 4 12 4C8.8 4 8 6.66667 8 8V12M16 12H8",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},zCe=g.forwardRef(BCe);var w1=zCe,UCe=Object.defineProperty,kU=Object.getOwnPropertySymbols,VCe=Object.prototype.hasOwnProperty,KCe=Object.prototype.propertyIsEnumerable,$U=(e,t,n)=>t in e?UCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bD=(e,t)=>{for(var n in t||(t={}))VCe.call(t,n)&&$U(e,n,t[n]);if(kU)for(var n of kU(t))KCe.call(t,n)&&$U(e,n,t[n]);return e};const GCe=(e,t)=>{const n=g.useContext(en),i=bD(bD({},n),e);return g.createElement("svg",bD({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M7 9L12 12.5L17 9",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M2 17V7C2 5.89543 2.89543 5 4 5H20C21.1046 5 22 5.89543 22 7V17C22 18.1046 21.1046 19 20 19H4C2.89543 19 2 18.1046 2 17Z",stroke:"currentColor"}))},HCe=g.forwardRef(GCe);var FU=HCe,qCe=Object.defineProperty,BU=Object.getOwnPropertySymbols,WCe=Object.prototype.hasOwnProperty,YCe=Object.prototype.propertyIsEnumerable,zU=(e,t,n)=>t in e?qCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xD=(e,t)=>{for(var n in t||(t={}))WCe.call(t,n)&&zU(e,n,t[n]);if(BU)for(var n of BU(t))YCe.call(t,n)&&zU(e,n,t[n]);return e};const JCe=(e,t)=>{const n=g.useContext(en),i=xD(xD({},n),e);return g.createElement("svg",xD({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M3 5H21",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M3 12H21",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M3 19H21",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},QCe=g.forwardRef(JCe);var ioe=QCe,XCe=Object.defineProperty,UU=Object.getOwnPropertySymbols,ZCe=Object.prototype.hasOwnProperty,eLe=Object.prototype.propertyIsEnumerable,VU=(e,t,n)=>t in e?XCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wD=(e,t)=>{for(var n in t||(t={}))ZCe.call(t,n)&&VU(e,n,t[n]);if(UU)for(var n of UU(t))eLe.call(t,n)&&VU(e,n,t[n]);return e};const tLe=(e,t)=>{const n=g.useContext(en),i=wD(wD({},n),e);return g.createElement("svg",wD({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M7 12L17 12",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M7 8L13 8",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M3 20.2895V5C3 3.89543 3.89543 3 5 3H19C20.1046 3 21 3.89543 21 5V15C21 16.1046 20.1046 17 19 17H7.96125C7.35368 17 6.77906 17.2762 6.39951 17.7506L4.06852 20.6643C3.71421 21.1072 3 20.8567 3 20.2895Z",stroke:"currentColor"}))},nLe=g.forwardRef(tLe);var roe=nLe,iLe=Object.defineProperty,KU=Object.getOwnPropertySymbols,rLe=Object.prototype.hasOwnProperty,aLe=Object.prototype.propertyIsEnumerable,GU=(e,t,n)=>t in e?iLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ED=(e,t)=>{for(var n in t||(t={}))rLe.call(t,n)&&GU(e,n,t[n]);if(KU)for(var n of KU(t))aLe.call(t,n)&&GU(e,n,t[n]);return e};const sLe=(e,t)=>{const n=g.useContext(en),i=ED(ED({},n),e);return g.createElement("svg",ED({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M3 20.2895V5C3 3.89543 3.89543 3 5 3H19C20.1046 3 21 3.89543 21 5V15C21 16.1046 20.1046 17 19 17H7.96125C7.35368 17 6.77906 17.2762 6.39951 17.7506L4.06852 20.6643C3.71421 21.1072 3 20.8567 3 20.2895Z",stroke:"currentColor"}))},oLe=g.forwardRef(sLe);var AO=oLe,lLe=Object.defineProperty,HU=Object.getOwnPropertySymbols,cLe=Object.prototype.hasOwnProperty,uLe=Object.prototype.propertyIsEnumerable,qU=(e,t,n)=>t in e?lLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_D=(e,t)=>{for(var n in t||(t={}))cLe.call(t,n)&&qU(e,n,t[n]);if(HU)for(var n of HU(t))uLe.call(t,n)&&qU(e,n,t[n]);return e};const dLe=(e,t)=>{const n=g.useContext(en),i=_D(_D({},n),e);return g.createElement("svg",_D({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M7 21L17 21",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M2 16.4V3.6C2 3.26863 2.26863 3 2.6 3H21.4C21.7314 3 22 3.26863 22 3.6V16.4C22 16.7314 21.7314 17 21.4 17H2.6C2.26863 17 2 16.7314 2 16.4Z",stroke:"currentColor"}))},fLe=g.forwardRef(dLe);var hLe=fLe,pLe=Object.defineProperty,WU=Object.getOwnPropertySymbols,mLe=Object.prototype.hasOwnProperty,yLe=Object.prototype.propertyIsEnumerable,YU=(e,t,n)=>t in e?pLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,AD=(e,t)=>{for(var n in t||(t={}))mLe.call(t,n)&&YU(e,n,t[n]);if(WU)for(var n of WU(t))yLe.call(t,n)&&YU(e,n,t[n]);return e};const gLe=(e,t)=>{const n=g.useContext(en),i=AD(AD({},n),e);return g.createElement("svg",AD({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},vLe=g.forwardRef(gLe);var Za=vLe,SLe=Object.defineProperty,JU=Object.getOwnPropertySymbols,bLe=Object.prototype.hasOwnProperty,xLe=Object.prototype.propertyIsEnumerable,QU=(e,t,n)=>t in e?SLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,RD=(e,t)=>{for(var n in t||(t={}))bLe.call(t,n)&&QU(e,n,t[n]);if(JU)for(var n of JU(t))xLe.call(t,n)&&QU(e,n,t[n]);return e};const wLe=(e,t)=>{const n=g.useContext(en),i=RD(RD({},n),e);return g.createElement("svg",RD({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M15 6L9 12L15 18",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},ELe=g.forwardRef(wLe);var _Le=ELe,ALe=Object.defineProperty,XU=Object.getOwnPropertySymbols,RLe=Object.prototype.hasOwnProperty,NLe=Object.prototype.propertyIsEnumerable,ZU=(e,t,n)=>t in e?ALe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ND=(e,t)=>{for(var n in t||(t={}))RLe.call(t,n)&&ZU(e,n,t[n]);if(XU)for(var n of XU(t))NLe.call(t,n)&&ZU(e,n,t[n]);return e};const OLe=(e,t)=>{const n=g.useContext(en),i=ND(ND({},n),e);return g.createElement("svg",ND({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M9 6L15 12L9 18",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},jLe=g.forwardRef(OLe);var Gl=jLe,DLe=Object.defineProperty,eV=Object.getOwnPropertySymbols,CLe=Object.prototype.hasOwnProperty,LLe=Object.prototype.propertyIsEnumerable,tV=(e,t,n)=>t in e?DLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,OD=(e,t)=>{for(var n in t||(t={}))CLe.call(t,n)&&tV(e,n,t[n]);if(eV)for(var n of eV(t))LLe.call(t,n)&&tV(e,n,t[n]);return e};const TLe=(e,t)=>{const n=g.useContext(en),i=OD(OD({},n),e);return g.createElement("svg",OD({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M6 15L12 9L18 15",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},MLe=g.forwardRef(TLe);var ILe=MLe,PLe=Object.defineProperty,nV=Object.getOwnPropertySymbols,kLe=Object.prototype.hasOwnProperty,$Le=Object.prototype.propertyIsEnumerable,iV=(e,t,n)=>t in e?PLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jD=(e,t)=>{for(var n in t||(t={}))kLe.call(t,n)&&iV(e,n,t[n]);if(nV)for(var n of nV(t))$Le.call(t,n)&&iV(e,n,t[n]);return e};const FLe=(e,t)=>{const n=g.useContext(en),i=jD(jD({},n),e);return g.createElement("svg",jD({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M21 3L15 3M21 3L12 12M21 3V9",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M21 13V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19V5C3 3.89543 3.89543 3 5 3H11",stroke:"currentColor",strokeLinecap:"round"}))},BLe=g.forwardRef(FLe);var zLe=BLe,ULe=Object.defineProperty,rV=Object.getOwnPropertySymbols,VLe=Object.prototype.hasOwnProperty,KLe=Object.prototype.propertyIsEnumerable,aV=(e,t,n)=>t in e?ULe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,DD=(e,t)=>{for(var n in t||(t={}))VLe.call(t,n)&&aV(e,n,t[n]);if(rV)for(var n of rV(t))KLe.call(t,n)&&aV(e,n,t[n]);return e};const GLe=(e,t)=>{const n=g.useContext(en),i=DD(DD({},n),e);return g.createElement("svg",DD({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M6 12H12M18 12H12M12 12V6M12 12V18",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},HLe=g.forwardRef(GLe);var yi=HLe,qLe=Object.defineProperty,sV=Object.getOwnPropertySymbols,WLe=Object.prototype.hasOwnProperty,YLe=Object.prototype.propertyIsEnumerable,oV=(e,t,n)=>t in e?qLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,CD=(e,t)=>{for(var n in t||(t={}))WLe.call(t,n)&&oV(e,n,t[n]);if(sV)for(var n of sV(t))YLe.call(t,n)&&oV(e,n,t[n]);return e};const JLe=(e,t)=>{const n=g.useContext(en),i=CD(CD({},n),e);return g.createElement("svg",CD({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M10 3.99996L14 3.99997V6.56773C14 6.82599 14.1709 7.05522 14.4125 7.14658C22.9367 10.3708 20.9066 22 15 22L9.00001 22C3.09346 22 1.06328 10.3708 9.58754 7.14658C9.8291 7.05521 10 6.82598 10 6.56772V3.99996Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M6 10L18 10",stroke:"currentColor"}),g.createElement("path",{d:"M9 2H15",stroke:"currentColor",strokeLinecap:"round"}),g.createElement("path",{d:"M11.6667 13L10 16H14L12.3333 19",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},QLe=g.forwardRef(JLe);var XLe=QLe,ZLe=Object.defineProperty,lV=Object.getOwnPropertySymbols,eTe=Object.prototype.hasOwnProperty,tTe=Object.prototype.propertyIsEnumerable,cV=(e,t,n)=>t in e?ZLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,LD=(e,t)=>{for(var n in t||(t={}))eTe.call(t,n)&&cV(e,n,t[n]);if(lV)for(var n of lV(t))tTe.call(t,n)&&cV(e,n,t[n]);return e};const nTe=(e,t)=>{const n=g.useContext(en),i=LD(LD({},n),e);return g.createElement("svg",LD({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M7.90039 8.07954C7.90039 3.30678 15.4004 3.30682 15.4004 8.07955C15.4004 11.4886 11.9913 10.8067 11.9913 14.8976",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M12 19.01L12.01 18.9989",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},iTe=g.forwardRef(nTe);var uV=iTe,rTe=Object.defineProperty,dV=Object.getOwnPropertySymbols,aTe=Object.prototype.hasOwnProperty,sTe=Object.prototype.propertyIsEnumerable,fV=(e,t,n)=>t in e?rTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,TD=(e,t)=>{for(var n in t||(t={}))aTe.call(t,n)&&fV(e,n,t[n]);if(dV)for(var n of dV(t))sTe.call(t,n)&&fV(e,n,t[n]);return e};const oTe=(e,t)=>{const n=g.useContext(en),i=TD(TD({},n),e);return g.createElement("svg",TD({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M21.8883 13.5C21.1645 18.3113 17.013 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C16.1006 2 19.6248 4.46819 21.1679 8",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M17 8H21.4C21.7314 8 22 7.73137 22 7.4V3",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},lTe=g.forwardRef(oTe);var aoe=lTe,cTe=Object.defineProperty,hV=Object.getOwnPropertySymbols,uTe=Object.prototype.hasOwnProperty,dTe=Object.prototype.propertyIsEnumerable,pV=(e,t,n)=>t in e?cTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,MD=(e,t)=>{for(var n in t||(t={}))uTe.call(t,n)&&pV(e,n,t[n]);if(hV)for(var n of hV(t))dTe.call(t,n)&&pV(e,n,t[n]);return e};const fTe=(e,t)=>{const n=g.useContext(en),i=MD(MD({},n),e);return g.createElement("svg",MD({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M3 7.4V3.6C3 3.26863 3.26863 3 3.6 3H9.4C9.73137 3 10 3.26863 10 3.6V7.4C10 7.73137 9.73137 8 9.4 8H3.6C3.26863 8 3 7.73137 3 7.4Z",stroke:"currentColor"}),g.createElement("path",{d:"M14 20.4V16.6C14 16.2686 14.2686 16 14.6 16H20.4C20.7314 16 21 16.2686 21 16.6V20.4C21 20.7314 20.7314 21 20.4 21H14.6C14.2686 21 14 20.7314 14 20.4Z",stroke:"currentColor"}),g.createElement("path",{d:"M14 12.4V3.6C14 3.26863 14.2686 3 14.6 3H20.4C20.7314 3 21 3.26863 21 3.6V12.4C21 12.7314 20.7314 13 20.4 13H14.6C14.2686 13 14 12.7314 14 12.4Z",stroke:"currentColor"}),g.createElement("path",{d:"M3 20.4V11.6C3 11.2686 3.26863 11 3.6 11H9.4C9.73137 11 10 11.2686 10 11.6V20.4C10 20.7314 9.73137 21 9.4 21H3.6C3.26863 21 3 20.7314 3 20.4Z",stroke:"currentColor"}))},hTe=g.forwardRef(fTe);var mV=hTe,pTe=Object.defineProperty,yV=Object.getOwnPropertySymbols,mTe=Object.prototype.hasOwnProperty,yTe=Object.prototype.propertyIsEnumerable,gV=(e,t,n)=>t in e?pTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ID=(e,t)=>{for(var n in t||(t={}))mTe.call(t,n)&&gV(e,n,t[n]);if(yV)for(var n of yV(t))yTe.call(t,n)&&gV(e,n,t[n]);return e};const gTe=(e,t)=>{const n=g.useContext(en),i=ID(ID({},n),e);return g.createElement("svg",ID({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M12 19C12 14.8 9.2 12 5 12",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M19 19C19 10.6 13.4 5 5 5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M5 19.01L5.01 18.9989",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},vTe=g.forwardRef(gTe);var soe=vTe,STe=Object.defineProperty,vV=Object.getOwnPropertySymbols,bTe=Object.prototype.hasOwnProperty,xTe=Object.prototype.propertyIsEnumerable,SV=(e,t,n)=>t in e?STe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,PD=(e,t)=>{for(var n in t||(t={}))bTe.call(t,n)&&SV(e,n,t[n]);if(vV)for(var n of vV(t))xTe.call(t,n)&&SV(e,n,t[n]);return e};const wTe=(e,t)=>{const n=g.useContext(en),i=PD(PD({},n),e);return g.createElement("svg",PD({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M17 17L21 21",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M3 11C3 15.4183 6.58172 19 11 19C13.213 19 15.2161 18.1015 16.6644 16.6493C18.1077 15.2022 19 13.2053 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},ETe=g.forwardRef(wTe);var qu=ETe,_Te=Object.defineProperty,bV=Object.getOwnPropertySymbols,ATe=Object.prototype.hasOwnProperty,RTe=Object.prototype.propertyIsEnumerable,xV=(e,t,n)=>t in e?_Te(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kD=(e,t)=>{for(var n in t||(t={}))ATe.call(t,n)&&xV(e,n,t[n]);if(bV)for(var n of bV(t))RTe.call(t,n)&&xV(e,n,t[n]);return e};const NTe=(e,t)=>{const n=g.useContext(en),i=kD(kD({},n),e);return g.createElement("svg",kD({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M22 12L3 20L6.5625 12L3 4L22 12Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M6.5 12L22 12",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},OTe=g.forwardRef(NTe);var jTe=OTe,DTe=Object.defineProperty,wV=Object.getOwnPropertySymbols,CTe=Object.prototype.hasOwnProperty,LTe=Object.prototype.propertyIsEnumerable,EV=(e,t,n)=>t in e?DTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$D=(e,t)=>{for(var n in t||(t={}))CTe.call(t,n)&&EV(e,n,t[n]);if(wV)for(var n of wV(t))LTe.call(t,n)&&EV(e,n,t[n]);return e};const TTe=(e,t)=>{const n=g.useContext(en),i=$D($D({},n),e);return g.createElement("svg",$D({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M5 18L3.13036 4.91253C3.05646 4.39524 3.39389 3.91247 3.90398 3.79912L11.5661 2.09641C11.8519 2.03291 12.1481 2.03291 12.4339 2.09641L20.096 3.79912C20.6061 3.91247 20.9435 4.39524 20.8696 4.91252L19 18C18.9293 18.495 18.5 21.5 12 21.5C5.5 21.5 5.07071 18.495 5 18Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},MTe=g.forwardRef(TTe);var ITe=MTe,PTe=Object.defineProperty,_V=Object.getOwnPropertySymbols,kTe=Object.prototype.hasOwnProperty,$Te=Object.prototype.propertyIsEnumerable,AV=(e,t,n)=>t in e?PTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,FD=(e,t)=>{for(var n in t||(t={}))kTe.call(t,n)&&AV(e,n,t[n]);if(_V)for(var n of _V(t))$Te.call(t,n)&&AV(e,n,t[n]);return e};const FTe=(e,t)=>{const n=g.useContext(en),i=FD(FD({},n),e);return g.createElement("svg",FD({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M8 15C12.8747 15 15 12.949 15 8C15 12.949 17.1104 15 22 15C17.1104 15 15 17.1104 15 22C15 17.1104 12.8747 15 8 15Z",stroke:"currentColor",strokeLinejoin:"round"}),g.createElement("path",{d:"M2 6.5C5.13376 6.5 6.5 5.18153 6.5 2C6.5 5.18153 7.85669 6.5 11 6.5C7.85669 6.5 6.5 7.85669 6.5 11C6.5 7.85669 5.13376 6.5 2 6.5Z",stroke:"currentColor",strokeLinejoin:"round"}))},BTe=g.forwardRef(FTe);var um=BTe,zTe=Object.defineProperty,RV=Object.getOwnPropertySymbols,UTe=Object.prototype.hasOwnProperty,VTe=Object.prototype.propertyIsEnumerable,NV=(e,t,n)=>t in e?zTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,BD=(e,t)=>{for(var n in t||(t={}))UTe.call(t,n)&&NV(e,n,t[n]);if(RV)for(var n of RV(t))VTe.call(t,n)&&NV(e,n,t[n]);return e};const KTe=(e,t)=>{const n=g.useContext(en),i=BD(BD({},n),e);return g.createElement("svg",BD({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M22 12L23 12",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M12 2V1",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M12 23V22",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M20 20L19 19",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M20 4L19 5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M4 20L5 19",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M4 4L5 5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M1 12L2 12",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},GTe=g.forwardRef(KTe);var HTe=GTe,qTe=Object.defineProperty,OV=Object.getOwnPropertySymbols,WTe=Object.prototype.hasOwnProperty,YTe=Object.prototype.propertyIsEnumerable,jV=(e,t,n)=>t in e?qTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zD=(e,t)=>{for(var n in t||(t={}))WTe.call(t,n)&&jV(e,n,t[n]);if(OV)for(var n of OV(t))YTe.call(t,n)&&jV(e,n,t[n]);return e};const JTe=(e,t)=>{const n=g.useContext(en),i=zD(zD({},n),e);return g.createElement("svg",zD({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M10.0503 10.6066L2.97923 17.6777C2.19818 18.4587 2.19818 19.7251 2.97923 20.5061V20.5061C3.76027 21.2872 5.0266 21.2872 5.80765 20.5061L12.8787 13.4351",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M17.1927 13.7994L21.071 17.6777C21.8521 18.4587 21.8521 19.7251 21.071 20.5061V20.5061C20.29 21.2872 19.0236 21.2872 18.2426 20.5061L12.0341 14.2977",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M6.73267 5.90381L4.61135 6.61092L2.49003 3.07539L3.90424 1.66117L7.43978 3.78249L6.73267 5.90381ZM6.73267 5.90381L9.5629 8.73404",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M10.0503 10.6066C9.2065 8.45359 9.37147 5.62861 11.111 3.8891C12.8505 2.14958 16.0607 1.76778 17.8285 2.82844L14.7878 5.86911L14.5052 8.98015L17.6162 8.69754L20.6569 5.65686C21.7176 7.42463 21.3358 10.6349 19.5963 12.3744C17.8567 14.1139 15.0318 14.2789 12.8788 13.435",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},QTe=g.forwardRef(JTe);var XTe=QTe,ZTe=Object.defineProperty,DV=Object.getOwnPropertySymbols,e4e=Object.prototype.hasOwnProperty,t4e=Object.prototype.propertyIsEnumerable,CV=(e,t,n)=>t in e?ZTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,UD=(e,t)=>{for(var n in t||(t={}))e4e.call(t,n)&&CV(e,n,t[n]);if(DV)for(var n of DV(t))t4e.call(t,n)&&CV(e,n,t[n]);return e};const n4e=(e,t)=>{const n=g.useContext(en),i=UD(UD({},n),e);return g.createElement("svg",UD({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M22 18V6C22 4.34315 20.6569 3 19 3H17C15.3431 3 14 4.34315 14 6V18C14 19.6569 15.3431 21 17 21H19C20.6569 21 22 19.6569 22 18Z",stroke:"currentColor"}),g.createElement("path",{d:"M8 3H6C3.79086 3 2 4.79086 2 7V17C2 19.2091 3.79086 21 6 21H8",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M14 12H6M6 12L9 9M6 12L9 15",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},i4e=g.forwardRef(n4e);var r4e=i4e,a4e=Object.defineProperty,LV=Object.getOwnPropertySymbols,s4e=Object.prototype.hasOwnProperty,o4e=Object.prototype.propertyIsEnumerable,TV=(e,t,n)=>t in e?a4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,VD=(e,t)=>{for(var n in t||(t={}))s4e.call(t,n)&&TV(e,n,t[n]);if(LV)for(var n of LV(t))o4e.call(t,n)&&TV(e,n,t[n]);return e};const l4e=(e,t)=>{const n=g.useContext(en),i=VD(VD({},n),e);return g.createElement("svg",VD({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M20 9L18.005 20.3463C17.8369 21.3026 17.0062 22 16.0353 22H7.96474C6.99379 22 6.1631 21.3026 5.99496 20.3463L4 9",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M21 6L15.375 6M3 6L8.625 6M8.625 6V4C8.625 2.89543 9.52043 2 10.625 2H13.375C14.4796 2 15.375 2.89543 15.375 4V6M8.625 6L15.375 6",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},c4e=g.forwardRef(l4e);var vi=c4e,u4e=Object.defineProperty,MV=Object.getOwnPropertySymbols,d4e=Object.prototype.hasOwnProperty,f4e=Object.prototype.propertyIsEnumerable,IV=(e,t,n)=>t in e?u4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,KD=(e,t)=>{for(var n in t||(t={}))d4e.call(t,n)&&IV(e,n,t[n]);if(MV)for(var n of MV(t))f4e.call(t,n)&&IV(e,n,t[n]);return e};const h4e=(e,t)=>{const n=g.useContext(en),i=KD(KD({},n),e);return g.createElement("svg",KD({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M7 19C8.10457 19 9 18.1046 9 17C9 15.8954 8.10457 15 7 15C5.89543 15 5 15.8954 5 17C5 18.1046 5.89543 19 7 19Z",stroke:"currentColor",strokeMiterlimit:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M17 19C18.1046 19 19 18.1046 19 17C19 15.8954 18.1046 15 17 15C15.8954 15 15 15.8954 15 17C15 18.1046 15.8954 19 17 19Z",stroke:"currentColor",strokeMiterlimit:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M14 17V6.6C14 6.26863 13.7314 6 13.4 6H2.6C2.26863 6 2 6.26863 2 6.6V16.4C2 16.7314 2.26863 17 2.6 17H4.65",stroke:"currentColor",strokeLinecap:"round"}),g.createElement("path",{d:"M14 17H9.05005",stroke:"currentColor",strokeLinecap:"round"}),g.createElement("path",{d:"M14 9H19.6101C19.8472 9 20.0621 9.13964 20.1584 9.35632L21.9483 13.3836C21.9824 13.4604 22 13.5434 22 13.6273V16.4C22 16.7314 21.7314 17 21.4 17H19.5",stroke:"currentColor",strokeLinecap:"round"}),g.createElement("path",{d:"M14 17H15",stroke:"currentColor",strokeLinecap:"round"}))},p4e=g.forwardRef(h4e);var PV=p4e,m4e=Object.defineProperty,kV=Object.getOwnPropertySymbols,y4e=Object.prototype.hasOwnProperty,g4e=Object.prototype.propertyIsEnumerable,$V=(e,t,n)=>t in e?m4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,GD=(e,t)=>{for(var n in t||(t={}))y4e.call(t,n)&&$V(e,n,t[n]);if(kV)for(var n of kV(t))g4e.call(t,n)&&$V(e,n,t[n]);return e};const v4e=(e,t)=>{const n=g.useContext(en),i=GD(GD({},n),e);return g.createElement("svg",GD({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M4.5 8C8.5 8 11 8 15 8C15 8 15 8 15 8C15 8 20 8 20 12.7059C20 18 15 18 15 18C11.5714 18 9.71429 18 6.28571 18",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M7.5 11.5C6.13317 10.1332 5.36683 9.36683 4 8C5.36683 6.63317 6.13317 5.86683 7.5 4.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},S4e=g.forwardRef(v4e);var b4e=S4e,x4e=Object.defineProperty,FV=Object.getOwnPropertySymbols,w4e=Object.prototype.hasOwnProperty,E4e=Object.prototype.propertyIsEnumerable,BV=(e,t,n)=>t in e?x4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,HD=(e,t)=>{for(var n in t||(t={}))w4e.call(t,n)&&BV(e,n,t[n]);if(FV)for(var n of FV(t))E4e.call(t,n)&&BV(e,n,t[n]);return e};const _4e=(e,t)=>{const n=g.useContext(en),i=HD(HD({},n),e);return g.createElement("svg",HD({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M6 20L18 20",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M12 16V4M12 4L15.5 7.5M12 4L8.5 7.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},A4e=g.forwardRef(_4e);var P0=A4e,R4e=Object.defineProperty,zV=Object.getOwnPropertySymbols,N4e=Object.prototype.hasOwnProperty,O4e=Object.prototype.propertyIsEnumerable,UV=(e,t,n)=>t in e?R4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qD=(e,t)=>{for(var n in t||(t={}))N4e.call(t,n)&&UV(e,n,t[n]);if(zV)for(var n of zV(t))O4e.call(t,n)&&UV(e,n,t[n]);return e};const j4e=(e,t)=>{const n=g.useContext(en),i=qD(qD({},n),e);return g.createElement("svg",qD({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M12 12C14.2091 12 16 10.2091 16 8C16 5.79086 14.2091 4 12 4C9.79086 4 8 5.79086 8 8C8 10.2091 9.79086 12 12 12Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M22 17.2798C22 17.8812 21.7625 18.4588 21.3383 18.8861C20.3619 19.8701 19.415 20.8961 18.4021 21.8443C18.17 22.0585 17.8017 22.0507 17.5795 21.8268L14.6615 18.8861C13.7795 17.9972 13.7795 16.5623 14.6615 15.6734C15.5522 14.7758 17.0032 14.7758 17.8938 15.6734L17.9999 15.7803L18.1059 15.6734C18.533 15.2429 19.1146 15 19.7221 15C20.3297 15 20.9113 15.2428 21.3383 15.6734C21.7625 16.1007 22 16.6784 22 17.2798Z",stroke:"currentColor",strokeLinejoin:"round"}),g.createElement("path",{d:"M5 20V19C5 15.134 8.13401 12 12 12C13.0736 12 14.0907 12.2417 15 12.6736",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},D4e=g.forwardRef(j4e);var C4e=D4e,L4e=Object.defineProperty,VV=Object.getOwnPropertySymbols,T4e=Object.prototype.hasOwnProperty,M4e=Object.prototype.propertyIsEnumerable,KV=(e,t,n)=>t in e?L4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,WD=(e,t)=>{for(var n in t||(t={}))T4e.call(t,n)&&KV(e,n,t[n]);if(VV)for(var n of VV(t))M4e.call(t,n)&&KV(e,n,t[n]);return e};const I4e=(e,t)=>{const n=g.useContext(en),i=WD(WD({},n),e);return g.createElement("svg",WD({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M5 20V19C5 15.134 8.13401 12 12 12V12C15.866 12 19 15.134 19 19V20",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M12 12C14.2091 12 16 10.2091 16 8C16 5.79086 14.2091 4 12 4C9.79086 4 8 5.79086 8 8C8 10.2091 9.79086 12 12 12Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},P4e=g.forwardRef(I4e);var ooe=P4e,k4e=Object.defineProperty,GV=Object.getOwnPropertySymbols,$4e=Object.prototype.hasOwnProperty,F4e=Object.prototype.propertyIsEnumerable,HV=(e,t,n)=>t in e?k4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,YD=(e,t)=>{for(var n in t||(t={}))$4e.call(t,n)&&HV(e,n,t[n]);if(GV)for(var n of GV(t))F4e.call(t,n)&&HV(e,n,t[n]);return e};const B4e=(e,t)=>{const n=g.useContext(en),i=YD(YD({},n),e);return g.createElement("svg",YD({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M20.0429 21H3.95705C2.41902 21 1.45658 19.3364 2.22324 18.0031L10.2662 4.01533C11.0352 2.67792 12.9648 2.67791 13.7338 4.01532L21.7768 18.0031C22.5434 19.3364 21.581 21 20.0429 21Z",stroke:"currentColor",strokeLinecap:"round"}),g.createElement("path",{d:"M12 9V13",stroke:"currentColor",strokeLinecap:"round"}),g.createElement("path",{d:"M12 17.01L12.01 16.9989",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},z4e=g.forwardRef(B4e);var loe=z4e,U4e=Object.defineProperty,qV=Object.getOwnPropertySymbols,V4e=Object.prototype.hasOwnProperty,K4e=Object.prototype.propertyIsEnumerable,WV=(e,t,n)=>t in e?U4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,JD=(e,t)=>{for(var n in t||(t={}))V4e.call(t,n)&&WV(e,n,t[n]);if(qV)for(var n of qV(t))K4e.call(t,n)&&WV(e,n,t[n]);return e};const G4e=(e,t)=>{const n=g.useContext(en),i=JD(JD({},n),e);return g.createElement("svg",JD({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M9.17218 14.8284L12.0006 12M14.829 9.17157L12.0006 12M12.0006 12L9.17218 9.17157M12.0006 12L14.829 14.8284",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},H4e=g.forwardRef(G4e);var Ox=H4e,q4e=Object.defineProperty,YV=Object.getOwnPropertySymbols,W4e=Object.prototype.hasOwnProperty,Y4e=Object.prototype.propertyIsEnumerable,JV=(e,t,n)=>t in e?q4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,QD=(e,t)=>{for(var n in t||(t={}))W4e.call(t,n)&&JV(e,n,t[n]);if(YV)for(var n of YV(t))Y4e.call(t,n)&&JV(e,n,t[n]);return e};const J4e=(e,t)=>{const n=g.useContext(en),i=QD(QD({},n),e);return g.createElement("svg",QD({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{d:"M6.75827 17.2426L12.0009 12M17.2435 6.75736L12.0009 12M12.0009 12L6.75827 6.75736M12.0009 12L17.2435 17.2426",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},Q4e=g.forwardRef(J4e);var wu=Q4e,X4e=Object.defineProperty,QV=Object.getOwnPropertySymbols,Z4e=Object.prototype.hasOwnProperty,e6e=Object.prototype.propertyIsEnumerable,XV=(e,t,n)=>t in e?X4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,XD=(e,t)=>{for(var n in t||(t={}))Z4e.call(t,n)&&XV(e,n,t[n]);if(QV)for(var n of QV(t))e6e.call(t,n)&&XV(e,n,t[n]);return e};const t6e=(e,t)=>{const n=g.useContext(en),i=XD(XD({},n),e);return g.createElement("svg",XD({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 1.25C6.06294 1.25 1.25 6.06294 1.25 12C1.25 17.9371 6.06294 22.75 12 22.75C17.9371 22.75 22.75 17.9371 22.75 12C22.75 6.06294 17.9371 1.25 12 1.25ZM7.53044 11.9697C7.23755 11.6768 6.76268 11.6768 6.46978 11.9697C6.17689 12.2626 6.17689 12.7374 6.46978 13.0303L9.46978 16.0303C9.76268 16.3232 10.2376 16.3232 10.5304 16.0303L17.5304 9.03033C17.8233 8.73744 17.8233 8.26256 17.5304 7.96967C17.2375 7.67678 16.7627 7.67678 16.4698 7.96967L10.0001 14.4393L7.53044 11.9697Z",fill:"currentColor"}))},n6e=g.forwardRef(t6e);var i6e=n6e,r6e=Object.defineProperty,ZV=Object.getOwnPropertySymbols,a6e=Object.prototype.hasOwnProperty,s6e=Object.prototype.propertyIsEnumerable,eK=(e,t,n)=>t in e?r6e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ZD=(e,t)=>{for(var n in t||(t={}))a6e.call(t,n)&&eK(e,n,t[n]);if(ZV)for(var n of ZV(t))s6e.call(t,n)&&eK(e,n,t[n]);return e};const o6e=(e,t)=>{const n=g.useContext(en),i=ZD(ZD({},n),e);return g.createElement("svg",ZD({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},i),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.9999 3.94228C13.1757 2.85872 14.7069 2.25 16.3053 2.25C18.0313 2.25 19.679 2.95977 20.8854 4.21074C22.0832 5.45181 22.75 7.1248 22.75 8.86222C22.75 10.5997 22.0831 12.2728 20.8854 13.5137C20.089 14.3393 19.2938 15.1836 18.4945 16.0323C16.871 17.7562 15.2301 19.4985 13.5256 21.14L13.5216 21.1438C12.6426 21.9779 11.2505 21.9476 10.409 21.0754L3.11399 13.5136C0.62867 10.9374 0.62867 6.78707 3.11399 4.21085C5.54605 1.68984 9.46239 1.60032 11.9999 3.94228Z",fill:"currentColor"}))},l6e=g.forwardRef(o6e);var tK=l6e,Tf={},DE={};const c6e=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let RO=class extends Error{constructor(t,n="FunctionsError",i){super(t),this.name=n,this.context=i}},coe=class extends RO{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},c6=class extends RO{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},u6=class extends RO{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var eR;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(eR||(eR={}));class u6e{constructor(t,{headers:n={},customFetch:i,region:r=eR.Any}={}){this.url=t,this.headers=n,this.region=r,this.fetch=c6e(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return nn(this,arguments,void 0,function*(n,i={}){var r;let a,o;try{const{headers:l,method:c,body:u,signal:d,timeout:h}=i;let m={},{region:p}=i;p||(p=this.region);const v=new URL(`${this.url}/${n}`);p&&p!=="any"&&(m["x-region"]=p,v.searchParams.set("forceFunctionRegion",p));let S;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",S=u):typeof u=="string"?(m["Content-Type"]="text/plain",S=u):typeof FormData<"u"&&u instanceof FormData?S=u:(m["Content-Type"]="application/json",S=JSON.stringify(u)):S=u;let b=d;h&&(o=new AbortController,a=setTimeout(()=>o.abort(),h),d?(b=o.signal,d.addEventListener("abort",()=>o.abort())):b=o.signal);const w=yield this.fetch(v.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),l),body:S,signal:b}).catch(N=>{throw new coe(N)}),R=w.headers.get("x-relay-error");if(R&&R==="true")throw new c6(w);if(!w.ok)throw new u6(w);let E=((r=w.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),_;return E==="application/json"?_=yield w.json():E==="application/octet-stream"||E==="application/pdf"?_=yield w.blob():E==="text/event-stream"?_=w:E==="multipart/form-data"?_=yield w.formData():_=yield w.text(),{data:_,error:null,response:w}}catch(l){return{data:null,error:l,response:l instanceof u6||l instanceof c6?l.context:void 0}}finally{a&&clearTimeout(a)}})}}const d6e=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return eR},FunctionsClient:u6e,FunctionsError:RO,FunctionsFetchError:coe,FunctionsHttpError:u6,FunctionsRelayError:c6},Symbol.toStringTag,{value:"Module"})),uoe=A2(d6e);var Vs={};const Y1=A2(kxe);var CE={},LE={},TE={},ME={},IE={},PE={},nK;function doe(){if(nK)return PE;nK=1,Object.defineProperty(PE,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return PE.default=e,PE}var iK;function foe(){if(iK)return IE;iK=1,Object.defineProperty(IE,"__esModule",{value:!0});const t=Y1.__importDefault(doe());let n=class{constructor(r){var a,o;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(a=r.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=r.signal,this.isMaybeSingle=(o=r.isMaybeSingle)!==null&&o!==void 0?o:!1,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,a){return this.headers=new Headers(this.headers),this.headers.set(r,a),this}then(r,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,h,m;let p=null,v=null,S=null,b=c.status,w=c.statusText;if(c.ok){if(this.method!=="HEAD"){const N=await c.text();N===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?v=N:v=JSON.parse(N))}const E=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),_=(h=c.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");E&&_&&_.length>1&&(S=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(p={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,S=null,b=406,w="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const E=await c.text();try{p=JSON.parse(E),Array.isArray(p)&&c.status===404&&(v=[],p=null,b=200,w="OK")}catch{c.status===404&&E===""?(b=204,w="No Content"):p={message:E}}if(p&&this.isMaybeSingle&&(!((m=p==null?void 0:p.details)===null||m===void 0)&&m.includes("0 rows"))&&(p=null,b=200,w="OK"),p&&this.shouldThrowOnError)throw new t.default(p)}return{error:p,data:v,count:S,status:b,statusText:w}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,h,m,p,v;let S="";const b=c==null?void 0:c.cause;if(b){const w=(u=b==null?void 0:b.message)!==null&&u!==void 0?u:"",R=(d=b==null?void 0:b.code)!==null&&d!==void 0?d:"";S=`${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"FetchError"}: ${c==null?void 0:c.message}`,S+=`

Caused by: ${(m=b==null?void 0:b.name)!==null&&m!==void 0?m:"Error"}: ${w}`,R&&(S+=` (${R})`),b!=null&&b.stack&&(S+=`
${b.stack}`)}else S=(p=c==null?void 0:c.stack)!==null&&p!==void 0?p:"";return{error:{message:`${(v=c==null?void 0:c.name)!==null&&v!==void 0?v:"FetchError"}: ${c==null?void 0:c.message}`,details:S,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(r,a)}returns(){return this}overrideTypes(){return this}};return IE.default=n,IE}var rK;function hoe(){if(rK)return ME;rK=1,Object.defineProperty(ME,"__esModule",{value:!0});const t=Y1.__importDefault(foe());let n=class extends t.default{select(r){let a=!1;const o=(r??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:a=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${r}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:a,referencedTable:o=a}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${r}`),this}range(r,a,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${r}`),this.url.searchParams.set(u,`${a-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:a=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const h=[r?"analyze":null,a?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),m=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${m}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}};return ME.default=n,ME}var aK;function t8(){if(aK)return TE;aK=1,Object.defineProperty(TE,"__esModule",{value:!0});const t=Y1.__importDefault(hoe()),n=new RegExp("[,()]");let i=class extends t.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}regexMatch(a,o){return this.url.searchParams.append(a,`match.${o}`),this}regexIMatch(a,o){return this.url.searchParams.append(a,`imatch.${o}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}isDistinct(a,o){return this.url.searchParams.append(a,`isdistinct.${o}`),this}in(a,o){const l=Array.from(new Set(o)).map(c=>typeof c=="string"&&n.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(a,`in.(${l})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:l,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(a,`${u}fts${d}.${o}`),this}match(a){return Object.entries(a).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(a,o,l){return this.url.searchParams.append(a,`not.${o}.${l}`),this}or(a,{foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${a})`),this}filter(a,o,l){return this.url.searchParams.append(a,`${o}.${l}`),this}};return TE.default=i,TE}var sK;function poe(){if(sK)return LE;sK=1,Object.defineProperty(LE,"__esModule",{value:!0});const t=Y1.__importDefault(t8());let n=class{constructor(r,{headers:a={},schema:o,fetch:l}){this.url=r,this.headers=new Headers(a),this.schema=o,this.fetch=l}select(r,a){const{head:o=!1,count:l}=a??{},c=o?"HEAD":"GET";let u=!1;const d=(r??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(r,{count:a,defaultToNull:o=!0}={}){var l;const c="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const u=r.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(r,{onConflict:a,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const h=r.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(h.length>0){const m=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(r,{count:a}={}){var o;const l="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:r}={}){var a;const o="DELETE";return r&&this.headers.append("Prefer",`count=${r}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};return LE.default=n,LE}var oK;function f6e(){if(oK)return CE;oK=1,Object.defineProperty(CE,"__esModule",{value:!0});const e=Y1,t=e.__importDefault(poe()),n=e.__importDefault(t8());let i=class moe{constructor(a,{headers:o={},schema:l,fetch:c}={}){this.url=a,this.headers=new Headers(o),this.schemaName=l,this.fetch=c}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${a}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new moe(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:l=!1,get:c=!1,count:u}={}){var d;let h;const m=new URL(`${this.url}/rpc/${a}`);let p;l||c?(h=l?"HEAD":"GET",Object.entries(o).filter(([S,b])=>b!==void 0).map(([S,b])=>[S,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([S,b])=>{m.searchParams.append(S,b)})):(h="POST",p=o);const v=new Headers(this.headers);return u&&v.set("Prefer",`count=${u}`),new n.default({method:h,url:m,headers:v,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}};return CE.default=i,CE}var lK;function yoe(){if(lK)return Vs;lK=1,Object.defineProperty(Vs,"__esModule",{value:!0}),Vs.PostgrestError=Vs.PostgrestBuilder=Vs.PostgrestTransformBuilder=Vs.PostgrestFilterBuilder=Vs.PostgrestQueryBuilder=Vs.PostgrestClient=void 0;const e=Y1,t=e.__importDefault(f6e());Vs.PostgrestClient=t.default;const n=e.__importDefault(poe());Vs.PostgrestQueryBuilder=n.default;const i=e.__importDefault(t8());Vs.PostgrestFilterBuilder=i.default;const r=e.__importDefault(hoe());Vs.PostgrestTransformBuilder=r.default;const a=e.__importDefault(foe());Vs.PostgrestBuilder=a.default;const o=e.__importDefault(doe());return Vs.PostgrestError=o.default,Vs.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:r.default,PostgrestBuilder:a.default,PostgrestError:o.default},Vs}class goe{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const i=n.node,r=parseInt(i.replace(/^v/,"").split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const i=this.getWebSocketConstructor();return new i(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const h6e="2.87.1",p6e=`realtime-js/${h6e}`,voe="1.0.0",m6e="2.0.0",cK=voe,d6=1e4,y6e=1e3,g6e=100;var My;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(My||(My={}));var Da;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Da||(Da={}));var xu;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(xu||(xu={}));var f6;(function(e){e.websocket="websocket"})(f6||(f6={}));var Iy;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Iy||(Iy={}));class v6e{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let i=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,i;const r=(i=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,r)}_encodeJsonUserBroadcastPush(t){var n,i;const r=(i=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:{},o=new TextEncoder().encode(JSON.stringify(r)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,i){var r,a;const o=t.topic,l=(r=t.ref)!==null&&r!==void 0?r:"",c=(a=t.join_ref)!==null&&a!==void 0?a:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const m=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+h.length,p=new ArrayBuffer(this.HEADER_LENGTH+m);let v=new DataView(p),S=0;v.setUint8(S++,this.KINDS.userBroadcastPush),v.setUint8(S++,c.length),v.setUint8(S++,l.length),v.setUint8(S++,o.length),v.setUint8(S++,u.length),v.setUint8(S++,h.length),v.setUint8(S++,n),Array.from(c,w=>v.setUint8(S++,w.charCodeAt(0))),Array.from(l,w=>v.setUint8(S++,w.charCodeAt(0))),Array.from(o,w=>v.setUint8(S++,w.charCodeAt(0))),Array.from(u,w=>v.setUint8(S++,w.charCodeAt(0))),Array.from(h,w=>v.setUint8(S++,w.charCodeAt(0)));var b=new Uint8Array(p.byteLength+i.byteLength);return b.set(new Uint8Array(p),0),b.set(new Uint8Array(i),p.byteLength),b.buffer}decode(t,n){if(this._isArrayBuffer(t)){let i=this._binaryDecode(t);return n(i)}if(typeof t=="string"){const i=JSON.parse(t),[r,a,o,l,c]=i;return n({join_ref:r,ref:a,topic:o,event:l,payload:c})}return n({})}_binaryDecode(t){const n=new DataView(t),i=n.getUint8(0),r=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,r)}}_decodeUserBroadcast(t,n,i){const r=n.getUint8(1),a=n.getUint8(2),o=n.getUint8(3),l=n.getUint8(4);let c=this.HEADER_LENGTH+4;const u=i.decode(t.slice(c,c+r));c=c+r;const d=i.decode(t.slice(c,c+a));c=c+a;const h=i.decode(t.slice(c,c+o));c=c+o;const m=t.slice(c,t.byteLength),p=l===this.JSON_ENCODING?JSON.parse(i.decode(m)):m,v={type:this.BROADCAST_EVENT,event:d,payload:p};return o>0&&(v.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([i])=>n.includes(i)))}}class Soe{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var mr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(mr||(mr={}));const uK=(e,t,n={})=>{var i;const r=(i=n.skipTypes)!==null&&i!==void 0?i:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=S6e(o,e,t,r),a),{}):{}},S6e=(e,t,n,i)=>{const r=t.find(l=>l.name===e),a=r==null?void 0:r.type,o=n[e];return a&&!i.includes(a)?boe(a,o):h6(o)},boe=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return E6e(t,n)}switch(e){case mr.bool:return b6e(t);case mr.float4:case mr.float8:case mr.int2:case mr.int4:case mr.int8:case mr.numeric:case mr.oid:return x6e(t);case mr.json:case mr.jsonb:return w6e(t);case mr.timestamp:return _6e(t);case mr.abstime:case mr.date:case mr.daterange:case mr.int4range:case mr.int8range:case mr.money:case mr.reltime:case mr.text:case mr.time:case mr.timestamptz:case mr.timetz:case mr.tsrange:case mr.tstzrange:return h6(t);default:return h6(t)}},h6=e=>e,b6e=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},x6e=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},w6e=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},E6e=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,i=e[n];if(e[0]==="{"&&i==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>boe(t,l))}return e},_6e=e=>typeof e=="string"?e.replace(" ","T"):e,xoe=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class eC{constructor(t,n,i={},r=d6){this.channel=t,this.event=n,this.payload=i,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var i;return this._hasReceived(t)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var p6;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(p6||(p6={}));let woe=class J_{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},r=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=J_.syncState(this.state,r,a,o),this.pendingDiffs.forEach(c=>{this.state=J_.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(i.diff,{},r=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=J_.syncDiff(this.state,r,a,o),l())}),this.onJoin((r,a,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:a,newPresences:o})}),this.onLeave((r,a,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,i,r){const a=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=a[u];if(h){const m=d.map(b=>b.presence_ref),p=h.map(b=>b.presence_ref),v=d.filter(b=>p.indexOf(b.presence_ref)<0),S=h.filter(b=>m.indexOf(b.presence_ref)<0);v.length>0&&(l[u]=v),S.length>0&&(c[u]=S)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},i,r)}static syncDiff(t,n,i,r){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),r||(r=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(p=>p.presence_ref),m=d.filter(p=>h.indexOf(p.presence_ref)<0);t[l].unshift(...m)}i(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,r(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(i=>n(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,i)=>{const r=t[i];return"metas"in r?n[i]=r.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[i]=r,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var m6;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(m6||(m6={}));var k0;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(k0||(k0={}));var wd;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(wd||(wd={}));const A6e=Da;let Eoe=class zb{constructor(t,n={config:{}},i){var r,a;if(this.topic=t,this.params=n,this.socket=i,this.bindings={},this.state=Da.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new eC(this,xu.join,this.params,this.timeout),this.rejoinTimer=new Soe(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Da.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Da.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Da.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Da.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Da.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xu.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new woe(this),this.broadcastEndpointURL=xoe(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(r=this.params.config)===null||r===void 0?void 0:r.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var i,r,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Da.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(r=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(p=>p.filter))!==null&&r!==void 0?r:[],d=!!this.bindings[k0.PRESENCE]&&this.bindings[k0.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,h={},m={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(wd.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(wd.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(wd.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,b=(v=S==null?void 0:S.length)!==null&&v!==void 0?v:0,w=[];for(let R=0;R<b;R++){const E=S[R],{filter:{event:_,schema:N,table:O,filter:j}}=E,D=p&&p[R];if(D&&D.event===_&&zb.isFilterValueEqual(D.schema,N)&&zb.isFilterValueEqual(D.table,O)&&zb.isFilterValueEqual(D.filter,j))w.push(Object.assign(Object.assign({},E),{id:D.id}));else{this.unsubscribe(),this.state=Da.errored,t==null||t(wd.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(wd.SUBSCRIBED);return}}).receive("error",p=>{this.state=Da.errored,t==null||t(wd.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(wd.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,i){return this.state===Da.joined&&t===k0.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,i)}async httpSend(t,n,i={}){var r;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(r=i.timeout)!==null&&r!==void 0?r:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,n={}){var i,r;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((r=u.body)===null||r===void 0?void 0:r.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Da.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xu.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(r=>{i=new eC(this,xu.leave,{},t),i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Da.closed,this.bindings={}}async _fetchWithTimeout(t,n,i){const r=new AbortController,a=setTimeout(()=>r.abort(),i),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:r.signal}));return clearTimeout(a),o}_push(t,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new eC(this,t,n,i);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>g6e){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,i){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,i){var r,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=xu;if(i&&[l,c,u,d].indexOf(o)>=0&&i!==this._joinRef())return;let m=this._onMessage(o,n,i);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(p=>{var v,S,b;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(S=p.filter)===null||S===void 0?void 0:S.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(p=>p.callback(m,i)):(a=this.bindings[o])===null||a===void 0||a.filter(p=>{var v,S,b,w,R,E;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const _=p.id,N=(v=p.filter)===null||v===void 0?void 0:v.event;return _&&((S=n.ids)===null||S===void 0?void 0:S.includes(_))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const _=(R=(w=p==null?void 0:p.filter)===null||w===void 0?void 0:w.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return _==="*"||_===((E=n==null?void 0:n.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof m=="object"&&"ids"in m){const v=m.data,{schema:S,table:b,commit_timestamp:w,type:R,errors:E}=v;m=Object.assign(Object.assign({},{schema:S,table:b,commit_timestamp:w,eventType:R,new:{},old:{},errors:E}),this._getPayloadRecords(v))}p.callback(m,i)})}_isClosed(){return this.state===Da.closed}_isJoined(){return this.state===Da.joined}_isJoining(){return this.state===Da.joining}_isLeaving(){return this.state===Da.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,i){const r=t.toLocaleLowerCase(),a={type:r,filter:n,callback:i};return this.bindings[r]?this.bindings[r].push(a):this.bindings[r]=[a],this}_off(t,n){const i=t.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(r=>{var a;return!(((a=r.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===i&&zb.isEqual(r.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const i in t)if(t[i]!==n[i])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(xu.close,{},t)}_onError(t){this._on(xu.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Da.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=uK(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=uK(t.columns,t.old_record)),n}};const tC=()=>{},kE={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},R6e=[1e3,2e3,5e3,1e4],N6e=1e4,O6e=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let j6e=class{constructor(t,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=d6,this.transport=null,this.heartbeatIntervalMs=kE.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=tC,this.ref=0,this.reconnectTimer=null,this.vsn=cK,this.logger=tC,this.conn=null,this.sendBuffer=[],this.serializer=new v6e,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=r=>r?(...a)=>r(...a):(...a)=>fetch(...a),!(!((i=n==null?void 0:n.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${f6.websocket}`,this.httpEndpoint=xoe(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=goe.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,i){this.logger(t,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case My.connecting:return Iy.Connecting;case My.open:return Iy.Open;case My.closing:return Iy.Closing;default:return Iy.Closed}}isConnected(){return this.connectionState()===Iy.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const i=`realtime:${t}`,r=this.getChannels().find(a=>a.topic===i);if(r)return r;{const a=new Eoe(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:i,payload:r,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${i} (${a})`,r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(y6e,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},kE.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:r,payload:a,ref:o}=n,l=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${i} ${r} ${l}`.trim(),a),this.channels.filter(u=>u._isMember(i)).forEach(u=>u._trigger(r,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===My.open||this.conn.readyState===My.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(xu.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const i=t.match(/\?/)?"&":"?",r=new URLSearchParams(n);return`${t}${i}${r}`}_workerObjectUrl(t){let n;if(t)n=t;else{const i=new Blob([O6e],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,i=!1;if(t)n=t,i=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(r){this.log("error","Error fetching access token from callback",r),n=this.accessTokenValue}else n=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const a={access_token:n,version:p6e};n&&r.updateJoinPayload(a),r.joinedOnce&&r._isJoined()&&r._push(xu.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(i=>{try{i(n)}catch(r){this.log("error",`error in ${t} callback`,r)}})}catch(i){this.log("error",`error triggering ${t} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Soe(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},kE.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,i,r,a,o,l,c,u,d,h,m,p;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(i=t==null?void 0:t.timeout)!==null&&i!==void 0?i:d6,this.heartbeatIntervalMs=(r=t==null?void 0:t.heartbeatIntervalMs)!==null&&r!==void 0?r:kE.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:tC,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:cK,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:(v=>R6e[v-1]||N6e),this.vsn){case voe:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:((v,S)=>S(JSON.stringify(v))),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:((v,S)=>S(JSON.parse(v)));break;case m6e:this.encode=(m=t==null?void 0:t.encode)!==null&&m!==void 0?m:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}};const D6e=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:A6e,get REALTIME_LISTEN_TYPES(){return k0},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return m6},get REALTIME_PRESENCE_LISTEN_EVENTS(){return p6},get REALTIME_SUBSCRIBE_STATES(){return wd},RealtimeChannel:Eoe,RealtimeClient:j6e,RealtimePresence:woe,WebSocketFactory:goe},Symbol.toStringTag,{value:"Module"})),_oe=A2(D6e);class G2 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function $r(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Aoe extends G2{constructor(t,n,i){super(t),this.name="StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class tR extends G2{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const n8=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),C6e=()=>Response,y6=e=>{if(Array.isArray(e))return e.map(n=>y6(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,i])=>{const r=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[r]=y6(i)}),t},L6e=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},T6e=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),nC=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},M6e=(e,t,n)=>nn(void 0,void 0,void 0,function*(){const i=yield C6e();e instanceof i&&!(n!=null&&n.noResolveJson)?e.json().then(r=>{const a=e.status||500,o=(r==null?void 0:r.statusCode)||a+"";t(new Aoe(nC(r),a,o))}).catch(r=>{t(new tR(nC(r),r))}):t(new tR(nC(e),e))}),I6e=(e,t,n,i)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!i?r:(L6e(i)?(r.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r.body=JSON.stringify(i)):r.body=i,t!=null&&t.duplex&&(r.duplex=t.duplex),Object.assign(Object.assign({},r),n))};function H2(e,t,n,i,r,a){return nn(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,I6e(t,i,r,a)).then(c=>{if(!c.ok)throw c;return i!=null&&i.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>M6e(c,l,i))})})}function jx(e,t,n,i){return nn(this,void 0,void 0,function*(){return H2(e,"GET",t,n,i)})}function vu(e,t,n,i,r){return nn(this,void 0,void 0,function*(){return H2(e,"POST",t,i,r,n)})}function g6(e,t,n,i,r){return nn(this,void 0,void 0,function*(){return H2(e,"PUT",t,i,r,n)})}function P6e(e,t,n,i){return nn(this,void 0,void 0,function*(){return H2(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function i8(e,t,n,i,r){return nn(this,void 0,void 0,function*(){return H2(e,"DELETE",t,i,r,n)})}class k6e{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return nn(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if($r(t))return{data:null,error:t};throw t}})}}var Roe;class $6e{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[Roe]="BlobDownloadBuilder",this.promise=null}asStream(){return new k6e(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return nn(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if($r(t))return{data:null,error:t};throw t}})}}Roe=Symbol.toStringTag;const F6e={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},dK={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class B6e{constructor(t,n={},i,r){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=i,this.fetch=n8(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,i,r){return nn(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},dK),r);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&i instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",i)):typeof FormData<"u"&&i instanceof FormData?(a=i,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),c&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(c))):(a=i,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),r!=null&&r.headers&&(l=Object.assign(Object.assign({},l),r.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield(t=="PUT"?g6:vu)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($r(a))return{data:null,error:a};throw a}})}upload(t,n,i){return nn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,i)})}uploadToSignedUrl(t,n,i,r){return nn(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:dK.upsert},r),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&i instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",i)):typeof FormData<"u"&&i instanceof FormData?(c=i,c.append("cacheControl",u.cacheControl)):(c=i,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield g6(this.fetch,l.toString(),c,{headers:d});return{data:{path:a,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if($r(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return nn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t);const r=Object.assign({},this.headers);n!=null&&n.upsert&&(r["x-upsert"]="true");const a=yield vu(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:r}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new G2("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($r(i))return{data:null,error:i};throw i}})}update(t,n,i){return nn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,i)})}move(t,n,i){return nn(this,void 0,void 0,function*(){try{return{data:yield vu(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($r(r))return{data:null,error:r};throw r}})}copy(t,n,i){return nn(this,void 0,void 0,function*(){try{return{data:{path:(yield vu(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($r(r))return{data:null,error:r};throw r}})}createSignedUrl(t,n,i){return nn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),a=yield vu(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:n},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const o=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($r(r))return{data:null,error:r};throw r}})}createSignedUrls(t,n,i){return nn(this,void 0,void 0,function*(){try{const r=yield vu(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:r.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($r(r))return{data:null,error:r};throw r}})}download(t,n){const r=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=a?`?${a}`:"",l=this._getFinalPath(t),c=()=>jx(this.fetch,`${this.url}/${r}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new $6e(c,this.shouldThrowOnError)}info(t){return nn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const i=yield jx(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:y6(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($r(i))return{data:null,error:i};throw i}})}exists(t){return nn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield P6e(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($r(i)&&i instanceof tR){const r=i.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:i}}throw i}})}getPublicUrl(t,n){const i=this._getFinalPath(t),r=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&r.push(a);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&r.push(c);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${i}${u}`)}}}remove(t){return nn(this,void 0,void 0,function*(){try{return{data:yield i8(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($r(n))return{data:null,error:n};throw n}})}list(t,n,i){return nn(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},F6e),n),{prefix:t||""});return{data:yield vu(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},i),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($r(r))return{data:null,error:r};throw r}})}listV2(t,n){return nn(this,void 0,void 0,function*(){try{const i=Object.assign({},t);return{data:yield vu(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($r(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Noe="2.87.1",Ooe={"X-Client-Info":`storage-js/${Noe}`};class z6e{constructor(t,n={},i,r){this.shouldThrowOnError=!1;const a=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ooe),n),this.fetch=n8(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return nn(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield jx(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($r(n))return{data:null,error:n};throw n}})}getBucket(t){return nn(this,void 0,void 0,function*(){try{return{data:yield jx(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($r(n))return{data:null,error:n};throw n}})}createBucket(t){return nn(this,arguments,void 0,function*(n,i={public:!1}){try{return{data:yield vu(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($r(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return nn(this,void 0,void 0,function*(){try{return{data:yield g6(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($r(i))return{data:null,error:i};throw i}})}emptyBucket(t){return nn(this,void 0,void 0,function*(){try{return{data:yield vu(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($r(n))return{data:null,error:n};throw n}})}deleteBucket(t){return nn(this,void 0,void 0,function*(){try{return{data:yield i8(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($r(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var Dx=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function U6e(e,t,n){const i=new URL(t,e);if(n)for(const[r,a]of Object.entries(n))a!==void 0&&i.searchParams.set(r,a);return i.toString()}async function V6e(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function K6e(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:i,query:r,body:a,headers:o}){const l=U6e(e.baseUrl,i,r),c=await V6e(e.auth),u=await t(l,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...c,...o},body:a?JSON.stringify(a):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),m=h&&d?JSON.parse(d):d;if(!u.ok){const p=h?m:void 0,v=p==null?void 0:p.error;throw new Dx((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:p})}return{status:u.status,headers:u.headers,data:m}}}}function $E(e){return e.join("")}var G6e=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:$E(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${$E(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${$E(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${$E(e.namespace)}`}),!0}catch(t){if(t instanceof Dx&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Dx&&n.status===409)return;throw n}}};function t0(e){return e.join("")}var H6e=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${t0(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${t0(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${t0(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${t0(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${t0(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${t0(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Dx&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Dx&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},q6e=class{constructor(e){var i;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=K6e({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(i=e.accessDelegation)==null?void 0:i.join(","),this.namespaceOps=new G6e(this.client,t),this.tableOps=new H6e(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class joe{constructor(t,n={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ooe),n),this.fetch=n8(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return nn(this,void 0,void 0,function*(){try{return{data:yield vu(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($r(n))return{data:null,error:n};throw n}})}listBuckets(t){return nn(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const i=n.toString(),r=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`;return{data:yield jx(this.fetch,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($r(n))return{data:null,error:n};throw n}})}deleteBucket(t){return nn(this,void 0,void 0,function*(){try{return{data:yield i8(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($r(n))return{data:null,error:n};throw n}})}from(t){if(!T6e(t))throw new G2("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new q6e({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>nn(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(n,{get(a,o){const l=a[o];return typeof l!="function"?l:(...c)=>nn(this,void 0,void 0,function*(){try{return{data:yield l.apply(a,c),error:null}}catch(u){if(i)throw u;return{data:null,error:u}}})}})}}const r8={"X-Client-Info":`storage-js/${Noe}`,"Content-Type":"application/json"};class a8 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function tl(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Q_ extends a8{constructor(t,n,i){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Doe extends a8{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var v6;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(v6||(v6={}));const NO=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),W6e=()=>Response,Coe=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Y6e=e=>Array.from(new Float32Array(e)),J6e=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},fK=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Q6e=(e,t,n)=>nn(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const r=e.status||500,a=e;if(typeof a.json=="function")a.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||r+"";t(new Q_(fK(o),r,l))}).catch(()=>{const o=r+"",l=a.statusText||`HTTP ${r} error`;t(new Q_(l,r,o))});else{const o=r+"",l=a.statusText||`HTTP ${r} error`;t(new Q_(l,r,o))}}else t(new Doe(fK(e),e))}),X6e=(e,t,n,i)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return i?(Coe(i)?(r.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r.body=JSON.stringify(i)):r.body=i,Object.assign(Object.assign({},r),n)):r};function Z6e(e,t,n,i,r,a){return nn(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,X6e(t,i,r,a)).then(c=>{if(!c.ok)throw c;if(i!=null&&i.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>Q6e(c,l,i))})})}function Il(e,t,n,i,r){return nn(this,void 0,void 0,function*(){return Z6e(e,"POST",t,i,r,n)})}class Loe{constructor(t,n={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},r8),n),this.fetch=NO(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return nn(this,void 0,void 0,function*(){try{return{data:(yield Il(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tl(n))return{data:null,error:n};throw n}})}getIndex(t,n){return nn(this,void 0,void 0,function*(){try{return{data:yield Il(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(tl(i))return{data:null,error:i};throw i}})}listIndexes(t){return nn(this,void 0,void 0,function*(){try{return{data:yield Il(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tl(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return nn(this,void 0,void 0,function*(){try{return{data:(yield Il(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(tl(i))return{data:null,error:i};throw i}})}}class Toe{constructor(t,n={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},r8),n),this.fetch=NO(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return nn(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Il(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tl(n))return{data:null,error:n};throw n}})}getVectors(t){return nn(this,void 0,void 0,function*(){try{return{data:yield Il(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tl(n))return{data:null,error:n};throw n}})}listVectors(t){return nn(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Il(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tl(n))return{data:null,error:n};throw n}})}queryVectors(t){return nn(this,void 0,void 0,function*(){try{return{data:yield Il(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tl(n))return{data:null,error:n};throw n}})}deleteVectors(t){return nn(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Il(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tl(n))return{data:null,error:n};throw n}})}}class Moe{constructor(t,n={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},r8),n),this.fetch=NO(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return nn(this,void 0,void 0,function*(){try{return{data:(yield Il(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tl(n))return{data:null,error:n};throw n}})}getBucket(t){return nn(this,void 0,void 0,function*(){try{return{data:yield Il(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tl(n))return{data:null,error:n};throw n}})}listBuckets(){return nn(this,arguments,void 0,function*(t={}){try{return{data:yield Il(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tl(n))return{data:null,error:n};throw n}})}deleteBucket(t){return nn(this,void 0,void 0,function*(){try{return{data:(yield Il(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tl(n))return{data:null,error:n};throw n}})}}class Ioe extends Moe{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new Poe(this.url,this.headers,t,this.fetch)}createBucket(t){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return nn(this,void 0,void 0,function*(){return n.createBucket.call(this,t)})}getBucket(t){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return nn(this,void 0,void 0,function*(){return n.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return nn(this,arguments,void 0,function*(n={}){return t.listBuckets.call(this,n)})}deleteBucket(t){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return nn(this,void 0,void 0,function*(){return n.deleteBucket.call(this,t)})}}class Poe extends Loe{constructor(t,n,i,r){super(t,n,r),this.vectorBucketName=i}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return nn(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return nn(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return nn(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return nn(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new koe(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class koe extends Toe{constructor(t,n,i,r,a){super(t,n,a),this.vectorBucketName=i,this.indexName=r}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return nn(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return nn(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return nn(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return nn(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return nn(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class eMe extends z6e{constructor(t,n={},i,r){super(t,n,i,r)}from(t){return new B6e(this.url,this.headers,t,this.fetch)}get vectors(){return new Ioe(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new joe(this.url+"/iceberg",this.headers,this.fetch)}}const tMe=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:joe,StorageApiError:Aoe,StorageClient:eMe,StorageError:G2,StorageUnknownError:tR,StorageVectorsApiError:Q_,StorageVectorsClient:Ioe,StorageVectorsError:a8,get StorageVectorsErrorCode(){return v6},StorageVectorsUnknownError:Doe,VectorBucketApi:Moe,VectorBucketScope:Poe,VectorDataApi:Toe,VectorIndexApi:Loe,VectorIndexScope:koe,isPlainObject:Coe,isStorageError:$r,isStorageVectorsError:tl,normalizeToFloat32:Y6e,resolveFetch:NO,resolveResponse:W6e,validateVectorDimension:J6e},Symbol.toStringTag,{value:"Module"})),nMe=A2(tMe);var iC={},rb={},hK;function iMe(){return hK||(hK=1,Object.defineProperty(rb,"__esModule",{value:!0}),rb.version=void 0,rb.version="2.87.1"),rb}var pK;function rMe(){return pK||(pK=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=iMe();let n="";typeof Deno<"u"?n="deno":typeof document<"u"?n="web":typeof navigator<"u"&&navigator.product==="ReactNative"?n="react-native":n="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${n}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(iC)),iC}var rC={},mK;function aMe(){return mK||(mK=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=r=>r?(...a)=>r(...a):(...a)=>fetch(...a);e.resolveFetch=t;const n=()=>Headers;e.resolveHeadersConstructor=n;const i=(r,a,o)=>{const l=(0,e.resolveFetch)(o),c=(0,e.resolveHeadersConstructor)();return async(u,d)=>{var h;const m=(h=await a())!==null&&h!==void 0?h:r;let p=new c(d==null?void 0:d.headers);return p.has("apikey")||p.set("apikey",r),p.has("Authorization")||p.set("Authorization",`Bearer ${m}`),l(u,Object.assign(Object.assign({},d),{headers:p}))}};e.fetchWithAuth=i})(rC)),rC}var Mf={},yK;function sMe(){if(yK)return Mf;yK=1,Object.defineProperty(Mf,"__esModule",{value:!0}),Mf.isBrowser=void 0,Mf.uuid=e,Mf.ensureTrailingSlash=t,Mf.applySettingDefaults=i,Mf.validateSupabaseUrl=r;function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var o=Math.random()*16|0,l=a=="x"?o:o&3|8;return l.toString(16)})}function t(a){return a.endsWith("/")?a:a+"/"}const n=()=>typeof window<"u";Mf.isBrowser=n;function i(a,o){var l,c;const{db:u,auth:d,realtime:h,global:m}=a,{db:p,auth:v,realtime:S,global:b}=o,w={db:Object.assign(Object.assign({},p),u),auth:Object.assign(Object.assign({},v),d),realtime:Object.assign(Object.assign({},S),h),storage:{},global:Object.assign(Object.assign(Object.assign({},b),m),{headers:Object.assign(Object.assign({},(l=b==null?void 0:b.headers)!==null&&l!==void 0?l:{}),(c=m==null?void 0:m.headers)!==null&&c!==void 0?c:{})}),accessToken:async()=>""};return a.accessToken?w.accessToken=a.accessToken:delete w.accessToken,w}function r(a){const o=a==null?void 0:a.trim();if(!o)throw new Error("supabaseUrl is required.");if(!o.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t(o))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return Mf}var ab={};const $oe="2.87.1",m0=30*1e3,S6=3,aC=S6*m0,oMe="http://localhost:9999",lMe="supabase.auth.token",cMe={"X-Client-Info":`gotrue-js/${$oe}`},b6="X-Supabase-Api-Version",Foe={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},uMe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,dMe=600*1e3;let E1=class extends Error{constructor(t,n,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}};function mn(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let Boe=class extends E1{constructor(t,n,i){super(t,n,i),this.name="AuthApiError",this.status=n,this.code=i}};function zoe(e){return mn(e)&&e.name==="AuthApiError"}let Cp=class extends E1{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},_h=class extends E1{constructor(t,n,i,r){super(t,i,r),this.name=n,this.status=i}},Jo=class extends _h{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Uoe(e){return mn(e)&&e.name==="AuthSessionMissingError"}let Ey=class extends _h{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Ub=class extends _h{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Vb=class extends _h{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function Voe(e){return mn(e)&&e.name==="AuthImplicitGrantRedirectError"}let x6=class extends _h{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},nR=class extends _h{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function X_(e){return mn(e)&&e.name==="AuthRetryableFetchError"}let w6=class extends _h{constructor(t,n,i){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}};function fMe(e){return mn(e)&&e.name==="AuthWeakPasswordError"}let iR=class extends _h{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const rR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),gK=` 	
\r=`.split(""),hMe=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<gK.length;t+=1)e[gK[t].charCodeAt(0)]=-2;for(let t=0;t<rR.length;t+=1)e[rR[t].charCodeAt(0)]=t;return e})();function vK(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;n(rR[i]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;n(rR[i]),t.queuedBits-=6}}function Koe(e,t,n){const i=hMe[e];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function SK(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},i={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},a=o=>{yMe(o,i,n)};for(let o=0;o<e.length;o+=1)Koe(e.charCodeAt(o),r,a);return t.join("")}function pMe(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function mMe(e,t){for(let n=0;n<e.length;n+=1){let i=e.charCodeAt(n);if(i>55295&&i<=56319){const r=(i-55296)*1024&65535;i=(e.charCodeAt(n+1)-56320&65535|r)+65536,n+=1}pMe(i,t)}}function yMe(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let i=1;i<6;i+=1)if((e>>7-i&1)===0){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function $0(e){const t=[],n={queue:0,queuedBits:0},i=r=>{t.push(r)};for(let r=0;r<e.length;r+=1)Koe(e.charCodeAt(r),n,i);return new Uint8Array(t)}function gMe(e){const t=[];return mMe(e,n=>t.push(n)),new Uint8Array(t)}function Fy(e){const t=[],n={queue:0,queuedBits:0},i=r=>{t.push(r)};return e.forEach(r=>vK(r,n,i)),vK(null,n,i),t.join("")}function vMe(e){return Math.round(Date.now()/1e3)+e}function SMe(){return Symbol("auth-callback")}const Ts=()=>typeof window<"u"&&typeof document<"u",vy={tested:!1,writable:!1},Goe=()=>{if(!Ts())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(vy.tested)return vy.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),vy.tested=!0,vy.writable=!0}catch{vy.tested=!0,vy.writable=!1}return vy.writable};function bMe(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((r,a)=>{t[a]=r})}catch{}return n.searchParams.forEach((i,r)=>{t[r]=i}),t}const Hoe=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),xMe=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",y0=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Sy=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ls=async(e,t)=>{await e.removeItem(t)};class OO{constructor(){this.promise=new OO.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}OO.promiseConstructor=Promise;function sC(e){const t=e.split(".");if(t.length!==3)throw new iR("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!uMe.test(t[i]))throw new iR("JWT not in base64url format");return{header:JSON.parse(SK(t[0])),payload:JSON.parse(SK(t[1])),signature:$0(t[2]),raw:{header:t[0],payload:t[1]}}}async function wMe(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function EMe(e,t){return new Promise((i,r)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){i(o);return}}catch(o){if(!t(a,o)){r(o);return}}})()})}function _Me(e){return("0"+e.toString(16)).substr(-2)}function AMe(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let r="";for(let a=0;a<56;a++)r+=n.charAt(Math.floor(Math.random()*i));return r}return crypto.getRandomValues(t),Array.from(t,_Me).join("")}async function RMe(e){const n=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",n),r=new Uint8Array(i);return Array.from(r).map(a=>String.fromCharCode(a)).join("")}async function NMe(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await RMe(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function n0(e,t,n=!1){const i=AMe();let r=i;n&&(r+="/PASSWORD_RECOVERY"),await y0(e,`${t}-code-verifier`,r);const a=await NMe(i);return[a,i===a?"plain":"s256"]}const OMe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function jMe(e){const t=e.headers.get(b6);if(!t||!t.match(OMe))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function DMe(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function CMe(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const LMe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function i0(e){if(!LMe.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function oC(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function TMe(e,t){return new Proxy(e,{get:(n,i,r)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const a=i.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,i,r)}return!t.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,i,r)}})}function bK(e){return JSON.parse(JSON.stringify(e))}const _y=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),MMe=[502,503,504];async function xK(e){var t;if(!xMe(e))throw new nR(_y(e),0);if(MMe.includes(e.status))throw new nR(_y(e),e.status);let n;try{n=await e.json()}catch(a){throw new Cp(_y(a),a)}let i;const r=jMe(e);if(r&&r.getTime()>=Foe["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new w6(_y(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new Jo}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new w6(_y(n),e.status,n.weak_password.reasons);throw new Boe(_y(n),e.status||500,i)}const IMe=(e,t,n,i)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),r.body=JSON.stringify(i),Object.assign(Object.assign({},r),n))};async function Tn(e,t,n,i){var r;const a=Object.assign({},i==null?void 0:i.headers);a[b6]||(a[b6]=Foe["2024-01-01"].name),i!=null&&i.jwt&&(a.Authorization=`Bearer ${i.jwt}`);const o=(r=i==null?void 0:i.query)!==null&&r!==void 0?r:{};i!=null&&i.redirectTo&&(o.redirect_to=i.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await PMe(e,t,n+l,{headers:a,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(c):{data:Object.assign({},c),error:null}}async function PMe(e,t,n,i,r,a){const o=IMe(t,i,r,a);let l;try{l=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new nR(_y(c),0)}if(l.ok||await xK(l),i!=null&&i.noResolveJson)return l;try{return await l.json()}catch(c){await xK(c)}}function hu(e){var t;let n=null;FMe(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=vMe(e.expires_in)));const i=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:i},error:null}}function wK(e){const t=hu(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Lp(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function kMe(e){return{data:e,error:null}}function $Me(e){const{action_link:t,email_otp:n,hashed_token:i,redirect_to:r,verification_type:a}=e,o=xm(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:i,redirect_to:r,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function EK(e){return e}function FMe(e){return e.access_token&&e.refresh_token&&e.expires_in}const Z_=["global","local","others"];let s8=class{constructor({url:t="",headers:n={},fetch:i}){this.url=t,this.headers=n,this.fetch=Hoe(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Z_[0]){if(Z_.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Z_.join(", ")}`);try{return await Tn(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(mn(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,n={}){try{return await Tn(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Lp})}catch(i){if(mn(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:n}=t,i=xm(t,["options"]),r=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(r.new_email=i==null?void 0:i.newEmail,delete r.newEmail),await Tn(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:$Me,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(mn(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Tn(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Lp})}catch(n){if(mn(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,i,r,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Tn(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(a=(r=t==null?void 0:t.perPage)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:""},xform:EK});if(d.error)throw d.error;const h=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(v=>{const S=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=S}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(mn(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){i0(t);try{return await Tn(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Lp})}catch(n){if(mn(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){i0(t);try{return await Tn(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Lp})}catch(i){if(mn(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,n=!1){i0(t);try{return await Tn(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Lp})}catch(i){if(mn(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){i0(t.userId);try{const{data:n,error:i}=await Tn(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:n,error:i}}catch(n){if(mn(n))return{data:null,error:n};throw n}}async _deleteFactor(t){i0(t.userId),i0(t.id);try{return{data:await Tn(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(mn(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,i,r,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Tn(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(a=(r=t==null?void 0:t.perPage)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:""},xform:EK});if(d.error)throw d.error;const h=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(v=>{const S=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=S}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(mn(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Tn(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(mn(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Tn(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(mn(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await Tn(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(mn(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(t){try{return await Tn(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(mn(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Tn(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(mn(n))return{data:null,error:n};throw n}}};function _K(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Ay={debug:!!(globalThis&&Goe()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class o8 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let qoe=class extends o8{};class BMe extends o8{}async function Woe(e,t,n){Ay.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),Ay.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async r=>{if(r){Ay.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{Ay.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}else{if(t===0)throw Ay.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new qoe(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ay.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}const AK={};async function zMe(e,t,n){var i;const r=(i=AK[e])!==null&&i!==void 0?i:Promise.resolve(),a=Promise.race([r.catch(()=>null),t>=0?new Promise((o,l)=>{setTimeout(()=>{l(new BMe(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await n());return AK[e]=a.catch(async o=>{if(o&&o.isAcquireTimeout)return await r,null;throw o}),await a}function UMe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Yoe(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function VMe(e){return parseInt(e,16)}function KMe(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,i=>i.toString(16).padStart(2,"0")).join("")}function GMe(e){var t;const{chainId:n,domain:i,expirationTime:r,issuedAt:a=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:h,version:m}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=Yoe(e.address),v=d?`${d}://${i}`:i,S=e.statement?`${e.statement}
`:"",b=`${v} wants you to sign in with your Ethereum account:
${p}

${S}`;let w=`URI: ${h}
Version: ${m}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(r&&(w+=`
Expiration Time: ${r.toISOString()}`),l&&(w+=`
Not Before: ${l.toISOString()}`),c&&(w+=`
Request ID: ${c}`),u){let R=`
Resources:`;for(const E of u){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);R+=`
- ${E}`}w+=R}return`${b}
${w}`}class Ca extends Error{constructor({message:t,code:n,cause:i,name:r}){var a;super(t,{cause:i}),this.__isWebAuthnError=!0,this.name=(a=r??(i instanceof Error?i.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class aR extends Ca{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function HMe({error:e,options:t}){var n,i,r;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ca({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Ca({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ca({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Ca({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ca({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ca({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Ca({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ca({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(Joe(o)){if(a.rp.id!==o)return new Ca({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ca({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Ca({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ca({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ca({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function qMe({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ca({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ca({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(Joe(i)){if(n.rpId!==i)return new Ca({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ca({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ca({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ca({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class WMe{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const YMe=new WMe;function JMe(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:i}=e,r=xm(e,["challenge","user","excludeCredentials"]),a=$0(t).buffer,o=Object.assign(Object.assign({},n),{id:$0(n.id).buffer}),l=Object.assign(Object.assign({},r),{challenge:a,user:o});if(i&&i.length>0){l.excludeCredentials=new Array(i.length);for(let c=0;c<i.length;c++){const u=i[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:$0(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function QMe(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,i=xm(e,["challenge","allowCredentials"]),r=$0(t).buffer,a=Object.assign(Object.assign({},i),{challenge:r});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const l=n[o];a.allowCredentials[o]=Object.assign(Object.assign({},l),{id:$0(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function XMe(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Fy(new Uint8Array(e.response.attestationObject)),clientDataJSON:Fy(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function ZMe(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,i=e.getClientExtensionResults(),r=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Fy(new Uint8Array(r.authenticatorData)),clientDataJSON:Fy(new Uint8Array(r.clientDataJSON)),signature:Fy(new Uint8Array(r.signature)),userHandle:r.userHandle?Fy(new Uint8Array(r.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Joe(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function RK(){var e,t;return!!(Ts()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function eIe(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new aR("Browser returned unexpected credential type",t)}:{data:null,error:new aR("Empty credential response",t)}}catch(t){return{data:null,error:HMe({error:t,options:e})}}}async function tIe(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new aR("Browser returned unexpected credential type",t)}:{data:null,error:new aR("Empty credential response",t)}}catch(t){return{data:null,error:qMe({error:t,options:e})}}}const nIe={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},iIe={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function sR(...e){const t=r=>r!==null&&typeof r=="object"&&!Array.isArray(r),n=r=>r instanceof ArrayBuffer||ArrayBuffer.isView(r),i={};for(const r of e)if(r)for(const a in r){const o=r[a];if(o!==void 0)if(Array.isArray(o))i[a]=o;else if(n(o))i[a]=o;else if(t(o)){const l=i[a];t(l)?i[a]=sR(l,o):i[a]=sR(o)}else i[a]=o}return i}function rIe(e,t){return sR(nIe,e,t||{})}function aIe(e,t){return sR(iIe,e,t||{})}class sIe{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:i,signal:r},a){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:l};const c=r??YMe.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${i}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=rIe(o.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:d,error:h}=await eIe({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=aIe(o.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:d,error:h}=await tIe(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(o){return mn(o)?{data:null,error:o}:{data:null,error:new Cp("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:i}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:i})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:r}={}},a){if(!n)return{data:null,error:new E1("rpId is required for WebAuthn authentication")};try{if(!RK())return{data:null,error:new Cp("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:i},signal:r},{request:a});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:i,credential_response:c.credential_response}})}catch(o){return mn(o)?{data:null,error:o}:{data:null,error:new Cp("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:r}={}},a){if(!n)return{data:null,error:new E1("rpId is required for WebAuthn registration")};try{if(!RK())return{data:null,error:new Cp("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:i},signal:r},{create:a});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:i,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return mn(o)?{data:null,error:o}:{data:null,error:new Cp("Unexpected error in register",o)}}}}UMe();const oIe={url:oMe,storageKey:lMe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:cMe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function NK(e,t,n){return await n()}const r0={};let l8=class E6{get jwks(){var t,n;return(n=(t=r0[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){r0[this.storageKey]=Object.assign(Object.assign({},r0[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=r0[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){r0[this.storageKey]=Object.assign(Object.assign({},r0[this.storageKey]),{cachedAt:t})}constructor(t){var n,i,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},oIe),t);if(this.storageKey=a.storageKey,this.instanceID=(n=E6.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,E6.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Ts()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new s8({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Hoe(a.fetch),this.lock=a.lock||NK,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:this.persistSession&&Ts()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=Woe:this.lock=NK,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new sIe(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Goe()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=_K(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=_K(this.memoryStorage)),Ts()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${$oe}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},i="none";if(Ts()&&(n=bMe(window.location.href),this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce")),Ts()&&this.detectSessionInUrl&&i!=="none"){const{data:r,error:a}=await this._getSessionFromURL(n,i);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Voe(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return mn(n)?this._returnResult({error:n}):this._returnResult({error:new Cp("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,i,r;try{const a=await Tn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.captchaToken}},xform:hu}),{data:o,error:l}=a;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(mn(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,i,r;try{let a;if("email"in t){const{email:d,password:h,options:m}=t;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await n0(this.storage,this.storageKey)),a=await Tn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:v},xform:hu})}else if("phone"in t){const{phone:d,password:h,options:m}=t;a=await Tn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(i=m==null?void 0:m.data)!==null&&i!==void 0?i:{},channel:(r=m==null?void 0:m.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:hu})}else throw new Ub("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return await Ls(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(await Ls(this.storage,`${this.storageKey}-code-verifier`),mn(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:l}=t;n=await Tn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:wK})}else if("phone"in t){const{phone:a,password:o,options:l}=t;n=await Tn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:wK})}else throw new Ub("You must provide either an email or phone number and a password");const{data:i,error:r}=n;if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!i||!i.session||!i.user){const a=new Ey;return this._returnResult({data:{user:null,session:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:r})}catch(n){if(mn(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,i,r,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(r=t.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,i,r,a,o,l,c,u,d,h,m;let p,v;if("message"in t)p=t.message,v=t.signature;else{const{chain:S,wallet:b,statement:w,options:R}=t;let E;if(Ts())if(typeof b=="object")E=b;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")E=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(R!=null&&R.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=b}const _=new URL((n=R==null?void 0:R.url)!==null&&n!==void 0?n:window.location.href),N=await E.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const O=Yoe(N[0]);let j=(i=R==null?void 0:R.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!j){const P=await E.request({method:"eth_chainId"});j=VMe(P)}const D={domain:_.host,address:O,statement:w,uri:_.href,version:"1",chainId:j,nonce:(r=R==null?void 0:R.signInWithEthereum)===null||r===void 0?void 0:r.nonce,issuedAt:(o=(a=R==null?void 0:R.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=R==null?void 0:R.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=R==null?void 0:R.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=R==null?void 0:R.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=R==null?void 0:R.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=GMe(D),v=await E.request({method:"personal_sign",params:[KMe(p),O]})}try{const{data:S,error:b}=await Tn(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:v},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:hu});if(b)throw b;if(!S||!S.session||!S.user){const w=new Ey;return this._returnResult({data:{user:null,session:null},error:w})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:b})}catch(S){if(mn(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(t){var n,i,r,a,o,l,c,u,d,h,m,p;let v,S;if("message"in t)v=t.message,S=t.signature;else{const{chain:b,wallet:w,statement:R,options:E}=t;let _;if(Ts())if(typeof w=="object")_=w;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))_=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=w}const N=new URL((n=E==null?void 0:E.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const O=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E==null?void 0:E.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),R?{statement:R}:null));let j;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")j=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)j=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)v=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),S=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${N.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...R?["",R,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(r=(i=E==null?void 0:E.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((a=E==null?void 0:E.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((o=E==null?void 0:E.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((l=E==null?void 0:E.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((c=E==null?void 0:E.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((u=E==null?void 0:E.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((h=(d=E==null?void 0:E.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...E.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const O=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=O}}try{const{data:b,error:w}=await Tn(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Fy(S)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:hu});if(w)throw w;if(!b||!b.session||!b.user){const R=new Ey;return this._returnResult({data:{user:null,session:null},error:R})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:w})}catch(b){if(mn(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(t){const n=await Sy(this.storage,`${this.storageKey}-code-verifier`),[i,r]=(n??"").split("/");try{const{data:a,error:o}=await Tn(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:hu});if(await Ls(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const l=new Ey;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:r??null}),error:o})}catch(a){if(await Ls(this.storage,`${this.storageKey}-code-verifier`),mn(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:i,token:r,access_token:a,nonce:o}=t,l=await Tn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:r,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:hu}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Ey;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(n){if(mn(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,i,r,a,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await n0(this.storage,this.storageKey));const{error:h}=await Tn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Tn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Ub("You must provide either an email or phone number.")}catch(l){if(await Ls(this.storage,`${this.storageKey}-code-verifier`),mn(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var n,i;try{let r,a;"options"in t&&(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:o,error:l}=await Tn(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:r,xform:hu});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(r){if(mn(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithSSO(t){var n,i,r,a,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await n0(this.storage,this.storageKey));const u=await Tn(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((r=t==null?void 0:t.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:kMe});return!((a=u.data)===null||a===void 0)&&a.url&&Ts()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await Ls(this.storage,`${this.storageKey}-code-verifier`),mn(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:i}=t;if(i)throw i;if(!n)throw new Jo;const{error:r}=await Tn(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:r})})}catch(t){if(mn(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:i,type:r,options:a}=t,{error:o}=await Tn(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:r,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:i,type:r,options:a}=t,{data:o,error:l}=await Tn(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:r,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new Ub("You must provide either an email or phone number and a type")}catch(n){if(mn(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Sy(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<aC:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){const o=await Sy(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=oC()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=TMe(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:r,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:r},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await Tn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Lp}):await this._useSession(async n=>{var i,r,a;const{data:o,error:l}=n;if(l)throw l;return!(!((i=o.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Jo}:await Tn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0,xform:Lp})})}catch(n){if(mn(n))return Uoe(n)&&(await this._removeSession(),await Ls(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async i=>{const{data:r,error:a}=i;if(a)throw a;if(!r.session)throw new Jo;const o=r.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await n0(this.storage,this.storageKey));const{data:u,error:d}=await Tn(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Lp});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(i){if(await Ls(this.storage,`${this.storageKey}-code-verifier`),mn(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Jo;const n=Date.now()/1e3;let i=n,r=!0,a=null;const{payload:o}=sC(t.access_token);if(o.exp&&(i=o.exp,r=i<=n),r){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(mn(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var i;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(i=o.session)!==null&&i!==void 0?i:void 0}if(!(t!=null&&t.refresh_token))throw new Jo;const{data:r,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):r?this._returnResult({data:{user:r.user,session:r},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(mn(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Ts())throw new Vb("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Vb(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new x6("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Vb("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new x6("No code detected.");const{data:R,error:E}=await this._exchangeCodeForSession(t.code);if(E)throw E;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:R.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:r,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!o||!u)throw new Vb("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let m=d+h;c&&(m=parseInt(c));const p=m-d;p*1e3<=m0&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const v=m-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,m,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,m,d);const{data:S,error:b}=await this._getUser(a);if(b)throw b;const w={provider_token:i,provider_refresh_token:r,access_token:a,expires_in:h,expires_at:m,refresh_token:o,token_type:u,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:t.type},error:null})}catch(i){if(mn(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Sy(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:r,error:a}=n;if(a)return this._returnResult({error:a});const o=(i=r.session)===null||i===void 0?void 0:i.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(zoe(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Ls(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=SMe(),i={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async n=>{var i,r;try{const{data:{session:a},error:o}=n;if(o)throw o;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let i=null,r=null;this.flowType==="pkce"&&([i,r]=await n0(this.storage,this.storageKey,!0));try{return await Tn(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:r,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await Ls(this.storage,`${this.storageKey}-code-verifier`),mn(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(mn(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:i,error:r}=await this._useSession(async a=>{var o,l,c,u,d;const{data:h,error:m}=a;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Tn(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(r)throw r;return Ts()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),this._returnResult({data:{provider:t.provider,url:i==null?void 0:i.url},error:null})}catch(i){if(mn(i))return this._returnResult({data:{provider:t.provider,url:null},error:i});throw i}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var i;try{const{error:r,data:{session:a}}=n;if(r)throw r;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,h=await Tn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=a==null?void 0:a.access_token)!==null&&i!==void 0?i:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:hu}),{data:m,error:p}=h;return p?this._returnResult({data:{user:null,session:null},error:p}):!m||!m.session||!m.user?this._returnResult({data:{user:null,session:null},error:new Ey}):(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),this._returnResult({data:m,error:p}))}catch(r){if(await Ls(this.storage,`${this.storageKey}-code-verifier`),mn(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var i,r;const{data:a,error:o}=n;if(o)throw o;return await Tn(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(r=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&r!==void 0?r:void 0})})}catch(n){if(mn(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await EMe(async r=>(r>0&&await wMe(200*Math.pow(2,r-1)),this._debug(n,"refreshing attempt",r),await Tn(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:hu})),(r,a)=>{const o=200*Math.pow(2,r);return a&&X_(a)&&Date.now()+o-i<m0})}catch(i){if(this._debug(n,"error",i),mn(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",i),Ts()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const r=await Sy(this.storage,this.storageKey);if(r&&this.userStorage){let o=await Sy(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:r.user},await y0(this.userStorage,this.storageKey+"-user",o)),r.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:oC()}else if(r&&!r.user&&!r.user){const o=await Sy(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(r.user=o.user,await Ls(this.storage,this.storageKey+"-user"),await y0(this.storage,this.storageKey,r)):r.user=oC()}if(this._debug(i,"session from storage",r),!this._isValidSession(r)){this._debug(i,"session is not valid"),r!==null&&await this._removeSession();return}const a=((n=r.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<aC;if(this._debug(i,`session has${a?"":" not"} expired with margin of ${aC}s`),a){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),X_(o)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(r.access_token);!l&&(o!=null&&o.user)?(r.user=o.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(i,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(i,"error",r),console.error(r);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var n,i;if(!t)throw new Jo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new OO;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new Jo;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(r,"error",a),mn(a)){const o={data:null,error:a};return X_(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(a),a}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(t,n,i=!0){const r=`#_notifyAllSubscribers(${t})`;this._debug(r,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(r,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Ls(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await y0(this.userStorage,this.storageKey+"-user",{user:n.user});const r=Object.assign({},n);delete r.user;const a=bK(r);await y0(this.storage,this.storageKey,a)}else{const r=bK(n);await y0(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ls(this.storage,this.storageKey),await Ls(this.storage,this.storageKey+"-code-verifier"),await Ls(this.storage,this.storageKey+"-user"),this.userStorage&&await Ls(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ts()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),m0);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((i.expires_at*1e3-t)/m0);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${m0}ms, refresh threshold is ${S6} ticks`),r<=S6&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof o8)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ts()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,i){const r=[`provider=${encodeURIComponent(n)}`];if(i!=null&&i.redirectTo&&r.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&r.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[a,o]=await n0(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(l.toString())}if(i!=null&&i.queryParams){const a=new URLSearchParams(i.queryParams);r.push(a.toString())}return i!=null&&i.skipBrowserRedirect&&r.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${r.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var i;const{data:r,error:a}=n;return a?this._returnResult({data:null,error:a}):await Tn(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(mn(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var i,r;const{data:a,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Tn(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((r=c==null?void 0:c.totp)===null||r===void 0)&&r.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(n){if(mn(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:r,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?XMe(t.webauthn.credential_response):ZMe(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Tn(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(n){if(mn(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:r,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=await Tn(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:JMe(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:QMe(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(mn(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:i}=await this._challenge({factorId:t.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:i}=await this.getUser();if(i)return{data:null,error:i};const r={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])r.all.push(a),a.status==="verified"&&r[a.factor_type].push(a);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:i},error:r}=await this.getSession();if(r)return this._returnResult({data:null,error:r});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=sC(i.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((n=(t=i.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:i},error:r}=n;return r?this._returnResult({data:null,error:r}):i?await Tn(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:i.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Jo})})}catch(n){if(mn(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async i=>{const{data:{session:r},error:a}=i;if(a)return this._returnResult({data:null,error:a});if(!r)return this._returnResult({data:null,error:new Jo});const o=await Tn(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Ts()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(i){if(mn(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(t,n){try{return await this._useSession(async i=>{const{data:{session:r},error:a}=i;if(a)return this._returnResult({data:null,error:a});if(!r)return this._returnResult({data:null,error:new Jo});const o=await Tn(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Ts()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(i){if(mn(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:i}=t;return i?this._returnResult({data:null,error:i}):n?await Tn(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:r=>({data:r,error:null})}):this._returnResult({data:null,error:new Jo})})}catch(t){if(mn(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:i},error:r}=n;return r?this._returnResult({data:null,error:r}):i?(await Tn(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Jo})})}catch(n){if(mn(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let i=n.keys.find(l=>l.kid===t);if(i)return i;const r=Date.now();if(i=this.jwks.keys.find(l=>l.kid===t),i&&this.jwks_cached_at+dMe>r)return i;const{data:a,error:o}=await Tn(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=r,i=a.keys.find(l=>l.kid===t),!i)?null:i}async getClaims(t,n={}){try{let i=t;if(!i){const{data:p,error:v}=await this.getSession();if(v||!p.session)return this._returnResult({data:null,error:v});i=p.session.access_token}const{header:r,payload:a,signature:o,raw:{header:l,payload:c}}=sC(i);n!=null&&n.allowExpired||DMe(a.exp);const u=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:p}=await this.getUser(i);if(p)throw p;return{data:{claims:a,header:r,signature:o},error:null}}const d=CMe(r.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,gMe(`${l}.${c}`)))throw new iR("Invalid JWT signature");return{data:{claims:a,header:r,signature:o},error:null}}catch(i){if(mn(i))return this._returnResult({data:null,error:i});throw i}}};l8.nextInstanceID={};const lIe=s8,cIe=l8,uIe=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:lIe,AuthApiError:Boe,AuthClient:cIe,AuthError:E1,AuthImplicitGrantRedirectError:Vb,AuthInvalidCredentialsError:Ub,AuthInvalidJwtError:iR,AuthInvalidTokenResponseError:Ey,AuthPKCEGrantCodeExchangeError:x6,AuthRetryableFetchError:nR,AuthSessionMissingError:Jo,AuthUnknownError:Cp,AuthWeakPasswordError:w6,CustomAuthError:_h,GoTrueAdminApi:s8,GoTrueClient:l8,NavigatorLockAcquireTimeoutError:qoe,SIGN_OUT_SCOPES:Z_,isAuthApiError:zoe,isAuthError:mn,isAuthImplicitGrantRedirectError:Voe,isAuthRetryableFetchError:X_,isAuthSessionMissingError:Uoe,isAuthWeakPasswordError:fMe,lockInternals:Ay,navigatorLock:Woe,processLock:zMe},Symbol.toStringTag,{value:"Module"})),Qoe=A2(uIe);var OK;function dIe(){if(OK)return ab;OK=1,Object.defineProperty(ab,"__esModule",{value:!0}),ab.SupabaseAuthClient=void 0;const e=Qoe;let t=class extends e.AuthClient{constructor(i){super(i)}};return ab.SupabaseAuthClient=t,ab}var jK;function DK(){if(jK)return DE;jK=1,Object.defineProperty(DE,"__esModule",{value:!0});const e=uoe,t=yoe(),n=_oe,i=nMe,r=rMe(),a=aMe(),o=sMe(),l=dIe();class c{constructor(d,h,m){var p,v,S;this.supabaseUrl=d,this.supabaseKey=h;const b=(0,o.validateSupabaseUrl)(d);if(!h)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",b),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",b),this.storageUrl=new URL("storage/v1",b),this.functionsUrl=new URL("functions/v1",b);const w=`sb-${b.hostname.split(".")[0]}-auth-token`,R={db:r.DEFAULT_DB_OPTIONS,realtime:r.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},r.DEFAULT_AUTH_OPTIONS),{storageKey:w}),global:r.DEFAULT_GLOBAL_OPTIONS},E=(0,o.applySettingDefaults)(m??{},R);this.storageKey=(p=E.auth.storageKey)!==null&&p!==void 0?p:"",this.headers=(v=E.global.headers)!==null&&v!==void 0?v:{},E.accessToken?(this.accessToken=E.accessToken,this.auth=new Proxy({},{get:(_,N)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(N)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((S=E.auth)!==null&&S!==void 0?S:{},this.headers,E.global.fetch),this.fetch=(0,a.fetchWithAuth)(h,this._getAccessToken.bind(this),E.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},E.realtime)),this.accessToken&&this.accessToken().then(_=>this.realtime.setAuth(_)).catch(_=>console.warn("Failed to set initial Realtime auth token:",_)),this.rest=new t.PostgrestClient(new URL("rest/v1",b).href,{headers:this.headers,schema:E.db.schema,fetch:this.fetch}),this.storage=new i.StorageClient(this.storageUrl.href,this.headers,this.fetch,m==null?void 0:m.storage),E.accessToken||this._listenForAuthEvents()}get functions(){return new e.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(d){return this.rest.from(d)}schema(d){return this.rest.schema(d)}rpc(d,h={},m={head:!1,get:!1,count:void 0}){return this.rest.rpc(d,h,m)}channel(d,h={config:{}}){return this.realtime.channel(d,h)}getChannels(){return this.realtime.getChannels()}removeChannel(d){return this.realtime.removeChannel(d)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var d,h;if(this.accessToken)return await this.accessToken();const{data:m}=await this.auth.getSession();return(h=(d=m.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:d,persistSession:h,detectSessionInUrl:m,storage:p,userStorage:v,storageKey:S,flowType:b,lock:w,debug:R,throwOnError:E},_,N){const O={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new l.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},O),_),storageKey:S,autoRefreshToken:d,persistSession:h,detectSessionInUrl:m,storage:p,userStorage:v,flowType:b,lock:w,debug:R,throwOnError:E,fetch:N,hasCustomAuthorizationHeader:Object.keys(this.headers).some(j=>j.toLowerCase()==="authorization")})}_initRealtimeClient(d){return new n.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},d),{params:Object.assign({apikey:this.supabaseKey},d==null?void 0:d.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((h,m)=>{this._handleTokenChanged(h,"CLIENT",m==null?void 0:m.access_token)})}_handleTokenChanged(d,h,m){(d==="TOKEN_REFRESHED"||d==="SIGNED_IN")&&this.changedAccessToken!==m?(this.changedAccessToken=m,this.realtime.setAuth(m)):d==="SIGNED_OUT"&&(this.realtime.setAuth(),h=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return DE.default=c,DE}var CK;function fIe(){return CK||(CK=1,(function(e){var t=Tf&&Tf.__createBinding||(Object.create?(function(d,h,m,p){p===void 0&&(p=m);var v=Object.getOwnPropertyDescriptor(h,m);(!v||("get"in v?!h.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return h[m]}}),Object.defineProperty(d,p,v)}):(function(d,h,m,p){p===void 0&&(p=m),d[p]=h[m]})),n=Tf&&Tf.__exportStar||function(d,h){for(var m in d)m!=="default"&&!Object.prototype.hasOwnProperty.call(h,m)&&t(h,d,m)},i=Tf&&Tf.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const r=i(DK());n(Qoe,e);var a=yoe();Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return a.PostgrestError}});var o=uoe;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return o.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return o.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return o.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return o.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return o.FunctionRegion}}),n(_oe,e);var l=DK();Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return i(l).default}});const c=(d,h,m)=>new r.default(d,h,m);e.createClient=c;function u(){if(typeof window<"u"||typeof process>"u")return!1;const d=process.version;if(d==null)return!1;const h=d.match(/^v(\d+)\./);return h?parseInt(h[1],10)<=18:!1}u()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Tf)),Tf}var Xoe=fIe();const Zoe=ol(Xoe),hIe=Iee({__proto__:null,default:Zoe},[Xoe]),{PostgrestError:m2t,FunctionsHttpError:y2t,FunctionsFetchError:g2t,FunctionsRelayError:v2t,FunctionsError:S2t,FunctionRegion:b2t,SupabaseClient:x2t,createClient:pIe,GoTrueAdminApi:w2t,GoTrueClient:E2t,AuthAdminApi:_2t,AuthClient:A2t,navigatorLock:R2t,NavigatorLockAcquireTimeoutError:N2t,lockInternals:O2t,processLock:j2t,SIGN_OUT_SCOPES:D2t,AuthError:C2t,AuthApiError:L2t,AuthUnknownError:T2t,CustomAuthError:M2t,AuthSessionMissingError:I2t,AuthInvalidTokenResponseError:P2t,AuthInvalidCredentialsError:k2t,AuthImplicitGrantRedirectError:$2t,AuthPKCEGrantCodeExchangeError:F2t,AuthRetryableFetchError:B2t,AuthWeakPasswordError:z2t,AuthInvalidJwtError:U2t,isAuthError:V2t,isAuthApiError:K2t,isAuthSessionMissingError:G2t,isAuthImplicitGrantRedirectError:H2t,isAuthRetryableFetchError:q2t,isAuthWeakPasswordError:W2t,RealtimePresence:Y2t,RealtimeChannel:J2t,RealtimeClient:Q2t,REALTIME_LISTEN_TYPES:X2t,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:Z2t,REALTIME_PRESENCE_LISTEN_EVENTS:ewt,REALTIME_SUBSCRIBE_STATES:twt,REALTIME_CHANNEL_STATES:nwt}=Zoe||hIe,mIe="http://127.0.0.1:54321",yIe="sb_publishable_ACJWlzQHlZjBrEguHvfOxg_3BJgxAaH",re=pIe(mIe,yIe,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!1,flowType:"pkce"}}),ele=g.createContext(null);function gIe(e){try{return typeof window>"u"?null:window.localStorage.getItem(e)}catch{return null}}function LK(e,t){try{if(typeof window>"u")return;t==null?window.localStorage.removeItem(e):window.localStorage.setItem(e,t)}catch{}}function vIe({children:e}){var w,R;const t=Yt(),n=et({queryKey:["auth","user"],queryFn:async()=>(await re.auth.getUser()).data.user??null,staleTime:6e4}),i=((w=n.data)==null?void 0:w.id)??null,r=g.useRef(null),a=i?`selected-company-id:${i}`:null,[o,l]=g.useState(null);g.useEffect(()=>{const E=r.current;if(E&&E!==i&&i!==null&&(t.invalidateQueries({queryKey:["my-companies"]}),t.invalidateQueries({queryKey:["profile"]}),l(null)),!i){l(null),r.current=null;return}if(i!==E){const _=a?gIe(a):null;l(_),r.current=i}},[i,a,t]),g.useEffect(()=>{if(!a)return;const E=_=>{_.key===a&&l(_.newValue??null)};return window.addEventListener("storage",E),()=>window.removeEventListener("storage",E)},[a]);const c=et({queryKey:["my-companies",i],enabled:!!i,queryFn:async()=>{const{data:E}=await re.from("profiles").select("superuser").eq("user_id",i).maybeSingle();if((E==null?void 0:E.superuser)??!1){const{data:N,error:O}=await re.from("companies").select("id, name").order("name",{ascending:!0});if(O)throw O;return N}else{const{data:N,error:O}=await re.from("company_users").select("companies ( id, name )").eq("user_id",i);if(O)throw O;return N.map(j=>j.companies).filter(Boolean)}},staleTime:6e4}),u=et({queryKey:["profile",i,"selected-company-id"],enabled:!!i&&!!((R=c.data)!=null&&R.length),queryFn:async()=>{var N;const{data:E,error:_}=await re.from("profiles").select("selected_company_id, preferences").eq("user_id",i).maybeSingle();if(_)throw _;return(E==null?void 0:E.selected_company_id)??((N=E==null?void 0:E.preferences)==null?void 0:N.selected_company_id)??null},staleTime:3e5}),d=c.data??[],h=g.useMemo(()=>{var N;if(!d.length)return null;const E=u.data&&d.some(O=>O.id===u.data)?u.data:null;if(E)return E;const _=o&&d.some(O=>O.id===o)?o:null;return _||(((N=d[0])==null?void 0:N.id)??null)},[d,o,u.data]);g.useEffect(()=>{a&&h!==o&&(l(h),LK(a,h))},[a,h,o]);const m=bt({mutationFn:async E=>{const{error:_}=await re.from("profiles").update({selected_company_id:E}).eq("user_id",i);if(_)throw _},onSuccess:()=>{t.invalidateQueries({queryKey:["profile",i,"selected-company-id"]})}}),p=E=>{d.some(_=>_.id===E)&&(l(E),a&&LK(a,E),i&&m.mutate(E))},v=d.find(E=>E.id===h)??null,S=n.isLoading||c.isLoading||u.isLoading,b=g.useMemo(()=>({companies:d,companyId:h,company:v,setCompanyId:p,loading:S}),[d,h,v,S]);return s.jsx(ele.Provider,{value:b,children:e})}function En(){const e=g.useContext(ele);if(!e)throw new Error("useCompany must be used within CompanyProvider");return e}function SIe({isGlobalSuperuser:e,companyRole:t}){const n=new Set(["visit:home","visit:calendar","visit:matters","visit:profile"]);return e?(["visit:super","visit:company","visit:inventory","visit:vehicles","visit:crew","visit:jobs","visit:logging","visit:customers","visit:latest"].forEach(r=>n.add(r)),n):t?t==="owner"||t==="super_user"?(["visit:company","visit:inventory","visit:vehicles","visit:crew","visit:jobs","visit:logging","visit:customers","visit:latest"].forEach(r=>n.add(r)),n):t==="employee"?(["visit:inventory","visit:vehicles","visit:crew","visit:jobs","visit:logging","visit:customers","visit:latest"].forEach(r=>n.add(r)),n):(t==="freelancer"&&n.add("visit:jobs"),n):n}function bIe(e,t){return e.has(t)}function zr(){const{companyId:e}=En(),{data:t}=et({queryKey:["auth","user"],queryFn:async()=>{const{data:a}=await re.auth.getUser();return a.user??null}}),n=(t==null?void 0:t.id)??null,{data:i,isLoading:r}=et({queryKey:["authz",n,e],enabled:!!n,queryFn:async()=>{let a=!1,o=null;const{data:l,error:c}=await re.from("profiles").select("superuser").eq("user_id",n).maybeSingle();if(!c&&l&&(a=!!l.superuser),e){const{data:d,error:h}=await re.from("company_users").select("role").eq("user_id",n).eq("company_id",e).maybeSingle();!h&&(d!=null&&d.role)&&(o=d.role)}const u=SIe({isGlobalSuperuser:a,companyRole:o});if(e&&o==="freelancer"&&!u.has("visit:latest")){const{data:d,error:h}=await re.from("company_expansions").select("latest_feed_open_to_freelancers").eq("company_id",e).maybeSingle();!h&&(d==null?void 0:d.latest_feed_open_to_freelancers)===!0&&u.add("visit:latest")}return{isGlobalSuperuser:a,companyRole:o,caps:u,userId:n}}});return{loading:r,isGlobalSuperuser:(i==null?void 0:i.isGlobalSuperuser)??!1,companyRole:(i==null?void 0:i.companyRole)??null,caps:(i==null?void 0:i.caps)??new Set,userId:(i==null?void 0:i.userId)??null}}var jO,jn,tle,nle,_1,Py,TK,ile,rle,oR={},ale=[],xIe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Hp(e,t){for(var n in t)e[n]=t[n];return e}function sle(e){var t=e.parentNode;t&&t.removeChild(e)}function Ce(e,t,n){var i,r,a,o={};for(a in t)a=="key"?i=t[a]:a=="ref"?r=t[a]:o[a]=t[a];if(arguments.length>2&&(o.children=arguments.length>3?jO.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(a in e.defaultProps)o[a]===void 0&&(o[a]=e.defaultProps[a]);return eA(e,o,i,r,null)}function eA(e,t,n,i,r){var a={type:e,props:t,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:r??++tle};return r==null&&jn.vnode!=null&&jn.vnode(a),a}function Ao(){return{current:null}}function sr(e){return e.children}function wIe(e,t,n,i,r){var a;for(a in n)a==="children"||a==="key"||a in t||lR(e,a,null,n[a],i);for(a in t)r&&typeof t[a]!="function"||a==="children"||a==="key"||a==="value"||a==="checked"||n[a]===t[a]||lR(e,a,t[a],n[a],i)}function MK(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||xIe.test(t)?n:n+"px"}function lR(e,t,n,i,r){var a;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof i=="string"&&(e.style.cssText=i=""),i)for(t in i)n&&t in n||MK(e.style,t,"");if(n)for(t in n)i&&n[t]===i[t]||MK(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")a=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=n,n?i||e.addEventListener(t,a?PK:IK,a):e.removeEventListener(t,a?PK:IK,a);else if(t!=="dangerouslySetInnerHTML"){if(r)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t.indexOf("-")==-1?e.removeAttribute(t):e.setAttribute(t,n))}}function IK(e){_1=!0;try{return this.l[e.type+!1](jn.event?jn.event(e):e)}finally{_1=!1}}function PK(e){_1=!0;try{return this.l[e.type+!0](jn.event?jn.event(e):e)}finally{_1=!1}}function zl(e,t){this.props=e,this.context=t}function Cx(e,t){if(t==null)return e.__?Cx(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?Cx(e):null}function ole(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return ole(e)}}function EIe(e){_1?setTimeout(e):ile(e)}function _6(e){(!e.__d&&(e.__d=!0)&&Py.push(e)&&!cR.__r++||TK!==jn.debounceRendering)&&((TK=jn.debounceRendering)||EIe)(cR)}function cR(){var e,t,n,i,r,a,o,l;for(Py.sort(function(c,u){return c.__v.__b-u.__v.__b});e=Py.shift();)e.__d&&(t=Py.length,i=void 0,r=void 0,o=(a=(n=e).__v).__e,(l=n.__P)&&(i=[],(r=Hp({},a)).__v=a.__v+1,c8(l,a,r,n.__n,l.ownerSVGElement!==void 0,a.__h!=null?[o]:null,i,o??Cx(a),a.__h),fle(i,a),a.__e!=o&&ole(a)),Py.length>t&&Py.sort(function(c,u){return c.__v.__b-u.__v.__b}));cR.__r=0}function lle(e,t,n,i,r,a,o,l,c,u){var d,h,m,p,v,S,b,w=i&&i.__k||ale,R=w.length;for(n.__k=[],d=0;d<t.length;d++)if((p=n.__k[d]=(p=t[d])==null||typeof p=="boolean"?null:typeof p=="string"||typeof p=="number"||typeof p=="bigint"?eA(null,p,null,null,p):Array.isArray(p)?eA(sr,{children:p},null,null,null):p.__b>0?eA(p.type,p.props,p.key,p.ref?p.ref:null,p.__v):p)!=null){if(p.__=n,p.__b=n.__b+1,(m=w[d])===null||m&&p.key==m.key&&p.type===m.type)w[d]=void 0;else for(h=0;h<R;h++){if((m=w[h])&&p.key==m.key&&p.type===m.type){w[h]=void 0;break}m=null}c8(e,p,m=m||oR,r,a,o,l,c,u),v=p.__e,(h=p.ref)&&m.ref!=h&&(b||(b=[]),m.ref&&b.push(m.ref,null,p),b.push(h,p.__c||v,p)),v!=null?(S==null&&(S=v),typeof p.type=="function"&&p.__k===m.__k?p.__d=c=cle(p,c,e):c=ule(e,p,m,w,v,c),typeof n.type=="function"&&(n.__d=c)):c&&m.__e==c&&c.parentNode!=e&&(c=Cx(m))}for(n.__e=S,d=R;d--;)w[d]!=null&&(typeof n.type=="function"&&w[d].__e!=null&&w[d].__e==n.__d&&(n.__d=dle(i).nextSibling),ple(w[d],w[d]));if(b)for(d=0;d<b.length;d++)hle(b[d],b[++d],b[++d])}function cle(e,t,n){for(var i,r=e.__k,a=0;r&&a<r.length;a++)(i=r[a])&&(i.__=e,t=typeof i.type=="function"?cle(i,t,n):ule(n,i,i,r,i.__e,t));return t}function uR(e,t){return t=t||[],e==null||typeof e=="boolean"||(Array.isArray(e)?e.some(function(n){uR(n,t)}):t.push(e)),t}function ule(e,t,n,i,r,a){var o,l,c;if(t.__d!==void 0)o=t.__d,t.__d=void 0;else if(n==null||r!=a||r.parentNode==null)e:if(a==null||a.parentNode!==e)e.appendChild(r),o=null;else{for(l=a,c=0;(l=l.nextSibling)&&c<i.length;c+=1)if(l==r)break e;e.insertBefore(r,a),o=a}return o!==void 0?o:r.nextSibling}function dle(e){var t,n,i;if(e.type==null||typeof e.type=="string")return e.__e;if(e.__k){for(t=e.__k.length-1;t>=0;t--)if((n=e.__k[t])&&(i=dle(n)))return i}return null}function c8(e,t,n,i,r,a,o,l,c){var u,d,h,m,p,v,S,b,w,R,E,_,N,O,j,D=t.type;if(t.constructor!==void 0)return null;n.__h!=null&&(c=n.__h,l=t.__e=n.__e,t.__h=null,a=[l]),(u=jn.__b)&&u(t);try{e:if(typeof D=="function"){if(b=t.props,w=(u=D.contextType)&&i[u.__c],R=u?w?w.props.value:u.__:i,n.__c?S=(d=t.__c=n.__c).__=d.__E:("prototype"in D&&D.prototype.render?t.__c=d=new D(b,R):(t.__c=d=new zl(b,R),d.constructor=D,d.render=AIe),w&&w.sub(d),d.props=b,d.state||(d.state={}),d.context=R,d.__n=i,h=d.__d=!0,d.__h=[],d._sb=[]),d.__s==null&&(d.__s=d.state),D.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=Hp({},d.__s)),Hp(d.__s,D.getDerivedStateFromProps(b,d.__s))),m=d.props,p=d.state,d.__v=t,h)D.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(D.getDerivedStateFromProps==null&&b!==m&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(b,R),!d.__e&&d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(b,d.__s,R)===!1||t.__v===n.__v){for(t.__v!==n.__v&&(d.props=b,d.state=d.__s,d.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(P){P&&(P.__=t)}),E=0;E<d._sb.length;E++)d.__h.push(d._sb[E]);d._sb=[],d.__h.length&&o.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(b,d.__s,R),d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(m,p,v)})}if(d.context=R,d.props=b,d.__P=e,_=jn.__r,N=0,"prototype"in D&&D.prototype.render){for(d.state=d.__s,d.__d=!1,_&&_(t),u=d.render(d.props,d.state,d.context),O=0;O<d._sb.length;O++)d.__h.push(d._sb[O]);d._sb=[]}else do d.__d=!1,_&&_(t),u=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++N<25);d.state=d.__s,d.getChildContext!=null&&(i=Hp(Hp({},i),d.getChildContext())),h||d.getSnapshotBeforeUpdate==null||(v=d.getSnapshotBeforeUpdate(m,p)),j=u!=null&&u.type===sr&&u.key==null?u.props.children:u,lle(e,Array.isArray(j)?j:[j],t,n,i,r,a,o,l,c),d.base=t.__e,t.__h=null,d.__h.length&&o.push(d),S&&(d.__E=d.__=null),d.__e=!1}else a==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=_Ie(n.__e,t,n,i,r,a,o,c);(u=jn.diffed)&&u(t)}catch(P){t.__v=null,(c||a!=null)&&(t.__e=l,t.__h=!!c,a[a.indexOf(l)]=null),jn.__e(P,t,n)}}function fle(e,t){jn.__c&&jn.__c(t,e),e.some(function(n){try{e=n.__h,n.__h=[],e.some(function(i){i.call(n)})}catch(i){jn.__e(i,n.__v)}})}function _Ie(e,t,n,i,r,a,o,l){var c,u,d,h=n.props,m=t.props,p=t.type,v=0;if(p==="svg"&&(r=!0),a!=null){for(;v<a.length;v++)if((c=a[v])&&"setAttribute"in c==!!p&&(p?c.localName===p:c.nodeType===3)){e=c,a[v]=null;break}}if(e==null){if(p===null)return document.createTextNode(m);e=r?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,m.is&&m),a=null,l=!1}if(p===null)h===m||l&&e.data===m||(e.data=m);else{if(a=a&&jO.call(e.childNodes),u=(h=n.props||oR).dangerouslySetInnerHTML,d=m.dangerouslySetInnerHTML,!l){if(a!=null)for(h={},v=0;v<e.attributes.length;v++)h[e.attributes[v].name]=e.attributes[v].value;(d||u)&&(d&&(u&&d.__html==u.__html||d.__html===e.innerHTML)||(e.innerHTML=d&&d.__html||""))}if(wIe(e,m,h,r,l),d)t.__k=[];else if(v=t.props.children,lle(e,Array.isArray(v)?v:[v],t,n,i,r&&p!=="foreignObject",a,o,a?a[0]:n.__k&&Cx(n,0),l),a!=null)for(v=a.length;v--;)a[v]!=null&&sle(a[v]);l||("value"in m&&(v=m.value)!==void 0&&(v!==e.value||p==="progress"&&!v||p==="option"&&v!==h.value)&&lR(e,"value",v,h.value,!1),"checked"in m&&(v=m.checked)!==void 0&&v!==e.checked&&lR(e,"checked",v,h.checked,!1))}return e}function hle(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(i){jn.__e(i,n)}}function ple(e,t,n){var i,r;if(jn.unmount&&jn.unmount(e),(i=e.ref)&&(i.current&&i.current!==e.__e||hle(i,null,t)),(i=e.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(a){jn.__e(a,t)}i.base=i.__P=null,e.__c=void 0}if(i=e.__k)for(r=0;r<i.length;r++)i[r]&&ple(i[r],t,n||typeof e.type!="function");n||e.__e==null||sle(e.__e),e.__=e.__e=e.__d=void 0}function AIe(e,t,n){return this.constructor(e,n)}function Lx(e,t,n){var i,r,a;jn.__&&jn.__(e,t),r=(i=!1)?null:t.__k,a=[],c8(t,e=t.__k=Ce(sr,null,[e]),r||oR,oR,t.ownerSVGElement!==void 0,r?null:t.firstChild?jO.call(t.childNodes):null,a,r?r.__e:t.firstChild,i),fle(a,e)}function RIe(e,t){var n={__c:t="__cC"+rle++,__:e,Consumer:function(i,r){return i.children(r)},Provider:function(i){var r,a;return this.getChildContext||(r=[],(a={})[t]=this,this.getChildContext=function(){return a},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&r.some(function(l){l.__e=!0,_6(l)})},this.sub=function(o){r.push(o);var l=o.componentWillUnmount;o.componentWillUnmount=function(){r.splice(r.indexOf(o),1),l&&l.call(o)}}),i.children}};return n.Provider.__=n.Consumer.contextType=n}jO=ale.slice,jn={__e:function(e,t,n,i){for(var r,a,o;t=t.__;)if((r=t.__c)&&!r.__)try{if((a=r.constructor)&&a.getDerivedStateFromError!=null&&(r.setState(a.getDerivedStateFromError(e)),o=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(e,i||{}),o=r.__d),o)return r.__E=r}catch(l){e=l}throw e}},tle=0,nle=function(e){return e!=null&&e.constructor===void 0},_1=!1,zl.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Hp({},this.state),typeof e=="function"&&(e=e(Hp({},n),this.props)),e&&Hp(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),_6(this))},zl.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),_6(this))},zl.prototype.render=sr,Py=[],ile=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,cR.__r=0,rle=0;var Rd,lC,kK,mle=[],cC=[],$K=jn.__b,FK=jn.__r,BK=jn.diffed,zK=jn.__c,UK=jn.unmount;function NIe(){for(var e;e=mle.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(tA),e.__H.__h.forEach(A6),e.__H.__h=[]}catch(t){e.__H.__h=[],jn.__e(t,e.__v)}}jn.__b=function(e){Rd=null,$K&&$K(e)},jn.__r=function(e){FK&&FK(e);var t=(Rd=e.__c).__H;t&&(lC===Rd?(t.__h=[],Rd.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=cC,n.__N=n.i=void 0})):(t.__h.forEach(tA),t.__h.forEach(A6),t.__h=[])),lC=Rd},jn.diffed=function(e){BK&&BK(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(mle.push(t)!==1&&kK===jn.requestAnimationFrame||((kK=jn.requestAnimationFrame)||OIe)(NIe)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==cC&&(n.__=n.__V),n.i=void 0,n.__V=cC})),lC=Rd=null},jn.__c=function(e,t){t.some(function(n){try{n.__h.forEach(tA),n.__h=n.__h.filter(function(i){return!i.__||A6(i)})}catch(i){t.some(function(r){r.__h&&(r.__h=[])}),t=[],jn.__e(i,n.__v)}}),zK&&zK(e,t)},jn.unmount=function(e){UK&&UK(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(i){try{tA(i)}catch(r){t=r}}),n.__H=void 0,t&&jn.__e(t,n.__v))};var VK=typeof requestAnimationFrame=="function";function OIe(e){var t,n=function(){clearTimeout(i),VK&&cancelAnimationFrame(t),setTimeout(e)},i=setTimeout(n,100);VK&&(t=requestAnimationFrame(n))}function tA(e){var t=Rd,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),Rd=t}function A6(e){var t=Rd;e.__c=e.__(),Rd=t}function jIe(e,t){for(var n in t)e[n]=t[n];return e}function KK(e,t){for(var n in e)if(n!=="__source"&&!(n in t))return!0;for(var i in t)if(i!=="__source"&&e[i]!==t[i])return!0;return!1}function GK(e){this.props=e}(GK.prototype=new zl).isPureReactComponent=!0,GK.prototype.shouldComponentUpdate=function(e,t){return KK(this.props,e)||KK(this.state,t)};var HK=jn.__b;jn.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),HK&&HK(e)};var DIe=jn.__e;jn.__e=function(e,t,n,i){if(e.then){for(var r,a=t;a=a.__;)if((r=a.__c)&&r.__c)return t.__e==null&&(t.__e=n.__e,t.__k=n.__k),r.__c(e,t)}DIe(e,t,n,i)};var qK=jn.unmount;function yle(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(i){typeof i.__c=="function"&&i.__c()}),e.__c.__H=null),(e=jIe({},e)).__c!=null&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map(function(i){return yle(i,t,n)})),e}function gle(e,t,n){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(i){return gle(i,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.insertBefore(e.__e,e.__d),e.__c.__e=!0,e.__c.__P=n)),e}function uC(){this.__u=0,this.t=null,this.__b=null}function vle(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function FE(){this.u=null,this.o=null}jn.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&e.__h===!0&&(e.type=null),qK&&qK(e)},(uC.prototype=new zl).__c=function(e,t){var n=t.__c,i=this;i.t==null&&(i.t=[]),i.t.push(n);var r=vle(i.__v),a=!1,o=function(){a||(a=!0,n.__R=null,r?r(l):l())};n.__R=o;var l=function(){if(!--i.__u){if(i.state.__a){var u=i.state.__a;i.__v.__k[0]=gle(u,u.__c.__P,u.__c.__O)}var d;for(i.setState({__a:i.__b=null});d=i.t.pop();)d.forceUpdate()}},c=t.__h===!0;i.__u++||c||i.setState({__a:i.__b=i.__v.__k[0]}),e.then(o,o)},uC.prototype.componentWillUnmount=function(){this.t=[]},uC.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=yle(this.__b,n,i.__O=i.__P)}this.__b=null}var r=t.__a&&Ce(sr,null,e.fallback);return r&&(r.__h=null),[Ce(sr,null,t.__a?null:e.children),r]};var WK=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function CIe(e){return this.getChildContext=function(){return e.context},e.children}function LIe(e){var t=this,n=e.i;t.componentWillUnmount=function(){Lx(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),e.__v?(t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(i){this.childNodes.push(i),t.i.appendChild(i)},insertBefore:function(i,r){this.childNodes.push(i),t.i.appendChild(i)},removeChild:function(i){this.childNodes.splice(this.childNodes.indexOf(i)>>>1,1),t.i.removeChild(i)}}),Lx(Ce(CIe,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}function TIe(e,t){var n=Ce(LIe,{__v:e,i:t});return n.containerInfo=t,n}(FE.prototype=new zl).__a=function(e){var t=this,n=vle(t.__v),i=t.o.get(e);return i[0]++,function(r){var a=function(){t.props.revealOrder?(i.push(r),WK(t,e,i)):r()};n?n(a):a()}},FE.prototype.render=function(e){this.u=null,this.o=new Map;var t=uR(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},FE.prototype.componentDidUpdate=FE.prototype.componentDidMount=function(){var e=this;this.o.forEach(function(t,n){WK(e,n,t)})};var MIe=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,IIe=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,PIe=typeof document<"u",kIe=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(e)};zl.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(zl.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var YK=jn.event;function $Ie(){}function FIe(){return this.cancelBubble}function BIe(){return this.defaultPrevented}jn.event=function(e){return YK&&(e=YK(e)),e.persist=$Ie,e.isPropagationStopped=FIe,e.isDefaultPrevented=BIe,e.nativeEvent=e};var JK={configurable:!0,get:function(){return this.class}},QK=jn.vnode;jn.vnode=function(e){var t=e.type,n=e.props,i=n;if(typeof t=="string"){var r=t.indexOf("-")===-1;for(var a in i={},n){var o=n[a];PIe&&a==="children"&&t==="noscript"||a==="value"&&"defaultValue"in n&&o==null||(a==="defaultValue"&&"value"in n&&n.value==null?a="value":a==="download"&&o===!0?o="":/ondoubleclick/i.test(a)?a="ondblclick":/^onchange(textarea|input)/i.test(a+t)&&!kIe(n.type)?a="oninput":/^onfocus$/i.test(a)?a="onfocusin":/^onblur$/i.test(a)?a="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(a)?a=a.toLowerCase():r&&IIe.test(a)?a=a.replace(/[A-Z0-9]/g,"-$&").toLowerCase():o===null&&(o=void 0),/^oninput$/i.test(a)&&(a=a.toLowerCase(),i[a]&&(a="oninputCapture")),i[a]=o)}t=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=uR(n.children).forEach(function(l){l.props.selected=i.value.indexOf(l.props.value)!=-1})),t=="select"&&i.defaultValue!=null&&(i.value=uR(n.children).forEach(function(l){l.props.selected=i.multiple?i.defaultValue.indexOf(l.props.value)!=-1:i.defaultValue==l.props.value})),e.props=i,n.class!=n.className&&(JK.enumerable="className"in n,n.className!=null&&(i.class=n.className),Object.defineProperty(i,"className",JK))}e.$$typeof=MIe,QK&&QK(e)};var XK=jn.__r;jn.__r=function(e){XK&&XK(e),e.__c};const Sle=[],R6=new Map;function DO(e){Sle.push(e),R6.forEach(t=>{xle(t,e)})}function zIe(e){e.isConnected&&e.getRootNode&&ble(e.getRootNode())}function ble(e){let t=R6.get(e);if(!t||!t.isConnected){if(t=e.querySelector("style[data-fullcalendar]"),!t){t=document.createElement("style"),t.setAttribute("data-fullcalendar","");const n=VIe();n&&(t.nonce=n);const i=e===document?document.head:e,r=e===document?i.querySelector("script,link[rel=stylesheet],link[as=style],style"):i.firstChild;i.insertBefore(t,r)}R6.set(e,t),UIe(t)}}function UIe(e){for(const t of Sle)xle(e,t)}function xle(e,t){const{sheet:n}=e,i=n.cssRules.length;t.split("}").forEach((r,a)=>{r=r.trim(),r&&n.insertRule(r+"}",i+a)})}let dC;function VIe(){return dC===void 0&&(dC=KIe()),dC}function KIe(){const e=document.querySelector('meta[name="csp-nonce"]');if(e&&e.hasAttribute("content"))return e.getAttribute("content");const t=document.querySelector("script[nonce]");return t&&t.nonce||""}typeof document<"u"&&ble(document);var GIe=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';DO(GIe);class u8{constructor(t){this.drainedOption=t,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(t){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),t==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),t))}pause(t=""){let{pauseDepths:n}=this;n[t]=(n[t]||0)+1,this.clearTimeout()}resume(t="",n){let{pauseDepths:i}=this;t in i&&(n?delete i[t]:(i[t]-=1,i[t]<=0&&delete i[t]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function d8(e){e.parentNode&&e.parentNode.removeChild(e)}function Zs(e,t){if(e.closest)return e.closest(t);if(!document.documentElement.contains(e))return null;do{if(HIe(e,t))return e;e=e.parentElement||e.parentNode}while(e!==null&&e.nodeType===1);return null}function HIe(e,t){return(e.matches||e.matchesSelector||e.msMatchesSelector).call(e,t)}function qIe(e,t){let n=e instanceof HTMLElement?[e]:e,i=[];for(let r=0;r<n.length;r+=1){let a=n[r].querySelectorAll(t);for(let o=0;o<a.length;o+=1)i.push(a[o])}return i}const WIe=/(top|left|right|bottom|width|height)$/i;function ex(e,t){for(let n in t)wle(e,n,t[n])}function wle(e,t,n){n==null?e.style[t]="":typeof n=="number"&&WIe.test(t)?e.style[t]=`${n}px`:e.style[t]=n}function Ele(e){var t,n;return(n=(t=e.composedPath)===null||t===void 0?void 0:t.call(e)[0])!==null&&n!==void 0?n:e.target}let ZK=0;function am(){return ZK+=1,"fc-dom-"+ZK}function CO(e){e.preventDefault()}function YIe(e,t){return n=>{let i=Zs(n.target,e);i&&t.call(i,n,i)}}function _le(e,t,n,i){let r=YIe(n,i);return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}function JIe(e,t,n,i){let r;return _le(e,"mouseover",t,(a,o)=>{if(o!==r){r=o,n(a,o);let l=c=>{r=null,i(c,o),o.removeEventListener("mouseleave",l)};o.addEventListener("mouseleave",l)}})}const eG=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function QIe(e,t){let n=i=>{t(i),eG.forEach(r=>{e.removeEventListener(r,n)})};eG.forEach(i=>{e.addEventListener(i,n)})}function Ale(e){return Object.assign({onClick:e},Rle(e))}function Rle(e){return{tabIndex:0,onKeyDown(t){(t.key==="Enter"||t.key===" ")&&(e(t),t.preventDefault())}}}let tG=0;function Xg(){return tG+=1,String(tG)}function f8(){document.body.classList.add("fc-not-allowed")}function h8(){document.body.classList.remove("fc-not-allowed")}function XIe(e){e.style.userSelect="none",e.style.webkitUserSelect="none",e.addEventListener("selectstart",CO)}function ZIe(e){e.style.userSelect="",e.style.webkitUserSelect="",e.removeEventListener("selectstart",CO)}function ePe(e){e.addEventListener("contextmenu",CO)}function tPe(e){e.removeEventListener("contextmenu",CO)}function nPe(e){let t=[],n=[],i,r;for(typeof e=="string"?n=e.split(/\s*,\s*/):typeof e=="function"?n=[e]:Array.isArray(e)&&(n=e),i=0;i<n.length;i+=1)r=n[i],typeof r=="string"?t.push(r.charAt(0)==="-"?{field:r.substring(1),order:-1}:{field:r,order:1}):typeof r=="function"&&t.push({func:r});return t}function iPe(e,t,n){let i,r;for(i=0;i<n.length;i+=1)if(r=rPe(e,t,n[i]),r)return r;return 0}function rPe(e,t,n){return n.func?n.func(e,t):aPe(e[n.field],t[n.field])*(n.order||1)}function aPe(e,t){return!e&&!t?0:t==null?-1:e==null?1:typeof e=="string"||typeof t=="string"?String(e).localeCompare(String(t)):e-t}function F0(e,t){let n=String(e);return"000".substr(0,t-n.length)+n}function tx(e,t,n){return typeof e=="function"?e(...t):typeof e=="string"?t.reduce((i,r,a)=>i.replace("$"+a,r||""),e):n}function sPe(e,t){return e-t}function nA(e){return e%1===0}function oPe(e){let t=e.querySelector(".fc-scrollgrid-shrink-frame"),n=e.querySelector(".fc-scrollgrid-shrink-cushion");if(!t)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return e.getBoundingClientRect().width-t.getBoundingClientRect().width+n.getBoundingClientRect().width}const nG=["years","months","days","milliseconds"],lPe=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function mi(e,t){return typeof e=="string"?cPe(e):typeof e=="object"&&e?iG(e):typeof e=="number"?iG({[t||"milliseconds"]:e}):null}function cPe(e){let t=lPe.exec(e);if(t){let n=t[1]?-1:1;return{years:0,months:0,days:n*(t[2]?parseInt(t[2],10):0),milliseconds:n*((t[3]?parseInt(t[3],10):0)*60*60*1e3+(t[4]?parseInt(t[4],10):0)*60*1e3+(t[5]?parseInt(t[5],10):0)*1e3+(t[6]?parseInt(t[6],10):0))}}return null}function iG(e){let t={years:e.years||e.year||0,months:e.months||e.month||0,days:e.days||e.day||0,milliseconds:(e.hours||e.hour||0)*60*60*1e3+(e.minutes||e.minute||0)*60*1e3+(e.seconds||e.second||0)*1e3+(e.milliseconds||e.millisecond||e.ms||0)},n=e.weeks||e.week;return n&&(t.days+=n*7,t.specifiedWeeks=!0),t}function uPe(e,t){return e.years===t.years&&e.months===t.months&&e.days===t.days&&e.milliseconds===t.milliseconds}function N6(e,t){return{years:e.years+t.years,months:e.months+t.months,days:e.days+t.days,milliseconds:e.milliseconds+t.milliseconds}}function dPe(e,t){return{years:e.years-t.years,months:e.months-t.months,days:e.days-t.days,milliseconds:e.milliseconds-t.milliseconds}}function fPe(e,t){return{years:e.years*t,months:e.months*t,days:e.days*t,milliseconds:e.milliseconds*t}}function hPe(e){return B0(e)/365}function pPe(e){return B0(e)/30}function B0(e){return Ru(e)/864e5}function Ru(e){return e.years*(365*864e5)+e.months*(30*864e5)+e.days*864e5+e.milliseconds}function p8(e,t){let n=null;for(let i=0;i<nG.length;i+=1){let r=nG[i];if(t[r]){let a=e[r]/t[r];if(!nA(a)||n!==null&&n!==a)return null;n=a}else if(e[r])return null}return n}function O6(e){let t=e.milliseconds;if(t){if(t%1e3!==0)return{unit:"millisecond",value:t};if(t%(1e3*60)!==0)return{unit:"second",value:t/1e3};if(t%(1e3*60*60)!==0)return{unit:"minute",value:t/(1e3*60)};if(t)return{unit:"hour",value:t/(1e3*60*60)}}return e.days?e.specifiedWeeks&&e.days%7===0?{unit:"week",value:e.days/7}:{unit:"day",value:e.days}:e.months?{unit:"month",value:e.months}:e.years?{unit:"year",value:e.years}:{unit:"millisecond",value:0}}function dm(e,t,n){if(e===t)return!0;let i=e.length,r;if(i!==t.length)return!1;for(r=0;r<i;r+=1)if(!(n?n(e[r],t[r]):e[r]===t[r]))return!1;return!0}const mPe=["sun","mon","tue","wed","thu","fri","sat"];function rG(e,t){let n=qp(e);return n[2]+=t*7,nl(n)}function Ma(e,t){let n=qp(e);return n[2]+=t,nl(n)}function fm(e,t){let n=qp(e);return n[6]+=t,nl(n)}function yPe(e,t){return jm(e,t)/7}function jm(e,t){return(t.valueOf()-e.valueOf())/(1e3*60*60*24)}function gPe(e,t){return(t.valueOf()-e.valueOf())/(1e3*60*60)}function vPe(e,t){return(t.valueOf()-e.valueOf())/(1e3*60)}function SPe(e,t){return(t.valueOf()-e.valueOf())/1e3}function bPe(e,t){let n=hr(e),i=hr(t);return{years:0,months:0,days:Math.round(jm(n,i)),milliseconds:t.valueOf()-i.valueOf()-(e.valueOf()-n.valueOf())}}function xPe(e,t){let n=dR(e,t);return n!==null&&n%7===0?n/7:null}function dR(e,t){return Wp(e)===Wp(t)?Math.round(jm(e,t)):null}function hr(e){return nl([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()])}function wPe(e){return nl([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours()])}function EPe(e){return nl([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes()])}function _Pe(e){return nl([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds()])}function APe(e,t,n){let i=e.getUTCFullYear(),r=fC(e,i,t,n);if(r<1)return fC(e,i-1,t,n);let a=fC(e,i+1,t,n);return a>=1?Math.min(r,a):r}function fC(e,t,n,i){let r=nl([t,0,1+RPe(t,n,i)]),a=hr(e),o=Math.round(jm(r,a));return Math.floor(o/7)+1}function RPe(e,t,n){let i=7+t-n;return-((7+nl([e,0,i]).getUTCDay()-t)%7)+i-1}function aG(e){return[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()]}function sG(e){return new Date(e[0],e[1]||0,e[2]==null?1:e[2],e[3]||0,e[4]||0,e[5]||0)}function qp(e){return[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()]}function nl(e){return e.length===1&&(e=e.concat([0])),new Date(Date.UTC(...e))}function Nle(e){return!isNaN(e.valueOf())}function Wp(e){return e.getUTCHours()*1e3*60*60+e.getUTCMinutes()*1e3*60+e.getUTCSeconds()*1e3+e.getUTCMilliseconds()}function Ole(e,t,n=!1){let i=e.toISOString();return i=i.replace(".000",""),n&&(i=i.replace("T00:00:00Z","")),i.length>10&&(t==null?i=i.replace("Z",""):t!==0&&(i=i.replace("Z",m8(t,!0)))),i}function q2(e){return e.toISOString().replace(/T.*$/,"")}function NPe(e){return e.toISOString().match(/^\d{4}-\d{2}/)[0]}function OPe(e){return F0(e.getUTCHours(),2)+":"+F0(e.getUTCMinutes(),2)+":"+F0(e.getUTCSeconds(),2)}function m8(e,t=!1){let n=e<0?"-":"+",i=Math.abs(e),r=Math.floor(i/60),a=Math.round(i%60);return t?`${n+F0(r,2)}:${F0(a,2)}`:`GMT${n}${r}${a?`:${F0(a,2)}`:""}`}function An(e,t,n){let i,r;return function(...a){if(!i)r=e.apply(this,a);else if(!dm(i,a)){let o=e.apply(this,a);(!t||!t(o,r))&&(r=o)}return i=a,r}}function iA(e,t,n){let i,r;return a=>(i?Bu(i,a)||(r=e.call(this,a)):r=e.call(this,a),i=a,r)}const hC={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},fR={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},BE=/\s*([ap])\.?m\.?/i,jPe=/,/g,DPe=/\s+/g,CPe=/\u200e/g,LPe=/UTC|GMT/;class TPe{constructor(t){let n={},i={},r=9;for(let a in t)a in hC?(i[a]=t[a],hC[a]<9&&(r=Math.min(hC[a],r))):(n[a]=t[a],a in fR&&(r=Math.min(fR[a],r)));this.standardDateProps=n,this.extendedSettings=i,this.smallestUnitNum=r,this.buildFormattingFunc=An(oG)}format(t,n){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,n)(t)}formatRange(t,n,i,r){let{standardDateProps:a,extendedSettings:o}=this,l=FPe(t.marker,n.marker,i.calendarSystem);if(!l)return this.format(t,i);let c=l;c>1&&(a.year==="numeric"||a.year==="2-digit")&&(a.month==="numeric"||a.month==="2-digit")&&(a.day==="numeric"||a.day==="2-digit")&&(c=1);let u=this.format(t,i),d=this.format(n,i);if(u===d)return u;let h=BPe(a,c),m=oG(h,o,i),p=m(t),v=m(n),S=zPe(u,p,d,v),b=o.separator||r||i.defaultSeparator||"";return S?S.before+p+b+v+S.after:u+b+d}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function oG(e,t,n){let i=Object.keys(e).length;return i===1&&e.timeZoneName==="short"?r=>m8(r.timeZoneOffset):i===0&&t.week?r=>$Pe(n.computeWeekNumber(r.marker),n.weekText,n.weekTextLong,n.locale,t.week):MPe(e,t,n)}function MPe(e,t,n){e=Object.assign({},e),t=Object.assign({},t),IPe(e,t),e.timeZone="UTC";let i=new Intl.DateTimeFormat(n.locale.codes,e),r;if(t.omitZeroMinute){let a=Object.assign({},e);delete a.minute,r=new Intl.DateTimeFormat(n.locale.codes,a)}return a=>{let{marker:o}=a,l;r&&!o.getUTCMinutes()?l=r:l=i;let c=l.format(o);return PPe(c,a,e,t,n)}}function IPe(e,t){e.timeZoneName&&(e.hour||(e.hour="2-digit"),e.minute||(e.minute="2-digit")),e.timeZoneName==="long"&&(e.timeZoneName="short"),t.omitZeroMinute&&(e.second||e.millisecond)&&delete t.omitZeroMinute}function PPe(e,t,n,i,r){return e=e.replace(CPe,""),n.timeZoneName==="short"&&(e=kPe(e,r.timeZone==="UTC"||t.timeZoneOffset==null?"UTC":m8(t.timeZoneOffset))),i.omitCommas&&(e=e.replace(jPe,"").trim()),i.omitZeroMinute&&(e=e.replace(":00","")),i.meridiem===!1?e=e.replace(BE,"").trim():i.meridiem==="narrow"?e=e.replace(BE,(a,o)=>o.toLocaleLowerCase()):i.meridiem==="short"?e=e.replace(BE,(a,o)=>`${o.toLocaleLowerCase()}m`):i.meridiem==="lowercase"&&(e=e.replace(BE,a=>a.toLocaleLowerCase())),e=e.replace(DPe," "),e=e.trim(),e}function kPe(e,t){let n=!1;return e=e.replace(LPe,()=>(n=!0,t)),n||(e+=` ${t}`),e}function $Pe(e,t,n,i,r){let a=[];return r==="long"?a.push(n):(r==="short"||r==="narrow")&&a.push(t),(r==="long"||r==="short")&&a.push(" "),a.push(i.simpleNumberFormat.format(e)),i.options.direction==="rtl"&&a.reverse(),a.join("")}function FPe(e,t,n){return n.getMarkerYear(e)!==n.getMarkerYear(t)?5:n.getMarkerMonth(e)!==n.getMarkerMonth(t)?4:n.getMarkerDay(e)!==n.getMarkerDay(t)?2:Wp(e)!==Wp(t)?1:0}function BPe(e,t){let n={};for(let i in e)(!(i in fR)||fR[i]<=t)&&(n[i]=e[i]);return n}function zPe(e,t,n,i){let r=0;for(;r<e.length;){let a=e.indexOf(t,r);if(a===-1)break;let o=e.substr(0,a);r=a+t.length;let l=e.substr(r),c=0;for(;c<n.length;){let u=n.indexOf(i,c);if(u===-1)break;let d=n.substr(0,u);c=u+i.length;let h=n.substr(c);if(o===d&&l===h)return{before:o,after:l}}}return null}function lG(e,t){let n=t.markerToArray(e.marker);return{marker:e.marker,timeZoneOffset:e.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function hR(e,t,n,i){let r=lG(e,n.calendarSystem),a=t?lG(t,n.calendarSystem):null;return{date:r,start:r,end:a,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:i||n.defaultSeparator}}class UPe{constructor(t){this.cmdStr=t}format(t,n,i){return n.cmdFormatter(this.cmdStr,hR(t,null,n,i))}formatRange(t,n,i,r){return i.cmdFormatter(this.cmdStr,hR(t,n,i,r))}}class VPe{constructor(t){this.func=t}format(t,n,i){return this.func(hR(t,null,n,i))}formatRange(t,n,i,r){return this.func(hR(t,n,i,r))}}function jr(e){return typeof e=="object"&&e?new TPe(e):typeof e=="string"?new UPe(e):typeof e=="function"?new VPe(e):null}const cG={navLinkDayClick:at,navLinkWeekClick:at,duration:mi,bootstrapFontAwesome:at,buttonIcons:at,customButtons:at,defaultAllDayEventDuration:mi,defaultTimedEventDuration:mi,nextDayThreshold:mi,scrollTime:mi,scrollTimeReset:Boolean,slotMinTime:mi,slotMaxTime:mi,dayPopoverFormat:jr,slotDuration:mi,snapDuration:mi,headerToolbar:at,footerToolbar:at,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:jr,dayHeaderClassNames:at,dayHeaderContent:at,dayHeaderDidMount:at,dayHeaderWillUnmount:at,dayCellClassNames:at,dayCellContent:at,dayCellDidMount:at,dayCellWillUnmount:at,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:at,weekNumbers:Boolean,weekNumberClassNames:at,weekNumberContent:at,weekNumberDidMount:at,weekNumberWillUnmount:at,editable:Boolean,viewClassNames:at,viewDidMount:at,viewWillUnmount:at,nowIndicator:Boolean,nowIndicatorSnap:at,nowIndicatorClassNames:at,nowIndicatorContent:at,nowIndicatorDidMount:at,nowIndicatorWillUnmount:at,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:at,locale:at,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:at,eventOrder:nPe,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:at,contentHeight:at,direction:String,weekNumberFormat:jr,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:at,initialDate:at,now:at,eventDataTransform:at,stickyHeaderDates:at,stickyFooterScrollbar:at,viewHeight:at,defaultAllDay:Boolean,eventSourceFailure:at,eventSourceSuccess:at,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:at,eventConstraint:at,eventAllow:at,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:at,eventContent:at,eventDidMount:at,eventWillUnmount:at,selectConstraint:at,selectOverlap:at,selectAllow:at,droppable:Boolean,unselectCancel:String,slotLabelFormat:at,slotLaneClassNames:at,slotLaneContent:at,slotLaneDidMount:at,slotLaneWillUnmount:at,slotLabelClassNames:at,slotLabelContent:at,slotLabelDidMount:at,slotLabelWillUnmount:at,dayMaxEvents:at,dayMaxEventRows:at,dayMinWidth:Number,slotLabelInterval:mi,allDayText:String,allDayClassNames:at,allDayContent:at,allDayDidMount:at,allDayWillUnmount:at,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:jr,rerenderDelay:Number,moreLinkText:at,moreLinkHint:at,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:at,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:mi,hiddenDays:at,fixedWeekCount:Boolean,validRange:at,visibleRange:at,titleFormat:at,eventInteractive:Boolean,noEventsText:String,viewHint:at,navLinkHint:at,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:at,moreLinkClassNames:at,moreLinkContent:at,moreLinkDidMount:at,moreLinkWillUnmount:at,monthStartFormat:jr,handleCustomRendering:at,customRenderingMetaMap:at,customRenderingReplaces:Boolean},nx={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:"  ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"},nowIndicatorSnap:"auto"},uG={datesSet:at,eventsSet:at,eventAdd:at,eventChange:at,eventRemove:at,windowResize:at,eventClick:at,eventMouseEnter:at,eventMouseLeave:at,select:at,unselect:at,loading:at,_unmount:at,_beforeprint:at,_afterprint:at,_noEventDrop:at,_noEventResize:at,_resize:at,_scrollRequest:at},dG={buttonText:at,buttonHints:at,views:at,plugins:at,initialEvents:at,events:at,eventSources:at},Ry={headerToolbar:Ny,footerToolbar:Ny,buttonText:Ny,buttonHints:Ny,buttonIcons:Ny,dateIncrement:Ny,plugins:zE,events:zE,eventSources:zE,resources:zE};function Ny(e,t){return typeof e=="object"&&typeof t=="object"&&e&&t?Bu(e,t):e===t}function zE(e,t){return Array.isArray(e)&&Array.isArray(t)?dm(e,t):e===t}const KPe={type:String,component:at,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:at,usesMinMaxTime:Boolean,classNames:at,content:at,didMount:at,willUnmount:at};function pC(e){return g8(e,Ry)}function y8(e,t){let n={},i={};for(let r in t)r in e&&(n[r]=t[r](e[r]));for(let r in e)r in t||(i[r]=e[r]);return{refined:n,extra:i}}function at(e){return e}const{hasOwnProperty:pR}=Object.prototype;function g8(e,t){let n={};if(t){for(let i in t)if(t[i]===Ny){let r=[];for(let a=e.length-1;a>=0;a-=1){let o=e[a][i];if(typeof o=="object"&&o)r.unshift(o);else if(o!==void 0){n[i]=o;break}}r.length&&(n[i]=g8(r))}}for(let i=e.length-1;i>=0;i-=1){let r=e[i];for(let a in r)a in n||(n[a]=r[a])}return n}function Dg(e,t){let n={};for(let i in e)t(e[i],i)&&(n[i]=e[i]);return n}function mh(e,t){let n={};for(let i in e)n[i]=t(e[i],i);return n}function jle(e){let t={};for(let n of e)t[n]=!0;return t}function v8(e){let t=[];for(let n in e)t.push(e[n]);return t}function Bu(e,t){if(e===t)return!0;for(let n in e)if(pR.call(e,n)&&!(n in t))return!1;for(let n in t)if(pR.call(t,n)&&e[n]!==t[n])return!1;return!0}const GPe=/^on[A-Z]/;function HPe(e,t){const n=qPe(e,t);for(let i of n)if(!GPe.test(i))return!1;return!0}function qPe(e,t){let n=[];for(let i in e)pR.call(e,i)&&(i in t||n.push(i));for(let i in t)pR.call(t,i)&&e[i]!==t[i]&&n.push(i);return n}function mC(e,t,n={}){if(e===t)return!0;for(let i in t)if(!(i in e&&WPe(e[i],t[i],n[i])))return!1;for(let i in e)if(!(i in t))return!1;return!0}function WPe(e,t,n){return e===t||n===!0?!0:n?n(e,t):!1}function YPe(e,t=0,n,i=1){let r=[];n==null&&(n=Object.keys(e).length);for(let a=t;a<n;a+=i){let o=e[a];o!==void 0&&r.push(o)}return r}let Dle={};function JPe(e,t){Dle[e]=t}function QPe(e){return new Dle[e]}class XPe{getMarkerYear(t){return t.getUTCFullYear()}getMarkerMonth(t){return t.getUTCMonth()}getMarkerDay(t){return t.getUTCDate()}arrayToMarker(t){return nl(t)}markerToArray(t){return qp(t)}}JPe("gregory",XPe);const ZPe=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function e8e(e){let t=ZPe.exec(e);if(t){let n=new Date(Date.UTC(Number(t[1]),t[3]?Number(t[3])-1:0,Number(t[5]||1),Number(t[7]||0),Number(t[8]||0),Number(t[10]||0),t[12]?+`0.${t[12]}`*1e3:0));if(Nle(n)){let i=null;return t[13]&&(i=(t[15]==="-"?-1:1)*(Number(t[16]||0)*60+Number(t[18]||0))),{marker:n,isTimeUnspecified:!t[6],timeZoneOffset:i}}}return null}class t8e{constructor(t){let n=this.timeZone=t.timeZone,i=n!=="local"&&n!=="UTC";t.namedTimeZoneImpl&&i&&(this.namedTimeZoneImpl=new t.namedTimeZoneImpl(n)),this.canComputeOffset=!!(!i||this.namedTimeZoneImpl),this.calendarSystem=QPe(t.calendarSystem),this.locale=t.locale,this.weekDow=t.locale.week.dow,this.weekDoy=t.locale.week.doy,t.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof t.firstDay=="number"&&(this.weekDow=t.firstDay),typeof t.weekNumberCalculation=="function"&&(this.weekNumberFunc=t.weekNumberCalculation),this.weekText=t.weekText!=null?t.weekText:t.locale.options.weekText,this.weekTextLong=(t.weekTextLong!=null?t.weekTextLong:t.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=t.cmdFormatter,this.defaultSeparator=t.defaultSeparator}createMarker(t){let n=this.createMarkerMeta(t);return n===null?null:n.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):nl(aG(new Date))}createMarkerMeta(t){if(typeof t=="string")return this.parse(t);let n=null;return typeof t=="number"?n=this.timestampToMarker(t):t instanceof Date?(t=t.valueOf(),isNaN(t)||(n=this.timestampToMarker(t))):Array.isArray(t)&&(n=nl(t)),n===null||!Nle(n)?null:{marker:n,isTimeUnspecified:!1,forcedTzo:null}}parse(t){let n=e8e(t);if(n===null)return null;let{marker:i}=n,r=null;return n.timeZoneOffset!==null&&(this.canComputeOffset?i=this.timestampToMarker(i.valueOf()-n.timeZoneOffset*60*1e3):r=n.timeZoneOffset),{marker:i,isTimeUnspecified:n.isTimeUnspecified,forcedTzo:r}}getYear(t){return this.calendarSystem.getMarkerYear(t)}getMonth(t){return this.calendarSystem.getMarkerMonth(t)}getDay(t){return this.calendarSystem.getMarkerDay(t)}add(t,n){let i=this.calendarSystem.markerToArray(t);return i[0]+=n.years,i[1]+=n.months,i[2]+=n.days,i[6]+=n.milliseconds,this.calendarSystem.arrayToMarker(i)}subtract(t,n){let i=this.calendarSystem.markerToArray(t);return i[0]-=n.years,i[1]-=n.months,i[2]-=n.days,i[6]-=n.milliseconds,this.calendarSystem.arrayToMarker(i)}addYears(t,n){let i=this.calendarSystem.markerToArray(t);return i[0]+=n,this.calendarSystem.arrayToMarker(i)}addMonths(t,n){let i=this.calendarSystem.markerToArray(t);return i[1]+=n,this.calendarSystem.arrayToMarker(i)}diffWholeYears(t,n){let{calendarSystem:i}=this;return Wp(t)===Wp(n)&&i.getMarkerDay(t)===i.getMarkerDay(n)&&i.getMarkerMonth(t)===i.getMarkerMonth(n)?i.getMarkerYear(n)-i.getMarkerYear(t):null}diffWholeMonths(t,n){let{calendarSystem:i}=this;return Wp(t)===Wp(n)&&i.getMarkerDay(t)===i.getMarkerDay(n)?i.getMarkerMonth(n)-i.getMarkerMonth(t)+(i.getMarkerYear(n)-i.getMarkerYear(t))*12:null}greatestWholeUnit(t,n){let i=this.diffWholeYears(t,n);return i!==null?{unit:"year",value:i}:(i=this.diffWholeMonths(t,n),i!==null?{unit:"month",value:i}:(i=xPe(t,n),i!==null?{unit:"week",value:i}:(i=dR(t,n),i!==null?{unit:"day",value:i}:(i=gPe(t,n),nA(i)?{unit:"hour",value:i}:(i=vPe(t,n),nA(i)?{unit:"minute",value:i}:(i=SPe(t,n),nA(i)?{unit:"second",value:i}:{unit:"millisecond",value:n.valueOf()-t.valueOf()}))))))}countDurationsBetween(t,n,i){let r;return i.years&&(r=this.diffWholeYears(t,n),r!==null)?r/hPe(i):i.months&&(r=this.diffWholeMonths(t,n),r!==null)?r/pPe(i):i.days&&(r=dR(t,n),r!==null)?r/B0(i):(n.valueOf()-t.valueOf())/Ru(i)}startOf(t,n){return n==="year"?this.startOfYear(t):n==="month"?this.startOfMonth(t):n==="week"?this.startOfWeek(t):n==="day"?hr(t):n==="hour"?wPe(t):n==="minute"?EPe(t):n==="second"?_Pe(t):null}startOfYear(t){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(t)])}startOfMonth(t){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(t),this.calendarSystem.getMarkerMonth(t)])}startOfWeek(t){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(t),this.calendarSystem.getMarkerMonth(t),t.getUTCDate()-(t.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(t){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(t)):APe(t,this.weekDow,this.weekDoy)}format(t,n,i={}){return n.format({marker:t,timeZoneOffset:i.forcedTzo!=null?i.forcedTzo:this.offsetForMarker(t)},this)}formatRange(t,n,i,r={}){return r.isEndExclusive&&(n=fm(n,-1)),i.formatRange({marker:t,timeZoneOffset:r.forcedStartTzo!=null?r.forcedStartTzo:this.offsetForMarker(t)},{marker:n,timeZoneOffset:r.forcedEndTzo!=null?r.forcedEndTzo:this.offsetForMarker(n)},this,r.defaultSeparator)}formatIso(t,n={}){let i=null;return n.omitTimeZoneOffset||(n.forcedTzo!=null?i=n.forcedTzo:i=this.offsetForMarker(t)),Ole(t,i,n.omitTime)}timestampToMarker(t){return this.timeZone==="local"?nl(aG(new Date(t))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(t):nl(this.namedTimeZoneImpl.timestampToArray(t))}offsetForMarker(t){return this.timeZone==="local"?-sG(qp(t)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(qp(t)):null}toDate(t,n){return this.timeZone==="local"?sG(qp(t)):this.timeZone==="UTC"?new Date(t.valueOf()):this.namedTimeZoneImpl?new Date(t.valueOf()-this.namedTimeZoneImpl.offsetForArray(qp(t))*1e3*60):new Date(t.valueOf()-(n||0))}}class W2{constructor(t){this.iconOverrideOption&&this.setIconOverride(t[this.iconOverrideOption])}setIconOverride(t){let n,i;if(typeof t=="object"&&t){n=Object.assign({},this.iconClasses);for(i in t)n[i]=this.applyIconOverridePrefix(t[i]);this.iconClasses=n}else t===!1&&(this.iconClasses={})}applyIconOverridePrefix(t){let n=this.iconOverridePrefix;return n&&t.indexOf(n)!==0&&(t=n+t),t}getClass(t){return this.classes[t]||""}getIconClass(t,n){let i;return n&&this.rtlIconClasses?i=this.rtlIconClasses[t]||this.iconClasses[t]:i=this.iconClasses[t],i?`${this.baseIconClass} ${i}`:""}getCustomButtonIconClass(t){let n;return this.iconOverrideCustomButtonOption&&(n=t[this.iconOverrideCustomButtonOption],n)?`${this.baseIconClass} ${this.applyIconOverridePrefix(n)}`:""}}W2.prototype.classes={};W2.prototype.iconClasses={};W2.prototype.baseIconClass="";W2.prototype.iconOverridePrefix="";function mR(e){e();let t=jn.debounceRendering,n=[];function i(r){n.push(r)}for(jn.debounceRendering=i,Lx(Ce(n8e,{}),document.createElement("div"));n.length;)n.shift()();jn.debounceRendering=t}class n8e extends zl{render(){return Ce("div",{})}componentDidMount(){this.setState({})}}function Cle(e){let t=RIe(e),n=t.Provider;return t.Provider=function(){let i=!this.getChildContext,r=n.apply(this,arguments);if(i){let a=[];this.shouldComponentUpdate=o=>{this.props.value!==o.value&&a.forEach(l=>{l.context=o.value,l.forceUpdate()})},this.sub=o=>{a.push(o);let l=o.componentWillUnmount;o.componentWillUnmount=()=>{a.splice(a.indexOf(o),1),l&&l.call(o)}}}return r},t}class i8e{constructor(t,n,i,r){this.execFunc=t,this.emitter=n,this.scrollTime=i,this.scrollTimeReset=r,this.handleScrollRequest=a=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},a),this.drain()},n.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(t){t&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const Ah=Cle({});function r8e(e,t,n,i,r,a,o,l,c,u,d,h,m,p){return{dateEnv:r,nowManager:a,options:n,pluginHooks:l,emitter:d,dispatch:c,getCurrentData:u,calendarApi:h,viewSpec:e,viewApi:t,dateProfileGenerator:i,theme:o,isRtl:n.direction==="rtl",addResizeHandler(v){d.on("_resize",v)},removeResizeHandler(v){d.off("_resize",v)},createScrollResponder(v){return new i8e(v,d,mi(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:m,unregisterInteractiveComponent:p}}class Zg extends zl{shouldComponentUpdate(t,n){return!mC(this.props,t,this.propEquality)||!mC(this.state,n,this.stateEquality)}safeSetState(t){mC(this.state,Object.assign(Object.assign({},this.state),t),this.stateEquality)||this.setState(t)}}Zg.addPropsEquality=a8e;Zg.addStateEquality=s8e;Zg.contextType=Ah;Zg.prototype.propEquality={};Zg.prototype.stateEquality={};class Ti extends Zg{}Ti.contextType=Ah;function a8e(e){let t=Object.create(this.prototype.propEquality);Object.assign(t,e),this.prototype.propEquality=t}function s8e(e){let t=Object.create(this.prototype.stateEquality);Object.assign(t,e),this.prototype.stateEquality=t}function Kd(e,t){typeof e=="function"?e(t):e&&(e.current=t)}class S8 extends Ti{constructor(){super(...arguments),this.id=Xg(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=t=>{const{options:n}=this.context,{generatorName:i}=this.props;(!n.customRenderingReplaces||!j6(i,n))&&this.updateElRef(t)},this.updateElRef=t=>{this.props.elRef&&Kd(this.props.elRef,t)}}render(){const{props:t,context:n}=this,{options:i}=n,{customGenerator:r,defaultGenerator:a,renderProps:o}=t,l=Lle(t,[],this.handleEl);let c=!1,u,d=[],h;if(r!=null){const m=typeof r=="function"?r(o,Ce):r;if(m===!0)c=!0;else{const p=m&&typeof m=="object";p&&"html"in m?l.dangerouslySetInnerHTML={__html:m.html}:p&&"domNodes"in m?d=Array.prototype.slice.call(m.domNodes):(p?nle(m):typeof m!="function")?u=m:h=m}}else c=!j6(t.generatorName,i);return c&&a&&(u=a(o)),this.queuedDomNodes=d,this.currentGeneratorMeta=h,Ce(t.elTag,l,u)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(t){var n;const{props:i,context:r}=this,{handleCustomRendering:a,customRenderingMetaMap:o}=r.options;if(a){const l=(n=this.currentGeneratorMeta)!==null&&n!==void 0?n:o==null?void 0:o[i.generatorName];l&&a(Object.assign(Object.assign({id:this.id,isActive:t,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:l},i),{elClasses:(i.elClasses||[]).filter(o8e)}))}}applyQueueudDomNodes(){const{queuedDomNodes:t,currentDomNodes:n}=this,i=this.base;if(!dm(t,n)){n.forEach(d8);for(let r of t)i.appendChild(r);this.currentDomNodes=t}}}S8.addPropsEquality({elClasses:dm,elStyle:Bu,elAttrs:HPe,renderProps:Bu});function j6(e,t){var n;return!!(t.handleCustomRendering&&e&&(!((n=t.customRenderingMetaMap)===null||n===void 0)&&n[e]))}function Lle(e,t,n){const i=Object.assign(Object.assign({},e.elAttrs),{ref:n});return(e.elClasses||t)&&(i.className=(e.elClasses||[]).concat(t||[]).concat(i.className||[]).filter(Boolean).join(" ")),e.elStyle&&(i.style=e.elStyle),i}function o8e(e){return!!e}const Tle=Cle(0);class io extends zl{constructor(){super(...arguments),this.InnerContent=l8e.bind(void 0,this),this.handleEl=t=>{this.el=t,this.props.elRef&&(Kd(this.props.elRef,t),t&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:t}=this,n=c8e(t.classNameGenerator,t.renderProps);if(t.children){const i=Lle(t,n,this.handleEl),r=t.children(this.InnerContent,t.renderProps,i);return t.elTag?Ce(t.elTag,i,r):r}else return Ce(S8,Object.assign(Object.assign({},t),{elRef:this.handleEl,elTag:t.elTag||"div",elClasses:(t.elClasses||[]).concat(n),renderId:this.context}))}componentDidMount(){var t,n;this.el?(n=(t=this.props).didMount)===null||n===void 0||n.call(t,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var t,n;(n=(t=this.props).willUnmount)===null||n===void 0||n.call(t,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}io.contextType=Tle;function l8e(e,t){const n=e.props;return Ce(S8,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:e.context},t))}function c8e(e,t){const n=typeof e=="function"?e(t):e||[];return typeof n=="string"?[n]:n}class Tx extends Ti{render(){let{props:t,context:n}=this,{options:i}=n,r={view:n.viewApi};return Ce(io,{elRef:t.elRef,elTag:t.elTag||"div",elAttrs:t.elAttrs,elClasses:[...Mle(t.viewSpec),...t.elClasses||[]],elStyle:t.elStyle,renderProps:r,classNameGenerator:i.viewClassNames,generatorName:void 0,didMount:i.viewDidMount,willUnmount:i.viewWillUnmount},()=>t.children)}}function Mle(e){return[`fc-${e.type}-view`,"fc-view"]}function u8e(e,t){let n=null,i=null;return e.start&&(n=t.createMarker(e.start)),e.end&&(i=t.createMarker(e.end)),!n&&!i||n&&i&&i<n?null:{start:n,end:i}}function fG(e,t){let n=[],{start:i}=t,r,a;for(e.sort(d8e),r=0;r<e.length;r+=1)a=e[r],a.start>i&&n.push({start:i,end:a.start}),a.end>i&&(i=a.end);return i<t.end&&n.push({start:i,end:t.end}),n}function d8e(e,t){return e.start.valueOf()-t.start.valueOf()}function hm(e,t){let{start:n,end:i}=e,r=null;return t.start!==null&&(n===null?n=t.start:n=new Date(Math.max(n.valueOf(),t.start.valueOf()))),t.end!=null&&(i===null?i=t.end:i=new Date(Math.min(i.valueOf(),t.end.valueOf()))),(n===null||i===null||n<i)&&(r={start:n,end:i}),r}function f8e(e,t){return(e.start===null?null:e.start.valueOf())===(t.start===null?null:t.start.valueOf())&&(e.end===null?null:e.end.valueOf())===(t.end===null?null:t.end.valueOf())}function b8(e,t){return(e.end===null||t.start===null||e.end>t.start)&&(e.start===null||t.end===null||e.start<t.end)}function LO(e,t){return(e.start===null||t.start!==null&&t.start>=e.start)&&(e.end===null||t.end!==null&&t.end<=e.end)}function ah(e,t){return(e.start===null||t>=e.start)&&(e.end===null||t<e.end)}function h8e(e,t){return t.start!=null&&e<t.start?t.start:t.end!=null&&e>=t.end?new Date(t.end.valueOf()-1):e}function Ile(e){let t=Math.floor(jm(e.start,e.end))||1,n=hr(e.start),i=Ma(n,t);return{start:n,end:i}}function x8(e,t=mi(0)){let n=null,i=null;if(e.end){i=hr(e.end);let r=e.end.valueOf()-i.valueOf();r&&r>=Ru(t)&&(i=Ma(i,1))}return e.start&&(n=hr(e.start),i&&i<=n&&(i=Ma(n,1))),{start:n,end:i}}function p8e(e){let t=x8(e);return jm(t.start,t.end)>1}function b0(e,t,n,i){return i==="year"?mi(n.diffWholeYears(e,t),"year"):i==="month"?mi(n.diffWholeMonths(e,t),"month"):bPe(e,t)}class Ple{constructor(t){this.props=t,this.initHiddenDays()}buildPrev(t,n,i){let{dateEnv:r}=this.props,a=r.subtract(r.startOf(n,t.currentRangeUnit),t.dateIncrement);return this.build(a,-1,i)}buildNext(t,n,i){let{dateEnv:r}=this.props,a=r.add(r.startOf(n,t.currentRangeUnit),t.dateIncrement);return this.build(a,1,i)}build(t,n,i=!0){let{props:r}=this,a,o,l,c,u,d;return a=this.buildValidRange(),a=this.trimHiddenDays(a),i&&(t=h8e(t,a)),o=this.buildCurrentRangeInfo(t,n),l=/^(year|month|week|day)$/.test(o.unit),c=this.buildRenderRange(this.trimHiddenDays(o.range),o.unit,l),c=this.trimHiddenDays(c),u=c,r.showNonCurrentDates||(u=hm(u,o.range)),u=this.adjustActiveRange(u),u=hm(u,a),d=b8(o.range,a),ah(c,t)||(t=c.start),{currentDate:t,validRange:a,currentRange:o.range,currentRangeUnit:o.unit,isRangeAllDay:l,activeRange:u,renderRange:c,slotMinTime:r.slotMinTime,slotMaxTime:r.slotMaxTime,isValid:d,dateIncrement:this.buildDateIncrement(o.duration)}}buildValidRange(){let t=this.props.validRangeInput,n=typeof t=="function"?t.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):t;return this.refineRange(n)||{start:null,end:null}}buildCurrentRangeInfo(t,n){let{props:i}=this,r=null,a=null,o=null,l;return i.duration?(r=i.duration,a=i.durationUnit,o=this.buildRangeFromDuration(t,n,r,a)):(l=this.props.dayCount)?(a="day",o=this.buildRangeFromDayCount(t,n,l)):(o=this.buildCustomVisibleRange(t))?a=i.dateEnv.greatestWholeUnit(o.start,o.end).unit:(r=this.getFallbackDuration(),a=O6(r).unit,o=this.buildRangeFromDuration(t,n,r,a)),{duration:r,unit:a,range:o}}getFallbackDuration(){return mi({day:1})}adjustActiveRange(t){let{dateEnv:n,usesMinMaxTime:i,slotMinTime:r,slotMaxTime:a}=this.props,{start:o,end:l}=t;return i&&(B0(r)<0&&(o=hr(o),o=n.add(o,r)),B0(a)>1&&(l=hr(l),l=Ma(l,-1),l=n.add(l,a))),{start:o,end:l}}buildRangeFromDuration(t,n,i,r){let{dateEnv:a,dateAlignment:o}=this.props,l,c,u;if(!o){let{dateIncrement:h}=this.props;h&&Ru(h)<Ru(i)?o=O6(h).unit:o=r}B0(i)<=1&&this.isHiddenDay(l)&&(l=this.skipHiddenDays(l,n),l=hr(l));function d(){l=a.startOf(t,o),c=a.add(l,i),u={start:l,end:c}}return d(),this.trimHiddenDays(u)||(t=this.skipHiddenDays(t,n),d()),u}buildRangeFromDayCount(t,n,i){let{dateEnv:r,dateAlignment:a}=this.props,o=0,l=t,c;a&&(l=r.startOf(l,a)),l=hr(l),l=this.skipHiddenDays(l,n),c=l;do c=Ma(c,1),this.isHiddenDay(c)||(o+=1);while(o<i);return{start:l,end:c}}buildCustomVisibleRange(t){let{props:n}=this,i=n.visibleRangeInput,r=typeof i=="function"?i.call(n.calendarApi,n.dateEnv.toDate(t)):i,a=this.refineRange(r);return a&&(a.start==null||a.end==null)?null:a}buildRenderRange(t,n,i){return t}buildDateIncrement(t){let{dateIncrement:n}=this.props,i;return n||((i=this.props.dateAlignment)?mi(1,i):t||mi({days:1}))}refineRange(t){if(t){let n=u8e(t,this.props.dateEnv);return n&&(n=x8(n)),n}return null}initHiddenDays(){let t=this.props.hiddenDays||[],n=[],i=0,r;for(this.props.weekends===!1&&t.push(0,6),r=0;r<7;r+=1)(n[r]=t.indexOf(r)!==-1)||(i+=1);if(!i)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n}trimHiddenDays(t){let{start:n,end:i}=t;return n&&(n=this.skipHiddenDays(n)),i&&(i=this.skipHiddenDays(i,-1,!0)),n==null||i==null||n<i?{start:n,end:i}:null}isHiddenDay(t){return t instanceof Date&&(t=t.getUTCDay()),this.isHiddenDayHash[t]}skipHiddenDays(t,n=1,i=!1){for(;this.isHiddenDayHash[(t.getUTCDay()+(i?n:0)+7)%7];)t=Ma(t,n);return t}}function w8(e,t,n,i){return{instanceId:Xg(),defId:e,range:t,forcedStartTzo:n??null,forcedEndTzo:i??null}}function m8e(e,t,n,i){for(let r=0;r<i.length;r+=1){let a=i[r].parse(e,n);if(a){let{allDay:o}=e;return o==null&&(o=t,o==null&&(o=a.allDayGuess,o==null&&(o=!1))),{allDay:o,duration:a.duration,typeData:a.typeData,typeId:r}}}return null}function Cg(e,t,n){let{dateEnv:i,pluginHooks:r,options:a}=n,{defs:o,instances:l}=e;l=Dg(l,c=>!o[c.defId].recurringDef);for(let c in o){let u=o[c];if(u.recurringDef){let{duration:d}=u.recurringDef;d||(d=u.allDay?a.defaultAllDayEventDuration:a.defaultTimedEventDuration);let h=y8e(u,d,t,i,r.recurringTypes);for(let m of h){let p=w8(c,{start:m,end:i.add(m,d)});l[p.instanceId]=p}}}return{defs:o,instances:l}}function y8e(e,t,n,i,r){let o=r[e.recurringDef.typeId].expand(e.recurringDef.typeData,{start:i.subtract(n.start,t),end:n.end},i);return e.allDay&&(o=o.map(hr)),o}const rA={id:String,groupId:String,title:String,url:String,interactive:Boolean},kle={start:at,end:at,date:at,allDay:Boolean},g8e=Object.assign(Object.assign(Object.assign({},rA),kle),{extendedProps:at});function $le(e,t,n,i,r=E8(n),a,o){let{refined:l,extra:c}=Fle(e,n,r),u=S8e(t,n),d=m8e(l,u,n.dateEnv,n.pluginHooks.recurringTypes);if(d){let m=D6(l,c,t?t.sourceId:"",d.allDay,!!d.duration,n,a);return m.recurringDef={typeId:d.typeId,typeData:d.typeData,duration:d.duration},{def:m,instance:null}}let h=v8e(l,u,n,i);if(h){let m=D6(l,c,t?t.sourceId:"",h.allDay,h.hasEnd,n,a),p=w8(m.defId,h.range,h.forcedStartTzo,h.forcedEndTzo);return o&&m.publicId&&o[m.publicId]&&(p.instanceId=o[m.publicId]),{def:m,instance:p}}return null}function Fle(e,t,n=E8(t)){return y8(e,n)}function E8(e){return Object.assign(Object.assign(Object.assign({},yR),g8e),e.pluginHooks.eventRefiners)}function D6(e,t,n,i,r,a,o){let l={title:e.title||"",groupId:e.groupId||"",publicId:e.id||"",url:e.url||"",recurringDef:null,defId:(o&&e.id?o[e.id]:"")||Xg(),sourceId:n,allDay:i,hasEnd:r,interactive:e.interactive,ui:gR(e,a),extendedProps:Object.assign(Object.assign({},e.extendedProps||{}),t)};for(let c of a.pluginHooks.eventDefMemberAdders)Object.assign(l,c(e));return Object.freeze(l.ui.classNames),Object.freeze(l.extendedProps),l}function v8e(e,t,n,i){let{allDay:r}=e,a,o=null,l=!1,c,u=null,d=e.start!=null?e.start:e.date;if(a=n.dateEnv.createMarkerMeta(d),a)o=a.marker;else if(!i)return null;return e.end!=null&&(c=n.dateEnv.createMarkerMeta(e.end)),r==null&&(t!=null?r=t:r=(!a||a.isTimeUnspecified)&&(!c||c.isTimeUnspecified)),r&&o&&(o=hr(o)),c&&(u=c.marker,r&&(u=hr(u)),o&&u<=o&&(u=null)),u?l=!0:i||(l=n.options.forceEventDuration||!1,u=n.dateEnv.add(o,r?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:r,hasEnd:l,range:{start:o,end:u},forcedStartTzo:a?a.forcedTzo:null,forcedEndTzo:c?c.forcedTzo:null}}function S8e(e,t){let n=null;return e&&(n=e.defaultAllDay),n==null&&(n=t.options.defaultAllDay),n}function Mx(e,t,n,i,r,a){let o=Ul(),l=E8(n);for(let c of e){let u=$le(c,t,n,i,l,r,a);u&&C6(u,o)}return o}function C6(e,t=Ul()){return t.defs[e.def.defId]=e.def,e.instance&&(t.instances[e.instance.instanceId]=e.instance),t}function _8(e,t){let n=e.instances[t];if(n){let i=e.defs[n.defId],r=TO(e,a=>b8e(i,a));return r.defs[i.defId]=i,r.instances[n.instanceId]=n,r}return Ul()}function b8e(e,t){return!!(e.groupId&&e.groupId===t.groupId)}function Ul(){return{defs:{},instances:{}}}function A8(e,t){return{defs:Object.assign(Object.assign({},e.defs),t.defs),instances:Object.assign(Object.assign({},e.instances),t.instances)}}function TO(e,t){let n=Dg(e.defs,t),i=Dg(e.instances,r=>n[r.defId]);return{defs:n,instances:i}}function x8e(e,t){let{defs:n,instances:i}=e,r={},a={};for(let o in n)t.defs[o]||(r[o]=n[o]);for(let o in i)!t.instances[o]&&r[i[o].defId]&&(a[o]=i[o]);return{defs:r,instances:a}}function w8e(e,t){return Array.isArray(e)?Mx(e,null,t,!0):typeof e=="object"&&e?Mx([e],null,t,!0):e!=null?String(e):null}function hG(e){return Array.isArray(e)?e:typeof e=="string"?e.split(/\s+/):[]}const yR={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:at,overlap:at,allow:at,className:hG,classNames:hG,color:String,backgroundColor:String,borderColor:String,textColor:String},E8e={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function gR(e,t){let n=w8e(e.constraint,t);return{display:e.display||null,startEditable:e.startEditable!=null?e.startEditable:e.editable,durationEditable:e.durationEditable!=null?e.durationEditable:e.editable,constraints:n!=null?[n]:[],overlap:e.overlap!=null?e.overlap:null,allows:e.allow!=null?[e.allow]:[],backgroundColor:e.backgroundColor||e.color||"",borderColor:e.borderColor||e.color||"",textColor:e.textColor||"",classNames:(e.className||[]).concat(e.classNames||[])}}function Ble(e){return e.reduce(_8e,E8e)}function _8e(e,t){return{display:t.display!=null?t.display:e.display,startEditable:t.startEditable!=null?t.startEditable:e.startEditable,durationEditable:t.durationEditable!=null?t.durationEditable:e.durationEditable,constraints:e.constraints.concat(t.constraints),overlap:typeof t.overlap=="boolean"?t.overlap:e.overlap,allows:e.allows.concat(t.allows),backgroundColor:t.backgroundColor||e.backgroundColor,borderColor:t.borderColor||e.borderColor,textColor:t.textColor||e.textColor,classNames:e.classNames.concat(t.classNames)}}const A8e={id:String,defaultAllDay:Boolean,url:String,format:String,events:at,eventDataTransform:at,success:at,failure:at};function zle(e,t,n=Ule(t)){let i;if(typeof e=="string"?i={url:e}:typeof e=="function"||Array.isArray(e)?i={events:e}:typeof e=="object"&&e&&(i=e),i){let{refined:r,extra:a}=y8(i,n),o=R8e(r,t);if(o)return{_raw:e,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:r.defaultAllDay,eventDataTransform:r.eventDataTransform,success:r.success,failure:r.failure,publicId:r.id||"",sourceId:Xg(),sourceDefId:o.sourceDefId,meta:o.meta,ui:gR(r,t),extendedProps:a}}return null}function Ule(e){return Object.assign(Object.assign(Object.assign({},yR),A8e),e.pluginHooks.eventSourceRefiners)}function R8e(e,t){let n=t.pluginHooks.eventSourceDefs;for(let i=n.length-1;i>=0;i-=1){let a=n[i].parseMeta(e);if(a)return{sourceDefId:i,meta:a}}return null}function N8e(e,t,n,i,r){switch(t.type){case"RECEIVE_EVENTS":return O8e(e,n[t.sourceId],t.fetchId,t.fetchRange,t.rawEvents,r);case"RESET_RAW_EVENTS":return j8e(e,n[t.sourceId],t.rawEvents,i.activeRange,r);case"ADD_EVENTS":return D8e(e,t.eventStore,i?i.activeRange:null,r);case"RESET_EVENTS":return t.eventStore;case"MERGE_EVENTS":return A8(e,t.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return i?Cg(e,i.activeRange,r):e;case"REMOVE_EVENTS":return x8e(e,t.eventStore);case"REMOVE_EVENT_SOURCE":return Kle(e,t.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return TO(e,a=>!a.sourceId);case"REMOVE_ALL_EVENTS":return Ul();default:return e}}function O8e(e,t,n,i,r,a){if(t&&n===t.latestFetchId){let o=Mx(Vle(r,t,a),t,a);return i&&(o=Cg(o,i,a)),A8(Kle(e,t.sourceId),o)}return e}function j8e(e,t,n,i,r){const{defIdMap:a,instanceIdMap:o}=L8e(e);let l=Mx(Vle(n,t,r),t,r,!1,a,o);return Cg(l,i,r)}function Vle(e,t,n){let i=n.options.eventDataTransform,r=t?t.eventDataTransform:null;return r&&(e=pG(e,r)),i&&(e=pG(e,i)),e}function pG(e,t){let n;if(!t)n=e;else{n=[];for(let i of e){let r=t(i);r?n.push(r):r==null&&n.push(i)}}return n}function D8e(e,t,n,i){return n&&(t=Cg(t,n,i)),A8(e,t)}function mG(e,t,n){let{defs:i}=e,r=mh(e.instances,a=>i[a.defId].allDay?a:Object.assign(Object.assign({},a),{range:{start:n.createMarker(t.toDate(a.range.start,a.forcedStartTzo)),end:n.createMarker(t.toDate(a.range.end,a.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:a.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:a.forcedEndTzo}));return{defs:i,instances:r}}function Kle(e,t){return TO(e,n=>n.sourceId!==t)}function C8e(e,t){return{defs:e.defs,instances:Dg(e.instances,n=>!t[n.instanceId])}}function L8e(e){const{defs:t,instances:n}=e,i={},r={};for(let a in t){const o=t[a],{publicId:l}=o;l&&(i[l]=a)}for(let a in n){const o=n[a],l=t[o.defId],{publicId:c}=l;c&&(r[c]=a)}return{defIdMap:i,instanceIdMap:r}}class MO{constructor(){this.handlers={},this.thisContext=null}setThisContext(t){this.thisContext=t}setOptions(t){this.options=t}on(t,n){T8e(this.handlers,t,n)}off(t,n){M8e(this.handlers,t,n)}trigger(t,...n){let i=this.handlers[t]||[],r=this.options&&this.options[t],a=[].concat(r||[],i);for(let o of a)o.apply(this.thisContext,n)}hasHandlers(t){return!!(this.handlers[t]&&this.handlers[t].length||this.options&&this.options[t])}}function T8e(e,t,n){(e[t]||(e[t]=[])).push(n)}function M8e(e,t,n){n?e[t]&&(e[t]=e[t].filter(i=>i!==n)):delete e[t]}const I8e={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function P8e(e,t){return Mx(k8e(e),null,t)}function k8e(e){let t;return e===!0?t=[{}]:Array.isArray(e)?t=e.filter(n=>n.daysOfWeek):typeof e=="object"&&e?t=[e]:t=[],t=t.map(n=>Object.assign(Object.assign({},I8e),n)),t}function Gle(e,t,n){n.emitter.trigger("select",Object.assign(Object.assign({},R8(e,n)),{jsEvent:t?t.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function $8e(e,t){t.emitter.trigger("unselect",{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view})}function R8(e,t){let n={};for(let i of t.pluginHooks.dateSpanTransforms)Object.assign(n,i(e,t));return Object.assign(n,X8e(e,t.dateEnv)),n}function yG(e,t,n){let{dateEnv:i,options:r}=n,a=t;return e?(a=hr(a),a=i.add(a,r.defaultAllDayEventDuration)):a=i.add(a,r.defaultTimedEventDuration),a}function N8(e,t,n,i){let r=vR(e.defs,t),a=Ul();for(let o in e.defs){let l=e.defs[o];a.defs[o]=F8e(l,r[o],n,i)}for(let o in e.instances){let l=e.instances[o],c=a.defs[l.defId];a.instances[o]=B8e(l,c,r[l.defId],n,i)}return a}function F8e(e,t,n,i){let r=n.standardProps||{};r.hasEnd==null&&t.durationEditable&&(n.startDelta||n.endDelta)&&(r.hasEnd=!0);let a=Object.assign(Object.assign(Object.assign({},e),r),{ui:Object.assign(Object.assign({},e.ui),r.ui)});n.extendedProps&&(a.extendedProps=Object.assign(Object.assign({},a.extendedProps),n.extendedProps));for(let o of i.pluginHooks.eventDefMutationAppliers)o(a,n,i);return!a.hasEnd&&i.options.forceEventDuration&&(a.hasEnd=!0),a}function B8e(e,t,n,i,r){let{dateEnv:a}=r,o=i.standardProps&&i.standardProps.allDay===!0,l=i.standardProps&&i.standardProps.hasEnd===!1,c=Object.assign({},e);return o&&(c.range=Ile(c.range)),i.datesDelta&&n.startEditable&&(c.range={start:a.add(c.range.start,i.datesDelta),end:a.add(c.range.end,i.datesDelta)}),i.startDelta&&n.durationEditable&&(c.range={start:a.add(c.range.start,i.startDelta),end:c.range.end}),i.endDelta&&n.durationEditable&&(c.range={start:c.range.start,end:a.add(c.range.end,i.endDelta)}),l&&(c.range={start:c.range.start,end:yG(t.allDay,c.range.start,r)}),t.allDay&&(c.range={start:hr(c.range.start),end:hr(c.range.end)}),c.range.end<c.range.start&&(c.range.end=yG(t.allDay,c.range.start,r)),c}class g0{constructor(t,n){this.context=t,this.internalEventSource=n}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class Fr{constructor(t,n,i){this._context=t,this._def=n,this._instance=i||null}setProp(t,n){if(t in kle)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(t==="id")n=rA[t](n),this.mutate({standardProps:{publicId:n}});else if(t in rA)n=rA[t](n),this.mutate({standardProps:{[t]:n}});else if(t in yR){let i=yR[t](n);t==="color"?i={backgroundColor:n,borderColor:n}:t==="editable"?i={startEditable:n,durationEditable:n}:i={[t]:n},this.mutate({standardProps:{ui:i}})}else console.warn(`Could not set prop '${t}'. Use setExtendedProp instead.`)}setExtendedProp(t,n){this.mutate({extendedProps:{[t]:n}})}setStart(t,n={}){let{dateEnv:i}=this._context,r=i.createMarker(t);if(r&&this._instance){let a=this._instance.range,o=b0(a.start,r,i,n.granularity);n.maintainDuration?this.mutate({datesDelta:o}):this.mutate({startDelta:o})}}setEnd(t,n={}){let{dateEnv:i}=this._context,r;if(!(t!=null&&(r=i.createMarker(t),!r))&&this._instance)if(r){let a=b0(this._instance.range.end,r,i,n.granularity);this.mutate({endDelta:a})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(t,n,i={}){let{dateEnv:r}=this._context,a={allDay:i.allDay},o=r.createMarker(t),l;if(o&&!(n!=null&&(l=r.createMarker(n),!l))&&this._instance){let c=this._instance.range;i.allDay===!0&&(c=Ile(c));let u=b0(c.start,o,r,i.granularity);if(l){let d=b0(c.end,l,r,i.granularity);uPe(u,d)?this.mutate({datesDelta:u,standardProps:a}):this.mutate({startDelta:u,endDelta:d,standardProps:a})}else a.hasEnd=!1,this.mutate({datesDelta:u,standardProps:a})}}moveStart(t){let n=mi(t);n&&this.mutate({startDelta:n})}moveEnd(t){let n=mi(t);n&&this.mutate({endDelta:n})}moveDates(t){let n=mi(t);n&&this.mutate({datesDelta:n})}setAllDay(t,n={}){let i={allDay:t},{maintainDuration:r}=n;r==null&&(r=this._context.options.allDayMaintainDuration),this._def.allDay!==t&&(i.hasEnd=r),this.mutate({standardProps:i})}formatRange(t){let{dateEnv:n}=this._context,i=this._instance,r=jr(t);return this._def.hasEnd?n.formatRange(i.range.start,i.range.end,r,{forcedStartTzo:i.forcedStartTzo,forcedEndTzo:i.forcedEndTzo}):n.format(i.range.start,r,{forcedTzo:i.forcedStartTzo})}mutate(t){let n=this._instance;if(n){let i=this._def,r=this._context,{eventStore:a}=r.getCurrentData(),o=_8(a,n.instanceId);o=N8(o,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},t,r);let c=new Fr(r,i,n);this._def=o.defs[i.defId],this._instance=o.instances[n.instanceId],r.dispatch({type:"MERGE_EVENTS",eventStore:o}),r.emitter.trigger("eventChange",{oldEvent:c,event:this,relatedEvents:lg(o,r,n),revert(){r.dispatch({type:"RESET_EVENTS",eventStore:a})}})}}remove(){let t=this._context,n=Hle(this);t.dispatch({type:"REMOVE_EVENTS",eventStore:n}),t.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){t.dispatch({type:"MERGE_EVENTS",eventStore:n})}})}get source(){let{sourceId:t}=this._def;return t?new g0(this._context,this._context.getCurrentData().eventSources[t]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let t=this._instance;return t?this._context.dateEnv.formatIso(t.range.start,{omitTime:this._def.allDay,forcedTzo:t.forcedStartTzo}):""}get endStr(){let t=this._instance;return t&&this._def.hasEnd?this._context.dateEnv.formatIso(t.range.end,{omitTime:this._def.allDay,forcedTzo:t.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(t={}){let n=this._def,{ui:i}=n,{startStr:r,endStr:a}=this,o={allDay:n.allDay};return n.title&&(o.title=n.title),r&&(o.start=r),a&&(o.end=a),n.publicId&&(o.id=n.publicId),n.groupId&&(o.groupId=n.groupId),n.url&&(o.url=n.url),i.display&&i.display!=="auto"&&(o.display=i.display),t.collapseColor&&i.backgroundColor&&i.backgroundColor===i.borderColor?o.color=i.backgroundColor:(i.backgroundColor&&(o.backgroundColor=i.backgroundColor),i.borderColor&&(o.borderColor=i.borderColor)),i.textColor&&(o.textColor=i.textColor),i.classNames.length&&(o.classNames=i.classNames),Object.keys(n.extendedProps).length&&(t.collapseExtendedProps?Object.assign(o,n.extendedProps):o.extendedProps=n.extendedProps),o}toJSON(){return this.toPlainObject()}}function Hle(e){let t=e._def,n=e._instance;return{defs:{[t.defId]:t},instances:n?{[n.instanceId]:n}:{}}}function lg(e,t,n){let{defs:i,instances:r}=e,a=[],o=n?n.instanceId:"";for(let l in r){let c=r[l],u=i[c.defId];c.instanceId!==o&&a.push(new Fr(t,u,c))}return a}function L6(e,t,n,i){let r={},a={},o={},l=[],c=[],u=vR(e.defs,t);for(let d in e.defs){let h=e.defs[d];u[h.defId].display==="inverse-background"&&(h.groupId?(r[h.groupId]=[],o[h.groupId]||(o[h.groupId]=h)):a[d]=[])}for(let d in e.instances){let h=e.instances[d],m=e.defs[h.defId],p=u[m.defId],v=h.range,S=!m.allDay&&i?x8(v,i):v,b=hm(S,n);b&&(p.display==="inverse-background"?m.groupId?r[m.groupId].push(b):a[h.defId].push(b):p.display!=="none"&&(p.display==="background"?l:c).push({def:m,ui:p,instance:h,range:b,isStart:S.start&&S.start.valueOf()===b.start.valueOf(),isEnd:S.end&&S.end.valueOf()===b.end.valueOf()}))}for(let d in r){let h=r[d],m=fG(h,n);for(let p of m){let v=o[d],S=u[v.defId];l.push({def:v,ui:S,instance:null,range:p,isStart:!1,isEnd:!1})}}for(let d in a){let h=a[d],m=fG(h,n);for(let p of m)l.push({def:e.defs[d],ui:u[d],instance:null,range:p,isStart:!1,isEnd:!1})}return{bg:l,fg:c}}function z8e(e){return e.ui.display==="background"||e.ui.display==="inverse-background"}function gG(e,t){e.fcSeg=t}function A1(e){return e.fcSeg||e.parentNode.fcSeg||null}function vR(e,t){return mh(e,n=>qle(n,t))}function qle(e,t){let n=[];return t[""]&&n.push(t[""]),t[e.defId]&&n.push(t[e.defId]),n.push(e.ui),Ble(n)}function O8(e,t){let n=e.map(U8e);return n.sort((i,r)=>iPe(i,r,t)),n.map(i=>i._seg)}function U8e(e){let{eventRange:t}=e,n=t.def,i=t.instance?t.instance.range:t.range,r=i.start?i.start.valueOf():0,a=i.end?i.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:r,end:a,duration:a-r,allDay:Number(n.allDay),_seg:e})}function V8e(e,t){let{pluginHooks:n}=t,i=n.isDraggableTransformers,{def:r,ui:a}=e.eventRange,o=a.startEditable;for(let l of i)o=l(o,r,a,t);return o}function K8e(e,t){return e.isStart&&e.eventRange.ui.durationEditable&&t.options.eventResizableFromStart}function G8e(e,t){return e.isEnd&&e.eventRange.ui.durationEditable}function ix(e,t,n,i,r,a,o){let{dateEnv:l,options:c}=n,{displayEventTime:u,displayEventEnd:d}=c,h=e.eventRange.def,m=e.eventRange.instance;u==null&&(u=i!==!1),d==null&&(d=r!==!1);let p=m.range.start,v=m.range.end,S=a||e.start||e.eventRange.range.start,b=o||e.end||e.eventRange.range.end,w=hr(p).valueOf()===hr(S).valueOf(),R=hr(fm(v,-1)).valueOf()===hr(fm(b,-1)).valueOf();return u&&!h.allDay&&(w||R)?(S=w?p:S,b=R?v:b,d&&h.hasEnd?l.formatRange(S,b,t,{forcedStartTzo:a?null:m.forcedStartTzo,forcedEndTzo:o?null:m.forcedEndTzo}):l.format(S,t,{forcedTzo:a?null:m.forcedStartTzo})):""}function sh(e,t,n){let i=e.eventRange.range;return{isPast:i.end<=(n||t.start),isFuture:i.start>=(n||t.end),isToday:t&&ah(t,i.start)}}function H8e(e){let t=["fc-event"];return e.isMirror&&t.push("fc-event-mirror"),e.isDraggable&&t.push("fc-event-draggable"),(e.isStartResizable||e.isEndResizable)&&t.push("fc-event-resizable"),e.isDragging&&t.push("fc-event-dragging"),e.isResizing&&t.push("fc-event-resizing"),e.isSelected&&t.push("fc-event-selected"),e.isStart&&t.push("fc-event-start"),e.isEnd&&t.push("fc-event-end"),e.isPast&&t.push("fc-event-past"),e.isToday&&t.push("fc-event-today"),e.isFuture&&t.push("fc-event-future"),t}function Wle(e){return e.instance?e.instance.instanceId:`${e.def.defId}:${e.range.start.toISOString()}`}function j8(e,t){let{def:n,instance:i}=e.eventRange,{url:r}=n;if(r)return{href:r};let{emitter:a,options:o}=t,{eventInteractive:l}=o;return l==null&&(l=n.interactive,l==null&&(l=!!a.hasHandlers("eventClick"))),l?Rle(c=>{a.trigger("eventClick",{el:c.target,event:new Fr(t,n,i),jsEvent:c,view:t.viewApi})}):{}}const q8e={start:at,end:at,allDay:Boolean};function W8e(e,t,n){let i=Y8e(e,t),{range:r}=i;if(!r.start)return null;if(!r.end){if(n==null)return null;r.end=t.add(r.start,n)}return i}function Y8e(e,t){let{refined:n,extra:i}=y8(e,q8e),r=n.start?t.createMarkerMeta(n.start):null,a=n.end?t.createMarkerMeta(n.end):null,{allDay:o}=n;return o==null&&(o=r&&r.isTimeUnspecified&&(!a||a.isTimeUnspecified)),Object.assign({range:{start:r?r.marker:null,end:a?a.marker:null},allDay:o},i)}function J8e(e,t){return f8e(e.range,t.range)&&e.allDay===t.allDay&&Q8e(e,t)}function Q8e(e,t){for(let n in t)if(n!=="range"&&n!=="allDay"&&e[n]!==t[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}function X8e(e,t){return Object.assign(Object.assign({},Jle(e.range,t,e.allDay)),{allDay:e.allDay})}function Yle(e,t,n){return Object.assign(Object.assign({},Jle(e,t,n)),{timeZone:t.timeZone})}function Jle(e,t,n){return{start:t.toDate(e.start),end:t.toDate(e.end),startStr:t.formatIso(e.start,{omitTime:n}),endStr:t.formatIso(e.end,{omitTime:n})}}function Z8e(e,t,n){let i=Fle({editable:!1},n),r=D6(i.refined,i.extra,"",e.allDay,!0,n);return{def:r,ui:qle(r,t),instance:w8(r.defId,e.range),range:e.range,isStart:!0,isEnd:!0}}function eke(e,t,n){let i=!1,r=function(l){i||(i=!0,t(l))},a=function(l){i||(i=!0,n(l))},o=e(r,a);o&&typeof o.then=="function"&&o.then(r,a)}class vG extends Error{constructor(t,n){super(t),this.response=n}}function tke(e,t,n){e=e.toUpperCase();const i={method:e};return e==="GET"?t+=(t.indexOf("?")===-1?"?":"&")+new URLSearchParams(n):(i.body=new URLSearchParams(n),i.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(t,i).then(r=>{if(r.ok)return r.json().then(a=>[a,r],()=>{throw new vG("Failure parsing JSON",r)});throw new vG("Request failed",r)})}let yC;function Qle(){return yC==null&&(yC=nke()),yC}function nke(){if(typeof document>"u")return!0;let e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.innerHTML="<table><tr><td><div></div></td></tr></table>",e.querySelector("table").style.height="100px",e.querySelector("div").style.height="100%",document.body.appendChild(e);let n=e.querySelector("div").offsetHeight>0;return document.body.removeChild(e),n}class ike extends Ti{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{mR(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{mR(()=>{this.setState({forPrint:!1})})}}render(){let{props:t}=this,{options:n}=t,{forPrint:i}=this.state,r=i||n.height==="auto"||n.contentHeight==="auto",a=!r&&n.height!=null?n.height:"",o=["fc",i?"fc-media-print":"fc-media-screen",`fc-direction-${n.direction}`,t.theme.getClass("root")];return Qle()||o.push("fc-liquid-hack"),t.children(o,a,r,i)}componentDidMount(){let{emitter:t}=this.props;t.on("_beforeprint",this.handleBeforePrint),t.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:t}=this.props;t.off("_beforeprint",this.handleBeforePrint),t.off("_afterprint",this.handleAfterPrint)}}class J1{constructor(t){this.component=t.component,this.isHitComboAllowed=t.isHitComboAllowed||null}destroy(){}}function rke(e,t){return{component:e,el:t.el,useEventCenter:t.useEventCenter!=null?t.useEventCenter:!0,isHitComboAllowed:t.isHitComboAllowed||null}}function D8(e){return{[e.component.uid]:e}}const T6={};class ev extends zl{constructor(t,n){super(t,n),this.handleRefresh=()=>{let i=this.computeTiming();i.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(i.state),this.clearTimeout(),this.setTimeout(i.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:t,state:n}=this;return t.children(n.nowDate,n.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(t){t.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:t,context:n}=this,i=n.nowManager.getDateMarker(),{nowIndicatorSnap:r}=n.options;r==="auto"&&(r=/year|month|week|day/.test(t.unit)||(t.unitValue||1)===1);let a,o;return r?(a=n.dateEnv.startOf(i,t.unit),o=n.dateEnv.add(a,mi(1,t.unit)).valueOf()-i.valueOf()):(a=i,o=1e3*60),o=Math.min(1e3*60*60*24,o),{state:{nowDate:a,todayRange:ake(a)},waitMs:o}}setTimeout(t=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const n=this.computeTiming();this.setState(n.state,()=>{this.setTimeout(n.waitMs)})},t)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}ev.contextType=Ah;function ake(e){let t=hr(e),n=Ma(t,1);return{start:t,end:n}}class ske{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(t){this.currentDataManager.dispatch(t)}get view(){return this.getCurrentData().viewApi}batchRendering(t){t()}updateSize(){this.trigger("_resize",!0)}setOption(t,n){this.dispatch({type:"SET_OPTION",optionName:t,rawOptionValue:n})}getOption(t){return this.currentDataManager.currentCalendarOptionsInput[t]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(t,n){let{currentDataManager:i}=this;i.currentCalendarOptionsRefiners[t]?i.emitter.on(t,n):console.warn(`Unknown listener name '${t}'`)}off(t,n){this.currentDataManager.emitter.off(t,n)}trigger(t,...n){this.currentDataManager.emitter.trigger(t,...n)}changeView(t,n){this.batchRendering(()=>{if(this.unselect(),n)if(n.start&&n.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:t}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:n});else{let{dateEnv:i}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:t,dateMarker:i.createMarker(n)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:t})})}zoomTo(t,n){let i=this.getCurrentData(),r;n=n||"day",r=i.viewSpecs[n]||this.getUnitViewSpec(n),this.unselect(),r?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:r.type,dateMarker:t}):this.dispatch({type:"CHANGE_DATE",dateMarker:t})}getUnitViewSpec(t){let{viewSpecs:n,toolbarConfig:i}=this.getCurrentData(),r=[].concat(i.header?i.header.viewsWithButtons:[],i.footer?i.footer.viewsWithButtons:[]),a,o;for(let l in n)r.push(l);for(a=0;a<r.length;a+=1)if(o=n[r[a]],o&&o.singleUnit===t)return o;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.addYears(t.currentDate,-1)})}nextYear(){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.addYears(t.currentDate,1)})}today(){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.nowManager.getDateMarker()})}gotoDate(t){let n=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.createMarker(t)})}incrementDate(t){let n=this.getCurrentData(),i=mi(t);i&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.add(n.currentDate,i)}))}getDate(){let t=this.getCurrentData();return t.dateEnv.toDate(t.currentDate)}formatDate(t,n){let{dateEnv:i}=this.getCurrentData();return i.format(i.createMarker(t),jr(n))}formatRange(t,n,i){let{dateEnv:r}=this.getCurrentData();return r.formatRange(r.createMarker(t),r.createMarker(n),jr(i),i)}formatIso(t,n){let{dateEnv:i}=this.getCurrentData();return i.formatIso(i.createMarker(t),{omitTime:n})}select(t,n){let i;n==null?t.start!=null?i=t:i={start:t,end:null}:i={start:t,end:n};let r=this.getCurrentData(),a=W8e(i,r.dateEnv,mi({days:1}));a&&(this.dispatch({type:"SELECT_DATES",selection:a}),Gle(a,null,r))}unselect(t){let n=this.getCurrentData();n.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),$8e(t,n))}addEvent(t,n){if(t instanceof Fr){let o=t._def,l=t._instance;return this.getCurrentData().eventStore.defs[o.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:C6({def:o,instance:l})}),this.triggerEventAdd(t)),t}let i=this.getCurrentData(),r;if(n instanceof g0)r=n.internalEventSource;else if(typeof n=="boolean")n&&([r]=v8(i.eventSources));else if(n!=null){let o=this.getEventSourceById(n);if(!o)return console.warn(`Could not find an event source with ID "${n}"`),null;r=o.internalEventSource}let a=$le(t,r,i,!1);if(a){let o=new Fr(i,a.def,a.def.recurringDef?null:a.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:C6(a)}),this.triggerEventAdd(o),o}return null}triggerEventAdd(t){let{emitter:n}=this.getCurrentData();n.trigger("eventAdd",{event:t,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:Hle(t)})}})}getEventById(t){let n=this.getCurrentData(),{defs:i,instances:r}=n.eventStore;t=String(t);for(let a in i){let o=i[a];if(o.publicId===t){if(o.recurringDef)return new Fr(n,o,null);for(let l in r){let c=r[l];if(c.defId===o.defId)return new Fr(n,o,c)}}}return null}getEvents(){let t=this.getCurrentData();return lg(t.eventStore,t)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let t=this.getCurrentData(),n=t.eventSources,i=[];for(let r in n)i.push(new g0(t,n[r]));return i}getEventSourceById(t){let n=this.getCurrentData(),i=n.eventSources;t=String(t);for(let r in i)if(i[r].publicId===t)return new g0(n,i[r]);return null}addEventSource(t){let n=this.getCurrentData();if(t instanceof g0)return n.eventSources[t.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[t.internalEventSource]}),t;let i=zle(t,n);return i?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[i]}),new g0(n,i)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(t){let n=mi(t);n&&this.trigger("_scrollRequest",{time:n})}}function oke(e,t){return e.left>=t.left&&e.left<t.right&&e.top>=t.top&&e.top<t.bottom}function Xle(e,t){let n={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function lke(e,t){return{left:Math.min(Math.max(e.left,t.left),t.right),top:Math.min(Math.max(e.top,t.top),t.bottom)}}function cke(e){return{left:(e.left+e.right)/2,top:(e.top+e.bottom)/2}}function uke(e,t){return{left:e.left-t.left,top:e.top-t.top}}const gC=Ul();class dke{constructor(){this.getKeysForEventDefs=An(this._getKeysForEventDefs),this.splitDateSelection=An(this._splitDateSpan),this.splitEventStore=An(this._splitEventStore),this.splitIndividualUi=An(this._splitIndividualUi),this.splitEventDrag=An(this._splitInteraction),this.splitEventResize=An(this._splitInteraction),this.eventUiBuilders={}}splitProps(t){let n=this.getKeyInfo(t),i=this.getKeysForEventDefs(t.eventStore),r=this.splitDateSelection(t.dateSelection),a=this.splitIndividualUi(t.eventUiBases,i),o=this.splitEventStore(t.eventStore,i),l=this.splitEventDrag(t.eventDrag),c=this.splitEventResize(t.eventResize),u={};this.eventUiBuilders=mh(n,(d,h)=>this.eventUiBuilders[h]||An(fke));for(let d in n){let h=n[d],m=o[d]||gC,p=this.eventUiBuilders[d];u[d]={businessHours:h.businessHours||t.businessHours,dateSelection:r[d]||null,eventStore:m,eventUiBases:p(t.eventUiBases[""],h.ui,a[d]),eventSelection:m.instances[t.eventSelection]?t.eventSelection:"",eventDrag:l[d]||null,eventResize:c[d]||null}}return u}_splitDateSpan(t){let n={};if(t){let i=this.getKeysForDateSpan(t);for(let r of i)n[r]=t}return n}_getKeysForEventDefs(t){return mh(t.defs,n=>this.getKeysForEventDef(n))}_splitEventStore(t,n){let{defs:i,instances:r}=t,a={};for(let o in i)for(let l of n[o])a[l]||(a[l]=Ul()),a[l].defs[o]=i[o];for(let o in r){let l=r[o];for(let c of n[l.defId])a[c]&&(a[c].instances[o]=l)}return a}_splitIndividualUi(t,n){let i={};for(let r in t)if(r)for(let a of n[r])i[a]||(i[a]={}),i[a][r]=t[r];return i}_splitInteraction(t){let n={};if(t){let i=this._splitEventStore(t.affectedEvents,this._getKeysForEventDefs(t.affectedEvents)),r=this._getKeysForEventDefs(t.mutatedEvents),a=this._splitEventStore(t.mutatedEvents,r),o=l=>{n[l]||(n[l]={affectedEvents:i[l]||gC,mutatedEvents:a[l]||gC,isEvent:t.isEvent})};for(let l in i)o(l);for(let l in a)o(l)}return n}}function fke(e,t,n){let i=[];e&&i.push(e),t&&i.push(t);let r={"":Ble(i)};return n&&Object.assign(r,n),r}function C8(e,t,n,i){return{dow:e.getUTCDay(),isDisabled:!!(i&&(!i.activeRange||!ah(i.activeRange,e))),isOther:!!(i&&!ah(i.currentRange,e)),isToday:!!(t&&ah(t,e)),isPast:!!(n?e<n:t&&e<t.start),isFuture:!!(n?e>n:t&&e>=t.end)}}function IO(e,t){let n=["fc-day",`fc-day-${mPe[e.dow]}`];return e.isDisabled?n.push("fc-day-disabled"):(e.isToday&&(n.push("fc-day-today"),n.push(t.getClass("today"))),e.isPast&&n.push("fc-day-past"),e.isFuture&&n.push("fc-day-future"),e.isOther&&n.push("fc-day-other")),n}const hke=jr({year:"numeric",month:"long",day:"numeric"}),pke=jr({week:"long"});function R1(e,t,n="day",i=!0){const{dateEnv:r,options:a,calendarApi:o}=e;let l=r.format(t,n==="week"?pke:hke);if(a.navLinks){let c=r.toDate(t);const u=d=>{let h=n==="day"?a.navLinkDayClick:n==="week"?a.navLinkWeekClick:null;typeof h=="function"?h.call(o,r.toDate(t),d):(typeof h=="string"&&(n=h),o.zoomTo(t,n))};return Object.assign({title:tx(a.navLinkHint,[l,c],l),"data-navlink":""},i?Ale(u):{onClick:u})}return{"aria-label":l}}let vC=null;function mke(){return vC===null&&(vC=yke()),vC}function yke(){let e=document.createElement("div");ex(e,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),e.innerHTML="<div></div>",document.body.appendChild(e);let n=e.firstChild.getBoundingClientRect().left>e.getBoundingClientRect().left;return d8(e),n}let SC;function gke(){return SC||(SC=vke()),SC}function vke(){let e=document.createElement("div");e.style.overflow="scroll",e.style.position="absolute",e.style.top="-9999px",e.style.left="-9999px",document.body.appendChild(e);let t=Zle(e);return document.body.removeChild(e),t}function Zle(e){return{x:e.offsetHeight-e.clientHeight,y:e.offsetWidth-e.clientWidth}}function Ske(e,t=!1){let n=window.getComputedStyle(e),i=parseInt(n.borderLeftWidth,10)||0,r=parseInt(n.borderRightWidth,10)||0,a=parseInt(n.borderTopWidth,10)||0,o=parseInt(n.borderBottomWidth,10)||0,l=Zle(e),c=l.y-i-r,u=l.x-a-o,d={borderLeft:i,borderRight:r,borderTop:a,borderBottom:o,scrollbarBottom:u,scrollbarLeft:0,scrollbarRight:0};return mke()&&n.direction==="rtl"?d.scrollbarLeft=c:d.scrollbarRight=c,t&&(d.paddingLeft=parseInt(n.paddingLeft,10)||0,d.paddingRight=parseInt(n.paddingRight,10)||0,d.paddingTop=parseInt(n.paddingTop,10)||0,d.paddingBottom=parseInt(n.paddingBottom,10)||0),d}function bke(e,t=!1,n){let i=L8(e),r=Ske(e,t),a={left:i.left+r.borderLeft+r.scrollbarLeft,right:i.right-r.borderRight-r.scrollbarRight,top:i.top+r.borderTop,bottom:i.bottom-r.borderBottom-r.scrollbarBottom};return t&&(a.left+=r.paddingLeft,a.right-=r.paddingRight,a.top+=r.paddingTop,a.bottom-=r.paddingBottom),a}function L8(e){let t=e.getBoundingClientRect();return{left:t.left+window.scrollX,top:t.top+window.scrollY,right:t.right+window.scrollX,bottom:t.bottom+window.scrollY}}function xke(e){let t=ece(e),n=e.getBoundingClientRect();for(let i of t){let r=Xle(n,i.getBoundingClientRect());if(r)n=r;else return null}return n}function ece(e){let t=[];for(;e instanceof HTMLElement;){let n=window.getComputedStyle(e);if(n.position==="fixed")break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&t.push(e),e=e.parentNode}return t}class N1{constructor(t,n,i,r){this.els=n;let a=this.originClientRect=t.getBoundingClientRect();i&&this.buildElHorizontals(a.left),r&&this.buildElVerticals(a.top)}buildElHorizontals(t){let n=[],i=[];for(let r of this.els){let a=r.getBoundingClientRect();n.push(a.left-t),i.push(a.right-t)}this.lefts=n,this.rights=i}buildElVerticals(t){let n=[],i=[];for(let r of this.els){let a=r.getBoundingClientRect();n.push(a.top-t),i.push(a.bottom-t)}this.tops=n,this.bottoms=i}leftToIndex(t){let{lefts:n,rights:i}=this,r=n.length,a;for(a=0;a<r;a+=1)if(t>=n[a]&&t<i[a])return a}topToIndex(t){let{tops:n,bottoms:i}=this,r=n.length,a;for(a=0;a<r;a+=1)if(t>=n[a]&&t<i[a])return a}getWidth(t){return this.rights[t]-this.lefts[t]}getHeight(t){return this.bottoms[t]-this.tops[t]}similarTo(t){return UE(this.tops||[],t.tops||[])&&UE(this.bottoms||[],t.bottoms||[])&&UE(this.lefts||[],t.lefts||[])&&UE(this.rights||[],t.rights||[])}}function UE(e,t){const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(Math.round(e[i])!==Math.round(t[i]))return!1;return!0}class T8{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class wke extends T8{constructor(t){super(),this.el=t}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(t){this.el.scrollTop=t}setScrollLeft(t){this.el.scrollLeft=t}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class Eke extends T8{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(t){window.scroll(window.scrollX,t)}setScrollLeft(t){window.scroll(t,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class Wu extends Ti{constructor(){super(...arguments),this.uid=Xg()}prepareHits(){}queryHit(t,n,i,r){return null}isValidSegDownEl(t){return!this.props.eventDrag&&!this.props.eventResize&&!Zs(t,".fc-event-mirror")}isValidDateDownEl(t){return!Zs(t,".fc-event:not(.fc-bg-event)")&&!Zs(t,".fc-more-link")&&!Zs(t,"a[data-navlink]")&&!Zs(t,".fc-popover")}}class tce{constructor(t=n=>n.thickness||1){this.getEntryThickness=t,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(t){let n=[];for(let i of t)this.insertEntry(i,n);return n}insertEntry(t,n){let i=this.findInsertion(t);this.isInsertionValid(i,t)?this.insertEntryAt(t,i):this.handleInvalidInsertion(i,t,n)}isInsertionValid(t,n){return(this.maxCoord===-1||t.levelCoord+this.getEntryThickness(n)<=this.maxCoord)&&(this.maxStackCnt===-1||t.stackCnt<this.maxStackCnt)}handleInvalidInsertion(t,n,i){if(this.allowReslicing&&t.touchingEntry){const r=Object.assign(Object.assign({},n),{span:M8(n.span,t.touchingEntry.span)});i.push(r),this.splitEntry(n,t.touchingEntry,i)}else i.push(n)}splitEntry(t,n,i){let r=t.span,a=n.span;r.start<a.start&&this.insertEntry({index:t.index,thickness:t.thickness,span:{start:r.start,end:a.start}},i),r.end>a.end&&this.insertEntry({index:t.index,thickness:t.thickness,span:{start:a.end,end:r.end}},i)}insertEntryAt(t,n){let{entriesByLevel:i,levelCoords:r}=this;n.lateral===-1?(bC(r,n.level,n.levelCoord),bC(i,n.level,[t])):bC(i[n.level],n.lateral,t),this.stackCnts[cg(t)]=n.stackCnt}findInsertion(t){let{levelCoords:n,entriesByLevel:i,strictOrder:r,stackCnts:a}=this,o=n.length,l=0,c=-1,u=-1,d=null,h=0;for(let v=0;v<o;v+=1){const S=n[v];if(!r&&S>=l+this.getEntryThickness(t))break;let b=i[v],w,R=I6(b,t.span.start,M6),E=R[0]+R[1];for(;(w=b[E])&&w.span.start<t.span.end;){let _=S+this.getEntryThickness(w);_>l&&(l=_,d=w,c=v,u=E),_===l&&(h=Math.max(h,a[cg(w)]+1)),E+=1}}let m=0;if(d)for(m=c+1;m<o&&n[m]<l;)m+=1;let p=-1;return m<o&&n[m]===l&&(p=I6(i[m],t.span.end,M6)[0]),{touchingLevel:c,touchingLateral:u,touchingEntry:d,stackCnt:h,levelCoord:l,level:m,lateral:p}}toRects(){let{entriesByLevel:t,levelCoords:n}=this,i=t.length,r=[];for(let a=0;a<i;a+=1){let o=t[a],l=n[a];for(let c of o)r.push(Object.assign(Object.assign({},c),{thickness:this.getEntryThickness(c),levelCoord:l}))}return r}}function M6(e){return e.span.end}function cg(e){return e.index+":"+e.span.start}function _ke(e){let t=[];for(let n of e){let i=[],r={span:n.span,entries:[n]};for(let a of t)M8(a.span,r.span)?r={entries:a.entries.concat(r.entries),span:Ake(a.span,r.span)}:i.push(a);i.push(r),t=i}return t}function Ake(e,t){return{start:Math.min(e.start,t.start),end:Math.max(e.end,t.end)}}function M8(e,t){let n=Math.max(e.start,t.start),i=Math.min(e.end,t.end);return n<i?{start:n,end:i}:null}function bC(e,t,n){e.splice(t,0,n)}function I6(e,t,n){let i=0,r=e.length;if(!r||t<n(e[i]))return[0,0];if(t>n(e[r-1]))return[r,0];for(;i<r;){let a=Math.floor(i+(r-i)/2),o=n(e[a]);if(t<o)r=a;else if(t>o)i=a+1;else return[a,1]}return[i,0]}class Rke{constructor(t,n){this.emitter=new MO}destroy(){}setMirrorIsVisible(t){}setMirrorNeedsRevert(t){}setAutoScrollEnabled(t){}}const I8={};function Nke(e,t){return!e||t>10?jr({weekday:"short"}):t>1?jr({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):jr({weekday:"long"})}const nce="fc-col-header-cell";function ice(e){return e.text}class Oke extends Ti{render(){let{dateEnv:t,options:n,theme:i,viewApi:r}=this.context,{props:a}=this,{date:o,dateProfile:l}=a,c=C8(o,a.todayRange,null,l),u=[nce].concat(IO(c,i)),d=t.format(o,a.dayHeaderFormat),h=!c.isDisabled&&a.colCnt>1?R1(this.context,o):{},m=t.toDate(o);t.namedTimeZoneImpl&&(m=fm(m,36e5));let p=Object.assign(Object.assign(Object.assign({date:m,view:r},a.extraRenderProps),{text:d}),c);return Ce(io,{elTag:"th",elClasses:u,elAttrs:Object.assign({role:"columnheader",colSpan:a.colSpan,"data-date":c.isDisabled?void 0:q2(o)},a.extraDataAttrs),renderProps:p,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:ice,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},v=>Ce("div",{className:"fc-scrollgrid-sync-inner"},!c.isDisabled&&Ce(v,{elTag:"a",elAttrs:h,elClasses:["fc-col-header-cell-cushion",a.isSticky&&"fc-sticky"]})))}}const jke=jr({weekday:"long"});class Dke extends Ti{render(){let{props:t}=this,{dateEnv:n,theme:i,viewApi:r,options:a}=this.context,o=Ma(new Date(2592e5),t.dow),l={dow:t.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},c=n.format(o,t.dayHeaderFormat),u=Object.assign(Object.assign(Object.assign(Object.assign({date:o},l),{view:r}),t.extraRenderProps),{text:c});return Ce(io,{elTag:"th",elClasses:[nce,...IO(l,i),...t.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:t.colSpan},t.extraDataAttrs),renderProps:u,generatorName:"dayHeaderContent",customGenerator:a.dayHeaderContent,defaultGenerator:ice,classNameGenerator:a.dayHeaderClassNames,didMount:a.dayHeaderDidMount,willUnmount:a.dayHeaderWillUnmount},d=>Ce("div",{className:"fc-scrollgrid-sync-inner"},Ce(d,{elTag:"a",elClasses:["fc-col-header-cell-cushion",t.isSticky&&"fc-sticky"],elAttrs:{"aria-label":n.format(o,jke)}})))}}class rce extends Ti{constructor(){super(...arguments),this.createDayHeaderFormatter=An(Cke)}render(){let{context:t}=this,{dates:n,dateProfile:i,datesRepDistinctDays:r,renderIntro:a}=this.props,o=this.createDayHeaderFormatter(t.options.dayHeaderFormat,r,n.length);return Ce(ev,{unit:"day"},(l,c)=>Ce("tr",{role:"row"},a&&a("day"),n.map(u=>r?Ce(Oke,{key:u.toISOString(),date:u,dateProfile:i,todayRange:c,colCnt:n.length,dayHeaderFormat:o}):Ce(Dke,{key:u.getUTCDay(),dow:u.getUTCDay(),dayHeaderFormat:o}))))}}function Cke(e,t,n){return e||Nke(t,n)}class ace{constructor(t,n){let i=t.start,{end:r}=t,a=[],o=[],l=-1;for(;i<r;)n.isHiddenDay(i)?a.push(l+.5):(l+=1,a.push(l),o.push(i)),i=Ma(i,1);this.dates=o,this.indices=a,this.cnt=o.length}sliceRange(t){let n=this.getDateDayIndex(t.start),i=this.getDateDayIndex(Ma(t.end,-1)),r=Math.max(0,n),a=Math.min(this.cnt-1,i);return r=Math.ceil(r),a=Math.floor(a),r<=a?{firstIndex:r,lastIndex:a,isStart:n===r,isEnd:i===a}:null}getDateDayIndex(t){let{indices:n}=this,i=Math.floor(jm(this.dates[0],t));return i<0?n[0]-1:i>=n.length?n[n.length-1]+1:n[i]}}class sce{constructor(t,n){let{dates:i}=t,r,a,o;if(n){for(a=i[0].getUTCDay(),r=1;r<i.length&&i[r].getUTCDay()!==a;r+=1);o=Math.ceil(i.length/r)}else o=1,r=i.length;this.rowCnt=o,this.colCnt=r,this.daySeries=t,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let t=[];for(let n=0;n<this.rowCnt;n+=1){let i=[];for(let r=0;r<this.colCnt;r+=1)i.push(this.buildCell(n,r));t.push(i)}return t}buildCell(t,n){let i=this.daySeries.dates[t*this.colCnt+n];return{key:i.toISOString(),date:i}}buildHeaderDates(){let t=[];for(let n=0;n<this.colCnt;n+=1)t.push(this.cells[0][n].date);return t}sliceRange(t){let{colCnt:n}=this,i=this.daySeries.sliceRange(t),r=[];if(i){let{firstIndex:a,lastIndex:o}=i,l=a;for(;l<=o;){let c=Math.floor(l/n),u=Math.min((c+1)*n,o+1);r.push({row:c,firstCol:l%n,lastCol:(u-1)%n,isStart:i.isStart&&l===a,isEnd:i.isEnd&&u-1===o}),l=u}}return r}}class oce{constructor(){this.sliceBusinessHours=An(this._sliceBusinessHours),this.sliceDateSelection=An(this._sliceDateSpan),this.sliceEventStore=An(this._sliceEventStore),this.sliceEventDrag=An(this._sliceInteraction),this.sliceEventResize=An(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(t,n,i,r,...a){let{eventUiBases:o}=t,l=this.sliceEventStore(t.eventStore,o,n,i,...a);return{dateSelectionSegs:this.sliceDateSelection(t.dateSelection,n,i,o,r,...a),businessHourSegs:this.sliceBusinessHours(t.businessHours,n,i,r,...a),fgEventSegs:l.fg,bgEventSegs:l.bg,eventDrag:this.sliceEventDrag(t.eventDrag,o,n,i,...a),eventResize:this.sliceEventResize(t.eventResize,o,n,i,...a),eventSelection:t.eventSelection}}sliceNowDate(t,n,i,r,...a){return this._sliceDateSpan({range:{start:t,end:fm(t,1)},allDay:!1},n,i,{},r,...a)}_sliceBusinessHours(t,n,i,r,...a){return t?this._sliceEventStore(Cg(t,VE(n,!!i),r),{},n,i,...a).bg:[]}_sliceEventStore(t,n,i,r,...a){if(t){let o=L6(t,n,VE(i,!!r),r);return{bg:this.sliceEventRanges(o.bg,a),fg:this.sliceEventRanges(o.fg,a)}}return{bg:[],fg:[]}}_sliceInteraction(t,n,i,r,...a){if(!t)return null;let o=L6(t.mutatedEvents,n,VE(i,!!r),r);return{segs:this.sliceEventRanges(o.fg,a),affectedInstances:t.affectedEvents.instances,isEvent:t.isEvent}}_sliceDateSpan(t,n,i,r,a,...o){if(!t)return[];let l=VE(n,!!i),c=hm(t.range,l);if(c){t=Object.assign(Object.assign({},t),{range:c});let u=Z8e(t,r,a),d=this.sliceRange(t.range,...o);for(let h of d)h.eventRange=u;return d}return[]}sliceEventRanges(t,n){let i=[];for(let r of t)i.push(...this.sliceEventRange(r,n));return i}sliceEventRange(t,n){let i=t.range;this.forceDayIfListItem&&t.ui.display==="list-item"&&(i={start:i.start,end:Ma(i.start,1)});let r=this.sliceRange(i,...n);for(let a of r)a.eventRange=t,a.isStart=t.isStart&&a.isStart,a.isEnd=t.isEnd&&a.isEnd;return r}}function VE(e,t){let n=e.activeRange;return t?n:{start:fm(n.start,e.slotMinTime.milliseconds),end:fm(n.end,e.slotMaxTime.milliseconds-864e5)}}function lce(e,t,n){let{instances:i}=e.mutatedEvents;for(let r in i)if(!LO(t.validRange,i[r].range))return!1;return cce({eventDrag:e},n)}function Lke(e,t,n){return LO(t.validRange,e.range)?cce({dateSelection:e},n):!1}function cce(e,t){let n=t.getCurrentData(),i=Object.assign({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},e);return(t.pluginHooks.isPropsValid||Tke)(i,t)}function Tke(e,t,n={},i){return!(e.eventDrag&&!Mke(e,t,n,i)||e.dateSelection&&!Ike(e,t,n,i))}function Mke(e,t,n,i){let r=t.getCurrentData(),a=e.eventDrag,o=a.mutatedEvents,l=o.defs,c=o.instances,u=vR(l,a.isEvent?e.eventUiBases:{"":r.selectionConfig});i&&(u=mh(u,i));let d=C8e(e.eventStore,a.affectedEvents.instances),h=d.defs,m=d.instances,p=vR(h,e.eventUiBases);for(let v in c){let S=c[v],b=S.range,w=u[S.defId],R=l[S.defId];if(!uce(w.constraints,b,d,e.businessHours,t))return!1;let{eventOverlap:E}=t.options,_=typeof E=="function"?E:null;for(let O in m){let j=m[O];if(b8(b,j.range)&&(p[j.defId].overlap===!1&&a.isEvent||w.overlap===!1||_&&!_(new Fr(t,h[j.defId],j),new Fr(t,R,S))))return!1}let N=r.eventStore;for(let O of w.allows){let j=Object.assign(Object.assign({},n),{range:S.range,allDay:R.allDay}),D=N.defs[R.defId],P=N.instances[v],B;if(D?B=new Fr(t,D,P):B=new Fr(t,R),!O(R8(j,t),B))return!1}}return!0}function Ike(e,t,n,i){let r=e.eventStore,a=r.defs,o=r.instances,l=e.dateSelection,c=l.range,{selectionConfig:u}=t.getCurrentData();if(i&&(u=i(u)),!uce(u.constraints,c,r,e.businessHours,t))return!1;let{selectOverlap:d}=t.options,h=typeof d=="function"?d:null;for(let m in o){let p=o[m];if(b8(c,p.range)&&(u.overlap===!1||h&&!h(new Fr(t,a[p.defId],p),null)))return!1}for(let m of u.allows){let p=Object.assign(Object.assign({},n),l);if(!m(R8(p,t),null))return!1}return!0}function uce(e,t,n,i,r){for(let a of e)if(!kke(Pke(a,t,n,i,r),t))return!1;return!0}function Pke(e,t,n,i,r){return e==="businessHours"?xC(Cg(i,t,r)):typeof e=="string"?xC(TO(n,a=>a.groupId===e)):typeof e=="object"&&e?xC(Cg(e,t,r)):[]}function xC(e){let{instances:t}=e,n=[];for(let i in t)n.push(t[i].range);return n}function kke(e,t){for(let n of e)if(LO(n,t))return!0;return!1}const KE=/^(visible|hidden)$/;class dce extends Ti{constructor(){super(...arguments),this.handleEl=t=>{this.el=t,Kd(this.props.elRef,t)}}render(){let{props:t}=this,{liquid:n,liquidIsAbsolute:i}=t,r=n&&i,a=["fc-scroller"];return n&&(i?a.push("fc-scroller-liquid-absolute"):a.push("fc-scroller-liquid")),Ce("div",{ref:this.handleEl,className:a.join(" "),style:{overflowX:t.overflowX,overflowY:t.overflowY,left:r&&-(t.overcomeLeft||0)||"",right:r&&-(t.overcomeRight||0)||"",bottom:r&&-(t.overcomeBottom||0)||"",marginLeft:!r&&-(t.overcomeLeft||0)||"",marginRight:!r&&-(t.overcomeRight||0)||"",marginBottom:!r&&-(t.overcomeBottom||0)||"",maxHeight:t.maxHeight||""}},t.children)}needsXScrolling(){if(KE.test(this.props.overflowX))return!1;let{el:t}=this,n=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:i}=t;for(let r=0;r<i.length;r+=1)if(i[r].getBoundingClientRect().width>n)return!0;return!1}needsYScrolling(){if(KE.test(this.props.overflowY))return!1;let{el:t}=this,n=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:i}=t;for(let r=0;r<i.length;r+=1)if(i[r].getBoundingClientRect().height>n)return!0;return!1}getXScrollbarWidth(){return KE.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return KE.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class eh{constructor(t){this.masterCallback=t,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(n,i)=>{let{depths:r,currentMap:a}=this,o=!1,l=!1;n!==null?(o=i in a,a[i]=n,r[i]=(r[i]||0)+1,l=!0):(r[i]-=1,r[i]||(delete a[i],delete this.callbackMap[i],o=!0)),this.masterCallback&&(o&&this.masterCallback(null,String(i)),l&&this.masterCallback(n,String(i)))}}createRef(t){let n=this.callbackMap[t];return n||(n=this.callbackMap[t]=i=>{this.handleValue(i,String(t))}),n}collect(t,n,i){return YPe(this.currentMap,t,n,i)}getAll(){return v8(this.currentMap)}}function $ke(e){let t=qIe(e,".fc-scrollgrid-shrink"),n=0;for(let i of t)n=Math.max(n,oPe(i));return Math.ceil(n)}function fce(e,t){return e.liquid&&t.liquid}function Fke(e,t){return t.maxHeight!=null||fce(e,t)}function Bke(e,t,n,i){let{expandRows:r}=n;return typeof t.content=="function"?t.content(n):Ce("table",{role:"presentation",className:[t.tableClassName,e.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:r?n.clientHeight:""}},n.tableColGroupNode,Ce(i?"thead":"tbody",{role:"presentation"},typeof t.rowContent=="function"?t.rowContent(n):t.rowContent))}function zke(e,t){return dm(e,t,Bu)}function Uke(e,t){let n=[];for(let i of e){let r=i.span||1;for(let a=0;a<r;a+=1)n.push(Ce("col",{style:{width:i.width==="shrink"?Vke(t):i.width||"",minWidth:i.minWidth||""}}))}return Ce("colgroup",{},...n)}function Vke(e){return e??4}function Kke(e){for(let t of e)if(t.width==="shrink")return!0;return!1}function Gke(e,t){let n=["fc-scrollgrid",t.theme.getClass("table")];return e&&n.push("fc-scrollgrid-liquid"),n}function Hke(e,t){let n=["fc-scrollgrid-section",`fc-scrollgrid-section-${e.type}`,e.className];return t&&e.liquid&&e.maxHeight==null&&n.push("fc-scrollgrid-section-liquid"),e.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function P6(e){return Ce("div",{className:"fc-scrollgrid-sticky-shim",style:{width:e.clientWidth,minWidth:e.tableMinWidth}})}function SR(e){let{stickyHeaderDates:t}=e;return(t==null||t==="auto")&&(t=e.height==="auto"||e.viewHeight==="auto"),t}function hce(e){let{stickyFooterScrollbar:t}=e;return(t==null||t==="auto")&&(t=e.height==="auto"||e.viewHeight==="auto"),t}class P8 extends Ti{constructor(){super(...arguments),this.processCols=An(t=>t,zke),this.renderMicroColGroup=An(Uke),this.scrollerRefs=new eh,this.scrollerElRefs=new eh(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:t,state:n,context:i}=this,r=t.sections||[],a=this.processCols(t.cols),o=this.renderMicroColGroup(a,n.shrinkWidth),l=Gke(t.liquid,i);t.collapsibleWidth&&l.push("fc-scrollgrid-collapsible");let c=r.length,u=0,d,h=[],m=[],p=[];for(;u<c&&(d=r[u]).type==="header";)h.push(this.renderSection(d,o,!0)),u+=1;for(;u<c&&(d=r[u]).type==="body";)m.push(this.renderSection(d,o,!1)),u+=1;for(;u<c&&(d=r[u]).type==="footer";)p.push(this.renderSection(d,o,!0)),u+=1;let v=!Qle();const S={role:"rowgroup"};return Ce("table",{role:"grid",className:l.join(" "),style:{height:t.height}},!!(!v&&h.length)&&Ce("thead",S,...h),!!(!v&&m.length)&&Ce("tbody",S,...m),!!(!v&&p.length)&&Ce("tfoot",S,...p),v&&Ce("tbody",S,...h,...m,...p))}renderSection(t,n,i){return"outerContent"in t?Ce(sr,{key:t.key},t.outerContent):Ce("tr",{key:t.key,role:"presentation",className:Hke(t,this.props.liquid).join(" ")},this.renderChunkTd(t,n,t.chunk,i))}renderChunkTd(t,n,i,r){if("outerContent"in i)return i.outerContent;let{props:a}=this,{forceYScrollbars:o,scrollerClientWidths:l,scrollerClientHeights:c}=this.state,u=Fke(a,t),d=fce(a,t),h=a.liquid?o?"scroll":u?"auto":"hidden":"visible",m=t.key,p=Bke(t,i,{tableColGroupNode:n,tableMinWidth:"",clientWidth:!a.collapsibleWidth&&l[m]!==void 0?l[m]:null,clientHeight:c[m]!==void 0?c[m]:null,expandRows:t.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},r);return Ce(r?"th":"td",{ref:i.elRef,role:"presentation"},Ce("div",{className:`fc-scroller-harness${d?" fc-scroller-harness-liquid":""}`},Ce(dce,{ref:this.scrollerRefs.createRef(m),elRef:this.scrollerElRefs.createRef(m),overflowY:h,overflowX:a.liquid?"hidden":"visible",maxHeight:t.maxHeight,liquid:d,liquidIsAbsolute:!0},p)))}_handleScrollerEl(t,n){let i=qke(this.props.sections,n);i&&Kd(i.chunk.scrollerElRef,t)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return Kke(this.props.cols)?$ke(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let t=gke(),{scrollerRefs:n,scrollerElRefs:i}=this,r=!1,a={},o={};for(let l in n.currentMap){let c=n.currentMap[l];if(c&&c.needsYScrolling()){r=!0;break}}for(let l of this.props.sections){let c=l.key,u=i.currentMap[c];if(u){let d=u.parentNode;a[c]=Math.floor(d.getBoundingClientRect().width-(r?t.y:0)),o[c]=Math.floor(d.getBoundingClientRect().height)}}return{forceYScrollbars:r,scrollerClientWidths:a,scrollerClientHeights:o}}}P8.addStateEquality({scrollerClientWidths:Bu,scrollerClientHeights:Bu});function qke(e,t){for(let n of e)if(n.key===t)return n;return null}class PO extends Ti{constructor(){super(...arguments),this.buildPublicEvent=An((t,n,i)=>new Fr(t,n,i)),this.handleEl=t=>{this.el=t,Kd(this.props.elRef,t),t&&gG(t,this.props.seg)}}render(){const{props:t,context:n}=this,{options:i}=n,{seg:r}=t,{eventRange:a}=r,{ui:o}=a,l={event:this.buildPublicEvent(n,a.def,a.instance),view:n.viewApi,timeText:t.timeText,textColor:o.textColor,backgroundColor:o.backgroundColor,borderColor:o.borderColor,isDraggable:!t.disableDragging&&V8e(r,n),isStartResizable:!t.disableResizing&&K8e(r,n),isEndResizable:!t.disableResizing&&G8e(r),isMirror:!!(t.isDragging||t.isResizing||t.isDateSelecting),isStart:!!r.isStart,isEnd:!!r.isEnd,isPast:!!t.isPast,isFuture:!!t.isFuture,isToday:!!t.isToday,isSelected:!!t.isSelected,isDragging:!!t.isDragging,isResizing:!!t.isResizing};return Ce(io,{elRef:this.handleEl,elTag:t.elTag,elAttrs:t.elAttrs,elClasses:[...H8e(l),...r.eventRange.ui.classNames,...t.elClasses||[]],elStyle:t.elStyle,renderProps:l,generatorName:"eventContent",customGenerator:i.eventContent,defaultGenerator:t.defaultGenerator,classNameGenerator:i.eventClassNames,didMount:i.eventDidMount,willUnmount:i.eventWillUnmount},t.children)}componentDidUpdate(t){this.el&&this.props.seg!==t.seg&&gG(this.el,this.props.seg)}}class k8 extends Ti{render(){let{props:t,context:n}=this,{options:i}=n,{seg:r}=t,{ui:a}=r.eventRange,o=i.eventTimeFormat||t.defaultTimeFormat,l=ix(r,o,n,t.defaultDisplayEventTime,t.defaultDisplayEventEnd);return Ce(PO,Object.assign({},t,{elTag:"a",elStyle:{borderColor:a.borderColor,backgroundColor:a.backgroundColor},elAttrs:j8(r,n),defaultGenerator:Wke,timeText:l}),(c,u)=>Ce(sr,null,Ce(c,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:u.textColor}}),!!u.isStartResizable&&Ce("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!u.isEndResizable&&Ce("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}k8.addPropsEquality({seg:Bu});function Wke(e){return Ce("div",{className:"fc-event-main-frame"},e.timeText&&Ce("div",{className:"fc-event-time"},e.timeText),Ce("div",{className:"fc-event-title-container"},Ce("div",{className:"fc-event-title fc-sticky"},e.event.title||Ce(sr,null,""))))}const $8=e=>Ce(Ah.Consumer,null,t=>{let{options:n}=t,i={isAxis:e.isAxis,date:t.dateEnv.toDate(e.date),view:t.viewApi};return Ce(io,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:e.elClasses,elStyle:e.elStyle,renderProps:i,generatorName:"nowIndicatorContent",customGenerator:n.nowIndicatorContent,classNameGenerator:n.nowIndicatorClassNames,didMount:n.nowIndicatorDidMount,willUnmount:n.nowIndicatorWillUnmount},e.children)}),Yke=jr({day:"numeric"});class F8 extends Ti{constructor(){super(...arguments),this.refineRenderProps=iA(Jke)}render(){let{props:t,context:n}=this,{options:i}=n,r=this.refineRenderProps({date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,isMonthStart:t.isMonthStart||!1,showDayNumber:t.showDayNumber,extraRenderProps:t.extraRenderProps,viewApi:n.viewApi,dateEnv:n.dateEnv,monthStartFormat:i.monthStartFormat});return Ce(io,{elRef:t.elRef,elTag:t.elTag,elAttrs:Object.assign(Object.assign({},t.elAttrs),r.isDisabled?{}:{"data-date":q2(t.date)}),elClasses:[...IO(r,n.theme),...t.elClasses||[]],elStyle:t.elStyle,renderProps:r,generatorName:"dayCellContent",customGenerator:i.dayCellContent,defaultGenerator:t.defaultGenerator,classNameGenerator:r.isDisabled?void 0:i.dayCellClassNames,didMount:i.dayCellDidMount,willUnmount:i.dayCellWillUnmount},t.children)}}function B8(e){return!!(e.dayCellContent||j6("dayCellContent",e))}function Jke(e){let{date:t,dateEnv:n,dateProfile:i,isMonthStart:r}=e,a=C8(t,e.todayRange,null,i),o=e.showDayNumber?n.format(t,r?e.monthStartFormat:Yke):"";return Object.assign(Object.assign(Object.assign({date:n.toDate(t),view:e.viewApi},a),{isMonthStart:r,dayNumberText:o}),e.extraRenderProps)}class pce extends Ti{render(){let{props:t}=this,{seg:n}=t;return Ce(PO,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:n.eventRange.ui.backgroundColor},defaultGenerator:Qke,seg:n,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:t.isPast,isFuture:t.isFuture,isToday:t.isToday,disableDragging:!0,disableResizing:!0})}}function Qke(e){let{title:t}=e.event;return t&&Ce("div",{className:"fc-event-title"},e.event.title)}function mce(e){return Ce("div",{className:`fc-${e}`})}const yce=e=>Ce(Ah.Consumer,null,t=>{let{dateEnv:n,options:i}=t,{date:r}=e,a=i.weekNumberFormat||e.defaultFormat,o=n.computeWeekNumber(r),l=n.format(r,a),c={num:o,text:l,date:r};return Ce(io,{elRef:e.elRef,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:e.elClasses,elStyle:e.elStyle,renderProps:c,generatorName:"weekNumberContent",customGenerator:i.weekNumberContent,defaultGenerator:Xke,classNameGenerator:i.weekNumberClassNames,didMount:i.weekNumberDidMount,willUnmount:i.weekNumberWillUnmount},e.children)});function Xke(e){return e.text}const wC=10;class Zke extends Ti{constructor(){super(...arguments),this.state={titleId:am()},this.handleRootEl=t=>{this.rootEl=t,this.props.elRef&&Kd(this.props.elRef,t)},this.handleDocumentMouseDown=t=>{const n=Ele(t);this.rootEl.contains(n)||this.handleCloseClick()},this.handleDocumentKeyDown=t=>{t.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:t}=this.props;t&&t()}}render(){let{theme:t,options:n}=this.context,{props:i,state:r}=this,a=["fc-popover",t.getClass("popover")].concat(i.extraClassNames||[]);return TIe(Ce("div",Object.assign({},i.extraAttrs,{id:i.id,className:a.join(" "),"aria-labelledby":r.titleId,ref:this.handleRootEl}),Ce("div",{className:"fc-popover-header "+t.getClass("popoverHeader")},Ce("span",{className:"fc-popover-title",id:r.titleId},i.title),Ce("span",{className:"fc-popover-close "+t.getIconClass("close"),title:n.closeHint,onClick:this.handleCloseClick})),Ce("div",{className:"fc-popover-body "+t.getClass("popoverContent")},i.children)),i.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:t}=this.context,{alignmentEl:n,alignGridTop:i}=this.props,{rootEl:r}=this,a=xke(n);if(a){let o=r.getBoundingClientRect(),l=i?Zs(n,".fc-scrollgrid").getBoundingClientRect().top:a.top,c=t?a.right-o.width:a.left;l=Math.max(l,wC),c=Math.min(c,document.documentElement.clientWidth-wC-o.width),c=Math.max(c,wC);let u=r.offsetParent.getBoundingClientRect();ex(r,{top:l-u.top,left:c-u.left})}}}class e7e extends Wu{constructor(){super(...arguments),this.handleRootEl=t=>{this.rootEl=t,t?this.context.registerInteractiveComponent(this,{el:t,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:t,dateEnv:n}=this.context,{props:i}=this,{startDate:r,todayRange:a,dateProfile:o}=i,l=n.format(r,t.dayPopoverFormat);return Ce(F8,{elRef:this.handleRootEl,date:r,dateProfile:o,todayRange:a},(c,u,d)=>Ce(Zke,{elRef:d.ref,id:i.id,title:l,extraClassNames:["fc-more-popover"].concat(d.className||[]),extraAttrs:d,parentEl:i.parentEl,alignmentEl:i.alignmentEl,alignGridTop:i.alignGridTop,onClose:i.onClose},B8(t)&&Ce(c,{elTag:"div",elClasses:["fc-more-popover-misc"]}),i.children))}queryHit(t,n,i,r){let{rootEl:a,props:o}=this;return t>=0&&t<i&&n>=0&&n<r?{dateProfile:o.dateProfile,dateSpan:Object.assign({allDay:!o.forceTimed,range:{start:o.startDate,end:o.endDate}},o.extraDateSpan),dayEl:a,rect:{left:0,top:0,right:i,bottom:r},layer:1}:null}}class gce extends Ti{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:am()},this.handleLinkEl=t=>{this.linkEl=t,this.props.elRef&&Kd(this.props.elRef,t)},this.handleClick=t=>{let{props:n,context:i}=this,{moreLinkClick:r}=i.options,a=SG(n).start;function o(l){let{def:c,instance:u,range:d}=l.eventRange;return{event:new Fr(i,c,u),start:i.dateEnv.toDate(d.start),end:i.dateEnv.toDate(d.end),isStart:l.isStart,isEnd:l.isEnd}}typeof r=="function"&&(r=r({date:a,allDay:!!n.allDayDate,allSegs:n.allSegs.map(o),hiddenSegs:n.hiddenSegs.map(o),jsEvent:t,view:i.viewApi})),!r||r==="popover"?this.setState({isPopoverOpen:!0}):typeof r=="string"&&i.calendarApi.zoomTo(a,r)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:t,state:n}=this;return Ce(Ah.Consumer,null,i=>{let{viewApi:r,options:a,calendarApi:o}=i,{moreLinkText:l}=a,{moreCnt:c}=t,u=SG(t),d=typeof l=="function"?l.call(o,c):`+${c} ${l}`,h=tx(a.moreLinkHint,[c],d),m={num:c,shortText:`+${c}`,text:d,view:r};return Ce(sr,null,!!t.moreCnt&&Ce(io,{elTag:t.elTag||"a",elRef:this.handleLinkEl,elClasses:[...t.elClasses||[],"fc-more-link"],elStyle:t.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},t.elAttrs),Ale(this.handleClick)),{title:h,"aria-expanded":n.isPopoverOpen,"aria-controls":n.isPopoverOpen?n.popoverId:""}),renderProps:m,generatorName:"moreLinkContent",customGenerator:a.moreLinkContent,defaultGenerator:t.defaultGenerator||t7e,classNameGenerator:a.moreLinkClassNames,didMount:a.moreLinkDidMount,willUnmount:a.moreLinkWillUnmount},t.children),n.isPopoverOpen&&Ce(e7e,{id:n.popoverId,startDate:u.start,endDate:u.end,dateProfile:t.dateProfile,todayRange:t.todayRange,extraDateSpan:t.extraDateSpan,parentEl:this.parentEl,alignmentEl:t.alignmentElRef?t.alignmentElRef.current:this.linkEl,alignGridTop:t.alignGridTop,forceTimed:t.forceTimed,onClose:this.handlePopoverClose},t.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=Zs(this.linkEl,".fc-view-harness"))}}function t7e(e){return e.text}function SG(e){if(e.allDayDate)return{start:e.allDayDate,end:Ma(e.allDayDate,1)};let{hiddenSegs:t}=e;return{start:vce(t),end:i7e(t)}}function vce(e){return e.reduce(n7e).eventRange.range.start}function n7e(e,t){return e.eventRange.range.start<t.eventRange.range.start?e:t}function i7e(e){return e.reduce(r7e).eventRange.range.end}function r7e(e,t){return e.eventRange.range.end>t.eventRange.range.end?e:t}let a7e=class{constructor(){this.handlers=[]}set(t){this.currentValue=t;for(let n of this.handlers)n(t)}subscribe(t){this.handlers.push(t),this.currentValue!==void 0&&t(this.currentValue)}};class s7e extends a7e{constructor(){super(...arguments),this.map=new Map}handle(t){const{map:n}=this;let i=!1;t.isActive?(n.set(t.id,t),i=!0):n.has(t.id)&&(n.delete(t.id),i=!0),i&&this.set(n)}}const o7e=[],Sce={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},bce=Object.assign(Object.assign({},Sce),{buttonHints:{prev:"Previous $0",next:"Next $0",today(e,t){return t==="day"?"Today":`This ${e}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(e){return`Show ${e} more event${e===1?"":"s"}`}});function l7e(e){let t=e.length>0?e[0].code:"en",n=o7e.concat(e),i={en:bce};for(let r of n)i[r.code]=r;return{map:i,defaultCode:t}}function xce(e,t){return typeof e=="object"&&!Array.isArray(e)?wce(e.code,[e.code],e):c7e(e,t)}function c7e(e,t){let n=[].concat(e||[]),i=u7e(n,t)||bce;return wce(e,n,i)}function u7e(e,t){for(let n=0;n<e.length;n+=1){let i=e[n].toLocaleLowerCase().split("-");for(let r=i.length;r>0;r-=1){let a=i.slice(0,r).join("-");if(t[a])return t[a]}}return null}function wce(e,t,n){let i=g8([Sce,n],["buttonText"]);delete i.code;let{week:r}=i;return delete i.week,{codeArg:e,codes:t,week:r,simpleNumberFormat:new Intl.NumberFormat(e),options:i}}function Zd(e){return{id:Xg(),name:e.name,premiumReleaseDate:e.premiumReleaseDate?new Date(e.premiumReleaseDate):void 0,deps:e.deps||[],reducers:e.reducers||[],isLoadingFuncs:e.isLoadingFuncs||[],contextInit:[].concat(e.contextInit||[]),eventRefiners:e.eventRefiners||{},eventDefMemberAdders:e.eventDefMemberAdders||[],eventSourceRefiners:e.eventSourceRefiners||{},isDraggableTransformers:e.isDraggableTransformers||[],eventDragMutationMassagers:e.eventDragMutationMassagers||[],eventDefMutationAppliers:e.eventDefMutationAppliers||[],dateSelectionTransformers:e.dateSelectionTransformers||[],datePointTransforms:e.datePointTransforms||[],dateSpanTransforms:e.dateSpanTransforms||[],views:e.views||{},viewPropsTransformers:e.viewPropsTransformers||[],isPropsValid:e.isPropsValid||null,externalDefTransforms:e.externalDefTransforms||[],viewContainerAppends:e.viewContainerAppends||[],eventDropTransformers:e.eventDropTransformers||[],componentInteractions:e.componentInteractions||[],calendarInteractions:e.calendarInteractions||[],themeClasses:e.themeClasses||{},eventSourceDefs:e.eventSourceDefs||[],cmdFormatter:e.cmdFormatter,recurringTypes:e.recurringTypes||[],namedTimeZonedImpl:e.namedTimeZonedImpl,initialView:e.initialView||"",elementDraggingImpl:e.elementDraggingImpl,optionChangeHandlers:e.optionChangeHandlers||{},scrollGridImpl:e.scrollGridImpl||null,listenerRefiners:e.listenerRefiners||{},optionRefiners:e.optionRefiners||{},propSetHandlers:e.propSetHandlers||{}}}function d7e(e,t){let n={},i={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function r(a){for(let o of a){const l=o.name,c=n[l];c===void 0?(n[l]=o.id,r(o.deps),i=h7e(i,o)):c!==o.id&&console.warn(`Duplicate plugin '${l}'`)}}return e&&r(e),r(t),i}function f7e(){let e=[],t=[],n;return(i,r)=>((!n||!dm(i,e)||!dm(r,t))&&(n=d7e(i,r)),e=i,t=r,n)}function h7e(e,t){return{premiumReleaseDate:p7e(e.premiumReleaseDate,t.premiumReleaseDate),reducers:e.reducers.concat(t.reducers),isLoadingFuncs:e.isLoadingFuncs.concat(t.isLoadingFuncs),contextInit:e.contextInit.concat(t.contextInit),eventRefiners:Object.assign(Object.assign({},e.eventRefiners),t.eventRefiners),eventDefMemberAdders:e.eventDefMemberAdders.concat(t.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},e.eventSourceRefiners),t.eventSourceRefiners),isDraggableTransformers:e.isDraggableTransformers.concat(t.isDraggableTransformers),eventDragMutationMassagers:e.eventDragMutationMassagers.concat(t.eventDragMutationMassagers),eventDefMutationAppliers:e.eventDefMutationAppliers.concat(t.eventDefMutationAppliers),dateSelectionTransformers:e.dateSelectionTransformers.concat(t.dateSelectionTransformers),datePointTransforms:e.datePointTransforms.concat(t.datePointTransforms),dateSpanTransforms:e.dateSpanTransforms.concat(t.dateSpanTransforms),views:Object.assign(Object.assign({},e.views),t.views),viewPropsTransformers:e.viewPropsTransformers.concat(t.viewPropsTransformers),isPropsValid:t.isPropsValid||e.isPropsValid,externalDefTransforms:e.externalDefTransforms.concat(t.externalDefTransforms),viewContainerAppends:e.viewContainerAppends.concat(t.viewContainerAppends),eventDropTransformers:e.eventDropTransformers.concat(t.eventDropTransformers),calendarInteractions:e.calendarInteractions.concat(t.calendarInteractions),componentInteractions:e.componentInteractions.concat(t.componentInteractions),themeClasses:Object.assign(Object.assign({},e.themeClasses),t.themeClasses),eventSourceDefs:e.eventSourceDefs.concat(t.eventSourceDefs),cmdFormatter:t.cmdFormatter||e.cmdFormatter,recurringTypes:e.recurringTypes.concat(t.recurringTypes),namedTimeZonedImpl:t.namedTimeZonedImpl||e.namedTimeZonedImpl,initialView:e.initialView||t.initialView,elementDraggingImpl:e.elementDraggingImpl||t.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},e.optionChangeHandlers),t.optionChangeHandlers),scrollGridImpl:t.scrollGridImpl||e.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},e.listenerRefiners),t.listenerRefiners),optionRefiners:Object.assign(Object.assign({},e.optionRefiners),t.optionRefiners),propSetHandlers:Object.assign(Object.assign({},e.propSetHandlers),t.propSetHandlers)}}function p7e(e,t){return e===void 0?t:t===void 0?e:new Date(Math.max(e.valueOf(),t.valueOf()))}class Dm extends W2{}Dm.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};Dm.prototype.baseIconClass="fc-icon";Dm.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};Dm.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};Dm.prototype.iconOverrideOption="buttonIcons";Dm.prototype.iconOverrideCustomButtonOption="icon";Dm.prototype.iconOverridePrefix="fc-icon-";function m7e(e,t){let n={},i;for(i in e)k6(i,n,e,t);for(i in t)k6(i,n,e,t);return n}function k6(e,t,n,i){if(t[e])return t[e];let r=y7e(e,t,n,i);return r&&(t[e]=r),r}function y7e(e,t,n,i){let r=n[e],a=i[e],o=d=>r&&r[d]!==null?r[d]:a&&a[d]!==null?a[d]:null,l=o("component"),c=o("superType"),u=null;if(c){if(c===e)throw new Error("Can't have a custom view type that references itself");u=k6(c,t,n,i)}return!l&&u&&(l=u.component),l?{type:e,component:l,defaults:Object.assign(Object.assign({},u?u.defaults:{}),r?r.rawOptions:{}),overrides:Object.assign(Object.assign({},u?u.overrides:{}),a?a.rawOptions:{})}:null}function bG(e){return mh(e,g7e)}function g7e(e){let t=typeof e=="function"?{component:e}:e,{component:n}=t;return t.content?n=xG(t):n&&!(n.prototype instanceof Ti)&&(n=xG(Object.assign(Object.assign({},t),{content:n}))),{superType:t.type,component:n,rawOptions:t}}function xG(e){return t=>Ce(Ah.Consumer,null,n=>Ce(io,{elTag:"div",elClasses:Mle(n.viewSpec),renderProps:Object.assign(Object.assign({},t),{nextDayThreshold:n.options.nextDayThreshold}),generatorName:void 0,customGenerator:e.content,classNameGenerator:e.classNames,didMount:e.didMount,willUnmount:e.willUnmount}))}function v7e(e,t,n,i){let r=bG(e),a=bG(t.views),o=m7e(r,a);return mh(o,l=>S7e(l,a,t,n,i))}function S7e(e,t,n,i,r){let a=e.overrides.duration||e.defaults.duration||i.duration||n.duration,o=null,l="",c="",u={};if(a&&(o=b7e(a),o)){let m=O6(o);l=m.unit,m.value===1&&(c=l,u=t[l]?t[l].rawOptions:{})}let d=m=>{let p=m.buttonText||{},v=e.defaults.buttonTextKey;return v!=null&&p[v]!=null?p[v]:p[e.type]!=null?p[e.type]:p[c]!=null?p[c]:null},h=m=>{let p=m.buttonHints||{},v=e.defaults.buttonTextKey;return v!=null&&p[v]!=null?p[v]:p[e.type]!=null?p[e.type]:p[c]!=null?p[c]:null};return{type:e.type,component:e.component,duration:o,durationUnit:l,singleUnit:c,optionDefaults:e.defaults,optionOverrides:Object.assign(Object.assign({},u),e.overrides),buttonTextOverride:d(i)||d(n)||e.overrides.buttonText,buttonTextDefault:d(r)||e.defaults.buttonText||d(nx)||e.type,buttonTitleOverride:h(i)||h(n)||e.overrides.buttonHint,buttonTitleDefault:h(r)||e.defaults.buttonHint||h(nx)}}let wG={};function b7e(e){let t=JSON.stringify(e),n=wG[t];return n===void 0&&(n=mi(e),wG[t]=n),n}function x7e(e,t){switch(t.type){case"CHANGE_VIEW_TYPE":e=t.viewType}return e}function w7e(e,t){switch(t.type){case"CHANGE_DATE":return t.dateMarker;default:return e}}function E7e(e,t,n){let i=e.initialDate;return i!=null?t.createMarker(i):n.getDateMarker()}function _7e(e,t){switch(t.type){case"SET_OPTION":return Object.assign(Object.assign({},e),{[t.optionName]:t.rawOptionValue});default:return e}}function A7e(e,t,n,i){let r;switch(t.type){case"CHANGE_VIEW_TYPE":return i.build(t.dateMarker||n);case"CHANGE_DATE":return i.build(t.dateMarker);case"PREV":if(r=i.buildPrev(e,n),r.isValid)return r;break;case"NEXT":if(r=i.buildNext(e,n),r.isValid)return r;break}return e}function R7e(e,t,n){let i=t?t.activeRange:null;return _ce({},T7e(e,n),i,n)}function N7e(e,t,n,i){let r=n?n.activeRange:null;switch(t.type){case"ADD_EVENT_SOURCES":return _ce(e,t.sources,r,i);case"REMOVE_EVENT_SOURCE":return j7e(e,t.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?Ace(e,r,i):e;case"FETCH_EVENT_SOURCES":return z8(e,t.sourceIds?jle(t.sourceIds):Rce(e,i),r,t.isRefetch||!1,i);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return L7e(e,t.sourceId,t.fetchId,t.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return e}}function O7e(e,t,n){let i=t?t.activeRange:null;return z8(e,Rce(e,n),i,!0,n)}function Ece(e){for(let t in e)if(e[t].isFetching)return!0;return!1}function _ce(e,t,n,i){let r={};for(let a of t)r[a.sourceId]=a;return n&&(r=Ace(r,n,i)),Object.assign(Object.assign({},e),r)}function j7e(e,t){return Dg(e,n=>n.sourceId!==t)}function Ace(e,t,n){return z8(e,Dg(e,i=>D7e(i,t,n)),t,!1,n)}function D7e(e,t,n){return Nce(e,n)?!n.options.lazyFetching||!e.fetchRange||e.isFetching||t.start<e.fetchRange.start||t.end>e.fetchRange.end:!e.latestFetchId}function z8(e,t,n,i,r){let a={};for(let o in e){let l=e[o];t[o]?a[o]=C7e(l,n,i,r):a[o]=l}return a}function C7e(e,t,n,i){let{options:r,calendarApi:a}=i,o=i.pluginHooks.eventSourceDefs[e.sourceDefId],l=Xg();return o.fetch({eventSource:e,range:t,isRefetch:n,context:i},c=>{let{rawEvents:u}=c;r.eventSourceSuccess&&(u=r.eventSourceSuccess.call(a,u,c.response)||u),e.success&&(u=e.success.call(a,u,c.response)||u),i.dispatch({type:"RECEIVE_EVENTS",sourceId:e.sourceId,fetchId:l,fetchRange:t,rawEvents:u})},c=>{let u=!1;r.eventSourceFailure&&(r.eventSourceFailure.call(a,c),u=!0),e.failure&&(e.failure(c),u=!0),u||console.warn(c.message,c),i.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:e.sourceId,fetchId:l,fetchRange:t,error:c})}),Object.assign(Object.assign({},e),{isFetching:!0,latestFetchId:l})}function L7e(e,t,n,i){let r=e[t];return r&&n===r.latestFetchId?Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},r),{isFetching:!1,fetchRange:i})}):e}function Rce(e,t){return Dg(e,n=>Nce(n,t))}function T7e(e,t){let n=Ule(t),i=[].concat(e.eventSources||[]),r=[];e.initialEvents&&i.unshift(e.initialEvents),e.events&&i.unshift(e.events);for(let a of i){let o=zle(a,t,n);o&&r.push(o)}return r}function Nce(e,t){return!t.pluginHooks.eventSourceDefs[e.sourceDefId].ignoreRange}function M7e(e,t){switch(t.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return t.selection;default:return e}}function I7e(e,t){switch(t.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return t.eventInstanceId;default:return e}}function P7e(e,t){let n;switch(t.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return n=t.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return e}}function k7e(e,t){let n;switch(t.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return n=t.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return e}}function $7e(e,t,n,i,r){let a=e.headerToolbar?EG(e.headerToolbar,e,t,n,i,r):null,o=e.footerToolbar?EG(e.footerToolbar,e,t,n,i,r):null;return{header:a,footer:o}}function EG(e,t,n,i,r,a){let o={},l=[],c=!1;for(let u in e){let d=e[u],h=F7e(d,t,n,i,r,a);o[u]=h.widgets,l.push(...h.viewsWithButtons),c=c||h.hasTitle}return{sectionWidgets:o,viewsWithButtons:l,hasTitle:c}}function F7e(e,t,n,i,r,a){let o=t.direction==="rtl",l=t.customButtons||{},c=n.buttonText||{},u=t.buttonText||{},d=n.buttonHints||{},h=t.buttonHints||{},m=e?e.split(" "):[],p=[],v=!1;return{widgets:m.map(b=>b.split(",").map(w=>{if(w==="title")return v=!0,{buttonName:w};let R,E,_,N,O,j;if(R=l[w])_=D=>{R.click&&R.click.call(D.target,D,D.target)},(N=i.getCustomButtonIconClass(R))||(N=i.getIconClass(w,o))||(O=R.text),j=R.hint||R.text;else if(E=r[w]){p.push(w),_=()=>{a.changeView(w)},(O=E.buttonTextOverride)||(N=i.getIconClass(w,o))||(O=E.buttonTextDefault);let D=E.buttonTextOverride||E.buttonTextDefault;j=tx(E.buttonTitleOverride||E.buttonTitleDefault||t.viewHint,[D,w],D)}else if(a[w])if(_=()=>{a[w]()},(O=c[w])||(N=i.getIconClass(w,o))||(O=u[w]),w==="prevYear"||w==="nextYear"){let D=w==="prevYear"?"prev":"next";j=tx(d[D]||h[D],[u.year||"year","year"],u[w])}else j=D=>tx(d[w]||h[w],[u[D]||D,D],u[w]);return{buttonName:w,buttonClick:_,buttonIcon:N,buttonText:O,buttonHint:j}})),viewsWithButtons:p,hasTitle:v}}class B7e{constructor(t,n,i){this.type=t,this.getCurrentData=n,this.dateEnv=i}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(t){return this.getCurrentData().options[t]}}let z7e={ignoreRange:!0,parseMeta(e){return Array.isArray(e.events)?e.events:null},fetch(e,t){t({rawEvents:e.eventSource.meta})}};const U7e=Zd({name:"array-event-source",eventSourceDefs:[z7e]});let V7e={parseMeta(e){return typeof e.events=="function"?e.events:null},fetch(e,t,n){const{dateEnv:i}=e.context,r=e.eventSource.meta;eke(r.bind(null,Yle(e.range,i)),a=>t({rawEvents:a}),n)}};const K7e=Zd({name:"func-event-source",eventSourceDefs:[V7e]}),G7e={method:String,extraParams:at,startParam:String,endParam:String,timeZoneParam:String};let H7e={parseMeta(e){return e.url&&(e.format==="json"||!e.format)?{url:e.url,format:"json",method:(e.method||"GET").toUpperCase(),extraParams:e.extraParams,startParam:e.startParam,endParam:e.endParam,timeZoneParam:e.timeZoneParam}:null},fetch(e,t,n){const{meta:i}=e.eventSource,r=W7e(i,e.range,e.context);tke(i.method,i.url,r).then(([a,o])=>{t({rawEvents:a,response:o})},n)}};const q7e=Zd({name:"json-event-source",eventSourceRefiners:G7e,eventSourceDefs:[H7e]});function W7e(e,t,n){let{dateEnv:i,options:r}=n,a,o,l,c,u={};return a=e.startParam,a==null&&(a=r.startParam),o=e.endParam,o==null&&(o=r.endParam),l=e.timeZoneParam,l==null&&(l=r.timeZoneParam),typeof e.extraParams=="function"?c=e.extraParams():c=e.extraParams||{},Object.assign(u,c),u[a]=i.formatIso(t.start),u[o]=i.formatIso(t.end),i.timeZone!=="local"&&(u[l]=i.timeZone),u}const Y7e={daysOfWeek:at,startTime:mi,endTime:mi,duration:mi,startRecur:at,endRecur:at};let J7e={parse(e,t){if(e.daysOfWeek||e.startTime||e.endTime||e.startRecur||e.endRecur){let n={daysOfWeek:e.daysOfWeek||null,startTime:e.startTime||null,endTime:e.endTime||null,startRecur:e.startRecur?t.createMarker(e.startRecur):null,endRecur:e.endRecur?t.createMarker(e.endRecur):null,dateEnv:t},i;return e.duration&&(i=e.duration),!i&&e.startTime&&e.endTime&&(i=dPe(e.endTime,e.startTime)),{allDayGuess:!e.startTime&&!e.endTime,duration:i,typeData:n}}return null},expand(e,t,n){let i=hm(t,{start:e.startRecur,end:e.endRecur});return i?X7e(e.daysOfWeek,e.startTime,e.dateEnv,n,i):[]}};const Q7e=Zd({name:"simple-recurring-event",recurringTypes:[J7e],eventRefiners:Y7e});function X7e(e,t,n,i,r){let a=e?jle(e):null,o=hr(r.start),l=r.end,c=[];for(t&&(t.milliseconds<0?l=Ma(l,1):t.milliseconds>=1e3*60*60*24&&(o=Ma(o,-1)));o<l;){let u;(!a||a[o.getUTCDay()])&&(t?u=i.add(o,t):u=o,c.push(i.createMarker(n.toDate(u)))),o=Ma(o,1)}return c}const Z7e=Zd({name:"change-handler",optionChangeHandlers:{events(e,t){_G([e],t)},eventSources:_G}});function _G(e,t){let n=v8(t.getCurrentData().eventSources);if(n.length===1&&e.length===1&&Array.isArray(n[0]._raw)&&Array.isArray(e[0])){t.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:e[0]});return}let i=[];for(let r of e){let a=!1;for(let o=0;o<n.length;o+=1)if(n[o]._raw===r){n.splice(o,1),a=!0;break}a||i.push(r)}for(let r of n)t.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:r.sourceId});for(let r of i)t.calendarApi.addEventSource(r)}function e9e(e,t){t.emitter.trigger("datesSet",Object.assign(Object.assign({},Yle(e.activeRange,t.dateEnv)),{view:t.viewApi}))}function t9e(e,t){let{emitter:n}=t;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",lg(e,t))}const n9e=[U7e,K7e,q7e,Q7e,Z7e,Zd({name:"misc",isLoadingFuncs:[e=>Ece(e.eventSources)],propSetHandlers:{dateProfile:e9e,eventStore:t9e}})];class i9e{constructor(t,n){this.runTaskOption=t,this.drainedOption=n,this.queue=[],this.delayedRunner=new u8(this.drain.bind(this))}request(t,n){this.queue.push(t),this.delayedRunner.request(n)}pause(t){this.delayedRunner.pause(t)}resume(t,n){this.delayedRunner.resume(t,n)}drain(){let{queue:t}=this;for(;t.length;){let n=[],i;for(;i=t.shift();)this.runTask(i),n.push(i);this.drained(n)}}runTask(t){this.runTaskOption&&this.runTaskOption(t)}drained(t){this.drainedOption&&this.drainedOption(t)}}function r9e(e,t,n){let i;return/^(year|month)$/.test(e.currentRangeUnit)?i=e.currentRange:i=e.activeRange,n.formatRange(i.start,i.end,jr(t.titleFormat||a9e(e)),{isEndExclusive:e.isRangeAllDay,defaultSeparator:t.titleRangeSeparator})}function a9e(e){let{currentRangeUnit:t}=e;if(t==="year")return{year:"numeric"};if(t==="month")return{year:"numeric",month:"long"};let n=dR(e.currentRange.start,e.currentRange.end);return n!==null&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class AG{constructor(){this.resetListeners=new Set}handleInput(t,n){const i=this.dateEnv;if(t!==i&&(typeof n=="function"?this.nowFn=n:i||(this.nowAnchorDate=t.toDate(n?t.createMarker(n):t.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=t,i))for(const r of this.resetListeners.values())r()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(t){this.resetListeners.add(t)}removeResetListener(t){this.resetListeners.delete(t)}}class s9e{constructor(t){this.computeCurrentViewData=An(this._computeCurrentViewData),this.organizeRawLocales=An(l7e),this.buildLocale=An(xce),this.buildPluginHooks=f7e(),this.buildDateEnv=An(o9e),this.buildTheme=An(l9e),this.parseToolbars=An($7e),this.buildViewSpecs=An(v7e),this.buildDateProfileGenerator=iA(c9e),this.buildViewApi=An(u9e),this.buildViewUiProps=iA(h9e),this.buildEventUiBySource=An(d9e,Bu),this.buildEventUiBases=An(f9e),this.parseContextBusinessHours=iA(p9e),this.buildTitle=An(r9e),this.nowManager=new AG,this.emitter=new MO,this.actionRunner=new i9e(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=m=>{this.actionRunner.request(m)},this.props=t,this.actionRunner.pause(),this.nowManager=new AG;let n={},i=this.computeOptionsData(t.optionOverrides,n,t.calendarApi),r=i.calendarOptions.initialView||i.pluginHooks.initialView,a=this.computeCurrentViewData(r,i,t.optionOverrides,n);t.calendarApi.currentDataManager=this,this.emitter.setThisContext(t.calendarApi),this.emitter.setOptions(a.options);let o={nowManager:this.nowManager,dateEnv:i.dateEnv,options:i.calendarOptions,pluginHooks:i.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},l=E7e(i.calendarOptions,i.dateEnv,this.nowManager),c=a.dateProfileGenerator.build(l);ah(c.activeRange,l)||(l=c.currentRange.start);for(let m of i.pluginHooks.contextInit)m(o);let u=R7e(i.calendarOptions,c,o),d={dynamicOptionOverrides:n,currentViewType:r,currentDate:l,dateProfile:c,businessHours:this.parseContextBusinessHours(o),eventSources:u,eventUiBases:{},eventStore:Ul(),renderableEventStore:Ul(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(o).selectionConfig},h=Object.assign(Object.assign({},o),d);for(let m of i.pluginHooks.reducers)Object.assign(d,m(null,null,h));EC(d,o)&&this.emitter.trigger("loading",!0),this.state=d,this.updateData(),this.actionRunner.resume()}resetOptions(t,n){let{props:i}=this;n===void 0?i.optionOverrides=t:(i.optionOverrides=Object.assign(Object.assign({},i.optionOverrides||{}),t),this.optionsForRefining.push(...n)),(n===void 0||n.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(t){let{props:n,state:i,emitter:r}=this,a=_7e(i.dynamicOptionOverrides,t),o=this.computeOptionsData(n.optionOverrides,a,n.calendarApi),l=x7e(i.currentViewType,t),c=this.computeCurrentViewData(l,o,n.optionOverrides,a);n.calendarApi.currentDataManager=this,r.setThisContext(n.calendarApi),r.setOptions(c.options);let u={nowManager:this.nowManager,dateEnv:o.dateEnv,options:o.calendarOptions,pluginHooks:o.pluginHooks,calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:r,getCurrentData:this.getCurrentData},{currentDate:d,dateProfile:h}=i;this.data&&this.data.dateProfileGenerator!==c.dateProfileGenerator&&(h=c.dateProfileGenerator.build(d)),d=w7e(d,t),h=A7e(h,t,d,c.dateProfileGenerator),(t.type==="PREV"||t.type==="NEXT"||!ah(h.currentRange,d))&&(d=h.currentRange.start);let m=N7e(i.eventSources,t,h,u),p=N8e(i.eventStore,t,m,h,u),S=Ece(m)&&!c.options.progressiveEventRendering&&i.renderableEventStore||p,{eventUiSingleBase:b,selectionConfig:w}=this.buildViewUiProps(u),R=this.buildEventUiBySource(m),E=this.buildEventUiBases(S.defs,b,R),_={dynamicOptionOverrides:a,currentViewType:l,currentDate:d,dateProfile:h,eventSources:m,eventStore:p,renderableEventStore:S,selectionConfig:w,eventUiBases:E,businessHours:this.parseContextBusinessHours(u),dateSelection:M7e(i.dateSelection,t),eventSelection:I7e(i.eventSelection,t),eventDrag:P7e(i.eventDrag,t),eventResize:k7e(i.eventResize,t)},N=Object.assign(Object.assign({},u),_);for(let D of o.pluginHooks.reducers)Object.assign(_,D(i,t,N));let O=EC(i,u),j=EC(_,u);!O&&j?r.trigger("loading",!0):O&&!j&&r.trigger("loading",!1),this.state=_,n.onAction&&n.onAction(t)}updateData(){let{props:t,state:n}=this,i=this.data,r=this.computeOptionsData(t.optionOverrides,n.dynamicOptionOverrides,t.calendarApi),a=this.computeCurrentViewData(n.currentViewType,r,t.optionOverrides,n.dynamicOptionOverrides),o=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(n.dateProfile,a.options,r.dateEnv),calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},r),a),n),l=r.pluginHooks.optionChangeHandlers,c=i&&i.calendarOptions,u=r.calendarOptions;if(c&&c!==u){c.timeZone!==u.timeZone&&(n.eventSources=o.eventSources=O7e(o.eventSources,n.dateProfile,o),n.eventStore=o.eventStore=mG(o.eventStore,i.dateEnv,o.dateEnv),n.renderableEventStore=o.renderableEventStore=mG(o.renderableEventStore,i.dateEnv,o.dateEnv));for(let d in l)(this.optionsForHandling.indexOf(d)!==-1||c[d]!==u[d])&&l[d](u[d],o)}this.optionsForHandling=[],t.onData&&t.onData(o)}computeOptionsData(t,n,i){if(!this.optionsForRefining.length&&t===this.stableOptionOverrides&&n===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:r,pluginHooks:a,localeDefaults:o,availableLocaleData:l,extra:c}=this.processRawCalendarOptions(t,n);RG(c);let u=this.buildDateEnv(r.timeZone,r.locale,r.weekNumberCalculation,r.firstDay,r.weekText,a,l,r.defaultRangeSeparator),d=this.buildViewSpecs(a.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,o),h=this.buildTheme(r,a),m=this.parseToolbars(r,this.stableOptionOverrides,h,d,i);return this.stableCalendarOptionsData={calendarOptions:r,pluginHooks:a,dateEnv:u,viewSpecs:d,theme:h,toolbarConfig:m,localeDefaults:o,availableRawLocales:l.map}}processRawCalendarOptions(t,n){let{locales:i,locale:r}=pC([nx,t,n]),a=this.organizeRawLocales(i),o=a.map,l=this.buildLocale(r||a.defaultCode,o).options,c=this.buildPluginHooks(t.plugins||[],n9e),u=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},cG),uG),dG),c.listenerRefiners),c.optionRefiners),d={},h=pC([nx,l,t,n]),m={},p=this.currentCalendarOptionsInput,v=this.currentCalendarOptionsRefined,S=!1;for(let b in h)this.optionsForRefining.indexOf(b)===-1&&(h[b]===p[b]||Ry[b]&&b in p&&Ry[b](p[b],h[b]))?m[b]=v[b]:u[b]?(m[b]=u[b](h[b]),S=!0):d[b]=p[b];return S&&(this.currentCalendarOptionsInput=h,this.currentCalendarOptionsRefined=m,this.stableOptionOverrides=t,this.stableDynamicOptionOverrides=n),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:c,availableLocaleData:a,localeDefaults:l,extra:d}}_computeCurrentViewData(t,n,i,r){let a=n.viewSpecs[t];if(!a)throw new Error(`viewType "${t}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:o,extra:l}=this.processRawViewOptions(a,n.pluginHooks,n.localeDefaults,i,r);RG(l),this.nowManager.handleInput(n.dateEnv,o.now);let c=this.buildDateProfileGenerator({dateProfileGeneratorClass:a.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:a.duration,durationUnit:a.durationUnit,usesMinMaxTime:a.optionDefaults.usesMinMaxTime,dateEnv:n.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:o.slotMinTime,slotMaxTime:o.slotMaxTime,showNonCurrentDates:o.showNonCurrentDates,dayCount:o.dayCount,dateAlignment:o.dateAlignment,dateIncrement:o.dateIncrement,hiddenDays:o.hiddenDays,weekends:o.weekends,validRangeInput:o.validRange,visibleRangeInput:o.visibleRange,fixedWeekCount:o.fixedWeekCount}),u=this.buildViewApi(t,this.getCurrentData,n.dateEnv);return{viewSpec:a,options:o,dateProfileGenerator:c,viewApi:u}}processRawViewOptions(t,n,i,r,a){let o=pC([nx,t.optionDefaults,i,r,t.optionOverrides,a]),l=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},cG),uG),dG),KPe),n.listenerRefiners),n.optionRefiners),c={},u=this.currentViewOptionsInput,d=this.currentViewOptionsRefined,h=!1,m={};for(let p in o)o[p]===u[p]||Ry[p]&&Ry[p](o[p],u[p])?c[p]=d[p]:(o[p]===this.currentCalendarOptionsInput[p]||Ry[p]&&Ry[p](o[p],this.currentCalendarOptionsInput[p])?p in this.currentCalendarOptionsRefined&&(c[p]=this.currentCalendarOptionsRefined[p]):l[p]?c[p]=l[p](o[p]):m[p]=o[p],h=!0);return h&&(this.currentViewOptionsInput=o,this.currentViewOptionsRefined=c),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:m}}}function o9e(e,t,n,i,r,a,o,l){let c=xce(t||o.defaultCode,o.map);return new t8e({calendarSystem:"gregory",timeZone:e,namedTimeZoneImpl:a.namedTimeZonedImpl,locale:c,weekNumberCalculation:n,firstDay:i,weekText:r,cmdFormatter:a.cmdFormatter,defaultSeparator:l})}function l9e(e,t){let n=t.themeClasses[e.themeSystem]||Dm;return new n(e)}function c9e(e){let t=e.dateProfileGeneratorClass||Ple;return new t(e)}function u9e(e,t,n){return new B7e(e,t,n)}function d9e(e){return mh(e,t=>t.ui)}function f9e(e,t,n){let i={"":t};for(let r in e){let a=e[r];a.sourceId&&n[a.sourceId]&&(i[r]=n[a.sourceId])}return i}function h9e(e){let{options:t}=e;return{eventUiSingleBase:gR({display:t.eventDisplay,editable:t.editable,startEditable:t.eventStartEditable,durationEditable:t.eventDurationEditable,constraint:t.eventConstraint,overlap:typeof t.eventOverlap=="boolean"?t.eventOverlap:void 0,allow:t.eventAllow,backgroundColor:t.eventBackgroundColor,borderColor:t.eventBorderColor,textColor:t.eventTextColor,color:t.eventColor},e),selectionConfig:gR({constraint:t.selectConstraint,overlap:typeof t.selectOverlap=="boolean"?t.selectOverlap:void 0,allow:t.selectAllow},e)}}function EC(e,t){for(let n of t.pluginHooks.isLoadingFuncs)if(n(e))return!0;return!1}function p9e(e){return P8e(e.options.businessHours,e)}function RG(e,t){for(let n in e)console.warn(`Unknown option '${n}'`)}class m9e extends Ti{render(){let t=this.props.widgetGroups.map(n=>this.renderWidgetGroup(n));return Ce("div",{className:"fc-toolbar-chunk"},...t)}renderWidgetGroup(t){let{props:n}=this,{theme:i}=this.context,r=[],a=!0;for(let o of t){let{buttonName:l,buttonClick:c,buttonText:u,buttonIcon:d,buttonHint:h}=o;if(l==="title")a=!1,r.push(Ce("h2",{className:"fc-toolbar-title",id:n.titleId},n.title));else{let m=l===n.activeButton,p=!n.isTodayEnabled&&l==="today"||!n.isPrevEnabled&&l==="prev"||!n.isNextEnabled&&l==="next",v=[`fc-${l}-button`,i.getClass("button")];m&&v.push(i.getClass("buttonActive")),r.push(Ce("button",{type:"button",title:typeof h=="function"?h(n.navUnit):h,disabled:p,"aria-pressed":m,className:v.join(" "),onClick:c},u||(d?Ce("span",{className:d,role:"img"}):"")))}}if(r.length>1){let o=a&&i.getClass("buttonGroup")||"";return Ce("div",{className:o},...r)}return r[0]}}class NG extends Ti{render(){let{model:t,extraClassName:n}=this.props,i=!1,r,a,o=t.sectionWidgets,l=o.center;return o.left?(i=!0,r=o.left):r=o.start,o.right?(i=!0,a=o.right):a=o.end,Ce("div",{className:[n||"","fc-toolbar",i?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",r||[]),this.renderSection("center",l||[]),this.renderSection("end",a||[]))}renderSection(t,n){let{props:i}=this;return Ce(m9e,{key:t,widgetGroups:n,title:i.title,navUnit:i.navUnit,activeButton:i.activeButton,isTodayEnabled:i.isTodayEnabled,isPrevEnabled:i.isPrevEnabled,isNextEnabled:i.isNextEnabled,titleId:i.titleId})}}class y9e extends Ti{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=t=>{this.el=t,Kd(this.props.elRef,t),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:t,state:n}=this,{aspectRatio:i}=t,r=["fc-view-harness",i||t.liquid||t.height?"fc-view-harness-active":"fc-view-harness-passive"],a="",o="";return i?n.availableWidth!==null?a=n.availableWidth/i:o=`${1/i*100}%`:a=t.height||"",Ce("div",{"aria-labelledby":t.labeledById,ref:this.handleEl,className:r.join(" "),style:{height:a,paddingBottom:o}},t.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class g9e extends J1{constructor(t){super(t),this.handleSegClick=(n,i)=>{let{component:r}=this,{context:a}=r,o=A1(i);if(o&&r.isValidSegDownEl(n.target)){let l=Zs(n.target,".fc-event-forced-url"),c=l?l.querySelector("a[href]").href:"";a.emitter.trigger("eventClick",{el:i,event:new Fr(r.context,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:a.viewApi}),c&&!n.defaultPrevented&&(window.location.href=c)}},this.destroy=_le(t.el,"click",".fc-event",this.handleSegClick)}}class v9e extends J1{constructor(t){super(t),this.handleEventElRemove=n=>{n===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(n,i)=>{A1(i)&&(this.currentSegEl=i,this.triggerEvent("eventMouseEnter",n,i))},this.handleSegLeave=(n,i)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",n,i))},this.removeHoverListeners=JIe(t.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(t,n,i){let{component:r}=this,{context:a}=r,o=A1(i);(!n||r.isValidSegDownEl(n.target))&&a.emitter.trigger(t,{el:i,event:new Fr(a,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:a.viewApi})}}class S9e extends Zg{constructor(){super(...arguments),this.buildViewContext=An(r8e),this.buildViewPropTransformers=An(x9e),this.buildToolbarProps=An(b9e),this.headerRef=Ao(),this.footerRef=Ao(),this.interactionsStore={},this.state={viewLabelId:am()},this.registerInteractiveComponent=(t,n)=>{let i=rke(t,n),o=[g9e,v9e].concat(this.props.pluginHooks.componentInteractions).map(l=>new l(i));this.interactionsStore[t.uid]=o,T6[t.uid]=i},this.unregisterInteractiveComponent=t=>{let n=this.interactionsStore[t.uid];if(n){for(let i of n)i.destroy();delete this.interactionsStore[t.uid]}delete T6[t.uid]},this.resizeRunner=new u8(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=t=>{let{options:n}=this.props;n.handleWindowResize&&t.target===window&&this.resizeRunner.request(n.windowResizeDelay)}}render(){let{props:t}=this,{toolbarConfig:n,options:i}=t,r=!1,a="",o;t.isHeightAuto||t.forPrint?a="":i.height!=null?r=!0:i.contentHeight!=null?a=i.contentHeight:o=Math.max(i.aspectRatio,.5);let l=this.buildViewContext(t.viewSpec,t.viewApi,t.options,t.dateProfileGenerator,t.dateEnv,t.nowManager,t.theme,t.pluginHooks,t.dispatch,t.getCurrentData,t.emitter,t.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),c=n.header&&n.header.hasTitle?this.state.viewLabelId:void 0;return Ce(Ah.Provider,{value:l},Ce(ev,{unit:"day"},u=>{let d=this.buildToolbarProps(t.viewSpec,t.dateProfile,t.dateProfileGenerator,t.currentDate,u,t.viewTitle);return Ce(sr,null,n.header&&Ce(NG,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:c},d)),Ce(y9e,{liquid:r,height:a,aspectRatio:o,labeledById:c},this.renderView(t),this.buildAppendContent()),n.footer&&Ce(NG,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},d)))}))}componentDidMount(){let{props:t}=this;this.calendarInteractions=t.pluginHooks.calendarInteractions.map(i=>new i(t)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:n}=t.pluginHooks;for(let i in n)n[i](t[i],t)}componentDidUpdate(t){let{props:n}=this,{propSetHandlers:i}=n.pluginHooks;for(let r in i)n[r]!==t[r]&&i[r](n[r],n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let t of this.calendarInteractions)t.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:t}=this,n=t.pluginHooks.viewContainerAppends.map(i=>i(t));return Ce(sr,{},...n)}renderView(t){let{pluginHooks:n}=t,{viewSpec:i}=t,r={dateProfile:t.dateProfile,businessHours:t.businessHours,eventStore:t.renderableEventStore,eventUiBases:t.eventUiBases,dateSelection:t.dateSelection,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,isHeightAuto:t.isHeightAuto,forPrint:t.forPrint},a=this.buildViewPropTransformers(n.viewPropsTransformers);for(let l of a)Object.assign(r,l.transform(r,t));let o=i.component;return Ce(o,Object.assign({},r))}}function b9e(e,t,n,i,r,a){let o=n.build(r,void 0,!1),l=n.buildPrev(t,i,!1),c=n.buildNext(t,i,!1);return{title:a,activeButton:e.type,navUnit:e.singleUnit,isTodayEnabled:o.isValid&&!ah(t.currentRange,r),isPrevEnabled:l.isValid,isNextEnabled:c.isValid}}function x9e(e){return e.map(t=>new t)}class w9e extends ske{constructor(t,n={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=i=>{switch(i.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=i=>{this.currentData=i,this.renderRunner.request(i.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:i}=this;mR(()=>{Lx(Ce(ike,{options:i.calendarOptions,theme:i.theme,emitter:i.emitter},(r,a,o,l)=>(this.setClassNames(r),this.setHeight(a),Ce(Tle.Provider,{value:this.customContentRenderId},Ce(S9e,Object.assign({isHeightAuto:o,forPrint:l},i))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Lx(null,this.el),this.setClassNames([]),this.setHeight(""))},zIe(t),this.el=t,this.renderRunner=new u8(this.handleRenderRequest),new s9e({optionOverrides:n,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let t=this.isRendering;t?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),t&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){mR(()=>{super.updateSize()})}batchRendering(t){this.renderRunner.pause("batchRendering"),t(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(t,n){this.currentDataManager.resetOptions(t,n)}setClassNames(t){if(!dm(t,this.currentClassNames)){let{classList:n}=this.el;for(let i of this.currentClassNames)n.remove(i);for(let i of t)n.add(i);this.currentClassNames=t}}setHeight(t){wle(this.el,"height",t)}}const E9e=parseInt(String(Pt.version).split(".")[0]),_9e=E9e<18;class O1 extends g.Component{constructor(){super(...arguments),this.elRef=g.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const t=[];for(const n of this.state.customRenderingMap.values())t.push(Pt.createElement(A9e,{key:n.id,customRendering:n}));return Pt.createElement("div",{ref:this.elRef},t)}componentDidMount(){this.isUnmounting=!1;const t=new s7e;this.handleCustomRendering=t.handle.bind(t),this.calendar=new w9e(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{Kl.flushSync(()=>{})});let n;t.subscribe(i=>{const r=Date.now(),a=!n;(_9e||a||this.isUpdating||this.isUnmounting||r-n<100?Oce:Kl.flushSync)(()=>{this.setState({customRenderingMap:i},()=>{n=r,a?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}O1.act=Oce;class A9e extends g.PureComponent{render(){const{customRendering:t}=this.props,{generatorMeta:n}=t,i=typeof n=="function"?n(t.renderProps):n;return Kl.createPortal(i,t.containerEl)}}function Oce(e){e()}var OG={code:"en-gb",week:{dow:1,doy:4},buttonHints:{prev:"Previous $0",next:"Next $0",today:"This $0"},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(e){return`Show ${e} more event${e===1?"":"s"}`}};class R9e extends Wu{constructor(){super(...arguments),this.headerElRef=Ao()}renderSimpleLayout(t,n){let{props:i,context:r}=this,a=[],o=SR(r.options);return t&&a.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}}),a.push({type:"body",key:"body",liquid:!0,chunk:{content:n}}),Ce(Tx,{elClasses:["fc-daygrid"],viewSpec:r.viewSpec},Ce(P8,{liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:i.forPrint,cols:[],sections:a}))}renderHScrollLayout(t,n,i,r){let a=this.context.pluginHooks.scrollGridImpl;if(!a)throw new Error("No ScrollGrid implementation");let{props:o,context:l}=this,c=!o.forPrint&&SR(l.options),u=!o.forPrint&&hce(l.options),d=[];return t&&d.push({type:"header",key:"header",isSticky:c,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}]}),d.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:n}]}),u&&d.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:P6}]}),Ce(Tx,{elClasses:["fc-daygrid"],viewSpec:l.viewSpec},Ce(a,{liquid:!o.isHeightAuto&&!o.forPrint,forPrint:o.forPrint,collapsibleWidth:o.forPrint,colGroups:[{cols:[{span:i,minWidth:r}]}],sections:d}))}}function aA(e,t){let n=[];for(let i=0;i<t;i+=1)n[i]=[];for(let i of e)n[i.row].push(i);return n}function GE(e,t){let n=[];for(let i=0;i<t;i+=1)n[i]=[];for(let i of e)n[i.firstCol].push(i);return n}function jG(e,t){let n=[];if(e){for(let i=0;i<t;i+=1)n[i]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(let i of e.segs)n[i.row].segs.push(i)}else for(let i=0;i<t;i+=1)n[i]=null;return n}const jce=jr({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function Dce(e){let{display:t}=e.eventRange.ui;return t==="list-item"||t==="auto"&&!e.eventRange.def.allDay&&e.firstCol===e.lastCol&&e.isStart&&e.isEnd}class Cce extends Ti{render(){let{props:t}=this;return Ce(k8,Object.assign({},t,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:jce,defaultDisplayEventEnd:t.defaultDisplayEventEnd,disableResizing:!t.seg.eventRange.def.allDay}))}}class Lce extends Ti{render(){let{props:t,context:n}=this,{options:i}=n,{seg:r}=t,a=i.eventTimeFormat||jce,o=ix(r,a,n,!0,t.defaultDisplayEventEnd);return Ce(PO,Object.assign({},t,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:j8(t.seg,n),defaultGenerator:N9e,timeText:o,isResizing:!1,isDateSelecting:!1}))}}function N9e(e){return Ce(sr,null,Ce("div",{className:"fc-daygrid-event-dot",style:{borderColor:e.borderColor||e.backgroundColor}}),e.timeText&&Ce("div",{className:"fc-event-time"},e.timeText),Ce("div",{className:"fc-event-title"},e.event.title||Ce(sr,null,"")))}class O9e extends Ti{constructor(){super(...arguments),this.compileSegs=An(j9e)}render(){let{props:t}=this,{allSegs:n,invisibleSegs:i}=this.compileSegs(t.singlePlacements);return Ce(gce,{elClasses:["fc-daygrid-more-link"],dateProfile:t.dateProfile,todayRange:t.todayRange,allDayDate:t.allDayDate,moreCnt:t.moreCnt,allSegs:n,hiddenSegs:i,alignmentElRef:t.alignmentElRef,alignGridTop:t.alignGridTop,extraDateSpan:t.extraDateSpan,popoverContent:()=>{let r=(t.eventDrag?t.eventDrag.affectedInstances:null)||(t.eventResize?t.eventResize.affectedInstances:null)||{};return Ce(sr,null,n.map(a=>{let o=a.eventRange.instance.instanceId;return Ce("div",{className:"fc-daygrid-event-harness",key:o,style:{visibility:r[o]?"hidden":""}},Dce(a)?Ce(Lce,Object.assign({seg:a,isDragging:!1,isSelected:o===t.eventSelection,defaultDisplayEventEnd:!1},sh(a,t.todayRange))):Ce(Cce,Object.assign({seg:a,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:o===t.eventSelection,defaultDisplayEventEnd:!1},sh(a,t.todayRange))))}))}})}}function j9e(e){let t=[],n=[];for(let i of e)t.push(i.seg),i.isVisible||n.push(i.seg);return{allSegs:t,invisibleSegs:n}}const D9e=jr({week:"narrow"});class C9e extends Wu{constructor(){super(...arguments),this.rootElRef=Ao(),this.state={dayNumberId:am()},this.handleRootEl=t=>{Kd(this.rootElRef,t),Kd(this.props.elRef,t)}}render(){let{context:t,props:n,state:i,rootElRef:r}=this,{options:a,dateEnv:o}=t,{date:l,dateProfile:c}=n;const u=n.showDayNumber&&T9e(l,c.currentRange,o);return Ce(F8,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...n.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},n.extraDataAttrs),n.showDayNumber?{"aria-labelledby":i.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:L9e,date:l,dateProfile:c,todayRange:n.todayRange,showDayNumber:n.showDayNumber,isMonthStart:u,extraRenderProps:n.extraRenderProps},(d,h)=>Ce("div",{ref:n.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:n.minHeight}},n.showWeekNumber&&Ce(yce,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:R1(t,l,"week"),date:l,defaultFormat:D9e}),!h.isDisabled&&(n.showDayNumber||B8(a)||n.forceDayTop)?Ce("div",{className:"fc-daygrid-day-top"},Ce(d,{elTag:"a",elClasses:["fc-daygrid-day-number",u&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},R1(t,l)),{id:i.dayNumberId})})):n.showDayNumber?Ce("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},Ce("a",{className:"fc-daygrid-day-number"},"")):void 0,Ce("div",{className:"fc-daygrid-day-events",ref:n.fgContentElRef},n.fgContent,Ce("div",{className:"fc-daygrid-day-bottom",style:{marginTop:n.moreMarginTop}},Ce(O9e,{allDayDate:l,singlePlacements:n.singlePlacements,moreCnt:n.moreCnt,alignmentElRef:r,alignGridTop:!n.showDayNumber,extraDateSpan:n.extraDateSpan,dateProfile:n.dateProfile,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,todayRange:n.todayRange}))),Ce("div",{className:"fc-daygrid-day-bg"},n.bgContent)))}}function L9e(e){return e.dayNumberText||Ce(sr,null,"")}function T9e(e,t,n){const{start:i,end:r}=t,a=fm(r,-1),o=n.getYear(i),l=n.getMonth(i),c=n.getYear(a),u=n.getMonth(a);return!(o===c&&l===u)&&(e.valueOf()===i.valueOf()||n.getDay(e)===1&&e.valueOf()<r.valueOf())}function Tce(e){return e.eventRange.instance.instanceId+":"+e.firstCol}function Mce(e){return Tce(e)+":"+e.lastCol}function M9e(e,t,n,i,r,a,o){let l=new k9e(w=>{let R=e[w.index].eventRange.instance.instanceId+":"+w.span.start+":"+(w.span.end-1);return r[R]||1});l.allowReslicing=!0,l.strictOrder=i,t===!0||n===!0?(l.maxCoord=a,l.hiddenConsumes=!0):typeof t=="number"?l.maxStackCnt=t:typeof n=="number"&&(l.maxStackCnt=n,l.hiddenConsumes=!0);let c=[],u=[];for(let w=0;w<e.length;w+=1){let R=e[w],E=Mce(R);r[E]!=null?c.push({index:w,span:{start:R.firstCol,end:R.lastCol+1}}):u.push(R)}let d=l.addSegs(c),h=l.toRects(),{singleColPlacements:m,multiColPlacements:p,leftoverMargins:v}=I9e(h,e,o),S=[],b=[];for(let w of u){p[w.firstCol].push({seg:w,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let R=w.firstCol;R<=w.lastCol;R+=1)m[R].push({seg:z0(w,R,R+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let w=0;w<o.length;w+=1)S.push(0);for(let w of d){let R=e[w.index],E=w.span;p[E.start].push({seg:z0(R,E.start,E.end,o),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let _=E.start;_<E.end;_+=1)S[_]+=1,m[_].push({seg:z0(R,_,_+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let w=0;w<o.length;w+=1)b.push(v[w]);return{singleColPlacements:m,multiColPlacements:p,moreCnts:S,moreMarginTops:b}}function I9e(e,t,n){let i=P9e(e,n.length),r=[],a=[],o=[];for(let l=0;l<n.length;l+=1){let c=i[l],u=[],d=0,h=0;for(let p of c){let v=t[p.index];u.push({seg:z0(v,l,l+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:p.levelCoord,marginTop:p.levelCoord-d}),d=p.levelCoord+p.thickness}let m=[];d=0,h=0;for(let p of c){let v=t[p.index],S=p.span.end-p.span.start>1,b=p.span.start===l;h+=p.levelCoord-d,d=p.levelCoord+p.thickness,S?(h+=p.thickness,b&&m.push({seg:z0(v,p.span.start,p.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:p.levelCoord,marginTop:0})):b&&(m.push({seg:z0(v,p.span.start,p.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:p.levelCoord,marginTop:h}),h=0)}r.push(u),a.push(m),o.push(h)}return{singleColPlacements:r,multiColPlacements:a,leftoverMargins:o}}function P9e(e,t){let n=[];for(let i=0;i<t;i+=1)n.push([]);for(let i of e)for(let r=i.span.start;r<i.span.end;r+=1)n[r].push(i);return n}function z0(e,t,n,i){if(e.firstCol===t&&e.lastCol===n-1)return e;let r=e.eventRange,a=r.range,o=hm(a,{start:i[t].date,end:Ma(i[n-1].date,1)});return Object.assign(Object.assign({},e),{firstCol:t,lastCol:n-1,eventRange:{def:r.def,ui:Object.assign(Object.assign({},r.ui),{durationEditable:!1}),instance:r.instance,range:o},isStart:e.isStart&&o.start.valueOf()===a.start.valueOf(),isEnd:e.isEnd&&o.end.valueOf()===a.end.valueOf()})}class k9e extends tce{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(t){const n=super.addSegs(t),{entriesByLevel:i}=this,r=a=>!this.forceHidden[cg(a)];for(let a=0;a<i.length;a+=1)i[a]=i[a].filter(r);return n}handleInvalidInsertion(t,n,i){const{entriesByLevel:r,forceHidden:a}=this,{touchingEntry:o,touchingLevel:l,touchingLateral:c}=t;if(this.hiddenConsumes&&o){const u=cg(o);if(!a[u])if(this.allowReslicing){const d=Object.assign(Object.assign({},o),{span:M8(o.span,n.span)}),h=cg(d);a[h]=!0,r[l][c]=d,i.push(d),this.splitEntry(o,n,i)}else a[u]=!0,i.push(o)}super.handleInvalidInsertion(t,n,i)}}class Ice extends Wu{constructor(){super(...arguments),this.cellElRefs=new eh,this.frameElRefs=new eh,this.fgElRefs=new eh,this.segHarnessRefs=new eh,this.rootElRef=Ao(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=t=>{t&&this.updateSizing(!0)}}render(){let{props:t,state:n,context:i}=this,{options:r}=i,a=t.cells.length,o=GE(t.businessHourSegs,a),l=GE(t.bgEventSegs,a),c=GE(this.getHighlightSegs(),a),u=GE(this.getMirrorSegs(),a),{singleColPlacements:d,multiColPlacements:h,moreCnts:m,moreMarginTops:p}=M9e(O8(t.fgEventSegs,r.eventOrder),t.dayMaxEvents,t.dayMaxEventRows,r.eventOrderStrict,n.segHeights,n.maxContentHeight,t.cells),v=t.eventDrag&&t.eventDrag.affectedInstances||t.eventResize&&t.eventResize.affectedInstances||{};return Ce("tr",{ref:this.rootElRef,role:"row"},t.renderIntro&&t.renderIntro(),t.cells.map((S,b)=>{let w=this.renderFgSegs(b,t.forPrint?d[b]:h[b],t.todayRange,v),R=this.renderFgSegs(b,$9e(u[b],h),t.todayRange,{},!!t.eventDrag,!!t.eventResize,!1);return Ce(C9e,{key:S.key,elRef:this.cellElRefs.createRef(S.key),innerElRef:this.frameElRefs.createRef(S.key),dateProfile:t.dateProfile,date:S.date,showDayNumber:t.showDayNumbers,showWeekNumber:t.showWeekNumbers&&b===0,forceDayTop:t.showWeekNumbers,todayRange:t.todayRange,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,extraRenderProps:S.extraRenderProps,extraDataAttrs:S.extraDataAttrs,extraClassNames:S.extraClassNames,extraDateSpan:S.extraDateSpan,moreCnt:m[b],moreMarginTop:p[b],singlePlacements:d[b],fgContentElRef:this.fgElRefs.createRef(S.key),fgContent:Ce(sr,null,Ce(sr,null,w),Ce(sr,null,R)),bgContent:Ce(sr,null,this.renderFillSegs(c[b],"highlight"),this.renderFillSegs(o[b],"non-business"),this.renderFillSegs(l[b],"bg-event")),minHeight:t.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(t,n){let i=this.props;this.updateSizing(!Bu(t,i))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:t}=this;return t.eventDrag&&t.eventDrag.segs.length?t.eventDrag.segs:t.eventResize&&t.eventResize.segs.length?t.eventResize.segs:t.dateSelectionSegs}getMirrorSegs(){let{props:t}=this;return t.eventResize&&t.eventResize.segs.length?t.eventResize.segs:[]}renderFgSegs(t,n,i,r,a,o,l){let{context:c}=this,{eventSelection:u}=this.props,{framePositions:d}=this.state,h=this.props.cells.length===1,m=a||o||l,p=[];if(d)for(let v of n){let{seg:S}=v,{instanceId:b}=S.eventRange.instance,w=v.isVisible&&!r[b],R=v.isAbsolute,E="",_="";R&&(c.isRtl?(_=0,E=d.lefts[S.lastCol]-d.lefts[S.firstCol]):(E=0,_=d.rights[S.firstCol]-d.rights[S.lastCol])),p.push(Ce("div",{className:"fc-daygrid-event-harness"+(R?" fc-daygrid-event-harness-abs":""),key:Tce(S),ref:m?null:this.segHarnessRefs.createRef(Mce(S)),style:{visibility:w?"":"hidden",marginTop:R?"":v.marginTop,top:R?v.absoluteTop:"",left:E,right:_}},Dce(S)?Ce(Lce,Object.assign({seg:S,isDragging:a,isSelected:b===u,defaultDisplayEventEnd:h},sh(S,i))):Ce(Cce,Object.assign({seg:S,isDragging:a,isResizing:o,isDateSelecting:l,isSelected:b===u,defaultDisplayEventEnd:h},sh(S,i)))))}return p}renderFillSegs(t,n){let{isRtl:i}=this.context,{todayRange:r}=this.props,{framePositions:a}=this.state,o=[];if(a)for(let l of t){let c=i?{right:0,left:a.lefts[l.lastCol]-a.lefts[l.firstCol]}:{left:0,right:a.rights[l.firstCol]-a.rights[l.lastCol]};o.push(Ce("div",{key:Wle(l.eventRange),className:"fc-daygrid-bg-harness",style:c},n==="bg-event"?Ce(pce,Object.assign({seg:l},sh(l,r))):mce(n)))}return Ce(sr,{},...o)}updateSizing(t){let{props:n,state:i,frameElRefs:r}=this;if(!n.forPrint&&n.clientWidth!==null){if(t){let c=n.cells.map(u=>r.currentMap[u.key]);if(c.length){let u=this.rootElRef.current,d=new N1(u,c,!0,!1);(!i.framePositions||!i.framePositions.similarTo(d))&&this.setState({framePositions:new N1(u,c,!0,!1)})}}const a=this.state.segHeights,o=this.querySegHeights(),l=n.dayMaxEvents===!0||n.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},a),o),maxContentHeight:l?this.computeMaxContentHeight():null})}}querySegHeights(){let t=this.segHarnessRefs.currentMap,n={};for(let i in t){let r=Math.round(t[i].getBoundingClientRect().height);n[i]=Math.max(n[i]||0,r)}return n}computeMaxContentHeight(){let t=this.props.cells[0].key,n=this.cellElRefs.currentMap[t],i=this.fgElRefs.currentMap[t];return n.getBoundingClientRect().bottom-i.getBoundingClientRect().top}getCellEls(){let t=this.cellElRefs.currentMap;return this.props.cells.map(n=>t[n.key])}}Ice.addStateEquality({segHeights:Bu});function $9e(e,t){if(!e.length)return[];let n=F9e(t);return e.map(i=>({seg:i,isVisible:!0,isAbsolute:!0,absoluteTop:n[i.eventRange.instance.instanceId],marginTop:0}))}function F9e(e){let t={};for(let n of e)for(let i of n)t[i.seg.eventRange.instance.instanceId]=i.absoluteTop;return t}class B9e extends Wu{constructor(){super(...arguments),this.splitBusinessHourSegs=An(aA),this.splitBgEventSegs=An(z9e),this.splitFgEventSegs=An(aA),this.splitDateSelectionSegs=An(aA),this.splitEventDrag=An(jG),this.splitEventResize=An(jG),this.rowRefs=new eh}render(){let{props:t,context:n}=this,i=t.cells.length,r=this.splitBusinessHourSegs(t.businessHourSegs,i),a=this.splitBgEventSegs(t.bgEventSegs,i),o=this.splitFgEventSegs(t.fgEventSegs,i),l=this.splitDateSelectionSegs(t.dateSelectionSegs,i),c=this.splitEventDrag(t.eventDrag,i),u=this.splitEventResize(t.eventResize,i),d=i>=7&&t.clientWidth?t.clientWidth/n.options.aspectRatio/6:null;return Ce(ev,{unit:"day"},(h,m)=>Ce(sr,null,t.cells.map((p,v)=>Ce(Ice,{ref:this.rowRefs.createRef(v),key:p.length?p[0].date.toISOString():v,showDayNumbers:i>1,showWeekNumbers:t.showWeekNumbers,todayRange:m,dateProfile:t.dateProfile,cells:p,renderIntro:t.renderRowIntro,businessHourSegs:r[v],eventSelection:t.eventSelection,bgEventSegs:a[v],fgEventSegs:o[v],dateSelectionSegs:l[v],eventDrag:c[v],eventResize:u[v],dayMaxEvents:t.dayMaxEvents,dayMaxEventRows:t.dayMaxEventRows,clientWidth:t.clientWidth,clientHeight:t.clientHeight,cellMinHeight:d,forPrint:t.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const t=this.rowRefs.currentMap[0].getCellEls()[0],n=t?t.closest(".fc-daygrid-body"):null;n&&(this.rootEl=n,this.context.registerInteractiveComponent(this,{el:n,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new N1(this.rootEl,this.rowRefs.collect().map(t=>t.getCellEls()[0]),!1,!0),this.colPositions=new N1(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(t,n){let{colPositions:i,rowPositions:r}=this,a=i.leftToIndex(t),o=r.topToIndex(n);if(o!=null&&a!=null){let l=this.props.cells[o][a];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(o,a),allDay:!0},l.extraDateSpan),dayEl:this.getCellEl(o,a),rect:{left:i.lefts[a],right:i.rights[a],top:r.tops[o],bottom:r.bottoms[o]},layer:0}}return null}getCellEl(t,n){return this.rowRefs.currentMap[t].getCellEls()[n]}getCellRange(t,n){let i=this.props.cells[t][n].date,r=Ma(i,1);return{start:i,end:r}}}function z9e(e,t){return aA(e.filter(U9e),t)}function U9e(e){return e.eventRange.def.allDay}class V9e extends Wu{constructor(){super(...arguments),this.elRef=Ao(),this.needsScrollReset=!1}render(){let{props:t}=this,{dayMaxEventRows:n,dayMaxEvents:i,expandRows:r}=t,a=i===!0||n===!0;a&&!r&&(a=!1,n=null,i=null);let o=["fc-daygrid-body",a?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",r?"":"fc-daygrid-body-natural"];return Ce("div",{ref:this.elRef,className:o.join(" "),style:{width:t.clientWidth,minWidth:t.tableMinWidth}},Ce("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:t.clientWidth,minWidth:t.tableMinWidth,height:r?t.clientHeight:""}},t.colGroupNode,Ce("tbody",{role:"presentation"},Ce(B9e,{dateProfile:t.dateProfile,cells:t.cells,renderRowIntro:t.renderRowIntro,showWeekNumbers:t.showWeekNumbers,clientWidth:t.clientWidth,clientHeight:t.clientHeight,businessHourSegs:t.businessHourSegs,bgEventSegs:t.bgEventSegs,fgEventSegs:t.fgEventSegs,dateSelectionSegs:t.dateSelectionSegs,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,dayMaxEvents:i,dayMaxEventRows:n,forPrint:t.forPrint,isHitComboAllowed:t.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(t){t.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const t=K9e(this.elRef.current,this.props.dateProfile);if(t){const n=t.closest(".fc-daygrid-body"),i=n.closest(".fc-scroller"),r=t.getBoundingClientRect().top-n.getBoundingClientRect().top;i.scrollTop=r?r+1:0}this.needsScrollReset=!1}}}function K9e(e,t){let n;return t.currentRangeUnit.match(/year|month/)&&(n=e.querySelector(`[data-date="${NPe(t.currentDate)}-01"]`)),n||(n=e.querySelector(`[data-date="${q2(t.currentDate)}"]`)),n}class G9e extends oce{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(t,n){return n.sliceRange(t)}}class Pce extends Wu{constructor(){super(...arguments),this.slicer=new G9e,this.tableRef=Ao()}render(){let{props:t,context:n}=this;return Ce(V9e,Object.assign({ref:this.tableRef},this.slicer.sliceProps(t,t.dateProfile,t.nextDayThreshold,n,t.dayTableModel),{dateProfile:t.dateProfile,cells:t.dayTableModel.cells,colGroupNode:t.colGroupNode,tableMinWidth:t.tableMinWidth,renderRowIntro:t.renderRowIntro,dayMaxEvents:t.dayMaxEvents,dayMaxEventRows:t.dayMaxEventRows,showWeekNumbers:t.showWeekNumbers,expandRows:t.expandRows,headerAlignElRef:t.headerAlignElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:t.forPrint}))}}class H9e extends R9e{constructor(){super(...arguments),this.buildDayTableModel=An(q9e),this.headerRef=Ao(),this.tableRef=Ao()}render(){let{options:t,dateProfileGenerator:n}=this.context,{props:i}=this,r=this.buildDayTableModel(i.dateProfile,n),a=t.dayHeaders&&Ce(rce,{ref:this.headerRef,dateProfile:i.dateProfile,dates:r.headerDates,datesRepDistinctDays:r.rowCnt===1}),o=l=>Ce(Pce,{ref:this.tableRef,dateProfile:i.dateProfile,dayTableModel:r,businessHours:i.businessHours,dateSelection:i.dateSelection,eventStore:i.eventStore,eventUiBases:i.eventUiBases,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,nextDayThreshold:t.nextDayThreshold,colGroupNode:l.tableColGroupNode,tableMinWidth:l.tableMinWidth,dayMaxEvents:t.dayMaxEvents,dayMaxEventRows:t.dayMaxEventRows,showWeekNumbers:t.weekNumbers,expandRows:!i.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:l.clientWidth,clientHeight:l.clientHeight,forPrint:i.forPrint});return t.dayMinWidth?this.renderHScrollLayout(a,o,r.colCnt,t.dayMinWidth):this.renderSimpleLayout(a,o)}}function q9e(e,t){let n=new ace(e.renderRange,t);return new sce(n,/year|month|week/.test(e.currentRangeUnit))}class W9e extends Ple{buildRenderRange(t,n,i){let r=super.buildRenderRange(t,n,i),{props:a}=this;return Y9e({currentRange:r,snapToWeek:/^(year|month)$/.test(n),fixedWeekCount:a.fixedWeekCount,dateEnv:a.dateEnv})}}function Y9e(e){let{dateEnv:t,currentRange:n}=e,{start:i,end:r}=n,a;if(e.snapToWeek&&(i=t.startOfWeek(i),a=t.startOfWeek(r),a.valueOf()!==r.valueOf()&&(r=rG(a,1))),e.fixedWeekCount){let o=t.startOfWeek(t.startOfMonth(Ma(n.end,-1))),l=Math.ceil(yPe(o,r));r=rG(r,6-l)}return{start:i,end:r}}var J9e=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';DO(J9e);var kce=Zd({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:H9e,dateProfileGeneratorClass:W9e},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});class Q9e extends dke{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(t){return t.allDay?["allDay"]:["timed"]}getKeysForEventDef(t){return t.allDay?z8e(t)?["timed","allDay"]:["allDay"]:["timed"]}}const X9e=jr({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function $ce(e){let t=["fc-timegrid-slot","fc-timegrid-slot-label",e.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return Ce(Ah.Consumer,null,n=>{if(!e.isLabeled)return Ce("td",{className:t.join(" "),"data-time":e.isoTimeStr});let{dateEnv:i,options:r,viewApi:a}=n,o=r.slotLabelFormat==null?X9e:Array.isArray(r.slotLabelFormat)?jr(r.slotLabelFormat[0]):jr(r.slotLabelFormat),l={level:0,time:e.time,date:i.toDate(e.date),view:a,text:i.format(e.date,o)};return Ce(io,{elTag:"td",elClasses:t,elAttrs:{"data-time":e.isoTimeStr},renderProps:l,generatorName:"slotLabelContent",customGenerator:r.slotLabelContent,defaultGenerator:Z9e,classNameGenerator:r.slotLabelClassNames,didMount:r.slotLabelDidMount,willUnmount:r.slotLabelWillUnmount},c=>Ce("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},Ce(c,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function Z9e(e){return e.text}class e$e extends Ti{render(){return this.props.slatMetas.map(t=>Ce("tr",{key:t.key},Ce($ce,Object.assign({},t))))}}const t$e=jr({week:"short"}),n$e=5;class i$e extends Wu{constructor(){super(...arguments),this.allDaySplitter=new Q9e,this.headerElRef=Ao(),this.rootElRef=Ao(),this.scrollerElRef=Ao(),this.state={slatCoords:null},this.handleScrollTopRequest=t=>{let n=this.scrollerElRef.current;n&&(n.scrollTop=t)},this.renderHeadAxis=(t,n="")=>{let{options:i}=this.context,{dateProfile:r}=this.props,a=r.renderRange,l=jm(a.start,a.end)===1?R1(this.context,a.start,"week"):{};return i.weekNumbers&&t==="day"?Ce(yce,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:a.start,defaultFormat:t$e},c=>Ce("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:n}},Ce(c,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:l}))):Ce("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},Ce("div",{className:"fc-timegrid-axis-frame",style:{height:n}}))},this.renderTableRowAxis=t=>{let{options:n,viewApi:i}=this.context,r={text:n.allDayText,view:i};return Ce(io,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:r,generatorName:"allDayContent",customGenerator:n.allDayContent,defaultGenerator:r$e,classNameGenerator:n.allDayClassNames,didMount:n.allDayDidMount,willUnmount:n.allDayWillUnmount},a=>Ce("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",t==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:t}},Ce(a,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=t=>{this.setState({slatCoords:t})}}renderSimpleLayout(t,n,i){let{context:r,props:a}=this,o=[],l=SR(r.options);return t&&o.push({type:"header",key:"header",isSticky:l,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}}),n&&(o.push({type:"body",key:"all-day",chunk:{content:n}}),o.push({type:"body",key:"all-day-divider",outerContent:Ce("tr",{role:"presentation",className:"fc-scrollgrid-section"},Ce("td",{className:"fc-timegrid-divider "+r.theme.getClass("tableCellShaded")}))})),o.push({type:"body",key:"body",liquid:!0,expandRows:!!r.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:i}}),Ce(Tx,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:r.viewSpec},Ce(P8,{liquid:!a.isHeightAuto&&!a.forPrint,collapsibleWidth:a.forPrint,cols:[{width:"shrink"}],sections:o}))}renderHScrollLayout(t,n,i,r,a,o,l){let c=this.context.pluginHooks.scrollGridImpl;if(!c)throw new Error("No ScrollGrid implementation");let{context:u,props:d}=this,h=!d.forPrint&&SR(u.options),m=!d.forPrint&&hce(u.options),p=[];t&&p.push({type:"header",key:"header",isSticky:h,syncRowHeights:!0,chunks:[{key:"axis",rowContent:S=>Ce("tr",{role:"presentation"},this.renderHeadAxis("day",S.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}]}),n&&(p.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:S=>Ce("tr",{role:"presentation"},this.renderTableRowAxis(S.rowSyncHeights[0]))},{key:"cols",content:n}]}),p.push({key:"all-day-divider",type:"body",outerContent:Ce("tr",{role:"presentation",className:"fc-scrollgrid-section"},Ce("td",{colSpan:2,className:"fc-timegrid-divider "+u.theme.getClass("tableCellShaded")}))}));let v=u.options.nowIndicator;return p.push({type:"body",key:"body",liquid:!0,expandRows:!!u.options.expandRows,chunks:[{key:"axis",content:S=>Ce("div",{className:"fc-timegrid-axis-chunk"},Ce("table",{"aria-hidden":!0,style:{height:S.expandRows?S.clientHeight:""}},S.tableColGroupNode,Ce("tbody",null,Ce(e$e,{slatMetas:o}))),Ce("div",{className:"fc-timegrid-now-indicator-container"},Ce(ev,{unit:v?"minute":"day"},b=>{let w=v&&l&&l.safeComputeTop(b);return typeof w=="number"?Ce($8,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:w},isAxis:!0,date:b}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:i}]}),m&&p.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:P6},{key:"cols",content:P6}]}),Ce(Tx,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:u.viewSpec},Ce(c,{liquid:!d.isHeightAuto&&!d.forPrint,forPrint:d.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:r,minWidth:a}]}],sections:p}))}getAllDayMaxEventProps(){let{dayMaxEvents:t,dayMaxEventRows:n}=this.context.options;return(t===!0||n===!0)&&(t=void 0,n=n$e),{dayMaxEvents:t,dayMaxEventRows:n}}}function r$e(e){return e.text}class a$e{constructor(t,n,i){this.positions=t,this.dateProfile=n,this.slotDuration=i}safeComputeTop(t){let{dateProfile:n}=this;if(ah(n.currentRange,t)){let i=hr(t),r=t.valueOf()-i.valueOf();if(r>=Ru(n.slotMinTime)&&r<Ru(n.slotMaxTime))return this.computeTimeTop(mi(r))}return null}computeDateTop(t,n){return n||(n=hr(t)),this.computeTimeTop(mi(t.valueOf()-n.valueOf()))}computeTimeTop(t){let{positions:n,dateProfile:i}=this,r=n.els.length,a=(t.milliseconds-Ru(i.slotMinTime))/Ru(this.slotDuration),o,l;return a=Math.max(0,a),a=Math.min(r,a),o=Math.floor(a),o=Math.min(o,r-1),l=a-o,n.tops[o]+n.getHeight(o)*l}}class s$e extends Ti{render(){let{props:t,context:n}=this,{options:i}=n,{slatElRefs:r}=t;return Ce("tbody",null,t.slatMetas.map((a,o)=>{let l={time:a.time,date:n.dateEnv.toDate(a.date),view:n.viewApi};return Ce("tr",{key:a.key,ref:r.createRef(a.key)},t.axis&&Ce($ce,Object.assign({},a)),Ce(io,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!a.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":a.isoTimeStr},renderProps:l,generatorName:"slotLaneContent",customGenerator:i.slotLaneContent,classNameGenerator:i.slotLaneClassNames,didMount:i.slotLaneDidMount,willUnmount:i.slotLaneWillUnmount}))}))}}class o$e extends Ti{constructor(){super(...arguments),this.rootElRef=Ao(),this.slatElRefs=new eh}render(){let{props:t,context:n}=this;return Ce("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},Ce("table",{"aria-hidden":!0,className:n.theme.getClass("table"),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:t.minHeight}},t.tableColGroupNode,Ce(s$e,{slatElRefs:this.slatElRefs,axis:t.axis,slatMetas:t.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:t,props:n}=this;n.onCoords&&n.clientWidth!==null&&this.rootElRef.current.offsetHeight&&n.onCoords(new a$e(new N1(this.rootElRef.current,l$e(this.slatElRefs.currentMap,n.slatMetas),!1,!0),this.props.dateProfile,t.options.slotDuration))}}function l$e(e,t){return t.map(n=>e[n.key])}function sb(e,t){let n=[],i;for(i=0;i<t;i+=1)n.push([]);if(e)for(i=0;i<e.length;i+=1)n[e[i].col].push(e[i]);return n}function DG(e,t){let n=[];if(e){for(let i=0;i<t;i+=1)n[i]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(let i of e.segs)n[i.col].segs.push(i)}else for(let i=0;i<t;i+=1)n[i]=null;return n}class c$e extends Ti{render(){let{props:t}=this;return Ce(gce,{elClasses:["fc-timegrid-more-link"],elStyle:{top:t.top,bottom:t.bottom},allDayDate:null,moreCnt:t.hiddenSegs.length,allSegs:t.hiddenSegs,hiddenSegs:t.hiddenSegs,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,todayRange:t.todayRange,popoverContent:()=>Bce(t.hiddenSegs,t),defaultGenerator:u$e,forceTimed:!0},n=>Ce(n,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function u$e(e){return e.shortText}function d$e(e,t,n){let i=new tce;t!=null&&(i.strictOrder=t),n!=null&&(i.maxStackCnt=n);let r=i.addSegs(e),a=_ke(r),o=f$e(i);return o=y$e(o,1),{segRects:g$e(o),hiddenGroups:a}}function f$e(e){const{entriesByLevel:t}=e,n=U8((i,r)=>i+":"+r,(i,r)=>{let a=m$e(e,i,r),o=CG(a,n),l=t[i][r];return[Object.assign(Object.assign({},l),{nextLevelNodes:o[0]}),l.thickness+o[1]]});return CG(t.length?{level:0,lateralStart:0,lateralEnd:t[0].length}:null,n)[0]}function CG(e,t){if(!e)return[[],0];let{level:n,lateralStart:i,lateralEnd:r}=e,a=i,o=[];for(;a<r;)o.push(t(n,a)),a+=1;return o.sort(h$e),[o.map(p$e),o[0][1]]}function h$e(e,t){return t[1]-e[1]}function p$e(e){return e[0]}function m$e(e,t,n){let{levelCoords:i,entriesByLevel:r}=e,a=r[t][n],o=i[t]+a.thickness,l=i.length,c=t;for(;c<l&&i[c]<o;c+=1);for(;c<l;c+=1){let u=r[c],d,h=I6(u,a.span.start,M6),m=h[0]+h[1],p=m;for(;(d=u[p])&&d.span.start<a.span.end;)p+=1;if(m<p)return{level:c,lateralStart:m,lateralEnd:p}}return null}function y$e(e,t){const n=U8((i,r,a)=>cg(i),(i,r,a)=>{let{nextLevelNodes:o,thickness:l}=i,c=l+a,u=l/c,d,h=[];if(!o.length)d=t;else for(let p of o)if(d===void 0){let v=n(p,r,c);d=v[0],h.push(v[1])}else{let v=n(p,d,0);h.push(v[1])}let m=(d-r)*u;return[d-m,Object.assign(Object.assign({},i),{thickness:m,nextLevelNodes:h})]});return e.map(i=>n(i,0,0)[1])}function g$e(e){let t=[];const n=U8((r,a,o)=>cg(r),(r,a,o)=>{let l=Object.assign(Object.assign({},r),{levelCoord:a,stackDepth:o,stackForward:0});return t.push(l),l.stackForward=i(r.nextLevelNodes,a+r.thickness,o+1)+1});function i(r,a,o){let l=0;for(let c of r)l=Math.max(n(c,a,o),l);return l}return i(e,0,0),t}function U8(e,t){const n={};return(...i)=>{let r=e(...i);return r in n?n[r]:n[r]=t(...i)}}function LG(e,t,n=null,i=0){let r=[];if(n)for(let a=0;a<e.length;a+=1){let o=e[a],l=n.computeDateTop(o.start,t),c=Math.max(l+(i||0),n.computeDateTop(o.end,t));r.push({start:Math.round(l),end:Math.round(c)})}return r}function v$e(e,t,n,i){let r=[],a=[];for(let u=0;u<e.length;u+=1){let d=t[u];d?r.push({index:u,thickness:1,span:d}):a.push(e[u])}let{segRects:o,hiddenGroups:l}=d$e(r,n,i),c=[];for(let u of o)c.push({seg:e[u.index],rect:u});for(let u of a)c.push({seg:u,rect:null});return{segPlacements:c,hiddenGroups:l}}const S$e=jr({hour:"numeric",minute:"2-digit",meridiem:!1});class Fce extends Ti{render(){return Ce(k8,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:S$e}))}}class b$e extends Ti{constructor(){super(...arguments),this.sortEventSegs=An(O8)}render(){let{props:t,context:n}=this,{options:i}=n,r=i.selectMirror,a=t.eventDrag&&t.eventDrag.segs||t.eventResize&&t.eventResize.segs||r&&t.dateSelectionSegs||[],o=t.eventDrag&&t.eventDrag.affectedInstances||t.eventResize&&t.eventResize.affectedInstances||{},l=this.sortEventSegs(t.fgEventSegs,i.eventOrder);return Ce(F8,{elTag:"td",elRef:t.elRef,elClasses:["fc-timegrid-col",...t.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},t.extraDataAttrs),date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,extraRenderProps:t.extraRenderProps},c=>Ce("div",{className:"fc-timegrid-col-frame"},Ce("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(t.businessHourSegs,"non-business"),this.renderFillSegs(t.bgEventSegs,"bg-event"),this.renderFillSegs(t.dateSelectionSegs,"highlight")),Ce("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(l,o,!1,!1,!1)),Ce("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(a,{},!!t.eventDrag,!!t.eventResize,!!r,"mirror")),Ce("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(t.nowIndicatorSegs)),B8(i)&&Ce(c,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(t,n,i,r,a,o){let{props:l}=this;return l.forPrint?Bce(t,l):this.renderPositionedFgSegs(t,n,i,r,a,o)}renderPositionedFgSegs(t,n,i,r,a,o){let{eventMaxStack:l,eventShortHeight:c,eventOrderStrict:u,eventMinHeight:d}=this.context.options,{date:h,slatCoords:m,eventSelection:p,todayRange:v,nowDate:S}=this.props,b=i||r||a,w=LG(t,h,m,d),{segPlacements:R,hiddenGroups:E}=v$e(t,w,u,l);return Ce(sr,null,this.renderHiddenGroups(E,t),R.map(_=>{let{seg:N,rect:O}=_,j=N.eventRange.instance.instanceId,D=b||!!(!n[j]&&O),P=_C(O&&O.span),B=!b&&O?this.computeSegHStyle(O):{left:0,right:0},M=!!O&&O.stackForward>0,z=!!O&&O.span.end-O.span.start<c;return Ce("div",{className:"fc-timegrid-event-harness"+(M?" fc-timegrid-event-harness-inset":""),key:o||j,style:Object.assign(Object.assign({visibility:D?"":"hidden"},P),B)},Ce(Fce,Object.assign({seg:N,isDragging:i,isResizing:r,isDateSelecting:a,isSelected:j===p,isShort:z},sh(N,v,S))))}))}renderHiddenGroups(t,n){let{extraDateSpan:i,dateProfile:r,todayRange:a,nowDate:o,eventSelection:l,eventDrag:c,eventResize:u}=this.props;return Ce(sr,null,t.map(d=>{let h=_C(d.span),m=x$e(d.entries,n);return Ce(c$e,{key:Ole(vce(m)),hiddenSegs:m,top:h.top,bottom:h.bottom,extraDateSpan:i,dateProfile:r,todayRange:a,nowDate:o,eventSelection:l,eventDrag:c,eventResize:u})}))}renderFillSegs(t,n){let{props:i,context:r}=this,o=LG(t,i.date,i.slatCoords,r.options.eventMinHeight).map((l,c)=>{let u=t[c];return Ce("div",{key:Wle(u.eventRange),className:"fc-timegrid-bg-harness",style:_C(l)},n==="bg-event"?Ce(pce,Object.assign({seg:u},sh(u,i.todayRange,i.nowDate))):mce(n))});return Ce(sr,null,o)}renderNowIndicator(t){let{slatCoords:n,date:i}=this.props;return n?t.map((r,a)=>Ce($8,{key:a,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:n.computeDateTop(r.start,i)},isAxis:!1,date:i})):null}computeSegHStyle(t){let{isRtl:n,options:i}=this.context,r=i.slotEventOverlap,a=t.levelCoord,o=t.levelCoord+t.thickness,l,c;r&&(o=Math.min(1,a+(o-a)*2)),n?(l=1-o,c=a):(l=a,c=1-o);let u={zIndex:t.stackDepth+1,left:l*100+"%",right:c*100+"%"};return r&&!t.stackForward&&(u[n?"marginLeft":"marginRight"]=20),u}}function Bce(e,{todayRange:t,nowDate:n,eventSelection:i,eventDrag:r,eventResize:a}){let o=(r?r.affectedInstances:null)||(a?a.affectedInstances:null)||{};return Ce(sr,null,e.map(l=>{let c=l.eventRange.instance.instanceId;return Ce("div",{key:c,style:{visibility:o[c]?"hidden":""}},Ce(Fce,Object.assign({seg:l,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:c===i,isShort:!1},sh(l,t,n))))}))}function _C(e){return e?{top:e.start,bottom:-e.end}:{top:"",bottom:""}}function x$e(e,t){return e.map(n=>t[n.index])}class w$e extends Ti{constructor(){super(...arguments),this.splitFgEventSegs=An(sb),this.splitBgEventSegs=An(sb),this.splitBusinessHourSegs=An(sb),this.splitNowIndicatorSegs=An(sb),this.splitDateSelectionSegs=An(sb),this.splitEventDrag=An(DG),this.splitEventResize=An(DG),this.rootElRef=Ao(),this.cellElRefs=new eh}render(){let{props:t,context:n}=this,i=n.options.nowIndicator&&t.slatCoords&&t.slatCoords.safeComputeTop(t.nowDate),r=t.cells.length,a=this.splitFgEventSegs(t.fgEventSegs,r),o=this.splitBgEventSegs(t.bgEventSegs,r),l=this.splitBusinessHourSegs(t.businessHourSegs,r),c=this.splitNowIndicatorSegs(t.nowIndicatorSegs,r),u=this.splitDateSelectionSegs(t.dateSelectionSegs,r),d=this.splitEventDrag(t.eventDrag,r),h=this.splitEventResize(t.eventResize,r);return Ce("div",{className:"fc-timegrid-cols",ref:this.rootElRef},Ce("table",{role:"presentation",style:{minWidth:t.tableMinWidth,width:t.clientWidth}},t.tableColGroupNode,Ce("tbody",{role:"presentation"},Ce("tr",{role:"row"},t.axis&&Ce("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},Ce("div",{className:"fc-timegrid-col-frame"},Ce("div",{className:"fc-timegrid-now-indicator-container"},typeof i=="number"&&Ce($8,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:i},isAxis:!0,date:t.nowDate})))),t.cells.map((m,p)=>Ce(b$e,{key:m.key,elRef:this.cellElRefs.createRef(m.key),dateProfile:t.dateProfile,date:m.date,nowDate:t.nowDate,todayRange:t.todayRange,extraRenderProps:m.extraRenderProps,extraDataAttrs:m.extraDataAttrs,extraClassNames:m.extraClassNames,extraDateSpan:m.extraDateSpan,fgEventSegs:a[p],bgEventSegs:o[p],businessHourSegs:l[p],nowIndicatorSegs:c[p],dateSelectionSegs:u[p],eventDrag:d[p],eventResize:h[p],slatCoords:t.slatCoords,eventSelection:t.eventSelection,forPrint:t.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:t}=this;t.onColCoords&&t.clientWidth!==null&&t.onColCoords(new N1(this.rootElRef.current,E$e(this.cellElRefs.currentMap,t.cells),!0,!1))}}function E$e(e,t){return t.map(n=>e[n.key])}class _$e extends Wu{constructor(){super(...arguments),this.processSlotOptions=An(A$e),this.state={slatCoords:null},this.handleRootEl=t=>{t?this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=t=>{let{onScrollTopRequest:n}=this.props,{slatCoords:i}=this.state;if(n&&i){if(t.time){let r=i.computeTimeTop(t.time);r=Math.ceil(r),r&&(r+=1),n(r)}return!0}return!1},this.handleColCoords=t=>{this.colCoords=t},this.handleSlatCoords=t=>{this.setState({slatCoords:t}),this.props.onSlatCoords&&this.props.onSlatCoords(t)}}render(){let{props:t,state:n}=this;return Ce("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:t.clientWidth,minWidth:t.tableMinWidth}},Ce(o$e,{axis:t.axis,dateProfile:t.dateProfile,slatMetas:t.slatMetas,clientWidth:t.clientWidth,minHeight:t.expandRows?t.clientHeight:"",tableMinWidth:t.tableMinWidth,tableColGroupNode:t.axis?t.tableColGroupNode:null,onCoords:this.handleSlatCoords}),Ce(w$e,{cells:t.cells,axis:t.axis,dateProfile:t.dateProfile,businessHourSegs:t.businessHourSegs,bgEventSegs:t.bgEventSegs,fgEventSegs:t.fgEventSegs,dateSelectionSegs:t.dateSelectionSegs,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange,nowDate:t.nowDate,nowIndicatorSegs:t.nowIndicatorSegs,clientWidth:t.clientWidth,tableMinWidth:t.tableMinWidth,tableColGroupNode:t.tableColGroupNode,slatCoords:n.slatCoords,onColCoords:this.handleColCoords,forPrint:t.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(t){this.scrollResponder.update(t.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(t,n){let{dateEnv:i,options:r}=this.context,{colCoords:a}=this,{dateProfile:o}=this.props,{slatCoords:l}=this.state,{snapDuration:c,snapsPerSlot:u}=this.processSlotOptions(this.props.slotDuration,r.snapDuration),d=a.leftToIndex(t),h=l.positions.topToIndex(n);if(d!=null&&h!=null){let m=this.props.cells[d],p=l.positions.tops[h],v=l.positions.getHeight(h),S=(n-p)/v,b=Math.floor(S*u),w=h*u+b,R=this.props.cells[d].date,E=N6(o.slotMinTime,fPe(c,w)),_=i.add(R,E),N=i.add(_,c);return{dateProfile:o,dateSpan:Object.assign({range:{start:_,end:N},allDay:!1},m.extraDateSpan),dayEl:a.els[d],rect:{left:a.lefts[d],right:a.rights[d],top:p,bottom:p+v},layer:0}}return null}}function A$e(e,t){let n=t||e,i=p8(e,n);return i===null&&(n=e,i=1),{snapDuration:n,snapsPerSlot:i}}class R$e extends oce{sliceRange(t,n){let i=[];for(let r=0;r<n.length;r+=1){let a=hm(t,n[r]);a&&i.push({start:a.start,end:a.end,isStart:a.start.valueOf()===t.start.valueOf(),isEnd:a.end.valueOf()===t.end.valueOf(),col:r})}return i}}class N$e extends Wu{constructor(){super(...arguments),this.buildDayRanges=An(O$e),this.slicer=new R$e,this.timeColsRef=Ao()}render(){let{props:t,context:n}=this,{dateProfile:i,dayTableModel:r}=t,{nowIndicator:a,nextDayThreshold:o}=n.options,l=this.buildDayRanges(r,i,n.dateEnv);return Ce(ev,{unit:a?"minute":"day"},(c,u)=>Ce(_$e,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(t,i,null,n,l),{forPrint:t.forPrint,axis:t.axis,dateProfile:i,slatMetas:t.slatMetas,slotDuration:t.slotDuration,cells:r.cells[0],tableColGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,clientWidth:t.clientWidth,clientHeight:t.clientHeight,expandRows:t.expandRows,nowDate:c,nowIndicatorSegs:a&&this.slicer.sliceNowDate(c,i,o,n,l),todayRange:u,onScrollTopRequest:t.onScrollTopRequest,onSlatCoords:t.onSlatCoords})))}}function O$e(e,t,n){let i=[];for(let r of e.headerDates)i.push({start:n.add(r,t.slotMinTime),end:n.add(r,t.slotMaxTime)});return i}const TG=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function j$e(e,t,n,i,r){let a=new Date(0),o=e,l=mi(0),c=n||D$e(i),u=[];for(;Ru(o)<Ru(t);){let d=r.add(a,o),h=p8(l,c)!==null;u.push({date:d,time:o,key:d.toISOString(),isoTimeStr:OPe(d),isLabeled:h}),o=N6(o,i),l=N6(l,i)}return u}function D$e(e){let t,n,i;for(t=TG.length-1;t>=0;t-=1)if(n=mi(TG[t]),i=p8(n,e),i!==null&&i>1)return n;return e}class C$e extends i$e{constructor(){super(...arguments),this.buildTimeColsModel=An(L$e),this.buildSlatMetas=An(j$e)}render(){let{options:t,dateEnv:n,dateProfileGenerator:i}=this.context,{props:r}=this,{dateProfile:a}=r,o=this.buildTimeColsModel(a,i),l=this.allDaySplitter.splitProps(r),c=this.buildSlatMetas(a.slotMinTime,a.slotMaxTime,t.slotLabelInterval,t.slotDuration,n),{dayMinWidth:u}=t,d=!u,h=u,m=t.dayHeaders&&Ce(rce,{dates:o.headerDates,dateProfile:a,datesRepDistinctDays:!0,renderIntro:d?this.renderHeadAxis:null}),p=t.allDaySlot!==!1&&(S=>Ce(Pce,Object.assign({},l.allDay,{dateProfile:a,dayTableModel:o,nextDayThreshold:t.nextDayThreshold,tableMinWidth:S.tableMinWidth,colGroupNode:S.tableColGroupNode,renderRowIntro:d?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:S.clientWidth,clientHeight:S.clientHeight,forPrint:r.forPrint},this.getAllDayMaxEventProps()))),v=S=>Ce(N$e,Object.assign({},l.timed,{dayTableModel:o,dateProfile:a,axis:d,slotDuration:t.slotDuration,slatMetas:c,forPrint:r.forPrint,tableColGroupNode:S.tableColGroupNode,tableMinWidth:S.tableMinWidth,clientWidth:S.clientWidth,clientHeight:S.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:S.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return h?this.renderHScrollLayout(m,p,v,o.colCnt,u,c,this.state.slatCoords):this.renderSimpleLayout(m,p,v)}}function L$e(e,t){let n=new ace(e.renderRange,t);return new sce(n,!1)}var T$e='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';DO(T$e);const M$e={allDaySlot:Boolean};var V8=Zd({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:M$e,views:{timeGrid:{component:C$e,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});class I$e extends Ti{constructor(){super(...arguments),this.state={textId:am()}}render(){let{theme:t,dateEnv:n,options:i,viewApi:r}=this.context,{cellId:a,dayDate:o,todayRange:l}=this.props,{textId:c}=this.state,u=C8(o,l),d=i.listDayFormat?n.format(o,i.listDayFormat):"",h=i.listDaySideFormat?n.format(o,i.listDaySideFormat):"",m=Object.assign({date:n.toDate(o),view:r,textId:c,text:d,sideText:h,navLinkAttrs:R1(this.context,o),sideNavLinkAttrs:R1(this.context,o,"day",!1)},u);return Ce(io,{elTag:"tr",elClasses:["fc-list-day",...IO(u,t)],elAttrs:{"data-date":q2(o)},renderProps:m,generatorName:"dayHeaderContent",customGenerator:i.dayHeaderContent,defaultGenerator:P$e,classNameGenerator:i.dayHeaderClassNames,didMount:i.dayHeaderDidMount,willUnmount:i.dayHeaderWillUnmount},p=>Ce("th",{scope:"colgroup",colSpan:3,id:a,"aria-labelledby":c},Ce(p,{elTag:"div",elClasses:["fc-list-day-cushion",t.getClass("tableCellShaded")]})))}}function P$e(e){return Ce(sr,null,e.text&&Ce("a",Object.assign({id:e.textId,className:"fc-list-day-text"},e.navLinkAttrs),e.text),e.sideText&&Ce("a",Object.assign({"aria-hidden":!0,className:"fc-list-day-side-text"},e.sideNavLinkAttrs),e.sideText))}const k$e=jr({hour:"numeric",minute:"2-digit",meridiem:"short"});class $$e extends Ti{render(){let{props:t,context:n}=this,{options:i}=n,{seg:r,timeHeaderId:a,eventHeaderId:o,dateHeaderId:l}=t,c=i.eventTimeFormat||k$e;return Ce(PO,Object.assign({},t,{elTag:"tr",elClasses:["fc-list-event",r.eventRange.def.url&&"fc-event-forced-url"],defaultGenerator:()=>F$e(r,n),seg:r,timeText:"",disableDragging:!0,disableResizing:!0}),(u,d)=>Ce(sr,null,B$e(r,c,n,a,l),Ce("td",{"aria-hidden":!0,className:"fc-list-event-graphic"},Ce("span",{className:"fc-list-event-dot",style:{borderColor:d.borderColor||d.backgroundColor}})),Ce(u,{elTag:"td",elClasses:["fc-list-event-title"],elAttrs:{headers:`${o} ${l}`}})))}}function F$e(e,t){let n=j8(e,t);return Ce("a",Object.assign({},n),e.eventRange.def.title)}function B$e(e,t,n,i,r){let{options:a}=n;if(a.displayEventTime!==!1){let o=e.eventRange.def,l=e.eventRange.instance,c=!1,u;if(o.allDay?c=!0:p8e(e.eventRange.range)?e.isStart?u=ix(e,t,n,null,null,l.range.start,e.end):e.isEnd?u=ix(e,t,n,null,null,e.start,l.range.end):c=!0:u=ix(e,t,n),c){let d={text:n.options.allDayText,view:n.viewApi};return Ce(io,{elTag:"td",elClasses:["fc-list-event-time"],elAttrs:{headers:`${i} ${r}`},renderProps:d,generatorName:"allDayContent",customGenerator:a.allDayContent,defaultGenerator:z$e,classNameGenerator:a.allDayClassNames,didMount:a.allDayDidMount,willUnmount:a.allDayWillUnmount})}return Ce("td",{className:"fc-list-event-time"},u)}return null}function z$e(e){return e.text}class U$e extends Wu{constructor(){super(...arguments),this.computeDateVars=An(K$e),this.eventStoreToSegs=An(this._eventStoreToSegs),this.state={timeHeaderId:am(),eventHeaderId:am(),dateHeaderIdRoot:am()},this.setRootEl=t=>{t?this.context.registerInteractiveComponent(this,{el:t}):this.context.unregisterInteractiveComponent(this)}}render(){let{props:t,context:n}=this,{dayDates:i,dayRanges:r}=this.computeDateVars(t.dateProfile),a=this.eventStoreToSegs(t.eventStore,t.eventUiBases,r);return Ce(Tx,{elRef:this.setRootEl,elClasses:["fc-list",n.theme.getClass("table"),n.options.stickyHeaderDates!==!1?"fc-list-sticky":""],viewSpec:n.viewSpec},Ce(dce,{liquid:!t.isHeightAuto,overflowX:t.isHeightAuto?"visible":"hidden",overflowY:t.isHeightAuto?"visible":"auto"},a.length>0?this.renderSegList(a,i):this.renderEmptyMessage()))}renderEmptyMessage(){let{options:t,viewApi:n}=this.context,i={text:t.noEventsText,view:n};return Ce(io,{elTag:"div",elClasses:["fc-list-empty"],renderProps:i,generatorName:"noEventsContent",customGenerator:t.noEventsContent,defaultGenerator:V$e,classNameGenerator:t.noEventsClassNames,didMount:t.noEventsDidMount,willUnmount:t.noEventsWillUnmount},r=>Ce(r,{elTag:"div",elClasses:["fc-list-empty-cushion"]}))}renderSegList(t,n){let{theme:i,options:r}=this.context,{timeHeaderId:a,eventHeaderId:o,dateHeaderIdRoot:l}=this.state,c=G$e(t);return Ce(ev,{unit:"day"},(u,d)=>{let h=[];for(let m=0;m<c.length;m+=1){let p=c[m];if(p){let v=q2(n[m]),S=l+"-"+v;h.push(Ce(I$e,{key:v,cellId:S,dayDate:n[m],todayRange:d})),p=O8(p,r.eventOrder);for(let b of p)h.push(Ce($$e,Object.assign({key:v+":"+b.eventRange.instance.instanceId,seg:b,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:a,eventHeaderId:o,dateHeaderId:S},sh(b,d,u))))}}return Ce("table",{className:"fc-list-table "+i.getClass("table")},Ce("thead",null,Ce("tr",null,Ce("th",{scope:"col",id:a},r.timeHint),Ce("th",{scope:"col","aria-hidden":!0}),Ce("th",{scope:"col",id:o},r.eventHint))),Ce("tbody",null,h))})}_eventStoreToSegs(t,n,i){return this.eventRangesToSegs(L6(t,n,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,i)}eventRangesToSegs(t,n){let i=[];for(let r of t)i.push(...this.eventRangeToSegs(r,n));return i}eventRangeToSegs(t,n){let{dateEnv:i}=this.context,{nextDayThreshold:r}=this.context.options,a=t.range,o=t.def.allDay,l,c,u,d=[];for(l=0;l<n.length;l+=1)if(c=hm(a,n[l]),c&&(u={component:this,eventRange:t,start:c.start,end:c.end,isStart:t.isStart&&c.start.valueOf()===a.start.valueOf(),isEnd:t.isEnd&&c.end.valueOf()===a.end.valueOf(),dayIndex:l},d.push(u),!u.isEnd&&!o&&l+1<n.length&&a.end<i.add(n[l+1].start,r))){u.end=a.end,u.isEnd=!0;break}return d}}function V$e(e){return e.text}function K$e(e){let t=hr(e.renderRange.start),n=e.renderRange.end,i=[],r=[];for(;t<n;)i.push(t),r.push({start:t,end:Ma(t,1)}),t=Ma(t,1);return{dayDates:i,dayRanges:r}}function G$e(e){let t=[],n,i;for(n=0;n<e.length;n+=1)i=e[n],(t[i.dayIndex]||(t[i.dayIndex]=[])).push(i);return t}var H$e=':root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid var(--fc-border-color)}.fc .fc-list-empty{align-items:center;background-color:var(--fc-neutral-bg-color);display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:var(--fc-page-bg-color);position:sticky;top:0}.fc .fc-list-table thead{left:-10000px;position:absolute}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:"";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:var(--fc-neutral-bg-color)}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:var(--fc-list-event-hover-bg-color)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:calc(var(--fc-list-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-list-event-dot-width)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}';DO(H$e);const q$e={listDayFormat:MG,listDaySideFormat:MG,noEventsClassNames:at,noEventsContent:at,noEventsDidMount:at,noEventsWillUnmount:at};function MG(e){return e===!1?null:jr(e)}var $6=Zd({name:"@fullcalendar/list",optionRefiners:q$e,views:{list:{component:U$e,buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}});I8.touchMouseIgnoreWait=500;let F6=0,bR=0,B6=!1;class zce{constructor(t){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=n=>{if(!this.shouldIgnoreMouse()&&W$e(n)&&this.tryStart(n)){let i=this.createEventFromMouse(n,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=n=>{let i=this.createEventFromMouse(n);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleMouseUp=n=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(n)),this.cleanup()},this.handleTouchStart=n=>{if(this.tryStart(n)){this.isTouchDragging=!0;let i=this.createEventFromTouch(n,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i);let r=n.target;this.shouldIgnoreMove||r.addEventListener("touchmove",this.handleTouchMove),r.addEventListener("touchend",this.handleTouchEnd),r.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=n=>{let i=this.createEventFromTouch(n);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleTouchEnd=n=>{if(this.isDragging){let i=n.target;i.removeEventListener("touchmove",this.handleTouchMove),i.removeEventListener("touchend",this.handleTouchEnd),i.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(n)),this.cleanup(),this.isTouchDragging=!1,Y$e()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=n=>{if(!this.shouldIgnoreMove){let i=window.scrollX-this.prevScrollX+this.prevPageX,r=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:n,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:i,pageY:r,deltaX:i-this.origPageX,deltaY:r-this.origPageY})}},this.containerEl=t,this.emitter=new MO,t.addEventListener("mousedown",this.handleMouseDown),t.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),J$e()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),Q$e()}tryStart(t){let n=this.querySubjectEl(t),i=t.target;return n&&(!this.handleSelector||Zs(i,this.handleSelector))?(this.subjectEl=n,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){B6=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(t){return this.selector?Zs(t.target,this.selector):this.containerEl}shouldIgnoreMouse(){return F6||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(B6=!0)}initScrollWatch(t){this.shouldWatchScroll&&(this.recordCoords(t),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(t){this.shouldWatchScroll&&(this.prevPageX=t.pageX,this.prevPageY=t.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(t,n){let i=0,r=0;return n?(this.origPageX=t.pageX,this.origPageY=t.pageY):(i=t.pageX-this.origPageX,r=t.pageY-this.origPageY),{origEvent:t,isTouch:!1,subjectEl:this.subjectEl,pageX:t.pageX,pageY:t.pageY,deltaX:i,deltaY:r}}createEventFromTouch(t,n){let i=t.touches,r,a,o=0,l=0;return i&&i.length?(r=i[0].pageX,a=i[0].pageY):(r=t.pageX,a=t.pageY),n?(this.origPageX=r,this.origPageY=a):(o=r-this.origPageX,l=a-this.origPageY),{origEvent:t,isTouch:!0,subjectEl:this.subjectEl,pageX:r,pageY:a,deltaX:o,deltaY:l}}}function W$e(e){return e.button===0&&!e.ctrlKey}function Y$e(){F6+=1,setTimeout(()=>{F6-=1},I8.touchMouseIgnoreWait)}function J$e(){bR+=1,bR===1&&window.addEventListener("touchmove",Uce,{passive:!1})}function Q$e(){bR-=1,bR||window.removeEventListener("touchmove",Uce,{passive:!1})}function Uce(e){B6&&e.preventDefault()}class X$e{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(t,n,i){this.sourceEl=t,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=n-window.scrollX,this.origScreenY=i-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(t,n){this.deltaX=t-window.scrollX-this.origScreenX,this.deltaY=n-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(t){t?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=t,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=t)}stop(t,n){let i=()=>{this.cleanup(),n()};t&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(i,this.revertDuration):setTimeout(i,0)}doRevertAnimation(t,n){let i=this.mirrorEl,r=this.sourceEl.getBoundingClientRect();i.style.transition="top "+n+"ms,left "+n+"ms",ex(i,{left:r.left,top:r.top}),QIe(i,()=>{i.style.transition="",t()})}cleanup(){this.mirrorEl&&(d8(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&ex(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let t=this.sourceElRect,n=this.mirrorEl;return n||(n=this.mirrorEl=this.sourceEl.cloneNode(!0),n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.pointerEvents="none",n.classList.add("fc-event-dragging"),ex(n,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:t.right-t.left,height:t.bottom-t.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(n)),n}}class Vce extends T8{constructor(t,n){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=t,this.doesListening=n,this.scrollTop=this.origScrollTop=t.getScrollTop(),this.scrollLeft=this.origScrollLeft=t.getScrollLeft(),this.scrollWidth=t.getScrollWidth(),this.scrollHeight=t.getScrollHeight(),this.clientWidth=t.getClientWidth(),this.clientHeight=t.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(t){this.scrollController.setScrollTop(t),this.doesListening||(this.scrollTop=Math.max(Math.min(t,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(t){this.scrollController.setScrollLeft(t),this.doesListening||(this.scrollLeft=Math.max(Math.min(t,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class Kce extends Vce{constructor(t,n){super(new wke(t),n)}getEventTarget(){return this.scrollController.el}computeClientRect(){return bke(this.scrollController.el)}}class Z$e extends Vce{constructor(t){super(new Eke,t)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const IG=typeof performance=="function"?performance.now:Date.now;class eFe{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let t=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(t){let n=IG();this.handleSide(t,(n-this.msSinceRequest)/1e3),this.requestAnimation(n)}else this.isAnimating=!1}}}start(t,n,i){this.isEnabled&&(this.scrollCaches=this.buildCaches(i),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(t,n))}handleMove(t,n){if(this.isEnabled){let i=t-window.scrollX,r=n-window.scrollY,a=this.pointerScreenY===null?0:r-this.pointerScreenY,o=this.pointerScreenX===null?0:i-this.pointerScreenX;a<0?this.everMovedUp=!0:a>0&&(this.everMovedDown=!0),o<0?this.everMovedLeft=!0:o>0&&(this.everMovedRight=!0),this.pointerScreenX=i,this.pointerScreenY=r,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(IG()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let t of this.scrollCaches)t.destroy();this.scrollCaches=null}}requestAnimation(t){this.msSinceRequest=t,requestAnimationFrame(this.animate)}handleSide(t,n){let{scrollCache:i}=t,{edgeThreshold:r}=this,a=r-t.distance,o=a*a/(r*r)*this.maxVelocity*n,l=1;switch(t.name){case"left":l=-1;case"right":i.setScrollLeft(i.getScrollLeft()+o*l);break;case"top":l=-1;case"bottom":i.setScrollTop(i.getScrollTop()+o*l);break}}computeBestEdge(t,n){let{edgeThreshold:i}=this,r=null,a=this.scrollCaches||[];for(let o of a){let l=o.clientRect,c=t-l.left,u=l.right-t,d=n-l.top,h=l.bottom-n;c>=0&&u>=0&&d>=0&&h>=0&&(d<=i&&this.everMovedUp&&o.canScrollUp()&&(!r||r.distance>d)&&(r={scrollCache:o,name:"top",distance:d}),h<=i&&this.everMovedDown&&o.canScrollDown()&&(!r||r.distance>h)&&(r={scrollCache:o,name:"bottom",distance:h}),c<=i&&this.everMovedLeft&&o.canScrollLeft()&&(!r||r.distance>c)&&(r={scrollCache:o,name:"left",distance:c}),u<=i&&this.everMovedRight&&o.canScrollRight()&&(!r||r.distance>u)&&(r={scrollCache:o,name:"right",distance:u}))}return r}buildCaches(t){return this.queryScrollEls(t).map(n=>n===window?new Z$e(!1):new Kce(n,!1))}queryScrollEls(t){let n=[];for(let i of this.scrollQuery)typeof i=="object"?n.push(i):n.push(...Array.prototype.slice.call(t.getRootNode().querySelectorAll(i)));return n}}class Y2 extends Rke{constructor(t,n){super(t),this.containerEl=t,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=r=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,XIe(document.body),ePe(document.body),r.isTouch||r.origEvent.preventDefault(),this.emitter.trigger("pointerdown",r),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(r.subjectEl,r.pageX,r.pageY),this.startDelay(r),this.minDistance||this.handleDistanceSurpassed(r)))},this.onPointerMove=r=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",r),!this.isDistanceSurpassed){let a=this.minDistance,o,{deltaX:l,deltaY:c}=r;o=l*l+c*c,o>=a*a&&this.handleDistanceSurpassed(r)}this.isDragging&&(r.origEvent.type!=="scroll"&&(this.mirror.handleMove(r.pageX,r.pageY),this.autoScroller.handleMove(r.pageX,r.pageY)),this.emitter.trigger("dragmove",r))}},this.onPointerUp=r=>{this.isInteracting&&(this.isInteracting=!1,ZIe(document.body),tPe(document.body),this.emitter.trigger("pointerup",r),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(r)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let i=this.pointer=new zce(t);i.emitter.on("pointerdown",this.onPointerDown),i.emitter.on("pointermove",this.onPointerMove),i.emitter.on("pointerup",this.onPointerUp),n&&(i.selector=n),this.mirror=new X$e,this.autoScroller=new eFe}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(t){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(t)},this.delay):this.handleDelayEnd(t)}handleDelayEnd(t){this.isDelayEnded=!0,this.tryStartDrag(t)}handleDistanceSurpassed(t){this.isDistanceSurpassed=!0,this.tryStartDrag(t)}tryStartDrag(t){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(t.pageX,t.pageY,this.containerEl),this.emitter.trigger("dragstart",t),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(t){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,t))}stopDrag(t){this.isDragging=!1,this.emitter.trigger("dragend",t)}setIgnoreMove(t){this.pointer.shouldIgnoreMove=t}setMirrorIsVisible(t){this.mirror.setIsVisible(t)}setMirrorNeedsRevert(t){this.mirrorNeedsRevert=t}setAutoScrollEnabled(t){this.autoScroller.isEnabled=t}}class tFe{constructor(t){this.el=t,this.origRect=L8(t),this.scrollCaches=ece(t).map(n=>new Kce(n,!0))}destroy(){for(let t of this.scrollCaches)t.destroy()}computeLeft(){let t=this.origRect.left;for(let n of this.scrollCaches)t+=n.origScrollLeft-n.getScrollLeft();return t}computeTop(){let t=this.origRect.top;for(let n of this.scrollCaches)t+=n.origScrollTop-n.getScrollTop();return t}isWithinClipping(t,n){let i={left:t,top:n};for(let r of this.scrollCaches)if(!nFe(r.getEventTarget())&&!oke(i,r.clientRect))return!1;return!0}}function nFe(e){let t=e.tagName;return t==="HTML"||t==="BODY"}class kO{constructor(t,n){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=i=>{let{dragging:r}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(i),this.initialHit||!this.requireInitial?(r.setIgnoreMove(!1),this.emitter.trigger("pointerdown",i)):r.setIgnoreMove(!0)},this.handleDragStart=i=>{this.emitter.trigger("dragstart",i),this.handleMove(i,!0)},this.handleDragMove=i=>{this.emitter.trigger("dragmove",i),this.handleMove(i)},this.handlePointerUp=i=>{this.releaseHits(),this.emitter.trigger("pointerup",i)},this.handleDragEnd=i=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,i),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",i)},this.droppableStore=n,t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragstart",this.handleDragStart),t.emitter.on("dragmove",this.handleDragMove),t.emitter.on("pointerup",this.handlePointerUp),t.emitter.on("dragend",this.handleDragEnd),this.dragging=t,this.emitter=new MO}processFirstCoord(t){let n={left:t.pageX,top:t.pageY},i=n,r=t.subjectEl,a;r instanceof HTMLElement&&(a=L8(r),i=lke(i,a));let o=this.initialHit=this.queryHitForOffset(i.left,i.top);if(o){if(this.useSubjectCenter&&a){let l=Xle(a,o.rect);l&&(i=cke(l))}this.coordAdjust=uke(i,n)}else this.coordAdjust={left:0,top:0}}handleMove(t,n){let i=this.queryHitForOffset(t.pageX+this.coordAdjust.left,t.pageY+this.coordAdjust.top);(n||!$O(this.movingHit,i))&&(this.movingHit=i,this.emitter.trigger("hitupdate",i,!1,t))}prepareHits(){this.offsetTrackers=mh(this.droppableStore,t=>(t.component.prepareHits(),new tFe(t.el)))}releaseHits(){let{offsetTrackers:t}=this;for(let n in t)t[n].destroy();this.offsetTrackers={}}queryHitForOffset(t,n){let{droppableStore:i,offsetTrackers:r}=this,a=null;for(let o in i){let l=i[o].component,c=r[o];if(c&&c.isWithinClipping(t,n)){let u=c.computeLeft(),d=c.computeTop(),h=t-u,m=n-d,{origRect:p}=c,v=p.right-p.left,S=p.bottom-p.top;if(h>=0&&h<v&&m>=0&&m<S){let b=l.queryHit(h,m,v,S);b&&LO(b.dateProfile.activeRange,b.dateSpan.range)&&(this.disablePointCheck||c.el.contains(c.el.getRootNode().elementFromPoint(h+u-window.scrollX,m+d-window.scrollY)))&&(!a||b.layer>a.layer)&&(b.componentId=o,b.context=l.context,b.rect.left+=u,b.rect.right+=u,b.rect.top+=d,b.rect.bottom+=d,a=b)}}}return a}}function $O(e,t){return!e&&!t?!0:!!e!=!!t?!1:J8e(e.dateSpan,t.dateSpan)}function Gce(e,t){let n={};for(let i of t.pluginHooks.datePointTransforms)Object.assign(n,i(e,t));return Object.assign(n,iFe(e,t.dateEnv)),n}function iFe(e,t){return{date:t.toDate(e.range.start),dateStr:t.formatIso(e.range.start,{omitTime:e.allDay}),allDay:e.allDay}}class rFe extends J1{constructor(t){super(t),this.handlePointerDown=i=>{let{dragging:r}=this,a=i.origEvent.target;r.setIgnoreMove(!this.component.isValidDateDownEl(a))},this.handleDragEnd=i=>{let{component:r}=this,{pointer:a}=this.dragging;if(!a.wasTouchScroll){let{initialHit:o,finalHit:l}=this.hitDragging;if(o&&l&&$O(o,l)){let{context:c}=r,u=Object.assign(Object.assign({},Gce(o.dateSpan,c)),{dayEl:o.dayEl,jsEvent:i.origEvent,view:c.viewApi||c.calendarApi.view});c.emitter.trigger("dateClick",u)}}},this.dragging=new Y2(t.el),this.dragging.autoScroller.isEnabled=!1;let n=this.hitDragging=new kO(this.dragging,D8(t));n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class aFe extends J1{constructor(t){super(t),this.dragSelection=null,this.handlePointerDown=o=>{let{component:l,dragging:c}=this,{options:u}=l.context,d=u.selectable&&l.isValidDateDownEl(o.origEvent.target);c.setIgnoreMove(!d),c.delay=o.isTouch?sFe(l):null},this.handleDragStart=o=>{this.component.context.calendarApi.unselect(o)},this.handleHitUpdate=(o,l)=>{let{context:c}=this.component,u=null,d=!1;if(o){let h=this.hitDragging.initialHit;o.componentId===h.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(h,o)||(u=oFe(h,o,c.pluginHooks.dateSelectionTransformers)),(!u||!Lke(u,o.dateProfile,c))&&(d=!0,u=null)}u?c.dispatch({type:"SELECT_DATES",selection:u}):l||c.dispatch({type:"UNSELECT_DATES"}),d?f8():h8(),l||(this.dragSelection=u)},this.handlePointerUp=o=>{this.dragSelection&&(Gle(this.dragSelection,o,this.component.context),this.dragSelection=null)};let{component:n}=t,{options:i}=n.context,r=this.dragging=new Y2(t.el);r.touchScrollAllowed=!1,r.minDistance=i.selectMinDistance||0,r.autoScroller.isEnabled=i.dragScroll;let a=this.hitDragging=new kO(this.dragging,D8(t));a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function sFe(e){let{options:t}=e.context,n=t.selectLongPressDelay;return n==null&&(n=t.longPressDelay),n}function oFe(e,t,n){let i=e.dateSpan,r=t.dateSpan,a=[i.range.start,i.range.end,r.range.start,r.range.end];a.sort(sPe);let o={};for(let l of n){let c=l(e,t);if(c===!1)return null;c&&Object.assign(o,c)}return o.range={start:a[0],end:a[3]},o.allDay=i.allDay,o}class J2 extends J1{constructor(t){super(t),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=o=>{let l=o.origEvent.target,{component:c,dragging:u}=this,{mirror:d}=u,{options:h}=c.context,m=c.context;this.subjectEl=o.subjectEl;let p=this.subjectSeg=A1(o.subjectEl),S=(this.eventRange=p.eventRange).instance.instanceId;this.relevantEvents=_8(m.getCurrentData().eventStore,S),u.minDistance=o.isTouch?0:h.eventDragMinDistance,u.delay=o.isTouch&&S!==c.props.eventSelection?cFe(c):null,h.fixedMirrorParent?d.parentNode=h.fixedMirrorParent:d.parentNode=Zs(l,".fc"),d.revertDuration=h.dragRevertDuration;let b=c.isValidSegDownEl(l)&&!Zs(l,".fc-event-resizer");u.setIgnoreMove(!b),this.isDragging=b&&o.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=o=>{let l=this.component.context,c=this.eventRange,u=c.instance.instanceId;o.isTouch?u!==this.component.props.eventSelection&&l.dispatch({type:"SELECT_EVENT",eventInstanceId:u}):l.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(l.calendarApi.unselect(o),l.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new Fr(l,c.def,c.instance),jsEvent:o.origEvent,view:l.viewApi}))},this.handleHitUpdate=(o,l)=>{if(!this.isDragging)return;let c=this.relevantEvents,u=this.hitDragging.initialHit,d=this.component.context,h=null,m=null,p=null,v=!1,S={affectedEvents:c,mutatedEvents:Ul(),isEvent:!0};if(o){h=o.context;let b=h.options;d===h||b.editable&&b.droppable?(m=lFe(u,o,this.eventRange.instance.range.start,h.getCurrentData().pluginHooks.eventDragMutationMassagers),m&&(p=N8(c,h.getCurrentData().eventUiBases,m,h),S.mutatedEvents=p,lce(S,o.dateProfile,h)||(v=!0,m=null,p=null,S.mutatedEvents=Ul()))):h=null}this.displayDrag(h,S),v?f8():h8(),l||(d===h&&$O(u,o)&&(m=null),this.dragging.setMirrorNeedsRevert(!m),this.dragging.setMirrorIsVisible(!o||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=h,this.validMutation=m,this.mutatedRelevantEvents=p)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=o=>{if(this.isDragging){let l=this.component.context,c=l.viewApi,{receivingContext:u,validMutation:d}=this,h=this.eventRange.def,m=this.eventRange.instance,p=new Fr(l,h,m),v=this.relevantEvents,S=this.mutatedRelevantEvents,{finalHit:b}=this.hitDragging;if(this.clearDrag(),l.emitter.trigger("eventDragStop",{el:this.subjectEl,event:p,jsEvent:o.origEvent,view:c}),d){if(u===l){let w=new Fr(l,S.defs[h.defId],m?S.instances[m.instanceId]:null);l.dispatch({type:"MERGE_EVENTS",eventStore:S});let R={oldEvent:p,event:w,relatedEvents:lg(S,l,m),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:v})}},E={};for(let _ of l.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(E,_(d,l));l.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},R),E),{el:o.subjectEl,delta:d.datesDelta,jsEvent:o.origEvent,view:c})),l.emitter.trigger("eventChange",R)}else if(u){let w={event:p,relatedEvents:lg(v,l,m),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:v})}};l.emitter.trigger("eventLeave",Object.assign(Object.assign({},w),{draggedEl:o.subjectEl,view:c})),l.dispatch({type:"REMOVE_EVENTS",eventStore:v}),l.emitter.trigger("eventRemove",w);let R=S.defs[h.defId],E=S.instances[m.instanceId],_=new Fr(u,R,E);u.dispatch({type:"MERGE_EVENTS",eventStore:S});let N={event:_,relatedEvents:lg(S,u,E),revert(){u.dispatch({type:"REMOVE_EVENTS",eventStore:S})}};u.emitter.trigger("eventAdd",N),o.isTouch&&u.dispatch({type:"SELECT_EVENT",eventInstanceId:m.instanceId}),u.emitter.trigger("drop",Object.assign(Object.assign({},Gce(b.dateSpan,u)),{draggedEl:o.subjectEl,jsEvent:o.origEvent,view:b.context.viewApi})),u.emitter.trigger("eventReceive",Object.assign(Object.assign({},N),{draggedEl:o.subjectEl,view:b.context.viewApi}))}}else l.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:n}=this,{options:i}=n.context,r=this.dragging=new Y2(t.el);r.pointer.selector=J2.SELECTOR,r.touchScrollAllowed=!1,r.autoScroller.isEnabled=i.dragScroll;let a=this.hitDragging=new kO(this.dragging,T6);a.useSubjectCenter=t.useEventCenter,a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("pointerup",this.handlePointerUp),a.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(t,n){let i=this.component.context,r=this.receivingContext;r&&r!==t&&(r===i?r.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:n.affectedEvents,mutatedEvents:Ul(),isEvent:!0}}):r.dispatch({type:"UNSET_EVENT_DRAG"})),t&&t.dispatch({type:"SET_EVENT_DRAG",state:n})}clearDrag(){let t=this.component.context,{receivingContext:n}=this;n&&n.dispatch({type:"UNSET_EVENT_DRAG"}),t!==n&&t.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}J2.SELECTOR=".fc-event-draggable, .fc-event-resizable";function lFe(e,t,n,i){let r=e.dateSpan,a=t.dateSpan,o=r.range.start,l=a.range.start,c={};r.allDay!==a.allDay&&(c.allDay=a.allDay,c.hasEnd=t.context.options.allDayMaintainDuration,a.allDay?o=hr(n):o=n);let u=b0(o,l,e.context.dateEnv,e.componentId===t.componentId?e.largeUnit:null);u.milliseconds&&(c.allDay=!1);let d={datesDelta:u,standardProps:c};for(let h of i)h(d,e,t);return d}function cFe(e){let{options:t}=e.context,n=t.eventLongPressDelay;return n==null&&(n=t.longPressDelay),n}class uFe extends J1{constructor(t){super(t),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=a=>{let{component:o}=this,l=this.querySegEl(a),c=A1(l),u=this.eventRange=c.eventRange;this.dragging.minDistance=o.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(a.origEvent.target)||a.isTouch&&this.component.props.eventSelection!==u.instance.instanceId)},this.handleDragStart=a=>{let{context:o}=this.component,l=this.eventRange;this.relevantEvents=_8(o.getCurrentData().eventStore,this.eventRange.instance.instanceId);let c=this.querySegEl(a);this.draggingSegEl=c,this.draggingSeg=A1(c),o.calendarApi.unselect(),o.emitter.trigger("eventResizeStart",{el:c,event:new Fr(o,l.def,l.instance),jsEvent:a.origEvent,view:o.viewApi})},this.handleHitUpdate=(a,o,l)=>{let{context:c}=this.component,u=this.relevantEvents,d=this.hitDragging.initialHit,h=this.eventRange.instance,m=null,p=null,v=!1,S={affectedEvents:u,mutatedEvents:Ul(),isEvent:!0};a&&(a.componentId===d.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(d,a)||(m=dFe(d,a,l.subjectEl.classList.contains("fc-event-resizer-start"),h.range))),m&&(p=N8(u,c.getCurrentData().eventUiBases,m,c),S.mutatedEvents=p,lce(S,a.dateProfile,c)||(v=!0,m=null,p=null,S.mutatedEvents=null)),p?c.dispatch({type:"SET_EVENT_RESIZE",state:S}):c.dispatch({type:"UNSET_EVENT_RESIZE"}),v?f8():h8(),o||(m&&$O(d,a)&&(m=null),this.validMutation=m,this.mutatedRelevantEvents=p)},this.handleDragEnd=a=>{let{context:o}=this.component,l=this.eventRange.def,c=this.eventRange.instance,u=new Fr(o,l,c),d=this.relevantEvents,h=this.mutatedRelevantEvents;if(o.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:u,jsEvent:a.origEvent,view:o.viewApi}),this.validMutation){let m=new Fr(o,h.defs[l.defId],c?h.instances[c.instanceId]:null);o.dispatch({type:"MERGE_EVENTS",eventStore:h});let p={oldEvent:u,event:m,relatedEvents:lg(h,o,c),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:d})}};o.emitter.trigger("eventResize",Object.assign(Object.assign({},p),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||mi(0),endDelta:this.validMutation.endDelta||mi(0),jsEvent:a.origEvent,view:o.viewApi})),o.emitter.trigger("eventChange",p)}else o.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:n}=t,i=this.dragging=new Y2(t.el);i.pointer.selector=".fc-event-resizer",i.touchScrollAllowed=!1,i.autoScroller.isEnabled=n.context.options.dragScroll;let r=this.hitDragging=new kO(this.dragging,D8(t));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(t){return Zs(t.subjectEl,".fc-event")}}function dFe(e,t,n,i){let r=e.context.dateEnv,a=e.dateSpan.range.start,o=t.dateSpan.range.start,l=b0(a,o,r,e.largeUnit);if(n){if(r.add(i.start,l)<i.end)return{startDelta:l}}else if(r.add(i.end,l)>i.start)return{endDelta:l};return null}class fFe{constructor(t){this.context=t,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=i=>{i.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=i=>{let r=this.context.options.unselectCancel,a=Ele(i.origEvent);this.matchesCancel=!!Zs(a,r),this.matchesEvent=!!Zs(a,J2.SELECTOR)},this.onDocumentPointerUp=i=>{let{context:r}=this,{documentPointer:a}=this,o=r.getCurrentData();if(!a.wasTouchScroll){if(o.dateSelection&&!this.isRecentPointerDateSelect){let l=r.options.unselectAuto;l&&(!l||!this.matchesCancel)&&r.calendarApi.unselect(i)}o.eventSelection&&!this.matchesEvent&&r.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let n=this.documentPointer=new zce(document);n.shouldIgnoreMove=!0,n.shouldWatchScroll=!1,n.emitter.on("pointerdown",this.onDocumentPointerDown),n.emitter.on("pointerup",this.onDocumentPointerUp),t.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const hFe={fixedMirrorParent:at},pFe={dateClick:at,eventDragStart:at,eventDragStop:at,eventDrop:at,eventResizeStart:at,eventResizeStop:at,eventResize:at,drop:at,eventReceive:at,eventLeave:at};I8.dataAttrPrefix="";var K8=Zd({name:"@fullcalendar/interaction",componentInteractions:[rFe,aFe,J2,uFe],calendarInteractions:[fFe],elementDraggingImpl:Y2,optionRefiners:hFe,listenerRefiners:pFe});function Qs(e){if(!e)return e;const t=e.replace(/[_-]+/g," ");return t.charAt(0).toUpperCase()+t.slice(1)}function Q1(e){if(!e||e.trim()==="")return"";const t=e.replace(/[\s-]/g,"");return t.length===9?t.slice(0,3)+" "+t.slice(3,6)+" "+t.slice(6):t}function rx(e){const n=e.replace(/\D/g,"").slice(0,9);return n.length<=3?n:n.length<=6?`${n.slice(0,3)} ${n.slice(3)}`:`${n.slice(0,3)} ${n.slice(3,6)} ${n.slice(6)}`}function Cm(e){if(!e)return"";const t=new Date(e);return t.setHours(t.getHours()+3),t.toISOString()}function Hce(e,t){if(!e||!t)return 0;const n=e.toLowerCase().trim(),i=t.toLowerCase().trim();if(i===n)return 1;if(i.startsWith(n))return .9;if(new RegExp(`\\b${n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}\\b`,"i").test(i))return .8;if(i.includes(n))return .7;let a=0;for(let h=0;h<i.length&&a<n.length;h++)i[h]===n[a]&&a++;if(a===n.length){const h=i.length-n.length;return Math.max(.3,.6-h*.05)}let o=0;Math.max(n.length,i.length);for(let h=0;h<n.length;h++){const m=n[h];if(i[h]===m)o+=1;else{const p=Math.min(2,i.length-h);let v=!1;for(let S=Math.max(0,h-1);S<=Math.min(i.length-1,h+p);S++)if(i[S]===m&&Math.abs(h-S)<=2){o+=.7,v=!0;break}!v&&i.includes(m)&&(o+=.3)}}let l=0;for(let h=0;h<i.length;h++){const m=i[h];n.includes(m)&&l++}const c=o/n.length,u=l/i.length;return(c+u)/2*.4}function Q2(e,t,n,i=.3){return t.trim()?e.map(a=>{let o=0;for(const l of n){const c=l(a);if(c){const u=Hce(t,c);o=Math.max(o,u)}}return{item:a,score:o}}).filter(({score:a})=>a>=i).sort((a,o)=>o.score-a.score).map(({item:a})=>a):e}function Rh(e){const t=(e||"").trim();if(!t)return"?";const n=t.split(/\s+/).filter(Boolean);return n.length>=2?(n[0][0]+n[n.length-1][0]).toUpperCase():t.slice(0,2).toUpperCase()}function X2(e,t){if(e){const n=e.trim().split(/\s+/).filter(Boolean);return n.length>=2?(n[0][0]+n[n.length-1][0]).toUpperCase():e.substring(0,2).toUpperCase()}return t.substring(0,2).toUpperCase()}const G8=Object.freeze(Object.defineProperty({__proto__:null,addThreeHours:Cm,fmtVAT:Q1,formatVATInput:rx,fuzzyMatchScore:Hce,fuzzySearch:Q2,getInitials:Rh,getInitialsFromNameOrEmail:X2,makeWordPresentable:Qs},Symbol.toStringTag,{value:"Module"}));function FO(e){return e.map(t=>({id:t.id,title:t.title,start:t.start,end:t.end??void 0,allDay:t.allDay,extendedProps:{kind:t.kind,ref:t.ref,status:t.status,notes:t.notes,location:t.location,projectLead:t.projectLead,category:t.category,jobTitle:t.jobTitle,...t.meta}}))}function qce(e,t){var u,d;if(!t)return e;const n=(u=t.kinds)!=null&&u.length?new Set(t.kinds):null,{jobId:i,itemId:r,vehicleId:a,userId:o}=t.scope??{},l=(d=t.text)==null?void 0:d.trim();let c=e.filter(h=>{var R,E,_,N,O;const m=h.extendedProps??{},p=n?n.has(m.kind):!0,v=i?((R=m.ref)==null?void 0:R.jobId)===i:!0,S=r?((E=m.ref)==null?void 0:E.itemId)===r||Array.isArray((_=m.ref)==null?void 0:_.itemIds)&&m.ref.itemIds.includes(r):!0,b=a?((N=m.ref)==null?void 0:N.vehicleId)===a:!0,w=o?((O=m.ref)==null?void 0:O.userId)===o:!0;return p&&v&&S&&b&&w});return l&&(c=Q2(c,l,[h=>h.title??"",h=>{var m;return((m=h.extendedProps)==null?void 0:m.jobTitle)??null},h=>{var m,p;return((p=(m=h.extendedProps)==null?void 0:m.projectLead)==null?void 0:p.display_name)??null}],.3)),c}function mFe({events:e,onCreate:t,onUpdate:n,onDelete:i,defaultKinds:r=["job"],initialScope:a,hideCreateButton:o=!1,initialListMode:l=!1,onListModeChange:c}){const u=_a(),[d,h]=g.useState(r),[m,p]=g.useState("none"),[v,S]=g.useState(""),[b,w]=g.useState(""),[R,E]=g.useState(l),_=c!==void 0?l:R,N=g.useCallback(z=>{c?c(z):E(z)},[c]);g.useEffect(()=>{c===void 0&&E(l)},[l,c]),g.useEffect(()=>{o&&h(r)},[o,r]);const O=g.useMemo(()=>{if(a)return a;if(!(m==="none"||!v))return{jobId:m==="job"?v:void 0,itemId:m==="item"?v:void 0,vehicleId:m==="vehicle"?v:void 0,userId:m==="crew"?v:void 0}},[a,m,v]),j=g.useMemo(()=>o?e:qce(e,{kinds:d,scope:O,text:b}),[e,d,O,b,o]);function D(z){switch(z){case"equipment":return"equipment";case"crew":return"crew";case"transport":return"transport";case"program":default:return"calendar"}}function P(z){var q;const U=z.event.extendedProps,K=(q=U==null?void 0:U.ref)==null?void 0:q.jobId,te=U==null?void 0:U.category;if(K){const V=D(te);u({to:"/jobs",search:{jobId:K,tab:V}})}}function B(z,U){const K=(z||"").toLowerCase();return K.includes("job duration")?{bg:"var(--blue-a6)",border:"var(--blue-a8)",text:"var(--blue-12)"}:U==="equipment"||K.includes("equipment")?{bg:"var(--violet-a6)",border:"var(--violet-a8)",text:"var(--violet-12)"}:U==="crew"||K.includes("crew")?{bg:"var(--green-a6)",border:"var(--green-a8)",text:"var(--green-12)"}:U==="transport"||K.includes("vehicle")||K.includes("transport")?{bg:"var(--amber-a6)",border:"var(--amber-a8)",text:"var(--amber-12)"}:U==="program"||K.includes("show")||K.includes("event")?{bg:"var(--pink-a6)",border:"var(--pink-a8)",text:"var(--pink-12)"}:K.includes("setup")||K.includes("load in")?{bg:"var(--cyan-a6)",border:"var(--cyan-a8)",text:"var(--cyan-12)"}:K.includes("teardown")||K.includes("load out")?{bg:"var(--red-a6)",border:"var(--red-a8)",text:"var(--red-12)"}:{bg:"var(--indigo-a6)",border:"var(--indigo-a8)",text:"var(--indigo-12)"}}function M(z){var ce,ae,G;const U=(ce=z.event.extendedProps)==null?void 0:ce.kind,K=(ae=z.event.extendedProps)==null?void 0:ae.projectLead,te=K!=null&&K.avatar_url?re.storage.from("avatars").getPublicUrl(K.avatar_url).data.publicUrl:null,q=K?K.display_name||K.email:null,V=(G=z.event.extendedProps)==null?void 0:G.jobTitle,Q=V?`${V} - ${z.event.title}`:z.event.title;return s.jsxs("div",{style:{display:"flex",gap:6,alignItems:"center",width:"100%"},children:[z.timeText&&s.jsx("span",{style:{fontWeight:600,fontSize:12,flexShrink:0},children:z.timeText}),s.jsx("span",{style:{fontSize:12,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",flex:1,minWidth:0},children:Q}),K&&s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4,flexShrink:0},children:[s.jsx(Xr,{size:"1",radius:"full",src:te??void 0,fallback:Rh(q),style:{border:"1px solid var(--gray-a6)"}}),q&&s.jsx("span",{style:{fontSize:10,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:80},children:q})]}),U&&s.jsx("span",{style:{fontSize:10,padding:"1px 6px",borderRadius:999,background:"var(--accent-4)",color:"var(--accent-11)",flexShrink:0},children:U})]})}return s.jsxs(X,{className:"companyCalendar",p:"3",style:{background:"transparent"},children:[!o&&s.jsxs($,{align:"center",wrap:"wrap",gap:"3",mb:"2",children:[s.jsxs($,{align:"center",gap:"2",children:[s.jsx(L,{weight:"bold",size:"2",children:"Show:"}),s.jsx(HE,{label:"Jobs",value:"job",kinds:d,setKinds:h}),s.jsx(HE,{label:"Items",value:"item",kinds:d,setKinds:h}),s.jsx(HE,{label:"Vehicles",value:"vehicle",kinds:d,setKinds:h}),s.jsx(HE,{label:"Crew",value:"crew",kinds:d,setKinds:h})]}),s.jsx(st,{orientation:"vertical"}),s.jsxs($,{align:"center",gap:"2",children:[s.jsx(L,{weight:"bold",size:"2",children:"Scope:"}),s.jsxs(Vn,{value:m,onValueChange:z=>p(z),children:[s.jsx(Kn,{placeholder:"Scope kind"}),s.jsxs(Gn,{children:[s.jsx(wt,{value:"none",children:"None"}),s.jsx(wt,{value:"job",children:"Job"}),s.jsx(wt,{value:"item",children:"Item"}),s.jsx(wt,{value:"vehicle",children:"Vehicle"}),s.jsx(wt,{value:"crew",children:"Crew"})]})]}),s.jsx(qe,{placeholder:"ID",value:v,onChange:z=>S(z.target.value)})]}),s.jsx(st,{orientation:"vertical"}),s.jsx(qe,{placeholder:"Search title",value:b,onChange:z=>w(z.target.value)}),s.jsx(st,{orientation:"vertical"}),s.jsxs($,{align:"center",gap:"2",children:[s.jsx(Mn,{type:"button",variant:_?"soft":"solid",onClick:()=>N(!1),title:"Calendar view",children:s.jsx(Fu,{})}),s.jsx(Mn,{type:"button",variant:_?"solid":"soft",onClick:()=>N(!0),title:"List view",children:s.jsx(e8,{})}),s.jsx(L,{size:"1",color:"gray",children:"Default shows Jobs this month"})]})]}),_?s.jsx(O1,{plugins:[$6],initialView:"listMonth",headerToolbar:{start:"prev,next today",center:"title",end:"listMonth,listWeek,listDay"},buttonText:{listMonth:"month",listWeek:"week",listDay:"day"},timeZone:"Europe/Oslo",locale:OG,eventClick:P,eventContent:M,events:j.map(z=>{var q;const U=(q=z.extendedProps)==null?void 0:q.category,K=z.title||"",te=B(K,U);return{...z,backgroundColor:te.bg,borderColor:te.border,textColor:te.text}}),height:"auto",noEventsContent:"No bookings found"},"list"):s.jsx(O1,{plugins:[kce,V8,$6,K8],initialView:"dayGridMonth",headerToolbar:{start:"prev,next today",center:"title",end:"dayGridMonth,timeGridWeek,timeGridDay"},timeZone:"Europe/Oslo",locale:OG,selectable:!1,editable:!1,select:void 0,eventClick:P,eventContent:M,events:j.map(z=>{var q;const U=(q=z.extendedProps)==null?void 0:q.category,K=z.title||"",te=B(K,U);return{...z,backgroundColor:te.bg,borderColor:te.border,textColor:te.text}}),height:"auto",dayMaxEventRows:!0,slotMinTime:"07:00:00",slotMaxTime:"20:00:00",eventDisplay:"block"},"calendar")]})}function HE({label:e,value:t,kinds:n,setKinds:i}){const r=n.includes(t);return s.jsxs($,{align:"center",gap:"1",children:[s.jsx(Ro,{checked:r,onCheckedChange:a=>i(o=>a?Array.from(new Set([...o,t])):o.filter(l=>l!==t))}),s.jsx(L,{size:"2",children:e})]})}function yFe({companyId:e,vehicleId:t,limit:n,offset:i=0,fromDate:r}){return{queryKey:["company",e,"vehicle-calendar",t,n,i,r],queryFn:async()=>{const{data:a,error:o}=await re.from("reserved_vehicles").select("time_period_id").eq("vehicle_id",t);if(o)throw o;if(!a||a.length===0)return[];const l=a.map(p=>p.time_period_id);let c=re.from("time_periods").select("id, title, start_at, end_at, job_id, category").eq("company_id",e).eq("category","transport").in("id",l).eq("deleted",!1);r&&(c=c.gte("start_at",r)),c=c.range(i,i+n-1);const{data:u,error:d}=await c.order("start_at",{ascending:!0});if(d)throw d;if(!u||u.length===0)return[];const h=Array.from(new Set(u.map(p=>p.job_id).filter(p=>!!p))),m=new Map;if(h.length>0){const{data:p,error:v}=await re.from("jobs").select("id, title").in("id",h);if(v)throw v;(p||[]).forEach(S=>{S.id&&S.title&&m.set(S.id,S.title)})}return u.map(p=>{const v=p.job_id&&m.get(p.job_id)||void 0;return{id:p.id,title:p.title||"Transport",start:p.start_at,end:p.end_at??void 0,kind:"vehicle",ref:{vehicleId:t,jobId:p.job_id||void 0},notes:void 0,jobTitle:v||void 0}})}}}function gFe({companyId:e,itemId:t}){return{queryKey:["company",e,"item-calendar",t],queryFn:async()=>{const{data:n,error:i}=await re.from("reserved_items").select("time_period_id").eq("item_id",t);if(i)throw i;if(!n||n.length===0)return[];const r=n.map(d=>d.time_period_id),{data:a,error:o}=await re.from("time_periods").select("id, title, start_at, end_at, job_id, category").eq("company_id",e).eq("category","equipment").in("id",r).eq("deleted",!1).order("start_at",{ascending:!0});if(o)throw o;if(!a||a.length===0)return[];const{data:l,error:c}=await re.from("reserved_items").select("time_period_id, item_id").in("time_period_id",r);if(c)throw c;const u=new Map;return(l||[]).forEach(d=>{u.has(d.time_period_id)||u.set(d.time_period_id,[]),u.get(d.time_period_id).push(d.item_id)}),(a||[]).map(d=>({id:d.id,title:d.title||"Equipment",start:d.start_at,end:d.end_at??void 0,kind:"item",ref:{itemId:t,itemIds:u.get(d.id)||[],jobId:d.job_id||void 0},notes:void 0}))}}}function vFe({companyId:e,userId:t}){return{queryKey:["company",e,"crew-calendar",t],queryFn:async()=>{const{data:n,error:i}=await re.from("reserved_crew").select("time_period_id").eq("user_id",t);if(i)throw i;if(!n||n.length===0)return[];const r=n.map(l=>l.time_period_id),{data:a,error:o}=await re.from("time_periods").select("id, title, start_at, end_at, job_id, category").eq("company_id",e).eq("category","crew").in("id",r).eq("deleted",!1).order("start_at",{ascending:!0});if(o)throw o;return(a||[]).map(l=>({id:l.id,title:l.title||"Crew assignment",start:l.start_at,end:l.end_at??void 0,kind:"crew",ref:{userId:t,jobId:l.job_id||void 0},notes:void 0}))}}}function SFe({companyId:e,categories:t,userId:n,companyRole:i}){return{queryKey:["company",e,"calendar","all",n,i],queryFn:async()=>{let r=re.from("time_periods").select("id, title, start_at, end_at, job_id, category").eq("company_id",e).eq("deleted",!1);const{data:a,error:o}=await r.order("start_at",{ascending:!0});if(o)throw o;if(!a||a.length===0)return[];const l=Array.from(new Set(a.map(R=>R.job_id).filter(R=>!!R))),c=new Map,u=new Map,d=new Map;if(l.length>0){const{data:R,error:E}=await re.from("jobs").select("id, title, status, project_lead:project_lead_user_id ( user_id, display_name, email, avatar_url )").in("id",l);if(E)throw E;(R||[]).forEach(_=>{_.id&&(_.project_lead&&c.set(_.id,_.project_lead),_.title&&u.set(_.id,_.title),_.status&&d.set(_.id,_.status))})}const h=a.map(R=>R.id),[m,p,v]=await Promise.all([re.from("reserved_vehicles").select("time_period_id, vehicle_id").in("time_period_id",h),re.from("reserved_items").select("time_period_id, item_id").in("time_period_id",h),re.from("reserved_crew").select("time_period_id, user_id, status").in("time_period_id",h)]);if(m.error)throw m.error;if(p.error)throw p.error;if(v.error)throw v.error;const S=new Map;(m.data||[]).forEach(R=>{S.set(R.time_period_id,R.vehicle_id)});const b=new Map;(p.data||[]).forEach(R=>{b.has(R.time_period_id)||b.set(R.time_period_id,[]),b.get(R.time_period_id).push(R.item_id)});const w=new Map;return(v.data||[]).forEach(R=>{w.has(R.time_period_id)||w.set(R.time_period_id,[]),w.get(R.time_period_id).push({user_id:R.user_id,status:R.status})}),a.map(R=>{let E="job";const _={jobId:R.job_id||void 0};if(R.category==="transport")E="vehicle",S.has(R.id)&&(_.vehicleId=S.get(R.id));else if(R.category==="equipment"){if(E="item",b.has(R.id)){const D=b.get(R.id);_.itemIds=D,D.length>0&&(_.itemId=D[0])}}else if(R.category==="crew"){E="crew";const D=w.get(R.id);D&&D.length>0&&(_.userId=D[0].user_id)}else E="job";const N=R.job_id&&c.get(R.job_id)||null,O=R.job_id&&u.get(R.job_id)||void 0,j=R.job_id&&d.get(R.job_id)||void 0;return{id:R.id,title:R.title||"Event",start:R.start_at,end:R.end_at??void 0,kind:E,ref:_,notes:void 0,projectLead:N||void 0,category:R.category||void 0,jobTitle:O||void 0,status:j||void 0}}).filter(R=>{if(i==="freelancer"&&n){const E=w.get(R.id);if(!E)return!1;const _=E.find(N=>N.user_id===n);if(!_||_.status!=="accepted"||R.status==="canceled")return!1}return!0})}}}function H8({companyId:e,includeExternal:t,search:n}){return{queryKey:["company",e,"vehicles-index",t,n],queryFn:async()=>{let i=re.from("vehicles").select(`
          id,
          name,
          registration_no,
          image_path,
          fuel,
          vehicle_category,
          internally_owned,
          external_owner_id,
          deleted,
          external_owner:customers!vehicles_external_owner_id_fkey ( id, name )
        `).eq("company_id",e).or("deleted.is.null,deleted.eq.false");t||(i=i.eq("internally_owned",!0));const r=n.trim();if(r){const c=[`%${r}%`,r.length>2?`%${r.split("").join("%")}%`:null].filter(Boolean).flatMap(u=>[`name.ilike.${u}`,`registration_no.ilike.${u}`]).join(",");i=i.or(c)}const{data:a,error:o}=await i.order("name",{ascending:!0});if(o)throw o;return a.map(l=>{var c;return{id:l.id,name:l.name,registration_no:l.registration_no??null,image_path:l.image_path??null,fuel:l.fuel??null,vehicle_category:l.vehicle_category??null,internally_owned:!!l.internally_owned,external_owner_id:l.external_owner_id??null,external_owner_name:((c=l.external_owner)==null?void 0:c.name)??null,deleted:l.deleted??null}})}}}function bFe({companyId:e,id:t}){return{queryKey:["company",e,"vehicle-detail",t],queryFn:async()=>{var a;const{data:n,error:i}=await re.from("vehicles").select(`
          id,
          name,
          registration_no,
          image_path,
          notes,
          fuel,
          vehicle_category,
          internally_owned,
          external_owner_id,
          created_at,
          external_owner:customers!vehicles_external_owner_id_fkey ( id, name )
        `).eq("company_id",e).eq("id",t).maybeSingle();if(i)throw i;if(!n)return null;const r=n;return{id:r.id,name:r.name,registration_no:r.registration_no??null,image_path:r.image_path??null,notes:r.notes??null,fuel:r.fuel??null,vehicle_category:r.vehicle_category??null,internally_owned:!!r.internally_owned,external_owner_id:r.external_owner_id??null,external_owner_name:((a=r.external_owner)==null?void 0:a.name)??null,created_at:r.created_at}}}}async function xFe(e){const{id:t,...n}=e,{data:i,error:r}=await re.from("vehicles").upsert({id:t,...n},{onConflict:"id"}).select("id").single();if(r)throw r;return i.id}async function wFe({companyId:e,id:t}){const{error:n}=await re.from("vehicles").update({deleted:!0}).eq("company_id",e).eq("id",t);if(n)throw n}function EFe({companyId:e}){return{queryKey:["company",e,"partner-customers"],queryFn:async()=>{const{data:t,error:n}=await re.from("customers").select("id, name").eq("company_id",e).eq("is_partner",!0).or("deleted.is.null,deleted.eq.false").order("name",{ascending:!0});if(n)throw n;return t},staleTime:6e4}}const _Fe=(e,t,n,i,r,a,o,l,c,u,d,h,m,p)=>["company",e,"inventory-index",t,n,i,r,a,o,l,c,u,d,h,m,p],AFe=(e,t)=>["company",e,"inventory-detail",t];function PG(e){return e.replace(/[(),]/g," ").replace(/\s+/g," ").trim()}const RFe=e=>["company",e,"item-categories","names"],Wce=({companyId:e})=>({queryKey:RFe(e),queryFn:async()=>{const{data:t,error:n}=await re.from("item_categories").select("name").eq("company_id",e).order("name",{ascending:!0});if(n)throw n;const i=t.map(r=>r.name).filter(Boolean);return Array.from(new Set(i))},staleTime:6e4}),Yce=({companyId:e,page:t,pageSize:n,search:i,showActive:r,showInactive:a,showInternal:o,showExternal:l,showGroupOnlyItems:c,showGroups:u,showItems:d,category:h,sortBy:m,sortDir:p})=>({queryKey:_Fe(e,t,n,i,r,a,o,l,c,u,d,h,m,p),queryFn:async()=>{const v=(t-1)*n,S=v+n-1;let b=re.from("inventory_index").select("*",{count:"exact"}).eq("company_id",e);if(b=b.or("deleted.is.null,deleted.eq.false"),r&&!a?b=b.eq("active",!0):!r&&a&&(b=b.eq("active",!1)),o&&!l?b=b.eq("internally_owned",!0):!o&&l&&(b=b.eq("internally_owned",!1)),!u&&!d&&!c?b=b.eq("id","__never_match__"):u&&d&&c||(u&&!d&&!c?b=b.eq("is_group",!0):!u&&d&&!c?b=b.eq("is_group",!1).eq("allow_individual_booking",!0):!u&&!d&&c?b=b.eq("is_group",!1).eq("allow_individual_booking",!1):u&&d&&!c?b=b.or("is_group.eq.true,allow_individual_booking.eq.true"):u&&!d&&c?b=b.or("is_group.eq.true,is_group.eq.false"):!u&&d&&c&&(b=b.eq("is_group",!1))),h&&h!=="all"&&(b=b.eq("category_name",h)),i&&i.trim()){const N=i.trim(),O=[`%${PG(N)}%`,N.length>2?`%${PG(N.split("").join("%"))}%`:null].filter(D=>D!==null),j=[];O.forEach(D=>{j.push(`name.ilike.${D}`),j.push(`category_name.ilike.${D}`),j.push(`brand_name.ilike.${D}`),j.push(`model.ilike.${D}`),j.push(`nicknames.ilike.${D}`)}),j.length>0&&(b=b.or(j.join(",")))}b=b.order(m,{ascending:p==="asc",nullsFirst:!1}).order("id",{ascending:!0});const{data:w,count:R,error:E}=await b.range(v,S);if(E)throw E;let _=w;if(u&&!d&&c&&(_=_.filter(N=>N.is_group||!N.allow_individual_booking)),i&&i.trim()){const{fuzzySearch:N}=await $l(async()=>{const{fuzzySearch:O}=await Promise.resolve().then(()=>G8);return{fuzzySearch:O}},void 0);_=N(_,i,[O=>O.name,O=>O.category_name||"",O=>O.brand_name||"",O=>O.model||"",O=>O.nicknames||""],.25)}return{rows:_,count:R??0}},staleTime:1e4}),NFe=({companyId:e,id:t})=>({queryKey:AFe(e,t),retry:(n,i)=>n<2,queryFn:async()=>{const i=`inventoryDetailQuery#${performance.now().toFixed(3)}`,r=l=>`[${i}] ${l}`;console.groupCollapsed(r("start"),{companyId:e,id:t}),console.time(r("total"));const a=()=>{try{console.timeEnd(r("total"))}catch{}try{console.groupEnd()}catch{}},o=(l,c)=>{var u,d,h,m;c.error&&console.error(r(`${l} ERROR`),{code:(u=c.error)==null?void 0:u.code,details:(d=c.error)==null?void 0:d.details,hint:(h=c.error)==null?void 0:h.hint,message:(m=c.error)==null?void 0:m.message})};try{console.time(r("INDEX base"));const{data:l,error:c}=await re.from("inventory_index").select("*").eq("company_id",e).eq("id",t).maybeSingle();if(o("INDEX base",{data:l,error:c}),console.timeEnd(r("INDEX base")),c)throw a(),c;if(!l)return a(),null;if(l.is_group){console.time(r("GROUP enrich"));const{data:u,error:d}=await re.from("item_groups").select("id, description, active").eq("id",t).eq("company_id",e).maybeSingle();o("GROUP enrich",{data:u,error:d}),console.timeEnd(r("GROUP enrich")),console.time(r("GROUP rollups"));const{data:h,error:m}=await re.from("groups_with_rollups").select("on_hand, current_price").eq("id",t).maybeSingle();if(o("GROUP rollups",{data:h,error:m}),console.timeEnd(r("GROUP rollups")),m&&m.code!=="PGRST116")throw a(),m;console.time(r("GROUP parts"));const{data:p,error:v}=await re.from("group_parts").select("item_id, child_group_id, item_name, quantity, item_current_price, part_type").eq("group_id",t);if(o("GROUP parts",{data:p,error:v}),console.timeEnd(r("GROUP parts")),v)throw a(),v;console.time(r("GROUP history"));const{data:S,error:b}=await re.from("group_price_history_with_profile").select("id, amount, effective_from, effective_to, set_by, set_by_name").eq("company_id",e).eq("group_id",t).order("effective_from",{ascending:!1});if(o("GROUP history",{data:S,error:b}),console.timeEnd(r("GROUP history")),b)throw a(),b;const w={id:l.id,name:l.name,type:"group",on_hand:(h==null?void 0:h.on_hand)??l.on_hand??0,current_price:(h==null?void 0:h.current_price)??l.current_price??null,category_name:l.category_name??null,description:(u==null?void 0:u.description)??null,active:!!((u==null?void 0:u.active)??l.active),parts:p,price_history:S,internally_owned:l.internally_owned,external_owner_id:l.external_owner_id,external_owner_name:l.external_owner_name};return a(),w}else{console.time(r("ITEM enrich"));const{data:u,error:d}=await re.from("items").select(`
              id,
              model,
              notes,
              nicknames,
              allow_individual_booking,
              active
            `).eq("id",t).eq("company_id",e).maybeSingle();o("ITEM enrich",{data:u,error:d}),console.timeEnd(r("ITEM enrich")),console.time(r("ITEM history"));const{data:h,error:m}=await re.from("item_price_history_with_profile").select("id, amount, effective_from, effective_to, set_by, set_by_name").eq("company_id",e).eq("item_id",t).order("effective_from",{ascending:!1});if(o("ITEM history",{data:h,error:m}),console.timeEnd(r("ITEM history")),m)throw a(),m;const p={id:l.id,name:l.name,type:"item",category_name:l.category_name??null,brand_name:l.brand_name??null,model:(u==null?void 0:u.model)??null,allow_individual_booking:!!((u==null?void 0:u.allow_individual_booking)??l.allow_individual_booking),active:!!((u==null?void 0:u.active)??l.active),notes:(u==null?void 0:u.notes)??null,nicknames:(u==null?void 0:u.nicknames)??l.nicknames??null,current_price:l.current_price??null,on_hand:l.on_hand??0,price_history:h,internally_owned:l.internally_owned,external_owner_id:l.external_owner_id,external_owner_name:l.external_owner_name};return a(),p}}catch(l){throw console.error(r("THROW"),{name:l==null?void 0:l.name,message:l==null?void 0:l.message,code:l==null?void 0:l.code,details:l==null?void 0:l.details,hint:l==null?void 0:l.hint}),a(),l}}});function oh({companyId:e,kind:t}){return{queryKey:["company",e,"crew-index",t??"all"],queryFn:async()=>{const{data:n,error:i}=await re.from("company_user_profiles").select("user_id, role, email, display_name, first_name, last_name").eq("company_id",e);if(i)throw i;let r=n;return t&&t!=="all"&&(r=r.filter(a=>a.role===t)),r}}}function OFe({companyId:e,userId:t}){return{queryKey:["company",e,"crew-detail",t],queryFn:async()=>{const{data:n,error:i}=await re.from("company_user_profiles").select("user_id, role, email, display_name, first_name, last_name, phone, avatar_url, created_at, rate_type, rate, rate_updated_at").eq("company_id",e).eq("user_id",t).maybeSingle();if(i)throw i;if(!n)return null;const{data:r,error:a}=await re.from("profiles").select(`
          bio,
          preferences,
          locale,
          timezone,
          superuser,
          primary_address_id,
          selected_company_id,
          primary_address:primary_address_id (
            id,
            name,
            address_line,
            zip_code,
            city,
            country
          )
        `).eq("user_id",t).maybeSingle();if(a)throw a;return{...n,bio:(r==null?void 0:r.bio)??null,preferences:(r==null?void 0:r.preferences)??null,locale:(r==null?void 0:r.locale)??null,timezone:(r==null?void 0:r.timezone)??null,superuser:(r==null?void 0:r.superuser)??!1,primary_address_id:(r==null?void 0:r.primary_address_id)??null,selected_company_id:(r==null?void 0:r.selected_company_id)??null,rate_type:(n==null?void 0:n.rate_type)??null,rate:n!=null&&n.rate?Number(n.rate):null,rate_updated_at:(n==null?void 0:n.rate_updated_at)??null,primary_address:(r==null?void 0:r.primary_address)??null}}}}function Jce({companyId:e}){return{queryKey:["company",e,"pending-invites"],queryFn:async()=>{const{data:n,error:i}=await re.from("pending_invites").select("id, email, role, inviter_user_id, created_at, expires_at").eq("company_id",e).gt("expires_at",new Date().toISOString()).order("created_at",{ascending:!1});if(i)throw i;return n.map(r=>({id:r.id,email:r.email,role:r.role,inviter_user_id:r.inviter_user_id,created_at:r.created_at,expires_at:r.expires_at,inviter_name:null}))}}}async function Qce({companyId:e,email:t,role:n}){const i=t.trim().toLowerCase(),{data:r,error:a}=await re.auth.getUser();if(a)throw a;const o=r.user.id;if(!o)throw new Error("Not authenticated");const{data:l,error:c}=await re.rpc("add_member_or_invite",{p_company_id:e,p_email:i,p_inviter_id:o,p_role:n});if(c)throw c;if((l==null?void 0:l.type)==="already_invited"&&l.by_user_id){const{data:u}=await re.from("profiles").select("display_name, first_name, last_name").eq("user_id",l.by_user_id).maybeSingle();return{type:"already_invited",by:(u==null?void 0:u.display_name)??([u==null?void 0:u.first_name,u==null?void 0:u.last_name].filter(Boolean).join(" ")||"another user in your company")}}return l}async function Xce({inviteId:e}){const{error:t}=await re.from("pending_invites").delete().eq("id",e);if(t)throw t}async function jFe({companyId:e,userId:t,rateType:n,rate:i}){const{error:r}=await re.from("company_users").update({rate_type:n,rate:i,rate_updated_at:new Date().toISOString()}).eq("company_id",e).eq("user_id",t);if(r)throw r}function DFe(e){return e.replace(/[(),]/g," ").replace(/\s+/g," ").trim()}function BO({companyId:e,search:t,selectedDate:n,sortBy:i="start_at",sortDir:r="desc",userId:a,companyRole:o,includeArchived:l=!1}){return{queryKey:["company",e,"jobs-index",t,n,i,r,a,o,l],queryFn:async()=>{let c=re.from("jobs").select(`
          id, company_id, title, jobnr, status, start_at, end_at, customer_contact_id, archived,
          customer:customer_id ( id, name ),
          customer_user:customer_user_id ( user_id, display_name, email ),
          project_lead:project_lead_user_id ( user_id, display_name, email, avatar_url )
        `).eq("company_id",e);l||(c=c.eq("archived",!1)),i==="customer_name"?c=c.order("start_at",{ascending:r==="asc"}):c=c.order(i,{ascending:r==="asc"});const{data:u,error:d}=await c;if(d)throw d;let h=u||[];if(n){const m=new Date(n);m.setHours(0,0,0,0);const p=m.toISOString().split("T")[0];h=h.filter(v=>{if(!v.start_at)return!1;const S=new Date(v.start_at);S.setHours(0,0,0,0);const b=S.toISOString().split("T")[0],w=v.end_at;if(!w)return p>=b;const R=new Date(w);R.setHours(0,0,0,0);const E=R.toISOString().split("T")[0];return p>=b&&p<=E})}if(t.trim()){const{fuzzySearch:m,makeWordPresentable:p}=await $l(async()=>{const{fuzzySearch:v,makeWordPresentable:S}=await Promise.resolve().then(()=>G8);return{fuzzySearch:v,makeWordPresentable:S}},void 0);h=m(h,t,[v=>v.title,v=>{var S;return((S=v.customer)==null?void 0:S.name)??null},v=>{var S;return((S=v.customer_user)==null?void 0:S.display_name)??null},v=>{var S;return((S=v.customer_user)==null?void 0:S.email)??null},v=>{var S;return((S=v.project_lead)==null?void 0:S.display_name)??null},v=>{var S;return((S=v.project_lead)==null?void 0:S.email)??null},v=>v.start_at??null,v=>v.status??null,v=>p(v.status??"")],.25)}if(i==="customer_name"&&(h=[...h].sort((m,p)=>{var w,R,E,_,N,O;const v=((w=m.customer)==null?void 0:w.name)??((R=m.customer_user)==null?void 0:R.display_name)??((E=m.customer_user)==null?void 0:E.email)??"",S=((_=p.customer)==null?void 0:_.name)??((N=p.customer_user)==null?void 0:N.display_name)??((O=p.customer_user)==null?void 0:O.email)??"",b=v.localeCompare(S);return r==="asc"?b:-b})),o==="freelancer"&&a){const m=h.map(p=>p.id);if(m.length>0){const{data:p,error:v}=await re.from("time_periods").select("id, job_id").in("job_id",m);if(v)throw v;if(p&&p.length>0){const S=p.map(E=>E.id),{data:b,error:w}=await re.from("reserved_crew").select("time_period_id, status").eq("user_id",a).in("time_period_id",S);if(w)throw w;const R=new Set;b&&b.forEach(E=>{if(E.status==="accepted"){const _=p.find(N=>N.id===E.time_period_id);_!=null&&_.job_id&&R.add(_.job_id)}}),h=h.filter(E=>E.status==="canceled"?!1:R.has(E.id))}else h=[]}else h=[]}return h},staleTime:1e4}}function CFe({companyId:e,search:t}){return{queryKey:["address",e,"address-index",t],queryFn:async()=>{let n=re.from("addresses").select(`
            id, company_id, name, address_line, zip_code, city, country,
            created_at, updated_at, deleted, is_personal
          `).eq("company_id",e).order("updated_at",{ascending:!1}).limit(100);if(n=n.or("deleted.is.null,deleted.eq.false"),t.trim()){const a=LFe(t.trim()),o=DFe(a),l=[`name.ilike.%${o}%`,`address_line.ilike.%${o}%`,`zip_code.ilike.%${o}%`,`city.ilike.%${o}%`,`country.ilike.%${o}%`].join(",");n=n.or(l)}const{data:i,error:r}=await n;if(r)throw r;return i},staleTime:1e4}}function LFe(e){return e.replace(/[%_]/g,t=>"\\"+t)}function X1({jobId:e}){return{queryKey:["jobs-detail",e],queryFn:async()=>{const{data:t,error:n}=await re.from("jobs").select(`
          id, company_id, title, jobnr, description, status, start_at, end_at, archived, invoice_basis,
          project_lead_user_id, customer_id, customer_user_id, customer_contact_id, job_address_id,
          customer:customer_id ( id, name, email, phone, address, vat_number ),
          customer_user:customer_user_id ( user_id, display_name, email, phone ),
          project_lead:project_lead_user_id ( user_id, display_name, email ),
          customer_contact:customer_contact_id ( id, name, email, phone, title ),
          address:job_address_id ( id, name, address_line, zip_code, city, country )
        `).eq("id",e).maybeSingle();if(n)throw n;return t}}}function Z1({jobId:e}){return{queryKey:["jobs",e,"time_periods"],queryFn:async()=>{const{data:t,error:n}=await re.from("time_periods").select("id, company_id, job_id, title, start_at, end_at, category").eq("job_id",e).order("start_at",{ascending:!0});if(n)throw n;return t}}}async function pm(e){if(e.id){const{error:t}=await re.from("time_periods").update({title:e.title,start_at:e.start_at,end_at:e.end_at}).eq("id",e.id);if(t)throw t;return e.id}else{const{data:t,error:n}=await re.from("time_periods").insert({job_id:e.job_id,company_id:e.company_id,title:e.title,start_at:e.start_at,end_at:e.end_at,category:e.category??"program"}).select("id").single();if(n)throw n;return t.id}}function TFe(){const{companyId:e}=En(),{userId:t,companyRole:n}=zr(),[i,r]=g.useState("jobDuration"),[a,o]=g.useState(""),[l,c]=g.useState(null),[u,d]=g.useState(!1),[h,m]=g.useState(!1),p=g.useRef(null);g.useEffect(()=>{n==="freelancer"&&r("crew")},[n]),g.useEffect(()=>{function B(M){p.current&&!p.current.contains(M.target)&&d(!1)}if(u)return document.addEventListener("mousedown",B),()=>{document.removeEventListener("mousedown",B)}},[u]);const{data:v=[]}=et({...SFe({companyId:e??"",categories:void 0,userId:t,companyRole:n}),enabled:!!e}),S=i!=="all"&&!!e,{data:b=[]}=et({...H8({companyId:e??"",includeExternal:!0,search:a}),enabled:S&&i==="transport"}),{data:w}=et({...Yce({companyId:e??"",page:1,pageSize:100,search:a,showActive:!0,showInactive:!1,showInternal:!0,showExternal:!0,showGroupOnlyItems:!1,showGroups:!1,showItems:!0,category:null,sortBy:"name",sortDir:"asc"}),enabled:S&&i==="equipment"}),R=(w==null?void 0:w.rows)||[],{data:E=[]}=et({...oh({companyId:e??"",kind:void 0}),enabled:S&&i==="crew"}),{data:_=[]}=et({...BO({companyId:e??"",search:a}),enabled:S&&i==="jobDuration"}),N=g.useMemo(()=>{let B=[];return i==="transport"?B=b.map(M=>({id:M.id,name:M.name,subtitle:M.registration_no||void 0})):i==="equipment"?B=R.map(M=>({id:M.id,name:M.name,subtitle:M.category_name||void 0})):i==="crew"?B=E.map(M=>({id:M.user_id,name:M.display_name||[M.first_name,M.last_name].filter(Boolean).join(" ")||M.email,subtitle:M.email})):i==="jobDuration"&&(B=_.map(M=>{var z;return{id:M.id,name:M.title,subtitle:((z=M.customer)==null?void 0:z.name)||void 0}})),a.trim()?Q2(B,a,[M=>M.name,M=>M.subtitle??""],.3):B},[i,b,R,E,_,a]),O=B=>{var M;return((M=B.title)==null?void 0:M.toLowerCase().includes("job duration"))??!1},j=g.useMemo(()=>{let B=FO(v);B=B.filter(K=>{var V;const te=v.find(Q=>Q.id===K.id);return te?((V=K.extendedProps)==null?void 0:V.kind)==="job"?O(te):!0:!1});const z={all:null,jobDuration:["job"],equipment:["item"],transport:["vehicle"],crew:["crew"]}[i];return qce(B,{kinds:z||void 0,scope:l?i==="transport"?{vehicleId:l}:i==="equipment"?{itemId:l}:i==="crew"?{userId:l}:i==="jobDuration"?{jobId:l}:void 0:void 0})},[v,i,l]),D=B=>{c(B);const M=N.find(z=>z.id===B);M&&o(M.name),d(!1)},P=B=>{r(B),c(null),o(""),d(!1)};return s.jsx(Rt,{children:s.jsxs(X,{p:"4",children:[s.jsxs($,{align:"center",gap:"3",mb:"4",wrap:"wrap",children:[s.jsxs($,{align:"center",gap:"2",children:[s.jsx(L,{weight:"bold",size:"2",children:"Category:"}),s.jsxs(Vn,{value:i,onValueChange:P,children:[s.jsx(Kn,{style:{minWidth:150}}),s.jsxs(Gn,{children:[s.jsx(wt,{value:"all",children:"All"}),s.jsx(wt,{value:"jobDuration",children:"Jobs"}),s.jsx(wt,{value:"equipment",children:"Equipment"}),s.jsx(wt,{value:"transport",children:"Transport"}),s.jsx(wt,{value:"crew",children:"Crew"})]})]})]}),i!=="all"&&s.jsxs($,{align:"center",gap:"2",style:{flex:"1 1 300px",position:"relative"},children:[s.jsx(L,{weight:"bold",size:"2",children:"Search:"}),s.jsxs("div",{ref:p,style:{position:"relative",flex:1},children:[s.jsx(qe,{value:a,onChange:B=>{o(B.target.value),d(!0),B.target.value||c(null)},onFocus:()=>d(!0),placeholder:i==="transport"?"Search vehicles...":i==="equipment"?"Search items...":i==="crew"?"Search crew...":"Search jobs...",style:{width:"100%"},children:s.jsx(Sr,{side:"left",children:s.jsx(qu,{})})}),u&&N.length>0&&s.jsx(X,{style:{position:"absolute",top:"100%",left:0,right:0,zIndex:100,marginTop:4,maxHeight:300,overflowY:"auto",border:"1px solid var(--gray-a6)",borderRadius:8,backgroundColor:"var(--color-panel-solid)",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"},children:N.map(B=>s.jsxs(X,{onClick:()=>D(B.id),style:{padding:"12px 16px",cursor:"pointer",borderBottom:"1px solid var(--gray-a6)",backgroundColor:l===B.id?"var(--accent-a3)":"transparent"},onMouseEnter:M=>{l!==B.id&&(M.currentTarget.style.backgroundColor="var(--gray-a2)")},onMouseLeave:M=>{l!==B.id&&(M.currentTarget.style.backgroundColor="transparent")},children:[s.jsx(L,{size:"2",weight:"medium",children:B.name}),B.subtitle&&s.jsx(L,{size:"1",color:"gray",style:{display:"block",marginTop:4},children:B.subtitle})]},B.id))})]})]}),s.jsxs($,{align:"center",gap:"2",style:{marginLeft:"auto"},children:[s.jsx(Mn,{type:"button",variant:h?"soft":"solid",onClick:()=>m(!1),title:"Calendar view",children:s.jsx(Fu,{})}),s.jsx(Mn,{type:"button",variant:h?"solid":"soft",onClick:()=>m(!0),title:"List view",children:s.jsx(e8,{})})]})]}),s.jsx(mFe,{events:j,onCreate:()=>{},onUpdate:()=>{},onDelete:()=>{},defaultKinds:i==="all"?["job","item","vehicle","crew"]:i==="jobDuration"?["job"]:i==="equipment"?["item"]:i==="transport"?["vehicle"]:["crew"],hideCreateButton:!0,initialListMode:h,onListModeChange:m})]})})}function MFe({rows:e,selectedId:t,onSelect:n}){return e.length?s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:16},children:e.map(i=>s.jsx(IFe,{v:i,active:i.id===t,onClick:()=>n(i.id)},i.id))}):s.jsx(L,{color:"gray",style:{display:"block",marginTop:16},children:"No vehicles"})}function IFe({v:e,active:t,onClick:n}){const i=g.useMemo(()=>{if(!e.image_path)return null;const{data:a}=re.storage.from("vehicle_images").getPublicUrl(e.image_path);return a.publicUrl},[e.image_path]),r=e.fuel==="electric"?"green":e.fuel==="diesel"?"orange":"blue";return s.jsxs(Rt,{size:"2",variant:"surface",onClick:n,style:{cursor:"pointer",background:"var(--gray-a2)",border:t?"2px solid var(--accent-9)":"1px solid var(--gray-5)"},children:[s.jsx("div",{style:{borderRadius:8,overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:8},children:i?s.jsx("img",{src:i,alt:e.name,style:{width:"100%",height:"100%",objectFit:"cover"}}):s.jsx(V2,{style:{width:"80%",height:"80%"}})}),s.jsxs($,{direction:"column",gap:"1",children:[s.jsx(L,{size:"2",weight:"medium",children:e.name}),s.jsx(L,{size:"1",color:"gray",children:e.registration_no??""}),s.jsxs($,{align:"center",gap:"2",wrap:"wrap",mt:"1",children:[s.jsx(mt,{variant:"soft",color:r,children:e.fuel??""}),e.internally_owned?s.jsx(mt,{variant:"soft",color:"indigo",children:"Internal"}):s.jsx(mt,{variant:"soft",color:"violet",children:e.external_owner_name??"External"})]})]})]})}function PFe({rows:e,selectedId:t,onSelect:n}){return s.jsxs(Hn,{variant:"surface",style:{marginTop:16},children:[s.jsx(Qn,{children:s.jsxs(ht,{children:[s.jsx(ze,{children:"Name"}),s.jsx(ze,{children:"Reg"}),s.jsx(ze,{children:"Fuel"}),s.jsx(ze,{children:"Owner"})]})}),s.jsxs(qn,{children:[e.length===0?s.jsx(ht,{children:s.jsx(Oe,{colSpan:4,children:"No vehicles"})}):e.map(i=>{const r=i.id===t;return s.jsxs(ht,{onClick:()=>n(i.id),style:{cursor:"pointer",background:r?"var(--accent-a3)":void 0},"data-state":r?"active":void 0,children:[s.jsx(Oe,{children:s.jsx(L,{size:"2",weight:"medium",children:i.name})}),s.jsx(Oe,{children:i.registration_no??""}),s.jsx(Oe,{children:i.fuel?s.jsx(mt,{variant:"soft",color:i.fuel==="electric"?"green":i.fuel==="diesel"?"orange":"blue",children:i.fuel}):""}),s.jsx(Oe,{children:i.internally_owned?s.jsx(mt,{variant:"soft",color:"indigo",children:"Internal"}):s.jsx(mt,{variant:"soft",color:"violet",children:i.external_owner_name??"External"})})]},i.id)}),s.jsx(ht,{"data-row-probe":!0,style:{display:"none"},children:s.jsx(Oe,{colSpan:4,children:"probe"})})]})]})}const Zce=g.createContext(null);function Jt(){const e=g.useContext(Zce);if(!e)throw new Error("useToast must be used within <AppToastProvider>");return e}function kFe({toast:e,onRemove:t}){const n=e.duration??3e3,[i,r]=g.useState(n);g.useEffect(()=>{if(n<=0)return;const u=Date.now(),d=setInterval(()=>{const h=Date.now()-u,m=Math.max(0,n-h);r(m),m===0&&(clearInterval(d),t(e.id))},100);return()=>clearInterval(d)},[n,e.id,t]);const a=()=>{e.onUndo&&e.onUndo(),t(e.id)},o=e.kind==="success"?"var(--green-9)":e.kind==="error"?"var(--red-9)":"var(--blue-9)",l=e.kind==="success"?"var(--green-11)":e.kind==="error"?"var(--red-11)":"var(--blue-11)",c=e.kind==="success"?"rgba(46, 160, 67, 0.08)":e.kind==="error"?"rgba(231, 72, 74, 0.08)":"rgba(49, 130, 206, 0.08)";return s.jsxs(xNe,{open:!0,onOpenChange:u=>{u||t(e.id)},duration:n,style:{background:c,backdropFilter:"blur(16px) saturate(180%)",WebkitBackdropFilter:"blur(16px) saturate(180%)",border:`1.5px solid ${o}`,borderRadius:12,padding:14,boxShadow:"0 8px 32px 0 rgba(0, 0, 0, 0.15)",display:"flex",gap:10,alignItems:"flex-start",maxWidth:420,zIndex:2147483647,position:"relative"},children:[(e.onUndo||e.kind==="error")&&s.jsxs("div",{style:{position:"absolute",top:8,right:8,display:"flex",flexDirection:"column",alignItems:"flex-end",gap:6},children:[n>0&&s.jsxs(L,{size:"1",color:"gray",style:{fontWeight:500},children:[Math.ceil(i/1e3),"s"]}),e.onUndo&&s.jsxs(pe,{size:"2",variant:"ghost",color:"gray",onClick:a,style:{fontWeight:500},children:[s.jsx(b4e,{width:14,height:14}),e.undoLabel||"Undo"]})]}),s.jsx("div",{style:{lineHeight:0,marginTop:2,color:l,flexShrink:0},children:e.kind==="success"?s.jsx(i6e,{width:20,height:20}):e.kind==="error"?s.jsx(loe,{width:20,height:20}):s.jsx(K2,{width:20,height:20})}),s.jsx("div",{style:{flex:1,minWidth:0},children:s.jsx($,{direction:"column",gap:"2",children:s.jsxs("div",{children:[s.jsx(wNe,{style:{fontWeight:600,color:"var(--gray-12)",fontSize:14,lineHeight:"20px",marginBottom:e.description?4:0,paddingRight:e.onUndo||e.kind==="error"?100:0},children:e.title}),e.description&&s.jsx(ENe,{asChild:!0,children:s.jsx(L,{size:"2",style:{color:"var(--gray-11)",lineHeight:"18px"},children:e.description})})]})})})]})}function $Fe({children:e}){const[t,n]=g.useState([]),[i,r]=g.useState(!1);g.useEffect(()=>{r(!0)},[]);const a=u=>n(d=>d.filter(h=>h.id!==u)),o=g.useCallback(u=>{const d=crypto.randomUUID();n(h=>[...h,{...u,id:d}])},[]),l={show:({kind:u="info",...d})=>{u==="error"&&console.error("[Toast Error]",{title:d.title,description:d.description,duration:d.duration,timestamp:new Date().toISOString(),stack:new Error().stack}),o({kind:u,...d})},success:(u,d,h,m,p)=>o({kind:"success",title:u,description:d,duration:h,onUndo:m,undoLabel:p}),error:(u,d,h)=>{console.error("[Toast Error]",{title:u,description:d,duration:h,timestamp:new Date().toISOString(),stack:new Error().stack}),o({kind:"error",title:u,description:d,duration:h})},info:(u,d,h)=>o({kind:"info",title:u,description:d,duration:h})},c=s.jsx(bNe,{style:{position:"fixed",bottom:16,right:16,display:"flex",flexDirection:"column",gap:10,width:"min(420px, calc(100vw - 32px))",zIndex:2147483647,outline:"none",pointerEvents:"auto"}});return s.jsx(Zce.Provider,{value:l,children:s.jsxs(SNe,{swipeDirection:"right",children:[e,t.map(u=>s.jsx(kFe,{toast:u,onRemove:a},u.id)),i&&typeof document<"u"?Kl.createPortal(c,document.body):c]})})}function eue({open:e,onOpenChange:t,mode:n="create",initial:i,onSaved:r}){const{companyId:a}=En(),{success:o,info:l,error:c}=Jt(),u=Yt(),d=g.useRef(null),[h,m]=g.useState({name:"",registration_no:"",fuel:null,vehicle_category:null,internally_owned:!0,external_owner_id:null,image_path:null,notes:""}),p=(O,j)=>m(D=>({...D,[O]:j}));g.useEffect(()=>{!e||n!=="edit"||!i||m({name:i.name,registration_no:i.registration_no,fuel:i.fuel,vehicle_category:i.vehicle_category??null,internally_owned:i.internally_owned,external_owner_id:i.external_owner_id??null,image_path:i.image_path??null,notes:i.notes})},[e,n,i==null?void 0:i.id]);const{data:v=[]}=et({...EFe({companyId:a??"__none__"}),enabled:!!a&&e}),[S,b]=g.useState(!1);async function w(O){var j;b(!0);try{const D=((j=O.name.split(".").pop())==null?void 0:j.toLowerCase())||"png",P=`${Date.now()}.${D}`,B=`${a}/${P}`,{error:M}=await re.storage.from("vehicle_images").upload(B,O,{upsert:!1,cacheControl:"3600"});if(M)throw M;return p("image_path",B),l("Photo uploaded","Remember to Save to apply."),B}finally{b(!1)}}const R=g.useMemo(()=>{if(!h.image_path)return null;const{data:O}=re.storage.from("vehicle_images").getPublicUrl(h.image_path);return O.publicUrl},[h.image_path]),E=bt({mutationFn:async()=>{if(!a)throw new Error("No company selected");const O={company_id:a,id:i==null?void 0:i.id,name:h.name.trim(),registration_no:h.registration_no.trim()||null,fuel:h.fuel,vehicle_category:h.vehicle_category,internally_owned:h.internally_owned,external_owner_id:h.internally_owned?null:h.external_owner_id,image_path:h.image_path,notes:h.notes.trim()||null},j=await xFe(O);if(n==="create")try{const{logActivity:D}=await $l(async()=>{const{logActivity:P}=await Promise.resolve().then(()=>tv);return{logActivity:P}},void 0);await D({companyId:a,activityType:"vehicle_added",metadata:{vehicle_id:j,vehicle_name:h.name.trim(),license_plate:h.registration_no.trim()||null},title:h.name.trim()})}catch(D){console.error("Failed to log activity:",D)}return j},onSuccess:async()=>{await Promise.all([u.invalidateQueries({queryKey:["company",a,"vehicles-index"],exact:!1}),u.invalidateQueries({queryKey:["company",a,"vehicle-detail"],exact:!1}),u.invalidateQueries({queryKey:["company",a,"latest-feed"],exact:!1})]),o(n==="edit"?"Saved":"Vehicle created",n==="edit"?"Vehicle updated.":"Vehicle added."),t(!1),r==null||r()},onError:O=>c("Failed",(O==null?void 0:O.message)??"Please try again.")}),_=h.name.trim().length>0,N=()=>{const O=["Mercedes Sprinter","Ford Transit","Volkswagen Crafter","Iveco Daily","Renault Master","Peugeot Boxer","Fiat Ducato","Toyota Hiace","Nissan NV400","Opel Movano"],j=["AB12345","CD67890","EF11111","GH22222","IJ33333","KL44444","MN55555","OP66666","QR77777","ST88888"],D=["diesel","petrol","electric"],P=["passenger_car_small","passenger_car_medium","van_small","van_medium","van_big"],B=["Test vehicle for inventory management","Standard company vehicle","Backup vehicle in fleet","Primary transport vehicle","Reserve vehicle"],M=O[Math.floor(Math.random()*O.length)],z=j[Math.floor(Math.random()*j.length)],U=D[Math.floor(Math.random()*D.length)],K=P[Math.floor(Math.random()*P.length)],te=B[Math.floor(Math.random()*B.length)],q=Math.random()>.3,V=v.length>0?v[Math.floor(Math.random()*v.length)]:null;m({name:M,registration_no:z,fuel:U,vehicle_category:K,internally_owned:q,external_owner_id:q?null:(V==null?void 0:V.id)??null,image_path:null,notes:te})};return s.jsx(rn,{open:e,onOpenChange:t,children:s.jsxs(an,{maxWidth:"680px",children:[s.jsxs($,{align:"center",justify:"between",children:[s.jsx(cn,{children:n==="edit"?"Edit vehicle":"Add vehicle"}),n==="create"&&s.jsxs(pe,{size:"2",variant:"soft",onClick:N,type:"button",style:{marginLeft:"auto"},children:[s.jsx(um,{width:16,height:16}),"Auto-fill"]})]}),s.jsxs($,{direction:"column",gap:"3",mt:"3",children:[s.jsxs($,{gap:"3",wrap:"wrap",children:[s.jsx(pp,{label:"Name *",children:s.jsx(qe,{value:h.name,onChange:O=>p("name",O.target.value),placeholder:"Enter vehicle name",autoFocus:!0})}),s.jsx(pp,{label:"Reg number",children:s.jsx(qe,{value:h.registration_no,onChange:O=>p("registration_no",O.target.value),placeholder:"Enter registration number"})})]}),s.jsxs($,{gap:"3",wrap:"wrap",children:[s.jsx(pp,{label:"Fuel",children:s.jsxs(Vn,{value:h.fuel??"",onValueChange:O=>p("fuel",O||null),size:"3",children:[s.jsx(Kn,{placeholder:"Select fuel",style:{minHeight:"var(--space-7)"}}),s.jsxs(Gn,{style:{zIndex:1e4},children:[s.jsx(wt,{value:"electric",children:"electric"}),s.jsx(wt,{value:"diesel",children:"diesel"}),s.jsx(wt,{value:"petrol",children:"petrol"})]})]})}),s.jsx(pp,{label:"Vehicle Category",children:s.jsxs(Vn,{value:h.vehicle_category??"",onValueChange:O=>p("vehicle_category",O||null),size:"3",children:[s.jsx(Kn,{placeholder:"Select category",style:{minHeight:"var(--space-7)"}}),s.jsxs(Gn,{style:{zIndex:1e4},children:[s.jsx(wt,{value:"passenger_car_small",children:"Passenger Car - Small"}),s.jsx(wt,{value:"passenger_car_medium",children:"Passenger Car - Medium"}),s.jsx(wt,{value:"passenger_car_big",children:"Passenger Car - Big"}),s.jsx(wt,{value:"van_small",children:"Van - Small"}),s.jsx(wt,{value:"van_medium",children:"Van - Medium"}),s.jsx(wt,{value:"van_big",children:"Van - Big"}),s.jsx(wt,{value:"C1",children:"C1"}),s.jsx(wt,{value:"C1E",children:"C1E"}),s.jsx(wt,{value:"C",children:"C"}),s.jsx(wt,{value:"CE",children:"CE"})]})]})}),s.jsx(pp,{label:"Internally owned",children:s.jsxs($,{align:"center",gap:"2",style:{height:"var(--space-7)"},children:[s.jsx(Ro,{checked:h.internally_owned,onCheckedChange:O=>p("internally_owned",!!O)}),s.jsx(L,{size:"2",color:"gray",children:h.internally_owned?"Yes":"No"})]})}),s.jsx(pp,{label:"External owner (partner)",children:s.jsxs(Vn,{value:h.external_owner_id,onValueChange:O=>p("external_owner_id",O||null),size:"3",disabled:h.internally_owned,children:[s.jsx(Kn,{placeholder:h.internally_owned?"Internal (disabled)":"Select partner",style:{minHeight:"var(--space-7)"}}),s.jsxs(Gn,{style:{zIndex:1e4},children:[s.jsxs(Rx,{children:[s.jsx(n6,{children:"Your company"}),s.jsx(wt,{value:" ",children:"Internal (your company)"})]}),s.jsx(st,{my:"1"}),s.jsxs(Rx,{children:[s.jsx(n6,{children:"Partners"}),v.map(O=>s.jsx(wt,{value:O.id,children:O.name},O.id))]})]})]})})]}),s.jsxs(pp,{label:"Image",children:[s.jsx("input",{ref:d,type:"file",accept:"image/*",style:{display:"none"},onChange:async O=>{var D;const j=(D=O.target.files)==null?void 0:D[0];if(j)try{await w(j)}catch(P){c("Upload failed",(P==null?void 0:P.message)??"Try another image.")}finally{O.currentTarget.value=""}}}),s.jsx("div",{style:{width:320,height:180,borderRadius:8,border:"1px solid var(--gray-a6)",background:"(--gray-a11)",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",marginBottom:8},children:R?s.jsx("img",{src:R,alt:"Vehicle",style:{width:"100%",height:"100%",objectFit:"cover"}}):s.jsxs(L,{size:"2",color:"gray",style:{display:"flex",alignItems:"center",gap:8},children:[s.jsx(s6,{width:18,height:18}),"No image"]})}),s.jsxs($,{gap:"2",align:"center",wrap:"wrap",children:[s.jsx(pe,{size:"2",variant:"soft",onClick:()=>{var O;return(O=d.current)==null?void 0:O.click()},disabled:S,children:s.jsxs($,{gap:"2",align:"center",children:[s.jsx(s6,{width:16,height:16}),S?"Uploading":R?"Change photo":"Add photo"]})}),h.image_path&&s.jsx(pe,{size:"2",variant:"ghost",color:"red",onClick:()=>p("image_path",null),disabled:S,children:"Remove photo"})]}),S&&s.jsxs("div",{style:{width:220,marginTop:8},children:[s.jsx(EO,{})," "]})]}),s.jsx(pp,{label:"Notes",children:s.jsx(Ci,{rows:3,value:h.notes,onChange:O=>p("notes",O.target.value),placeholder:"Add notes about this vehicle..."})})]}),s.jsxs($,{gap:"2",mt:"4",justify:"end",children:[s.jsx(Dn,{children:s.jsx(pe,{variant:"soft",disabled:E.isPending||S,children:"Cancel"})}),s.jsx(pe,{onClick:()=>E.mutate(),disabled:!_||E.isPending||S,children:E.isPending?"Saving":n==="edit"?"Save":"Create"})]})]})})}function pp({label:e,children:t}){return s.jsxs("div",{style:{flex:"1 1",minWidth:220},children:[s.jsx(L,{as:"div",size:"2",color:"gray",style:{marginBottom:6},children:e}),t]})}function kG({selectedId:e,onSelect:t,includeExternal:n,viewMode:i,search:r,onSearch:a}){const{companyId:o}=En(),[l,c]=g.useState(!1),[u,d]=g.useState(1),[h,m]=g.useState(10),p=g.useRef(null),v=g.useRef(null),S=g.useRef(null),b=g.useRef(null),{data:w=[],isLoading:R,isFetching:E}=et({...H8({companyId:o??"__none__",includeExternal:n,search:r}),enabled:!!o}),_=g.useCallback(()=>{var ce,ae,G,H,T;if(!p.current)return;const B=p.current.getBoundingClientRect().height;if(B===0)return;const M=((ce=v.current)==null?void 0:ce.offsetHeight)??0,z=((G=(ae=S.current)==null?void 0:ae.querySelector("thead"))==null?void 0:G.offsetHeight)??0,U=((H=b.current)==null?void 0:H.offsetHeight)??0,te=Math.max(0,B-M-z-U-48);if(te<100){m(5);return}const q=(T=p.current)==null?void 0:T.querySelector("tbody tr:not([data-row-probe])"),V=(q==null?void 0:q.getBoundingClientRect().height)||60,Q=Math.max(5,Math.min(50,Math.floor(te/V)));m(Q)},[]);g.useEffect(()=>{if(!p.current)return;const P=()=>_();window.addEventListener("resize",P);const B=new ResizeObserver(()=>{_()});B.observe(p.current);const M=setTimeout(()=>{_()},0),z=requestAnimationFrame(()=>{_()});return()=>{window.removeEventListener("resize",P),B.disconnect(),clearTimeout(M),cancelAnimationFrame(z)}},[_]),g.useEffect(()=>{!R&&w.length>0&&requestAnimationFrame(()=>{_()})},[R,w.length,_,i]),g.useEffect(()=>{d(1)},[r,n,i]);const N=Math.ceil(w.length/h),O=(u-1)*h,j=O+h,D=i==="list"?w.slice(O,j):w;return s.jsxs(X,{ref:p,style:{height:"100%",display:"flex",flexDirection:"column"},children:[s.jsx("div",{ref:v,children:s.jsxs($,{gap:"2",align:"center",wrap:"wrap",children:[s.jsxs(qe,{value:r,onChange:P=>a(P.target.value),placeholder:"Search vehicles",size:"3",style:{flex:"1 1 260px"},children:[s.jsx(Sr,{side:"left",children:s.jsx(qu,{})}),s.jsx(Sr,{side:"right",children:(R||E)&&s.jsx(Ei,{})})]}),s.jsx(pe,{variant:"classic",onClick:()=>c(!0),children:"Add vehicle"})]})}),s.jsx(X,{style:{flex:1,minHeight:0},children:i==="grid"?s.jsx(MFe,{rows:D,selectedId:e,onSelect:t}):s.jsx("div",{ref:P=>{P&&(S.current=P.querySelector("table"))},children:s.jsx(PFe,{rows:D,selectedId:e,onSelect:t})})}),i==="list"&&w.length>0&&s.jsx("div",{ref:b,children:s.jsxs($,{align:"center",justify:"between",mt:"3",children:[s.jsxs(L,{size:"2",color:"gray",children:["Showing ",O+1,"-",Math.min(j,w.length)," of"," ",w.length," vehicles"]}),s.jsxs($,{gap:"2",children:[s.jsx(pe,{disabled:u===1,onClick:()=>d(P=>P-1),variant:"classic",size:"2",children:"Prev"}),s.jsx(pe,{disabled:u>=N,onClick:()=>d(P=>P+1),variant:"classic",size:"2",children:"Next"})]})]})}),s.jsx(eue,{open:l,onOpenChange:c,mode:"create",onSaved:()=>{}})]})}var $G={code:"nb",week:{dow:1,doy:4},buttonText:{prev:"Forrige",next:"Neste",today:"I dag",year:"r",month:"Mned",week:"Uke",day:"Dag",list:"Agenda"},weekText:"Uke",weekTextLong:"Uke",allDayText:"Hele dagen",moreLinkText:"til",noEventsText:"Ingen hendelser  vise",buttonHints:{prev:"Forrige $0",next:"Neste $0",today:"Nvrende $0"},viewHint:"$0 visning",navLinkHint:"G til $0",moreLinkHint(e){return`Vis ${e} flere hendelse${e===1?"":"r"}`}};function q8({events:e,calendarHref:t,onCreate:n,onUpdate:i,onDelete:r,hasMore:a=!1,onLoadNext:o,showPagination:l=!1}){const[c,u]=g.useState(!0),[d,h]=g.useState(new Date),m=g.useRef(null);function p(b){const w=window.prompt("New booking title?");w&&(n==null||n({title:w,start:b.startStr,end:b.endStr,allDay:b.allDay}))}function v(b){const{id:w,title:R}=b.event,E=window.prompt('Edit title, or type "delete"',R||"");E&&(E.toLowerCase()==="delete"?r==null||r(w):i==null||i(w,{title:E}))}function S(b){var E;const R=((E=b.event.extendedProps)==null?void 0:E.jobTitle)||b.event.title||"Event";return s.jsx("span",{children:R})}return s.jsxs(X,{className:"companyCalendar",p:"2",style:{background:"transparent"},children:[s.jsxs($,{align:"center",justify:"between",mb:"2",children:[s.jsx(L,{weight:"bold",children:c?d.toLocaleDateString("en-US",{month:"long",year:"numeric"}):"Schedule"}),s.jsxs($,{gap:"2",align:"center",children:[s.jsx(Mn,{type:"button",size:"1",variant:c?"soft":"solid",onClick:()=>u(!1),title:"3-day view",children:s.jsx(Fu,{})}),s.jsx(Mn,{type:"button",size:"1",variant:c?"solid":"soft",onClick:()=>u(!0),title:"List view",children:s.jsx(e8,{})}),s.jsx(XA,{href:t,children:s.jsxs($,{align:"center",gap:"1",children:[s.jsx(L,{children:"Open calendar"}),s.jsx(jg,{})]})})]})]}),c?s.jsxs(s.Fragment,{children:[s.jsx(O1,{ref:m,plugins:[$6],initialView:"listMonth",headerToolbar:{start:"prev",center:"title",end:"next"},datesSet:b=>{b.view.type==="listMonth"&&b.start&&h(b.start)},timeZone:"Europe/Oslo",locale:$G,events:e,height:"auto",eventContent:S,listDayFormat:{weekday:"short",day:"2-digit",month:"short"},listDaySideFormat:!1,noEventsContent:"No bookings"},"list-month"),l&&a&&o&&s.jsx($,{justify:"center",mt:"2",children:s.jsxs(pe,{size:"2",variant:"soft",onClick:o,children:[s.jsx(L,{children:"Next 5"}),s.jsx(jg,{})]})})]}):s.jsx(O1,{plugins:[V8,K8],initialView:"timeGridThreeDay",headerToolbar:!1,views:{timeGridThreeDay:{type:"timeGrid",duration:{days:3},buttonText:"3 days"}},height:"420px",timeZone:"Europe/Oslo",locale:$G,selectable:!0,selectMirror:!0,select:p,eventClick:v,events:e,nowIndicator:!0,slotMinTime:"07:00:00",slotMaxTime:"20:00:00",eventDisplay:"block"},"timegrid")]})}const FFe="Europe/Oslo";function FG(e,t){if(!e)return;const n=e instanceof Date?e:typeof e=="string"||typeof e=="number"?new Date(e):null;if(!n||Number.isNaN(n.getTime()))return;const i=new Intl.DateTimeFormat("sv-SE",{timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hourCycle:"h23"}).formatToParts(n),r=h=>{var m;return((m=i.find(p=>p.type===h))==null?void 0:m.value)??""},a=r("year"),o=r("month"),l=r("day"),c=r("hour"),u=r("minute"),d=r("second");if(!(!a||!o||!l||!c||!u||!d))return`${a}-${o}-${l}T${c}:${u}:${d}`}function BFe(e,t){return e.map(n=>{if(n.allDay)return n;const i={...n},r=FG(n.start,t);if(r&&(i.start=r),n.end){const a=FG(n.end,t);a&&(i.end=a)}return i})}function BG({id:e}){const{companyId:t}=En(),{error:n,success:i}=Jt(),r=Yt(),[a,o]=g.useState(!1),[l,c]=g.useState(!1),[u,d]=g.useState(0),[h,m]=g.useState([]),p=!!(t&&e),{data:v,isLoading:S,isError:b,error:w}=et({...bFe({companyId:t??"",id:e??""}),enabled:p}),R=g.useRef(-1),{data:E=[],isLoading:_}=et({...yFe({companyId:t??"",vehicleId:e??"",limit:5,offset:u}),enabled:p&&!!e});g.useEffect(()=>{m([]),d(0),R.current=-1},[e]),g.useEffect(()=>{if(!(_||R.current===u))if(R.current=u,E.length>0){const M=BFe(FO(E),FFe);m(u===0?M:z=>{const U=new Set(z.map(te=>te.id)),K=M.filter(te=>te.id&&!U.has(te.id));return[...z,...K]})}else u===0&&m([])},[E,u,_]);const N=E.length===5,O=g.useCallback(()=>{d(M=>M+5)},[]),j=bt({mutationFn:async()=>{if(!t||!e||!v)throw new Error("Missing ids or data");await wFe({companyId:t,id:e});try{const{logActivity:M}=await $l(async()=>{const{logActivity:z}=await Promise.resolve().then(()=>tv);return{logActivity:z}},void 0);await M({companyId:t,activityType:"vehicle_removed",metadata:{vehicle_id:e,vehicle_name:v.name,license_plate:v.registration_no||null},title:v.name})}catch(M){console.error("Failed to log activity:",M)}},onSuccess:async()=>{await Promise.all([r.invalidateQueries({queryKey:["company",t,"vehicles-index"],exact:!1}),r.invalidateQueries({queryKey:["company",t,"vehicle-detail"],exact:!1}),r.invalidateQueries({queryKey:["company",t,"latest-feed"],exact:!1})]),i("Deleted","Vehicle was marked as deleted."),c(!1)},onError:M=>n("Failed to delete",(M==null?void 0:M.message)??"Please try again.")});if(!e)return s.jsx(L,{color:"gray",children:"Select a vehicle."});if(!p)return s.jsx(L,{color:"gray",children:"Preparing"});if(S)return s.jsxs($,{align:"center",gap:"1",children:[s.jsx(L,{children:"Thinking"}),s.jsx(Ei,{size:"2"})]});if(b)return s.jsxs(L,{color:"red",children:["Failed to load."," ",s.jsx(Ou,{children:(w==null?void 0:w.message)||"Unknown error"})]});if(!v)return s.jsx(L,{color:"gray",children:"Not found."});const D=v,P=D.image_path?re.storage.from("vehicle_images").getPublicUrl(D.image_path).data.publicUrl:null,B=D.fuel==="electric"?"green":D.fuel==="diesel"?"orange":"blue";return s.jsxs(X,{children:[s.jsxs($,{align:"center",justify:"between",gap:"2",children:[s.jsxs("div",{children:[s.jsx(L,{as:"div",size:"4",weight:"bold",children:D.name}),s.jsxs(L,{as:"div",size:"2",color:"gray",children:[D.registration_no??"","  ",s.jsx(mt,{variant:"soft",color:B,children:D.fuel??""}),"  ",D.internally_owned?s.jsx(mt,{variant:"soft",color:"indigo",children:"Internal"}):s.jsx(mt,{variant:"soft",color:"violet",children:D.external_owner_name??"External"})]})]}),s.jsxs($,{gap:"2",children:[s.jsx(pe,{size:"2",variant:"soft",onClick:()=>o(!0),children:s.jsx(gi,{})}),s.jsx(pe,{size:"2",variant:"surface",color:"red",onClick:()=>c(!0),children:s.jsx(vi,{})})]})]}),s.jsx(st,{my:"3"}),s.jsx("div",{style:{border:"1px solid var(--gray-a6)",borderRadius:8,overflow:"hidden",marginBottom:12,padding:10,maxWidth:300},children:P?s.jsx("img",{src:P,alt:D.name,style:{width:"100%",objectFit:"cover"}}):s.jsx("div",{style:{height:160,display:"flex",alignItems:"center",justifyContent:"center",color:"var(--gray-10)"},children:"No image"})}),s.jsxs($,{direction:"column",gap:"2",children:[s.jsx(qE,{label:"Owner",value:D.internally_owned?"Internal (your company)":D.external_owner_name??"External"}),s.jsx(qE,{label:"Vehicle Category",value:D.vehicle_category?{passenger_car_small:"Passenger Car - Small",passenger_car_medium:"Passenger Car - Medium",passenger_car_big:"Passenger Car - Big",van_small:"Van - Small",van_medium:"Van - Medium",van_big:"Van - Big",C1:"C1",C1E:"C1E",C:"C",CE:"CE"}[D.vehicle_category]||D.vehicle_category:""}),s.jsx(qE,{label:"Created",value:new Date(D.created_at).toLocaleString(void 0,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}),s.jsx(qE,{label:"Notes",value:D.notes||""})]}),s.jsx(q8,{events:h,calendarHref:`/calendar?vehicleId=${e}`,onCreate:M=>{},onUpdate:(M,z)=>{},onDelete:M=>{},hasMore:N,onLoadNext:O,showPagination:!0}),s.jsx(eue,{open:a,onOpenChange:o,mode:"edit",initial:{id:D.id,name:D.name,registration_no:D.registration_no??"",fuel:D.fuel??null,vehicle_category:D.vehicle_category??null,internally_owned:D.internally_owned,external_owner_id:D.external_owner_id,image_path:D.image_path??null,notes:D.notes??""},onSaved:()=>{}}),s.jsx(Mu,{open:l,onOpenChange:c,children:s.jsxs(Iu,{maxWidth:"480px",children:[s.jsx(Pu,{children:"Delete vehicle?"}),s.jsxs(ku,{size:"2",children:["This will mark ",s.jsx("b",{children:D.name})," as deleted. You can restore in the DB if needed."]}),s.jsxs($,{gap:"3",justify:"end",mt:"4",children:[s.jsx($u,{children:s.jsx(pe,{variant:"soft",children:"Cancel"})}),s.jsx(zd,{children:s.jsx(pe,{color:"red",variant:"solid",onClick:()=>j.mutate(),disabled:j.isPending,children:j.isPending?"Deleting":"Yes, delete"})})]})]})})]})}function qE({label:e,value:t}){return s.jsxs("div",{children:[s.jsx(L,{as:"div",size:"1",color:"gray",style:{marginBottom:4},children:e}),s.jsx(L,{as:"div",size:"2",children:t})]})}function zFe(){const{companyId:e}=En(),[t,n]=g.useState(null),[i,r]=g.useState(!0),[a,o]=g.useState("grid"),[l,c]=g.useState(""),[u,d]=g.useState(()=>typeof window<"u"?window.matchMedia("(min-width: 1024px)").matches:!1);g.useEffect(()=>{const b=window.matchMedia("(min-width: 1024px)"),w=R=>d(R.matches);try{return b.addEventListener("change",w),()=>b.removeEventListener("change",w)}catch{return b.addListener(w),()=>b.removeListener(w)}},[]);const[h,m]=g.useState(50),[p,v]=g.useState(!1),S=g.useRef(null);return g.useEffect(()=>{if(!p)return;const b=R=>{if(!S.current)return;const E=S.current.getBoundingClientRect(),_=E.width,N=R.clientX-E.left,D=Math.max(25,Math.min(75,N/_*100));m(D)},w=()=>{v(!1),document.body.style.cursor="",document.body.style.userSelect=""};return document.body.style.cursor="col-resize",document.body.style.userSelect="none",document.addEventListener("mousemove",b),document.addEventListener("mouseup",w),()=>{document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",w),document.body.style.cursor="",document.body.style.userSelect=""}},[p]),e?u?s.jsx("section",{style:{height:u?"100%":void 0,minHeight:0},children:s.jsxs($,{ref:S,gap:"2",align:"stretch",style:{height:u?"100%":void 0,minHeight:0,position:"relative"},children:[s.jsxs(Rt,{size:"3",style:{display:"flex",flexDirection:"column",width:`${h}%`,height:u?"100%":void 0,minWidth:"300px",maxWidth:"75%",minHeight:0,flexShrink:0,transition:p?"none":"width 0.1s ease-out"},children:[s.jsxs($,{align:"center",justify:"between",mb:"3",wrap:"wrap",gap:"3",children:[s.jsx(He,{size:"5",children:"Vehicles"}),s.jsxs($,{align:"center",gap:"3",wrap:"wrap",children:[s.jsx(L,{size:"2",color:"gray",children:"Show external"}),s.jsx(Ro,{checked:i,onCheckedChange:b=>r(!!b)}),s.jsxs(Xa,{value:a,onValueChange:b=>o(b),children:[s.jsx(wi,{value:"grid",children:"Grid"}),s.jsx(wi,{value:"list",children:"List"})]})]})]}),s.jsx(st,{size:"4",mb:"3"}),s.jsx(X,{style:{flex:u?1:void 0,minHeight:u?0:void 0,overflowY:u?"auto":"visible"},children:s.jsx(kG,{selectedId:t,onSelect:n,includeExternal:i,viewMode:a,search:l,onSearch:c})})]}),s.jsx(X,{className:"section-resizer",onMouseDown:b=>{b.preventDefault(),v(!0)},style:{width:"6px",height:"20%",cursor:"col-resize",backgroundColor:"var(--gray-a4)",borderRadius:"4px",flexShrink:0,alignSelf:"center",userSelect:"none",margin:"0 -4px",zIndex:10,transition:p?"none":"background-color 0.2s"},onMouseEnter:b=>{p||(b.currentTarget.style.backgroundColor="var(--gray-a6)",b.currentTarget.style.cursor="col-resize")},onMouseLeave:b=>{p||(b.currentTarget.style.backgroundColor="var(--gray-a4)")}}),s.jsxs(Rt,{size:"3",style:{display:"flex",flexDirection:"column",flex:1,height:u?"100%":void 0,maxHeight:u?"100%":void 0,overflow:u?"hidden":"visible",minWidth:"300px",minHeight:0,transition:p?"none":"flex-basis 0.1s ease-out"},children:[s.jsx(He,{size:"5",mb:"3",children:"Inspector"}),s.jsx(st,{size:"4",mb:"3"}),s.jsx(X,{style:{flex:u?1:void 0,minHeight:u?0:void 0,overflowY:u?"auto":"visible"},children:s.jsx(BG,{id:t})})]})]})}):s.jsx("section",{style:{height:u?"100%":void 0,minHeight:0},children:s.jsxs(Zn,{columns:"1fr",gap:"4",align:"stretch",style:{height:u?"100%":void 0,minHeight:0},children:[s.jsxs(Rt,{size:"3",style:{display:"flex",flexDirection:"column",height:u?"100%":void 0,minHeight:0},children:[s.jsxs($,{align:"center",justify:"between",mb:"3",wrap:"wrap",gap:"3",children:[s.jsx(He,{size:"5",children:"Vehicles"}),s.jsxs($,{align:"center",gap:"3",wrap:"wrap",children:[s.jsx(L,{size:"2",color:"gray",children:"Show external"}),s.jsx(Ro,{checked:i,onCheckedChange:b=>r(!!b)}),s.jsxs(Xa,{value:a,onValueChange:b=>o(b),children:[s.jsx(wi,{value:"grid",children:"Grid"}),s.jsx(wi,{value:"list",children:"List"})]})]})]}),s.jsx(st,{size:"4",mb:"3"}),s.jsx(X,{style:{flex:u?1:void 0,minHeight:u?0:void 0,overflowY:u?"auto":"visible"},children:s.jsx(kG,{selectedId:t,onSelect:n,includeExternal:i,viewMode:a,search:l,onSearch:c})})]}),s.jsxs(Rt,{size:"3",style:{display:"flex",flexDirection:"column",height:u?"100%":void 0,maxHeight:u?"100%":void 0,overflow:u?"hidden":"visible",minHeight:0},children:[s.jsx(He,{size:"5",mb:"3",children:"Inspector"}),s.jsx(st,{size:"4",mb:"3"}),s.jsx(X,{style:{flex:u?1:void 0,minHeight:u?0:void 0,overflowY:u?"auto":"visible"},children:s.jsx(BG,{id:t})})]})]})}):s.jsx("div",{children:"No company selected."})}async function UFe({companyId:e,userId:t,role:n}){const{data:i,error:r}=await re.auth.getUser();if(r)throw r;const a=i.user.id;if(!a)throw new Error("Not authenticated");const{data:o,error:l}=await re.rpc("set_company_user_role",{p_company_id:e,p_target_user_id:t,p_new_role:n,p_actor_user_id:a});if(l)throw l;return o}async function VFe({companyId:e,userId:t}){const{data:n,error:i}=await re.auth.getUser();if(i)throw i;if(!n.user.id)throw new Error("Not authenticated");const{error:a}=await re.from("company_users").delete().eq("company_id",e).eq("user_id",t);if(a)throw a}function KFe(){return{queryKey:["companies","index"],queryFn:async()=>{const{data:e,error:t}=await re.from("companies").select(`
          id,
          name,
          created_at,
          address,
          vat_number,
          general_email,
          contact_person_id,
          contact_person:profiles!companies_contact_person_id_fkey (
            user_id,
            display_name,
            email
          )
        `).order("name",{ascending:!0});if(t)throw t;return e.map(n=>{const i=Array.isArray(n.contact_person)?n.contact_person[0]:n.contact_person;return{id:n.id,name:n.name,created_at:n.created_at,address:n.address??null,vat_number:n.vat_number??null,general_email:n.general_email??null,contact_person_id:n.contact_person_id??null,contact_person:i}})}}}function zO({companyId:e}){return{queryKey:["company",e,"company-detail"],queryFn:async()=>{const{data:t,error:n}=await re.from("companies").select(`
          id,
          name,
          created_at,
          address,
          vat_number,
          general_email,
          contact_person_id,
          accent_color,
          theme_radius,
          theme_gray_color,
          theme_panel_background,
          theme_scaling,
          logo_path,
          logo_light_path,
          logo_dark_path,
          contact_person:profiles!companies_contact_person_id_fkey (
            user_id,
            display_name,
            email,
            phone
          )
        `).eq("id",e).limit(1,{foreignTable:"profiles"}).single();if(n)throw n;const i=(Array.isArray(t.contact_person)?t.contact_person[0]:t.contact_person)??null;return{id:t.id,name:t.name,created_at:t.created_at,address:t.address??null,vat_number:t.vat_number??null,general_email:t.general_email??null,contact_person_id:t.contact_person_id??null,accent_color:t.accent_color??null,theme_radius:t.theme_radius??null,theme_gray_color:t.theme_gray_color??null,theme_panel_background:t.theme_panel_background??null,theme_scaling:t.theme_scaling??null,logo_path:t.logo_path??null,logo_light_path:t.logo_light_path??null,logo_dark_path:t.logo_dark_path??null,contact_person:i}}}}async function tue({companyId:e,id:t,name:n,address:i,vat_number:r,general_email:a,contact_person_id:o,logo_path:l,logo_light_path:c,logo_dark_path:u}){const{data:d,error:h}=await re.auth.getUser();if(h)throw h;if(!d.user.id)throw new Error("Not authenticated");if(t!==e)throw new Error("Company ID mismatch");const p={name:n,address:i||null,vat_number:r||null,general_email:a||null,contact_person_id:o||null};l!==void 0&&(p.logo_path=l),c!==void 0&&(p.logo_light_path=c),u!==void 0&&(p.logo_dark_path=u);const{error:v}=await re.from("companies").update(p).eq("id",t);if(v)throw v}async function GFe({companyId:e,accentColor:t,radius:n,grayColor:i,panelBackground:r,scaling:a}){const{data:o,error:l}=await re.auth.getUser();if(l)throw l;if(!o.user.id)throw new Error("Not authenticated");const u={};t!==void 0&&(u.accent_color=t),n!==void 0&&(u.theme_radius=n),i!==void 0&&(u.theme_gray_color=i),r!==void 0&&(u.theme_panel_background=r),a!==void 0&&(u.theme_scaling=a);const{error:d}=await re.from("companies").update(u).eq("id",e);if(d)throw d}function UO({companyId:e}){return{queryKey:["company",e,"expansion"],queryFn:async()=>{if(!e||typeof e!="string")return null;const{data:t,error:n}=await re.from("company_expansions").select("id, company_id, accounting_software, accounting_api_key_encrypted, accounting_api_key_sandbox_encrypted, accounting_api_environment, accounting_organization_id, accounting_api_read_only, crew_rate_per_day, crew_rate_per_hour, vehicle_daily_rate, vehicle_distance_rate, vehicle_distance_increment, customer_discount_percent, partner_discount_percent, rental_factor_config, fixed_rate_start_day, fixed_rate_per_day, created_at, updated_at").eq("company_id",e).maybeSingle();if(n)throw n;if(!t)return null;let i=t.rental_factor_config;if(typeof i=="string")try{i=JSON.parse(i)}catch{i=null}return{...t,rental_factor_config:i}}}}async function Sd({companyId:e,accountingSoftware:t,apiKey:n,sandboxApiKey:i,apiEnvironment:r,organizationId:a,readOnly:o}){const{data:l,error:c}=await re.auth.getUser();if(c)throw c;if(!l.user.id)throw new Error("Not authenticated");let d=null;if(n&&t!=="none"){const{data:S,error:b}=await re.rpc("encrypt_api_key",{p_company_id:e,p_api_key:n});if(b)throw b;d=S}let h=null;if(i&&t!=="none"){const{data:S,error:b}=await re.rpc("encrypt_api_key",{p_company_id:e,p_api_key:i});if(b)throw b;h=S}const{data:m}=await re.from("company_expansions").select("*").eq("company_id",e).maybeSingle(),{data:p,error:v}=await re.from("company_expansions").upsert({company_id:e,accounting_software:t!==void 0?t:(m==null?void 0:m.accounting_software)??"none",accounting_api_key_encrypted:n!==void 0?d:(m==null?void 0:m.accounting_api_key_encrypted)??null,accounting_api_key_sandbox_encrypted:i!==void 0?h:(m==null?void 0:m.accounting_api_key_sandbox_encrypted)??null,accounting_api_environment:r!==void 0?r:(m==null?void 0:m.accounting_api_environment)??"production",accounting_organization_id:a!==void 0?a:(m==null?void 0:m.accounting_organization_id)??null,accounting_api_read_only:o!==void 0?o:(m==null?void 0:m.accounting_api_read_only)??!0},{onConflict:"company_id"}).select().single();if(v)throw v;return p}function VO({columns:e="1fr 1fr",showHeader:t=!0,showTableRows:n=8,showInspector:i=!0}){const[r,a]=g.useState(()=>typeof window<"u"?window.matchMedia("(min-width: 1024px)").matches:!1);g.useEffect(()=>{const l=window.matchMedia("(min-width: 1024px)"),c=u=>a(u.matches);try{return l.addEventListener("change",c),()=>l.removeEventListener("change",c)}catch{return l.addListener(c),()=>l.removeListener(c)}},[]);const o=r?e:"1fr";return s.jsx("section",{style:{height:r?"100%":void 0,minHeight:0},children:s.jsxs(Zn,{columns:{initial:"1fr",lg:o},gap:"4",align:"stretch",style:{height:r?"100%":void 0,minHeight:0},children:[s.jsxs(Rt,{size:"3",style:{display:"flex",flexDirection:"column",height:r?"100%":void 0,minHeight:0},children:[t&&s.jsxs(s.Fragment,{children:[s.jsxs($,{align:"center",justify:"between",mb:"3",children:[s.jsx(Di,{children:s.jsx(He,{size:"5",children:"Loading..."})}),s.jsx(Di,{children:s.jsx(X,{style:{width:120,height:32}})})]}),s.jsx(st,{size:"4",mb:"3"})]}),s.jsx(X,{style:{flex:r?1:void 0,minHeight:r?0:void 0,overflowY:r?"auto":"visible"},children:Array.from({length:n}).map((l,c)=>s.jsx(Di,{mb:"2",style:{height:44}},c))})]}),i&&s.jsxs(Rt,{size:"3",style:{display:"flex",flexDirection:"column",height:r?"100%":void 0,maxHeight:r?"100%":void 0,overflow:r?"hidden":"visible",minHeight:0},children:[s.jsx(Di,{mb:"3",children:s.jsx(He,{size:"5",children:"Inspector"})}),s.jsx(st,{size:"4",mb:"3"}),s.jsxs(X,{style:{flex:r?1:void 0,minHeight:r?0:void 0,overflowY:r?"auto":"visible"},children:[s.jsx(Di,{mb:"3",style:{height:200}}),s.jsx(Di,{mb:"2",style:{height:24}}),s.jsx(Di,{mb:"2",style:{height:24}}),s.jsx(Di,{mb:"2",style:{height:24}}),s.jsx(Di,{mb:"2",style:{height:24,width:"60%"}})]})]})]})})}const HFe=g.createContext(null);function qFe(){var e;return((e=g.useContext(HFe))==null?void 0:e.defaultOptions)??{}}function WFe(e){return typeof e=="function"}function zG(e,...t){return WFe(e)?e(...t):e}var Vp,Ol,vo,x2,Wf,eg,Yf,c1,w2,DN,Kp,u1,Jf,E2,d1,CN;class YFe{constructor({pluginId:t,debug:n=!1,enabled:i=!0,reconnectEveryMs:r=300}){Kt(this,Vp,!0);Kt(this,Ol);Kt(this,vo);Kt(this,x2);Kt(this,Wf);Kt(this,eg);Kt(this,Yf);Kt(this,c1);Kt(this,w2,0);Kt(this,DN,5);Kt(this,Kp,!1);Kt(this,u1,!1);Kt(this,Jf,null);Kt(this,E2,()=>{this.debugLog("Connected to event bus"),Tt(this,eg,!0),Tt(this,Kp,!1),this.debugLog("Emitting queued events",Ae(this,Wf)),Ae(this,Wf).forEach(t=>this.emitEventToBus(t)),Tt(this,Wf,[]),this.stopConnectLoop(),Ae(this,vo).call(this).removeEventListener("tanstack-connect-success",Ae(this,E2))});Kt(this,d1,()=>{if(Ae(this,w2)<Ae(this,DN)){JS(this,w2)._++,this.dispatchCustomEvent("tanstack-connect",{});return}Ae(this,vo).call(this).removeEventListener("tanstack-connect",Ae(this,d1)),Tt(this,u1,!0),this.debugLog("Max retries reached, giving up on connection"),this.stopConnectLoop()});Kt(this,CN,()=>{Ae(this,Kp)||(Tt(this,Kp,!0),Ae(this,vo).call(this).addEventListener("tanstack-connect-success",Ae(this,E2)),Ae(this,d1).call(this))});Tt(this,Ol,t),Tt(this,Vp,i),Tt(this,vo,this.getGlobalTarget),Tt(this,x2,n),this.debugLog(" Initializing event subscription for plugin",Ae(this,Ol)),Tt(this,Wf,[]),Tt(this,eg,!1),Tt(this,u1,!1),Tt(this,Yf,null),Tt(this,c1,r)}startConnectLoop(){Ae(this,Yf)!==null||Ae(this,eg)||(this.debugLog(`Starting connect loop (every ${Ae(this,c1)}ms)`),Tt(this,Yf,setInterval(Ae(this,d1),Ae(this,c1))))}stopConnectLoop(){Tt(this,Kp,!1),Ae(this,Yf)!==null&&(clearInterval(Ae(this,Yf)),Tt(this,Yf,null),Tt(this,Wf,[]),this.debugLog("Stopped connect loop"))}debugLog(...t){Ae(this,x2)&&console.log(` [tanstack-devtools:${Ae(this,Ol)}-plugin]`,...t)}getGlobalTarget(){if(typeof globalThis<"u"&&globalThis.__TANSTACK_EVENT_TARGET__)return this.debugLog("Using global event target"),globalThis.__TANSTACK_EVENT_TARGET__;if(typeof window<"u"&&typeof window.addEventListener<"u")return this.debugLog("Using window as event target"),window;const t=typeof EventTarget<"u"?new EventTarget:void 0;return typeof t>"u"||typeof t.addEventListener>"u"?(this.debugLog("No event mechanism available, running in non-web environment"),{addEventListener:()=>{},removeEventListener:()=>{},dispatchEvent:()=>!1}):(this.debugLog("Using new EventTarget as fallback"),t)}getPluginId(){return Ae(this,Ol)}dispatchCustomEventShim(t,n){try{const i=new Event(t,{detail:n});Ae(this,vo).call(this).dispatchEvent(i)}catch{this.debugLog("Failed to dispatch shim event")}}dispatchCustomEvent(t,n){try{Ae(this,vo).call(this).dispatchEvent(new CustomEvent(t,{detail:n}))}catch{this.dispatchCustomEventShim(t,n)}}emitEventToBus(t){this.debugLog("Emitting event to client bus",t),this.dispatchCustomEvent("tanstack-dispatch-event",t)}createEventPayload(t,n){return{type:`${Ae(this,Ol)}:${t}`,payload:n,pluginId:Ae(this,Ol)}}emit(t,n){if(!Ae(this,Vp)){this.debugLog("Event bus client is disabled, not emitting event",t,n);return}if(Ae(this,Jf)&&(this.debugLog("Emitting event to internal event target",t,n),Ae(this,Jf).dispatchEvent(new CustomEvent(`${Ae(this,Ol)}:${t}`,{detail:this.createEventPayload(t,n)}))),Ae(this,u1)){this.debugLog("Previously failed to connect, not emitting to bus");return}if(!Ae(this,eg)){this.debugLog("Bus not available, will be pushed as soon as connected"),Ae(this,Wf).push(this.createEventPayload(t,n)),typeof CustomEvent<"u"&&!Ae(this,Kp)&&(Ae(this,CN).call(this),this.startConnectLoop());return}return this.emitEventToBus(this.createEventPayload(t,n))}on(t,n,i){const r=(i==null?void 0:i.withEventTarget)??!1,a=`${Ae(this,Ol)}:${t}`;if(r&&(Ae(this,Jf)||Tt(this,Jf,new EventTarget),Ae(this,Jf).addEventListener(a,l=>{n(l.detail)})),!Ae(this,Vp))return this.debugLog("Event bus client is disabled, not registering event",a),()=>{};const o=l=>{this.debugLog("Received event from bus",l.detail),n(l.detail)};return Ae(this,vo).call(this).addEventListener(a,o),this.debugLog("Registered event to bus",a),()=>{var l;r&&((l=Ae(this,Jf))==null||l.removeEventListener(a,o)),Ae(this,vo).call(this).removeEventListener(a,o)}}onAll(t){if(!Ae(this,Vp))return this.debugLog("Event bus client is disabled, not registering event"),()=>{};const n=i=>{const r=i.detail;t(r)};return Ae(this,vo).call(this).addEventListener("tanstack-devtools-global",n),()=>Ae(this,vo).call(this).removeEventListener("tanstack-devtools-global",n)}onAllPluginEvents(t){if(!Ae(this,Vp))return this.debugLog("Event bus client is disabled, not registering event"),()=>{};const n=i=>{const r=i.detail;Ae(this,Ol)&&r.pluginId!==Ae(this,Ol)||t(r)};return Ae(this,vo).call(this).addEventListener("tanstack-devtools-global",n),()=>Ae(this,vo).call(this).removeEventListener("tanstack-devtools-global",n)}}Vp=new WeakMap,Ol=new WeakMap,vo=new WeakMap,x2=new WeakMap,Wf=new WeakMap,eg=new WeakMap,Yf=new WeakMap,c1=new WeakMap,w2=new WeakMap,DN=new WeakMap,Kp=new WeakMap,u1=new WeakMap,Jf=new WeakMap,E2=new WeakMap,d1=new WeakMap,CN=new WeakMap;var JFe=class extends YFe{constructor(e){super({pluginId:"pacer",debug:e==null?void 0:e.debug})}};const QFe=(e,t)=>{t.key&&nue.emit(e,t)},nue=new JFe,z6=new WeakMap,XFe=new WeakMap,xR={current:[]};let AC=!1;const WE=new Set,UG=new Map;function iue(e){for(const t of e){if(xR.current.includes(t))continue;xR.current.push(t),t.recompute();const n=XFe.get(t);if(n)for(const i of n){const r=z6.get(i);r!=null&&r.length&&iue(r)}}}function ZFe(e){const t={prevVal:e.prevState,currentVal:e.state};for(const n of e.listeners)n(t)}function eBe(e){const t={prevVal:e.prevState,currentVal:e.state};for(const n of e.listeners)n(t)}function tBe(e){if(WE.add(e),!AC)try{for(AC=!0;WE.size>0;){const t=Array.from(WE);WE.clear();for(const n of t){const i=UG.get(n)??n.prevState;n.prevState=i,ZFe(n)}for(const n of t){const i=z6.get(n);i&&(xR.current.push(n),iue(i))}for(const n of t){const i=z6.get(n);if(i)for(const r of i)eBe(r)}}}finally{AC=!1,xR.current=[],UG.clear()}}function nBe(e){return typeof e=="function"}class iBe{constructor(t,n){this.listeners=new Set,this.subscribe=i=>{var r,a;this.listeners.add(i);const o=(a=(r=this.options)==null?void 0:r.onSubscribe)==null?void 0:a.call(r,i,this);return()=>{this.listeners.delete(i),o==null||o()}},this.prevState=t,this.state=t,this.options=n}setState(t){var n,i,r;this.prevState=this.state,(n=this.options)!=null&&n.updateFn?this.state=this.options.updateFn(this.prevState)(t):nBe(t)?this.state=t(this.prevState):this.state=t,(r=(i=this.options)==null?void 0:i.onUpdate)==null||r.call(i),tBe(this)}}function VG(e,t=i=>i,n={}){const i=n.equal??rBe;return WI.useSyncExternalStoreWithSelector(e.subscribe,()=>e.state,()=>e.state,t,i)}function rBe(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[i,r]of e)if(!t.has(i)||!Object.is(r,t.get(i)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0}if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();const n=KG(e);if(n.length!==KG(t).length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!Object.is(e[n[i]],t[n[i]]))return!1;return!0}function KG(e){return Object.keys(e).concat(Object.getOwnPropertySymbols(e))}function GG(){return{canLeadingExecute:!0,executionCount:0,isPending:!1,lastArgs:void 0,status:"idle",maybeExecuteCount:0}}const aBe={enabled:!0,leading:!1,trailing:!0,wait:0};var Qf,Nc,tg,LN,f1,_2,Mee,sBe=(Mee=class{constructor(e,t){Kt(this,Qf);Kt(this,Nc,e=>{this.store.setState(t=>{const n={...t,...e},{isPending:i}=n;return{...n,status:Ae(this,tg).call(this)?i?"pending":"idle":"disabled"}}),QFe("Debouncer",this)});Kt(this,tg,()=>!!zG(this.options.enabled,this));Kt(this,LN,()=>zG(this.options.wait,this));Kt(this,f1,(...e)=>{var t,n;Ae(this,tg).call(this)&&(this.fn(...e),Ae(this,Nc).call(this,{executionCount:this.store.state.executionCount+1,isPending:!1,lastArgs:void 0}),(n=(t=this.options).onExecute)==null||n.call(t,e,this))});Kt(this,_2,()=>{Ae(this,Qf)&&(clearTimeout(Ae(this,Qf)),Tt(this,Qf,void 0))});this.fn=e,this.store=new iBe(GG()),this.setOptions=n=>{this.options={...this.options,...n},Ae(this,tg).call(this)||this.cancel()},this.maybeExecute=(...n)=>{if(!Ae(this,tg).call(this))return;Ae(this,Nc).call(this,{maybeExecuteCount:this.store.state.maybeExecuteCount+1});let i=!1;this.options.leading&&this.store.state.canLeadingExecute&&(Ae(this,Nc).call(this,{canLeadingExecute:!1}),i=!0,Ae(this,f1).call(this,...n)),this.options.trailing&&Ae(this,Nc).call(this,{isPending:!0,lastArgs:n}),Ae(this,Qf)&&clearTimeout(Ae(this,Qf)),Tt(this,Qf,setTimeout(()=>{Ae(this,Nc).call(this,{canLeadingExecute:!0}),this.options.trailing&&!i&&Ae(this,f1).call(this,...n)},Ae(this,LN).call(this)))},this.flush=()=>{this.store.state.isPending&&this.store.state.lastArgs&&(Ae(this,_2).call(this),Ae(this,f1).call(this,...this.store.state.lastArgs))},this.cancel=()=>{Ae(this,_2).call(this),Ae(this,Nc).call(this,{canLeadingExecute:!0,isPending:!1})},this.reset=()=>{Ae(this,Nc).call(this,GG())},this.key=t.key,this.options={...aBe,...t},Ae(this,Nc).call(this,this.options.initialState??{}),this.key&&nue.on("d-Debouncer",n=>{n.payload.key===this.key&&(Ae(this,Nc).call(this,n.payload.store.state),this.setOptions(n.payload.options))})}},Qf=new WeakMap,Nc=new WeakMap,tg=new WeakMap,LN=new WeakMap,f1=new WeakMap,_2=new WeakMap,Mee);function oBe(e,t,n=()=>({})){const i={...qFe().debouncer,...t},[r]=g.useState(()=>{const o=new sBe(e,i);return o.Subscribe=function(c){const u=VG(o.store,c.selector);return typeof c.children=="function"?c.children(u):c.children},o});r.fn=e,r.setOptions(i),g.useEffect(()=>()=>{r.cancel()},[r]);const a=VG(r.store,n);return g.useMemo(()=>({...r,state:a}),[r,a])}function lBe(e,t,n){const[i,r]=g.useState(e),a=oBe(r,t,n);return[i,a.maybeExecute,a]}function W8(e,t,n){const[i,r,a]=lBe(e,t,n);return g.useEffect(()=>{r(e)},[e,r]),[i,a]}function or({value:e,onChange:t,label:n,placeholder:i,invalid:r=!1,dateOnly:a=!1,iconButton:o=!1,iconButtonSize:l="2",disabled:c=!1}){const d=i||(a?"Select date":"Select date and time"),[h,m]=g.useState(!1),[p,v]=g.useState("date"),[S,b]=g.useState(()=>{if(e){const G=new Date(e);return new Date(G.getFullYear(),G.getMonth(),1)}return new Date(new Date().getFullYear(),new Date().getMonth(),1)}),[w,R]=g.useState(!1),E=g.useRef(null),_=e?mp(e):"",N=e?new Date(e):null,O=e?new Date(e).getHours():9,j=e?new Date(e).getMinutes():0,D=g.useMemo(()=>{const G=S.getFullYear(),H=S.getMonth(),T=new Date(G,H,1),Y=new Date(G,H+1,0),ie=T.getDay(),ne=ie===0?6:ie-1,J=Y.getDate(),ee=[],se=new Date(G,H-1,0);for(let he=ne-1;he>=0;he--)ee.push({day:se.getDate()-he,date:new Date(G,H-1,se.getDate()-he),isCurrentMonth:!1});for(let he=1;he<=J;he++)ee.push({day:he,date:new Date(G,H,he),isCurrentMonth:!0});const de=42-ee.length;for(let he=1;he<=de;he++)ee.push({day:he,date:new Date(G,H+1,he),isCurrentMonth:!1});return ee},[S]),P=G=>{if(c)return;const H=mp(G.toISOString());if(a){const T=`${H}T00:00`;t(a0(T)),m(!1)}else{const T=e?O:9,Y=e?j:0,ie=`${String(T).padStart(2,"0")}:${String(Y).padStart(2,"0")}`,ne=`${H}T${ie}`;t(a0(ne)),v("time")}},B=G=>{if(c)return;if(!_){const ie=mp(new Date().toISOString()),ne=`${String(G).padStart(2,"0")}:${String(j).padStart(2,"0")}`,J=`${ie}T${ne}`;t(a0(J));return}const H=_,T=`${String(G).padStart(2,"0")}:${String(j).padStart(2,"0")}`,Y=`${H}T${T}`;t(a0(Y))},M=G=>{if(c)return;if(!_){const ie=mp(new Date().toISOString()),ne=`${String(O).padStart(2,"0")}:${String(G).padStart(2,"0")}`,J=`${ie}T${ne}`;t(a0(J));return}const H=_,T=`${String(O).padStart(2,"0")}:${String(G).padStart(2,"0")}`,Y=`${H}T${T}`;t(a0(Y))},z=()=>{if(!e)return d;const G=new Date(e),H=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],T=G.getDate(),Y=H[G.getMonth()],ie=G.getFullYear(),ne=`${T}. ${Y} ${ie}`;if(a)return ne;const J=G.getHours(),ee=G.getMinutes(),se=String(J).padStart(2,"0"),de=String(ee).padStart(2,"0");return`${ne}, ${se}:${de}`},U=S.getFullYear(),K=S.getMonth(),te=S.toLocaleDateString("en-US",{month:"long"}),q=g.useMemo(()=>{const G=new Date().getFullYear(),H=[];for(let T=1930;T<=G+10;T++)H.push(T);return H},[]),V=G=>{b(new Date(G,K,1)),R(!1)};g.useEffect(()=>{if(w&&E.current){const G=E.current.querySelector(`[data-year="${new Date().getFullYear()}"]`);G&&G.scrollIntoView({block:"center",behavior:"smooth"})}},[w]);const Q=G=>mp(G.toISOString())===mp(new Date().toISOString()),ce=G=>N&&mp(G.toISOString())===mp(N.toISOString()),ae=o?s.jsx(Mn,{variant:"soft",size:l,disabled:c,style:r?{border:"1px solid var(--red-8)",boxShadow:"0 0 0 1px var(--red-8)"}:void 0,children:s.jsx(Fu,{width:16,height:16})}):s.jsxs("button",{type:"button",disabled:c,style:{width:"100%",padding:"8px 12px",borderRadius:"var(--radius-3)",border:`1px solid ${r?"var(--red-8)":"var(--gray-a6)"}`,background:"var(--color-panel-solid)",color:e?"var(--gray-12)":"var(--gray-9)",fontSize:"var(--font-size-3)",lineHeight:"var(--line-height-3)",fontFamily:"inherit",display:"flex",alignItems:"center",gap:"8px",cursor:c?"not-allowed":"pointer",opacity:c?.6:1,transition:"border-color 0.15s, background-color 0.15s",textAlign:"left"},onMouseEnter:G=>{c||(G.currentTarget.style.borderColor=r?"var(--red-9)":"var(--gray-a8)")},onMouseLeave:G=>{c||(G.currentTarget.style.borderColor=r?"var(--red-8)":"var(--gray-a6)")},children:[s.jsx(Fu,{width:16,height:16}),z()]});return s.jsxs(X,{style:{minWidth:0},children:[n&&!o&&s.jsx(L,{as:"div",size:"2",color:"gray",style:{marginBottom:8},children:n}),s.jsxs(Rg,{open:c?!1:h,onOpenChange:G=>{c||(m(G),G||R(!1))},children:[s.jsx(Ng,{children:ae}),s.jsxs(Og,{side:"bottom",align:"start",sideOffset:4,style:{width:360,maxHeight:"min(80vh, 600px)",maxWidth:"calc(100vw - 32px)",overflowY:"auto",zIndex:10001},children:[s.jsx($,{align:"center",justify:"between",mb:"3",gap:"2",children:!a&&s.jsxs($,{gap:"1",style:{background:"var(--gray-3)",padding:4,borderRadius:6,display:"inline-flex"},children:[s.jsx("button",{type:"button",onClick:()=>{v("date"),R(!1)},style:{padding:"6px 16px",borderRadius:4,border:"none",background:p==="date"?"var(--gray-9)":"transparent",color:p==="date"?"white":"var(--gray-11)",cursor:"pointer",fontSize:"var(--font-size-2)",fontWeight:p==="date"?500:400,transition:"all 0.15s"},children:"Date"}),s.jsx("button",{type:"button",onClick:()=>{v("time"),R(!1)},style:{padding:"6px 16px",borderRadius:4,border:"none",background:p==="time"?"var(--gray-9)":"transparent",color:p==="time"?"white":"var(--gray-11)",cursor:"pointer",fontSize:"var(--font-size-2)",fontWeight:p==="time"?500:400,transition:"all 0.15s"},children:"Time"})]})}),(a||p==="date")&&!w&&s.jsxs(X,{children:[s.jsxs($,{align:"center",justify:"between",mb:"3",children:[s.jsx("button",{type:"button",onClick:()=>{b(new Date(S.getFullYear(),S.getMonth()-1,1))},style:{padding:"4px 8px",border:"1px solid var(--gray-6)",borderRadius:4,background:"var(--gray-2)",cursor:"pointer"},children:""}),s.jsxs($,{align:"center",gap:"2",children:[s.jsx(L,{size:"2",weight:"medium",children:te}),s.jsx("button",{type:"button",onClick:()=>R(!0),style:{padding:"2px 8px",border:"none",borderRadius:4,background:"transparent",cursor:"pointer",color:"var(--gray-11)",fontSize:"var(--font-size-2)",fontWeight:500,transition:"background-color 0.15s"},onMouseEnter:G=>{G.currentTarget.style.background="var(--gray-3)"},onMouseLeave:G=>{G.currentTarget.style.background="transparent"},children:U})]}),s.jsx("button",{type:"button",onClick:()=>{b(new Date(S.getFullYear(),S.getMonth()+1,1))},style:{padding:"4px 8px",border:"1px solid var(--gray-6)",borderRadius:4,background:"var(--gray-2)",cursor:"pointer"},children:""})]}),s.jsx($,{mb:"2",style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:4},children:["Mo","Tu","We","Th","Fr","Sa","Su"].map(G=>s.jsx(L,{size:"1",color:"gray",style:{textAlign:"center",fontWeight:500},children:G},G))}),s.jsx(X,{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:4},children:D.map(({day:G,date:H,isCurrentMonth:T},Y)=>{const ie=ce(H),ne=Q(H);return s.jsx("button",{type:"button",onClick:()=>P(H),style:{padding:"8px 4px",borderRadius:6,border:`${ie?"2px solid var(--blue-7)":ne?"1px solid var(--gray-8)":"1px solid var(--gray-6)"}`,background:ie?"transparent":ne?"var(--gray-3)":T?"var(--gray-2)":"var(--gray-1)",color:ie?"var(--blue-10)":T?"var(--gray-12)":"var(--gray-9)",cursor:"pointer",fontSize:"var(--font-size-2)",fontWeight:ie?500:400,transition:"all 0.15s",textAlign:"center"},children:G},Y)})})]}),(a||p==="date")&&w&&s.jsxs(X,{children:[s.jsxs($,{align:"center",justify:"between",mb:"3",children:[s.jsx("button",{type:"button",onClick:()=>R(!1),style:{padding:"4px 8px",border:"1px solid var(--gray-6)",borderRadius:4,background:"var(--gray-2)",cursor:"pointer"},children:" Back"}),s.jsx(L,{size:"2",weight:"medium",children:"Select Year"}),s.jsx(X,{style:{width:60}})," "]}),s.jsx(X,{ref:E,style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8,maxHeight:"400px",overflowY:"auto"},children:q.map(G=>{const H=G===U,T=G===new Date().getFullYear();return s.jsx("button",{type:"button","data-year":G,onClick:()=>V(G),style:{padding:"12px 8px",borderRadius:6,border:`${H?"2px solid var(--blue-7)":"1px solid var(--gray-6)"}`,background:H?"transparent":T?"var(--gray-3)":"var(--gray-2)",color:H?"var(--blue-10)":"var(--gray-12)",cursor:"pointer",fontSize:"var(--font-size-2)",fontWeight:H?500:400,transition:"all 0.15s",textAlign:"center"},children:G},G)})})]}),!a&&p==="time"&&s.jsxs(X,{children:[s.jsxs(X,{mb:"3",children:[s.jsx($,{align:"center",gap:"2",mb:"2",children:s.jsx(L,{size:"1",color:"gray",children:"Hour"})}),s.jsx(X,{style:{display:"grid",gridTemplateColumns:"repeat(6, 1fr)",gap:8},children:Array.from({length:24},(G,H)=>H).map(G=>{const H=G===O,T=String(G).padStart(2,"0");return s.jsx("button",{type:"button",onClick:()=>B(G),style:{padding:"8px 4px",borderRadius:6,border:`${H?"2px solid var(--blue-7)":"1px solid var(--gray-6)"}`,background:H?"transparent":"var(--gray-2)",color:H?"var(--blue-10)":"var(--gray-12)",cursor:"pointer",fontSize:"var(--font-size-1)",fontWeight:H?500:400,transition:"all 0.15s",textAlign:"center"},children:T},G)})})]}),s.jsxs(X,{children:[s.jsx(L,{size:"1",color:"gray",style:{marginBottom:8},children:"Minute"}),s.jsx(X,{style:{display:"flex",gap:4,overflowX:"auto",paddingBottom:4},children:Array.from({length:12},(G,H)=>H*5).map(G=>{const H=j===G;return s.jsxs("button",{type:"button",onClick:()=>M(G),style:{padding:"8px 12px",borderRadius:6,border:`${H?"2px solid var(--blue-7)":"1px solid var(--gray-6)"}`,background:H?"transparent":"var(--gray-2)",color:H?"var(--blue-10)":"var(--gray-12)",cursor:"pointer",fontSize:"var(--font-size-2)",fontWeight:H?500:400,transition:"all 0.15s",whiteSpace:"nowrap",flexShrink:0},children:[":",String(G).padStart(2,"0")]},G)})})]})]})]})]})]})}function mp(e){const t=new Date(e),n=t.getFullYear(),i=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${n}-${i}-${r}`}function a0(e){return e?new Date(e).toISOString():""}function KO(e){switch(e){case"draft":return"gray";case"planned":return"blue";case"requested":return"cyan";case"confirmed":return"indigo";case"in_progress":return"amber";case"completed":return"teal";case"canceled":return"red";case"invoiced":return"purple";case"paid":return"green";default:return"gray"}}function If(e){switch(KO(e)){case"gray":return{bg:"var(--gray-3)",border:"var(--gray-6)",text:"var(--gray-11)",dotBg:"var(--gray-5)"};case"blue":return{bg:"var(--blue-4)",border:"var(--blue-7)",text:"var(--blue-11)",dotBg:"var(--blue-6)"};case"cyan":return{bg:"var(--cyan-4)",border:"var(--cyan-7)",text:"var(--cyan-11)",dotBg:"var(--cyan-6)"};case"indigo":return{bg:"var(--indigo-4)",border:"var(--indigo-7)",text:"var(--indigo-11)",dotBg:"var(--indigo-6)"};case"amber":return{bg:"var(--amber-4)",border:"var(--amber-7)",text:"var(--amber-11)",dotBg:"var(--amber-6)"};case"teal":return{bg:"var(--teal-4)",border:"var(--teal-7)",text:"var(--teal-11)",dotBg:"var(--teal-6)"};case"red":return{bg:"var(--red-3)",border:"var(--red-6)",text:"var(--red-11)",dotBg:"var(--red-5)"};case"purple":return{bg:"var(--purple-4)",border:"var(--purple-7)",text:"var(--purple-11)",dotBg:"var(--purple-6)"};case"green":return{bg:"var(--green-4)",border:"var(--green-7)",text:"var(--green-11)",dotBg:"var(--green-6)"};default:return{bg:"var(--gray-3)",border:"var(--gray-6)",text:"var(--gray-11)",dotBg:"var(--gray-5)"}}}function Y8({companyId:e,activityTypes:t,limit:n=50,offset:i=0}){return{queryKey:["company",e,"latest-feed",t,n,i],queryFn:async()=>{let r=re.from("activity_log").select(`
          *,
          created_by:created_by_user_id (
            user_id,
            display_name,
            avatar_url,
            email
          )
        `,{count:"exact"}).eq("company_id",e).eq("deleted",!1).order("created_at",{ascending:!1}).range(i,i+n-1);t&&t.length>0&&(r=r.in("activity_type",t));const{data:a,error:o,count:l}=await r;if(o)throw o;if(!a||a.length===0)return{items:[],total:l??0};const{data:{user:c}}=await re.auth.getUser(),u=c==null?void 0:c.id,d=a.map(E=>E.id),{data:h,error:m}=await re.from("activity_likes").select("activity_id, user_id").in("activity_id",d);if(m)throw m;const p=new Map,v=new Map;h==null||h.forEach(E=>{const _=p.get(E.activity_id)||0;p.set(E.activity_id,_+1),E.user_id===u&&v.set(E.activity_id,!0)});const{data:S,error:b}=await re.from("activity_comments").select("activity_id").in("activity_id",d).eq("deleted",!1);if(b)throw b;const w=new Map;return S==null||S.forEach(E=>{const _=w.get(E.activity_id)||0;w.set(E.activity_id,_+1)}),{items:a.map(E=>({...E,metadata:E.metadata||{},created_by:Array.isArray(E.created_by)?E.created_by[0]:E.created_by,like_count:p.get(E.id)||0,comment_count:w.get(E.id)||0,user_liked:v.get(E.id)||!1})),total:l??0}},staleTime:1e4}}function rue({companyId:e,activityId:t}){return{queryKey:["company",e,"latest-inspector",t],queryFn:async()=>{if(t.startsWith("grouped_")){const p=t.replace("grouped_","").split("_"),{data:v,error:S}=await re.from("activity_log").select(`
            *,
            created_by:created_by_user_id (
              user_id,
              display_name,
              avatar_url,
              email
            )
          `).in("id",p).eq("company_id",e).eq("deleted",!1).order("created_at",{ascending:!0});if(S)throw S;if(!v||v.length===0)return null;const{data:{user:b}}=await re.auth.getUser(),w=b==null?void 0:b.id,{data:R,error:E}=await re.from("activity_likes").select("activity_id, user_id").in("activity_id",p);if(E)throw E;const _=new Map,N=new Map;R==null||R.forEach(V=>{const Q=_.get(V.activity_id)||0;_.set(V.activity_id,Q+1),V.user_id===w&&N.set(V.activity_id,!0)});const{data:O,error:j}=await re.from("activity_comments").select("activity_id").in("activity_id",p).eq("deleted",!1);if(j)throw j;const D=new Map;O==null||O.forEach(V=>{const Q=D.get(V.activity_id)||0;D.set(V.activity_id,Q+1)});const P=v.map(V=>{const Q=Array.isArray(V.created_by)?V.created_by[0]:V.created_by;return{...V,metadata:V.metadata||{},created_by:Q,like_count:_.get(V.id)||0,comment_count:D.get(V.id)||0,user_liked:N.get(V.id)||!1}}),B=P.filter(V=>V.activity_type==="inventory_item_created"),M=P.filter(V=>V.activity_type==="inventory_group_created");let z;B.length>0&&M.length>0?z="inventory_mixed_grouped":B.length>0?z="inventory_items_grouped":z="inventory_groups_grouped";const U=P.reduce((V,Q)=>V+Q.like_count,0),K=P.reduce((V,Q)=>V+Q.comment_count,0),te=P.some(V=>V.user_liked);return{groupedActivity:{id:t,isGrouped:!0,activity_type:z,created_by_user_id:P[0].created_by_user_id,created_at:P[0].created_at,created_by:P[0].created_by,items:P.sort((V,Q)=>new Date(V.created_at).getTime()-new Date(Q.created_at).getTime()),item_count:B.length,group_count:M.length,like_count:U,comment_count:K,user_liked:te}}}const{data:n,error:i}=await re.from("activity_log").select(`
          *,
          created_by:created_by_user_id (
            user_id,
            display_name,
            avatar_url,
            email
          )
        `).eq("id",t).eq("company_id",e).eq("deleted",!1).maybeSingle();if(i)throw i;if(!n)return null;const{data:{user:r}}=await re.auth.getUser(),a=r==null?void 0:r.id,{data:o,error:l}=await re.from("activity_likes").select("user_id").eq("activity_id",t);if(l)throw l;const c=(o==null?void 0:o.length)||0,u=a&&(o==null?void 0:o.some(p=>p.user_id===a)),{data:d,error:h}=await re.from("activity_comments").select(`
          *,
          created_by:created_by_user_id (
            user_id,
            display_name,
            avatar_url,
            email
          )
        `).eq("activity_id",t).eq("deleted",!1).order("created_at",{ascending:!0});if(h)throw h;const m=(d==null?void 0:d.map(p=>({...p,created_by:Array.isArray(p.created_by)?p.created_by[0]:p.created_by})))||[];return{activity:{...n,metadata:n.metadata||{},created_by:Array.isArray(n.created_by)?n.created_by[0]:n.created_by,like_count:c,comment_count:m.length,user_liked:u||!1},comments:m}},staleTime:1e4}}async function U6({companyId:e,activityId:t}){const{data:{user:n}}=await re.auth.getUser();if(!n)throw new Error("Not authenticated");const{data:i,error:r}=await re.from("activity_likes").select("id").eq("activity_id",t).eq("user_id",n.id).maybeSingle();if(r)throw r;if(i){const{error:a}=await re.from("activity_likes").delete().eq("id",i.id);if(a)throw a;return{liked:!1}}else{const{error:a}=await re.from("activity_likes").insert({activity_id:t,user_id:n.id});if(a)throw a;return{liked:!0}}}async function aue({companyId:e,activityId:t,content:n}){const{data:{user:i}}=await re.auth.getUser();if(!i)throw new Error("Not authenticated");const{data:r,error:a}=await re.from("activity_comments").insert({activity_id:t,created_by_user_id:i.id,content:n.trim()}).select().single();if(a)throw a;return r}async function sue({commentId:e}){const{data:{user:t}}=await re.auth.getUser();if(!t)throw new Error("Not authenticated");const{error:n}=await re.from("activity_comments").update({deleted:!0}).eq("id",e).eq("created_by_user_id",t.id);if(n)throw n}async function oue({companyId:e,title:t,message:n}){const{data:{user:i}}=await re.auth.getUser();if(!i)throw new Error("Not authenticated");const{data:r,error:a}=await re.from("activity_log").insert({company_id:e,activity_type:"announcement",created_by_user_id:i.id,title:t.trim(),description:n.trim(),metadata:{is_pinned:!1}}).select().single();if(a)throw a;return r}async function wR({companyId:e,activityType:t,metadata:n,title:i,description:r}){const{data:{user:a}}=await re.auth.getUser();if(!a)throw new Error("Not authenticated");const{error:o}=await re.from("activity_log").insert({company_id:e,activity_type:t,created_by_user_id:a.id,metadata:n,title:i||null,description:r||null});if(o)throw o}const tv=Object.freeze(Object.defineProperty({__proto__:null,createActivityComment:aue,createAnnouncement:oue,deleteActivityComment:sue,latestFeedQuery:Y8,latestInspectorQuery:rue,logActivity:wR,toggleActivityLike:U6},Symbol.toStringTag,{value:"Module"}));function lue({open:e,onOpenChange:t,companyId:n,mode:i="create",initialData:r,onSaved:a}){const o=Yt(),{success:l,error:c}=Jt(),[u,d]=g.useState((r==null?void 0:r.title)??""),[h,m]=g.useState((r==null?void 0:r.description)??""),[p,v]=g.useState((r==null?void 0:r.status)??"planned"),[S,b]=g.useState((r==null?void 0:r.start_at)??""),[w,R]=g.useState((r==null?void 0:r.end_at)??""),[E,_]=g.useState(!0),[N,O]=g.useState((r==null?void 0:r.project_lead_user_id)??""),[j,D]=g.useState(!!(r!=null&&r.customer_user_id)),[P,B]=g.useState((r==null?void 0:r.customer_id)??""),[M,z]=g.useState((r==null?void 0:r.customer_user_id)??""),[U,K]=g.useState((r==null?void 0:r.customer_contact_id)??""),te=g.useCallback(()=>{d(""),m(""),v("planned"),b(""),R(""),_(!0),O(""),D(!1),B(""),z(""),K("")},[]),q=ee=>{const se=new Date(ee).getTime();return Number.isNaN(se)?null:se},V=(()=>{const ee=q(S),se=q(w);return ee===null||se===null?!1:se<ee})();g.useEffect(()=>{!e||i!=="edit"||!r||(d(r.title),m(r.description??""),v(r.status),b(r.start_at??""),R(r.end_at??""),_(!1),O(r.project_lead_user_id??""),D(!!r.customer_user_id),B(r.customer_id??""),z(r.customer_user_id??""),K(r.customer_contact_id??""))},[e,i,r]),g.useEffect(()=>{!e||i!=="create"||te()},[e,i,te]),g.useEffect(()=>{!S||i==="edit"||!E||R(Cm(S))},[S,i,E]),g.useEffect(()=>{K(""),P&&z("")},[P]),g.useEffect(()=>{M&&(B(""),K(""))},[M]),g.useEffect(()=>{if(!e||i!=="create")return;(async()=>{const{data:{user:se}}=await re.auth.getUser();se!=null&&se.id&&O(se.id)})()},[e,i]);const{data:Q=[]}=et({queryKey:["company",n,"project-leads"],enabled:e,queryFn:async()=>{const{data:ee,error:se}=await re.from("profiles").select("user_id, display_name, email");if(se)throw se;return ee}}),{data:ce=[]}=et({queryKey:["company",n,"users-for-customer"],enabled:e,queryFn:async()=>{const{data:ee,error:se}=await re.from("company_user_profiles").select("user_id, display_name, email, role").eq("company_id",n);if(se)throw se;return ee}}),{data:ae=[]}=et({queryKey:["company",n,"customers"],enabled:e,queryFn:async()=>{const{data:ee,error:se}=await re.from("customers").select("id, name").eq("company_id",n).or("deleted.is.null,deleted.eq.false").order("name",{ascending:!0});if(se)throw se;return ee}}),{data:G=[],isFetching:H}=et({queryKey:["company",n,"customer",P,"contacts"],enabled:e&&!!P,queryFn:async()=>{const{data:ee,error:se}=await re.from("contacts").select("id, name, email, phone").eq("company_id",n).eq("customer_id",P).order("name",{ascending:!0});if(se)throw se;return ee}}),T=ee=>[ee.name,ee.email,ee.phone].filter(Boolean).join("  "),Y=async(ee,se)=>{if(se!=="confirmed"&&se!=="canceled")return;const{data:de,error:he}=await re.from("time_periods").select("id").eq("job_id",ee);if(he)throw he;const me=de.map(De=>De.id);if(!me.length)return;const{error:we}=await re.from("reserved_items").update({status:se}).in("time_period_id",me).eq("status","planned");if(we)throw we;const{error:le}=await re.from("reserved_crew").update({status:se}).in("time_period_id",me).eq("status","planned");if(le)throw le;const{error:ue}=await re.from("reserved_vehicles").update({status:se}).in("time_period_id",me).eq("status","planned");if(ue)throw ue;if(se==="confirmed"){const{error:De}=await re.from("reserved_items").update({external_status:"confirmed"}).in("time_period_id",me).eq("external_status","planned");if(De)throw De;const{error:Le}=await re.from("reserved_vehicles").update({external_status:"confirmed"}).in("time_period_id",me).eq("external_status","planned");if(Le)throw Le}},ie=bt({mutationFn:async()=>{if(i==="create"){const{data:ee,error:se}=await re.from("jobs").insert({company_id:n,title:u.trim(),description:h||null,status:p,start_at:S||null,end_at:w||null,project_lead_user_id:N||null,customer_id:P||null,customer_user_id:M||null,customer_contact_id:U||null}).select("id").single();if(se)throw se;try{const de=S||new Date().toISOString(),he=w||new Date(Date.now()+864e5).toISOString();await pm({job_id:ee.id,company_id:n,title:"Job duration",start_at:de,end_at:he,category:"program"})}catch(de){console.error("Failed to create Job duration time period",de)}try{await wR({companyId:n,activityType:"job_created",metadata:{job_id:ee.id,job_title:u.trim(),status:p},title:u.trim()})}catch(de){console.error("Failed to log job creation activity:",de)}return ee.id}else{if(!r)throw new Error("Missing initial data");const ee=r.status,{error:se}=await re.from("jobs").update({title:u.trim(),description:h||null,status:p,start_at:S||null,end_at:w||null,project_lead_user_id:N||null,customer_id:P||null,customer_user_id:M||null,customer_contact_id:U||null}).eq("id",r.id);if(se)throw se;const{data:de,error:he}=await re.from("time_periods").select("id").eq("job_id",r.id).eq("title","Job duration").order("created_at",{ascending:!0}).limit(1).maybeSingle();if(he)throw he;const me=S||new Date().toISOString(),we=w||new Date(Date.now()+864e5).toISOString();if(await pm({id:de==null?void 0:de.id,job_id:r.id,company_id:n,title:"Job duration",start_at:me,end_at:we}),ee!==p&&(p==="confirmed"||p==="canceled")&&await Y(r.id,p),ee!==p&&(p==="confirmed"||p==="canceled"||p==="paid"))try{await wR({companyId:n,activityType:"job_status_changed",metadata:{job_id:r.id,job_title:u.trim(),previous_status:ee,new_status:p},title:u.trim()})}catch(le){console.error("Failed to log job status change activity:",le)}return r.id}},onSuccess:async ee=>{const se=i==="create"?"created":"updated";l(`Job ${se}`,`${u.trim()} was ${se} successfully.`),await Promise.all([o.invalidateQueries({queryKey:["jobs-index"],exact:!1}),o.invalidateQueries({queryKey:["jobs-detail",ee],exact:!1}),o.invalidateQueries({queryKey:["jobs",ee,"time_periods"],exact:!1}),o.invalidateQueries({queryKey:["company",n,"latest-feed"],exact:!1}),o.refetchQueries({queryKey:["company",n,"latest-feed"],exact:!1})]),i==="create"&&te(),t(!1),a==null||a(ee)},onError:ee=>{const se=String((ee==null?void 0:ee.message)??"");if(se.includes("range lower bound must be less than or equal to range upper bound")||se.includes("range lower bound must be less than or equal")){c("Invalid time range","End time is before the start time.");return}c("Failed to save job",se||"Please try again.")}}),ne=ie.isPending||!u.trim()||i==="create"&&(!S||!w)||V,J=()=>{const ee=["Corporate Event Setup","Concert Production","Conference AV","Wedding Sound & Lighting","Festival Stage Management","Corporate Presentation","Live Streaming Setup","Theater Production","Trade Show Installation","Product Launch Event"],se=["Full production setup for corporate event","Complete concert production package","AV equipment for conference","Sound and lighting for wedding","Stage management for festival","Presentation equipment setup","Live streaming equipment package","Theater production equipment","Trade show installation and setup","Product launch event production"],de=["planned","requested","confirmed","in_progress"],he=ee[Math.floor(Math.random()*ee.length)],me=se[Math.floor(Math.random()*se.length)],we=de[Math.floor(Math.random()*de.length)],le=Math.floor(Math.random()*30)+1,ue=new Date;ue.setDate(ue.getDate()+le),ue.setHours(9+Math.floor(Math.random()*8),0,0,0);const De=new Date(ue),Le=3+Math.floor(Math.random()*5);De.setHours(De.getHours()+Le);const Be=ue.toISOString(),ke=De.toISOString(),Ee=Q.length>0?Q[Math.floor(Math.random()*Q.length)]:null,lt=ae.length>0?ae[Math.floor(Math.random()*ae.length)]:null;d(he),m(me),v(we),b(Be),R(ke),_(!1),O((Ee==null?void 0:Ee.user_id)??""),D(!1),B((lt==null?void 0:lt.id)??""),z(""),K("")};return s.jsx(rn,{open:e,onOpenChange:t,children:s.jsxs(an,{maxWidth:"820px",style:{display:"flex",flexDirection:"column"},children:[s.jsxs($,{align:"center",justify:"between",children:[s.jsx(cn,{children:i==="edit"?"Edit job":"New job"}),i==="create"&&s.jsxs(pe,{size:"2",variant:"soft",onClick:J,type:"button",style:{marginLeft:"auto"},children:[s.jsx(um,{width:16,height:16}),"Auto-fill"]})]}),s.jsx(st,{my:"2"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12,flex:1,minHeight:0,overflowY:"auto"},children:[s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:10},children:[s.jsx(by,{label:"Title",children:s.jsx(qe,{value:u,onChange:ee=>d(ee.target.value),placeholder:"Enter job title"})}),s.jsxs($,{wrap:"wrap",children:[s.jsx(by,{label:"Status",children:s.jsxs(Vn,{value:p,onValueChange:ee=>v(ee),children:[s.jsx(Kn,{}),s.jsx(Gn,{style:{zIndex:1e4},children:["draft","planned","requested","canceled","confirmed","in_progress","completed","invoiced","paid"].map(ee=>s.jsx(wt,{value:ee,children:Qs(ee)},ee))})]})}),s.jsx(by,{label:"Project lead",children:s.jsxs(Vn,{value:N,onValueChange:ee=>O(ee),children:[s.jsx(Kn,{placeholder:"None"}),s.jsx(Gn,{style:{zIndex:1e4},children:Q.map(ee=>s.jsx(wt,{value:ee.user_id,children:ee.display_name??ee.email},ee.user_id))})]})})]}),s.jsxs($,{wrap:"wrap",children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"var(--space-2)",cursor:"pointer",width:"100%"},children:[s.jsx(fr,{checked:j,onCheckedChange:ee=>{const se=ee===!0;D(se),se?(B(""),K("")):z("")}}),s.jsx(L,{size:"2",children:"Customer is a member of the company"})]}),s.jsx(by,{label:"Customer",children:s.jsxs(Vn,{value:P,onValueChange:ee=>B(ee),disabled:j,children:[s.jsx(Kn,{placeholder:j?"Disabled for company member":"None"}),s.jsx(Gn,{style:{zIndex:1e4},children:ae.map(ee=>s.jsx(wt,{value:ee.id,children:ee.name},ee.id))})]})}),s.jsx(by,{label:"Main contact",children:s.jsxs(Vn,{value:U,onValueChange:ee=>K(ee),disabled:j||!P||H||G.length===0,children:[s.jsx(Kn,{placeholder:j?"Disabled for company member":P?H?"Loading":G.length===0?"No contacts found":"None":"Select a customer first"}),s.jsx(Gn,{style:{zIndex:1e4},children:G.map(ee=>s.jsx(wt,{value:ee.id,children:T(ee)},ee.id))})]})}),j&&s.jsx(by,{label:"Customer from company",children:s.jsxs(Vn,{value:M,onValueChange:ee=>z(ee),children:[s.jsx(Kn,{placeholder:"None"}),s.jsx(Gn,{style:{zIndex:1e4},children:ce.map(ee=>s.jsx(wt,{value:ee.user_id,children:ee.display_name??ee.email},ee.user_id))})]})})]})]}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:10},children:[s.jsx(or,{label:"Start",value:S,onChange:ee=>{b(ee),_(!0)}}),s.jsx(or,{label:"End",value:w,invalid:V,onChange:ee=>{R(ee),_(!1)}}),s.jsx(by,{label:"Notes",children:s.jsx(Ci,{rows:5,value:h,onChange:ee=>m(ee.target.value)})})]})]}),s.jsxs($,{justify:"end",gap:"2",mt:"3",children:[s.jsx(Dn,{children:s.jsx(pe,{variant:"soft",children:"Cancel"})}),s.jsx(pe,{variant:"classic",onClick:()=>{if(!u.trim())return c("Missing title","Please enter a job title.");if(V)return c("Invalid time range","End time must be after start time.");ie.mutate()},disabled:ne,children:ie.isPending?"Saving":i==="edit"?"Save":"Create"})]})]})})}function by({label:e,children:t}){return s.jsxs("div",{style:{minWidth:160},children:[s.jsx(L,{as:"div",size:"2",color:"gray",style:{marginBottom:6},children:e}),t]})}function cBe(e,t){return t==="freelancer"&&(e==="invoiced"||e==="paid")?"completed":e}function HG({selectedId:e,onSelect:t,onWidthChange:n}){const{companyId:i}=En(),{userId:r,companyRole:a}=zr(),o=Yt(),{success:l,error:c}=Jt(),[u,d]=g.useState(""),[h]=W8(u,{wait:300}),[m,p]=g.useState(""),[v,S]=g.useState(!1),[b,w]=g.useState("start_at"),[R,E]=g.useState("asc"),[_,N]=g.useState(1),[O,j]=g.useState(10),[D,P]=g.useState(!1),B=g.useRef(null),M=g.useRef(null),z=g.useRef(null),U=g.useRef(null),K=g.useRef(!1),{data:te=[],isFetching:q,refetch:V}=et({...BO({companyId:i??"__none__",search:h,selectedDate:m,sortBy:b,sortDir:R,userId:r,companyRole:a,includeArchived:v}),enabled:!!i}),Q=bt({mutationFn:async({jobId:ne,archived:J})=>{const{error:ee}=await re.from("jobs").update({archived:J}).eq("id",ne);if(ee)throw ee},onSuccess:async()=>{await o.invalidateQueries({queryKey:["company"]}),await o.invalidateQueries({queryKey:["jobs-index"]}),await o.invalidateQueries({queryKey:["jobs-detail"]}),l("Job updated","Job archive status has been updated.")},onError:ne=>{c("Failed to update job",(ne==null?void 0:ne.message)||"Please try again.")}}),ce=g.useCallback(()=>{var Le,Be,ke;if(!B.current)return;const J=B.current.getBoundingClientRect().height;if(J===0)return;const ee=((Le=M.current)==null?void 0:Le.offsetHeight)??0,se=((Be=z.current)==null?void 0:Be.offsetHeight)??0,de=((ke=U.current)==null?void 0:ke.offsetHeight)??0,me=Math.max(0,J-ee-se-de-24);if(me<100){j(5);return}const we=B.current.querySelector("tbody tr:not([data-row-probe])"),le=(we==null?void 0:we.getBoundingClientRect().height)||60,ue=(me+2)/le,De=Math.max(5,Math.min(50,Math.floor(ue)));j(De)},[]);g.useEffect(()=>{if(!B.current)return;const ne=()=>ce();window.addEventListener("resize",ne);const J=new ResizeObserver(()=>{ce()});J.observe(B.current);const ee=setTimeout(()=>{ce()},0),se=requestAnimationFrame(()=>{ce()});return()=>{window.removeEventListener("resize",ne),J.disconnect(),clearTimeout(ee),cancelAnimationFrame(se)}},[ce]),g.useEffect(()=>{te.length>0&&requestAnimationFrame(()=>{ce()})},[te.length,ce]);const ae=g.useCallback(()=>{if(!B.current||!n)return;const ne=B.current.querySelector("table");if(!ne)return;const J=ne.scrollWidth,ee=B.current.closest('[class*="Card"], [class*="card"]');if(!ee)return;const se=ee,de=window.getComputedStyle(se),he=parseFloat(de.paddingLeft)||0,me=parseFloat(de.paddingRight)||0,we=he+me,le=se.closest('section, [class*="Page"]');if(!le)return;const De=le.getBoundingClientRect().width;if(De===0)return;const Be=(J+we+32)/De*100,ke=Math.max(15,Math.min(75,Be));n(ke)},[n]);g.useEffect(()=>{if(!n||te.length===0||K.current)return;const ne=setTimeout(()=>{requestAnimationFrame(()=>{ae(),K.current=!0})},100);return()=>clearTimeout(ne)},[te.length,ae,n]),g.useEffect(()=>{if(!n)return;const ne=()=>{requestAnimationFrame(()=>{ae()})};return window.addEventListener("resize",ne),()=>window.removeEventListener("resize",ne)},[ae,n]),g.useEffect(()=>{N(1)},[u,m,b,R,v]);const G=Math.ceil(te.length/O),H=(_-1)*O,T=H+O,Y=te.slice(H,T),ie=ne=>{b===ne?E(R==="asc"?"desc":"asc"):(w(ne),E("asc"))};return s.jsxs(X,{ref:B,style:{height:"100%",display:"flex",flexDirection:"column"},children:[s.jsx("div",{ref:M,children:s.jsxs($,{gap:"2",align:"center",mb:"3",wrap:"wrap",children:[s.jsxs(qe,{placeholder:"Search",value:u,onChange:ne=>d(ne.target.value),size:"3",style:{flex:1,minWidth:200},children:[s.jsx(Sr,{side:"left",children:s.jsx(qu,{})}),s.jsx(Sr,{side:"right",children:q&&s.jsx(Ei,{})})]}),s.jsxs(pe,{size:"2",variant:v?"classic":"soft",onClick:()=>S(!v),children:[s.jsx(a6,{width:16,height:16}),v?"Hide archived":"Show archived"]}),m?s.jsx(ju,{content:`Selected: ${new Date(m).toLocaleDateString()}`,children:s.jsx(Mn,{size:"2",variant:"soft",color:"blue",onClick:()=>p(""),children:s.jsx(E3e,{width:16,height:16})})}):s.jsx(or,{value:"",onChange:ne=>{if(ne){const J=new Date(ne),ee=`${J.getFullYear()}-${String(J.getMonth()+1).padStart(2,"0")}-${String(J.getDate()).padStart(2,"0")}`;p(ee)}},dateOnly:!0,iconButton:!0,iconButtonSize:"2"}),a!=="freelancer"&&s.jsxs(pe,{size:"2",variant:"classic",onClick:()=>P(!0),style:{gap:"4px"},children:[s.jsx(yi,{width:16,height:16}),"New job"]})]})}),s.jsx(lue,{open:D,onOpenChange:P,companyId:i,mode:"create",onSaved:ne=>{t(ne),V()}}),s.jsx(X,{style:{flex:1,minHeight:0},children:s.jsxs(Hn,{variant:"surface",children:[s.jsx(Qn,{ref:z,children:s.jsxs(ht,{children:[s.jsx(ze,{style:{width:50}}),s.jsx(ze,{children:s.jsxs($,{align:"center",gap:"2",style:{cursor:"pointer",userSelect:"none"},onClick:()=>ie("title"),children:["Title",b==="title"&&(R==="asc"?s.jsx(Eu,{width:14,height:14}):s.jsx(Ml,{width:14,height:14}))]})}),s.jsx(ze,{children:s.jsxs($,{align:"center",gap:"2",style:{cursor:"pointer",userSelect:"none"},onClick:()=>ie("customer_name"),children:["Customer",b==="customer_name"&&(R==="asc"?s.jsx(Eu,{width:14,height:14}):s.jsx(Ml,{width:14,height:14}))]})}),s.jsx(ze,{children:s.jsxs($,{align:"center",gap:"2",style:{cursor:"pointer",userSelect:"none"},onClick:()=>ie("start_at"),children:["Start",b==="start_at"&&(R==="asc"?s.jsx(Eu,{width:14,height:14}):s.jsx(Ml,{width:14,height:14}))]})}),s.jsx(ze,{children:s.jsxs($,{align:"center",gap:"2",style:{cursor:"pointer",userSelect:"none"},onClick:()=>ie("status"),children:["Status",b==="status"&&(R==="asc"?s.jsx(Eu,{width:14,height:14}):s.jsx(Ml,{width:14,height:14}))]})}),s.jsx(ze,{style:{width:60,textAlign:"right"},children:"Actions"})]})}),s.jsxs(qn,{children:[Y.length===0?s.jsx(ht,{children:s.jsx(Oe,{colSpan:6,children:"No jobs found"})}):Y.map(ne=>{var De,Le,Be;const J=ne.id===e,ee=ne.project_lead,se=ee!=null&&ee.avatar_url?re.storage.from("avatars").getPublicUrl(ee.avatar_url).data.publicUrl:null,de=ee?Rh(ee.display_name||ee.email):"",he=(ee==null?void 0:ee.display_name)||(ee==null?void 0:ee.email)||null,me=r&&(ee==null?void 0:ee.user_id)===r,we=(ne.status==="paid"||ne.status==="canceled")&&me,le=ne.status==="paid",ue=ne.status==="canceled";return s.jsxs(ht,{onClick:()=>t(ne.id),style:{cursor:"pointer",background:J?"var(--accent-a3)":le?"var(--green-a2)":ue?"var(--red-a2)":void 0},"data-state":J?"active":void 0,children:[s.jsx(Oe,{style:{width:50},children:he?s.jsx(ju,{content:he,children:s.jsx(Xr,{size:"2",radius:"full",fallback:de,src:se||void 0,style:{border:"1px solid var(--gray-5)"}})}):s.jsx(Xr,{size:"2",radius:"full",fallback:"",style:{border:"1px solid var(--gray-5)",opacity:.5}})}),s.jsx(Oe,{children:ne.title}),s.jsx(Oe,{children:((De=ne.customer)==null?void 0:De.name)??((Le=ne.customer_user)==null?void 0:Le.display_name)??((Be=ne.customer_user)==null?void 0:Be.email)??""}),s.jsx(Oe,{children:ne.start_at?(()=>{const ke=new Date(ne.start_at),Ee=String(ke.getHours()).padStart(2,"0"),lt=String(ke.getMinutes()).padStart(2,"0");return ke.toLocaleString(void 0,{year:"numeric",month:"2-digit",day:"2-digit"})+` ${Ee}:${lt}`})():""}),s.jsx(Oe,{children:(()=>{const ke=cBe(ne.status,a);return s.jsx(mt,{color:KO(ke),radius:"full",highContrast:!0,children:Qs(ke)})})()}),s.jsx(Oe,{style:{textAlign:"right",verticalAlign:"middle"},children:we&&s.jsx($,{align:"center",justify:"end",style:{height:"100%"},children:s.jsx(ju,{content:ne.archived?"Unarchive job":"Archive job",children:s.jsx(Mn,{size:"2",variant:"soft",color:ne.archived?"blue":"gray",onClick:ke=>{ke.stopPropagation(),Q.mutate({jobId:ne.id,archived:!ne.archived})},disabled:Q.isPending,children:s.jsx(a6,{width:18,height:18})})})})})]},ne.id)}),s.jsx(ht,{"data-row-probe":!0,style:{display:"none"},children:s.jsx(Oe,{colSpan:6,children:"probe"})})]})]})}),te.length>0&&s.jsx("div",{ref:U,children:s.jsxs($,{align:"center",justify:"between",mt:"3",children:[s.jsxs(L,{size:"2",color:"gray",children:["Showing ",H+1,"-",Math.min(T,te.length)," of"," ",te.length," jobs"]}),s.jsxs($,{gap:"2",children:[s.jsx(pe,{disabled:_===1,onClick:()=>N(ne=>ne-1),variant:"classic",size:"2",children:"Prev"}),s.jsx(pe,{disabled:_>=G,onClick:()=>N(ne=>ne+1),variant:"classic",size:"2",children:"Next"})]})]})})]})}function uBe(e){const t=Yt(),n=g.useRef(null),i=bt({mutationFn:async({jobId:r,newStatus:a})=>{const{error:o}=await re.from("jobs").update({status:a}).eq("id",r);if(o)throw o},onSuccess:async(r,{jobId:a})=>{await t.invalidateQueries({queryKey:["jobs-detail",a]}),await t.invalidateQueries({queryKey:["company"]})},onError:r=>{console.error("Auto-update job status failed:",r==null?void 0:r.message)}});g.useEffect(()=>{if(!e||!e.start_at||!e.end_at||["canceled","completed","invoiced","paid"].includes(e.status))return;const r=()=>{const o=t.getQueryData(["jobs-detail",e.id])||e;if(["canceled","completed","invoiced","paid"].includes(o.status))return;const l=new Date().getTime(),c=new Date(o.start_at).getTime(),u=new Date(o.end_at).getTime();o.status==="confirmed"?l>=c&&l<=u&&(i.isPending||i.mutate({jobId:o.id,newStatus:"in_progress"})):o.status==="in_progress"&&l>u&&(i.isPending||i.mutate({jobId:o.id,newStatus:"completed"}))};return r(),n.current=setInterval(r,6e4),()=>{n.current&&(clearInterval(n.current),n.current=null)}},[e==null?void 0:e.id,e==null?void 0:e.status,e==null?void 0:e.start_at,e==null?void 0:e.end_at,t,i])}const J8={version:4,country_calling_codes:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","00","(?:[01589]\\d|[46])\\d{4}",[5,6]],AD:["376","00","(?:1|6\\d)\\d{7}|[135-9]\\d{5}",[6,8,9],[["(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],["(\\d{4})(\\d{4})","$1 $2",["1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]]],AE:["971","00","(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",[5,6,7,8,9,10,11,12],[["(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],"0"],AF:["93","00","[2-7]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0"],AG:["1","011","(?:268|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([457]\\d{6})$|1","268$1",0,"268"],AI:["1","011","(?:264|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2457]\\d{6})$|1","264$1",0,"264"],AL:["355","00","(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",[6,7,8,9],[["(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],"0"],AM:["374","00","(?:[1-489]\\d|55|60|77)\\d{6}",[8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0"],AO:["244","00","[29]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]]],AR:["54","00","(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",[10,11],[["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\d{3})(\\d{3})(\\d{5})","$1-$2-$3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1"],AS:["1","011","(?:[58]\\d\\d|684|900)\\d{7}",[10],0,"1",0,"([267]\\d{6})$|1","684$1",0,"684"],AT:["43","00","1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:48|5[0-3579]|[6-9])|7(?:20|32|8)|[89]","(?:31|4)6|51|6(?:485|5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0"],AU:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",[5,6,7,8,9,10,12],[["(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"(183[12])|0",0,0,0,[["(?:(?:2(?:(?:[0-26-9]\\d|3[0-8]|5[0135-9])\\d|4(?:[02-9]\\d|10))|3(?:(?:[0-3589]\\d|6[1-9]|7[0-35-9])\\d|4(?:[0-578]\\d|90))|7(?:[013-57-9]\\d|2[0-8])\\d)\\d\\d|8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\d|7[89]|9[0-4])|[34]\\d\\d)|(?:6[0-8]|[78]\\d)\\d{3}|9(?:[02-9]\\d{3}|1(?:(?:[0-58]\\d|6[0135-9])\\d|7(?:0[0-24-9]|[1-9]\\d)|9(?:[0-46-9]\\d|5[0-79])))))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,["163\\d{2,6}",[5,6,7,8,9]],["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],AW:["297","00","(?:[25-79]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]]],AX:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",0,"00"],AZ:["994","00","365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365[45]|46","1[28]|2|365(?:4|5[02])|46"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0"],BA:["387","00","6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0"],BB:["1","011","(?:246|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","246$1",0,"246"],BD:["880","00","[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:[15]|28|4[14])|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\d{4})(\\d{3,6})","$1-$2",["[13-9]|2[23]"],"0$1"],["(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],"0"],BE:["32","00","4\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0"],BF:["226","00","(?:[025-7]\\d|44)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[024-7]"]]]],BG:["359","00","00800\\d{7}|[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",[6,7,8,9,12],[["(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],"0"],BH:["973","00","[136-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[13679]|8[02-4679]"]]]],BI:["257","00","(?:[267]\\d|31)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]]],BJ:["229","00","(?:01\\d|[24-689])\\d{7}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["0"]]]],BL:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:2[7-9]|3[3-7]|5[12]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],BM:["1","011","(?:441|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","441$1",0,"441"],BN:["673","00","[2-578]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]]],BO:["591","00(?:1\\d)?","8001\\d{5}|(?:[2-467]\\d|50)\\d{6}",[8,9],[["(\\d)(\\d{7})","$1 $2",["[235]|4[46]"]],["(\\d{8})","$1",["[67]"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\d)?"],BQ:["599","00","(?:[34]1|7\\d)\\d{5}",[7],0,0,0,0,0,0,"[347]"],BR:["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","[1-467]\\d{9,10}|55[0-46-9]\\d{8}|[34]\\d{7}|55\\d{7,8}|(?:5[0-46-9]|[89]\\d)\\d{7,9}",[8,9,10,11],[["(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37|86)","300|4(?:0(?:0|20)|370|864)"]],["(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2"],BS:["1","011","(?:242|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([3-8]\\d{6})$|1","242$1",0,"242"],BT:["975","00","[178]\\d{7}|[2-8]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-6]|7[246]|8[2-4]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|[78]"]]]],BW:["267","00","(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",[7,8,10],[["(\\d{2})(\\d{5})","$1 $2",["90"]],["(\\d{3})(\\d{4})","$1 $2",["[24-6]|3[15-9]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37]"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["8"]]]],BY:["375","810","(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],["(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,0,"8~10"],BZ:["501","00","(?:0800\\d|[2-8])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]]],CA:["1","011","[2-9]\\d{9}|3\\d{6}",[7,10],0,"1",0,0,0,0,0,[["(?:2(?:04|[23]6|[48]9|5[07]|63)|3(?:06|43|54|6[578]|82)|4(?:03|1[68]|[26]8|3[178]|50|74)|5(?:06|1[49]|48|79|8[147])|6(?:04|[18]3|39|47|72)|7(?:0[59]|42|53|78|8[02])|8(?:[06]7|19|25|7[39])|9(?:0[25]|42))[2-9]\\d{6}",[10]],["",[10]],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",[10]],["900[2-9]\\d{6}",[10]],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|(?:5(?:2[125-9]|33|44|66|77|88)|6(?:22|33))[2-9]\\d{6}",[10]],0,["310\\d{4}",[7]],0,["600[2-9]\\d{6}",[10]]]],CC:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CD:["243","00","(?:(?:[189]|5\\d)\\d|2)\\d{7}|[1-68]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["5"],"0$1"]],"0"],CF:["236","00","(?:[27]\\d{3}|8776)\\d{4}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]]],CG:["242","00","222\\d{6}|(?:0\\d|80)\\d{7}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]]],CH:["41","00","8\\d{11}|[2-9]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0"],CI:["225","00","[02]\\d{9}",[10],[["(\\d{2})(\\d{2})(\\d)(\\d{5})","$1 $2 $3 $4",["2"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3 $4",["0"]]]],CK:["682","00","[2-578]\\d{4}",[5],[["(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]]],CL:["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",[9,10,11],[["(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["60|809"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-36]"],"($1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9(?:10|[2-9])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-8]|[1-9])"],"($1)"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]]],CM:["237","00","[26]\\d{8}|88\\d{6,7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]|88"]]]],CN:["86","00|1(?:[12]\\d|79)\\d\\d00","(?:(?:1[03-689]|2\\d)\\d\\d|6)\\d{8}|1\\d{10}|[126]\\d{6}(?:\\d(?:\\d{2})?)?|86\\d{5,6}|(?:[3-579]\\d|8[0-57-9])\\d{5,9}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]|3(?:[157]|35|49|9[1-68])|4(?:1[124-9]|2[179]|6[47-9]|7|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:07|1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3|4[13]|5[1-5]|7[0-79]|9[0-35-9])|(?:4[35]|59|85)[1-9]","(?:10|2[0-57-9])(?:1[02]|9[56])|8078|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))1","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|80781|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))12","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|807812|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:078|1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\d{3})(\\d{7,8})","$1 $2",["9"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"(1(?:[12]\\d|79)\\d\\d)|0",0,0,0,0,"00"],CO:["57","00(?:4(?:[14]4|56)|[579])","(?:46|60\\d\\d)\\d{6}|(?:1\\d|[39])\\d{9}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["46"]],["(\\d{3})(\\d{7})","$1 $2",["6|90"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["3[0-357]|9[14]"]],["(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0([3579]|4(?:[14]4|56))?"],CR:["506","00","(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",[8,10],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))"],CU:["53","119","(?:[2-7]|8\\d\\d)\\d{7}|[2-47]\\d{6}|[34]\\d{5}",[6,7,8,10],[["(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["[56]"],"0$1"],["(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],"0"],CV:["238","0","(?:[2-59]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]]],CW:["599","00","(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[3467]"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]"],CX:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CY:["357","00","(?:[279]\\d|[58]0)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]]],CZ:["420","00","(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",[9,10,11,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["96"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]]],DE:["49","00","[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:2[024-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[015]\\d|2[13]|31|[46][1-8])\\d{1,9}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],["(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],["(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["15[03568]","15(?:[0568]|3[13])"],"0$1"],["(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],["(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],"0"],DJ:["253","00","(?:2\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]]],DK:["45","00","[2-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]]],DM:["1","011","(?:[58]\\d\\d|767|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","767$1",0,"767"],DO:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,0,0,0,"8001|8[024]9"],DZ:["213","00","(?:[1-4]|[5-79]\\d|80)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0"],EC:["593","00","1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",[8,9,10,11],[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],"0"],EE:["372","00","8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],EG:["20","00","[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",[8,9,10],[["(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{8})","$1 $2",["1"],"0$1"]],"0"],EH:["212","00","[5-8]\\d{8}",[9],0,"0",0,0,0,0,"528[89]"],ER:["291","00","[178]\\d{6}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0"],ES:["34","00","[5-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]]],ET:["251","00","(?:11|[2-579]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-579]"],"0$1"]],"0"],FI:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\d{5})","$1",["20[2-59]"],"0$1"],["(\\d{3})(\\d{3,7})","$1 $2",["(?:[1-3]0|[68])0|70[07-9]"],"0$1"],["(\\d{2})(\\d{4,8})","$1 $2",["[14]|2[09]|50|7[135]"],"0$1"],["(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"],["(\\d)(\\d{4,9})","$1 $2",["(?:19|[2568])[1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",0,"00"],FJ:["679","0(?:0|52)","45\\d{5}|(?:0800\\d|[235-9])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,0,"00"],FK:["500","00","[2-7]\\d{4}",[5]],FM:["691","00","(?:[39]\\d\\d|820)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[389]"]]]],FO:["298","00","[2-9]\\d{5}",[6],[["(\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))"],FR:["33","00","[1-9]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0"],GA:["241","00","(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",[7,8],[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"]],0,0,"0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[467]\\d{6})","$1"],GB:["44","00","[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",[7,9,10],[["(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,"0|180020",0,0,0,[["(?:1(?:1(?:3(?:[0-58]\\d\\d|73[0-35])|4(?:(?:[0-5]\\d|70)\\d|69[7-9])|(?:(?:5[0-26-9]|[78][0-49])\\d|6(?:[0-4]\\d|50))\\d)|(?:2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d|1(?:[0-7]\\d|8[0-3]))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d)\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",[9,10]],["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]],0," x"],GD:["1","011","(?:473|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","473$1",0,"473"],GE:["995","00","(?:[3-57]\\d\\d|800)\\d{6}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0"],GF:["594","00","(?:[56]94\\d|7093)\\d{5}|(?:80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]|9[47]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[89]"],"0$1"]],"0"],GG:["44","00","(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",[7,9,10],0,"0",0,"([25-9]\\d{5})$|0|180020","1481$1",0,0,[["1481[25-9]\\d{5}",[10]],["7(?:(?:781|839)\\d|911[17])\\d{5}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]]],GH:["233","00","(?:[235]\\d{3}|800)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0"],GI:["350","00","(?:[25]\\d|60)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["2"]]]],GL:["299","00","(?:19|[2-689]\\d|70)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-9]"]]]],GM:["220","00","[2-9]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],GN:["224","00","722\\d{6}|(?:3|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]]],GP:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["590(?:0[1-68]|[14][0-24-9]|2[0-68]|3[1-9]|5[3-579]|[68][0-689]|7[08]|9\\d)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],GQ:["240","00","222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]]],GR:["30","00","5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}",[10,11,12],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]],["(\\d{3})(\\d{3,4})(\\d{5})","$1 $2 $3",["8"]]]],GT:["502","00","80\\d{6}|(?:1\\d{3}|[2-7])\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1 $2",["[2-8]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],GU:["1","011","(?:[58]\\d\\d|671|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","671$1",0,"671"],GW:["245","00","[49]\\d{8}|4\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["40"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]]],GY:["592","001","(?:[2-8]\\d{3}|9008)\\d{3}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],HK:["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\d{6,7}|9\\d{4,7}|(?:[2-7]|9\\d{3})\\d{7}",[5,6,7,8,9,11],[["(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,0,"00"],HN:["504","00","8\\d{10}|[237-9]\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]]],HR:["385","00","[2-69]\\d{8}|80\\d{5,7}|[1-79]\\d{7}|6\\d{6}",[7,8,9],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["6[01]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6|7[245]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-57]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],"0"],HT:["509","00","[2-589]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-589]"]]]],HU:["36","00","[235-7]\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"06 $1"]],"06"],ID:["62","00[89]","00[1-9]\\d{9,14}|(?:[1-36]|8\\d{5})\\d{6}|00\\d{9}|[1-9]\\d{8,10}|[2-9]\\d{7}",[7,8,9,10,11,12,13,14,15,16,17],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],["(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],["(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0"],IE:["353","00","(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0"],IL:["972","0(?:0|1[2-9])","1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",[7,8,9,10,11,12],[["(\\d{4})(\\d{3})","$1-$2",["125"]],["(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],["(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],["(\\d{4})(\\d{6})","$1-$2",["159"]],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],"0"],IM:["44","00","1624\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([25-8]\\d{5})$|0|180020","1624$1",0,"74576|(?:16|7[56])24"],IN:["91","00","(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",[8,9,10,11,12,13],[["(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],0,1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|83)|73179|807(?:1|9[1-3])|(?:1552|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[124-6])\\d|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\d{5})(\\d{5})","$1 $2",["[6-9]"],"0$1",1],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["1(?:6|8[06])","1(?:6|8[06]0)"],0,1],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0"],IO:["246","00","3\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["3"]]]],IQ:["964","00","(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],IR:["98","00","[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",[4,5,6,7,10],[["(\\d{4,5})","$1",["96"],"0$1"],["(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0"],IS:["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\d|[4-9])\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,0,"00"],IT:["39","00","0\\d{5,11}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|(?:43|55|70)\\d{8}|8\\d{5}(?:\\d{2,4})?",[6,7,8,9,10,11,12],[["(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"]],["(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\d{4})(\\d{4})","$1 $2",["894"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1(?:44|[679])|[378]|43"]],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]|14"]],["(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[03]"]]],0,0,0,0,0,0,[["0(?:669[0-79]\\d{1,6}|831\\d{2,8})|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[2356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}"],["3[2-9]\\d{7,8}|(?:31|43)\\d{8}",[9,10]],["80(?:0\\d{3}|3)\\d{3}",[6,9]],["(?:0878\\d{3}|89(?:2\\d|3[04]|4(?:[0-4]|[5-9]\\d\\d)|5[0-4]))\\d\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\d{6}",[6,8,9,10]],["1(?:78\\d|99)\\d{6}",[9,10]],["3[2-8]\\d{9,10}",[11,12]],0,0,["55\\d{8}",[10]],["84(?:[08]\\d{3}|[17])\\d{3}",[6,9]]]],JE:["44","00","1534\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([0-24-8]\\d{5})$|0|180020","1534$1",0,0,[["1534[0-24-8]\\d{5}"],["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97\\d))\\d{5}"],["80(?:07(?:35|81)|8901)\\d{4}"],["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}"],["701511\\d{4}"],0,["(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}"],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}"],["56\\d{8}"]]],JM:["1","011","(?:[58]\\d\\d|658|900)\\d{7}",[10],0,"1",0,0,0,0,"658|876"],JO:["962","00","(?:(?:[2689]|7\\d)\\d|32|53)\\d{6}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],JP:["81","010","00[1-9]\\d{6,14}|[25-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51)|9(?:80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["3|4(?:2[09]|7[01])|6[1-9]","3|4(?:2(?:0|9[02-69])|7(?:0[019]|1))|6[1-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[0459]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[26-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9]|9[29])|5(?:2|3(?:[045]|9[0-8])|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|3(?:[29]|60)|49|51|6(?:[0-24]|36|5[0-3589]|7[23]|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3(?:[045]|9(?:[0-58]|6[4-9]|7[0-35689]))|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|60|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[2-57-9]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|7(?:2[2-468]|3[78])|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[25-9]"],"0$1"]],"0",0,"(000[2569]\\d{4,6})$|(?:(?:003768)0?)|0","$1"],KE:["254","000","(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",[7,8,9,10],[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0"],KG:["996","00","8\\d{9}|[235-9]\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0"],KH:["855","00[14-9]","1\\d{9}|[1-9]\\d{7,8}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],KI:["686","00","(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",[5,8],0,"0"],KM:["269","00","[3478]\\d{6}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]]],KN:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","869$1",0,"869"],KP:["850","00|99","85\\d{6}|(?:19\\d|[2-7])\\d{7}",[8,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],"0"],KR:["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\d{4})(\\d{4})","$1-$2",["1"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[36]0|8"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\d\\d))?"],KW:["965","00","18\\d{5}|(?:[2569]\\d|41)\\d{6}",[7,8],[["(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\d{3})(\\d{5})","$1 $2",["[245]"]]]],KY:["1","011","(?:345|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","345$1",0,"345"],KZ:["7","810","(?:33622|8\\d{8})\\d{5}|[78]\\d{9}",[10,14],0,"8",0,0,0,0,"33622|7",0,"8~10"],LA:["856","00","[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["3"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0"],LB:["961","00","[27-9]\\d{7}|[13-9]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-6]|9[04-9])|8[02-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27-9]"]]],"0"],LC:["1","011","(?:[58]\\d\\d|758|900)\\d{7}",[10],0,"1",0,"([2-8]\\d{6})$|1","758$1",0,"758"],LI:["423","00","[68]\\d{8}|(?:[2378]\\d|90)\\d{5}",[7,9],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2379]|8(?:0[09]|7)","[2379]|8(?:0(?:02|9)|7)"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],"0",0,"(1001)|0"],LK:["94","00","[1-9]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0"],LR:["231","00","(?:[2457]\\d|33|88)\\d{7}|(?:2\\d|[4-6])\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["4[67]|[56]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-578]"],"0$1"]],"0"],LS:["266","00","(?:[256]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2568]"]]]],LT:["370","00","(?:[3469]\\d|52|[78]0)\\d{6}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(0-$1)",1],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"0 $1",1],["(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(0-$1)",1],["(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(0-$1)",1]],"0",0,"[08]"],LU:["352","00","35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)"],LV:["371","00","(?:[268]\\d|78|90)\\d{6}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2679]|8[01]"]]]],LY:["218","00","[2-9]\\d{8}",[9],[["(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0"],MA:["212","00","[5-8]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\d{4})(\\d{5})","$1-$2",["5(?:2[2-46-9]|3[3-9]|9)|8(?:0[89]|92)"],"0$1"],["(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],["(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[["5(?:2(?:[0-25-79]\\d|3[1-578]|4[02-46-8]|8[0235-7])|3(?:[0-47]\\d|5[02-9]|6[02-8]|8[014-9]|9[3-9])|(?:4[067]|5[03])\\d)\\d{5}"],["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[0167]\\d|2[0-8]|5[0-5]|8[0-7]))\\d{6}"],["80[0-7]\\d{6}"],["89\\d{7}"],0,0,0,0,["(?:592(?:4[0-2]|93)|80[89]\\d\\d)\\d{4}"]]],MC:["377","00","(?:[3489]|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[389]"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["6"],"0$1"]],"0"],MD:["373","00","(?:[235-7]\\d|[89]0)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0"],ME:["382","00","(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0"],MF:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:0[079]|[14]3|[27][79]|3[03-7]|5[0-268]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],MG:["261","00","[23]\\d{8}",[9],[["(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"([24-9]\\d{6})$|0","20$1"],MH:["692","011","329\\d{4}|(?:[256]\\d|45)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],"1"],MK:["389","00","[2-578]\\d{7}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2|34[47]|4(?:[37]7|5[47]|64)"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0"],ML:["223","00","[24-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]]],MM:["95","00","1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",[6,7,8,9,10],[["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["4(?:[2-46]|5[3-5])|5|6(?:[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-5]|(?:60|86)[23]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|452|678|86","[12]|452|6788|86"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],"0"],MN:["976","001","[12]\\d{7,9}|[5-9]\\d{7}",[8,9,10],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[5-9]"]],["(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0"],MO:["853","00","0800\\d{3}|(?:28|[68]\\d)\\d{6}",[7,8],[["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{4})(\\d{4})","$1 $2",["[268]"]]]],MP:["1","011","[58]\\d{9}|(?:67|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","670$1",0,"670"],MQ:["596","00","(?:596\\d|7091)\\d{5}|(?:69|[89]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]|8(?:0[6-9]|[36])"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],MR:["222","00","(?:[2-4]\\d\\d|800)\\d{5}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]]],MS:["1","011","(?:[58]\\d\\d|664|900)\\d{7}",[10],0,"1",0,"([34]\\d{6})$|1","664$1",0,"664"],MT:["356","00","3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]]],MU:["230","0(?:0|[24-7]0|3[03])","(?:[57]|8\\d\\d)\\d{7}|[2-468]\\d{6}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\d{4})(\\d{4})","$1 $2",["[57]"]],["(\\d{5})(\\d{5})","$1 $2",["8"]]],0,0,0,0,0,0,0,"020"],MV:["960","0(?:0|19)","(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",[7,10],[["(\\d{3})(\\d{4})","$1-$2",["[34679]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,0,"00"],MW:["265","00","(?:[1289]\\d|31|77)\\d{7}|1\\d{6}",[7,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0"],MX:["52","0[09]","[2-9]\\d{9}",[10],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"]]],0,0,0,0,0,0,0,"00"],MY:["60","00","1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9]|53)|8","1(?:[02469]|[37][1-9]|53|8(?:[1-46-9]|5[7-9]))|8"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1(?:[367]|80)"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],"0"],MZ:["258","00","(?:2|8\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],NA:["264","00","[68]\\d{7,8}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],NC:["687","00","(?:050|[2-57-9]\\d\\d)\\d{3}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[02-57-9]"]]]],NE:["227","00","[027-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]|7[0467]"]]]],NF:["672","00","[13]\\d{5}",[6],[["(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],["(\\d)(\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\d{4})$","3$1"],NG:["234","009","(?:20|9\\d)\\d{8}|[78]\\d{9,13}",[10,11,12,13,14],[["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["20[129]"],"0$1"],["(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0"],NI:["505","00","(?:1800|[25-8]\\d{3})\\d{4}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]]],NL:["31","00","(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|8\\d{6,9}|9\\d{6,10}|1\\d{4,5}",[5,6,7,8,9,10,11],[["(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],["(\\d)(\\d{8})","$1 $2",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-578]|91"],"0$1"],["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",["9"],"0$1"]],"0"],NO:["47","00","(?:0|[2-9]\\d{3})\\d{4}",[5,8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]"]]],0,0,0,0,0,"[02-689]|7[0-8]"],NP:["977","00","(?:1\\d|9)\\d{9}|[1-9]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-59]|[67][2-6])"],"0$1"],["(\\d{3})(\\d{7})","$1-$2",["9"]]],"0"],NR:["674","00","(?:222|444|(?:55|8\\d)\\d|666|777|999)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[24-9]"]]]],NU:["683","00","(?:[4-7]|888\\d)\\d{3}",[4,7],[["(\\d{3})(\\d{4})","$1 $2",["8"]]]],NZ:["64","0(?:0|161)","[1289]\\d{9}|50\\d{5}(?:\\d{2,3})?|[27-9]\\d{7,8}|(?:[34]\\d|6[0-35-9])\\d{6}|8\\d{4,6}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,8})","$1 $2",["8[1-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[036-8]|8|90","50(?:[0367]|88)|8|90"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[589]"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7"],"0$1"]],"0",0,0,0,0,0,0,"00"],OM:["968","00","(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",[7,8,9],[["(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],["(\\d{2})(\\d{6})","$1 $2",["2"]],["(\\d{4})(\\d{4})","$1 $2",["[179]"]]]],PA:["507","00","(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}",[7,8,10,11],[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["[68]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]]],PE:["51","00|19(?:1[124]|77|90)00","(?:[14-8]|9\\d)\\d{7}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,0,"00"," Anexo "],PF:["689","00","4\\d{5}(?:\\d{2})?|8\\d{7,8}",[6,8,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4|8[7-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],PG:["675","00|140[1-3]","(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\d{4})(\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,0,"00"],PH:["63","00","(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}",[6,8,9,10,11,12,13],[["(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],"0"],PK:["92","00","122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,7})","$1 $2 $3",["[89]0"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["1"]],["(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],["(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0"],PL:["48","00","(?:6|8\\d\\d)\\d{7}|[1-9]\\d{6}(?:\\d{2})?|[26]\\d{5}",[6,7,8,9,10],[["(\\d{5})","$1",["19"]],["(\\d{3})(\\d{3})","$1 $2",["11|20|64"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]]],PM:["508","00","[45]\\d{5}|(?:708|8\\d\\d)\\d{6}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],PR:["1","011","(?:[589]\\d\\d|787)\\d{7}",[10],0,"1",0,0,0,0,"787|939"],PS:["970","00","[2489]2\\d{6}|(?:1\\d|5)\\d{8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],PT:["351","00","1693\\d{5}|(?:[26-9]\\d|30)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["16|[236-9]"]]]],PW:["680","01[12]","(?:[24-8]\\d\\d|345|900)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],PY:["595","00","59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],["(\\d{3})(\\d{6})","$1 $2",["9(?:[5-79]|8[1-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],"0"],QA:["974","00","800\\d{4}|(?:2|800)\\d{6}|(?:0080|[3-7])\\d{7}",[7,8,9,11],[["(\\d{3})(\\d{4})","$1 $2",["2[136]|8"]],["(\\d{4})(\\d{4})","$1 $2",["[3-7]"]]]],RE:["262","00","709\\d{6}|(?:26|[689]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[26-9]"],"0$1"]],"0",0,0,0,0,0,[["26(?:2\\d\\d|3(?:0\\d|1[0-6]))\\d{4}"],["(?:69(?:2\\d\\d|3(?:[06][0-6]|1[0-3]|2[0-2]|3[0-39]|4\\d|5[0-5]|7[0-37]|8[0-8]|9[0-479]))|7092[0-3])\\d{4}"],["80\\d{7}"],["89[1-37-9]\\d{6}"],0,0,0,0,["9(?:399[0-3]|479[0-6]|76(?:2[278]|3[0-37]))\\d{4}"],["8(?:1[019]|2[0156]|84|90)\\d{6}"]]],RO:["40","00","(?:[236-8]\\d|90)\\d{7}|[23]\\d{5}",[6,9],[["(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],["(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[236-9]"],"0$1"]],"0",0,0,0,0,0,0,0," int "],RS:["381","00","38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",[6,7,8,9,10,11,12],[["(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0"],RU:["7","810","8\\d{13}|[347-9]\\d{9}",[10,14],[["(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[349]|8(?:[02-7]|1[1-8])"],"8 ($1)",1],["(\\d{4})(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["8"],"8 ($1)"]],"8",0,0,0,0,0,[["336(?:[013-9]\\d|2[013-9])\\d{5}|(?:3(?:0[12]|4[1-35-79]|5[1-3]|65|8[1-58]|9[0145])|4(?:01|1[1356]|2[13467]|7[1-5]|8[1-7]|9[1-689])|8(?:1[1-8]|2[01]|3[13-6]|4[0-8]|5[15-7]|6[0-35-79]|7[1-37-9]))\\d{7}",[10]],["9\\d{9}",[10]],["8(?:0[04]|108\\d{3})\\d{7}"],["80[39]\\d{7}",[10]],["808\\d{7}",[10]]],"8~10"],RW:["250","00","(?:06|[27]\\d\\d|[89]00)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"]],"0"],SA:["966","00","(?:[15]\\d|800|92)\\d{7}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["9"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],"0"],SB:["677","0[01]","[6-9]\\d{6}|[1-6]\\d{4}",[5,7],[["(\\d{2})(\\d{5})","$1 $2",["6[89]|7|8[4-9]|9(?:[1-8]|9[0-8])"]]]],SC:["248","010|0[0-2]","(?:[2489]\\d|64)\\d{5}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,0,"00"],SD:["249","00","[19]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0"],SE:["46","00","(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",[6,7,8,9,10,12],[["(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44|9)"],"0$1",0,"$1 $2"],["(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0"],SG:["65","0[0-3]\\d","(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:0[1-9]|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],["(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],SH:["290","00","(?:[256]\\d|8)\\d{3}",[4,5],0,0,0,0,0,0,"[256]"],SI:["386","00|10(?:22|66|88|99)","[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",[5,6,7,8],[["(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,0,"00"],SJ:["47","00","0\\d{4}|(?:[489]\\d|79)\\d{6}",[5,8],0,0,0,0,0,0,"79"],SK:["421","00","[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",[6,7,9],[["(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0"],SL:["232","00","(?:[237-9]\\d|66)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0"],SM:["378","00","(?:0549|[5-7]\\d)\\d{6}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\d{4})(\\d{6})","$1 $2",["0"]]],0,0,"([89]\\d{5})$","0549$1"],SN:["221","00","(?:[378]\\d|93)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]]],SO:["252","00","[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",[6,7,8,9],[["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\d)(\\d{7})","$1 $2",["(?:2|90)4|[67]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[348]|64|79|90"]],["(\\d{2})(\\d{5,7})","$1 $2",["1|28|6[0-35-9]|7[67]|9[2-9]"]]],"0"],SR:["597","00","(?:[2-5]|[6-8]\\d|90)\\d{5}",[6,7],[["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],["(\\d{3})(\\d{4})","$1-$2",["[6-9]"]]]],SS:["211","00","[19]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0"],ST:["239","00","(?:22|9\\d)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[29]"]]]],SV:["503","00","[267]\\d{7}|(?:80\\d|900)\\d{4}(?:\\d{4})?",[7,8,11],[["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{4})(\\d{4})","$1 $2",["[267]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]]],SX:["1","011","7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"(5\\d{6})$|1","721$1",0,"721"],SY:["963","00","[1-359]\\d{8}|[1-5]\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-4]|5[1-3]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[59]"],"0$1",1]],"0"],SZ:["268","00","0800\\d{4}|(?:[237]\\d|900)\\d{6}",[8,9],[["(\\d{4})(\\d{4})","$1 $2",["[0237]"]],["(\\d{5})(\\d{4})","$1 $2",["9"]]]],TA:["290","00","8\\d{3}",[4],0,0,0,0,0,0,"8"],TC:["1","011","(?:[58]\\d\\d|649|900)\\d{7}",[10],0,"1",0,"([2-479]\\d{6})$|1","649$1",0,"649"],TD:["235","00|16","(?:22|30|[689]\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[236-9]"]]],0,0,0,0,0,0,0,"00"],TG:["228","00","[279]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]]],TH:["66","00[1-9]","(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}",[8,9,10,13],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],TJ:["992","810","[0-57-9]\\d{8}",[9],[["(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["44[02-479]|[34]7"]],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3(?:[1245]|3[12])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[0-57-9]"]]],0,0,0,0,0,0,0,"8~10"],TK:["690","00","[2-47]\\d{3,6}",[4,5,6,7]],TL:["670","00","7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7"]]]],TM:["993","810","(?:[1-6]\\d|71)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\d{2})(\\d{6})","$1 $2",["[67]"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],TN:["216","00","[2-57-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]]],TO:["676","00","(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",[5,7],[["(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[5-9]"]]]],TR:["90","00","4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",[7,10,12,13],[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|61[06])","5(?:[0-59]|61[06]1)"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\d{3})(\\d{3})(\\d{6,7})","$1 $2 $3",["80"],"0$1",1]],"0"],TT:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-46-8]\\d{6})$|1","868$1",0,"868"],TV:["688","00","(?:2|7\\d\\d|90)\\d{4}",[5,6,7],[["(\\d{2})(\\d{3})","$1 $2",["2"]],["(\\d{2})(\\d{4})","$1 $2",["90"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],TW:["886","0(?:0[25-79]|19)","[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",[7,8,9,10,11],[["(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,0,0,"#"],TZ:["255","00[056]","(?:[25-8]\\d|41|90)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["5"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0"],UA:["380","00","[89]\\d{9}|[3-9]\\d{8}",[9,10],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6[0135689]|7[4-6])|6(?:[12][3-7]|[459])","3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][3-7]|[459])"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|89|9[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,0,"0~0"],UG:["256","00[057]","800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",[9],[["(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],"0"],US:["1","011","[2-9]\\d{9}|3\\d{6}",[10],[["(\\d{3})(\\d{4})","$1-$2",["310"],0,1],["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[["3052(?:0[0-8]|[1-9]\\d)\\d{4}|(?:2742|305[3-9])\\d{6}|(?:472|983)[2-47-9]\\d{6}|(?:2(?:0[1-35-9]|1[02-9]|2[03-57-9]|3[1459]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-47-9]|1[02-9]|2[0135-79]|3[0-24679]|4[167]|5[0-2]|6[01349]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[349]|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[179]|6[1-47]|7[0-5]|8[0256])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[0156]|5[01679]|6[0-279]|78|8[0-269])|7(?:0[1-46-8]|1[2-9]|2[04-8]|3[0-247]|4[0378]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[0168]|3[0-2589]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01357-9]|5[12469]|7[0-3589]|8[04-69]))[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-9]|33|44|66|77|88)[2-9]\\d{6}"],0,0,0,["305209\\d{4}"]]],UY:["598","0(?:0|1[3-9]\\d)","0004\\d{2,9}|[1249]\\d{7}|2\\d{3,4}|(?:[49]\\d|80)\\d{5}",[4,5,6,7,8,9,10,11,12,13],[["(\\d{4,5})","$1",["21"]],["(\\d{3})(\\d{3,4})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[49]0|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[124]"]],["(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3 $4",["0"]]],"0",0,0,0,0,0,0,"00"," int. "],UZ:["998","00","(?:20|33|[5-9]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-9]"]]]],VA:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11,12],0,0,0,0,0,0,"06698"],VC:["1","011","(?:[58]\\d\\d|784|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","784$1",0,"784"],VE:["58","00","[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",[10],[["(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0"],VG:["1","011","(?:284|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-578]\\d{6})$|1","284$1",0,"284"],VI:["1","011","[58]\\d{9}|(?:34|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","340$1",0,"340"],VN:["84","00","[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",1],["(\\d{4})(\\d{4,6})","$1 $2",["1"],0,1],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["6"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[357-9]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0"],VU:["678","00","[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}",[5,7],[["(\\d{3})(\\d{4})","$1 $2",["[57-9]"]]]],WF:["681","00","(?:40|72|8\\d{4})\\d{4}|[89]\\d{5}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[47-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],WS:["685","0","(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",[5,6,7,10],[["(\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],XK:["383","00","2\\d{7,8}|3\\d{7,11}|(?:4\\d\\d|[89]00)\\d{5}",[8,9,10,11,12],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2|39"],"0$1"],["(\\d{2})(\\d{7,10})","$1 $2",["3"],"0$1"]],"0"],YE:["967","00","(?:1|7\\d)\\d{7}|[1-7]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7(?:[24-6]|8[0-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],"0"],YT:["262","00","7093\\d{5}|(?:80|9\\d)\\d{7}|(?:26|63)9\\d{6}",[9],0,"0",0,0,0,0,0,[["269(?:0[0-467]|15|5[0-4]|6\\d|[78]0)\\d{4}"],["(?:639(?:0[0-79]|1[019]|[267]\\d|3[09]|40|5[05-9]|9[04-79])|7093[5-7])\\d{4}"],["80\\d{7}"],0,0,0,0,0,["9(?:(?:39|47)8[01]|769\\d)\\d{4}"]]],ZA:["27","00","[1-79]\\d{8}|8\\d{4,9}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],ZM:["260","00","800\\d{6}|(?:21|[579]\\d|63)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[579]"],"0$1"]],"0"],ZW:["263","00","2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",[5,6,7,8,9,10],[["(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0"]},nonGeographic:{800:["800",0,"(?:00|[1-9]\\d)\\d{6}",[8],[["(\\d{4})(\\d{4})","$1 $2",["\\d"]]],0,0,0,0,0,0,[0,0,["(?:00|[1-9]\\d)\\d{6}"]]],808:["808",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\d{7}"]]],870:["870",0,"7\\d{11}|[235-7]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-7]"]]],0,0,0,0,0,0,[0,["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"],0,0,0,0,0,0,["2\\d{8}",[9]]]],878:["878",0,"10\\d{10}",[12],[["(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\d{10}"]]],881:["881",0,"6\\d{9}|[0-36-9]\\d{8}",[9,10],[["(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-37-9]"]],["(\\d)(\\d{3})(\\d{5,6})","$1 $2 $3",["6"]]],0,0,0,0,0,0,[0,["6\\d{9}|[0-36-9]\\d{8}"]]],882:["882",0,"[13]\\d{6}(?:\\d{2,5})?|[19]\\d{7}|(?:[25]\\d\\d|4)\\d{7}(?:\\d{2})?",[7,8,9,10,11,12],[["(\\d{2})(\\d{5})","$1 $2",["16|342"]],["(\\d{2})(\\d{6})","$1 $2",["49"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1[36]|9"]],["(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["16"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|23|3(?:[15]|4[57])|4|51"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],["(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-35]"]]],0,0,0,0,0,0,[0,["342\\d{4}|(?:337|49)\\d{6}|(?:3(?:2|47|7\\d{3})|50\\d{3})\\d{7}",[7,8,9,10,12]],0,0,0,["348[57]\\d{7}",[11]],0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:345\\d|9[89])\\d{6}|(?:10|2(?:3|85\\d)|3(?:[15]|[69]\\d\\d)|4[15-8]|51)\\d{8}"]]],883:["883",0,"(?:[1-4]\\d|51)\\d{6,10}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,8})","$1 $2 $3",["[14]|2[24-689]|3[02-689]|51[24-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["21"]],["(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[235]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["(?:2(?:00\\d\\d|10)|(?:370[1-9]|51\\d0)\\d)\\d{7}|51(?:00\\d{5}|[24-9]0\\d{4,7})|(?:1[0-79]|2[24-689]|3[02-689]|4[0-4])0\\d{5,9}"]]],888:["888",0,"\\d{11}",[11],[["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\d{11}"]]],979:["979",0,"[1359]\\d{8}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\d{8}"]]]}};function dBe(e,t){var n=Array.prototype.slice.call(t);return n.push(J8),e.apply(this,n)}function qG(e,t){e=e.split("-"),t=t.split("-");for(var n=e[0].split("."),i=t[0].split("."),r=0;r<3;r++){var a=Number(n[r]),o=Number(i[r]);if(a>o)return 1;if(o>a)return-1;if(!isNaN(a)&&isNaN(o))return 1;if(isNaN(a)&&!isNaN(o))return-1}return e[1]&&t[1]?e[1]>t[1]?1:e[1]<t[1]?-1:0:!e[1]&&t[1]?1:e[1]&&!t[1]?-1:0}var fBe={}.constructor;function ug(e){return e!=null&&e.constructor===fBe}function j1(e){"@babel/helpers - typeof";return j1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j1(e)}function GO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hBe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,pBe(i.key),i)}}function HO(e,t,n){return t&&hBe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pBe(e){var t=mBe(e,"string");return j1(t)=="symbol"?t:t+""}function mBe(e,t){if(j1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(j1(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var yBe="1.2.0",gBe="1.7.35",WG=" ext. ",vBe=/^\d+$/,ka=(function(){function e(t){GO(this,e),cue(t),this.metadata=t,due.call(this,t)}return HO(e,[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter(function(n){return n!=="001"})}},{key:"getCountryMetadata",value:function(n){return this.metadata.countries[n]}},{key:"nonGeographic",value:function(){if(!(this.v1||this.v2||this.v3))return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(n){return this.getCountryMetadata(n)!==void 0}},{key:"hasCallingCode",value:function(n){if(this.getCountryCodesForCallingCode(n))return!0;if(this.nonGeographic()){if(this.nonGeographic()[n])return!0}else{var i=this.countryCallingCodes()[n];if(i&&i.length===1&&i[0]==="001")return!0}}},{key:"isNonGeographicCallingCode",value:function(n){return this.nonGeographic()?!!this.nonGeographic()[n]:!this.getCountryCodesForCallingCode(n)}},{key:"country",value:function(n){return this.selectNumberingPlan(n)}},{key:"selectNumberingPlan",value:function(n,i){if(n&&vBe.test(n)&&(i=n,n=null),n&&n!=="001"){if(!this.hasCountry(n))throw new Error("Unknown country: ".concat(n));this.numberingPlan=new YG(this.getCountryMetadata(n),this)}else if(i){if(!this.hasCallingCode(i))throw new Error("Unknown calling code: ".concat(i));this.numberingPlan=new YG(this.getNumberingPlanMetadata(i),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(n){var i=this.countryCallingCodes()[n];if(i)return i.length===1&&i[0].length===3?void 0:i}},{key:"getCountryCodeForCallingCode",value:function(n){var i=this.getCountryCodesForCallingCode(n);if(i)return i[0]}},{key:"getNumberingPlanMetadata",value:function(n){var i=this.getCountryCodeForCallingCode(n);if(i)return this.getCountryMetadata(i);if(this.nonGeographic()){var r=this.nonGeographic()[n];if(r)return r}else{var a=this.countryCallingCodes()[n];if(a&&a.length===1&&a[0]==="001")return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(n){return this.numberingPlan.type(n)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(n){return this.selectNumberingPlan(n)}},{key:"hasSelectedNumberingPlan",value:function(){return this.numberingPlan!==void 0}}])})(),YG=(function(){function e(t,n){GO(this,e),this.globalMetadataObject=n,this.metadata=t,due.call(this,n.metadata)}return HO(e,[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(n){return n[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var n=this,i=this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[];return i.map(function(r){return new SBe(r,n)})}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(n){return n[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return this.types()&&this.types().length===0?!1:!!this.types()}},{key:"type",value:function(n){if(this.hasTypes()&&JG(this.types(),n))return new xBe(JG(this.types(),n),this)}},{key:"ext",value:function(){return this.v1||this.v2?WG:this.metadata[13]||WG}}])})(),SBe=(function(){function e(t,n){GO(this,e),this._format=t,this.metadata=n}return HO(e,[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return!!(this.nationalPrefixFormattingRule()&&!bBe.test(this.nationalPrefixFormattingRule()))}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}])})(),bBe=/^\(?\$1\)?$/,xBe=(function(){function e(t,n){GO(this,e),this.type=t,this.metadata=n}return HO(e,[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}])})();function JG(e,t){switch(t){case"FIXED_LINE":return e[0];case"MOBILE":return e[1];case"TOLL_FREE":return e[2];case"PREMIUM_RATE":return e[3];case"PERSONAL_NUMBER":return e[4];case"VOICEMAIL":return e[5];case"UAN":return e[6];case"PAGER":return e[7];case"VOIP":return e[8];case"SHARED_COST":return e[9]}}function cue(e){if(!e)throw new Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!ug(e)||!ug(e.countries))throw new Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(ug(e)?"an object of shape: { "+Object.keys(e).join(", ")+" }":"a "+wBe(e)+": "+e,"."))}var wBe=function(t){return j1(t)};function Lm(e,t){if(t=new ka(t),t.hasCountry(e))return t.selectNumberingPlan(e).countryCallingCode();throw new Error("Unknown country: ".concat(e))}function uue(e,t){return t.countries.hasOwnProperty(e)}function due(e){var t=e.version;typeof t=="number"?(this.v1=t===1,this.v2=t===2,this.v3=t===3,this.v4=t===4):t?qG(t,yBe)===-1?this.v2=!0:qG(t,gBe)===-1?this.v3=!0:this.v4=!0:this.v1=!0}function qO(e,t,n){return EBe(e,t,void 0,n)}function EBe(e,t,n,i){t&&(i=new ka(i.metadata),i.selectNumberingPlan(t));var r=i.type(n),a=r&&r.possibleLengths()||i.possibleLengths();if(!a)return"IS_POSSIBLE";var o=e.length,l=a[0];return l===o?"IS_POSSIBLE":l>o?"TOO_SHORT":a[a.length-1]<o?"TOO_LONG":a.indexOf(o,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}function _Be(e,t,n){if(t===void 0&&(t={}),n=new ka(n),t.v2){if(!e.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(e.countryCallingCode)}else{if(!e.phone)return!1;if(e.country){if(!n.hasCountry(e.country))throw new Error("Unknown country: ".concat(e.country));n.selectNumberingPlan(e.country)}else{if(!e.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(e.countryCallingCode)}}if(n.possibleLengths())return fue(e.phone||e.nationalNumber,e.country,n);if(e.countryCallingCode&&n.isNonGeographicCallingCode(e.countryCallingCode))return!0;throw new Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')}function fue(e,t,n){switch(qO(e,t,n)){case"IS_POSSIBLE":return!0;default:return!1}}function yh(e,t){return e=e||"",new RegExp("^(?:"+t+")$").test(e)}function ABe(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=RBe(e))||t){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RBe(e,t){if(e){if(typeof e=="string")return QG(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?QG(e,t):void 0}}function QG(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var NBe=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function Q8(e,t,n){if(t=t||{},!(!e.country&&!e.countryCallingCode)){n=new ka(n),n.selectNumberingPlan(e.country,e.countryCallingCode);var i=t.v2?e.nationalNumber:e.phone;if(yh(i,n.nationalNumberPattern())){if(RC(i,"FIXED_LINE",n))return n.type("MOBILE")&&n.type("MOBILE").pattern()===""||!n.type("MOBILE")||RC(i,"MOBILE",n)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE";for(var r=ABe(NBe),a;!(a=r()).done;){var o=a.value;if(RC(i,o,n))return o}}}}function RC(e,t,n){return t=n.type(t),!t||!t.pattern()||t.possibleLengths()&&t.possibleLengths().indexOf(e.length)<0?!1:yh(e,t.pattern())}function OBe(e,t,n){if(t=t||{},n=new ka(n),n.selectNumberingPlan(e.country,e.countryCallingCode),n.hasTypes())return Q8(e,t,n.metadata)!==void 0;var i=t.v2?e.nationalNumber:e.phone;return yh(i,n.nationalNumberPattern())}function jBe(e,t,n){var i=new ka(n),r=i.getCountryCodesForCallingCode(e);return r?r.filter(function(a){return DBe(t,a,n)}):[]}function DBe(e,t,n){var i=new ka(n);return i.selectNumberingPlan(t),i.numberingPlan.possibleLengths().indexOf(e.length)>=0}var X8=2,CBe=17,LBe=3,No="0-9---",TBe="--",MBe="/",IBe=".",PBe=" ",kBe="()\\[\\]",$Be="~",Du="".concat(TBe).concat(MBe).concat(IBe).concat(PBe).concat(kBe).concat($Be),WO="+",FBe=new RegExp("(["+No+"])");function hue(e,t,n,i){if(t){var r=new ka(i);r.selectNumberingPlan(t,n);var a=new RegExp(r.IDDPrefix());if(e.search(a)===0){e=e.slice(e.match(a)[0].length);var o=e.match(FBe);if(!(o&&o[1]!=null&&o[1].length>0&&o[1]==="0"))return e}}}function V6(e,t){if(e&&t.numberingPlan.nationalPrefixForParsing()){var n=new RegExp("^(?:"+t.numberingPlan.nationalPrefixForParsing()+")"),i=n.exec(e);if(i){var r,a,o=i.length-1,l=o>0&&i[o];if(t.nationalPrefixTransformRule()&&l)r=e.replace(n,t.nationalPrefixTransformRule()),o>1&&(a=i[1]);else{var c=i[0];r=e.slice(c.length),l&&(a=i[1])}var u;if(l){var d=e.indexOf(i[1]),h=e.slice(0,d);h===t.numberingPlan.nationalPrefix()&&(u=t.numberingPlan.nationalPrefix())}else u=i[0];return{nationalNumber:r,nationalPrefix:u,carrierCode:a}}}return{nationalNumber:e}}function BBe(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=zBe(e))||t){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zBe(e,t){if(e){if(typeof e=="string")return XG(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?XG(e,t):void 0}}function XG(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function pue(e,t){var n=t.countries,i=t.metadata;i=new ka(i);for(var r=BBe(n),a;!(a=r()).done;){var o=a.value;if(i.selectNumberingPlan(o),i.leadingDigits()){if(e&&e.search(i.leadingDigits())===0)return o}else if(Q8({phone:e,country:o},void 0,i.metadata))return o}}function Z8(e,t){var n=t.nationalNumber,i=t.metadata,r=i.getCountryCodesForCallingCode(e);if(r)return r.length===1?r[0]:pue(n,{countries:r,metadata:i.metadata})}function K6(e,t,n){var i=V6(e,n),r=i.carrierCode,a=i.nationalNumber;if(a!==e){if(!UBe(e,a,n))return{nationalNumber:e};if(n.numberingPlan.possibleLengths()&&(t||(t=Z8(n.numberingPlan.callingCode(),{nationalNumber:a,metadata:n})),!VBe(a,t,n)))return{nationalNumber:e}}return{nationalNumber:a,carrierCode:r}}function UBe(e,t,n){return!(yh(e,n.nationalNumberPattern())&&!yh(t,n.nationalNumberPattern()))}function VBe(e,t,n){switch(qO(e,t,n)){case"TOO_SHORT":case"INVALID_LENGTH":return!1;default:return!0}}function mue(e,t,n,i,r){var a=t||n?Lm(t||n,r):i;if(e.indexOf(a)===0){r=new ka(r),r.selectNumberingPlan(t||n,a);var o=e.slice(a.length),l=K6(o,t,r),c=l.nationalNumber,u=K6(e,t,r),d=u.nationalNumber;if(!yh(d,r.nationalNumberPattern())&&yh(c,r.nationalNumberPattern())||qO(d,t,r)==="TOO_LONG")return{countryCallingCode:a,number:o}}return{number:e}}function ek(e,t,n,i,r){if(!e)return{};var a;if(e[0]!=="+"){var o=hue(e,t||n,i,r);if(o&&o!==e)a=!0,e="+"+o;else{if(t||n||i){var l=mue(e,t,n,i,r),c=l.countryCallingCode,u=l.number;if(c)return{countryCallingCodeSource:"FROM_NUMBER_WITHOUT_PLUS_SIGN",countryCallingCode:c,number:u}}return{number:e}}}if(e[1]==="0")return{};r=new ka(r);for(var d=2;d-1<=LBe&&d<=e.length;){var h=e.slice(1,d);if(r.hasCallingCode(h))return r.selectNumberingPlan(h),{countryCallingCodeSource:a?"FROM_NUMBER_WITH_IDD":"FROM_NUMBER_WITH_PLUS_SIGN",countryCallingCode:h,number:e.slice(d)};d++}return{}}function yue(e){return e.replace(new RegExp("[".concat(Du,"]+"),"g")," ").trim()}var gue=/(\$\d)/;function vue(e,t,n){var i=n.useInternationalFormat,r=n.withNationalPrefix;n.carrierCode,n.metadata;var a=e.replace(new RegExp(t.pattern()),i?t.internationalFormat():r&&t.nationalPrefixFormattingRule()?t.format().replace(gue,t.nationalPrefixFormattingRule()):t.format());return i?yue(a):a}var KBe=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/;function GBe(e,t,n){var i=new ka(n);if(i.selectNumberingPlan(e,t),i.defaultIDDPrefix())return i.defaultIDDPrefix();if(KBe.test(i.IDDPrefix()))return i.IDDPrefix()}var HBe=";ext=",s0=function(t){return"([".concat(No,"]{1,").concat(t,"})")};function Sue(e){var t="20",n="15",i="9",r="6",a="[ \\t,]*",o="[:\\.]?[ \\t,-]*",l="#?",c="(?:e?xt(?:ensi(?:o?|))?n?|??||anexo)",u="(?:[x#~]|int|)",d="[- ]+",h="[ \\t]*",m="(?:,{2}|;)",p=HBe+s0(t),v=a+c+o+s0(t)+l,S=a+u+o+s0(i)+l,b=d+s0(r)+"#",w=h+m+o+s0(n)+l,R=h+"(?:,)+"+o+s0(i)+l;return p+"|"+v+"|"+S+"|"+b+"|"+w+"|"+R}var qBe="["+No+"]{"+X8+"}",WBe="["+WO+"]{0,1}(?:["+Du+"]*["+No+"]){3,}["+Du+No+"]*",YBe=new RegExp("^["+WO+"]{0,1}(?:["+Du+"]*["+No+"]){1,2}$","i"),JBe=WBe+"(?:"+Sue()+")?",QBe=new RegExp("^"+qBe+"$|^"+JBe+"$","i");function XBe(e){return e.length>=X8&&QBe.test(e)}function ZBe(e){return YBe.test(e)}function eze(e){var t=e.number,n=e.ext;if(!t)return"";if(t[0]!=="+")throw new Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(t).concat(n?";ext="+n:"")}var ZG={formatExtension:function(t,n,i){return"".concat(t).concat(i.ext()).concat(n)}};function tze(e,t,n,i){if(n?n=rze({},ZG,n):n=ZG,i=new ka(i),e.country&&e.country!=="001"){if(!i.hasCountry(e.country))throw new Error("Unknown country: ".concat(e.country));i.selectNumberingPlan(e.country)}else if(e.countryCallingCode)i.selectNumberingPlan(e.countryCallingCode);else return e.phone||"";var r=i.countryCallingCode(),a=n.v2?e.nationalNumber:e.phone,o;switch(t){case"NATIONAL":return a?(o=ER(a,e.carrierCode,"NATIONAL",i,n),NC(o,e.ext,i,n.formatExtension)):"";case"INTERNATIONAL":return a?(o=ER(a,null,"INTERNATIONAL",i,n),o="+".concat(r," ").concat(o),NC(o,e.ext,i,n.formatExtension)):"+".concat(r);case"E.164":return"+".concat(r).concat(a);case"RFC3966":return eze({number:"+".concat(r).concat(a),ext:e.ext});case"IDD":if(!n.fromCountry)return;var l=ize(a,e.carrierCode,r,n.fromCountry,i);return NC(l,e.ext,i,n.formatExtension);default:throw new Error('Unknown "format" argument passed to "formatNumber()": "'.concat(t,'"'))}}function ER(e,t,n,i,r){var a=nze(i.formats(),e);return a?vue(e,a,{useInternationalFormat:n==="INTERNATIONAL",withNationalPrefix:!(a.nationalPrefixIsOptionalWhenFormattingInNationalFormat()&&r&&r.nationalPrefix===!1),carrierCode:t,metadata:i}):e}function nze(e,t){return aze(e,function(n){if(n.leadingDigitsPatterns().length>0){var i=n.leadingDigitsPatterns()[n.leadingDigitsPatterns().length-1];if(t.search(i)!==0)return!1}return yh(t,n.pattern())})}function NC(e,t,n,i){return t?i(e,t,n):e}function ize(e,t,n,i,r){var a=Lm(i,r.metadata);if(a===n){var o=ER(e,t,"NATIONAL",r);return n==="1"?n+" "+o:o}var l=GBe(i,void 0,r.metadata);if(l)return"".concat(l," ").concat(n," ").concat(ER(e,null,"INTERNATIONAL",r))}function rze(){for(var e=1,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(;e<n.length;){if(n[e])for(var r in n[e])n[0][r]=n[e][r];e++}return n[0]}function aze(e,t){for(var n=0;n<e.length;){if(t(e[n]))return e[n];n++}}function Ix(e){"@babel/helpers - typeof";return Ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ix(e)}function eH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function tH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eH(Object(n),!0).forEach(function(i){sze(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eH(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function sze(e,t,n){return(t=bue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lze(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,bue(i.key),i)}}function cze(e,t,n){return t&&lze(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bue(e){var t=uze(e,"string");return Ix(t)=="symbol"?t:t+""}function uze(e,t){if(Ix(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(Ix(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xue=(function(){function e(t,n,i){if(oze(this,e),!t)throw new TypeError("First argument is required");if(typeof t!="string")throw new TypeError("First argument must be a string");if(t[0]==="+"&&!n)throw new TypeError("`metadata` argument not passed");if(ug(n)&&ug(n.countries)){i=n;var r=t;if(!hze.test(r))throw new Error('Invalid `number` argument passed: must consist of a "+" followed by digits');var a=ek(r,void 0,void 0,void 0,i),o=a.countryCallingCode,l=a.number;if(n=l,t=o,!n)throw new Error("Invalid `number` argument passed: too short")}if(!n)throw new TypeError("`nationalNumber` argument is required");if(typeof n!="string")throw new TypeError("`nationalNumber` argument must be a string");cue(i);var c=fze(t,i),u=c.country,d=c.countryCallingCode;this.country=u,this.countryCallingCode=d,this.nationalNumber=n,this.number="+"+this.countryCallingCode+this.nationalNumber,this.getMetadata=function(){return i}}return cze(e,[{key:"setExt",value:function(n){this.ext=n}},{key:"getPossibleCountries",value:function(){return this.country?[this.country]:jBe(this.countryCallingCode,this.nationalNumber,this.getMetadata())}},{key:"isPossible",value:function(){return _Be(this,{v2:!0},this.getMetadata())}},{key:"isValid",value:function(){return OBe(this,{v2:!0},this.getMetadata())}},{key:"isNonGeographic",value:function(){var n=new ka(this.getMetadata());return n.isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(n){return this.number===n.number&&this.ext===n.ext}},{key:"getType",value:function(){return Q8(this,{v2:!0},this.getMetadata())}},{key:"format",value:function(n,i){return tze(this,n,i?tH(tH({},i),{},{v2:!0}):{v2:!0},this.getMetadata())}},{key:"formatNational",value:function(n){return this.format("NATIONAL",n)}},{key:"formatInternational",value:function(n){return this.format("INTERNATIONAL",n)}},{key:"getURI",value:function(n){return this.format("RFC3966",n)}}])})(),dze=function(t){return/^[A-Z]{2}$/.test(t)};function fze(e,t){var n,i,r=new ka(t);return dze(e)?(n=e,r.selectNumberingPlan(n),i=r.countryCallingCode()):i=e,{country:n,countryCallingCode:i}}var hze=/^\+\d+$/;function G6(e){"@babel/helpers - typeof";return G6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G6(e)}function pze(e,t,n){return Object.defineProperty(e,"prototype",{writable:!1}),e}function mze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yze(e,t,n){return t=kx(t),gze(e,tk()?Reflect.construct(t,n||[],kx(e).constructor):t.apply(e,n))}function gze(e,t){if(t&&(G6(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vze(e)}function vze(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sze(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Px(e,t)}function H6(e){var t=typeof Map=="function"?new Map:void 0;return H6=function(i){if(i===null||!xze(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(i))return t.get(i);t.set(i,r)}function r(){return bze(i,arguments,kx(this).constructor)}return r.prototype=Object.create(i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Px(r,i)},H6(e)}function bze(e,t,n){if(tk())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,t);var r=new(e.bind.apply(e,i));return n&&Px(r,n.prototype),r}function tk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tk=function(){return!!e})()}function xze(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch{return typeof e=="function"}}function Px(e,t){return Px=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Px(e,t)}function kx(e){return kx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},kx(e)}var Uf=(function(e){function t(n){var i;return mze(this,t),i=yze(this,t,[n]),Object.setPrototypeOf(i,t.prototype),i.name=i.constructor.name,i}return Sze(t,e),pze(t)})(H6(Error)),nH=new RegExp("(?:"+Sue()+")$","i");function wze(e){var t=e.search(nH);if(t<0)return{};for(var n=e.slice(0,t),i=e.match(nH),r=1;r<i.length;){if(i[r])return{number:n,ext:i[r]};r++}}function Eze(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=_ze(e))||t){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ze(e,t){if(e){if(typeof e=="string")return iH(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?iH(e,t):void 0}}function iH(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var Aze={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9"};function wue(e){return Aze[e]}function _R(e){for(var t="",n=Eze(e.split("")),i;!(i=n()).done;){var r=i.value,a=wue(r);a&&(t+=a)}return t}function Rze(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=Nze(e))||t){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nze(e,t){if(e){if(typeof e=="string")return rH(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rH(e,t):void 0}}function rH(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function q6(e){for(var t="",n=Rze(e.split("")),i;!(i=n()).done;){var r=i.value;t+=Eue(r,t)||""}return t}function Eue(e,t,n){if(e==="+"){if(t){typeof n=="function"&&n("end");return}return"+"}return wue(e)}var _ue="+",Oze="[\\-\\.\\(\\)]?",aH="(["+No+"]|"+Oze+")",jze="^\\"+_ue+aH+"*["+No+"]"+aH+"*$",Dze=new RegExp(jze,"g"),W6=No,Cze="["+W6+"]+((\\-)*["+W6+"])*",Lze="a-zA-Z",Tze="["+Lze+"]+((\\-)*["+W6+"])*",Mze="^("+Cze+"\\.)*"+Tze+"\\.?$",Ize=new RegExp(Mze,"g"),sH="tel:",Y6=";phone-context=",Pze=";isub=";function kze(e){var t=e.indexOf(Y6);if(t<0)return null;var n=t+Y6.length;if(n>=e.length)return"";var i=e.indexOf(";",n);return i>=0?e.substring(n,i):e.substring(n)}function $ze(e){return e===null?!0:e.length===0?!1:Dze.test(e)||Ize.test(e)}function Fze(e,t){var n=t.extractFormattedPhoneNumber,i=kze(e);if(!$ze(i))throw new Uf("NOT_A_NUMBER");var r;if(i===null)r=n(e)||"";else{r="",i.charAt(0)===_ue&&(r+=i);var a=e.indexOf(sH),o;a>=0?o=a+sH.length:o=0;var l=e.indexOf(Y6);r+=e.substring(o,l)}var c=r.indexOf(Pze);if(c>0&&(r=r.substring(0,c)),r!=="")return r}var Bze=250,zze=new RegExp("["+WO+No+"]"),Uze=new RegExp("[^"+No+"#]+$");function Vze(e,t,n){if(t=t||{},n=new ka(n),t.defaultCountry&&!n.hasCountry(t.defaultCountry))throw t.v2?new Uf("INVALID_COUNTRY"):new Error("Unknown country: ".concat(t.defaultCountry));var i=Gze(e,t.v2,t.extract),r=i.number,a=i.ext,o=i.error;if(!r){if(t.v2)throw o==="TOO_SHORT"?new Uf("TOO_SHORT"):new Uf("NOT_A_NUMBER");return{}}var l=qze(r,t.defaultCountry,t.defaultCallingCode,n),c=l.country,u=l.nationalNumber,d=l.countryCallingCode,h=l.countryCallingCodeSource,m=l.carrierCode;if(!n.hasSelectedNumberingPlan()){if(t.v2)throw new Uf("INVALID_COUNTRY");return{}}if(!u||u.length<X8){if(t.v2)throw new Uf("TOO_SHORT");return{}}if(u.length>CBe){if(t.v2)throw new Uf("TOO_LONG");return{}}if(t.v2){var p=new xue(d,u,n.metadata);return c&&(p.country=c),m&&(p.carrierCode=m),a&&(p.ext=a),p.__countryCallingCodeSource=h,p}var v=(t.extended?n.hasSelectedNumberingPlan():c)?yh(u,n.nationalNumberPattern()):!1;return t.extended?{country:c,countryCallingCode:d,carrierCode:m,valid:v,possible:v?!0:!!(t.extended===!0&&n.possibleLengths()&&fue(u,c,n)),phone:u,ext:a}:v?Hze(c,u,a):{}}function Kze(e,t,n){if(e){if(e.length>Bze){if(n)throw new Uf("TOO_LONG");return}if(t===!1)return e;var i=e.search(zze);if(!(i<0))return e.slice(i).replace(Uze,"")}}function Gze(e,t,n){var i=Fze(e,{extractFormattedPhoneNumber:function(o){return Kze(o,n,t)}});if(!i)return{};if(!XBe(i))return ZBe(i)?{error:"TOO_SHORT"}:{};var r=wze(i);return r.ext?r:{number:i}}function Hze(e,t,n){var i={country:e,phone:t};return n&&(i.ext=n),i}function qze(e,t,n,i){var r=ek(q6(e),void 0,t,n,i.metadata),a=r.countryCallingCodeSource,o=r.countryCallingCode,l=r.number,c;if(o)i.selectNumberingPlan(o);else if(l&&(t||n))i.selectNumberingPlan(t,n),t&&(c=t),o=n||Lm(t,i.metadata);else return{};if(!l)return{countryCallingCodeSource:a,countryCallingCode:o};var u=K6(q6(l),c,i),d=u.nationalNumber,h=u.carrierCode,m=Z8(o,{nationalNumber:d,metadata:i});return m&&(c=m,m==="001"||i.selectNumberingPlan(c)),{country:c,countryCallingCode:o,countryCallingCodeSource:a,nationalNumber:d,carrierCode:h}}function $x(e){"@babel/helpers - typeof";return $x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$x(e)}function oH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function lH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oH(Object(n),!0).forEach(function(i){Wze(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oH(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Wze(e,t,n){return(t=Yze(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yze(e){var t=Jze(e,"string");return $x(t)=="symbol"?t:t+""}function Jze(e,t){if($x(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if($x(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qze(e,t,n){return Vze(e,lH(lH({},t),{},{v2:!0}),n)}function Fx(e){"@babel/helpers - typeof";return Fx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fx(e)}function cH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function Xze(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cH(Object(n),!0).forEach(function(i){Zze(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cH(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Zze(e,t,n){return(t=eUe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eUe(e){var t=tUe(e,"string");return Fx(t)=="symbol"?t:t+""}function tUe(e,t){if(Fx(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(Fx(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nUe(e,t){return sUe(e)||aUe(e,t)||rUe(e,t)||iUe()}function iUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rUe(e,t){if(e){if(typeof e=="string")return uH(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uH(e,t):void 0}}function uH(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function aUe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,r,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(d){u=!0,r=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw r}}return l}}function sUe(e){if(Array.isArray(e))return e}function Aue(e){var t=Array.prototype.slice.call(e),n=nUe(t,4),i=n[0],r=n[1],a=n[2],o=n[3],l,c,u;if(typeof i=="string")l=i;else throw new TypeError("A text for parsing must be a string.");if(!r||typeof r=="string")o?(c=a,u=o):(c=void 0,u=a),r&&(c=Xze({defaultCountry:r},c));else if(ug(r))a?(c=r,u=a):u=r;else throw new Error("Invalid second argument: ".concat(r));return{text:l,options:c,metadata:u}}function Bx(e){"@babel/helpers - typeof";return Bx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bx(e)}function dH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function fH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dH(Object(n),!0).forEach(function(i){oUe(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dH(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function oUe(e,t,n){return(t=lUe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lUe(e){var t=cUe(e,"string");return Bx(t)=="symbol"?t:t+""}function cUe(e,t){if(Bx(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(Bx(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rue(e,t,n){t&&t.defaultCountry&&!uue(t.defaultCountry,n)&&(t=fH(fH({},t),{},{defaultCountry:void 0}));try{return Qze(e,t,n)}catch(i){if(!(i instanceof Uf))throw i}}function Nue(){var e=Aue(arguments),t=e.text,n=e.options,i=e.metadata;return Rue(t,n,i)}function zx(e){"@babel/helpers - typeof";return zx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zx(e)}function hH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function pH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hH(Object(n),!0).forEach(function(i){uUe(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hH(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function uUe(e,t,n){return(t=dUe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dUe(e){var t=fUe(e,"string");return zx(t)=="symbol"?t:t+""}function fUe(e,t){if(zx(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(zx(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hUe(){var e=Aue(arguments),t=e.text,n=e.options,i=e.metadata;n=pH(pH({},n),{},{extract:!1});var r=Rue(t,n,i);return r&&r.isValid()||!1}function Ux(e){"@babel/helpers - typeof";return Ux=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ux(e)}function pUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mUe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,gUe(i.key),i)}}function yUe(e,t,n){return t&&mUe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gUe(e){var t=vUe(e,"string");return Ux(t)=="symbol"?t:t+""}function vUe(e,t){if(Ux(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(Ux(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var SUe=(function(){function e(t){var n=t.onCountryChange,i=t.onCallingCodeChange;pUe(this,e),this.onCountryChange=n,this.onCallingCodeChange=i}return yUe(e,[{key:"reset",value:function(n){var i=n.country,r=n.callingCode;this.international=!1,this.missingPlus=!1,this.IDDPrefix=void 0,this.callingCode=void 0,this.digits="",this.resetNationalSignificantNumber(),this.initCountryAndCallingCode(i,r)}},{key:"resetNationalSignificantNumber",value:function(){this.nationalSignificantNumber=this.getNationalDigits(),this.nationalSignificantNumberIsModified=!1,this.nationalPrefix=void 0,this.carrierCode=void 0,this.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix=void 0}},{key:"update",value:function(n){for(var i=0,r=Object.keys(n);i<r.length;i++){var a=r[i];this[a]=n[a]}}},{key:"initCountryAndCallingCode",value:function(n,i){this.setCountry(n),this.setCallingCode(i)}},{key:"setCountry",value:function(n){this.country=n,this.onCountryChange(n)}},{key:"setCallingCode",value:function(n){this.callingCode=n,this.onCallingCodeChange(n,this.country)}},{key:"startInternationalNumber",value:function(n,i){this.international=!0,this.initCountryAndCallingCode(n,i)}},{key:"appendDigits",value:function(n){this.digits+=n}},{key:"appendNationalSignificantNumberDigits",value:function(n){this.nationalSignificantNumber+=n}},{key:"getNationalDigits",value:function(){return this.international?this.digits.slice((this.IDDPrefix?this.IDDPrefix.length:0)+(this.callingCode?this.callingCode.length:0)):this.digits}},{key:"getDigitsWithoutInternationalPrefix",value:function(){return this.international&&this.IDDPrefix?this.digits.slice(this.IDDPrefix.length):this.digits}}])})();function bUe(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=xUe(e))||t){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xUe(e,t){if(e){if(typeof e=="string")return mH(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mH(e,t):void 0}}function mH(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var yu="x",OC=new RegExp(yu);function sA(e,t){if(t<1)return"";for(var n="";t>1;)t&1&&(n+=e),t>>=1,e+=e;return n+e}function yH(e,t){return e[t]===")"&&t++,wUe(e.slice(0,t))}function wUe(e){for(var t=[],n=0;n<e.length;)e[n]==="("?t.push(n):e[n]===")"&&t.pop(),n++;var i=0,r="";t.push(e.length);for(var a=0,o=t;a<o.length;a++){var l=o[a];r+=e.slice(i,l),i=l+1}return r}function EUe(e,t,n){for(var i=bUe(n.split("")),r;!(r=i()).done;){var a=r.value;if(e.slice(t+1).search(OC)<0)return;t=e.search(OC),e=e.replace(OC,a)}return[e,t]}function _Ue(e,t,n){var i=n.metadata,r=n.shouldTryNationalPrefixFormattingRule,a=n.getSeparatorAfterNationalPrefix,o=new RegExp("^(?:".concat(t.pattern(),")$"));if(o.test(e.nationalSignificantNumber))return RUe(e,t,{metadata:i,shouldTryNationalPrefixFormattingRule:r,getSeparatorAfterNationalPrefix:a})}function AUe(e,t,n){return qO(e,t,n)==="IS_POSSIBLE"}function RUe(e,t,n){var i=n.metadata,r=n.shouldTryNationalPrefixFormattingRule,a=n.getSeparatorAfterNationalPrefix;if(e.nationalSignificantNumber,e.international,e.nationalPrefix,e.carrierCode,r(t)){var o=gH(e,t,{useNationalPrefixFormattingRule:!0,getSeparatorAfterNationalPrefix:a,metadata:i});if(o)return o}return gH(e,t,{useNationalPrefixFormattingRule:!1,getSeparatorAfterNationalPrefix:a,metadata:i})}function gH(e,t,n){var i=n.metadata,r=n.useNationalPrefixFormattingRule,a=n.getSeparatorAfterNationalPrefix,o=vue(e.nationalSignificantNumber,t,{carrierCode:e.carrierCode,useInternationalFormat:e.international,withNationalPrefix:r,metadata:i});if(r||(e.nationalPrefix?o=e.nationalPrefix+a(t)+o:e.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix&&(o=e.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix+" "+o)),NUe(o,e))return o}function NUe(e,t){return _R(e)===t.getNationalDigits()}function Vx(e){"@babel/helpers - typeof";return Vx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vx(e)}function OUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jUe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,CUe(i.key),i)}}function DUe(e,t,n){return t&&jUe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function CUe(e){var t=LUe(e,"string");return Vx(t)=="symbol"?t:t+""}function LUe(e,t){if(Vx(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(Vx(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var TUe=(function(){function e(){OUe(this,e)}return DUe(e,[{key:"parse",value:function(n){if(this.context=[{or:!0,instructions:[]}],this.parsePattern(n),this.context.length!==1)throw new Error("Non-finalized contexts left when pattern parse ended");var i=this.context[0],r=i.branches,a=i.instructions;if(r)return{op:"|",args:r.concat([jC(a)])};if(a.length===0)throw new Error("Pattern is required");return a.length===1?a[0]:a}},{key:"startContext",value:function(n){this.context.push(n)}},{key:"endContext",value:function(){this.context.pop()}},{key:"getContext",value:function(){return this.context[this.context.length-1]}},{key:"parsePattern",value:function(n){if(!n)throw new Error("Pattern is required");var i=n.match(PUe);if(!i){if(IUe.test(n))throw new Error("Illegal characters found in a pattern: ".concat(n));this.getContext().instructions=this.getContext().instructions.concat(n.split(""));return}var r=i[1],a=n.slice(0,i.index),o=n.slice(i.index+r.length);switch(r){case"(?:":a&&this.parsePattern(a),this.startContext({or:!0,instructions:[],branches:[]});break;case")":if(!this.getContext().or)throw new Error('")" operator must be preceded by "(?:" operator');if(a&&this.parsePattern(a),this.getContext().instructions.length===0)throw new Error('No instructions found after "|" operator in an "or" group');var l=this.getContext(),c=l.branches;c.push(jC(this.getContext().instructions)),this.endContext(),this.getContext().instructions.push({op:"|",args:c});break;case"|":if(!this.getContext().or)throw new Error('"|" operator can only be used inside "or" groups');if(a&&this.parsePattern(a),!this.getContext().branches)if(this.context.length===1)this.getContext().branches=[];else throw new Error('"branches" not found in an "or" group context');this.getContext().branches.push(jC(this.getContext().instructions)),this.getContext().instructions=[];break;case"[":a&&this.parsePattern(a),this.startContext({oneOfSet:!0});break;case"]":if(!this.getContext().oneOfSet)throw new Error('"]" operator must be preceded by "[" operator');this.endContext(),this.getContext().instructions.push({op:"[]",args:MUe(a)});break;default:throw new Error("Unknown operator: ".concat(r))}o&&this.parsePattern(o)}}])})();function MUe(e){for(var t=[],n=0;n<e.length;){if(e[n]==="-"){if(n===0||n===e.length-1)throw new Error("Couldn't parse a one-of set pattern: ".concat(e));for(var i=e[n-1].charCodeAt(0)+1,r=e[n+1].charCodeAt(0)-1,a=i;a<=r;)t.push(String.fromCharCode(a)),a++}else t.push(e[n]);n++}return t}var IUe=/[\(\)\[\]\?\:\|]/,PUe=new RegExp("(\\||\\(\\?\\:|\\)|\\[|\\])");function jC(e){return e.length===1?e[0]:e}function vH(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=kUe(e))||t){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kUe(e,t){if(e){if(typeof e=="string")return SH(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?SH(e,t):void 0}}function SH(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function Kx(e){"@babel/helpers - typeof";return Kx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kx(e)}function $Ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FUe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,zUe(i.key),i)}}function BUe(e,t,n){return t&&FUe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zUe(e){var t=UUe(e,"string");return Kx(t)=="symbol"?t:t+""}function UUe(e,t){if(Kx(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(Kx(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var VUe=(function(){function e(t){$Ue(this,e),this.matchTree=new TUe().parse(t)}return BUe(e,[{key:"match",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=i.allowOverflow;if(!n)throw new Error("String is required");var a=J6(n.split(""),this.matchTree,!0);if(a&&a.match&&delete a.matchedChars,!(a&&a.overflow&&!r))return a}}])})();function J6(e,t,n){if(typeof t=="string"){var i=e.join("");return t.indexOf(i)===0?e.length===t.length?{match:!0,matchedChars:e}:{partialMatch:!0}:i.indexOf(t)===0?n&&e.length>t.length?{overflow:!0}:{match:!0,matchedChars:e.slice(0,t.length)}:void 0}if(Array.isArray(t)){for(var r=e.slice(),a=0;a<t.length;){var o=t[a],l=J6(r,o,n&&a===t.length-1);if(l){if(l.overflow)return l;if(l.match){if(r=r.slice(l.matchedChars.length),r.length===0)return a===t.length-1?{match:!0,matchedChars:e}:{partialMatch:!0}}else{if(l.partialMatch)return{partialMatch:!0};throw new Error(`Unsupported match result:
`.concat(JSON.stringify(l,null,2)))}}else return;a++}return n?{overflow:!0}:{match:!0,matchedChars:e.slice(0,e.length-r.length)}}switch(t.op){case"|":for(var c,u=vH(t.args),d;!(d=u()).done;){var h=d.value,m=J6(e,h,n);if(m){if(m.overflow)return m;if(m.match)return{match:!0,matchedChars:m.matchedChars};if(m.partialMatch)c=!0;else throw new Error(`Unsupported match result:
`.concat(JSON.stringify(m,null,2)))}}return c?{partialMatch:!0}:void 0;case"[]":for(var p=vH(t.args),v;!(v=p()).done;){var S=v.value;if(e[0]===S)return e.length===1?{match:!0,matchedChars:e}:n?{overflow:!0}:{match:!0,matchedChars:[S]}}return;default:throw new Error("Unsupported instruction tree: ".concat(t))}}function Gx(e){"@babel/helpers - typeof";return Gx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gx(e)}function bH(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=KUe(e))||t){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KUe(e,t){if(e){if(typeof e=="string")return xH(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xH(e,t):void 0}}function xH(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function GUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HUe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,WUe(i.key),i)}}function qUe(e,t,n){return t&&HUe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function WUe(e){var t=YUe(e,"string");return Gx(t)=="symbol"?t:t+""}function YUe(e,t){if(Gx(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(Gx(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Q6="9",JUe=15,QUe=sA(Q6,JUe),XUe=/[- ]/,ZUe=function(){return/\[([^\[\]])*\]/g},eVe=function(){return/\d(?=[^,}][^,}])/g},tVe=new RegExp("["+Du+"]*\\$1["+Du+"]*(\\$\\d["+Du+"]*)*$"),wH=3,nVe=(function(){function e(t){t.state;var n=t.metadata;GUe(this,e),this.metadata=n,this.resetFormat()}return qUe(e,[{key:"resetFormat",value:function(){this.chosenFormat=void 0,this.template=void 0,this.nationalNumberTemplate=void 0,this.populatedNationalNumberTemplate=void 0,this.populatedNationalNumberTemplatePosition=-1}},{key:"reset",value:function(n,i){this.resetFormat(),n?(this.isNANP=n.callingCode()==="1",this.matchingFormats=n.formats(),i.nationalSignificantNumber&&this.narrowDownMatchingFormats(i)):(this.isNANP=void 0,this.matchingFormats=[])}},{key:"format",value:function(n,i){var r=this;if(AUe(i.nationalSignificantNumber,i.country,this.metadata))for(var a=bH(this.matchingFormats),o;!(o=a()).done;){var l=o.value,c=_Ue(i,l,{metadata:this.metadata,shouldTryNationalPrefixFormattingRule:function(d){return r.shouldTryNationalPrefixFormattingRule(d,{international:i.international,nationalPrefix:i.nationalPrefix})},getSeparatorAfterNationalPrefix:function(d){return r.getSeparatorAfterNationalPrefix(d)}});if(c)return this.resetFormat(),this.chosenFormat=l,this.setNationalNumberTemplate(c.replace(/\d/g,yu),i),this.populatedNationalNumberTemplate=c,this.populatedNationalNumberTemplatePosition=this.template.lastIndexOf(yu),c}return this.formatNationalNumberWithNextDigits(n,i)}},{key:"formatNationalNumberWithNextDigits",value:function(n,i){var r=this.chosenFormat,a=this.chooseFormat(i);if(a)return a===r?this.formatNextNationalNumberDigits(n):this.formatNextNationalNumberDigits(i.getNationalDigits())}},{key:"narrowDownMatchingFormats",value:function(n){var i=this,r=n.nationalSignificantNumber,a=n.nationalPrefix,o=n.international,l=r,c=l.length-wH;c<0&&(c=0),this.matchingFormats=this.matchingFormats.filter(function(u){return i.formatSuits(u,o,a)&&i.formatMatches(u,l,c)}),this.chosenFormat&&this.matchingFormats.indexOf(this.chosenFormat)===-1&&this.resetFormat()}},{key:"formatSuits",value:function(n,i,r){return!(r&&!n.usesNationalPrefix()&&!n.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!i&&!r&&n.nationalPrefixIsMandatoryWhenFormattingInNationalFormat())}},{key:"formatMatches",value:function(n,i,r){var a=n.leadingDigitsPatterns().length;if(a===0)return!0;r=Math.min(r,a-1);var o=n.leadingDigitsPatterns()[r];if(i.length<wH)try{return new VUe(o).match(i,{allowOverflow:!0})!==void 0}catch(l){return console.error(l),!0}return new RegExp("^(".concat(o,")")).test(i)}},{key:"getFormatFormat",value:function(n,i){return i?n.internationalFormat():n.format()}},{key:"chooseFormat",value:function(n){for(var i=this,r=function(){var u=l.value;return i.chosenFormat===u?0:tVe.test(i.getFormatFormat(u,n.international))?i.createTemplateForFormat(u,n)?(i.chosenFormat=u,0):(i.matchingFormats=i.matchingFormats.filter(function(d){return d!==u}),1):1},a,o=bH(this.matchingFormats.slice()),l;!(l=o()).done&&(a=r(),a!==0););return this.chosenFormat||this.resetFormat(),this.chosenFormat}},{key:"createTemplateForFormat",value:function(n,i){if(!(n.pattern().indexOf("|")>=0)){var r=this.getTemplateForFormat(n,i);if(r)return this.setNationalNumberTemplate(r,i),!0}}},{key:"getSeparatorAfterNationalPrefix",value:function(n){return this.isNANP||n&&n.nationalPrefixFormattingRule()&&XUe.test(n.nationalPrefixFormattingRule())?" ":""}},{key:"getInternationalPrefixBeforeCountryCallingCode",value:function(n,i){var r=n.IDDPrefix,a=n.missingPlus;return r?i&&i.spacing===!1?r:r+" ":a?"":"+"}},{key:"getTemplate",value:function(n){if(this.template){for(var i=-1,r=0,a=n.international?this.getInternationalPrefixBeforeCountryCallingCode(n,{spacing:!1}):"";r<a.length+n.getDigitsWithoutInternationalPrefix().length;)i=this.template.indexOf(yu,i+1),r++;return yH(this.template,i+1)}}},{key:"setNationalNumberTemplate",value:function(n,i){this.nationalNumberTemplate=n,this.populatedNationalNumberTemplate=n,this.populatedNationalNumberTemplatePosition=-1,i.international?this.template=this.getInternationalPrefixBeforeCountryCallingCode(i).replace(/[\d\+]/g,yu)+sA(yu,i.callingCode.length)+" "+n:this.template=n}},{key:"getTemplateForFormat",value:function(n,i){var r=i.nationalSignificantNumber,a=i.international,o=i.nationalPrefix,l=i.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix,c=n.pattern();c=c.replace(ZUe(),"\\d").replace(eVe(),"\\d");var u=QUe.match(c)[0];if(!(r.length>u.length)){var d=new RegExp("^"+c+"$"),h=r.replace(/\d/g,Q6);d.test(h)&&(u=h);var m=this.getFormatFormat(n,a),p;if(this.shouldTryNationalPrefixFormattingRule(n,{international:a,nationalPrefix:o})){var v=m.replace(gue,n.nationalPrefixFormattingRule());if(_R(n.nationalPrefixFormattingRule())===(o||"")+_R("$1")&&(m=v,p=!0,o))for(var S=o.length;S>0;)m=m.replace(/\d/,yu),S--}var b=u.replace(new RegExp(c),m).replace(new RegExp(Q6,"g"),yu);return p||(l?b=sA(yu,l.length)+" "+b:o&&(b=sA(yu,o.length)+this.getSeparatorAfterNationalPrefix(n)+b)),a&&(b=yue(b)),b}}},{key:"formatNextNationalNumberDigits",value:function(n){var i=EUe(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition,n);if(!i){this.resetFormat();return}return this.populatedNationalNumberTemplate=i[0],this.populatedNationalNumberTemplatePosition=i[1],yH(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition+1)}},{key:"shouldTryNationalPrefixFormattingRule",value:function(n,i){var r=i.international,a=i.nationalPrefix;if(n.nationalPrefixFormattingRule()){var o=n.usesNationalPrefix();if(o&&a||!o&&!r)return!0}}}])})();function Hx(e){"@babel/helpers - typeof";return Hx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hx(e)}function Oue(e,t){return sVe(e)||aVe(e,t)||rVe(e,t)||iVe()}function iVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rVe(e,t){if(e){if(typeof e=="string")return EH(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?EH(e,t):void 0}}function EH(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function aVe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,r,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(d){u=!0,r=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw r}}return l}}function sVe(e){if(Array.isArray(e))return e}function oVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lVe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,uVe(i.key),i)}}function cVe(e,t,n){return t&&lVe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uVe(e){var t=dVe(e,"string");return Hx(t)=="symbol"?t:t+""}function dVe(e,t){if(Hx(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(Hx(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fVe="["+Du+No+"]+",hVe=new RegExp("^"+fVe+"$","i"),pVe="(?:["+WO+"]["+Du+No+"]*|["+Du+No+"]+)",mVe=new RegExp("[^"+Du+No+"]+.*$"),yVe=/[^\d\[\]]/,gVe=(function(){function e(t){var n=t.defaultCountry,i=t.defaultCallingCode,r=t.metadata,a=t.onNationalSignificantNumberChange;oVe(this,e),this.defaultCountry=n,this.defaultCallingCode=i,this.metadata=r,this.onNationalSignificantNumberChange=a}return cVe(e,[{key:"input",value:function(n,i){var r=bVe(n),a=Oue(r,2),o=a[0],l=a[1],c=_R(o),u;return l&&(i.digits||(i.startInternationalNumber(void 0,void 0),c||(u=!0))),c&&this.inputDigits(c,i),{digits:c,justLeadingPlus:u}}},{key:"inputDigits",value:function(n,i){var r=i.digits,a=r.length<3&&r.length+n.length>=3;if(i.appendDigits(n),a&&this.extractIddPrefix(i),this.isWaitingForCountryCallingCode(i)){if(!this.extractCountryCallingCode(i))return}else i.appendNationalSignificantNumberDigits(n);i.international||this.hasExtractedNationalSignificantNumber||this.extractNationalSignificantNumber(i.getNationalDigits(),function(o){return i.update(o)})}},{key:"isWaitingForCountryCallingCode",value:function(n){var i=n.international,r=n.callingCode;return i&&!r}},{key:"extractCountryCallingCode",value:function(n){var i=ek("+"+n.getDigitsWithoutInternationalPrefix(),n.country,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),r=i.countryCallingCode,a=i.number;if(r)return n.setCallingCode(r),n.update({nationalSignificantNumber:a}),!0}},{key:"reset",value:function(n){if(n){this.hasSelectedNumberingPlan=!0;var i=n._nationalPrefixForParsing();this.couldPossiblyExtractAnotherNationalSignificantNumber=i&&yVe.test(i)}else this.hasSelectedNumberingPlan=void 0,this.couldPossiblyExtractAnotherNationalSignificantNumber=void 0}},{key:"extractNationalSignificantNumber",value:function(n,i){if(this.hasSelectedNumberingPlan){var r=V6(n,this.metadata),a=r.nationalPrefix,o=r.nationalNumber,l=r.carrierCode;if(o!==n)return this.onExtractedNationalNumber(a,l,o,n,i),!0}}},{key:"extractAnotherNationalSignificantNumber",value:function(n,i,r){if(!this.hasExtractedNationalSignificantNumber)return this.extractNationalSignificantNumber(n,r);if(this.couldPossiblyExtractAnotherNationalSignificantNumber){var a=V6(n,this.metadata),o=a.nationalPrefix,l=a.nationalNumber,c=a.carrierCode;if(l!==i)return this.onExtractedNationalNumber(o,c,l,n,r),!0}}},{key:"onExtractedNationalNumber",value:function(n,i,r,a,o){var l=!1,c,u=a.lastIndexOf(r);if(u<0||u!==a.length-r.length)l=!0;else{var d=a.slice(0,u);d&&d!==n&&(c=d)}o({nationalPrefix:n,carrierCode:i,nationalSignificantNumber:r,nationalSignificantNumberIsModified:l,prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix:c}),this.hasExtractedNationalSignificantNumber=!0,this.onNationalSignificantNumberChange()}},{key:"reExtractNationalSignificantNumber",value:function(n){if(this.extractAnotherNationalSignificantNumber(n.getNationalDigits(),n.nationalSignificantNumber,function(i){return n.update(i)}))return!0;if(this.extractIddPrefix(n))return this.extractCallingCodeAndNationalSignificantNumber(n),!0;if(this.fixMissingPlus(n))return this.extractCallingCodeAndNationalSignificantNumber(n),!0}},{key:"extractIddPrefix",value:function(n){var i=n.international,r=n.IDDPrefix,a=n.digits;if(n.nationalSignificantNumber,!(i||r)){var o=hue(a,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata);if(o!==void 0&&o!==a)return n.update({IDDPrefix:a.slice(0,a.length-o.length)}),this.startInternationalNumber(n,{country:void 0,callingCode:void 0}),!0}}},{key:"fixMissingPlus",value:function(n){if(!n.international){var i=mue(n.digits,n.country,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),r=i.countryCallingCode;if(r)return n.update({missingPlus:!0}),this.startInternationalNumber(n,{country:n.country,callingCode:r}),!0}}},{key:"startInternationalNumber",value:function(n,i){var r=i.country,a=i.callingCode;n.startInternationalNumber(r,a),n.nationalSignificantNumber&&(n.resetNationalSignificantNumber(),this.onNationalSignificantNumberChange(),this.hasExtractedNationalSignificantNumber=void 0)}},{key:"extractCallingCodeAndNationalSignificantNumber",value:function(n){this.extractCountryCallingCode(n)&&this.extractNationalSignificantNumber(n.getNationalDigits(),function(i){return n.update(i)})}}])})();function vVe(e){var t=e.search(pVe);if(!(t<0)){e=e.slice(t);var n;return e[0]==="+"&&(n=!0,e=e.slice(1)),e=e.replace(mVe,""),n&&(e="+"+e),e}}function SVe(e){var t=vVe(e)||"";return t[0]==="+"?[t.slice(1),!0]:[t]}function bVe(e){var t=SVe(e),n=Oue(t,2),i=n[0],r=n[1];return hVe.test(i)||(i=""),[i,r]}function qx(e){"@babel/helpers - typeof";return qx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qx(e)}function xVe(e,t){return AVe(e)||_Ve(e,t)||EVe(e,t)||wVe()}function wVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EVe(e,t){if(e){if(typeof e=="string")return _H(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_H(e,t):void 0}}function _H(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function _Ve(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,r,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(d){u=!0,r=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw r}}return l}}function AVe(e){if(Array.isArray(e))return e}function RVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NVe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,jVe(i.key),i)}}function OVe(e,t,n){return t&&NVe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jVe(e){var t=DVe(e,"string");return qx(t)=="symbol"?t:t+""}function DVe(e,t){if(qx(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(qx(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var eS=(function(){function e(t,n){RVe(this,e),this.metadata=new ka(n);var i=this.getCountryAndCallingCode(t),r=xVe(i,2),a=r[0],o=r[1];this.defaultCountry=a,this.defaultCallingCode=o,this.reset()}return OVe(e,[{key:"getCountryAndCallingCode",value:function(n){var i,r;return n&&(ug(n)?(i=n.defaultCountry,r=n.defaultCallingCode):i=n),i&&!this.metadata.hasCountry(i)&&(i=void 0),[i,r]}},{key:"input",value:function(n){var i=this.parser.input(n,this.state),r=i.digits,a=i.justLeadingPlus;if(a)this.formattedOutput="+";else if(r){this.determineTheCountryIfNeeded(),this.state.nationalSignificantNumber&&this.formatter.narrowDownMatchingFormats(this.state);var o;if(this.metadata.hasSelectedNumberingPlan()&&(o=this.formatter.format(r,this.state)),o===void 0&&this.parser.reExtractNationalSignificantNumber(this.state)){this.determineTheCountryIfNeeded();var l=this.state.getNationalDigits();l&&(o=this.formatter.format(l,this.state))}this.formattedOutput=o?this.getFullNumber(o):this.getNonFormattedNumber()}return this.formattedOutput}},{key:"reset",value:function(){var n=this;return this.state=new SUe({onCountryChange:function(r){n.country=r},onCallingCodeChange:function(r,a){n.metadata.selectNumberingPlan(a,r),n.formatter.reset(n.metadata.numberingPlan,n.state),n.parser.reset(n.metadata.numberingPlan)}}),this.formatter=new nVe({state:this.state,metadata:this.metadata}),this.parser=new gVe({defaultCountry:this.defaultCountry,defaultCallingCode:this.defaultCallingCode,metadata:this.metadata,state:this.state,onNationalSignificantNumberChange:function(){n.determineTheCountryIfNeeded(),n.formatter.reset(n.metadata.numberingPlan,n.state)}}),this.state.reset({country:this.defaultCountry,callingCode:this.defaultCallingCode}),this.formattedOutput="",this}},{key:"isInternational",value:function(){return this.state.international}},{key:"getCallingCode",value:function(){if(this.isInternational())return this.state.callingCode}},{key:"getCountryCallingCode",value:function(){return this.getCallingCode()}},{key:"getCountry",value:function(){var n=this.state.digits;if(n)return this._getCountry()}},{key:"_getCountry",value:function(){var n=this.state.country;return n}},{key:"determineTheCountryIfNeeded",value:function(){(!this.state.country||this.isCountryCallingCodeAmbiguous())&&this.determineTheCountry()}},{key:"getFullNumber",value:function(n){var i=this;if(this.isInternational()){var r=function(l){return i.formatter.getInternationalPrefixBeforeCountryCallingCode(i.state,{spacing:!!l})+l},a=this.state.callingCode;return r(a?n?"".concat(a," ").concat(n):a:"".concat(this.state.getDigitsWithoutInternationalPrefix()))}return n}},{key:"getNonFormattedNationalNumberWithPrefix",value:function(){var n=this.state,i=n.nationalSignificantNumber,r=n.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix,a=n.nationalPrefix,o=i,l=r||a;return l&&(o=l+o),o}},{key:"getNonFormattedNumber",value:function(){var n=this.state.nationalSignificantNumberIsModified;return this.getFullNumber(n?this.state.getNationalDigits():this.getNonFormattedNationalNumberWithPrefix())}},{key:"getNonFormattedTemplate",value:function(){var n=this.getNonFormattedNumber();if(n)return n.replace(/[\+\d]/g,yu)}},{key:"isCountryCallingCodeAmbiguous",value:function(){var n=this.state.callingCode,i=this.metadata.getCountryCodesForCallingCode(n);return i&&i.length>1}},{key:"determineTheCountry",value:function(){this.state.setCountry(Z8(this.isInternational()?this.state.callingCode:this.defaultCallingCode,{nationalNumber:this.state.nationalSignificantNumber,metadata:this.metadata}))}},{key:"getNumberValue",value:function(){var n=this.state,i=n.digits,r=n.callingCode,a=n.country,o=n.nationalSignificantNumber;if(i){if(this.isInternational())return r?"+"+r+o:"+"+i;if(a||r){var l=a?this.metadata.countryCallingCode():r;return"+"+l+o}}}},{key:"getNumber",value:function(){var n=this.state,i=n.nationalSignificantNumber,r=n.carrierCode,a=n.callingCode,o=this._getCountry();if(i&&!(!o&&!a)){if(o&&o===this.defaultCountry){var l=new ka(this.metadata.metadata);l.selectNumberingPlan(o);var c=l.numberingPlan.callingCode(),u=this.metadata.getCountryCodesForCallingCode(c);if(u.length>1){var d=pue(i,{countries:u,metadata:this.metadata.metadata});d&&(o=d)}}var h=new xue(o||a,i,this.metadata.metadata);return r&&(h.carrierCode=r),h}}},{key:"isPossible",value:function(){var n=this.getNumber();return n?n.isPossible():!1}},{key:"isValid",value:function(){var n=this.getNumber();return n?n.isValid():!1}},{key:"getNationalNumber",value:function(){return this.state.nationalSignificantNumber}},{key:"getChars",value:function(){return(this.state.international?"+":"")+this.state.digits}},{key:"getTemplate",value:function(){return this.formatter.getTemplate(this.state)||this.getNonFormattedTemplate()||""}}])})();function AH(e){return new ka(e).getCountries()}function CVe(e,t,n){return n||(n=t,t=void 0),new eS(t,n).input(e)}function nk(){return dBe(Nue,arguments)}function LVe(e){const t=nk(e);if(!t)return e;if(t.country==="NO"){const n=t.nationalNumber||"";return n.length===8?`+47 ${n.slice(0,3)} ${n.slice(3,5)} ${n.slice(5)}`:t.formatInternational()}return t.formatInternational()}function TVe(e,t){const n=nk(e,t);return!!(n!=null&&n.isValid())}function Ta(e){if(!e)return"";try{return TVe(e)?LVe(e):e}catch{return e}}function nv({query:e,zoom:t,className:n,style:i,width:r="100%",height:a=0,title:o="Google Maps location"}){const l="AIzaSyDjeumkWogOgnHew4GXS2j_RRdgKCHc6Vo",c=new URL("https://www.google.com/maps/embed/v1/place");c.searchParams.set("q",e),t!=null&&c.searchParams.set("zoom",String(t)),c.searchParams.set("key",l);const u=a===0;return s.jsx("div",{className:n,style:{position:u?"relative":void 0,width:r,...u?{aspectRatio:"16 / 9"}:{height:a},...i,borderRadius:"5px",overflow:"clip"},children:s.jsx("iframe",{title:o,src:c.toString(),loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",allowFullScreen:!0,style:{border:0,position:u?"absolute":void 0,inset:u?0:void 0,width:"100%",height:u?"100%":a||"100%"}})})}var ob={},RH;function MVe(){if(RH)return ob;RH=1,Object.defineProperty(ob,"__esModule",{value:!0}),ob.getPostalCodeInfo=void 0;const e={"0001":{city:"OSLO",municipality:"OSLO"},"0010":{city:"OSLO",municipality:"OSLO"},"0015":{city:"OSLO",municipality:"OSLO"},"0018":{city:"OSLO",municipality:"OSLO"},"0021":{city:"OSLO",municipality:"OSLO"},"0024":{city:"OSLO",municipality:"OSLO"},"0026":{city:"OSLO",municipality:"OSLO"},"0028":{city:"OSLO",municipality:"OSLO"},"0030":{city:"OSLO",municipality:"OSLO"},"0031":{city:"OSLO",municipality:"OSLO"},"0032":{city:"OSLO",municipality:"OSLO"},"0033":{city:"OSLO",municipality:"OSLO"},"0034":{city:"OSLO",municipality:"OSLO"},"0037":{city:"OSLO",municipality:"OSLO"},"0040":{city:"OSLO",municipality:"OSLO"},"0045":{city:"OSLO",municipality:"OSLO"},"0046":{city:"OSLO",municipality:"OSLO"},"0047":{city:"OSLO",municipality:"OSLO"},"0048":{city:"OSLO",municipality:"OSLO"},"0050":{city:"OSLO",municipality:"OSLO"},"0055":{city:"OSLO",municipality:"OSLO"},"0060":{city:"OSLO",municipality:"OSLO"},"0081":{city:"OSLO",municipality:"OSLO"},"0101":{city:"OSLO",municipality:"OSLO"},"0102":{city:"OSLO",municipality:"OSLO"},"0103":{city:"OSLO",municipality:"OSLO"},"0104":{city:"OSLO",municipality:"OSLO"},"0105":{city:"OSLO",municipality:"OSLO"},"0106":{city:"OSLO",municipality:"OSLO"},"0107":{city:"OSLO",municipality:"OSLO"},"0109":{city:"OSLO",municipality:"OSLO"},"0110":{city:"OSLO",municipality:"OSLO"},"0111":{city:"OSLO",municipality:"OSLO"},"0112":{city:"OSLO",municipality:"OSLO"},"0113":{city:"OSLO",municipality:"OSLO"},"0114":{city:"OSLO",municipality:"OSLO"},"0115":{city:"OSLO",municipality:"OSLO"},"0116":{city:"OSLO",municipality:"OSLO"},"0117":{city:"OSLO",municipality:"OSLO"},"0118":{city:"OSLO",municipality:"OSLO"},"0119":{city:"OSLO",municipality:"OSLO"},"0120":{city:"OSLO",municipality:"OSLO"},"0121":{city:"OSLO",municipality:"OSLO"},"0122":{city:"OSLO",municipality:"OSLO"},"0123":{city:"OSLO",municipality:"OSLO"},"0124":{city:"OSLO",municipality:"OSLO"},"0125":{city:"OSLO",municipality:"OSLO"},"0128":{city:"OSLO",municipality:"OSLO"},"0129":{city:"OSLO",municipality:"OSLO"},"0130":{city:"OSLO",municipality:"OSLO"},"0131":{city:"OSLO",municipality:"OSLO"},"0132":{city:"OSLO",municipality:"OSLO"},"0133":{city:"OSLO",municipality:"OSLO"},"0134":{city:"OSLO",municipality:"OSLO"},"0135":{city:"OSLO",municipality:"OSLO"},"0136":{city:"OSLO",municipality:"OSLO"},"0138":{city:"OSLO",municipality:"OSLO"},"0139":{city:"OSLO",municipality:"OSLO"},"0140":{city:"OSLO",municipality:"OSLO"},"0150":{city:"OSLO",municipality:"OSLO"},"0151":{city:"OSLO",municipality:"OSLO"},"0152":{city:"OSLO",municipality:"OSLO"},"0153":{city:"OSLO",municipality:"OSLO"},"0154":{city:"OSLO",municipality:"OSLO"},"0155":{city:"OSLO",municipality:"OSLO"},"0157":{city:"OSLO",municipality:"OSLO"},"0158":{city:"OSLO",municipality:"OSLO"},"0159":{city:"OSLO",municipality:"OSLO"},"0160":{city:"OSLO",municipality:"OSLO"},"0161":{city:"OSLO",municipality:"OSLO"},"0162":{city:"OSLO",municipality:"OSLO"},"0164":{city:"OSLO",municipality:"OSLO"},"0165":{city:"OSLO",municipality:"OSLO"},"0166":{city:"OSLO",municipality:"OSLO"},"0167":{city:"OSLO",municipality:"OSLO"},"0168":{city:"OSLO",municipality:"OSLO"},"0169":{city:"OSLO",municipality:"OSLO"},"0170":{city:"OSLO",municipality:"OSLO"},"0171":{city:"OSLO",municipality:"OSLO"},"0172":{city:"OSLO",municipality:"OSLO"},"0173":{city:"OSLO",municipality:"OSLO"},"0174":{city:"OSLO",municipality:"OSLO"},"0175":{city:"OSLO",municipality:"OSLO"},"0176":{city:"OSLO",municipality:"OSLO"},"0177":{city:"OSLO",municipality:"OSLO"},"0178":{city:"OSLO",municipality:"OSLO"},"0179":{city:"OSLO",municipality:"OSLO"},"0180":{city:"OSLO",municipality:"OSLO"},"0181":{city:"OSLO",municipality:"OSLO"},"0182":{city:"OSLO",municipality:"OSLO"},"0183":{city:"OSLO",municipality:"OSLO"},"0184":{city:"OSLO",municipality:"OSLO"},"0185":{city:"OSLO",municipality:"OSLO"},"0186":{city:"OSLO",municipality:"OSLO"},"0187":{city:"OSLO",municipality:"OSLO"},"0188":{city:"OSLO",municipality:"OSLO"},"0190":{city:"OSLO",municipality:"OSLO"},"0191":{city:"OSLO",municipality:"OSLO"},"0192":{city:"OSLO",municipality:"OSLO"},"0193":{city:"OSLO",municipality:"OSLO"},"0194":{city:"OSLO",municipality:"OSLO"},"0195":{city:"OSLO",municipality:"OSLO"},"0196":{city:"OSLO",municipality:"OSLO"},"0198":{city:"OSLO",municipality:"OSLO"},"0201":{city:"OSLO",municipality:"OSLO"},"0202":{city:"OSLO",municipality:"OSLO"},"0203":{city:"OSLO",municipality:"OSLO"},"0204":{city:"OSLO",municipality:"OSLO"},"0207":{city:"OSLO",municipality:"OSLO"},"0208":{city:"OSLO",municipality:"OSLO"},"0211":{city:"OSLO",municipality:"OSLO"},"0212":{city:"OSLO",municipality:"OSLO"},"0213":{city:"OSLO",municipality:"OSLO"},"0214":{city:"OSLO",municipality:"OSLO"},"0215":{city:"OSLO",municipality:"OSLO"},"0216":{city:"OSLO",municipality:"OSLO"},"0217":{city:"OSLO",municipality:"OSLO"},"0218":{city:"OSLO",municipality:"OSLO"},"0230":{city:"OSLO",municipality:"OSLO"},"0240":{city:"OSLO",municipality:"OSLO"},"0244":{city:"OSLO",municipality:"OSLO"},"0247":{city:"OSLO",municipality:"OSLO"},"0250":{city:"OSLO",municipality:"OSLO"},"0251":{city:"OSLO",municipality:"OSLO"},"0252":{city:"OSLO",municipality:"OSLO"},"0253":{city:"OSLO",municipality:"OSLO"},"0254":{city:"OSLO",municipality:"OSLO"},"0255":{city:"OSLO",municipality:"OSLO"},"0256":{city:"OSLO",municipality:"OSLO"},"0257":{city:"OSLO",municipality:"OSLO"},"0258":{city:"OSLO",municipality:"OSLO"},"0259":{city:"OSLO",municipality:"OSLO"},"0260":{city:"OSLO",municipality:"OSLO"},"0262":{city:"OSLO",municipality:"OSLO"},"0263":{city:"OSLO",municipality:"OSLO"},"0264":{city:"OSLO",municipality:"OSLO"},"0265":{city:"OSLO",municipality:"OSLO"},"0266":{city:"OSLO",municipality:"OSLO"},"0267":{city:"OSLO",municipality:"OSLO"},"0268":{city:"OSLO",municipality:"OSLO"},"0270":{city:"OSLO",municipality:"OSLO"},"0271":{city:"OSLO",municipality:"OSLO"},"0272":{city:"OSLO",municipality:"OSLO"},"0273":{city:"OSLO",municipality:"OSLO"},"0274":{city:"OSLO",municipality:"OSLO"},"0275":{city:"OSLO",municipality:"OSLO"},"0276":{city:"OSLO",municipality:"OSLO"},"0277":{city:"OSLO",municipality:"OSLO"},"0278":{city:"OSLO",municipality:"OSLO"},"0279":{city:"OSLO",municipality:"OSLO"},"0280":{city:"OSLO",municipality:"OSLO"},"0281":{city:"OSLO",municipality:"OSLO"},"0282":{city:"OSLO",municipality:"OSLO"},"0283":{city:"OSLO",municipality:"OSLO"},"0284":{city:"OSLO",municipality:"OSLO"},"0286":{city:"OSLO",municipality:"OSLO"},"0287":{city:"OSLO",municipality:"OSLO"},"0301":{city:"OSLO",municipality:"OSLO"},"0302":{city:"OSLO",municipality:"OSLO"},"0303":{city:"OSLO",municipality:"OSLO"},"0304":{city:"OSLO",municipality:"OSLO"},"0305":{city:"OSLO",municipality:"OSLO"},"0306":{city:"OSLO",municipality:"OSLO"},"0307":{city:"OSLO",municipality:"OSLO"},"0308":{city:"OSLO",municipality:"OSLO"},"0309":{city:"OSLO",municipality:"OSLO"},"0311":{city:"OSLO",municipality:"OSLO"},"0313":{city:"OSLO",municipality:"OSLO"},"0314":{city:"OSLO",municipality:"OSLO"},"0315":{city:"OSLO",municipality:"OSLO"},"0316":{city:"OSLO",municipality:"OSLO"},"0317":{city:"OSLO",municipality:"OSLO"},"0318":{city:"OSLO",municipality:"OSLO"},"0319":{city:"OSLO",municipality:"OSLO"},"0323":{city:"OSLO",municipality:"OSLO"},"0330":{city:"OSLO",municipality:"OSLO"},"0340":{city:"OSLO",municipality:"OSLO"},"0349":{city:"OSLO",municipality:"OSLO"},"0350":{city:"OSLO",municipality:"OSLO"},"0351":{city:"OSLO",municipality:"OSLO"},"0352":{city:"OSLO",municipality:"OSLO"},"0353":{city:"OSLO",municipality:"OSLO"},"0354":{city:"OSLO",municipality:"OSLO"},"0355":{city:"OSLO",municipality:"OSLO"},"0356":{city:"OSLO",municipality:"OSLO"},"0357":{city:"OSLO",municipality:"OSLO"},"0358":{city:"OSLO",municipality:"OSLO"},"0359":{city:"OSLO",municipality:"OSLO"},"0360":{city:"OSLO",municipality:"OSLO"},"0361":{city:"OSLO",municipality:"OSLO"},"0362":{city:"OSLO",municipality:"OSLO"},"0363":{city:"OSLO",municipality:"OSLO"},"0364":{city:"OSLO",municipality:"OSLO"},"0365":{city:"OSLO",municipality:"OSLO"},"0366":{city:"OSLO",municipality:"OSLO"},"0367":{city:"OSLO",municipality:"OSLO"},"0368":{city:"OSLO",municipality:"OSLO"},"0369":{city:"OSLO",municipality:"OSLO"},"0370":{city:"OSLO",municipality:"OSLO"},"0371":{city:"OSLO",municipality:"OSLO"},"0372":{city:"OSLO",municipality:"OSLO"},"0373":{city:"OSLO",municipality:"OSLO"},"0374":{city:"OSLO",municipality:"OSLO"},"0375":{city:"OSLO",municipality:"OSLO"},"0376":{city:"OSLO",municipality:"OSLO"},"0377":{city:"OSLO",municipality:"OSLO"},"0378":{city:"OSLO",municipality:"OSLO"},"0379":{city:"OSLO",municipality:"OSLO"},"0380":{city:"OSLO",municipality:"OSLO"},"0381":{city:"OSLO",municipality:"OSLO"},"0382":{city:"OSLO",municipality:"OSLO"},"0383":{city:"OSLO",municipality:"OSLO"},"0401":{city:"OSLO",municipality:"OSLO"},"0402":{city:"OSLO",municipality:"OSLO"},"0403":{city:"OSLO",municipality:"OSLO"},"0404":{city:"OSLO",municipality:"OSLO"},"0405":{city:"OSLO",municipality:"OSLO"},"0406":{city:"OSLO",municipality:"OSLO"},"0409":{city:"OSLO",municipality:"OSLO"},"0410":{city:"OSLO",municipality:"OSLO"},"0411":{city:"OSLO",municipality:"OSLO"},"0412":{city:"OSLO",municipality:"OSLO"},"0413":{city:"OSLO",municipality:"OSLO"},"0415":{city:"OSLO",municipality:"OSLO"},"0421":{city:"OSLO",municipality:"OSLO"},"0422":{city:"OSLO",municipality:"OSLO"},"0423":{city:"OSLO",municipality:"OSLO"},"0424":{city:"OSLO",municipality:"OSLO"},"0440":{city:"OSLO",municipality:"OSLO"},"0441":{city:"OSLO",municipality:"OSLO"},"0442":{city:"OSLO",municipality:"OSLO"},"0445":{city:"OSLO",municipality:"OSLO"},"0450":{city:"OSLO",municipality:"OSLO"},"0451":{city:"OSLO",municipality:"OSLO"},"0452":{city:"OSLO",municipality:"OSLO"},"0454":{city:"OSLO",municipality:"OSLO"},"0455":{city:"OSLO",municipality:"OSLO"},"0456":{city:"OSLO",municipality:"OSLO"},"0457":{city:"OSLO",municipality:"OSLO"},"0458":{city:"OSLO",municipality:"OSLO"},"0459":{city:"OSLO",municipality:"OSLO"},"0460":{city:"OSLO",municipality:"OSLO"},"0461":{city:"OSLO",municipality:"OSLO"},"0462":{city:"OSLO",municipality:"OSLO"},"0463":{city:"OSLO",municipality:"OSLO"},"0464":{city:"OSLO",municipality:"OSLO"},"0465":{city:"OSLO",municipality:"OSLO"},"0467":{city:"OSLO",municipality:"OSLO"},"0468":{city:"OSLO",municipality:"OSLO"},"0469":{city:"OSLO",municipality:"OSLO"},"0470":{city:"OSLO",municipality:"OSLO"},"0472":{city:"OSLO",municipality:"OSLO"},"0473":{city:"OSLO",municipality:"OSLO"},"0474":{city:"OSLO",municipality:"OSLO"},"0475":{city:"OSLO",municipality:"OSLO"},"0476":{city:"OSLO",municipality:"OSLO"},"0477":{city:"OSLO",municipality:"OSLO"},"0478":{city:"OSLO",municipality:"OSLO"},"0479":{city:"OSLO",municipality:"OSLO"},"0480":{city:"OSLO",municipality:"OSLO"},"0481":{city:"OSLO",municipality:"OSLO"},"0482":{city:"OSLO",municipality:"OSLO"},"0483":{city:"OSLO",municipality:"OSLO"},"0484":{city:"OSLO",municipality:"OSLO"},"0485":{city:"OSLO",municipality:"OSLO"},"0486":{city:"OSLO",municipality:"OSLO"},"0487":{city:"OSLO",municipality:"OSLO"},"0488":{city:"OSLO",municipality:"OSLO"},"0489":{city:"OSLO",municipality:"OSLO"},"0490":{city:"OSLO",municipality:"OSLO"},"0491":{city:"OSLO",municipality:"OSLO"},"0492":{city:"OSLO",municipality:"OSLO"},"0493":{city:"OSLO",municipality:"OSLO"},"0494":{city:"OSLO",municipality:"OSLO"},"0495":{city:"OSLO",municipality:"OSLO"},"0496":{city:"OSLO",municipality:"OSLO"},"0501":{city:"OSLO",municipality:"OSLO"},"0502":{city:"OSLO",municipality:"OSLO"},"0503":{city:"OSLO",municipality:"OSLO"},"0504":{city:"OSLO",municipality:"OSLO"},"0505":{city:"OSLO",municipality:"OSLO"},"0506":{city:"OSLO",municipality:"OSLO"},"0507":{city:"OSLO",municipality:"OSLO"},"0508":{city:"OSLO",municipality:"OSLO"},"0509":{city:"OSLO",municipality:"OSLO"},"0510":{city:"OSLO",municipality:"OSLO"},"0511":{city:"OSLO",municipality:"OSLO"},"0512":{city:"OSLO",municipality:"OSLO"},"0513":{city:"OSLO",municipality:"OSLO"},"0515":{city:"OSLO",municipality:"OSLO"},"0516":{city:"OSLO",municipality:"OSLO"},"0517":{city:"OSLO",municipality:"OSLO"},"0518":{city:"OSLO",municipality:"OSLO"},"0520":{city:"OSLO",municipality:"OSLO"},"0540":{city:"OSLO",municipality:"OSLO"},"0550":{city:"OSLO",municipality:"OSLO"},"0551":{city:"OSLO",municipality:"OSLO"},"0552":{city:"OSLO",municipality:"OSLO"},"0553":{city:"OSLO",municipality:"OSLO"},"0554":{city:"OSLO",municipality:"OSLO"},"0555":{city:"OSLO",municipality:"OSLO"},"0556":{city:"OSLO",municipality:"OSLO"},"0557":{city:"OSLO",municipality:"OSLO"},"0558":{city:"OSLO",municipality:"OSLO"},"0559":{city:"OSLO",municipality:"OSLO"},"0560":{city:"OSLO",municipality:"OSLO"},"0561":{city:"OSLO",municipality:"OSLO"},"0562":{city:"OSLO",municipality:"OSLO"},"0563":{city:"OSLO",municipality:"OSLO"},"0564":{city:"OSLO",municipality:"OSLO"},"0565":{city:"OSLO",municipality:"OSLO"},"0566":{city:"OSLO",municipality:"OSLO"},"0567":{city:"OSLO",municipality:"OSLO"},"0568":{city:"OSLO",municipality:"OSLO"},"0569":{city:"OSLO",municipality:"OSLO"},"0570":{city:"OSLO",municipality:"OSLO"},"0571":{city:"OSLO",municipality:"OSLO"},"0572":{city:"OSLO",municipality:"OSLO"},"0573":{city:"OSLO",municipality:"OSLO"},"0574":{city:"OSLO",municipality:"OSLO"},"0575":{city:"OSLO",municipality:"OSLO"},"0576":{city:"OSLO",municipality:"OSLO"},"0577":{city:"OSLO",municipality:"OSLO"},"0578":{city:"OSLO",municipality:"OSLO"},"0579":{city:"OSLO",municipality:"OSLO"},"0580":{city:"OSLO",municipality:"OSLO"},"0581":{city:"OSLO",municipality:"OSLO"},"0582":{city:"OSLO",municipality:"OSLO"},"0583":{city:"OSLO",municipality:"OSLO"},"0584":{city:"OSLO",municipality:"OSLO"},"0585":{city:"OSLO",municipality:"OSLO"},"0586":{city:"OSLO",municipality:"OSLO"},"0587":{city:"OSLO",municipality:"OSLO"},"0588":{city:"OSLO",municipality:"OSLO"},"0589":{city:"OSLO",municipality:"OSLO"},"0590":{city:"OSLO",municipality:"OSLO"},"0591":{city:"OSLO",municipality:"OSLO"},"0592":{city:"OSLO",municipality:"OSLO"},"0593":{city:"OSLO",municipality:"OSLO"},"0594":{city:"OSLO",municipality:"OSLO"},"0595":{city:"OSLO",municipality:"OSLO"},"0596":{city:"OSLO",municipality:"OSLO"},"0597":{city:"OSLO",municipality:"OSLO"},"0598":{city:"OSLO",municipality:"OSLO"},"0601":{city:"OSLO",municipality:"OSLO"},"0602":{city:"OSLO",municipality:"OSLO"},"0603":{city:"OSLO",municipality:"OSLO"},"0604":{city:"OSLO",municipality:"OSLO"},"0605":{city:"OSLO",municipality:"OSLO"},"0606":{city:"OSLO",municipality:"OSLO"},"0607":{city:"OSLO",municipality:"OSLO"},"0608":{city:"OSLO",municipality:"OSLO"},"0609":{city:"OSLO",municipality:"OSLO"},"0611":{city:"OSLO",municipality:"OSLO"},"0612":{city:"OSLO",municipality:"OSLO"},"0613":{city:"OSLO",municipality:"OSLO"},"0614":{city:"OSLO",municipality:"OSLO"},"0615":{city:"OSLO",municipality:"OSLO"},"0616":{city:"OSLO",municipality:"OSLO"},"0617":{city:"OSLO",municipality:"OSLO"},"0618":{city:"OSLO",municipality:"OSLO"},"0619":{city:"OSLO",municipality:"OSLO"},"0620":{city:"OSLO",municipality:"OSLO"},"0621":{city:"OSLO",municipality:"OSLO"},"0622":{city:"OSLO",municipality:"OSLO"},"0623":{city:"OSLO",municipality:"OSLO"},"0624":{city:"OSLO",municipality:"OSLO"},"0626":{city:"OSLO",municipality:"OSLO"},"0650":{city:"OSLO",municipality:"OSLO"},"0651":{city:"OSLO",municipality:"OSLO"},"0652":{city:"OSLO",municipality:"OSLO"},"0653":{city:"OSLO",municipality:"OSLO"},"0654":{city:"OSLO",municipality:"OSLO"},"0655":{city:"OSLO",municipality:"OSLO"},"0656":{city:"OSLO",municipality:"OSLO"},"0657":{city:"OSLO",municipality:"OSLO"},"0658":{city:"OSLO",municipality:"OSLO"},"0659":{city:"OSLO",municipality:"OSLO"},"0660":{city:"OSLO",municipality:"OSLO"},"0661":{city:"OSLO",municipality:"OSLO"},"0662":{city:"OSLO",municipality:"OSLO"},"0663":{city:"OSLO",municipality:"OSLO"},"0664":{city:"OSLO",municipality:"OSLO"},"0665":{city:"OSLO",municipality:"OSLO"},"0666":{city:"OSLO",municipality:"OSLO"},"0667":{city:"OSLO",municipality:"OSLO"},"0668":{city:"OSLO",municipality:"OSLO"},"0669":{city:"OSLO",municipality:"OSLO"},"0670":{city:"OSLO",municipality:"OSLO"},"0671":{city:"OSLO",municipality:"OSLO"},"0672":{city:"OSLO",municipality:"OSLO"},"0673":{city:"OSLO",municipality:"OSLO"},"0674":{city:"OSLO",municipality:"OSLO"},"0675":{city:"OSLO",municipality:"OSLO"},"0676":{city:"OSLO",municipality:"OSLO"},"0677":{city:"OSLO",municipality:"OSLO"},"0678":{city:"OSLO",municipality:"OSLO"},"0679":{city:"OSLO",municipality:"OSLO"},"0680":{city:"OSLO",municipality:"OSLO"},"0681":{city:"OSLO",municipality:"OSLO"},"0682":{city:"OSLO",municipality:"OSLO"},"0683":{city:"OSLO",municipality:"OSLO"},"0684":{city:"OSLO",municipality:"OSLO"},"0685":{city:"OSLO",municipality:"OSLO"},"0686":{city:"OSLO",municipality:"OSLO"},"0687":{city:"OSLO",municipality:"OSLO"},"0688":{city:"OSLO",municipality:"OSLO"},"0689":{city:"OSLO",municipality:"OSLO"},"0690":{city:"OSLO",municipality:"OSLO"},"0691":{city:"OSLO",municipality:"OSLO"},"0692":{city:"OSLO",municipality:"OSLO"},"0693":{city:"OSLO",municipality:"OSLO"},"0694":{city:"OSLO",municipality:"OSLO"},"0701":{city:"OSLO",municipality:"OSLO"},"0702":{city:"OSLO",municipality:"OSLO"},"0705":{city:"OSLO",municipality:"OSLO"},"0710":{city:"OSLO",municipality:"OSLO"},"0712":{city:"OSLO",municipality:"OSLO"},"0750":{city:"OSLO",municipality:"OSLO"},"0751":{city:"OSLO",municipality:"OSLO"},"0752":{city:"OSLO",municipality:"OSLO"},"0753":{city:"OSLO",municipality:"OSLO"},"0754":{city:"OSLO",municipality:"OSLO"},"0755":{city:"OSLO",municipality:"OSLO"},"0756":{city:"OSLO",municipality:"OSLO"},"0757":{city:"OSLO",municipality:"OSLO"},"0758":{city:"OSLO",municipality:"OSLO"},"0760":{city:"OSLO",municipality:"OSLO"},"0763":{city:"OSLO",municipality:"OSLO"},"0764":{city:"OSLO",municipality:"OSLO"},"0765":{city:"OSLO",municipality:"OSLO"},"0766":{city:"OSLO",municipality:"OSLO"},"0767":{city:"OSLO",municipality:"OSLO"},"0768":{city:"OSLO",municipality:"OSLO"},"0770":{city:"OSLO",municipality:"OSLO"},"0771":{city:"OSLO",municipality:"OSLO"},"0772":{city:"OSLO",municipality:"OSLO"},"0773":{city:"OSLO",municipality:"OSLO"},"0774":{city:"OSLO",municipality:"OSLO"},"0775":{city:"OSLO",municipality:"OSLO"},"0776":{city:"OSLO",municipality:"OSLO"},"0777":{city:"OSLO",municipality:"OSLO"},"0778":{city:"OSLO",municipality:"OSLO"},"0779":{city:"OSLO",municipality:"OSLO"},"0781":{city:"OSLO",municipality:"OSLO"},"0782":{city:"OSLO",municipality:"OSLO"},"0783":{city:"OSLO",municipality:"OSLO"},"0784":{city:"OSLO",municipality:"OSLO"},"0785":{city:"OSLO",municipality:"OSLO"},"0786":{city:"OSLO",municipality:"OSLO"},"0787":{city:"OSLO",municipality:"OSLO"},"0788":{city:"OSLO",municipality:"OSLO"},"0789":{city:"OSLO",municipality:"OSLO"},"0790":{city:"OSLO",municipality:"OSLO"},"0791":{city:"OSLO",municipality:"OSLO"},"0801":{city:"OSLO",municipality:"OSLO"},"0805":{city:"OSLO",municipality:"OSLO"},"0806":{city:"OSLO",municipality:"OSLO"},"0807":{city:"OSLO",municipality:"OSLO"},"0840":{city:"OSLO",municipality:"OSLO"},"0850":{city:"OSLO",municipality:"OSLO"},"0851":{city:"OSLO",municipality:"OSLO"},"0852":{city:"OSLO",municipality:"OSLO"},"0853":{city:"OSLO",municipality:"OSLO"},"0854":{city:"OSLO",municipality:"OSLO"},"0855":{city:"OSLO",municipality:"OSLO"},"0856":{city:"OSLO",municipality:"OSLO"},"0857":{city:"OSLO",municipality:"OSLO"},"0858":{city:"OSLO",municipality:"OSLO"},"0860":{city:"OSLO",municipality:"OSLO"},"0861":{city:"OSLO",municipality:"OSLO"},"0862":{city:"OSLO",municipality:"OSLO"},"0863":{city:"OSLO",municipality:"OSLO"},"0864":{city:"OSLO",municipality:"OSLO"},"0870":{city:"OSLO",municipality:"OSLO"},"0871":{city:"OSLO",municipality:"OSLO"},"0872":{city:"OSLO",municipality:"OSLO"},"0873":{city:"OSLO",municipality:"OSLO"},"0874":{city:"OSLO",municipality:"OSLO"},"0875":{city:"OSLO",municipality:"OSLO"},"0876":{city:"OSLO",municipality:"OSLO"},"0877":{city:"OSLO",municipality:"OSLO"},"0880":{city:"OSLO",municipality:"OSLO"},"0881":{city:"OSLO",municipality:"OSLO"},"0882":{city:"OSLO",municipality:"OSLO"},"0883":{city:"OSLO",municipality:"OSLO"},"0884":{city:"OSLO",municipality:"OSLO"},"0890":{city:"OSLO",municipality:"OSLO"},"0891":{city:"OSLO",municipality:"OSLO"},"0901":{city:"OSLO",municipality:"OSLO"},"0902":{city:"OSLO",municipality:"OSLO"},"0903":{city:"OSLO",municipality:"OSLO"},"0904":{city:"OSLO",municipality:"OSLO"},"0905":{city:"OSLO",municipality:"OSLO"},"0907":{city:"OSLO",municipality:"OSLO"},"0908":{city:"OSLO",municipality:"OSLO"},"0913":{city:"OSLO",municipality:"OSLO"},"0914":{city:"OSLO",municipality:"OSLO"},"0915":{city:"OSLO",municipality:"OSLO"},"0950":{city:"OSLO",municipality:"OSLO"},"0951":{city:"OSLO",municipality:"OSLO"},"0952":{city:"OSLO",municipality:"OSLO"},"0953":{city:"OSLO",municipality:"OSLO"},"0954":{city:"OSLO",municipality:"OSLO"},"0955":{city:"OSLO",municipality:"OSLO"},"0956":{city:"OSLO",municipality:"OSLO"},"0957":{city:"OSLO",municipality:"OSLO"},"0958":{city:"OSLO",municipality:"OSLO"},"0959":{city:"OSLO",municipality:"OSLO"},"0960":{city:"OSLO",municipality:"OSLO"},"0962":{city:"OSLO",municipality:"OSLO"},"0963":{city:"OSLO",municipality:"OSLO"},"0964":{city:"OSLO",municipality:"OSLO"},"0968":{city:"OSLO",municipality:"OSLO"},"0969":{city:"OSLO",municipality:"OSLO"},"0970":{city:"OSLO",municipality:"OSLO"},"0971":{city:"OSLO",municipality:"OSLO"},"0972":{city:"OSLO",municipality:"OSLO"},"0973":{city:"OSLO",municipality:"OSLO"},"0975":{city:"OSLO",municipality:"OSLO"},"0976":{city:"OSLO",municipality:"OSLO"},"0977":{city:"OSLO",municipality:"OSLO"},"0978":{city:"OSLO",municipality:"OSLO"},"0979":{city:"OSLO",municipality:"OSLO"},"0980":{city:"OSLO",municipality:"OSLO"},"0981":{city:"OSLO",municipality:"OSLO"},"0982":{city:"OSLO",municipality:"OSLO"},"0983":{city:"OSLO",municipality:"OSLO"},"0984":{city:"OSLO",municipality:"OSLO"},"0985":{city:"OSLO",municipality:"OSLO"},"0986":{city:"OSLO",municipality:"OSLO"},"0987":{city:"OSLO",municipality:"OSLO"},"0988":{city:"OSLO",municipality:"OSLO"},1001:{city:"OSLO",municipality:"OSLO"},1003:{city:"OSLO",municipality:"OSLO"},1005:{city:"OSLO",municipality:"OSLO"},1006:{city:"OSLO",municipality:"OSLO"},1007:{city:"OSLO",municipality:"OSLO"},1008:{city:"OSLO",municipality:"OSLO"},1009:{city:"OSLO",municipality:"OSLO"},1011:{city:"OSLO",municipality:"OSLO"},1051:{city:"OSLO",municipality:"OSLO"},1052:{city:"OSLO",municipality:"OSLO"},1053:{city:"OSLO",municipality:"OSLO"},1054:{city:"OSLO",municipality:"OSLO"},1055:{city:"OSLO",municipality:"OSLO"},1056:{city:"OSLO",municipality:"OSLO"},1061:{city:"OSLO",municipality:"OSLO"},1062:{city:"OSLO",municipality:"OSLO"},1063:{city:"OSLO",municipality:"OSLO"},1064:{city:"OSLO",municipality:"OSLO"},1065:{city:"OSLO",municipality:"OSLO"},1067:{city:"OSLO",municipality:"OSLO"},1068:{city:"OSLO",municipality:"OSLO"},1069:{city:"OSLO",municipality:"OSLO"},1071:{city:"OSLO",municipality:"OSLO"},1081:{city:"OSLO",municipality:"OSLO"},1083:{city:"OSLO",municipality:"OSLO"},1084:{city:"OSLO",municipality:"OSLO"},1086:{city:"OSLO",municipality:"OSLO"},1087:{city:"OSLO",municipality:"OSLO"},1088:{city:"OSLO",municipality:"OSLO"},1089:{city:"OSLO",municipality:"OSLO"},1101:{city:"OSLO",municipality:"OSLO"},1102:{city:"OSLO",municipality:"OSLO"},1108:{city:"OSLO",municipality:"OSLO"},1109:{city:"OSLO",municipality:"OSLO"},1112:{city:"OSLO",municipality:"OSLO"},1150:{city:"OSLO",municipality:"OSLO"},1151:{city:"OSLO",municipality:"OSLO"},1152:{city:"OSLO",municipality:"OSLO"},1153:{city:"OSLO",municipality:"OSLO"},1154:{city:"OSLO",municipality:"OSLO"},1155:{city:"OSLO",municipality:"OSLO"},1156:{city:"OSLO",municipality:"OSLO"},1157:{city:"OSLO",municipality:"OSLO"},1158:{city:"OSLO",municipality:"OSLO"},1160:{city:"OSLO",municipality:"OSLO"},1161:{city:"OSLO",municipality:"OSLO"},1162:{city:"OSLO",municipality:"OSLO"},1163:{city:"OSLO",municipality:"OSLO"},1164:{city:"OSLO",municipality:"OSLO"},1165:{city:"OSLO",municipality:"OSLO"},1166:{city:"OSLO",municipality:"OSLO"},1167:{city:"OSLO",municipality:"OSLO"},1168:{city:"OSLO",municipality:"OSLO"},1169:{city:"OSLO",municipality:"OSLO"},1170:{city:"OSLO",municipality:"OSLO"},1172:{city:"OSLO",municipality:"OSLO"},1176:{city:"OSLO",municipality:"OSLO"},1177:{city:"OSLO",municipality:"OSLO"},1178:{city:"OSLO",municipality:"OSLO"},1179:{city:"OSLO",municipality:"OSLO"},1181:{city:"OSLO",municipality:"OSLO"},1182:{city:"OSLO",municipality:"OSLO"},1184:{city:"OSLO",municipality:"OSLO"},1185:{city:"OSLO",municipality:"OSLO"},1187:{city:"OSLO",municipality:"OSLO"},1188:{city:"OSLO",municipality:"OSLO"},1189:{city:"OSLO",municipality:"OSLO"},1201:{city:"OSLO",municipality:"OSLO"},1203:{city:"OSLO",municipality:"OSLO"},1204:{city:"OSLO",municipality:"OSLO"},1205:{city:"OSLO",municipality:"OSLO"},1207:{city:"OSLO",municipality:"OSLO"},1214:{city:"OSLO",municipality:"OSLO"},1215:{city:"OSLO",municipality:"OSLO"},1250:{city:"OSLO",municipality:"OSLO"},1251:{city:"OSLO",municipality:"OSLO"},1252:{city:"OSLO",municipality:"OSLO"},1253:{city:"OSLO",municipality:"OSLO"},1254:{city:"OSLO",municipality:"OSLO"},1255:{city:"OSLO",municipality:"OSLO"},1256:{city:"OSLO",municipality:"OSLO"},1257:{city:"OSLO",municipality:"OSLO"},1258:{city:"OSLO",municipality:"OSLO"},1259:{city:"OSLO",municipality:"OSLO"},1262:{city:"OSLO",municipality:"OSLO"},1263:{city:"OSLO",municipality:"OSLO"},1266:{city:"OSLO",municipality:"OSLO"},1270:{city:"OSLO",municipality:"OSLO"},1271:{city:"OSLO",municipality:"OSLO"},1272:{city:"OSLO",municipality:"OSLO"},1273:{city:"OSLO",municipality:"OSLO"},1274:{city:"OSLO",municipality:"OSLO"},1275:{city:"OSLO",municipality:"OSLO"},1278:{city:"OSLO",municipality:"OSLO"},1279:{city:"OSLO",municipality:"OSLO"},1281:{city:"OSLO",municipality:"OSLO"},1283:{city:"OSLO",municipality:"OSLO"},1284:{city:"OSLO",municipality:"OSLO"},1285:{city:"OSLO",municipality:"OSLO"},1286:{city:"OSLO",municipality:"OSLO"},1290:{city:"OSLO",municipality:"OSLO"},1291:{city:"OSLO",municipality:"OSLO"},1294:{city:"OSLO",municipality:"OSLO"},1295:{city:"OSLO",municipality:"OSLO"},1300:{city:"SANDVIKA",municipality:"BRUM"},1301:{city:"SANDVIKA",municipality:"BRUM"},1302:{city:"SANDVIKA",municipality:"BRUM"},1303:{city:"SANDVIKA",municipality:"BRUM"},1304:{city:"SANDVIKA",municipality:"BRUM"},1305:{city:"HASLUM",municipality:"BRUM"},1306:{city:"SANDVIKA",municipality:"BRUM"},1307:{city:"FORNEBU",municipality:"BRUM"},1308:{city:"JAR",municipality:"BRUM"},1309:{city:"RUD",municipality:"BRUM"},1311:{city:"HVIKODDEN",municipality:"BRUM"},1312:{city:"SLEPENDEN",municipality:"BRUM"},1313:{city:"VYENENGA",municipality:"BRUM"},1314:{city:"VYENENGA",municipality:"BRUM"},1316:{city:"EIKSMARKA",municipality:"BRUM"},1317:{city:"BRUMS VERK",municipality:"BRUM"},1318:{city:"BEKKESTUA",municipality:"BRUM"},1319:{city:"BEKKESTUA",municipality:"BRUM"},1321:{city:"STABEKK",municipality:"BRUM"},1322:{city:"HVIK",municipality:"BRUM"},1323:{city:"HVIK",municipality:"BRUM"},1324:{city:"LYSAKER",municipality:"BRUM"},1325:{city:"LYSAKER",municipality:"BRUM"},1326:{city:"LYSAKER",municipality:"BRUM"},1327:{city:"LYSAKER",municipality:"BRUM"},1328:{city:"HVIK",municipality:"BRUM"},1329:{city:"LOMMEDALEN",municipality:"BRUM"},1330:{city:"FORNEBU",municipality:"BRUM"},1331:{city:"FORNEBU",municipality:"BRUM"},1332:{city:"STERS",municipality:"BRUM"},1333:{city:"KOLSS",municipality:"BRUM"},1334:{city:"RYKKINN",municipality:"BRUM"},1335:{city:"SNARYA",municipality:"BRUM"},1336:{city:"SANDVIKA",municipality:"BRUM"},1337:{city:"SANDVIKA",municipality:"BRUM"},1338:{city:"SANDVIKA",municipality:"BRUM"},1339:{city:"VYENENGA",municipality:"BRUM"},1340:{city:"SKUI",municipality:"BRUM"},1341:{city:"SLEPENDEN",municipality:"BRUM"},1342:{city:"GJETTUM",municipality:"BRUM"},1344:{city:"HASLUM",municipality:"BRUM"},1346:{city:"GJETTUM",municipality:"BRUM"},1348:{city:"RYKKINN",municipality:"BRUM"},1349:{city:"RYKKINN",municipality:"BRUM"},1350:{city:"LOMMEDALEN",municipality:"BRUM"},1351:{city:"RUD",municipality:"BRUM"},1352:{city:"KOLSS",municipality:"BRUM"},1353:{city:"BRUMS VERK",municipality:"BRUM"},1354:{city:"BRUMS VERK",municipality:"BRUM"},1356:{city:"BEKKESTUA",municipality:"BRUM"},1357:{city:"BEKKESTUA",municipality:"BRUM"},1358:{city:"JAR",municipality:"BRUM"},1359:{city:"EIKSMARKA",municipality:"BRUM"},1360:{city:"FORNEBU",municipality:"BRUM"},1361:{city:"STERS",municipality:"BRUM"},1362:{city:"HOSLE",municipality:"BRUM"},1363:{city:"HVIK",municipality:"BRUM"},1364:{city:"FORNEBU",municipality:"BRUM"},1365:{city:"BLOMMENHOLM",municipality:"BRUM"},1366:{city:"LYSAKER",municipality:"BRUM"},1367:{city:"SNARYA",municipality:"BRUM"},1368:{city:"STABEKK",municipality:"BRUM"},1369:{city:"STABEKK",municipality:"BRUM"},1371:{city:"ASKER",municipality:"ASKER"},1372:{city:"ASKER",municipality:"ASKER"},1373:{city:"ASKER",municipality:"ASKER"},1375:{city:"BILLINGSTAD",municipality:"ASKER"},1376:{city:"BILLINGSTAD",municipality:"ASKER"},1377:{city:"BILLINGSTAD",municipality:"ASKER"},1378:{city:"NESBRU",municipality:"ASKER"},1379:{city:"NESBRU",municipality:"ASKER"},1380:{city:"HEGGEDAL",municipality:"ASKER"},1381:{city:"VETTRE",municipality:"ASKER"},1383:{city:"ASKER",municipality:"ASKER"},1384:{city:"ASKER",municipality:"ASKER"},1385:{city:"ASKER",municipality:"ASKER"},1386:{city:"ASKER",municipality:"ASKER"},1387:{city:"ASKER",municipality:"ASKER"},1388:{city:"BORGEN",municipality:"ASKER"},1389:{city:"HEGGEDAL",municipality:"ASKER"},1390:{city:"VOLLEN",municipality:"ASKER"},1391:{city:"VOLLEN",municipality:"ASKER"},1392:{city:"VETTRE",municipality:"ASKER"},1393:{city:"VOLLEN",municipality:"ASKER"},1394:{city:"NESBRU",municipality:"ASKER"},1395:{city:"HVALSTAD",municipality:"ASKER"},1396:{city:"BILLINGSTAD",municipality:"ASKER"},1397:{city:"NESYA",municipality:"ASKER"},1399:{city:"ASKER",municipality:"ASKER"},1400:{city:"SKI",municipality:"NORDRE FOLLO"},1401:{city:"SKI",municipality:"NORDRE FOLLO"},1402:{city:"SKI",municipality:"NORDRE FOLLO"},1403:{city:"LANGHUS",municipality:"NORDRE FOLLO"},1404:{city:"SIGGERUD",municipality:"NORDRE FOLLO"},1405:{city:"LANGHUS",municipality:"NORDRE FOLLO"},1406:{city:"SKI",municipality:"NORDRE FOLLO"},1407:{city:"VINTERBRO",municipality:"S"},1408:{city:"KRKSTAD",municipality:"NORDRE FOLLO"},1409:{city:"SKOTBU",municipality:"NORDRE FOLLO"},1410:{city:"KOLBOTN",municipality:"NORDRE FOLLO"},1411:{city:"KOLBOTN",municipality:"NORDRE FOLLO"},1412:{city:"SOFIEMYR",municipality:"NORDRE FOLLO"},1413:{city:"TRNSEN",municipality:"NORDRE FOLLO"},1414:{city:"TROLLSEN",municipality:"NORDRE FOLLO"},1415:{city:"OPPEGRD",municipality:"NORDRE FOLLO"},1416:{city:"OPPEGRD",municipality:"NORDRE FOLLO"},1417:{city:"SOFIEMYR",municipality:"NORDRE FOLLO"},1418:{city:"KOLBOTN",municipality:"NORDRE FOLLO"},1419:{city:"OPPEGRD",municipality:"NORDRE FOLLO"},1420:{city:"SVARTSKOG",municipality:"NORDRE FOLLO"},1421:{city:"TROLLSEN",municipality:"NORDRE FOLLO"},1422:{city:"SIGGERUD",municipality:"NORDRE FOLLO"},1423:{city:"SKI",municipality:"NORDRE FOLLO"},1424:{city:"SKI",municipality:"NORDRE FOLLO"},1425:{city:"SKI",municipality:"NORDRE FOLLO"},1429:{city:"VINTERBRO",municipality:"S"},1430:{city:"S",municipality:"S"},1431:{city:"S",municipality:"S"},1432:{city:"S",municipality:"S"},1433:{city:"S",municipality:"S"},1434:{city:"S",municipality:"S"},1435:{city:"S",municipality:"S"},1440:{city:"DRBAK",municipality:"FROGN"},1441:{city:"DRBAK",municipality:"FROGN"},1442:{city:"DRBAK",municipality:"FROGN"},1443:{city:"DRBAK",municipality:"FROGN"},1444:{city:"DRBAK",municipality:"FROGN"},1445:{city:"DRBAK",municipality:"FROGN"},1446:{city:"DRBAK",municipality:"FROGN"},1447:{city:"DRBAK",municipality:"FROGN"},1448:{city:"DRBAK",municipality:"FROGN"},1449:{city:"DRBAK",municipality:"FROGN"},1450:{city:"NESODDTANGEN",municipality:"NESODDEN"},1451:{city:"NESODDTANGEN",municipality:"NESODDEN"},1452:{city:"NESODDTANGEN",municipality:"NESODDEN"},1453:{city:"BJRNEMYR",municipality:"NESODDEN"},1454:{city:"FAGERSTRAND",municipality:"NESODDEN"},1455:{city:"NORDRE FROGN",municipality:"FROGN"},1456:{city:"NESODDTANGEN",municipality:"NESODDEN"},1457:{city:"FAGERSTRAND",municipality:"NESODDEN"},1458:{city:"FJELLSTRAND",municipality:"NESODDEN"},1459:{city:"NESODDEN",municipality:"NESODDEN"},1461:{city:"LRENSKOG",municipality:"LRENSKOG"},1462:{city:"FJELLHAMAR",municipality:"LRENSKOG"},1463:{city:"FJELLHAMAR",municipality:"LRENSKOG"},1464:{city:"FJELLHAMAR",municipality:"LRENSKOG"},1465:{city:"STRMMEN",municipality:"LILLESTRM"},1466:{city:"STRMMEN",municipality:"LILLESTRM"},1467:{city:"STRMMEN",municipality:"LILLESTRM"},1468:{city:"FINSTADJORDET",municipality:"LRENSKOG"},1469:{city:"RASTA",municipality:"LRENSKOG"},1470:{city:"LRENSKOG",municipality:"LRENSKOG"},1471:{city:"LRENSKOG",municipality:"LRENSKOG"},1472:{city:"FJELLHAMAR",municipality:"LRENSKOG"},1473:{city:"LRENSKOG",municipality:"LRENSKOG"},1474:{city:"LRENSKOG",municipality:"LRENSKOG"},1475:{city:"FINSTADJORDET",municipality:"LRENSKOG"},1476:{city:"RASTA",municipality:"LRENSKOG"},1477:{city:"FJELLHAMAR",municipality:"LRENSKOG"},1478:{city:"LRENSKOG",municipality:"LRENSKOG"},1479:{city:"KURLAND",municipality:"LRENSKOG"},1480:{city:"SLATTUM",municipality:"NITTEDAL"},1481:{city:"HAGAN",municipality:"NITTEDAL"},1482:{city:"NITTEDAL",municipality:"NITTEDAL"},1483:{city:"HAGAN",municipality:"NITTEDAL"},1484:{city:"HAKADAL",municipality:"NITTEDAL"},1485:{city:"HAKADAL",municipality:"NITTEDAL"},1486:{city:"NITTEDAL",municipality:"NITTEDAL"},1487:{city:"HAKADAL",municipality:"NITTEDAL"},1488:{city:"HAKADAL",municipality:"NITTEDAL"},1501:{city:"MOSS",municipality:"MOSS"},1502:{city:"MOSS",municipality:"MOSS"},1503:{city:"MOSS",municipality:"MOSS"},1504:{city:"MOSS",municipality:"MOSS"},1506:{city:"MOSS",municipality:"MOSS"},1508:{city:"MOSS",municipality:"MOSS"},1509:{city:"MOSS",municipality:"MOSS"},1510:{city:"MOSS",municipality:"MOSS"},1511:{city:"MOSS",municipality:"MOSS"},1512:{city:"MOSS",municipality:"MOSS"},1513:{city:"MOSS",municipality:"MOSS"},1514:{city:"MOSS",municipality:"MOSS"},1515:{city:"MOSS",municipality:"MOSS"},1516:{city:"MOSS",municipality:"MOSS"},1517:{city:"MOSS",municipality:"MOSS"},1518:{city:"MOSS",municipality:"MOSS"},1519:{city:"MOSS",municipality:"MOSS"},1520:{city:"MOSS",municipality:"MOSS"},1521:{city:"MOSS",municipality:"MOSS"},1522:{city:"MOSS",municipality:"MOSS"},1523:{city:"MOSS",municipality:"MOSS"},1524:{city:"MOSS",municipality:"MOSS"},1525:{city:"MOSS",municipality:"MOSS"},1526:{city:"MOSS",municipality:"MOSS"},1528:{city:"MOSS",municipality:"MOSS"},1529:{city:"MOSS",municipality:"MOSS"},1530:{city:"MOSS",municipality:"MOSS"},1531:{city:"MOSS",municipality:"MOSS"},1532:{city:"MOSS",municipality:"MOSS"},1533:{city:"MOSS",municipality:"MOSS"},1534:{city:"MOSS",municipality:"MOSS"},1535:{city:"MOSS",municipality:"MOSS"},1536:{city:"MOSS",municipality:"MOSS"},1537:{city:"MOSS",municipality:"MOSS"},1538:{city:"MOSS",municipality:"MOSS"},1539:{city:"MOSS",municipality:"MOSS"},1540:{city:"VESTBY",municipality:"VESTBY"},1541:{city:"VESTBY",municipality:"VESTBY"},1542:{city:"VESTBY",municipality:"VESTBY"},1543:{city:"VESTBY",municipality:"VESTBY"},1544:{city:"VESTBY",municipality:"VESTBY"},1545:{city:"HVITSTEN",municipality:"VESTBY"},1550:{city:"HLEN",municipality:"VESTBY"},1553:{city:"SON",municipality:"VESTBY"},1554:{city:"SON",municipality:"VESTBY"},1555:{city:"SON",municipality:"VESTBY"},1556:{city:"SON",municipality:"VESTBY"},1560:{city:"LARKOLLEN",municipality:"MOSS"},1561:{city:"LARKOLLEN",municipality:"MOSS"},1570:{city:"DILLING",municipality:"MOSS"},1580:{city:"RYGGE",municipality:"MOSS"},1581:{city:"RYGGE",municipality:"MOSS"},1590:{city:"RYGGE",municipality:"MOSS"},1591:{city:"SPERREBOTN",municipality:"VLER (STFOLD)"},1592:{city:"VLER I STFOLD",municipality:"VLER (STFOLD)"},1593:{city:"SVINNDAL",municipality:"VLER (STFOLD)"},1594:{city:"VLER I STFOLD",municipality:"VLER (STFOLD)"},1596:{city:"MOSS",municipality:"MOSS"},1597:{city:"MOSS",municipality:"MOSS"},1598:{city:"MOSS",municipality:"MOSS"},1599:{city:"MOSS",municipality:"MOSS"},1601:{city:"FREDRIKSTAD",municipality:"FREDRIKSTAD"},1602:{city:"FREDRIKSTAD",municipality:"FREDRIKSTAD"},1604:{city:"FREDRIKSTAD",municipality:"FREDRIKSTAD"},1605:{city:"FREDRIKSTAD",municipality:"FREDRIKSTAD"},1606:{city:"FREDRIKSTAD",municipality:"FREDRIKSTAD"},1607:{city:"FREDRIKSTAD",municipality:"FREDRIKSTAD"},1608:{city:"FREDRIKSTAD",municipality:"FREDRIKSTAD"},1609:{city:"FREDRIKSTAD",municipality:"FREDRIKSTAD"},1610:{city:"FREDRIKSTAD",municipality:"FREDRIKSTAD"},1612:{city:"FREDRIKSTAD",municipality:"FREDRIKSTAD"},1613:{city:"FREDRIKSTAD",municipality:"FREDRIKSTAD"},1614:{city:"FREDRIKSTAD",municipality:"FREDRIKSTAD"},1615:{city:"FREDRIKSTAD",municipality:"FREDRIKSTAD"},1616:{city:"FREDRIKSTAD",municipality:"FREDRIKSTAD"},1617:{city:"FREDRIKSTAD",municipality:"FREDRIKSTAD"},1618:{city:"FREDRIKSTAD",municipality:"FREDRIKSTAD"},1619:{city:"FREDRIKSTAD",municipality:"FREDRIKSTAD"},1620:{city:"GRESSVIK",municipality:"FREDRIKSTAD"},1621:{city:"GRESSVIK",municipality:"FREDRIKSTAD"},1622:{city:"GRESSVIK",municipality:"FREDRIKSTAD"},1623:{city:"GRESSVIK",municipality:"FREDRIKSTAD"},1624:{city:"GRESSVIK",municipality:"FREDRIKSTAD"},1625:{city:"MANSTAD",municipality:"FREDRIKSTAD"},1626:{city:"MANSTAD",municipality:"FREDRIKSTAD"},1628:{city:"ENGELSVIKEN",municipality:"FREDRIKSTAD"},1629:{city:"GAMLE FREDRIKSTAD",municipality:"FREDRIKSTAD"},1630:{city:"GAMLE FREDRIKSTAD",municipality:"FREDRIKSTAD"},1632:{city:"GAMLE FREDRIKSTAD",municipality:"FREDRIKSTAD"},1633:{city:"GAMLE FREDRIKSTAD",municipality:"FREDRIKSTAD"},1634:{city:"GAMLE FREDRIKSTAD",municipality:"FREDRIKSTAD"},1636:{city:"GAMLE FREDRIKSTAD",municipality:"FREDRIKSTAD"},1637:{city:"GAMLE FREDRIKSTAD",municipality:"FREDRIKSTAD"},1638:{city:"GAMLE FREDRIKSTAD",municipality:"FREDRIKSTAD"},1639:{city:"GAMLE FREDRIKSTAD",municipality:"FREDRIKSTAD"},1640:{city:"RDE",municipality:"RDE"},1641:{city:"RDE",municipality:"RDE"},1642:{city:"SALTNES",municipality:"RDE"},1643:{city:"RDE",municipality:"RDE"},1650:{city:"SELLEBAKK",municipality:"FREDRIKSTAD"},1651:{city:"SELLEBAKK",municipality:"FREDRIKSTAD"},1653:{city:"SELLEBAKK",municipality:"FREDRIKSTAD"},1654:{city:"SELLEBAKK",municipality:"FREDRIKSTAD"},1655:{city:"SELLEBAKK",municipality:"FREDRIKSTAD"},1657:{city:"TORP",municipality:"FREDRIKSTAD"},1658:{city:"TORP",municipality:"FREDRIKSTAD"},1659:{city:"TORP",municipality:"FREDRIKSTAD"},1661:{city:"ROLVSY",municipality:"FREDRIKSTAD"},1662:{city:"ROLVSY",municipality:"FREDRIKSTAD"},1663:{city:"ROLVSY",municipality:"FREDRIKSTAD"},1664:{city:"ROLVSY",municipality:"FREDRIKSTAD"},1665:{city:"ROLVSY",municipality:"FREDRIKSTAD"},1666:{city:"ROLVSY",municipality:"FREDRIKSTAD"},1667:{city:"ROLVSY",municipality:"FREDRIKSTAD"},1670:{city:"KRKERY",municipality:"FREDRIKSTAD"},1671:{city:"KRKERY",municipality:"FREDRIKSTAD"},1672:{city:"KRKERY",municipality:"FREDRIKSTAD"},1673:{city:"KRKERY",municipality:"FREDRIKSTAD"},1675:{city:"KRKERY",municipality:"FREDRIKSTAD"},1676:{city:"KRKERY",municipality:"FREDRIKSTAD"},1678:{city:"KRKERY",municipality:"FREDRIKSTAD"},1679:{city:"KRKERY",municipality:"FREDRIKSTAD"},1680:{city:"SKJRHALDEN",municipality:"HVALER"},1682:{city:"SKJRHALDEN",municipality:"HVALER"},1683:{city:"VESTERY",municipality:"HVALER"},1684:{city:"VESTERY",municipality:"HVALER"},1690:{city:"HERFL",municipality:"HVALER"},1692:{city:"NEDGRDEN",municipality:"HVALER"},1701:{city:"SARPSBORG",municipality:"SARPSBORG"},1702:{city:"SARPSBORG",municipality:"SARPSBORG"},1703:{city:"SARPSBORG",municipality:"SARPSBORG"},1704:{city:"SARPSBORG",municipality:"SARPSBORG"},1705:{city:"SARPSBORG",municipality:"SARPSBORG"},1706:{city:"SARPSBORG",municipality:"SARPSBORG"},1707:{city:"SARPSBORG",municipality:"SARPSBORG"},1708:{city:"SARPSBORG",municipality:"SARPSBORG"},1709:{city:"SARPSBORG",municipality:"SARPSBORG"},1710:{city:"SARPSBORG",municipality:"SARPSBORG"},1711:{city:"SARPSBORG",municipality:"SARPSBORG"},1712:{city:"GRLUM",municipality:"SARPSBORG"},1713:{city:"GRLUM",municipality:"SARPSBORG"},1714:{city:"GRLUM",municipality:"SARPSBORG"},1715:{city:"YVEN",municipality:"SARPSBORG"},1718:{city:"GREKER",municipality:"SARPSBORG"},1719:{city:"GREKER",municipality:"SARPSBORG"},1720:{city:"GREKER",municipality:"SARPSBORG"},1721:{city:"SARPSBORG",municipality:"SARPSBORG"},1722:{city:"SARPSBORG",municipality:"SARPSBORG"},1723:{city:"SARPSBORG",municipality:"SARPSBORG"},1724:{city:"SARPSBORG",municipality:"SARPSBORG"},1725:{city:"SARPSBORG",municipality:"SARPSBORG"},1726:{city:"SARPSBORG",municipality:"SARPSBORG"},1727:{city:"SARPSBORG",municipality:"SARPSBORG"},1730:{city:"ISE",municipality:"SARPSBORG"},1733:{city:"HAFSLUNDSY",municipality:"SARPSBORG"},1734:{city:"HAFSLUNDSY",municipality:"SARPSBORG"},1735:{city:"VARTEIG",municipality:"SARPSBORG"},1738:{city:"BORGENHAUGEN",municipality:"SARPSBORG"},1739:{city:"BORGENHAUGEN",municipality:"SARPSBORG"},1740:{city:"BORGENHAUGEN",municipality:"SARPSBORG"},1742:{city:"KLAVESTADHAUGEN",municipality:"SARPSBORG"},1743:{city:"KLAVESTADHAUGEN",municipality:"SARPSBORG"},1745:{city:"SKJEBERG",municipality:"SARPSBORG"},1746:{city:"SKJEBERG",municipality:"SARPSBORG"},1747:{city:"SKJEBERG",municipality:"SARPSBORG"},1751:{city:"HALDEN",municipality:"HALDEN"},1752:{city:"HALDEN",municipality:"HALDEN"},1753:{city:"HALDEN",municipality:"HALDEN"},1754:{city:"HALDEN",municipality:"HALDEN"},1757:{city:"HALDEN",municipality:"HALDEN"},1759:{city:"HALDEN",municipality:"HALDEN"},1760:{city:"HALDEN",municipality:"HALDEN"},1761:{city:"HALDEN",municipality:"HALDEN"},1762:{city:"HALDEN",municipality:"HALDEN"},1763:{city:"HALDEN",municipality:"HALDEN"},1764:{city:"HALDEN",municipality:"HALDEN"},1765:{city:"HALDEN",municipality:"HALDEN"},1766:{city:"HALDEN",municipality:"HALDEN"},1767:{city:"HALDEN",municipality:"HALDEN"},1768:{city:"HALDEN",municipality:"HALDEN"},1769:{city:"HALDEN",municipality:"HALDEN"},1771:{city:"HALDEN",municipality:"HALDEN"},1772:{city:"HALDEN",municipality:"HALDEN"},1776:{city:"HALDEN",municipality:"HALDEN"},1777:{city:"HALDEN",municipality:"HALDEN"},1778:{city:"HALDEN",municipality:"HALDEN"},1779:{city:"HALDEN",municipality:"HALDEN"},1781:{city:"HALDEN",municipality:"HALDEN"},1782:{city:"HALDEN",municipality:"HALDEN"},1783:{city:"HALDEN",municipality:"HALDEN"},1784:{city:"HALDEN",municipality:"HALDEN"},1785:{city:"HALDEN",municipality:"HALDEN"},1786:{city:"HALDEN",municipality:"HALDEN"},1787:{city:"HALDEN",municipality:"HALDEN"},1788:{city:"HALDEN",municipality:"HALDEN"},1789:{city:"BERG I STFOLD",municipality:"HALDEN"},1790:{city:"TISTEDAL",municipality:"HALDEN"},1791:{city:"TISTEDAL",municipality:"HALDEN"},1792:{city:"TISTEDAL",municipality:"HALDEN"},1793:{city:"TISTEDAL",municipality:"HALDEN"},1794:{city:"SPONVIKA",municipality:"HALDEN"},1796:{city:"KORNSJ",municipality:"HALDEN"},1798:{city:"AREMARK",municipality:"AREMARK"},1799:{city:"AREMARK",municipality:"AREMARK"},1801:{city:"ASKIM",municipality:"INDRE STFOLD"},1802:{city:"ASKIM",municipality:"INDRE STFOLD"},1803:{city:"ASKIM",municipality:"INDRE STFOLD"},1804:{city:"SPYDEBERG",municipality:"INDRE STFOLD"},1805:{city:"TOMTER",municipality:"INDRE STFOLD"},1806:{city:"SKIPTVET",municipality:"SKIPTVET"},1807:{city:"ASKIM",municipality:"INDRE STFOLD"},1808:{city:"ASKIM",municipality:"INDRE STFOLD"},1809:{city:"ASKIM",municipality:"INDRE STFOLD"},1811:{city:"ASKIM",municipality:"INDRE STFOLD"},1812:{city:"ASKIM",municipality:"INDRE STFOLD"},1813:{city:"ASKIM",municipality:"INDRE STFOLD"},1814:{city:"ASKIM",municipality:"INDRE STFOLD"},1815:{city:"ASKIM",municipality:"INDRE STFOLD"},1816:{city:"SKIPTVET",municipality:"SKIPTVET"},1820:{city:"SPYDEBERG",municipality:"INDRE STFOLD"},1821:{city:"SPYDEBERG",municipality:"INDRE STFOLD"},1823:{city:"KNAPSTAD",municipality:"INDRE STFOLD"},1825:{city:"TOMTER",municipality:"INDRE STFOLD"},1827:{city:"HOBL",municipality:"INDRE STFOLD"},1828:{city:"HOBL",municipality:"INDRE STFOLD"},1830:{city:"ASKIM",municipality:"INDRE STFOLD"},1831:{city:"ASKIM",municipality:"INDRE STFOLD"},1832:{city:"ASKIM",municipality:"INDRE STFOLD"},1833:{city:"ASKIM",municipality:"INDRE STFOLD"},1850:{city:"MYSEN",municipality:"INDRE STFOLD"},1851:{city:"MYSEN",municipality:"INDRE STFOLD"},1852:{city:"MYSEN",municipality:"INDRE STFOLD"},1859:{city:"SLITU",municipality:"INDRE STFOLD"},1860:{city:"TRGSTAD",municipality:"INDRE STFOLD"},1861:{city:"TRGSTAD",municipality:"INDRE STFOLD"},1866:{city:"BSTAD",municipality:"INDRE STFOLD"},1867:{city:"BSTAD",municipality:"INDRE STFOLD"},1870:{city:"RJE",municipality:"MARKER"},1871:{city:"RJE",municipality:"MARKER"},1875:{city:"OTTEID",municipality:"MARKER"},1878:{city:"HRLAND",municipality:"INDRE STFOLD"},1880:{city:"EIDSBERG",municipality:"INDRE STFOLD"},1890:{city:"RAKKESTAD",municipality:"RAKKESTAD"},1891:{city:"RAKKESTAD",municipality:"RAKKESTAD"},1892:{city:"DEGERNES",municipality:"RAKKESTAD"},1893:{city:"DEGERNES",municipality:"RAKKESTAD"},1894:{city:"RAKKESTAD",municipality:"RAKKESTAD"},1900:{city:"FETSUND",municipality:"LILLESTRM"},1901:{city:"FETSUND",municipality:"LILLESTRM"},1903:{city:"GAN",municipality:"LILLESTRM"},1910:{city:"ENEBAKKNESET",municipality:"LILLESTRM"},1911:{city:"FLATEBY",municipality:"ENEBAKK"},1912:{city:"ENEBAKK",municipality:"ENEBAKK"},1914:{city:"YTRE ENEBAKK",municipality:"ENEBAKK"},1916:{city:"FLATEBY",municipality:"ENEBAKK"},1917:{city:"YTRE ENEBAKK",municipality:"ENEBAKK"},1920:{city:"SRUMSAND",municipality:"LILLESTRM"},1921:{city:"SRUMSAND",municipality:"LILLESTRM"},1923:{city:"SRUM",municipality:"LILLESTRM"},1924:{city:"SRUM",municipality:"LILLESTRM"},1925:{city:"BLAKER",municipality:"LILLESTRM"},1926:{city:"BLAKER",municipality:"LILLESTRM"},1927:{city:"RNSFOSS",municipality:"NES"},1928:{city:"AULI",municipality:"NES"},1929:{city:"AULI",municipality:"NES"},1930:{city:"AURSKOG",municipality:"AURSKOG-HLAND"},1931:{city:"AURSKOG",municipality:"AURSKOG-HLAND"},1940:{city:"BJRKELANGEN",municipality:"AURSKOG-HLAND"},1941:{city:"BJRKELANGEN",municipality:"AURSKOG-HLAND"},1950:{city:"RMSKOG",municipality:"AURSKOG-HLAND"},1951:{city:"RMSKOG",municipality:"AURSKOG-HLAND"},1954:{city:"SETSKOG",municipality:"AURSKOG-HLAND"},1960:{city:"LKEN",municipality:"AURSKOG-HLAND"},1961:{city:"LKEN",municipality:"AURSKOG-HLAND"},1963:{city:"FOSSER",municipality:"AURSKOG-HLAND"},1970:{city:"HEMNES",municipality:"AURSKOG-HLAND"},1971:{city:"HEMNES",municipality:"AURSKOG-HLAND"},2e3:{city:"LILLESTRM",municipality:"LILLESTRM"},2001:{city:"LILLESTRM",municipality:"LILLESTRM"},2003:{city:"LILLESTRM",municipality:"LILLESTRM"},2004:{city:"LILLESTRM",municipality:"LILLESTRM"},2005:{city:"RLINGEN",municipality:"RLINGEN"},2006:{city:"LVENSTAD",municipality:"RLINGEN"},2007:{city:"KJELLER",municipality:"LILLESTRM"},2008:{city:"FJERDINGBY",municipality:"RLINGEN"},2009:{city:"NORDBY",municipality:"RLINGEN"},2010:{city:"STRMMEN",municipality:"LILLESTRM"},2011:{city:"STRMMEN",municipality:"LILLESTRM"},2012:{city:"LILLESTRM",municipality:"LILLESTRM"},2013:{city:"SKJETTEN",municipality:"LILLESTRM"},2014:{city:"BLYSTADLIA",municipality:"RLINGEN"},2015:{city:"LEIRSUND",municipality:"LILLESTRM"},2016:{city:"FROGNER",municipality:"LILLESTRM"},2017:{city:"FROGNER",municipality:"LILLESTRM"},2018:{city:"LVENSTAD",municipality:"RLINGEN"},2019:{city:"SKEDSMOKORSET",municipality:"LILLESTRM"},2020:{city:"SKEDSMOKORSET",municipality:"LILLESTRM"},2021:{city:"SKEDSMOKORSET",municipality:"LILLESTRM"},2022:{city:"GJERDRUM",municipality:"GJERDRUM"},2023:{city:"SKEDSMOKORSET",municipality:"LILLESTRM"},2024:{city:"GJERDRUM",municipality:"GJERDRUM"},2025:{city:"FJERDINGBY",municipality:"RLINGEN"},2026:{city:"SKJETTEN",municipality:"LILLESTRM"},2027:{city:"KJELLER",municipality:"LILLESTRM"},2028:{city:"LILLESTRM",municipality:"LILLESTRM"},2029:{city:"RLINGEN",municipality:"RLINGEN"},2030:{city:"NANNESTAD",municipality:"NANNESTAD"},2031:{city:"NANNESTAD",municipality:"NANNESTAD"},2032:{city:"MAURA",municipality:"NANNESTAD"},2033:{city:"SGREINA",municipality:"NANNESTAD"},2034:{city:"HOLTER",municipality:"NANNESTAD"},2035:{city:"HOLTER",municipality:"NANNESTAD"},2036:{city:"MAURA",municipality:"NANNESTAD"},2040:{city:"KLFTA",municipality:"ULLENSAKER"},2041:{city:"KLFTA",municipality:"ULLENSAKER"},2050:{city:"JESSHEIM",municipality:"ULLENSAKER"},2051:{city:"JESSHEIM",municipality:"ULLENSAKER"},2052:{city:"JESSHEIM",municipality:"ULLENSAKER"},2053:{city:"JESSHEIM",municipality:"ULLENSAKER"},2054:{city:"MOGREINA",municipality:"ULLENSAKER"},2055:{city:"NORDKISA",municipality:"ULLENSAKER"},2056:{city:"ALGARHEIM",municipality:"ULLENSAKER"},2057:{city:"JESSHEIM",municipality:"ULLENSAKER"},2058:{city:"SESSVOLLMOEN",municipality:"ULLENSAKER"},2060:{city:"GARDERMOEN",municipality:"ULLENSAKER"},2061:{city:"GARDERMOEN",municipality:"ULLENSAKER"},2062:{city:"JESSHEIM",municipality:"ULLENSAKER"},2063:{city:"JESSHEIM",municipality:"ULLENSAKER"},2066:{city:"JESSHEIM",municipality:"ULLENSAKER"},2067:{city:"JESSHEIM",municipality:"ULLENSAKER"},2068:{city:"JESSHEIM",municipality:"ULLENSAKER"},2069:{city:"JESSHEIM",municipality:"ULLENSAKER"},2070:{city:"RHOLT",municipality:"EIDSVOLL"},2071:{city:"RHOLT",municipality:"EIDSVOLL"},2072:{city:"DAL",municipality:"EIDSVOLL"},2073:{city:"BN",municipality:"EIDSVOLL"},2074:{city:"EIDSVOLL VERK",municipality:"EIDSVOLL"},2076:{city:"DAL",municipality:"EIDSVOLL"},2080:{city:"EIDSVOLL",municipality:"EIDSVOLL"},2081:{city:"EIDSVOLL",municipality:"EIDSVOLL"},2090:{city:"HURDAL",municipality:"HURDAL"},2091:{city:"HURDAL",municipality:"HURDAL"},2092:{city:"MINNESUND",municipality:"EIDSVOLL"},2093:{city:"FEIRING",municipality:"EIDSVOLL"},2094:{city:"MINNESUND",municipality:"EIDSVOLL"},2100:{city:"SKARNES",municipality:"SR-ODAL"},2101:{city:"SKARNES",municipality:"SR-ODAL"},2110:{city:"SLSTAD",municipality:"SR-ODAL"},2114:{city:"DISEN",municipality:"SR-ODAL"},2116:{city:"SANDER",municipality:"SR-ODAL"},2120:{city:"SAGSTUA",municipality:"NORD-ODAL"},2121:{city:"SAGSTUA",municipality:"NORD-ODAL"},2123:{city:"BRUVOLL",municipality:"NORD-ODAL"},2130:{city:"KNAPPER",municipality:"NORD-ODAL"},2132:{city:"GARDVIK",municipality:"NORD-ODAL"},2133:{city:"GARDVIK",municipality:"NORD-ODAL"},2134:{city:"AUSTVATN",municipality:"NORD-ODAL"},2150:{city:"RNES",municipality:"NES"},2151:{city:"RNES",municipality:"NES"},2160:{city:"VORMSUND",municipality:"NES"},2161:{city:"VORMSUND",municipality:"NES"},2162:{city:"BRRUD",municipality:"NES"},2163:{city:"SKOGBYGDA",municipality:"NES"},2164:{city:"SKOGBYGDA",municipality:"NES"},2165:{city:"HVAM",municipality:"NES"},2166:{city:"OPPAKER",municipality:"NES"},2167:{city:"HVAM",municipality:"NES"},2170:{city:"FENSTAD",municipality:"NES"},2201:{city:"KONGSVINGER",municipality:"KONGSVINGER"},2202:{city:"KONGSVINGER",municipality:"KONGSVINGER"},2203:{city:"KONGSVINGER",municipality:"KONGSVINGER"},2204:{city:"KONGSVINGER",municipality:"KONGSVINGER"},2205:{city:"KONGSVINGER",municipality:"KONGSVINGER"},2206:{city:"KONGSVINGER",municipality:"KONGSVINGER"},2207:{city:"KONGSVINGER",municipality:"KONGSVINGER"},2208:{city:"KONGSVINGER",municipality:"KONGSVINGER"},2209:{city:"KONGSVINGER",municipality:"KONGSVINGER"},2210:{city:"GRANLI",municipality:"KONGSVINGER"},2211:{city:"KONGSVINGER",municipality:"KONGSVINGER"},2212:{city:"KONGSVINGER",municipality:"KONGSVINGER"},2213:{city:"KONGSVINGER",municipality:"KONGSVINGER"},2214:{city:"KONGSVINGER",municipality:"KONGSVINGER"},2215:{city:"ROVERUD",municipality:"KONGSVINGER"},2216:{city:"ROVERUD",municipality:"KONGSVINGER"},2217:{city:"HOKKSEN",municipality:"KONGSVINGER"},2218:{city:"LUNDERSTER",municipality:"KONGSVINGER"},2219:{city:"BRANDVAL",municipality:"KONGSVINGER"},2220:{city:"BOGEN",municipality:"EIDSKOG"},2223:{city:"GALTERUD",municipality:"SR-ODAL"},2224:{city:"AUSTMARKA",municipality:"KONGSVINGER"},2225:{city:"KONGSVINGER",municipality:"KONGSVINGER"},2226:{city:"KONGSVINGER",municipality:"KONGSVINGER"},2227:{city:"AUSTMARKA",municipality:"KONGSVINGER"},2230:{city:"SKOTTERUD",municipality:"EIDSKOG"},2231:{city:"SKOTTERUD",municipality:"EIDSKOG"},2232:{city:"TOBL",municipality:"EIDSKOG"},2233:{city:"VESTMARKA",municipality:"EIDSKOG"},2235:{city:"MATRAND",municipality:"EIDSKOG"},2240:{city:"MAGNOR",municipality:"EIDSKOG"},2241:{city:"MAGNOR",municipality:"EIDSKOG"},2251:{city:"GRUE FINNSKOG",municipality:"GRUE"},2256:{city:"GRUE FINNSKOG",municipality:"GRUE"},2260:{city:"KIRKENR",municipality:"GRUE"},2261:{city:"KIRKENR",municipality:"GRUE"},2264:{city:"GRINDER",municipality:"GRUE"},2265:{city:"NAMN",municipality:"GRUE"},2266:{city:"ARNEBERG",municipality:"SNES"},2270:{city:"FLISA",municipality:"SNES"},2271:{city:"FLISA",municipality:"SNES"},2280:{city:"GJESSEN",municipality:"SNES"},2283:{city:"SNES FINNSKOG",municipality:"SNES"},2301:{city:"HAMAR",municipality:"HAMAR"},2302:{city:"HAMAR",municipality:"HAMAR"},2303:{city:"HAMAR",municipality:"HAMAR"},2304:{city:"HAMAR",municipality:"HAMAR"},2305:{city:"HAMAR",municipality:"HAMAR"},2306:{city:"HAMAR",municipality:"HAMAR"},2307:{city:"HAMAR",municipality:"HAMAR"},2308:{city:"HAMAR",municipality:"HAMAR"},2309:{city:"HAMAR",municipality:"HAMAR"},2311:{city:"HAMAR",municipality:"HAMAR"},2312:{city:"OTTESTAD",municipality:"STANGE"},2313:{city:"OTTESTAD",municipality:"STANGE"},2314:{city:"OTTESTAD",municipality:"STANGE"},2315:{city:"HAMAR",municipality:"HAMAR"},2316:{city:"HAMAR",municipality:"HAMAR"},2317:{city:"HAMAR",municipality:"HAMAR"},2318:{city:"HAMAR",municipality:"HAMAR"},2319:{city:"HAMAR",municipality:"HAMAR"},2320:{city:"FURNES",municipality:"RINGSAKER"},2321:{city:"HAMAR",municipality:"HAMAR"},2322:{city:"RIDABU",municipality:"HAMAR"},2323:{city:"INGEBERG",municipality:"HAMAR"},2324:{city:"VANG P HEDMARKEN",municipality:"HAMAR"},2325:{city:"HAMAR",municipality:"HAMAR"},2326:{city:"HAMAR",municipality:"HAMAR"},2327:{city:"FURNES",municipality:"RINGSAKER"},2328:{city:"RIDABU",municipality:"HAMAR"},2329:{city:"VANG P HEDMARKEN",municipality:"HAMAR"},2330:{city:"VALLSET",municipality:"STANGE"},2331:{city:"VALLSET",municipality:"STANGE"},2332:{city:"SVANG",municipality:"STANGE"},2333:{city:"ROMEDAL",municipality:"STANGE"},2334:{city:"ROMEDAL",municipality:"STANGE"},2335:{city:"STANGE",municipality:"STANGE"},2336:{city:"STANGE",municipality:"STANGE"},2337:{city:"TANGEN",municipality:"STANGE"},2338:{city:"ESPA",municipality:"STANGE"},2339:{city:"TANGEN",municipality:"STANGE"},2340:{city:"LTEN",municipality:"LTEN"},2341:{city:"LTEN",municipality:"LTEN"},2344:{city:"ILSENG",municipality:"STANGE"},2345:{city:"DALSBRUK",municipality:"LTEN"},2346:{city:"ILSENG",municipality:"STANGE"},2350:{city:"NES P HEDMARKEN",municipality:"RINGSAKER"},2351:{city:"NES P HEDMARKEN",municipality:"RINGSAKER"},2353:{city:"STAVSJ",municipality:"RINGSAKER"},2355:{city:"GAUPEN",municipality:"RINGSAKER"},2360:{city:"RUDSHGDA",municipality:"RINGSAKER"},2361:{city:"RUDSHGDA",municipality:"RINGSAKER"},2364:{city:"NROSET",municipality:"RINGSAKER"},2365:{city:"SMARKA",municipality:"RINGSAKER"},2372:{city:"BRTTUM",municipality:"RINGSAKER"},2373:{city:"BRTTUM",municipality:"RINGSAKER"},2380:{city:"BRUMUNDDAL",municipality:"RINGSAKER"},2381:{city:"BRUMUNDDAL",municipality:"RINGSAKER"},2382:{city:"BRUMUNDDAL",municipality:"RINGSAKER"},2383:{city:"BRUMUNDDAL",municipality:"RINGSAKER"},2384:{city:"BRUMUNDDAL",municipality:"RINGSAKER"},2385:{city:"BRUMUNDDAL",municipality:"RINGSAKER"},2386:{city:"BRUMUNDDAL",municipality:"RINGSAKER"},2387:{city:"BRUMUNDDAL",municipality:"RINGSAKER"},2388:{city:"BRUMUNDDAL",municipality:"RINGSAKER"},2389:{city:"BRUMUNDDAL",municipality:"RINGSAKER"},2390:{city:"MOELV",municipality:"RINGSAKER"},2391:{city:"MOELV",municipality:"RINGSAKER"},2401:{city:"ELVERUM",municipality:"ELVERUM"},2402:{city:"ELVERUM",municipality:"ELVERUM"},2403:{city:"ELVERUM",municipality:"ELVERUM"},2404:{city:"ELVERUM",municipality:"ELVERUM"},2405:{city:"ELVERUM",municipality:"ELVERUM"},2406:{city:"ELVERUM",municipality:"ELVERUM"},2407:{city:"ELVERUM",municipality:"ELVERUM"},2408:{city:"ELVERUM",municipality:"ELVERUM"},2409:{city:"ELVERUM",municipality:"ELVERUM"},2410:{city:"HERNES",municipality:"ELVERUM"},2411:{city:"ELVERUM",municipality:"ELVERUM"},2412:{city:"SRSKOGBYGDA",municipality:"ELVERUM"},2413:{city:"ELVERUM",municipality:"ELVERUM"},2414:{city:"ELVERUM",municipality:"ELVERUM"},2415:{city:"HERADSBYGD",municipality:"ELVERUM"},2416:{city:"JMNA",municipality:"ELVERUM"},2417:{city:"ELVERUM",municipality:"ELVERUM"},2418:{city:"ELVERUM",municipality:"ELVERUM"},2419:{city:"ELVERUM",municipality:"ELVERUM"},2420:{city:"TRYSIL",municipality:"TRYSIL"},2421:{city:"TRYSIL",municipality:"TRYSIL"},2422:{city:"NYBERGSUND",municipality:"TRYSIL"},2423:{city:"STBY",municipality:"TRYSIL"},2424:{city:"STBY",municipality:"TRYSIL"},2425:{city:"LJRDALEN",municipality:"TRYSIL"},2426:{city:"LJRDALEN",municipality:"TRYSIL"},2427:{city:"PLASSEN",municipality:"TRYSIL"},2428:{city:"SRE OSEN",municipality:"TRYSIL"},2429:{city:"TRBERGET",municipality:"TRYSIL"},2430:{city:"JORDET",municipality:"TRYSIL"},2432:{city:"SLETTS",municipality:"TRYSIL"},2434:{city:"BRASKEREIDFOSS",municipality:"VLER (INNLANDET)"},2435:{city:"BRASKEREIDFOSS",municipality:"VLER (INNLANDET)"},2436:{city:"VLER I SOLR",municipality:"VLER (INNLANDET)"},2437:{city:"HASLEMOEN",municipality:"VLER (INNLANDET)"},2438:{city:"GRAVBERGET",municipality:"VLER (INNLANDET)"},2440:{city:"ENGERDAL",municipality:"ENGERDAL"},2441:{city:"ENGERDAL",municipality:"ENGERDAL"},2442:{city:"HERADSBYGD",municipality:"ELVERUM"},2443:{city:"DREVSJ",municipality:"ENGERDAL"},2444:{city:"DREVSJ",municipality:"ENGERDAL"},2446:{city:"ELG",municipality:"ENGERDAL"},2447:{city:"SRE OSEN",municipality:"TRYSIL"},2448:{city:"SMDALEN",municipality:"ENGERDAL"},2450:{city:"RENA",municipality:"MOT"},2451:{city:"RENA",municipality:"MOT"},2460:{city:"OSEN",municipality:"MOT"},2461:{city:"OSEN",municipality:"MOT"},2476:{city:"ATNA",municipality:"STOR-ELVDAL"},2477:{city:"SOLLIA",municipality:"STOR-ELVDAL"},2478:{city:"HANESTAD",municipality:"RENDALEN"},2480:{city:"KOPPANG",municipality:"STOR-ELVDAL"},2481:{city:"KOPPANG",municipality:"STOR-ELVDAL"},2484:{city:"RENDALEN",municipality:"RENDALEN"},2485:{city:"RENDALEN",municipality:"RENDALEN"},2486:{city:"RENDALEN",municipality:"RENDALEN"},2487:{city:"RENDALEN",municipality:"RENDALEN"},2488:{city:"RENDALEN",municipality:"RENDALEN"},2500:{city:"TYNSET",municipality:"TYNSET"},2501:{city:"TYNSET",municipality:"TYNSET"},2510:{city:"TYLLDALEN",municipality:"TYNSET"},2512:{city:"KVIKNE",municipality:"TYNSET"},2513:{city:"KVIKNE",municipality:"TYNSET"},2540:{city:"TOLGA",municipality:"TOLGA"},2541:{city:"TOLGA",municipality:"TOLGA"},2542:{city:"VINGELEN",municipality:"TOLGA"},2544:{city:"VERSJDALEN",municipality:"TOLGA"},2550:{city:"OS I STERDALEN",municipality:"OS"},2551:{city:"OS I STERDALEN",municipality:"OS"},2552:{city:"DALSBYGDA",municipality:"OS"},2555:{city:"TUFSINGDALEN",municipality:"OS"},2560:{city:"ALVDAL",municipality:"ALVDAL"},2561:{city:"ALVDAL",municipality:"ALVDAL"},2580:{city:"FOLLDAL",municipality:"FOLLDAL"},2581:{city:"FOLLDAL",municipality:"FOLLDAL"},2582:{city:"GRIMSBU",municipality:"FOLLDAL"},2584:{city:"DALHOLEN",municipality:"FOLLDAL"},2601:{city:"LILLEHAMMER",municipality:"LILLEHAMMER"},2602:{city:"LILLEHAMMER",municipality:"LILLEHAMMER"},2603:{city:"LILLEHAMMER",municipality:"LILLEHAMMER"},2604:{city:"LILLEHAMMER",municipality:"LILLEHAMMER"},2605:{city:"LILLEHAMMER",municipality:"LILLEHAMMER"},2606:{city:"LILLEHAMMER",municipality:"LILLEHAMMER"},2607:{city:"VINGROM",municipality:"LILLEHAMMER"},2608:{city:"LILLEHAMMER",municipality:"LILLEHAMMER"},2609:{city:"LILLEHAMMER",municipality:"LILLEHAMMER"},2610:{city:"MESNALI",municipality:"RINGSAKER"},2611:{city:"LILLEHAMMER",municipality:"LILLEHAMMER"},2612:{city:"SJUSJEN",municipality:"RINGSAKER"},2613:{city:"LILLEHAMMER",municipality:"LILLEHAMMER"},2614:{city:"LILLEHAMMER",municipality:"LILLEHAMMER"},2615:{city:"LILLEHAMMER",municipality:"LILLEHAMMER"},2616:{city:"LISMARKA",municipality:"RINGSAKER"},2617:{city:"LILLEHAMMER",municipality:"LILLEHAMMER"},2618:{city:"LILLEHAMMER",municipality:"LILLEHAMMER"},2619:{city:"LILLEHAMMER",municipality:"LILLEHAMMER"},2620:{city:"MESNALI",municipality:"RINGSAKER"},2621:{city:"VINGROM",municipality:"LILLEHAMMER"},2622:{city:"LILLEHAMMER",municipality:"LILLEHAMMER"},2623:{city:"LILLEHAMMER",municipality:"LILLEHAMMER"},2624:{city:"LILLEHAMMER",municipality:"LILLEHAMMER"},2625:{city:"FBERG",municipality:"LILLEHAMMER"},2626:{city:"LILLEHAMMER",municipality:"LILLEHAMMER"},2627:{city:"FBERG",municipality:"LILLEHAMMER"},2628:{city:"SJUSJEN",municipality:"RINGSAKER"},2629:{city:"LILLEHAMMER",municipality:"LILLEHAMMER"},2630:{city:"RINGEBU",municipality:"RINGEBU"},2631:{city:"RINGEBU",municipality:"RINGEBU"},2632:{city:"VENABYGD",municipality:"RINGEBU"},2633:{city:"FVANG",municipality:"RINGEBU"},2634:{city:"FVANG",municipality:"RINGEBU"},2635:{city:"TRETTEN",municipality:"YER"},2636:{city:"YER",municipality:"YER"},2637:{city:"YER",municipality:"YER"},2638:{city:"TRETTEN",municipality:"YER"},2639:{city:"VINSTRA",municipality:"NORD-FRON"},2640:{city:"VINSTRA",municipality:"NORD-FRON"},2641:{city:"KVAM",municipality:"NORD-FRON"},2642:{city:"KVAM",municipality:"NORD-FRON"},2643:{city:"SKBU",municipality:"NORD-FRON"},2644:{city:"SKBU",municipality:"NORD-FRON"},2645:{city:"SR-FRON",municipality:"SR-FRON"},2646:{city:"GL",municipality:"SR-FRON"},2647:{city:"SR-FRON",municipality:"SR-FRON"},2648:{city:"SR-FRON",municipality:"SR-FRON"},2649:{city:"STRE GAUSDAL",municipality:"GAUSDAL"},2651:{city:"STRE GAUSDAL",municipality:"GAUSDAL"},2652:{city:"SVINGVOLL",municipality:"GAUSDAL"},2653:{city:"VESTRE GAUSDAL",municipality:"GAUSDAL"},2654:{city:"VESTRE GAUSDAL",municipality:"GAUSDAL"},2656:{city:"FOLLEBU",municipality:"GAUSDAL"},2657:{city:"SVATSUM",municipality:"GAUSDAL"},2658:{city:"ESPEDALEN",municipality:"SR-FRON"},2659:{city:"DOMBS",municipality:"DOVRE"},2660:{city:"DOMBS",municipality:"DOVRE"},2661:{city:"HJERKINN",municipality:"DOVRE"},2662:{city:"DOVRE",municipality:"DOVRE"},2663:{city:"DOVRESKOGEN",municipality:"DOVRE"},2664:{city:"DOVRE",municipality:"DOVRE"},2665:{city:"LESJA",municipality:"LESJA"},2666:{city:"LORA",municipality:"LESJA"},2667:{city:"LESJAVERK",municipality:"LESJA"},2668:{city:"LESJASKOG",municipality:"LESJA"},2669:{city:"BJORLI",municipality:"LESJA"},2670:{city:"OTTA",municipality:"SEL"},2671:{city:"LESJA",municipality:"LESJA"},2672:{city:"SEL",municipality:"SEL"},2673:{city:"HVRINGEN",municipality:"SEL"},2674:{city:"MYSUSTER",municipality:"SEL"},2675:{city:"OTTA",municipality:"SEL"},2676:{city:"HEIDAL",municipality:"SEL"},2677:{city:"NEDRE HEIDAL",municipality:"SEL"},2678:{city:"SEL",municipality:"SEL"},2679:{city:"HEIDAL",municipality:"SEL"},2680:{city:"VG",municipality:"VG"},2681:{city:"LALM",municipality:"VG"},2682:{city:"LALM",municipality:"VG"},2683:{city:"TESSANDEN",municipality:"VG"},2684:{city:"VG",municipality:"VG"},2685:{city:"GARMO",municipality:"LOM"},2686:{city:"LOM",municipality:"LOM"},2687:{city:"BVERDALEN",municipality:"LOM"},2688:{city:"LOM",municipality:"LOM"},2690:{city:"SKJK",municipality:"SKJK"},2693:{city:"NORDBERG",municipality:"SKJK"},2694:{city:"SKJK",municipality:"SKJK"},2695:{city:"GROTLI",municipality:"SKJK"},2711:{city:"GRAN",municipality:"GRAN"},2712:{city:"BRANDBU",municipality:"GRAN"},2713:{city:"ROA",municipality:"LUNNER"},2714:{city:"JAREN",municipality:"GRAN"},2715:{city:"LUNNER",municipality:"LUNNER"},2716:{city:"HARESTUA",municipality:"LUNNER"},2717:{city:"GRUA",municipality:"LUNNER"},2718:{city:"BRANDBU",municipality:"GRAN"},2720:{city:"GRINDVOLL",municipality:"LUNNER"},2730:{city:"LUNNER",municipality:"LUNNER"},2740:{city:"ROA",municipality:"LUNNER"},2742:{city:"GRUA",municipality:"LUNNER"},2743:{city:"HARESTUA",municipality:"LUNNER"},2750:{city:"GRAN",municipality:"GRAN"},2760:{city:"BRANDBU",municipality:"GRAN"},2770:{city:"JAREN",municipality:"GRAN"},2801:{city:"GJVIK",municipality:"GJVIK"},2802:{city:"GJVIK",municipality:"GJVIK"},2803:{city:"GJVIK",municipality:"GJVIK"},2804:{city:"GJVIK",municipality:"GJVIK"},2805:{city:"GJVIK",municipality:"GJVIK"},2806:{city:"GJVIK",municipality:"GJVIK"},2807:{city:"HUNNDALEN",municipality:"GJVIK"},2808:{city:"GJVIK",municipality:"GJVIK"},2809:{city:"GJVIK",municipality:"GJVIK"},2810:{city:"GJVIK",municipality:"GJVIK"},2811:{city:"HUNNDALEN",municipality:"GJVIK"},2812:{city:"GJVIK",municipality:"GJVIK"},2815:{city:"GJVIK",municipality:"GJVIK"},2816:{city:"GJVIK",municipality:"GJVIK"},2817:{city:"GJVIK",municipality:"GJVIK"},2818:{city:"GJVIK",municipality:"GJVIK"},2819:{city:"GJVIK",municipality:"GJVIK"},2820:{city:"NORDRE TOTEN",municipality:"STRE TOTEN"},2821:{city:"GJVIK",municipality:"GJVIK"},2822:{city:"BYBRUA",municipality:"GJVIK"},2825:{city:"GJVIK",municipality:"GJVIK"},2827:{city:"HUNNDALEN",municipality:"GJVIK"},2830:{city:"RAUFOSS",municipality:"VESTRE TOTEN"},2831:{city:"RAUFOSS",municipality:"VESTRE TOTEN"},2832:{city:"BIRI",municipality:"GJVIK"},2833:{city:"RAUFOSS",municipality:"VESTRE TOTEN"},2834:{city:"RAUFOSS",municipality:"VESTRE TOTEN"},2835:{city:"RAUFOSS",municipality:"VESTRE TOTEN"},2836:{city:"BIRI",municipality:"GJVIK"},2837:{city:"BIRISTRAND",municipality:"GJVIK"},2838:{city:"SNERTINGDAL",municipality:"GJVIK"},2839:{city:"VRE SNERTINGDAL",municipality:"GJVIK"},2840:{city:"REINSVOLL",municipality:"VESTRE TOTEN"},2841:{city:"SNERTINGDAL",municipality:"GJVIK"},2843:{city:"EINA",municipality:"VESTRE TOTEN"},2844:{city:"KOLBU",municipality:"STRE TOTEN"},2845:{city:"BVERBRU",municipality:"VESTRE TOTEN"},2846:{city:"BVERBRU",municipality:"VESTRE TOTEN"},2847:{city:"KOLBU",municipality:"STRE TOTEN"},2848:{city:"SKREIA",municipality:"STRE TOTEN"},2849:{city:"KAPP",municipality:"STRE TOTEN"},2850:{city:"LENA",municipality:"STRE TOTEN"},2851:{city:"LENA",municipality:"STRE TOTEN"},2853:{city:"REINSVOLL",municipality:"VESTRE TOTEN"},2854:{city:"EINA",municipality:"VESTRE TOTEN"},2857:{city:"SKREIA",municipality:"STRE TOTEN"},2858:{city:"KAPP",municipality:"STRE TOTEN"},2860:{city:"HOV",municipality:"SNDRE LAND"},2861:{city:"LANDSBYGDA",municipality:"SNDRE LAND"},2862:{city:"FLUBERG",municipality:"SNDRE LAND"},2863:{city:"VESTSIDA",municipality:"SNDRE LAND"},2864:{city:"FALL",municipality:"SNDRE LAND"},2866:{city:"ENGER",municipality:"SNDRE LAND"},2867:{city:"HOV",municipality:"SNDRE LAND"},2870:{city:"DOKKA",municipality:"NORDRE LAND"},2879:{city:"ODNES",municipality:"SNDRE LAND"},2880:{city:"NORD-TORPA",municipality:"NORDRE LAND"},2881:{city:"AUST-TORPA",municipality:"NORDRE LAND"},2882:{city:"DOKKA",municipality:"NORDRE LAND"},2890:{city:"ETNEDAL",municipality:"ETNEDAL"},2893:{city:"ETNEDAL",municipality:"ETNEDAL"},2900:{city:"FAGERNES",municipality:"NORD-AURDAL"},2901:{city:"FAGERNES",municipality:"NORD-AURDAL"},2907:{city:"LEIRA I VALDRES",municipality:"NORD-AURDAL"},2909:{city:"AURDAL",municipality:"NORD-AURDAL"},2910:{city:"AURDAL",municipality:"NORD-AURDAL"},2917:{city:"SKRAUTVL",municipality:"NORD-AURDAL"},2918:{city:"ULNES",municipality:"NORD-AURDAL"},2920:{city:"LEIRA I VALDRES",municipality:"NORD-AURDAL"},2923:{city:"TISLEIDALEN",municipality:"NORD-AURDAL"},2929:{city:"BAGN",municipality:"SR-AURDAL"},2930:{city:"BAGN",municipality:"SR-AURDAL"},2933:{city:"REINLI",municipality:"SR-AURDAL"},2936:{city:"BEGNADALEN",municipality:"SR-AURDAL"},2937:{city:"BEGNA",municipality:"SR-AURDAL"},2939:{city:"HEGGENES",municipality:"YSTRE SLIDRE"},2940:{city:"HEGGENES",municipality:"YSTRE SLIDRE"},2943:{city:"ROGNE",municipality:"YSTRE SLIDRE"},2950:{city:"SKAMMESTEIN",municipality:"YSTRE SLIDRE"},2952:{city:"BEITO",municipality:"YSTRE SLIDRE"},2953:{city:"BEITOSTLEN",municipality:"YSTRE SLIDRE"},2954:{city:"BEITOSTLEN",municipality:"YSTRE SLIDRE"},2959:{city:"RN",municipality:"VESTRE SLIDRE"},2960:{city:"RN",municipality:"VESTRE SLIDRE"},2965:{city:"SLIDRE",municipality:"VESTRE SLIDRE"},2966:{city:"SLIDRE",municipality:"VESTRE SLIDRE"},2967:{city:"LOMEN",municipality:"VESTRE SLIDRE"},2972:{city:"RYFOSS",municipality:"VANG"},2973:{city:"RYFOSS",municipality:"VANG"},2974:{city:"VANG I VALDRES",municipality:"VANG"},2975:{city:"VANG I VALDRES",municipality:"VANG"},2977:{city:"YE",municipality:"VANG"},2985:{city:"TYINKRYSSET",municipality:"VANG"},3001:{city:"DRAMMEN",municipality:"DRAMMEN"},3002:{city:"DRAMMEN",municipality:"DRAMMEN"},3003:{city:"DRAMMEN",municipality:"DRAMMEN"},3004:{city:"DRAMMEN",municipality:"DRAMMEN"},3005:{city:"DRAMMEN",municipality:"DRAMMEN"},3006:{city:"DRAMMEN",municipality:"DRAMMEN"},3007:{city:"DRAMMEN",municipality:"DRAMMEN"},3008:{city:"DRAMMEN",municipality:"DRAMMEN"},3009:{city:"DRAMMEN",municipality:"DRAMMEN"},3010:{city:"DRAMMEN",municipality:"DRAMMEN"},3011:{city:"DRAMMEN",municipality:"DRAMMEN"},3012:{city:"DRAMMEN",municipality:"DRAMMEN"},3013:{city:"DRAMMEN",municipality:"DRAMMEN"},3014:{city:"DRAMMEN",municipality:"DRAMMEN"},3015:{city:"DRAMMEN",municipality:"DRAMMEN"},3016:{city:"DRAMMEN",municipality:"DRAMMEN"},3017:{city:"DRAMMEN",municipality:"DRAMMEN"},3018:{city:"DRAMMEN",municipality:"DRAMMEN"},3019:{city:"DRAMMEN",municipality:"DRAMMEN"},3021:{city:"DRAMMEN",municipality:"DRAMMEN"},3022:{city:"DRAMMEN",municipality:"DRAMMEN"},3023:{city:"DRAMMEN",municipality:"DRAMMEN"},3024:{city:"DRAMMEN",municipality:"DRAMMEN"},3025:{city:"DRAMMEN",municipality:"DRAMMEN"},3026:{city:"DRAMMEN",municipality:"DRAMMEN"},3027:{city:"DRAMMEN",municipality:"DRAMMEN"},3028:{city:"DRAMMEN",municipality:"DRAMMEN"},3029:{city:"DRAMMEN",municipality:"DRAMMEN"},3030:{city:"DRAMMEN",municipality:"DRAMMEN"},3031:{city:"DRAMMEN",municipality:"DRAMMEN"},3032:{city:"DRAMMEN",municipality:"DRAMMEN"},3033:{city:"DRAMMEN",municipality:"DRAMMEN"},3034:{city:"DRAMMEN",municipality:"DRAMMEN"},3035:{city:"DRAMMEN",municipality:"DRAMMEN"},3036:{city:"DRAMMEN",municipality:"DRAMMEN"},3037:{city:"DRAMMEN",municipality:"DRAMMEN"},3038:{city:"DRAMMEN",municipality:"DRAMMEN"},3039:{city:"DRAMMEN",municipality:"DRAMMEN"},3040:{city:"DRAMMEN",municipality:"DRAMMEN"},3041:{city:"DRAMMEN",municipality:"DRAMMEN"},3042:{city:"DRAMMEN",municipality:"DRAMMEN"},3043:{city:"DRAMMEN",municipality:"DRAMMEN"},3044:{city:"DRAMMEN",municipality:"DRAMMEN"},3045:{city:"DRAMMEN",municipality:"DRAMMEN"},3046:{city:"DRAMMEN",municipality:"DRAMMEN"},3047:{city:"DRAMMEN",municipality:"DRAMMEN"},3048:{city:"DRAMMEN",municipality:"DRAMMEN"},3050:{city:"MJNDALEN",municipality:"DRAMMEN"},3051:{city:"MJNDALEN",municipality:"DRAMMEN"},3053:{city:"STEINBERG",municipality:"DRAMMEN"},3054:{city:"KROKSTADELVA",municipality:"DRAMMEN"},3055:{city:"KROKSTADELVA",municipality:"DRAMMEN"},3056:{city:"SOLBERGELVA",municipality:"DRAMMEN"},3057:{city:"SOLBERGELVA",municipality:"DRAMMEN"},3058:{city:"SOLBERGMOEN",municipality:"DRAMMEN"},3060:{city:"SVELVIK",municipality:"DRAMMEN"},3061:{city:"SVELVIK",municipality:"DRAMMEN"},3063:{city:"DRAMMEN",municipality:"DRAMMEN"},3064:{city:"DRAMMEN",municipality:"DRAMMEN"},3065:{city:"DRAMMEN",municipality:"DRAMMEN"},3066:{city:"DRAMMEN",municipality:"DRAMMEN"},3070:{city:"SANDE I VESTFOLD",municipality:"HOLMESTRAND"},3071:{city:"SANDE I VESTFOLD",municipality:"HOLMESTRAND"},3072:{city:"SANDE I VESTFOLD",municipality:"HOLMESTRAND"},3073:{city:"SANDE I VESTFOLD",municipality:"HOLMESTRAND"},3074:{city:"SANDE I VESTFOLD",municipality:"HOLMESTRAND"},3075:{city:"BERGER",municipality:"DRAMMEN"},3076:{city:"SANDE I VESTFOLD",municipality:"HOLMESTRAND"},3077:{city:"SANDE I VESTFOLD",municipality:"HOLMESTRAND"},3080:{city:"HOLMESTRAND",municipality:"HOLMESTRAND"},3081:{city:"HOLMESTRAND",municipality:"HOLMESTRAND"},3082:{city:"HOLMESTRAND",municipality:"HOLMESTRAND"},3083:{city:"HOLMESTRAND",municipality:"HOLMESTRAND"},3084:{city:"HOLMESTRAND",municipality:"HOLMESTRAND"},3085:{city:"HOLMESTRAND",municipality:"HOLMESTRAND"},3086:{city:"HOLMESTRAND",municipality:"HOLMESTRAND"},3087:{city:"HOLMESTRAND",municipality:"HOLMESTRAND"},3088:{city:"HOLMESTRAND",municipality:"HOLMESTRAND"},3089:{city:"HOLMESTRAND",municipality:"HOLMESTRAND"},3090:{city:"HOF",municipality:"HOLMESTRAND"},3091:{city:"HOF",municipality:"HOLMESTRAND"},3092:{city:"SUNDBYFOSS",municipality:"HOLMESTRAND"},3095:{city:"EIDSFOSS",municipality:"HOLMESTRAND"},3101:{city:"TNSBERG",municipality:"TNSBERG"},3103:{city:"TNSBERG",municipality:"TNSBERG"},3104:{city:"TNSBERG",municipality:"TNSBERG"},3105:{city:"TNSBERG",municipality:"TNSBERG"},3106:{city:"NTTERY",municipality:"FRDER"},3107:{city:"SEM",municipality:"TNSBERG"},3108:{city:"VEAR",municipality:"TNSBERG"},3109:{city:"TNSBERG",municipality:"TNSBERG"},3110:{city:"TNSBERG",municipality:"TNSBERG"},3111:{city:"TNSBERG",municipality:"TNSBERG"},3112:{city:"TNSBERG",municipality:"TNSBERG"},3113:{city:"TNSBERG",municipality:"TNSBERG"},3114:{city:"TNSBERG",municipality:"TNSBERG"},3115:{city:"TNSBERG",municipality:"TNSBERG"},3116:{city:"TNSBERG",municipality:"TNSBERG"},3117:{city:"TNSBERG",municipality:"TNSBERG"},3118:{city:"TNSBERG",municipality:"TNSBERG"},3119:{city:"TNSBERG",municipality:"TNSBERG"},3120:{city:"NTTERY",municipality:"FRDER"},3121:{city:"NTTERY",municipality:"FRDER"},3122:{city:"TNSBERG",municipality:"TNSBERG"},3123:{city:"TNSBERG",municipality:"TNSBERG"},3124:{city:"TNSBERG",municipality:"TNSBERG"},3125:{city:"TNSBERG",municipality:"TNSBERG"},3126:{city:"TNSBERG",municipality:"TNSBERG"},3127:{city:"TNSBERG",municipality:"TNSBERG"},3128:{city:"NTTERY",municipality:"FRDER"},3129:{city:"TNSBERG",municipality:"TNSBERG"},3131:{city:"HUSYSUND",municipality:"FRDER"},3132:{city:"HUSYSUND",municipality:"FRDER"},3133:{city:"DUKEN",municipality:"FRDER"},3134:{city:"TNSBERG",municipality:"TNSBERG"},3135:{city:"TORD",municipality:"FRDER"},3137:{city:"TORD",municipality:"FRDER"},3138:{city:"SKALLESTAD",municipality:"FRDER"},3139:{city:"SKALLESTAD",municipality:"FRDER"},3140:{city:"NTTERY",municipality:"FRDER"},3141:{city:"KJPMANNSKJR",municipality:"FRDER"},3142:{city:"VESTSKOGEN",municipality:"FRDER"},3143:{city:"KJPMANNSKJR",municipality:"FRDER"},3144:{city:"VEIERLAND",municipality:"FRDER"},3145:{city:"TJME",municipality:"FRDER"},3148:{city:"HVASSER",municipality:"FRDER"},3150:{city:"TOLVSRD",municipality:"TNSBERG"},3151:{city:"TOLVSRD",municipality:"TNSBERG"},3152:{city:"TOLVSRD",municipality:"TNSBERG"},3153:{city:"TOLVSRD",municipality:"TNSBERG"},3154:{city:"TOLVSRD",municipality:"TNSBERG"},3156:{city:"MELSOMVIK",municipality:"SANDEFJORD"},3157:{city:"BARKKER",municipality:"TNSBERG"},3158:{city:"ANDEBU",municipality:"SANDEFJORD"},3159:{city:"MELSOMVIK",municipality:"SANDEFJORD"},3160:{city:"STOKKE",municipality:"SANDEFJORD"},3161:{city:"STOKKE",municipality:"SANDEFJORD"},3162:{city:"ANDEBU",municipality:"SANDEFJORD"},3163:{city:"NTTERY",municipality:"FRDER"},3164:{city:"REVETAL",municipality:"TNSBERG"},3165:{city:"TJME",municipality:"FRDER"},3166:{city:"TOLVSRD",municipality:"TNSBERG"},3167:{city:"SGRDSTRAND",municipality:"HORTEN"},3168:{city:"MELSOMVIK",municipality:"SANDEFJORD"},3170:{city:"SEM",municipality:"TNSBERG"},3171:{city:"SEM",municipality:"TNSBERG"},3172:{city:"VEAR",municipality:"TNSBERG"},3173:{city:"VEAR",municipality:"TNSBERG"},3174:{city:"REVETAL",municipality:"TNSBERG"},3175:{city:"RAMNES",municipality:"TNSBERG"},3176:{city:"UNDRUMSDAL",municipality:"TNSBERG"},3177:{city:"VLE",municipality:"TNSBERG"},3178:{city:"VLE",municipality:"TNSBERG"},3179:{city:"SGRDSTRAND",municipality:"HORTEN"},3180:{city:"NYKIRKE",municipality:"HORTEN"},3181:{city:"HORTEN",municipality:"HORTEN"},3182:{city:"HORTEN",municipality:"HORTEN"},3183:{city:"HORTEN",municipality:"HORTEN"},3184:{city:"BORRE",municipality:"HORTEN"},3185:{city:"SKOPPUM",municipality:"HORTEN"},3186:{city:"HORTEN",municipality:"HORTEN"},3187:{city:"HORTEN",municipality:"HORTEN"},3188:{city:"HORTEN",municipality:"HORTEN"},3189:{city:"HORTEN",municipality:"HORTEN"},3191:{city:"HORTEN",municipality:"HORTEN"},3192:{city:"HORTEN",municipality:"HORTEN"},3193:{city:"HORTEN",municipality:"HORTEN"},3194:{city:"HORTEN",municipality:"HORTEN"},3195:{city:"SKOPPUM",municipality:"HORTEN"},3196:{city:"HORTEN",municipality:"HORTEN"},3197:{city:"NYKIRKE",municipality:"HORTEN"},3199:{city:"BORRE",municipality:"HORTEN"},3201:{city:"SANDEFJORD",municipality:"SANDEFJORD"},3202:{city:"SANDEFJORD",municipality:"SANDEFJORD"},3203:{city:"SANDEFJORD",municipality:"SANDEFJORD"},3204:{city:"SANDEFJORD",municipality:"SANDEFJORD"},3205:{city:"SANDEFJORD",municipality:"SANDEFJORD"},3206:{city:"SANDEFJORD",municipality:"SANDEFJORD"},3207:{city:"SANDEFJORD",municipality:"SANDEFJORD"},3208:{city:"SANDEFJORD",municipality:"SANDEFJORD"},3209:{city:"SANDEFJORD",municipality:"SANDEFJORD"},3210:{city:"SANDEFJORD",municipality:"SANDEFJORD"},3211:{city:"SANDEFJORD",municipality:"SANDEFJORD"},3212:{city:"SANDEFJORD",municipality:"SANDEFJORD"},3213:{city:"SANDEFJORD",municipality:"SANDEFJORD"},3214:{city:"SANDEFJORD",municipality:"SANDEFJORD"},3215:{city:"SANDEFJORD",municipality:"SANDEFJORD"},3216:{city:"SANDEFJORD",municipality:"SANDEFJORD"},3217:{city:"SANDEFJORD",municipality:"SANDEFJORD"},3218:{city:"SANDEFJORD",municipality:"SANDEFJORD"},3219:{city:"SANDEFJORD",municipality:"SANDEFJORD"},3220:{city:"SANDEFJORD",municipality:"SANDEFJORD"},3221:{city:"SANDEFJORD",municipality:"SANDEFJORD"},3222:{city:"SANDEFJORD",municipality:"SANDEFJORD"},3223:{city:"SANDEFJORD",municipality:"SANDEFJORD"},3224:{city:"SANDEFJORD",municipality:"SANDEFJORD"},3225:{city:"SANDEFJORD",municipality:"SANDEFJORD"},3226:{city:"SANDEFJORD",municipality:"SANDEFJORD"},3227:{city:"SANDEFJORD",municipality:"SANDEFJORD"},3228:{city:"SANDEFJORD",municipality:"SANDEFJORD"},3229:{city:"SANDEFJORD",municipality:"SANDEFJORD"},3230:{city:"SANDEFJORD",municipality:"SANDEFJORD"},3231:{city:"SANDEFJORD",municipality:"SANDEFJORD"},3232:{city:"SANDEFJORD",municipality:"SANDEFJORD"},3233:{city:"SANDEFJORD",municipality:"SANDEFJORD"},3234:{city:"SANDEFJORD",municipality:"SANDEFJORD"},3235:{city:"SANDEFJORD",municipality:"SANDEFJORD"},3236:{city:"SANDEFJORD",municipality:"SANDEFJORD"},3237:{city:"SANDEFJORD",municipality:"SANDEFJORD"},3238:{city:"SANDEFJORD",municipality:"SANDEFJORD"},3239:{city:"SANDEFJORD",municipality:"SANDEFJORD"},3240:{city:"SANDEFJORD",municipality:"SANDEFJORD"},3241:{city:"SANDEFJORD",municipality:"SANDEFJORD"},3242:{city:"SANDEFJORD",municipality:"SANDEFJORD"},3243:{city:"KODAL",municipality:"SANDEFJORD"},3244:{city:"SANDEFJORD",municipality:"SANDEFJORD"},3245:{city:"KODAL",municipality:"SANDEFJORD"},3246:{city:"SANDEFJORD",municipality:"SANDEFJORD"},3247:{city:"SANDEFJORD",municipality:"SANDEFJORD"},3248:{city:"SANDEFJORD",municipality:"SANDEFJORD"},3249:{city:"SANDEFJORD",municipality:"SANDEFJORD"},3251:{city:"LARVIK",municipality:"LARVIK"},3252:{city:"LARVIK",municipality:"LARVIK"},3253:{city:"LARVIK",municipality:"LARVIK"},3254:{city:"LARVIK",municipality:"LARVIK"},3255:{city:"LARVIK",municipality:"LARVIK"},3256:{city:"LARVIK",municipality:"LARVIK"},3257:{city:"LARVIK",municipality:"LARVIK"},3258:{city:"LARVIK",municipality:"LARVIK"},3259:{city:"LARVIK",municipality:"LARVIK"},3260:{city:"LARVIK",municipality:"LARVIK"},3261:{city:"LARVIK",municipality:"LARVIK"},3262:{city:"LARVIK",municipality:"LARVIK"},3263:{city:"LARVIK",municipality:"LARVIK"},3264:{city:"LARVIK",municipality:"LARVIK"},3265:{city:"LARVIK",municipality:"LARVIK"},3267:{city:"LARVIK",municipality:"LARVIK"},3268:{city:"LARVIK",municipality:"LARVIK"},3269:{city:"LARVIK",municipality:"LARVIK"},3270:{city:"LARVIK",municipality:"LARVIK"},3271:{city:"LARVIK",municipality:"LARVIK"},3274:{city:"LARVIK",municipality:"LARVIK"},3275:{city:"SVARSTAD",municipality:"LARVIK"},3276:{city:"SVARSTAD",municipality:"LARVIK"},3277:{city:"STEINSHOLT",municipality:"LARVIK"},3280:{city:"TJODALYNG",municipality:"LARVIK"},3281:{city:"TJODALYNG",municipality:"LARVIK"},3282:{city:"KVELDE",municipality:"LARVIK"},3284:{city:"KVELDE",municipality:"LARVIK"},3285:{city:"LARVIK",municipality:"LARVIK"},3290:{city:"STAVERN",municipality:"LARVIK"},3291:{city:"STAVERN",municipality:"LARVIK"},3292:{city:"STAVERN",municipality:"LARVIK"},3294:{city:"STAVERN",municipality:"LARVIK"},3295:{city:"HELGEROA",municipality:"LARVIK"},3296:{city:"NEVLUNGHAVN",municipality:"LARVIK"},3297:{city:"HELGEROA",municipality:"LARVIK"},3300:{city:"HOKKSUND",municipality:"VRE EIKER"},3301:{city:"HOKKSUND",municipality:"VRE EIKER"},3302:{city:"HOKKSUND",municipality:"VRE EIKER"},3303:{city:"HOKKSUND",municipality:"VRE EIKER"},3320:{city:"VESTFOSSEN",municipality:"VRE EIKER"},3321:{city:"VESTFOSSEN",municipality:"VRE EIKER"},3322:{city:"FISKUM",municipality:"VRE EIKER"},3330:{city:"SKOTSELV",municipality:"VRE EIKER"},3331:{city:"SKOTSELV",municipality:"VRE EIKER"},3340:{city:"MOT",municipality:"MODUM"},3341:{city:"MOT",municipality:"MODUM"},3342:{city:"MOT",municipality:"MODUM"},3350:{city:"PRESTFOSS",municipality:"SIGDAL"},3351:{city:"PRESTFOSS",municipality:"SIGDAL"},3355:{city:"SOLUMSMOEN",municipality:"SIGDAL"},3357:{city:"EGGEDAL",municipality:"SIGDAL"},3358:{city:"NEDRE EGGEDAL",municipality:"SIGDAL"},3359:{city:"EGGEDAL",municipality:"SIGDAL"},3360:{city:"GEITHUS",municipality:"MODUM"},3361:{city:"GEITHUS",municipality:"MODUM"},3370:{city:"VIKERSUND",municipality:"MODUM"},3371:{city:"VIKERSUND",municipality:"MODUM"},3401:{city:"LIER",municipality:"LIER"},3402:{city:"LIER",municipality:"LIER"},3403:{city:"LIER",municipality:"LIER"},3404:{city:"LIER",municipality:"LIER"},3405:{city:"LIER",municipality:"LIER"},3406:{city:"TRANBY",municipality:"LIER"},3407:{city:"TRANBY",municipality:"LIER"},3408:{city:"TRANBY",municipality:"LIER"},3409:{city:"TRANBY",municipality:"LIER"},3410:{city:"SYLLING",municipality:"LIER"},3411:{city:"SYLLING",municipality:"LIER"},3412:{city:"LIERSTRANDA",municipality:"LIER"},3413:{city:"LIER",municipality:"LIER"},3414:{city:"LIERSTRANDA",municipality:"LIER"},3420:{city:"LIERSKOGEN",municipality:"LIER"},3421:{city:"LIERSKOGEN",municipality:"LIER"},3425:{city:"REISTAD",municipality:"LIER"},3426:{city:"GULLAUG",municipality:"LIER"},3427:{city:"GULLAUG",municipality:"LIER"},3428:{city:"GULLAUG",municipality:"LIER"},3430:{city:"SPIKKESTAD",municipality:"ASKER"},3431:{city:"SPIKKESTAD",municipality:"ASKER"},3440:{city:"RYKEN",municipality:"ASKER"},3441:{city:"RYKEN",municipality:"ASKER"},3442:{city:"HYGGEN",municipality:"ASKER"},3470:{city:"SLEMMESTAD",municipality:"ASKER"},3471:{city:"SLEMMESTAD",municipality:"ASKER"},3472:{city:"BDALEN",municipality:"ASKER"},3474:{city:"ROS",municipality:"ASKER"},3475:{city:"STRE",municipality:"ASKER"},3476:{city:"STRE",municipality:"ASKER"},3477:{city:"BTST",municipality:"ASKER"},3478:{city:"NRSNES",municipality:"ASKER"},3479:{city:"NRSNES",municipality:"ASKER"},3480:{city:"FILTVET",municipality:"ASKER"},3481:{city:"TOFTE",municipality:"ASKER"},3482:{city:"TOFTE",municipality:"ASKER"},3483:{city:"KANA",municipality:"ASKER"},3484:{city:"HOLMSBU",municipality:"ASKER"},3485:{city:"FILTVET",municipality:"ASKER"},3490:{city:"KLOKKARSTUA",municipality:"ASKER"},3501:{city:"HNEFOSS",municipality:"RINGERIKE"},3502:{city:"HNEFOSS",municipality:"RINGERIKE"},3503:{city:"HNEFOSS",municipality:"RINGERIKE"},3504:{city:"HNEFOSS",municipality:"RINGERIKE"},3507:{city:"HNEFOSS",municipality:"RINGERIKE"},3510:{city:"HNEFOSS",municipality:"RINGERIKE"},3511:{city:"HNEFOSS",municipality:"RINGERIKE"},3512:{city:"HNEFOSS",municipality:"RINGERIKE"},3513:{city:"HNEFOSS",municipality:"RINGERIKE"},3514:{city:"HNEFOSS",municipality:"RINGERIKE"},3515:{city:"HNEFOSS",municipality:"RINGERIKE"},3516:{city:"HNEFOSS",municipality:"RINGERIKE"},3517:{city:"HNEFOSS",municipality:"RINGERIKE"},3518:{city:"HNEFOSS",municipality:"RINGERIKE"},3519:{city:"HNEFOSS",municipality:"RINGERIKE"},3520:{city:"JEVNAKER",municipality:"JEVNAKER"},3521:{city:"JEVNAKER",municipality:"JEVNAKER"},3522:{city:"BJONEROA",municipality:"GRAN"},3523:{city:"NES I DAL",municipality:"RINGERIKE"},3524:{city:"NES I DAL",municipality:"RINGERIKE"},3525:{city:"HALLINGBY",municipality:"RINGERIKE"},3526:{city:"HALLINGBY",municipality:"RINGERIKE"},3527:{city:"BJONEROA",municipality:"GRAN"},3528:{city:"HEDALEN",municipality:"SR-AURDAL"},3529:{city:"RYSE",municipality:"HOLE"},3530:{city:"RYSE",municipality:"HOLE"},3531:{city:"KROKKLEIVA",municipality:"HOLE"},3532:{city:"TYRISTRAND",municipality:"RINGERIKE"},3533:{city:"TYRISTRAND",municipality:"RINGERIKE"},3534:{city:"SOKNA",municipality:"RINGERIKE"},3535:{city:"KRDEREN",municipality:"KRDSHERAD"},3536:{city:"NORESUND",municipality:"KRDSHERAD"},3537:{city:"KRDEREN",municipality:"KRDSHERAD"},3538:{city:"SOLLIHGDA",municipality:"HOLE"},3539:{city:"FL",municipality:"FL"},3540:{city:"NESBYEN",municipality:"NESBYEN"},3541:{city:"NESBYEN",municipality:"NESBYEN"},3542:{city:"SOKNA",municipality:"RINGERIKE"},3543:{city:"NORESUND",municipality:"KRDSHERAD"},3544:{city:"TUNHOVD",municipality:"NORE OG UVDAL"},3545:{city:"FL",municipality:"FL"},3546:{city:"KROKKLEIVA",municipality:"HOLE"},3550:{city:"GOL",municipality:"GOL"},3551:{city:"GOL",municipality:"GOL"},3560:{city:"HEMSEDAL",municipality:"HEMSEDAL"},3561:{city:"HEMSEDAL",municipality:"HEMSEDAL"},3570:{city:"L",municipality:"L"},3571:{city:"L",municipality:"L"},3575:{city:"HOL",municipality:"HOL"},3576:{city:"HOL",municipality:"HOL"},3577:{city:"HOVET",municipality:"HOL"},3579:{city:"TORPO",municipality:"L"},3580:{city:"GEILO",municipality:"HOL"},3581:{city:"GEILO",municipality:"HOL"},3588:{city:"DAGALI",municipality:"HOL"},3593:{city:"USTAOSET",municipality:"HOL"},3595:{city:"HAUGASTL",municipality:"HOL"},3601:{city:"KONGSBERG",municipality:"KONGSBERG"},3602:{city:"KONGSBERG",municipality:"KONGSBERG"},3603:{city:"KONGSBERG",municipality:"KONGSBERG"},3604:{city:"KONGSBERG",municipality:"KONGSBERG"},3605:{city:"KONGSBERG",municipality:"KONGSBERG"},3606:{city:"KONGSBERG",municipality:"KONGSBERG"},3607:{city:"KONGSBERG",municipality:"KONGSBERG"},3608:{city:"HEISTADMOEN",municipality:"KONGSBERG"},3609:{city:"KONGSBERG",municipality:"KONGSBERG"},3610:{city:"KONGSBERG",municipality:"KONGSBERG"},3611:{city:"KONGSBERG",municipality:"KONGSBERG"},3612:{city:"KONGSBERG",municipality:"KONGSBERG"},3613:{city:"KONGSBERG",municipality:"KONGSBERG"},3614:{city:"KONGSBERG",municipality:"KONGSBERG"},3615:{city:"KONGSBERG",municipality:"KONGSBERG"},3616:{city:"KONGSBERG",municipality:"KONGSBERG"},3617:{city:"KONGSBERG",municipality:"KONGSBERG"},3618:{city:"SKOLLENBORG",municipality:"KONGSBERG"},3619:{city:"SKOLLENBORG",municipality:"KONGSBERG"},3620:{city:"FLESBERG",municipality:"FLESBERG"},3621:{city:"LAMPELAND",municipality:"FLESBERG"},3622:{city:"SVENE",municipality:"FLESBERG"},3623:{city:"LAMPELAND",municipality:"FLESBERG"},3624:{city:"LYNGDAL I NUMEDAL",municipality:"FLESBERG"},3625:{city:"SKOLLENBORG",municipality:"KONGSBERG"},3626:{city:"ROLLAG",municipality:"ROLLAG"},3627:{city:"VEGGLI",municipality:"ROLLAG"},3628:{city:"VEGGLI",municipality:"ROLLAG"},3629:{city:"NORE",municipality:"NORE OG UVDAL"},3630:{city:"RDBERG",municipality:"NORE OG UVDAL"},3631:{city:"RDBERG",municipality:"NORE OG UVDAL"},3632:{city:"UVDAL",municipality:"NORE OG UVDAL"},3634:{city:"NORE",municipality:"NORE OG UVDAL"},3646:{city:"HVITTINGFOSS",municipality:"KONGSBERG"},3647:{city:"HVITTINGFOSS",municipality:"KONGSBERG"},3648:{city:"PASSEBEKK",municipality:"KONGSBERG"},3650:{city:"TINN AUSTBYGD",municipality:"TINN"},3652:{city:"HOVIN I TELEMARK",municipality:"TINN"},3656:{city:"ATR",municipality:"TINN"},3658:{city:"MILAND",municipality:"TINN"},3660:{city:"RJUKAN",municipality:"TINN"},3661:{city:"RJUKAN",municipality:"TINN"},3665:{city:"SAULAND",municipality:"HJARTDAL"},3666:{city:"ATR",municipality:"TINN"},3671:{city:"NOTODDEN",municipality:"NOTODDEN"},3672:{city:"NOTODDEN",municipality:"NOTODDEN"},3673:{city:"NOTODDEN",municipality:"NOTODDEN"},3674:{city:"NOTODDEN",municipality:"NOTODDEN"},3675:{city:"NOTODDEN",municipality:"NOTODDEN"},3676:{city:"NOTODDEN",municipality:"NOTODDEN"},3677:{city:"NOTODDEN",municipality:"NOTODDEN"},3678:{city:"NOTODDEN",municipality:"NOTODDEN"},3679:{city:"NOTODDEN",municipality:"NOTODDEN"},3680:{city:"NOTODDEN",municipality:"NOTODDEN"},3681:{city:"NOTODDEN",municipality:"NOTODDEN"},3683:{city:"NOTODDEN",municipality:"NOTODDEN"},3684:{city:"NOTODDEN",municipality:"NOTODDEN"},3690:{city:"HJARTDAL",municipality:"HJARTDAL"},3691:{city:"GRANSHERAD",municipality:"NOTODDEN"},3692:{city:"SAULAND",municipality:"HJARTDAL"},3697:{city:"TUDDAL",municipality:"HJARTDAL"},3701:{city:"SKIEN",municipality:"SKIEN"},3702:{city:"SKIEN",municipality:"SKIEN"},3703:{city:"SKIEN",municipality:"SKIEN"},3704:{city:"SKIEN",municipality:"SKIEN"},3705:{city:"SKIEN",municipality:"SKIEN"},3707:{city:"SKIEN",municipality:"SKIEN"},3710:{city:"SKIEN",municipality:"SKIEN"},3711:{city:"SKIEN",municipality:"SKIEN"},3712:{city:"SKIEN",municipality:"SKIEN"},3713:{city:"SKIEN",municipality:"SKIEN"},3714:{city:"SKIEN",municipality:"SKIEN"},3715:{city:"SKIEN",municipality:"SKIEN"},3716:{city:"SKIEN",municipality:"SKIEN"},3717:{city:"SKIEN",municipality:"SKIEN"},3718:{city:"SKIEN",municipality:"SKIEN"},3719:{city:"SKIEN",municipality:"SKIEN"},3720:{city:"SKIEN",municipality:"SKIEN"},3721:{city:"SKIEN",municipality:"SKIEN"},3722:{city:"SKIEN",municipality:"SKIEN"},3723:{city:"SKIEN",municipality:"SKIEN"},3724:{city:"SKIEN",municipality:"SKIEN"},3725:{city:"SKIEN",municipality:"SKIEN"},3726:{city:"SKIEN",municipality:"SKIEN"},3727:{city:"SKIEN",municipality:"SKIEN"},3728:{city:"SKIEN",municipality:"SKIEN"},3729:{city:"SKIEN",municipality:"SKIEN"},3730:{city:"SKIEN",municipality:"SKIEN"},3731:{city:"SKIEN",municipality:"SKIEN"},3732:{city:"SKIEN",municipality:"SKIEN"},3733:{city:"SKIEN",municipality:"SKIEN"},3734:{city:"SKIEN",municipality:"SKIEN"},3735:{city:"SKIEN",municipality:"SKIEN"},3736:{city:"SKIEN",municipality:"SKIEN"},3737:{city:"SKIEN",municipality:"SKIEN"},3738:{city:"SKIEN",municipality:"SKIEN"},3739:{city:"SKIEN",municipality:"SKIEN"},3740:{city:"SKIEN",municipality:"SKIEN"},3741:{city:"SKIEN",municipality:"SKIEN"},3742:{city:"SKIEN",municipality:"SKIEN"},3743:{city:"SKIEN",municipality:"SKIEN"},3744:{city:"SKIEN",municipality:"SKIEN"},3746:{city:"SKIEN",municipality:"SKIEN"},3747:{city:"SKIEN",municipality:"SKIEN"},3748:{city:"SILJAN",municipality:"SILJAN"},3749:{city:"SILJAN",municipality:"SILJAN"},3750:{city:"DRANGEDAL",municipality:"DRANGEDAL"},3753:{city:"TRDAL",municipality:"DRANGEDAL"},3760:{city:"NESLANDSVATN",municipality:"DRANGEDAL"},3766:{city:"SANNIDAL",municipality:"KRAGER"},3770:{city:"KRAGER",municipality:"KRAGER"},3772:{city:"KRAGER",municipality:"KRAGER"},3780:{city:"SKTY",municipality:"KRAGER"},3781:{city:"JOMFRULAND",municipality:"KRAGER"},3783:{city:"KRAGER SKJRGRD",municipality:"KRAGER"},3785:{city:"SKIEN",municipality:"SKIEN"},3786:{city:"SKIEN",municipality:"SKIEN"},3787:{city:"SKIEN",municipality:"SKIEN"},3788:{city:"STABBESTAD",municipality:"KRAGER"},3789:{city:"KRAGER",municipality:"KRAGER"},3790:{city:"HELLE",municipality:"KRAGER"},3791:{city:"KRAGER",municipality:"KRAGER"},3792:{city:"SKIEN",municipality:"SKIEN"},3793:{city:"SANNIDAL",municipality:"KRAGER"},3794:{city:"HELLE",municipality:"KRAGER"},3795:{city:"DRANGEDAL",municipality:"DRANGEDAL"},3796:{city:"SKIEN",municipality:"SKIEN"},3798:{city:"SKIEN",municipality:"SKIEN"},3799:{city:"SKIEN",municipality:"SKIEN"},3800:{city:"B I TELEMARK",municipality:"MIDT-TELEMARK"},3801:{city:"B I TELEMARK",municipality:"MIDT-TELEMARK"},3802:{city:"B I TELEMARK",municipality:"MIDT-TELEMARK"},3803:{city:"B I TELEMARK",municipality:"MIDT-TELEMARK"},3804:{city:"B I TELEMARK",municipality:"MIDT-TELEMARK"},3805:{city:"B I TELEMARK",municipality:"SELJORD"},3810:{city:"GVARV",municipality:"MIDT-TELEMARK"},3811:{city:"HRTE",municipality:"MIDT-TELEMARK"},3812:{city:"AKKERHAUGEN",municipality:"MIDT-TELEMARK"},3820:{city:"NORDAGUTU",municipality:"MIDT-TELEMARK"},3825:{city:"LUNDE",municipality:"NOME"},3830:{city:"ULEFOSS",municipality:"NOME"},3831:{city:"ULEFOSS",municipality:"NOME"},3832:{city:"LUNDE",municipality:"NOME"},3833:{city:"B I TELEMARK",municipality:"MIDT-TELEMARK"},3834:{city:"GVARV",municipality:"MIDT-TELEMARK"},3835:{city:"SELJORD",municipality:"SELJORD"},3836:{city:"KVITESEID",municipality:"KVITESEID"},3840:{city:"SELJORD",municipality:"SELJORD"},3841:{city:"FLATDAL",municipality:"SELJORD"},3844:{city:"MOTSDAL",municipality:"SELJORD"},3848:{city:"MORGEDAL",municipality:"KVITESEID"},3849:{city:"VRLIOSEN",municipality:"KVITESEID"},3850:{city:"KVITESEID",municipality:"KVITESEID"},3852:{city:"VRDAL",municipality:"KVITESEID"},3853:{city:"VRDAL",municipality:"KVITESEID"},3854:{city:"NISSEDAL",municipality:"NISSEDAL"},3855:{city:"TREUNGEN",municipality:"NISSEDAL"},3864:{city:"RAULAND",municipality:"VINJE"},3870:{city:"FYRESDAL",municipality:"FYRESDAL"},3880:{city:"DALEN",municipality:"TOKKE"},3882:{city:"MDALS VERK",municipality:"TOKKE"},3883:{city:"TREUNGEN",municipality:"NISSEDAL"},3884:{city:"RAULAND",municipality:"VINJE"},3885:{city:"FYRESDAL",municipality:"FYRESDAL"},3886:{city:"DALEN",municipality:"TOKKE"},3887:{city:"VINJE",municipality:"VINJE"},3888:{city:"EDLAND",municipality:"VINJE"},3890:{city:"VINJE",municipality:"VINJE"},3891:{city:"HYDALSMO",municipality:"TOKKE"},3893:{city:"VINJESVINGEN",municipality:"VINJE"},3895:{city:"EDLAND",municipality:"VINJE"},3901:{city:"PORSGRUNN",municipality:"PORSGRUNN"},3902:{city:"PORSGRUNN",municipality:"PORSGRUNN"},3903:{city:"PORSGRUNN",municipality:"PORSGRUNN"},3904:{city:"PORSGRUNN",municipality:"PORSGRUNN"},3905:{city:"PORSGRUNN",municipality:"PORSGRUNN"},3906:{city:"PORSGRUNN",municipality:"PORSGRUNN"},3910:{city:"PORSGRUNN",municipality:"PORSGRUNN"},3911:{city:"PORSGRUNN",municipality:"PORSGRUNN"},3912:{city:"PORSGRUNN",municipality:"PORSGRUNN"},3913:{city:"PORSGRUNN",municipality:"PORSGRUNN"},3914:{city:"PORSGRUNN",municipality:"PORSGRUNN"},3915:{city:"PORSGRUNN",municipality:"PORSGRUNN"},3916:{city:"PORSGRUNN",municipality:"PORSGRUNN"},3917:{city:"PORSGRUNN",municipality:"PORSGRUNN"},3918:{city:"PORSGRUNN",municipality:"PORSGRUNN"},3919:{city:"PORSGRUNN",municipality:"PORSGRUNN"},3920:{city:"PORSGRUNN",municipality:"PORSGRUNN"},3921:{city:"PORSGRUNN",municipality:"PORSGRUNN"},3922:{city:"PORSGRUNN",municipality:"PORSGRUNN"},3924:{city:"PORSGRUNN",municipality:"PORSGRUNN"},3925:{city:"PORSGRUNN",municipality:"PORSGRUNN"},3928:{city:"PORSGRUNN",municipality:"PORSGRUNN"},3929:{city:"PORSGRUNN",municipality:"PORSGRUNN"},3930:{city:"PORSGRUNN",municipality:"PORSGRUNN"},3931:{city:"PORSGRUNN",municipality:"PORSGRUNN"},3933:{city:"PORSGRUNN",municipality:"PORSGRUNN"},3936:{city:"PORSGRUNN",municipality:"PORSGRUNN"},3937:{city:"PORSGRUNN",municipality:"PORSGRUNN"},3939:{city:"PORSGRUNN",municipality:"PORSGRUNN"},3940:{city:"PORSGRUNN",municipality:"PORSGRUNN"},3941:{city:"PORSGRUNN",municipality:"PORSGRUNN"},3942:{city:"PORSGRUNN",municipality:"PORSGRUNN"},3943:{city:"PORSGRUNN",municipality:"PORSGRUNN"},3944:{city:"PORSGRUNN",municipality:"PORSGRUNN"},3946:{city:"PORSGRUNN",municipality:"PORSGRUNN"},3947:{city:"LANGANGEN",municipality:"PORSGRUNN"},3948:{city:"PORSGRUNN",municipality:"PORSGRUNN"},3949:{city:"PORSGRUNN",municipality:"PORSGRUNN"},3950:{city:"BREVIK",municipality:"PORSGRUNN"},3960:{city:"STATHELLE",municipality:"BAMBLE"},3961:{city:"STATHELLE",municipality:"BAMBLE"},3962:{city:"STATHELLE",municipality:"BAMBLE"},3965:{city:"HERRE",municipality:"BAMBLE"},3966:{city:"STATHELLE",municipality:"BAMBLE"},3967:{city:"STATHELLE",municipality:"BAMBLE"},3970:{city:"LANGESUND",municipality:"BAMBLE"},3991:{city:"BREVIK",municipality:"PORSGRUNN"},3993:{city:"LANGESUND",municipality:"BAMBLE"},3994:{city:"LANGESUND",municipality:"BAMBLE"},3995:{city:"STATHELLE",municipality:"BAMBLE"},3996:{city:"PORSGRUNN",municipality:"PORSGRUNN"},3997:{city:"PORSGRUNN",municipality:"PORSGRUNN"},3998:{city:"PORSGRUNN",municipality:"PORSGRUNN"},3999:{city:"HERRE",municipality:"BAMBLE"},4001:{city:"STAVANGER",municipality:"STAVANGER"},4002:{city:"STAVANGER",municipality:"STAVANGER"},4003:{city:"STAVANGER",municipality:"STAVANGER"},4004:{city:"STAVANGER",municipality:"STAVANGER"},4005:{city:"STAVANGER",municipality:"STAVANGER"},4006:{city:"STAVANGER",municipality:"STAVANGER"},4007:{city:"STAVANGER",municipality:"STAVANGER"},4008:{city:"STAVANGER",municipality:"STAVANGER"},4009:{city:"STAVANGER",municipality:"STAVANGER"},4010:{city:"STAVANGER",municipality:"STAVANGER"},4011:{city:"STAVANGER",municipality:"STAVANGER"},4012:{city:"STAVANGER",municipality:"STAVANGER"},4013:{city:"STAVANGER",municipality:"STAVANGER"},4014:{city:"STAVANGER",municipality:"STAVANGER"},4015:{city:"STAVANGER",municipality:"STAVANGER"},4016:{city:"STAVANGER",municipality:"STAVANGER"},4017:{city:"STAVANGER",municipality:"STAVANGER"},4018:{city:"STAVANGER",municipality:"STAVANGER"},4019:{city:"STAVANGER",municipality:"STAVANGER"},4020:{city:"STAVANGER",municipality:"STAVANGER"},4021:{city:"STAVANGER",municipality:"STAVANGER"},4022:{city:"STAVANGER",municipality:"STAVANGER"},4023:{city:"STAVANGER",municipality:"STAVANGER"},4024:{city:"STAVANGER",municipality:"STAVANGER"},4025:{city:"STAVANGER",municipality:"STAVANGER"},4026:{city:"STAVANGER",municipality:"STAVANGER"},4027:{city:"STAVANGER",municipality:"STAVANGER"},4028:{city:"STAVANGER",municipality:"STAVANGER"},4029:{city:"STAVANGER",municipality:"STAVANGER"},4031:{city:"STAVANGER",municipality:"STAVANGER"},4032:{city:"STAVANGER",municipality:"STAVANGER"},4033:{city:"STAVANGER",municipality:"STAVANGER"},4034:{city:"STAVANGER",municipality:"STAVANGER"},4035:{city:"STAVANGER",municipality:"STAVANGER"},4036:{city:"STAVANGER",municipality:"STAVANGER"},4041:{city:"HAFRSFJORD",municipality:"STAVANGER"},4042:{city:"HAFRSFJORD",municipality:"STAVANGER"},4043:{city:"HAFRSFJORD",municipality:"STAVANGER"},4044:{city:"HAFRSFJORD",municipality:"STAVANGER"},4045:{city:"HAFRSFJORD",municipality:"STAVANGER"},4046:{city:"HAFRSFJORD",municipality:"STAVANGER"},4047:{city:"HAFRSFJORD",municipality:"STAVANGER"},4048:{city:"HAFRSFJORD",municipality:"STAVANGER"},4049:{city:"HAFRSFJORD",municipality:"STAVANGER"},4050:{city:"SOLA",municipality:"SOLA"},4051:{city:"SOLA",municipality:"SOLA"},4052:{city:"RYNEBERG",municipality:"SOLA"},4053:{city:"RGE",municipality:"SOLA"},4054:{city:"TJELTA",municipality:"SOLA"},4055:{city:"SOLA",municipality:"SOLA"},4056:{city:"TANANGER",municipality:"SOLA"},4057:{city:"TANANGER",municipality:"SOLA"},4058:{city:"TANANGER",municipality:"SOLA"},4059:{city:"RYNEBERG",municipality:"SOLA"},4063:{city:"TJELTA",municipality:"SOLA"},4068:{city:"STAVANGER",municipality:"STAVANGER"},4070:{city:"RANDABERG",municipality:"RANDABERG"},4071:{city:"RANDABERG",municipality:"RANDABERG"},4072:{city:"RANDABERG",municipality:"RANDABERG"},4073:{city:"RANDABERG",municipality:"RANDABERG"},4076:{city:"VASSY",municipality:"STAVANGER"},4077:{city:"HUNDVG",municipality:"STAVANGER"},4078:{city:"STAVANGER",municipality:"STAVANGER"},4079:{city:"STAVANGER",municipality:"STAVANGER"},4081:{city:"STAVANGER",municipality:"STAVANGER"},4082:{city:"STAVANGER",municipality:"STAVANGER"},4083:{city:"HUNDVG",municipality:"STAVANGER"},4084:{city:"STAVANGER",municipality:"STAVANGER"},4085:{city:"HUNDVG",municipality:"STAVANGER"},4086:{city:"HUNDVG",municipality:"STAVANGER"},4087:{city:"STAVANGER",municipality:"STAVANGER"},4088:{city:"STAVANGER",municipality:"STAVANGER"},4089:{city:"HAFRSFJORD",municipality:"STAVANGER"},4090:{city:"HAFRSFJORD",municipality:"STAVANGER"},4091:{city:"HAFRSFJORD",municipality:"STAVANGER"},4092:{city:"STAVANGER",municipality:"STAVANGER"},4093:{city:"STAVANGER",municipality:"STAVANGER"},4094:{city:"STAVANGER",municipality:"STAVANGER"},4095:{city:"STAVANGER",municipality:"STAVANGER"},4096:{city:"RANDABERG",municipality:"RANDABERG"},4097:{city:"SOLA",municipality:"SOLA"},4098:{city:"TANANGER",municipality:"SOLA"},4099:{city:"STAVANGER",municipality:"STAVANGER"},4100:{city:"JRPELAND",municipality:"STRAND"},4102:{city:"IDSE",municipality:"STRAND"},4103:{city:"JRPELAND",municipality:"STRAND"},4104:{city:"JRPELAND",municipality:"STRAND"},4105:{city:"JRPELAND",municipality:"STRAND"},4110:{city:"FORSAND",municipality:"SANDNES"},4119:{city:"FORSAND",municipality:"SANDNES"},4120:{city:"TAU",municipality:"STRAND"},4121:{city:"TAU",municipality:"STRAND"},4123:{city:"SR-HIDLE",municipality:"STRAND"},4124:{city:"TAU",municipality:"STRAND"},4126:{city:"JRPELAND",municipality:"STRAND"},4127:{city:"LYSEBOTN",municipality:"SANDNES"},4128:{city:"FLYRLI",municipality:"SANDNES"},4129:{city:"SONGESAND",municipality:"SANDNES"},4130:{city:"HJELMELAND",municipality:"HJELMELAND"},4134:{city:"JSENFJORDEN",municipality:"HJELMELAND"},4137:{city:"RDAL I RYFYLKE",municipality:"HJELMELAND"},4139:{city:"FISTER",municipality:"HJELMELAND"},4146:{city:"SKIFTUN",municipality:"HJELMELAND"},4148:{city:"HJELMELAND",municipality:"HJELMELAND"},4150:{city:"RENNESY",municipality:"STAVANGER"},4152:{city:"VESTRE MY",municipality:"STAVANGER"},4153:{city:"BRIMSE",municipality:"STAVANGER"},4154:{city:"AUSTRE MY",municipality:"STAVANGER"},4156:{city:"MOSTERY",municipality:"STAVANGER"},4158:{city:"BRU",municipality:"STAVANGER"},4159:{city:"RENNESY",municipality:"STAVANGER"},4160:{city:"FINNY",municipality:"STAVANGER"},4161:{city:"FINNY",municipality:"STAVANGER"},4163:{city:"TALGJE",municipality:"STAVANGER"},4164:{city:"FOGN",municipality:"STAVANGER"},4167:{city:"HELGY I RYFYLKE",municipality:"HJELMELAND"},4168:{city:"BYRE",municipality:"STAVANGER"},4169:{city:"SRBOKN",municipality:"STAVANGER"},4170:{city:"SJERNARY",municipality:"STAVANGER"},4173:{city:"NORD-HIDLE",municipality:"STAVANGER"},4174:{city:"SJERNARY",municipality:"STAVANGER"},4180:{city:"KVITSY",municipality:"KVITSY"},4181:{city:"KVITSY",municipality:"KVITSY"},4182:{city:"SKARTVEIT",municipality:"STAVANGER"},4187:{city:"OMBO",municipality:"STAVANGER"},4198:{city:"FOLDY",municipality:"SULDAL"},4200:{city:"SAUDA",municipality:"SAUDA"},4201:{city:"SAUDA",municipality:"SAUDA"},4208:{city:"SAUDASJEN",municipality:"SAUDA"},4209:{city:"VANVIK",municipality:"SULDAL"},4230:{city:"SAND",municipality:"SULDAL"},4233:{city:"ERFJORD",municipality:"SULDAL"},4234:{city:"JELSA",municipality:"SULDAL"},4235:{city:"HEBNES",municipality:"SULDAL"},4237:{city:"SULDALSOSEN",municipality:"SULDAL"},4239:{city:"SAND",municipality:"SULDAL"},4240:{city:"SULDALSOSEN",municipality:"SULDAL"},4244:{city:"NESFLATEN",municipality:"SULDAL"},4250:{city:"KOPERVIK",municipality:"KARMY"},4260:{city:"TORVASTAD",municipality:"KARMY"},4262:{city:"AVALDSNES",municipality:"KARMY"},4264:{city:"KVALAVG",municipality:"KARMY"},4265:{city:"HVIK",municipality:"KARMY"},4270:{city:"KREHAMN",municipality:"KARMY"},4272:{city:"SANDVE",municipality:"KARMY"},4274:{city:"STOL",municipality:"KARMY"},4275:{city:"SVELANDSVIK",municipality:"KARMY"},4276:{city:"VEAVGEN",municipality:"KARMY"},4280:{city:"SKUDENESHAVN",municipality:"KARMY"},4291:{city:"KOPERVIK",municipality:"KARMY"},4294:{city:"KOPERVIK",municipality:"KARMY"},4295:{city:"VEAVGEN",municipality:"KARMY"},4296:{city:"KREHAMN",municipality:"KARMY"},4297:{city:"SKUDENESHAVN",municipality:"KARMY"},4298:{city:"TORVASTAD",municipality:"KARMY"},4299:{city:"AVALDSNES",municipality:"KARMY"},4301:{city:"SANDNES",municipality:"SANDNES"},4302:{city:"SANDNES",municipality:"SANDNES"},4306:{city:"SANDNES",municipality:"SANDNES"},4307:{city:"SANDNES",municipality:"SANDNES"},4308:{city:"SANDNES",municipality:"SANDNES"},4309:{city:"SANDNES",municipality:"SANDNES"},4310:{city:"HOMMERSK",municipality:"SANDNES"},4311:{city:"HOMMERSK",municipality:"SANDNES"},4312:{city:"SANDNES",municipality:"SANDNES"},4313:{city:"SANDNES",municipality:"SANDNES"},4314:{city:"SANDNES",municipality:"SANDNES"},4315:{city:"SANDNES",municipality:"SANDNES"},4316:{city:"SANDNES",municipality:"SANDNES"},4317:{city:"SANDNES",municipality:"SANDNES"},4318:{city:"SANDNES",municipality:"SANDNES"},4319:{city:"SANDNES",municipality:"SANDNES"},4320:{city:"SANDNES",municipality:"SANDNES"},4321:{city:"SANDNES",municipality:"SANDNES"},4322:{city:"SANDNES",municipality:"SANDNES"},4323:{city:"SANDNES",municipality:"SANDNES"},4324:{city:"SANDNES",municipality:"SANDNES"},4325:{city:"SANDNES",municipality:"SANDNES"},4326:{city:"SANDNES",municipality:"SANDNES"},4327:{city:"SANDNES",municipality:"SANDNES"},4328:{city:"SANDNES",municipality:"SANDNES"},4329:{city:"SANDNES",municipality:"SANDNES"},4330:{city:"LGRD",municipality:"GJESDAL"},4331:{city:"LGRD",municipality:"GJESDAL"},4332:{city:"FIGGJO",municipality:"SANDNES"},4333:{city:"OLTEDAL",municipality:"GJESDAL"},4334:{city:"LGRD",municipality:"GJESDAL"},4335:{city:"DIRDAL",municipality:"GJESDAL"},4336:{city:"SANDNES",municipality:"SANDNES"},4337:{city:"SANDNES",municipality:"SANDNES"},4338:{city:"SANDNES",municipality:"SANDNES"},4339:{city:"LGRD",municipality:"GJESDAL"},4340:{city:"BRYNE",municipality:"TIME"},4341:{city:"BRYNE",municipality:"KLEPP"},4342:{city:"UNDHEIM",municipality:"TIME"},4343:{city:"ORRE",municipality:"KLEPP"},4344:{city:"BRYNE",municipality:"TIME"},4345:{city:"BRYNE",municipality:"TIME"},4346:{city:"BRYNE",municipality:"TIME"},4347:{city:"LYE",municipality:"TIME"},4348:{city:"LYE",municipality:"TIME"},4349:{city:"BRYNE",municipality:"TIME"},4350:{city:"KLEPPE",municipality:"KLEPP"},4351:{city:"KLEPPE",municipality:"KLEPP"},4352:{city:"KLEPPE",municipality:"KLEPP"},4353:{city:"KLEPP STASJON",municipality:"KLEPP"},4354:{city:"VOLL",municipality:"KLEPP"},4355:{city:"KVERNALAND",municipality:"TIME"},4356:{city:"KVERNALAND",municipality:"TIME"},4357:{city:"KLEPP STASJON",municipality:"KLEPP"},4358:{city:"KLEPPE",municipality:"KLEPP"},4360:{city:"VARHAUG",municipality:"H"},4361:{city:"SIREVG",municipality:"H"},4362:{city:"VIGRESTAD",municipality:"H"},4363:{city:"BRUSAND",municipality:"H"},4364:{city:"SIREVG",municipality:"H"},4365:{city:"NRB",municipality:"H"},4367:{city:"NRB",municipality:"H"},4368:{city:"VARHAUG",municipality:"H"},4369:{city:"VIGRESTAD",municipality:"H"},4370:{city:"EGERSUND",municipality:"EIGERSUND"},4371:{city:"EGERSUND",municipality:"EIGERSUND"},4372:{city:"EGERSUND",municipality:"EIGERSUND"},4373:{city:"EGERSUND",municipality:"EIGERSUND"},4374:{city:"EGERSUND",municipality:"EIGERSUND"},4375:{city:"HELLVIK",municipality:"EIGERSUND"},4376:{city:"HELLELAND",municipality:"EIGERSUND"},4378:{city:"EGERSUND",municipality:"EIGERSUND"},4379:{city:"EGERSUND",municipality:"EIGERSUND"},4380:{city:"HAUGE I DALANE",municipality:"SOKNDAL"},4381:{city:"HAUGE I DALANE",municipality:"SOKNDAL"},4384:{city:"VIKES",municipality:"BJERKREIM"},4385:{city:"HELLELAND",municipality:"EIGERSUND"},4387:{city:"BJERKREIM",municipality:"BJERKREIM"},4389:{city:"VIKES",municipality:"BJERKREIM"},4390:{city:"OLTEDAL",municipality:"GJESDAL"},4391:{city:"SANDNES",municipality:"SANDNES"},4392:{city:"SANDNES",municipality:"SANDNES"},4393:{city:"SANDNES",municipality:"SANDNES"},4394:{city:"SANDNES",municipality:"SANDNES"},4395:{city:"HOMMERSK",municipality:"SANDNES"},4396:{city:"SANDNES",municipality:"SANDNES"},4397:{city:"SANDNES",municipality:"SANDNES"},4398:{city:"SANDNES",municipality:"SANDNES"},4399:{city:"SANDNES",municipality:"SANDNES"},4400:{city:"FLEKKEFJORD",municipality:"FLEKKEFJORD"},4401:{city:"FLEKKEFJORD",municipality:"FLEKKEFJORD"},4402:{city:"FLEKKEFJORD",municipality:"FLEKKEFJORD"},4403:{city:"FLEKKEFJORD",municipality:"FLEKKEFJORD"},4404:{city:"FLEKKEFJORD",municipality:"FLEKKEFJORD"},4405:{city:"FLEKKEFJORD",municipality:"FLEKKEFJORD"},4406:{city:"FLEKKEFJORD",municipality:"FLEKKEFJORD"},4407:{city:"FLEKKEFJORD",municipality:"FLEKKEFJORD"},4420:{city:"NA-SIRA",municipality:"FLEKKEFJORD"},4432:{city:"HIDRASUND",municipality:"FLEKKEFJORD"},4434:{city:"ANDABELY",municipality:"FLEKKEFJORD"},4436:{city:"GYLAND",municipality:"FLEKKEFJORD"},4438:{city:"SIRA",municipality:"FLEKKEFJORD"},4439:{city:"SIRA",municipality:"FLEKKEFJORD"},4440:{city:"TONSTAD",municipality:"SIRDAL"},4441:{city:"TONSTAD",municipality:"SIRDAL"},4443:{city:"TJRHOM",municipality:"SIRDAL"},4460:{city:"MOI",municipality:"LUND"},4462:{city:"HOVSHERAD",municipality:"LUND"},4463:{city:"UALAND",municipality:"LUND"},4465:{city:"MOI",municipality:"LUND"},4473:{city:"KVINLOG",municipality:"KVINESDAL"},4480:{city:"KVINESDAL",municipality:"KVINESDAL"},4484:{city:"YESTRANDA",municipality:"KVINESDAL"},4485:{city:"FEDA",municipality:"KVINESDAL"},4486:{city:"FEDA",municipality:"KVINESDAL"},4490:{city:"KVINESDAL",municipality:"KVINESDAL"},4491:{city:"KVINESDAL",municipality:"KVINESDAL"},4492:{city:"KVINESDAL",municipality:"KVINESDAL"},4501:{city:"MANDAL",municipality:"LINDESNES"},4502:{city:"MANDAL",municipality:"LINDESNES"},4503:{city:"MANDAL",municipality:"LINDESNES"},4504:{city:"MANDAL",municipality:"LINDESNES"},4507:{city:"MANDAL",municipality:"LINDESNES"},4508:{city:"MANDAL",municipality:"LINDESNES"},4509:{city:"MANDAL",municipality:"LINDESNES"},4513:{city:"MANDAL",municipality:"LINDESNES"},4514:{city:"MANDAL",municipality:"LINDESNES"},4515:{city:"MANDAL",municipality:"LINDESNES"},4516:{city:"MANDAL",municipality:"LINDESNES"},4517:{city:"MANDAL",municipality:"LINDESNES"},4519:{city:"HOLUM",municipality:"LINDESNES"},4520:{city:"LINDESNES",municipality:"LINDESNES"},4521:{city:"LINDESNES",municipality:"LINDESNES"},4522:{city:"LINDESNES",municipality:"LINDESNES"},4523:{city:"LINDESNES",municipality:"LINDESNES"},4524:{city:"LINDESNES",municipality:"LINDESNES"},4525:{city:"KONSMO",municipality:"LYNGDAL"},4526:{city:"KONSMO",municipality:"LYNGDAL"},4528:{city:"KOLLUNGTVEIT",municipality:"LYNGDAL"},4529:{city:"BYREMO",municipality:"LYNGDAL"},4532:{city:"YSLEB",municipality:"LINDESNES"},4534:{city:"MARNARDAL",municipality:"LINDESNES"},4535:{city:"MARNARDAL",municipality:"LINDESNES"},4536:{city:"BJELLAND",municipality:"LINDESNES"},4540:{city:"SERAL",municipality:"SERAL"},4541:{city:"SERAL",municipality:"SERAL"},4544:{city:"FOSSDAL",municipality:"SERAL"},4550:{city:"FARSUND",municipality:"FARSUND"},4551:{city:"FARSUND",municipality:"FARSUND"},4552:{city:"FARSUND",municipality:"FARSUND"},4553:{city:"FARSUND",municipality:"FARSUND"},4554:{city:"FARSUND",municipality:"FARSUND"},4557:{city:"VANSE",municipality:"FARSUND"},4558:{city:"VANSE",municipality:"FARSUND"},4560:{city:"VANSE",municipality:"FARSUND"},4563:{city:"BORHAUG",municipality:"FARSUND"},4575:{city:"LYNGDAL",municipality:"LYNGDAL"},4576:{city:"LYNGDAL",municipality:"LYNGDAL"},4577:{city:"LYNGDAL",municipality:"LYNGDAL"},4579:{city:"LYNGDAL",municipality:"LYNGDAL"},4580:{city:"LYNGDAL",municipality:"LYNGDAL"},4586:{city:"KORSHAMN",municipality:"LYNGDAL"},4588:{city:"KVS",municipality:"LYNGDAL"},4590:{city:"SNARTEMO",municipality:"HGEBOSTAD"},4595:{city:"TINGVATN",municipality:"HGEBOSTAD"},4596:{city:"EIKEN",municipality:"HGEBOSTAD"},4597:{city:"EIKEN",municipality:"HGEBOSTAD"},4604:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4605:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4606:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4608:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4609:{city:"KARDEMOMME BY",municipality:"KRISTIANSAND"},4610:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4611:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4612:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4613:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4614:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4615:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4616:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4617:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4618:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4619:{city:"MOSBY",municipality:"KRISTIANSAND"},4620:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4621:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4622:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4623:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4624:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4625:{city:"FLEKKERY",municipality:"KRISTIANSAND"},4626:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4628:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4629:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4630:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4631:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4632:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4633:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4634:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4635:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4636:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4637:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4638:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4639:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4640:{city:"SGNE",municipality:"KRISTIANSAND"},4641:{city:"SGNE",municipality:"KRISTIANSAND"},4642:{city:"SGNE",municipality:"KRISTIANSAND"},4643:{city:"SGNE",municipality:"KRISTIANSAND"},4644:{city:"SGNE",municipality:"KRISTIANSAND"},4645:{city:"NODELAND",municipality:"KRISTIANSAND"},4646:{city:"FINSLAND",municipality:"KRISTIANSAND"},4647:{city:"BRENNSEN",municipality:"KRISTIANSAND"},4649:{city:"FINSLAND",municipality:"KRISTIANSAND"},4656:{city:"HAMRESANDEN",municipality:"KRISTIANSAND"},4657:{city:"KJEVIK",municipality:"KRISTIANSAND"},4658:{city:"TVEIT",municipality:"KRISTIANSAND"},4661:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4662:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4663:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4664:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4665:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4666:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4670:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4671:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4672:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4673:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4674:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4675:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4676:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4677:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4678:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4679:{city:"FLEKKERY",municipality:"KRISTIANSAND"},4681:{city:"SGNE",municipality:"KRISTIANSAND"},4682:{city:"SGNE",municipality:"KRISTIANSAND"},4683:{city:"SGNE",municipality:"KRISTIANSAND"},4684:{city:"BRENNSEN",municipality:"KRISTIANSAND"},4685:{city:"NODELAND",municipality:"KRISTIANSAND"},4686:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4687:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4688:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4689:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4691:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4693:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4694:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4695:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4696:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4697:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4698:{city:"KRISTIANSAND S",municipality:"KRISTIANSAND"},4699:{city:"TVEIT",municipality:"KRISTIANSAND"},4700:{city:"VENNESLA",municipality:"VENNESLA"},4701:{city:"VENNESLA",municipality:"VENNESLA"},4702:{city:"VENNESLA",municipality:"VENNESLA"},4703:{city:"VENNESLA",municipality:"VENNESLA"},4705:{city:"VREB",municipality:"VENNESLA"},4706:{city:"VENNESLA",municipality:"VENNESLA"},4707:{city:"VENNESLA",municipality:"VENNESLA"},4708:{city:"VENNESLA",municipality:"VENNESLA"},4715:{city:"VREB",municipality:"VENNESLA"},4720:{city:"HGELAND",municipality:"VENNESLA"},4721:{city:"HGELAND",municipality:"VENNESLA"},4724:{city:"IVELAND",municipality:"IVELAND"},4725:{city:"IVELAND",municipality:"IVELAND"},4730:{city:"VATNESTRM",municipality:"IVELAND"},4733:{city:"EVJE",municipality:"EVJE OG HORNNES"},4734:{city:"EVJE",municipality:"EVJE OG HORNNES"},4735:{city:"EVJE",municipality:"EVJE OG HORNNES"},4737:{city:"HORNNES",municipality:"EVJE OG HORNNES"},4741:{city:"BYGLANDSFJORD",municipality:"BYGLAND"},4742:{city:"GRENDI",municipality:"BYGLAND"},4744:{city:"BYGLAND",municipality:"BYGLAND"},4745:{city:"BYGLAND",municipality:"BYGLAND"},4746:{city:"VALLE",municipality:"VALLE"},4747:{city:"VALLE",municipality:"VALLE"},4748:{city:"RYSSTAD",municipality:"VALLE"},4749:{city:"RYSSTAD",municipality:"VALLE"},4754:{city:"BYKLE",municipality:"BYKLE"},4755:{city:"HOVDEN I SETESDAL",municipality:"BYKLE"},4756:{city:"HOVDEN I SETESDAL",municipality:"BYKLE"},4760:{city:"BIRKELAND",municipality:"BIRKENES"},4766:{city:"HEREFOSS",municipality:"BIRKENES"},4768:{city:"ENGESLAND",municipality:"BIRKENES"},4770:{city:"HVG",municipality:"LILLESAND"},4780:{city:"BREKKEST",municipality:"LILLESAND"},4790:{city:"LILLESAND",municipality:"LILLESAND"},4791:{city:"LILLESAND",municipality:"LILLESAND"},4792:{city:"LILLESAND",municipality:"LILLESAND"},4793:{city:"HVG",municipality:"LILLESAND"},4794:{city:"LILLESAND",municipality:"LILLESAND"},4795:{city:"BIRKELAND",municipality:"BIRKENES"},4801:{city:"ARENDAL",municipality:"ARENDAL"},4802:{city:"ARENDAL",municipality:"ARENDAL"},4803:{city:"ARENDAL",municipality:"ARENDAL"},4804:{city:"ARENDAL",municipality:"ARENDAL"},4808:{city:"ARENDAL",municipality:"ARENDAL"},4809:{city:"ARENDAL",municipality:"ARENDAL"},4810:{city:"EYDEHAVN",municipality:"ARENDAL"},4812:{city:"KONGSHAVN",municipality:"ARENDAL"},4815:{city:"SALTRD",municipality:"ARENDAL"},4816:{city:"KOLBJRNSVIK",municipality:"ARENDAL"},4817:{city:"HIS",municipality:"ARENDAL"},4818:{city:"FRVIK",municipality:"ARENDAL"},4820:{city:"FROLAND",municipality:"FROLAND"},4821:{city:"RYKENE",municipality:"ARENDAL"},4822:{city:"RYKENE",municipality:"ARENDAL"},4823:{city:"NEDENES",municipality:"ARENDAL"},4824:{city:"BJORBEKK",municipality:"ARENDAL"},4825:{city:"ARENDAL",municipality:"ARENDAL"},4827:{city:"FROLANDS VERK",municipality:"FROLAND"},4828:{city:"MJVATN",municipality:"FROLAND"},4830:{city:"HYNNEKLEIV",municipality:"FROLAND"},4832:{city:"MYKLAND",municipality:"FROLAND"},4834:{city:"RISDAL",municipality:"FROLAND"},4836:{city:"ARENDAL",municipality:"ARENDAL"},4838:{city:"ARENDAL",municipality:"ARENDAL"},4839:{city:"ARENDAL",municipality:"ARENDAL"},4841:{city:"ARENDAL",municipality:"ARENDAL"},4842:{city:"ARENDAL",municipality:"ARENDAL"},4843:{city:"ARENDAL",municipality:"ARENDAL"},4844:{city:"ARENDAL",municipality:"ARENDAL"},4846:{city:"ARENDAL",municipality:"ARENDAL"},4847:{city:"ARENDAL",municipality:"ARENDAL"},4848:{city:"ARENDAL",municipality:"ARENDAL"},4849:{city:"ARENDAL",municipality:"ARENDAL"},4851:{city:"SALTRD",municipality:"ARENDAL"},4852:{city:"FRVIK",municipality:"ARENDAL"},4853:{city:"HIS",municipality:"ARENDAL"},4854:{city:"NEDENES",municipality:"ARENDAL"},4855:{city:"FROLAND",municipality:"FROLAND"},4856:{city:"ARENDAL",municipality:"ARENDAL"},4857:{city:"ARENDAL",municipality:"ARENDAL"},4858:{city:"ARENDAL",municipality:"ARENDAL"},4859:{city:"ARENDAL",municipality:"ARENDAL"},4862:{city:"EYDEHAVN",municipality:"ARENDAL"},4863:{city:"NELAUG",municipality:"MLI"},4864:{city:"MLI",municipality:"MLI"},4865:{city:"MLI",municipality:"MLI"},4868:{city:"SELSVATN",municipality:"MLI"},4869:{city:"DLEMO",municipality:"MLI"},4870:{city:"FEVIK",municipality:"GRIMSTAD"},4876:{city:"GRIMSTAD",municipality:"GRIMSTAD"},4877:{city:"GRIMSTAD",municipality:"GRIMSTAD"},4878:{city:"GRIMSTAD",municipality:"GRIMSTAD"},4879:{city:"GRIMSTAD",municipality:"GRIMSTAD"},4884:{city:"GRIMSTAD",municipality:"GRIMSTAD"},4885:{city:"GRIMSTAD",municipality:"GRIMSTAD"},4886:{city:"GRIMSTAD",municipality:"GRIMSTAD"},4887:{city:"GRIMSTAD",municipality:"GRIMSTAD"},4888:{city:"HOMBORSUND",municipality:"GRIMSTAD"},4889:{city:"FEVIK",municipality:"GRIMSTAD"},4891:{city:"GRIMSTAD",municipality:"GRIMSTAD"},4892:{city:"GRIMSTAD",municipality:"GRIMSTAD"},4893:{city:"GRIMSTAD",municipality:"GRIMSTAD"},4894:{city:"GRIMSTAD",municipality:"GRIMSTAD"},4896:{city:"GRIMSTAD",municipality:"GRIMSTAD"},4898:{city:"GRIMSTAD",municipality:"GRIMSTAD"},4900:{city:"TVEDESTRAND",municipality:"TVEDESTRAND"},4901:{city:"TVEDESTRAND",municipality:"TVEDESTRAND"},4902:{city:"TVEDESTRAND",municipality:"TVEDESTRAND"},4903:{city:"TVEDESTRAND",municipality:"TVEDESTRAND"},4904:{city:"TVEDESTRAND",municipality:"TVEDESTRAND"},4905:{city:"TVEDESTRAND",municipality:"TVEDESTRAND"},4909:{city:"SONGE",municipality:"TVEDESTRAND"},4910:{city:"LYNGR",municipality:"TVEDESTRAND"},4912:{city:"GJEVING",municipality:"TVEDESTRAND"},4915:{city:"VESTRE SANDYA",municipality:"TVEDESTRAND"},4916:{city:"BORY",municipality:"TVEDESTRAND"},4920:{city:"STAUB",municipality:"ARENDAL"},4921:{city:"STAUB",municipality:"ARENDAL"},4934:{city:"NES VERK",municipality:"TVEDESTRAND"},4950:{city:"RISR",municipality:"RISR"},4951:{city:"RISR",municipality:"RISR"},4952:{city:"RISR",municipality:"RISR"},4953:{city:"RISR",municipality:"RISR"},4955:{city:"RISR",municipality:"RISR"},4956:{city:"RISR",municipality:"RISR"},4957:{city:"RISR",municipality:"RISR"},4971:{city:"SUNDEBRU",municipality:"GJERSTAD"},4972:{city:"GJERSTAD",municipality:"GJERSTAD"},4973:{city:"VEGRSHEI",municipality:"VEGRSHEI"},4974:{city:"SNDELED",municipality:"RISR"},4980:{city:"GJERSTAD",municipality:"GJERSTAD"},4985:{city:"VEGRSHEI",municipality:"VEGRSHEI"},4990:{city:"SNDELED",municipality:"RISR"},4993:{city:"SUNDEBRU",municipality:"GJERSTAD"},4994:{city:"AKLAND",municipality:"RISR"},5003:{city:"BERGEN",municipality:"BERGEN"},5004:{city:"BERGEN",municipality:"BERGEN"},5005:{city:"BERGEN",municipality:"BERGEN"},5006:{city:"BERGEN",municipality:"BERGEN"},5007:{city:"BERGEN",municipality:"BERGEN"},5008:{city:"BERGEN",municipality:"BERGEN"},5009:{city:"BERGEN",municipality:"BERGEN"},5010:{city:"BERGEN",municipality:"BERGEN"},5011:{city:"BERGEN",municipality:"BERGEN"},5012:{city:"BERGEN",municipality:"BERGEN"},5013:{city:"BERGEN",municipality:"BERGEN"},5014:{city:"BERGEN",municipality:"BERGEN"},5015:{city:"BERGEN",municipality:"BERGEN"},5016:{city:"BERGEN",municipality:"BERGEN"},5017:{city:"BERGEN",municipality:"BERGEN"},5018:{city:"BERGEN",municipality:"BERGEN"},5019:{city:"BERGEN",municipality:"BERGEN"},5020:{city:"BERGEN",municipality:"BERGEN"},5021:{city:"BERGEN",municipality:"BERGEN"},5022:{city:"BERGEN",municipality:"BERGEN"},5031:{city:"BERGEN",municipality:"BERGEN"},5032:{city:"BERGEN",municipality:"BERGEN"},5033:{city:"BERGEN",municipality:"BERGEN"},5034:{city:"BERGEN",municipality:"BERGEN"},5035:{city:"BERGEN",municipality:"BERGEN"},5036:{city:"BERGEN",municipality:"BERGEN"},5037:{city:"BERGEN",municipality:"BERGEN"},5038:{city:"BERGEN",municipality:"BERGEN"},5039:{city:"BERGEN",municipality:"BERGEN"},5041:{city:"BERGEN",municipality:"BERGEN"},5042:{city:"BERGEN",municipality:"BERGEN"},5043:{city:"BERGEN",municipality:"BERGEN"},5045:{city:"BERGEN",municipality:"BERGEN"},5052:{city:"BERGEN",municipality:"BERGEN"},5053:{city:"BERGEN",municipality:"BERGEN"},5054:{city:"BERGEN",municipality:"BERGEN"},5055:{city:"BERGEN",municipality:"BERGEN"},5056:{city:"BERGEN",municipality:"BERGEN"},5057:{city:"BERGEN",municipality:"BERGEN"},5058:{city:"BERGEN",municipality:"BERGEN"},5059:{city:"BERGEN",municipality:"BERGEN"},5063:{city:"BERGEN",municipality:"BERGEN"},5067:{city:"BERGEN",municipality:"BERGEN"},5068:{city:"BERGEN",municipality:"BERGEN"},5072:{city:"BERGEN",municipality:"BERGEN"},5073:{city:"BERGEN",municipality:"BERGEN"},5075:{city:"BERGEN",municipality:"BERGEN"},5081:{city:"BERGEN",municipality:"BERGEN"},5082:{city:"BERGEN",municipality:"BERGEN"},5089:{city:"BERGEN",municipality:"BERGEN"},5093:{city:"BERGEN",municipality:"BERGEN"},5094:{city:"BERGEN",municipality:"BERGEN"},5096:{city:"BERGEN",municipality:"BERGEN"},5097:{city:"BERGEN",municipality:"BERGEN"},5098:{city:"BERGEN",municipality:"BERGEN"},5099:{city:"BERGEN",municipality:"BERGEN"},5101:{city:"EIDSVGNESET",municipality:"BERGEN"},5104:{city:"EIDSVG I SANE",municipality:"BERGEN"},5105:{city:"EIDSVG I SANE",municipality:"BERGEN"},5106:{city:"VRE ERVIK",municipality:"BERGEN"},5107:{city:"SALHUS",municipality:"BERGEN"},5108:{city:"HORDVIK",municipality:"BERGEN"},5109:{city:"HYLKJE",municipality:"BERGEN"},5111:{city:"BREISTEIN",municipality:"BERGEN"},5113:{city:"TERTNES",municipality:"BERGEN"},5114:{city:"TERTNES",municipality:"BERGEN"},5115:{city:"ULSET",municipality:"BERGEN"},5116:{city:"ULSET",municipality:"BERGEN"},5117:{city:"ULSET",municipality:"BERGEN"},5118:{city:"ULSET",municipality:"BERGEN"},5119:{city:"ULSET",municipality:"BERGEN"},5121:{city:"ULSET",municipality:"BERGEN"},5122:{city:"MORVIK",municipality:"BERGEN"},5124:{city:"MORVIK",municipality:"BERGEN"},5130:{city:"NYBORG",municipality:"BERGEN"},5131:{city:"NYBORG",municipality:"BERGEN"},5132:{city:"NYBORG",municipality:"BERGEN"},5134:{city:"FLAKTVEIT",municipality:"BERGEN"},5135:{city:"FLAKTVEIT",municipality:"BERGEN"},5136:{city:"MJLKEREN",municipality:"BERGEN"},5137:{city:"MJLKEREN",municipality:"BERGEN"},5141:{city:"FYLLINGSDALEN",municipality:"BERGEN"},5142:{city:"FYLLINGSDALEN",municipality:"BERGEN"},5143:{city:"FYLLINGSDALEN",municipality:"BERGEN"},5144:{city:"FYLLINGSDALEN",municipality:"BERGEN"},5145:{city:"FYLLINGSDALEN",municipality:"BERGEN"},5146:{city:"FYLLINGSDALEN",municipality:"BERGEN"},5147:{city:"FYLLINGSDALEN",municipality:"BERGEN"},5148:{city:"FYLLINGSDALEN",municipality:"BERGEN"},5151:{city:"STRAUMSGREND",municipality:"BERGEN"},5152:{city:"BNES",municipality:"BERGEN"},5153:{city:"BNES",municipality:"BERGEN"},5154:{city:"BNES",municipality:"BERGEN"},5155:{city:"BNES",municipality:"BERGEN"},5160:{city:"LAKSEVG",municipality:"BERGEN"},5161:{city:"LAKSEVG",municipality:"BERGEN"},5162:{city:"LAKSEVG",municipality:"BERGEN"},5163:{city:"LAKSEVG",municipality:"BERGEN"},5164:{city:"LAKSEVG",municipality:"BERGEN"},5165:{city:"LAKSEVG",municipality:"BERGEN"},5170:{city:"BJRNDALSTR",municipality:"BERGEN"},5171:{city:"LODDEFJORD",municipality:"BERGEN"},5172:{city:"LODDEFJORD",municipality:"BERGEN"},5173:{city:"LODDEFJORD",municipality:"BERGEN"},5174:{city:"MATHOPEN",municipality:"BERGEN"},5176:{city:"LODDEFJORD",municipality:"BERGEN"},5177:{city:"BJRYHAMN",municipality:"YGARDEN"},5178:{city:"LODDEFJORD",municipality:"BERGEN"},5179:{city:"GODVIK",municipality:"BERGEN"},5183:{city:"OLSVIK",municipality:"BERGEN"},5184:{city:"OLSVIK",municipality:"BERGEN"},5200:{city:"OS",municipality:"BJRNAFJORDEN"},5201:{city:"OS",municipality:"BJRNAFJORDEN"},5202:{city:"OS",municipality:"BJRNAFJORDEN"},5203:{city:"OS",municipality:"BJRNAFJORDEN"},5206:{city:"OS",municipality:"BJRNAFJORDEN"},5207:{city:"SFTELAND",municipality:"BJRNAFJORDEN"},5208:{city:"OS",municipality:"BJRNAFJORDEN"},5209:{city:"OS",municipality:"BJRNAFJORDEN"},5210:{city:"OS",municipality:"BJRNAFJORDEN"},5211:{city:"OS",municipality:"BJRNAFJORDEN"},5212:{city:"SFTELAND",municipality:"BJRNAFJORDEN"},5213:{city:"LEPSY",municipality:"BJRNAFJORDEN"},5214:{city:"LYSEKLOSTER",municipality:"BJRNAFJORDEN"},5215:{city:"LYSEKLOSTER",municipality:"BJRNAFJORDEN"},5216:{city:"LEPSY",municipality:"BJRNAFJORDEN"},5217:{city:"HAGAVIK",municipality:"BJRNAFJORDEN"},5218:{city:"NORDSTRNO",municipality:"BJRNAFJORDEN"},5221:{city:"NESTTUN",municipality:"BERGEN"},5222:{city:"NESTTUN",municipality:"BERGEN"},5223:{city:"NESTTUN",municipality:"BERGEN"},5224:{city:"NESTTUN",municipality:"BERGEN"},5225:{city:"NESTTUN",municipality:"BERGEN"},5226:{city:"NESTTUN",municipality:"BERGEN"},5227:{city:"NESTTUN",municipality:"BERGEN"},5228:{city:"NESTTUN",municipality:"BERGEN"},5229:{city:"KALANDSEIDET",municipality:"BERGEN"},5230:{city:"PARADIS",municipality:"BERGEN"},5231:{city:"PARADIS",municipality:"BERGEN"},5232:{city:"PARADIS",municipality:"BERGEN"},5235:{city:"RDAL",municipality:"BERGEN"},5236:{city:"RDAL",municipality:"BERGEN"},5237:{city:"RDAL",municipality:"BERGEN"},5238:{city:"RDAL",municipality:"BERGEN"},5239:{city:"RDAL",municipality:"BERGEN"},5243:{city:"FANA",municipality:"BERGEN"},5244:{city:"FANA",municipality:"BERGEN"},5251:{city:"SREIDGREND",municipality:"BERGEN"},5252:{city:"SREIDGREND",municipality:"BERGEN"},5253:{city:"SANDSLI",municipality:"BERGEN"},5254:{city:"SANDSLI",municipality:"BERGEN"},5257:{city:"KOKSTAD",municipality:"BERGEN"},5258:{city:"BLOMSTERDALEN",municipality:"BERGEN"},5259:{city:"HJELLESTAD",municipality:"BERGEN"},5260:{city:"INDRE ARNA",municipality:"BERGEN"},5261:{city:"INDRE ARNA",municipality:"BERGEN"},5262:{city:"ARNATVEIT",municipality:"BERGEN"},5263:{city:"TRENGEREID",municipality:"BERGEN"},5264:{city:"GARNES",municipality:"BERGEN"},5265:{city:"YTRE ARNA",municipality:"BERGEN"},5267:{city:"ESPELAND",municipality:"BERGEN"},5268:{city:"HAUKELAND",municipality:"BERGEN"},5281:{city:"VALESTRANDSFOSSEN",municipality:"OSTERY"},5282:{city:"LONEVG",municipality:"OSTERY"},5283:{city:"FOTLANDSVG",municipality:"OSTERY"},5284:{city:"TYSSEBOTNEN",municipality:"OSTERY"},5285:{city:"BRUVIK",municipality:"OSTERY"},5286:{city:"HAUS",municipality:"OSTERY"},5291:{city:"VALESTRANDSFOSSEN",municipality:"OSTERY"},5293:{city:"LONEVG",municipality:"OSTERY"},5299:{city:"HAUS",municipality:"OSTERY"},5300:{city:"KLEPPEST",municipality:"ASKY"},5301:{city:"KLEPPEST",municipality:"ASKY"},5302:{city:"STRUSSHAMN",municipality:"ASKY"},5303:{city:"FOLLESE",municipality:"ASKY"},5304:{city:"HETLEVIK",municipality:"ASKY"},5305:{city:"FLORVG",municipality:"ASKY"},5306:{city:"ERDAL",municipality:"ASKY"},5307:{city:"ASK",municipality:"ASKY"},5308:{city:"KLEPPEST",municipality:"ASKY"},5309:{city:"KLEPPEST",municipality:"ASKY"},5310:{city:"HAUGLANDSHELLA",municipality:"ASKY"},5311:{city:"KJERRGARDEN",municipality:"ASKY"},5314:{city:"KJERRGARDEN",municipality:"ASKY"},5315:{city:"HERDLA",municipality:"ASKY"},5318:{city:"STRUSSHAMN",municipality:"ASKY"},5319:{city:"KLEPPEST",municipality:"ASKY"},5321:{city:"KLEPPEST",municipality:"ASKY"},5322:{city:"KLEPPEST",municipality:"ASKY"},5323:{city:"KLEPPEST",municipality:"ASKY"},5325:{city:"FOLLESE",municipality:"ASKY"},5326:{city:"ASK",municipality:"ASKY"},5327:{city:"HAUGLANDSHELLA",municipality:"ASKY"},5329:{city:"FLORVG",municipality:"ASKY"},5331:{city:"RONG",municipality:"YGARDEN"},5333:{city:"TJELDST",municipality:"YGARDEN"},5334:{city:"HELLESY",municipality:"YGARDEN"},5335:{city:"HERNAR",municipality:"YGARDEN"},5336:{city:"TJELDST",municipality:"YGARDEN"},5337:{city:"RONG",municipality:"YGARDEN"},5341:{city:"STRAUME",municipality:"YGARDEN"},5342:{city:"STRAUME",municipality:"YGARDEN"},5343:{city:"STRAUME",municipality:"YGARDEN"},5345:{city:"KNARREVIK",municipality:"YGARDEN"},5346:{city:"GOTNES",municipality:"YGARDEN"},5347:{city:"GOTNES",municipality:"YGARDEN"},5350:{city:"BRATTHOLMEN",municipality:"YGARDEN"},5353:{city:"STRAUME",municipality:"YGARDEN"},5354:{city:"STRAUME",municipality:"YGARDEN"},5355:{city:"KNARREVIK",municipality:"YGARDEN"},5357:{city:"FJELL",municipality:"YGARDEN"},5358:{city:"FJELL",municipality:"YGARDEN"},5360:{city:"KOLLTVEIT",municipality:"YGARDEN"},5363:{city:"GOTNES",municipality:"YGARDEN"},5365:{city:"TURY",municipality:"YGARDEN"},5366:{city:"MISJE",municipality:"YGARDEN"},5371:{city:"SKOGSVG",municipality:"YGARDEN"},5374:{city:"STEINSLAND",municipality:"YGARDEN"},5378:{city:"KLOKKARVIK",municipality:"YGARDEN"},5379:{city:"STEINSLAND",municipality:"YGARDEN"},5380:{city:"TELAVG",municipality:"YGARDEN"},5381:{city:"GLESVR",municipality:"YGARDEN"},5382:{city:"SKOGSVG",municipality:"YGARDEN"},5384:{city:"TORANGSVG",municipality:"AUSTEVOLL"},5385:{city:"BAKKASUND",municipality:"AUSTEVOLL"},5387:{city:"MKSTER",municipality:"AUSTEVOLL"},5388:{city:"LITLAKALSY",municipality:"AUSTEVOLL"},5392:{city:"STOREB",municipality:"AUSTEVOLL"},5393:{city:"STOREB",municipality:"AUSTEVOLL"},5394:{city:"KOLBEINSVIK",municipality:"AUSTEVOLL"},5396:{city:"VESTRE VINNESVG",municipality:"AUSTEVOLL"},5397:{city:"BEKKJARVIK",municipality:"AUSTEVOLL"},5398:{city:"STOLMEN",municipality:"AUSTEVOLL"},5399:{city:"BEKKJARVIK",municipality:"AUSTEVOLL"},5401:{city:"STORD",municipality:"STORD"},5402:{city:"STORD",municipality:"STORD"},5403:{city:"STORD",municipality:"STORD"},5404:{city:"STORD",municipality:"STORD"},5406:{city:"STORD",municipality:"STORD"},5407:{city:"STORD",municipality:"STORD"},5408:{city:"SAGVG",municipality:"STORD"},5409:{city:"STORD",municipality:"STORD"},5410:{city:"SAGVG",municipality:"STORD"},5411:{city:"STORD",municipality:"STORD"},5412:{city:"STORD",municipality:"STORD"},5413:{city:"HUGLO",municipality:"STORD"},5414:{city:"STORD",municipality:"STORD"},5415:{city:"STORD",municipality:"STORD"},5416:{city:"STORD",municipality:"STORD"},5417:{city:"STORD",municipality:"STORD"},5418:{city:"FITJAR",municipality:"FITJAR"},5419:{city:"FITJAR",municipality:"FITJAR"},5420:{city:"RUBBESTADNESET",municipality:"BMLO"},5423:{city:"BRANDASUND",municipality:"BMLO"},5427:{city:"URANGSVG",municipality:"BMLO"},5428:{city:"FOLDRYHAMN",municipality:"BMLO"},5430:{city:"BREMNES",municipality:"BMLO"},5437:{city:"FINNS",municipality:"BMLO"},5440:{city:"MOSTERHAMN",municipality:"BMLO"},5443:{city:"BMLO",municipality:"BMLO"},5444:{city:"ESPEVR",municipality:"BMLO"},5445:{city:"BREMNES",municipality:"BMLO"},5447:{city:"MOSTERHAMN",municipality:"BMLO"},5449:{city:"BMLO",municipality:"BMLO"},5450:{city:"SUNDE I SUNNHORDLAND",municipality:"KVINNHERAD"},5451:{city:"VALEN",municipality:"KVINNHERAD"},5452:{city:"SANDVOLL",municipality:"KVINNHERAD"},5453:{city:"UTKER",municipality:"KVINNHERAD"},5454:{city:"SBVIK",municipality:"KVINNHERAD"},5455:{city:"HALSNY KLOSTER",municipality:"KVINNHERAD"},5457:{city:"HYLANDSBYGD",municipality:"KVINNHERAD"},5458:{city:"ARNAVIK",municipality:"KVINNHERAD"},5459:{city:"FJELBERG",municipality:"KVINNHERAD"},5460:{city:"HUSNES",municipality:"KVINNHERAD"},5462:{city:"HERYSUNDET",municipality:"KVINNHERAD"},5463:{city:"USKEDALEN",municipality:"KVINNHERAD"},5464:{city:"DIMMELSVIK",municipality:"KVINNHERAD"},5465:{city:"USKEDALEN",municipality:"KVINNHERAD"},5470:{city:"ROSENDAL",municipality:"KVINNHERAD"},5472:{city:"SEIMSFOSS",municipality:"KVINNHERAD"},5473:{city:"SNILSTVEITY",municipality:"KVINNHERAD"},5474:{city:"LFALLSTRAND",municipality:"KVINNHERAD"},5475:{city:"NES",municipality:"KVINNHERAD"},5476:{city:"MAURANGER",municipality:"KVINNHERAD"},5480:{city:"HUSNES",municipality:"KVINNHERAD"},5484:{city:"SBVIK",municipality:"KVINNHERAD"},5486:{city:"ROSENDAL",municipality:"KVINNHERAD"},5498:{city:"MATRE",municipality:"KVINNHERAD"},5499:{city:"KRA",municipality:"KVINNHERAD"},5501:{city:"HAUGESUND",municipality:"HAUGESUND"},5502:{city:"HAUGESUND",municipality:"HAUGESUND"},5503:{city:"HAUGESUND",municipality:"HAUGESUND"},5504:{city:"HAUGESUND",municipality:"HAUGESUND"},5505:{city:"HAUGESUND",municipality:"HAUGESUND"},5506:{city:"HAUGESUND",municipality:"HAUGESUND"},5507:{city:"HAUGESUND",municipality:"HAUGESUND"},5508:{city:"KARMSUND",municipality:"KARMY"},5509:{city:"HAUGESUND",municipality:"HAUGESUND"},5511:{city:"HAUGESUND",municipality:"HAUGESUND"},5512:{city:"HAUGESUND",municipality:"HAUGESUND"},5514:{city:"HAUGESUND",municipality:"HAUGESUND"},5515:{city:"HAUGESUND",municipality:"HAUGESUND"},5516:{city:"HAUGESUND",municipality:"HAUGESUND"},5517:{city:"HAUGESUND",municipality:"HAUGESUND"},5518:{city:"HAUGESUND",municipality:"HAUGESUND"},5519:{city:"HAUGESUND",municipality:"HAUGESUND"},5521:{city:"HAUGESUND",municipality:"HAUGESUND"},5522:{city:"HAUGESUND",municipality:"HAUGESUND"},5523:{city:"HAUGESUND",municipality:"HAUGESUND"},5525:{city:"HAUGESUND",municipality:"HAUGESUND"},5527:{city:"HAUGESUND",municipality:"HAUGESUND"},5528:{city:"HAUGESUND",municipality:"HAUGESUND"},5529:{city:"HAUGESUND",municipality:"HAUGESUND"},5531:{city:"HAUGESUND",municipality:"HAUGESUND"},5532:{city:"HAUGESUND",municipality:"HAUGESUND"},5533:{city:"HAUGESUND",municipality:"HAUGESUND"},5534:{city:"HAUGESUND",municipality:"HAUGESUND"},5535:{city:"HAUGESUND",municipality:"HAUGESUND"},5536:{city:"HAUGESUND",municipality:"HAUGESUND"},5537:{city:"HAUGESUND",municipality:"HAUGESUND"},5538:{city:"HAUGESUND",municipality:"HAUGESUND"},5541:{city:"KOLNES",municipality:"KARMY"},5542:{city:"KARMSUND",municipality:"KARMY"},5544:{city:"VORMEDAL",municipality:"KARMY"},5545:{city:"VORMEDAL",municipality:"KARMY"},5546:{city:"RYKSUND",municipality:"KARMY"},5547:{city:"UTSIRA",municipality:"UTSIRA"},5548:{city:"FEY",municipality:"KARMY"},5549:{city:"RVR",municipality:"HAUGESUND"},5550:{city:"SVEIO",municipality:"SVEIO"},5551:{city:"AUKLANDSHAMN",municipality:"SVEIO"},5554:{city:"VALEVG",municipality:"SVEIO"},5555:{city:"FRDE I HORDALAND",municipality:"SVEIO"},5556:{city:"FRDE I HORDALAND",municipality:"SVEIO"},5559:{city:"SVEIO",municipality:"SVEIO"},5560:{city:"NEDSTRAND",municipality:"TYSVR"},5561:{city:"BOKN",municipality:"BOKN"},5562:{city:"NEDSTRAND",municipality:"TYSVR"},5563:{city:"FRRESFJORDEN",municipality:"TYSVR"},5565:{city:"TYSVRVG",municipality:"TYSVR"},5566:{city:"HERVIK",municipality:"TYSVR"},5567:{city:"SKJOLDASTRAUMEN",municipality:"TYSVR"},5568:{city:"VIKEBYGD",municipality:"VINDAFJORD"},5569:{city:"BOKN",municipality:"BOKN"},5570:{city:"AKSDAL",municipality:"TYSVR"},5574:{city:"SKJOLD",municipality:"VINDAFJORD"},5575:{city:"AKSDAL",municipality:"TYSVR"},5576:{city:"VRE VATS",municipality:"VINDAFJORD"},5578:{city:"NEDRE VATS",municipality:"VINDAFJORD"},5580:{city:"LEN",municipality:"VINDAFJORD"},5582:{city:"LENSVG",municipality:"VINDAFJORD"},5583:{city:"VIKEDAL",municipality:"VINDAFJORD"},5584:{city:"BJOA",municipality:"VINDAFJORD"},5585:{city:"SANDEID",municipality:"VINDAFJORD"},5586:{city:"VIKEDAL",municipality:"VINDAFJORD"},5588:{city:"LEN",municipality:"VINDAFJORD"},5589:{city:"SANDEID",municipality:"VINDAFJORD"},5590:{city:"ETNE",municipality:"ETNE"},5591:{city:"ETNE",municipality:"ETNE"},5593:{city:"SKNEVIK",municipality:"ETNE"},5594:{city:"SKNEVIK",municipality:"ETNE"},5595:{city:"FRRESFJORDEN",municipality:"TYSVR"},5596:{city:"MARKHUS",municipality:"ETNE"},5598:{city:"FJRA",municipality:"ETNE"},5600:{city:"NORHEIMSUND",municipality:"KVAM"},5601:{city:"NORHEIMSUND",municipality:"KVAM"},5602:{city:"NORHEIMSUND",municipality:"KVAM"},5604:{city:"YSTESE",municipality:"KVAM"},5605:{city:"LVIK",municipality:"KVAM"},5610:{city:"YSTESE",municipality:"KVAM"},5612:{city:"STEINST",municipality:"KVAM"},5614:{city:"LVIK",municipality:"KVAM"},5620:{city:"TRVIKBYGD",municipality:"KVAM"},5626:{city:"KYSNESSTRAND",municipality:"ULLENSVANG"},5627:{city:"JONDAL",municipality:"ULLENSVANG"},5628:{city:"HERAND",municipality:"ULLENSVANG"},5629:{city:"JONDAL",municipality:"ULLENSVANG"},5630:{city:"STRANDEBARM",municipality:"KVAM"},5631:{city:"STRANDEBARM",municipality:"KVAM"},5632:{city:"OMASTRAND",municipality:"KVAM"},5633:{city:"OMASTRAND",municipality:"KVAM"},5635:{city:"HATLESTRAND",municipality:"KVINNHERAD"},5636:{city:"VARALDSY",municipality:"KVINNHERAD"},5637:{city:"LVE",municipality:"KVINNHERAD"},5640:{city:"EIKELANDSOSEN",municipality:"BJRNAFJORDEN"},5641:{city:"FUSA",municipality:"BJRNAFJORDEN"},5642:{city:"HOLMEFJORD",municipality:"BJRNAFJORDEN"},5643:{city:"STRANDVIK",municipality:"BJRNAFJORDEN"},5644:{city:"SVAREID",municipality:"BJRNAFJORDEN"},5645:{city:"SVAREID",municipality:"BJRNAFJORDEN"},5646:{city:"NORDTVEITGREND",municipality:"BJRNAFJORDEN"},5647:{city:"BALDERSHEIM",municipality:"BJRNAFJORDEN"},5648:{city:"FUSA",municipality:"BJRNAFJORDEN"},5649:{city:"EIKELANDSOSEN",municipality:"BJRNAFJORDEN"},5650:{city:"TYSSE",municipality:"SAMNANGER"},5651:{city:"TYSSE",municipality:"SAMNANGER"},5652:{city:"RLAND",municipality:"SAMNANGER"},5653:{city:"RLAND",municipality:"SAMNANGER"},5680:{city:"TYSNES",municipality:"TYSNES"},5683:{city:"REKSTEREN",municipality:"TYSNES"},5685:{city:"UGGDAL",municipality:"TYSNES"},5687:{city:"FLATRKER",municipality:"TYSNES"},5690:{city:"LUNDEGREND",municipality:"TYSNES"},5693:{city:"RBAKKA",municipality:"TYSNES"},5694:{city:"ONARHEIM",municipality:"TYSNES"},5695:{city:"UGGDAL",municipality:"TYSNES"},5696:{city:"TYSNES",municipality:"TYSNES"},5700:{city:"VOSS",municipality:"VOSS"},5701:{city:"VOSS",municipality:"VOSS"},5702:{city:"VOSS",municipality:"VOSS"},5703:{city:"VOSS",municipality:"VOSS"},5704:{city:"VOSS",municipality:"VOSS"},5705:{city:"VOSS",municipality:"VOSS"},5706:{city:"VOSS",municipality:"VOSS"},5707:{city:"EVANGER",municipality:"VOSS"},5708:{city:"VOSS",municipality:"VOSS"},5709:{city:"VOSS",municipality:"VOSS"},5710:{city:"SKULESTADMO",municipality:"VOSS"},5711:{city:"SKULESTADMO",municipality:"VOSS"},5712:{city:"VOSSESTRAND",municipality:"VOSS"},5713:{city:"VOSSESTRAND",municipality:"VOSS"},5714:{city:"VOSS",municipality:"VOSS"},5715:{city:"STALHEIM",municipality:"VOSS"},5718:{city:"MYRDAL",municipality:"AURLAND"},5719:{city:"FINSE",municipality:"ULVIK"},5720:{city:"STANGHELLE",municipality:"VAKSDAL"},5721:{city:"DALEKVAM",municipality:"VAKSDAL"},5722:{city:"DALEKVAM",municipality:"VAKSDAL"},5723:{city:"BOLSTADYRI",municipality:"VOSS"},5724:{city:"STANGHELLE",municipality:"VAKSDAL"},5725:{city:"VAKSDAL",municipality:"VAKSDAL"},5726:{city:"VAKSDAL",municipality:"VAKSDAL"},5727:{city:"STAMNES",municipality:"VAKSDAL"},5728:{city:"EIDSLANDET",municipality:"VAKSDAL"},5729:{city:"MODALEN",municipality:"MODALEN"},5730:{city:"ULVIK",municipality:"ULVIK"},5731:{city:"ULVIK",municipality:"ULVIK"},5732:{city:"MODALEN",municipality:"MODALEN"},5733:{city:"GRANVIN",municipality:"VOSS"},5734:{city:"VALLAVIK",municipality:"VOSS"},5736:{city:"GRANVIN",municipality:"VOSS"},5741:{city:"AURLAND",municipality:"AURLAND"},5742:{city:"FLM",municipality:"AURLAND"},5743:{city:"FLM",municipality:"AURLAND"},5745:{city:"AURLAND",municipality:"AURLAND"},5746:{city:"UNDREDAL",municipality:"AURLAND"},5747:{city:"GUDVANGEN",municipality:"AURLAND"},5749:{city:"GUDVANGEN",municipality:"AURLAND"},5750:{city:"ODDA",municipality:"ULLENSVANG"},5751:{city:"ODDA",municipality:"ULLENSVANG"},5752:{city:"ODDA",municipality:"ULLENSVANG"},5760:{city:"RLDAL",municipality:"ULLENSVANG"},5763:{city:"SKARE",municipality:"ULLENSVANG"},5770:{city:"TYSSEDAL",municipality:"ULLENSVANG"},5773:{city:"HOVLAND",municipality:"ULLENSVANG"},5775:{city:"N",municipality:"ULLENSVANG"},5776:{city:"N",municipality:"ULLENSVANG"},5777:{city:"GRIMO",municipality:"ULLENSVANG"},5778:{city:"UTNE",municipality:"ULLENSVANG"},5779:{city:"UTNE",municipality:"ULLENSVANG"},5780:{city:"KINSARVIK",municipality:"ULLENSVANG"},5781:{city:"LOFTHUS",municipality:"ULLENSVANG"},5782:{city:"KINSARVIK",municipality:"ULLENSVANG"},5783:{city:"EIDFJORD",municipality:"EIDFJORD"},5784:{city:"VRE EIDFJORD",municipality:"EIDFJORD"},5785:{city:"VRINGSFOSS",municipality:"EIDFJORD"},5786:{city:"EIDFJORD",municipality:"EIDFJORD"},5787:{city:"LOFTHUS",municipality:"ULLENSVANG"},5788:{city:"KINSARVIK",municipality:"ULLENSVANG"},5802:{city:"BERGEN",municipality:"BERGEN"},5803:{city:"BERGEN",municipality:"BERGEN"},5804:{city:"BERGEN",municipality:"BERGEN"},5805:{city:"BERGEN",municipality:"BERGEN"},5806:{city:"BERGEN",municipality:"BERGEN"},5807:{city:"BERGEN",municipality:"BERGEN"},5808:{city:"BERGEN",municipality:"BERGEN"},5809:{city:"BERGEN",municipality:"BERGEN"},5810:{city:"BERGEN",municipality:"BERGEN"},5811:{city:"BERGEN",municipality:"BERGEN"},5812:{city:"BERGEN",municipality:"BERGEN"},5813:{city:"BERGEN",municipality:"BERGEN"},5814:{city:"BERGEN",municipality:"BERGEN"},5815:{city:"BERGEN",municipality:"BERGEN"},5816:{city:"BERGEN",municipality:"BERGEN"},5817:{city:"BERGEN",municipality:"BERGEN"},5818:{city:"BERGEN",municipality:"BERGEN"},5819:{city:"BERGEN",municipality:"BERGEN"},5820:{city:"BERGEN",municipality:"BERGEN"},5821:{city:"BERGEN",municipality:"BERGEN"},5822:{city:"BERGEN",municipality:"BERGEN"},5823:{city:"BERGEN",municipality:"BERGEN"},5824:{city:"BERGEN",municipality:"BERGEN"},5825:{city:"BERGEN",municipality:"BERGEN"},5826:{city:"BERGEN",municipality:"BERGEN"},5827:{city:"BERGEN",municipality:"BERGEN"},5829:{city:"BERGEN",municipality:"BERGEN"},5830:{city:"BERGEN",municipality:"BERGEN"},5831:{city:"BERGEN",municipality:"BERGEN"},5832:{city:"BERGEN",municipality:"BERGEN"},5833:{city:"BERGEN",municipality:"BERGEN"},5834:{city:"BERGEN",municipality:"BERGEN"},5835:{city:"BERGEN",municipality:"BERGEN"},5836:{city:"BERGEN",municipality:"BERGEN"},5837:{city:"BERGEN",municipality:"BERGEN"},5838:{city:"BERGEN",municipality:"BERGEN"},5841:{city:"BERGEN",municipality:"BERGEN"},5843:{city:"BERGEN",municipality:"BERGEN"},5844:{city:"BERGEN",municipality:"BERGEN"},5845:{city:"BERGEN",municipality:"BERGEN"},5847:{city:"BERGEN",municipality:"BERGEN"},5848:{city:"BERGEN",municipality:"BERGEN"},5849:{city:"BERGEN",municipality:"BERGEN"},5851:{city:"BERGEN",municipality:"BERGEN"},5852:{city:"BERGEN",municipality:"BERGEN"},5853:{city:"BERGEN",municipality:"BERGEN"},5854:{city:"BERGEN",municipality:"BERGEN"},5855:{city:"BERGEN",municipality:"BERGEN"},5857:{city:"BERGEN",municipality:"BERGEN"},5858:{city:"BERGEN",municipality:"BERGEN"},5859:{city:"BERGEN",municipality:"BERGEN"},5861:{city:"BERGEN",municipality:"BERGEN"},5862:{city:"BERGEN",municipality:"BERGEN"},5863:{city:"BERGEN",municipality:"BERGEN"},5864:{city:"BERGEN",municipality:"BERGEN"},5865:{city:"BERGEN",municipality:"BERGEN"},5866:{city:"BERGEN",municipality:"BERGEN"},5867:{city:"BERGEN",municipality:"BERGEN"},5868:{city:"BERGEN",municipality:"BERGEN"},5872:{city:"BERGEN",municipality:"BERGEN"},5873:{city:"BERGEN",municipality:"BERGEN"},5876:{city:"BERGEN",municipality:"BERGEN"},5877:{city:"BERGEN",municipality:"BERGEN"},5878:{city:"BERGEN",municipality:"BERGEN"},5879:{city:"BERGEN",municipality:"BERGEN"},5881:{city:"BERGEN",municipality:"BERGEN"},5884:{city:"BERGEN",municipality:"BERGEN"},5886:{city:"BERGEN",municipality:"BERGEN"},5887:{city:"BERGEN",municipality:"BERGEN"},5888:{city:"BERGEN",municipality:"BERGEN"},5889:{city:"BERGEN",municipality:"BERGEN"},5892:{city:"BERGEN",municipality:"BERGEN"},5893:{city:"BERGEN",municipality:"BERGEN"},5895:{city:"BERGEN",municipality:"BERGEN"},5896:{city:"BERGEN",municipality:"BERGEN"},5899:{city:"BERGEN",municipality:"BERGEN"},5902:{city:"ISDALST",municipality:"ALVER"},5903:{city:"ISDALST",municipality:"ALVER"},5904:{city:"ISDALST",municipality:"ALVER"},5906:{city:"FREKHAUG",municipality:"ALVER"},5907:{city:"ALVERSUND",municipality:"ALVER"},5908:{city:"ISDALST",municipality:"ALVER"},5911:{city:"ALVERSUND",municipality:"ALVER"},5912:{city:"SEIM",municipality:"ALVER"},5913:{city:"EIKANGERVG",municipality:"ALVER"},5914:{city:"ISDALST",municipality:"ALVER"},5915:{city:"HJELMS",municipality:"ALVER"},5916:{city:"ISDALST",municipality:"ALVER"},5917:{city:"ROSSLAND",municipality:"ALVER"},5918:{city:"FREKHAUG",municipality:"ALVER"},5919:{city:"FREKHAUG",municipality:"ALVER"},5931:{city:"MANGER",municipality:"ALVER"},5935:{city:"BVGEN",municipality:"ALVER"},5936:{city:"MANGER",municipality:"ALVER"},5937:{city:"BVGEN",municipality:"ALVER"},5938:{city:"SBVGEN",municipality:"ALVER"},5939:{city:"SLETTA",municipality:"ALVER"},5941:{city:"AUSTRHEIM",municipality:"AUSTRHEIM"},5943:{city:"AUSTRHEIM",municipality:"AUSTRHEIM"},5947:{city:"FEDJE",municipality:"FEDJE"},5948:{city:"FEDJE",municipality:"FEDJE"},5951:{city:"LINDS",municipality:"ALVER"},5952:{city:"FONNES",municipality:"AUSTRHEIM"},5953:{city:"FONNES",municipality:"AUSTRHEIM"},5954:{city:"MONGSTAD",municipality:"ALVER"},5955:{city:"LINDS",municipality:"ALVER"},5956:{city:"HUNDVIN",municipality:"ALVER"},5957:{city:"MYKING",municipality:"ALVER"},5960:{city:"DALSYRA",municipality:"GULEN"},5961:{city:"BREKKE",municipality:"GULEN"},5962:{city:"BJORDAL",municipality:"HYANGER"},5963:{city:"DALSYRA",municipality:"GULEN"},5964:{city:"BREKKE",municipality:"GULEN"},5965:{city:"BJORDAL",municipality:"HYANGER"},5966:{city:"EIVINDVIK",municipality:"GULEN"},5967:{city:"EIVINDVIK",municipality:"GULEN"},5970:{city:"BYRKNESY",municipality:"GULEN"},5977:{city:"NNELAND",municipality:"GULEN"},5978:{city:"MJMNA",municipality:"GULEN"},5979:{city:"BYRKNESY",municipality:"GULEN"},5981:{city:"MASFJORDNES",municipality:"MASFJORDEN"},5982:{city:"MASFJORDNES",municipality:"MASFJORDEN"},5983:{city:"HAUGSVR",municipality:"MASFJORDEN"},5984:{city:"MATREDAL",municipality:"MASFJORDEN"},5985:{city:"HAUGSVR",municipality:"MASFJORDEN"},5986:{city:"HOSTELAND",municipality:"MASFJORDEN"},5987:{city:"HOSTELAND",municipality:"MASFJORDEN"},5991:{city:"OSTEREIDET",municipality:"ALVER"},5993:{city:"OSTEREIDET",municipality:"ALVER"},5994:{city:"VIKANES",municipality:"ALVER"},6001:{city:"LESUND",municipality:"LESUND"},6002:{city:"LESUND",municipality:"LESUND"},6003:{city:"LESUND",municipality:"LESUND"},6004:{city:"LESUND",municipality:"LESUND"},6005:{city:"LESUND",municipality:"LESUND"},6006:{city:"LESUND",municipality:"LESUND"},6007:{city:"LESUND",municipality:"LESUND"},6008:{city:"LESUND",municipality:"LESUND"},6009:{city:"LESUND",municipality:"LESUND"},6010:{city:"LESUND",municipality:"LESUND"},6011:{city:"LESUND",municipality:"LESUND"},6012:{city:"LESUND",municipality:"LESUND"},6013:{city:"LESUND",municipality:"LESUND"},6014:{city:"LESUND",municipality:"LESUND"},6015:{city:"LESUND",municipality:"LESUND"},6016:{city:"LESUND",municipality:"LESUND"},6017:{city:"LESUND",municipality:"LESUND"},6018:{city:"LESUND",municipality:"LESUND"},6019:{city:"LESUND",municipality:"LESUND"},6020:{city:"LESUND",municipality:"LESUND"},6021:{city:"LESUND",municipality:"LESUND"},6022:{city:"LESUND",municipality:"LESUND"},6023:{city:"LESUND",municipality:"LESUND"},6024:{city:"LESUND",municipality:"LESUND"},6025:{city:"LESUND",municipality:"LESUND"},6026:{city:"LESUND",municipality:"LESUND"},6028:{city:"LESUND",municipality:"LESUND"},6030:{city:"LANGEVG",municipality:"SULA"},6034:{city:"EIDSNES",municipality:"SULA"},6035:{city:"FISKARSTRAND",municipality:"SULA"},6036:{city:"MAUSEIDVG",municipality:"SULA"},6037:{city:"EIDSNES",municipality:"SULA"},6039:{city:"LANGEVG",municipality:"SULA"},6040:{city:"VIGRA",municipality:"GISKE"},6044:{city:"LESUND",municipality:"LESUND"},6045:{city:"LESUND",municipality:"LESUND"},6046:{city:"LESUND",municipality:"LESUND"},6047:{city:"LESUND",municipality:"LESUND"},6048:{city:"LESUND",municipality:"LESUND"},6050:{city:"VALDERYA",municipality:"GISKE"},6052:{city:"GISKE",municipality:"GISKE"},6054:{city:"GODYA",municipality:"GISKE"},6055:{city:"GODYA",municipality:"GISKE"},6057:{city:"ELLINGSY",municipality:"LESUND"},6058:{city:"VALDERYA",municipality:"GISKE"},6059:{city:"VIGRA",municipality:"GISKE"},6060:{city:"HAREID",municipality:"HAREID"},6062:{city:"BRANDAL",municipality:"HAREID"},6063:{city:"HJRUNGAVG",municipality:"HAREID"},6064:{city:"HADDAL",municipality:"ULSTEIN"},6065:{city:"ULSTEINVIK",municipality:"ULSTEIN"},6067:{city:"ULSTEINVIK",municipality:"ULSTEIN"},6068:{city:"EIKSUND",municipality:"ULSTEIN"},6069:{city:"HAREID",municipality:"HAREID"},6070:{city:"TJRVG",municipality:"HERY (MRE OG ROMSDAL)"},6075:{city:"MOLTUSTRANDA",municipality:"HERY (MRE OG ROMSDAL)"},6076:{city:"MOLTUSTRANDA",municipality:"HERY (MRE OG ROMSDAL)"},6078:{city:"GJERDSVIKA",municipality:"SANDE"},6079:{city:"GURSKY",municipality:"HERY (MRE OG ROMSDAL)"},6080:{city:"GURSKY",municipality:"HERY (MRE OG ROMSDAL)"},6082:{city:"GURSKEN",municipality:"SANDE"},6083:{city:"GJERDSVIKA",municipality:"SANDE"},6084:{city:"LARSNES",municipality:"SANDE"},6085:{city:"LARSNES",municipality:"SANDE"},6086:{city:"KVAMSY",municipality:"SANDE"},6087:{city:"KVAMSY",municipality:"SANDE"},6088:{city:"SANDSHAMN",municipality:"SANDE"},6089:{city:"SANDSHAMN",municipality:"SANDE"},6090:{city:"FOSNAVG",municipality:"HERY (MRE OG ROMSDAL)"},6091:{city:"FOSNAVG",municipality:"HERY (MRE OG ROMSDAL)"},6092:{city:"FOSNAVG",municipality:"HERY (MRE OG ROMSDAL)"},6094:{city:"LEINY",municipality:"HERY (MRE OG ROMSDAL)"},6095:{city:"BLANDET",municipality:"HERY (MRE OG ROMSDAL)"},6096:{city:"RUNDE",municipality:"HERY (MRE OG ROMSDAL)"},6098:{city:"NERLANDSY",municipality:"HERY (MRE OG ROMSDAL)"},6099:{city:"FOSNAVG",municipality:"HERY (MRE OG ROMSDAL)"},6100:{city:"VOLDA",municipality:"VOLDA"},6101:{city:"VOLDA",municipality:"VOLDA"},6102:{city:"VOLDA",municipality:"VOLDA"},6103:{city:"VOLDA",municipality:"VOLDA"},6104:{city:"VOLDA",municipality:"VOLDA"},6105:{city:"VOLDA",municipality:"VOLDA"},6106:{city:"VOLDA",municipality:"VOLDA"},6110:{city:"AUSTEFJORDEN",municipality:"VOLDA"},6120:{city:"FOLKESTAD",municipality:"VOLDA"},6121:{city:"FOLKESTAD",municipality:"VOLDA"},6133:{city:"LAUVSTAD",municipality:"VOLDA"},6134:{city:"LAUVSTAD",municipality:"VOLDA"},6138:{city:"SYVDE",municipality:"VANYLVEN"},6139:{city:"FISK",municipality:"VANYLVEN"},6140:{city:"SYVDE",municipality:"VANYLVEN"},6141:{city:"ROVDE",municipality:"VANYLVEN"},6142:{city:"EIDS",municipality:"VANYLVEN"},6143:{city:"FISK",municipality:"VANYLVEN"},6144:{city:"SYLTE",municipality:"VANYLVEN"},6146:{city:"HEIM",municipality:"VANYLVEN"},6147:{city:"HEIM",municipality:"VANYLVEN"},6149:{city:"RAM",municipality:"VANYLVEN"},6150:{city:"RSTA",municipality:"RSTA"},6151:{city:"RSTA",municipality:"RSTA"},6152:{city:"RSTA",municipality:"RSTA"},6153:{city:"RSTA",municipality:"RSTA"},6154:{city:"RSTA",municipality:"RSTA"},6155:{city:"RSTA",municipality:"RSTA"},6156:{city:"RSTA",municipality:"RSTA"},6160:{city:"HOVDEBYGDA",municipality:"RSTA"},6161:{city:"HOVDEBYGDA",municipality:"RSTA"},6165:{city:"SB",municipality:"RSTA"},6166:{city:"SB",municipality:"RSTA"},6170:{city:"VARTDAL",municipality:"RSTA"},6171:{city:"VARTDAL",municipality:"RSTA"},6174:{city:"BARSTADVIK",municipality:"RSTA"},6183:{city:"TRANDAL",municipality:"RSTA"},6184:{city:"STORESTANDAL",municipality:"RSTA"},6190:{city:"BJRKE",municipality:"VOLDA"},6196:{city:"NORANGSFJORDEN",municipality:"RSTA"},6200:{city:"STRANDA",municipality:"STRANDA"},6201:{city:"STRANDA",municipality:"STRANDA"},6210:{city:"VALLDAL",municipality:"FJORD"},6211:{city:"VALLDAL",municipality:"FJORD"},6212:{city:"LIABYGDA",municipality:"STRANDA"},6213:{city:"TAFJORD",municipality:"FJORD"},6214:{city:"NORDDAL",municipality:"FJORD"},6215:{city:"EIDSDAL",municipality:"FJORD"},6216:{city:"GEIRANGER",municipality:"STRANDA"},6217:{city:"GEIRANGER",municipality:"STRANDA"},6218:{city:"HELLESYLT",municipality:"STRANDA"},6219:{city:"HELLESYLT",municipality:"STRANDA"},6220:{city:"STRAUMGJERDE",municipality:"SYKKYLVEN"},6222:{city:"IKORNNES",municipality:"SYKKYLVEN"},6223:{city:"IKORNNES",municipality:"SYKKYLVEN"},6224:{city:"HUNDEIDVIK",municipality:"SYKKYLVEN"},6230:{city:"SYKKYLVEN",municipality:"SYKKYLVEN"},6238:{city:"STRAUMGJERDE",municipality:"SYKKYLVEN"},6239:{city:"SYKKYLVEN",municipality:"SYKKYLVEN"},6240:{city:"RSKOG",municipality:"LESUND"},6249:{city:"RSKOG",municipality:"LESUND"},6250:{city:"STORDAL",municipality:"FJORD"},6255:{city:"EIDSDAL",municipality:"FJORD"},6259:{city:"STORDAL",municipality:"FJORD"},6260:{city:"SKODJE",municipality:"LESUND"},6263:{city:"SKODJE",municipality:"LESUND"},6264:{city:"TENNFJORD",municipality:"HARAM"},6265:{city:"VATNE",municipality:"HARAM"},6270:{city:"BRATTVG",municipality:"HARAM"},6272:{city:"HILDRE",municipality:"HARAM"},6280:{city:"SVIK",municipality:"HARAM"},6281:{city:"SVIK",municipality:"HARAM"},6282:{city:"BRATTVG",municipality:"HARAM"},6283:{city:"VATNE",municipality:"HARAM"},6285:{city:"STOREKALVY",municipality:"HARAM"},6286:{city:"ORTEN",municipality:"AUKRA"},6287:{city:"HARY",municipality:"LESUND"},6290:{city:"HARAMSY",municipality:"HARAM"},6291:{city:"HARAMSY",municipality:"HARAM"},6292:{city:"KJERSTAD",municipality:"HARAM"},6293:{city:"LONGVA",municipality:"HARAM"},6294:{city:"FJRTOFT",municipality:"HARAM"},6295:{city:"MYKLEBOST",municipality:"LESUND"},6296:{city:"HARY",municipality:"LESUND"},6297:{city:"SANDY",municipality:"LESUND"},6298:{city:"ONA",municipality:"LESUND"},6300:{city:"NDALSNES",municipality:"RAUMA"},6301:{city:"NDALSNES",municipality:"RAUMA"},6310:{city:"VEBLUNGSNES",municipality:"RAUMA"},6315:{city:"INNFJORDEN",municipality:"RAUMA"},6320:{city:"ISFJORDEN",municipality:"RAUMA"},6330:{city:"VERMA",municipality:"RAUMA"},6331:{city:"VERMA",municipality:"RAUMA"},6339:{city:"ISFJORDEN",municipality:"RAUMA"},6350:{city:"EIDSBYGDA",municipality:"RAUMA"},6360:{city:"FARNES",municipality:"RAUMA"},6361:{city:"FARNES",municipality:"RAUMA"},6363:{city:"MITTET",municipality:"RAUMA"},6364:{city:"VISTDAL",municipality:"MOLDE"},6365:{city:"VISTDAL",municipality:"MOLDE"},6385:{city:"MNDALEN",municipality:"RAUMA"},6386:{city:"MNDALEN",municipality:"RAUMA"},6387:{city:"VGSTRANDA",municipality:"VESTNES"},6388:{city:"VGSTRANDA",municipality:"VESTNES"},6389:{city:"FIKSDAL",municipality:"VESTNES"},6390:{city:"VESTNES",municipality:"VESTNES"},6391:{city:"TRESFJORD",municipality:"VESTNES"},6392:{city:"VIKEBUKT",municipality:"VESTNES"},6393:{city:"TOMREFJORD",municipality:"VESTNES"},6394:{city:"FIKSDAL",municipality:"VESTNES"},6395:{city:"REKDAL",municipality:"VESTNES"},6396:{city:"VIKEBUKT",municipality:"VESTNES"},6397:{city:"TRESFJORD",municipality:"VESTNES"},6398:{city:"TOMREFJORD",municipality:"VESTNES"},6399:{city:"VESTNES",municipality:"VESTNES"},6401:{city:"MOLDE",municipality:"MOLDE"},6402:{city:"MOLDE",municipality:"MOLDE"},6403:{city:"MOLDE",municipality:"MOLDE"},6404:{city:"MOLDE",municipality:"MOLDE"},6405:{city:"MOLDE",municipality:"MOLDE"},6407:{city:"MOLDE",municipality:"MOLDE"},6408:{city:"AUREOSEN",municipality:"HUSTADVIKA"},6409:{city:"MOLDE",municipality:"AUKRA"},6410:{city:"MOLDE",municipality:"MOLDE"},6411:{city:"MOLDE",municipality:"MOLDE"},6412:{city:"MOLDE",municipality:"MOLDE"},6413:{city:"MOLDE",municipality:"MOLDE"},6414:{city:"MOLDE",municipality:"MOLDE"},6415:{city:"MOLDE",municipality:"MOLDE"},6416:{city:"MOLDE",municipality:"MOLDE"},6418:{city:"SEKKEN",municipality:"MOLDE"},6419:{city:"MOLDE",municipality:"MOLDE"},6420:{city:"MOLDE",municipality:"MOLDE"},6421:{city:"MOLDE",municipality:"MOLDE"},6422:{city:"MOLDE",municipality:"MOLDE"},6423:{city:"MOLDE",municipality:"MOLDE"},6425:{city:"MOLDE",municipality:"MOLDE"},6429:{city:"MOLDE",municipality:"MOLDE"},6430:{city:"BUD",municipality:"HUSTADVIKA"},6431:{city:"BUD",municipality:"HUSTADVIKA"},6433:{city:"HUSTAD",municipality:"HUSTADVIKA"},6434:{city:"MOLDE",municipality:"MOLDE"},6435:{city:"MOLDE",municipality:"MOLDE"},6436:{city:"MOLDE",municipality:"MOLDE"},6440:{city:"ELNESVGEN",municipality:"HUSTADVIKA"},6443:{city:"TORNES I ROMSDAL",municipality:"HUSTADVIKA"},6444:{city:"FARSTAD",municipality:"HUSTADVIKA"},6445:{city:"MALMEFJORDEN",municipality:"HUSTADVIKA"},6446:{city:"FARSTAD",municipality:"HUSTADVIKA"},6447:{city:"ELNESVGEN",municipality:"HUSTADVIKA"},6450:{city:"HJELSET",municipality:"MOLDE"},6452:{city:"KLEIVE",municipality:"MOLDE"},6453:{city:"KLEIVE",municipality:"MOLDE"},6454:{city:"HJELSET",municipality:"MOLDE"},6455:{city:"KORTGARDEN",municipality:"MOLDE"},6456:{city:"SKLA",municipality:"MOLDE"},6457:{city:"BOLSYA",municipality:"MOLDE"},6458:{city:"SKLA",municipality:"MOLDE"},6460:{city:"EIDSVG I ROMSDAL",municipality:"MOLDE"},6461:{city:"EIDSVG I ROMSDAL",municipality:"MOLDE"},6462:{city:"RAUDSAND",municipality:"MOLDE"},6470:{city:"ERESFJORD",municipality:"MOLDE"},6471:{city:"ERESFJORD",municipality:"MOLDE"},6472:{city:"EIKESDAL",municipality:"MOLDE"},6475:{city:"MIDSUND",municipality:"MOLDE"},6476:{city:"MIDSUND",municipality:"MOLDE"},6480:{city:"AUKRA",municipality:"AUKRA"},6481:{city:"AUKRA",municipality:"AUKRA"},6490:{city:"EIDE",municipality:"HUSTADVIKA"},6493:{city:"LYNGSTAD",municipality:"HUSTADVIKA"},6494:{city:"VEVANG",municipality:"HUSTADVIKA"},6499:{city:"EIDE",municipality:"HUSTADVIKA"},6501:{city:"KRISTIANSUND N",municipality:"KRISTIANSUND"},6502:{city:"KRISTIANSUND N",municipality:"KRISTIANSUND"},6503:{city:"KRISTIANSUND N",municipality:"KRISTIANSUND"},6504:{city:"KRISTIANSUND N",municipality:"KRISTIANSUND"},6506:{city:"KRISTIANSUND N",municipality:"KRISTIANSUND"},6507:{city:"KRISTIANSUND N",municipality:"KRISTIANSUND"},6508:{city:"KRISTIANSUND N",municipality:"KRISTIANSUND"},6509:{city:"KRISTIANSUND N",municipality:"KRISTIANSUND"},6510:{city:"KRISTIANSUND N",municipality:"KRISTIANSUND"},6511:{city:"KRISTIANSUND N",municipality:"KRISTIANSUND"},6512:{city:"KRISTIANSUND N",municipality:"KRISTIANSUND"},6514:{city:"KRISTIANSUND N",municipality:"KRISTIANSUND"},6515:{city:"KRISTIANSUND N",municipality:"KRISTIANSUND"},6516:{city:"KRISTIANSUND N",municipality:"KRISTIANSUND"},6517:{city:"KRISTIANSUND N",municipality:"KRISTIANSUND"},6518:{city:"KRISTIANSUND N",municipality:"KRISTIANSUND"},6520:{city:"FREI",municipality:"KRISTIANSUND"},6521:{city:"FREI",municipality:"KRISTIANSUND"},6522:{city:"FREI",municipality:"KRISTIANSUND"},6523:{city:"FREI",municipality:"KRISTIANSUND"},6524:{city:"FREI",municipality:"KRISTIANSUND"},6525:{city:"FREI",municipality:"KRISTIANSUND"},6527:{city:"FREI",municipality:"KRISTIANSUND"},6528:{city:"FREI",municipality:"KRISTIANSUND"},6529:{city:"FREI",municipality:"KRISTIANSUND"},6530:{city:"AVERY",municipality:"AVERY"},6531:{city:"AVERY",municipality:"AVERY"},6532:{city:"AVERY",municipality:"AVERY"},6533:{city:"AVERY",municipality:"AVERY"},6538:{city:"AVERY",municipality:"AVERY"},6539:{city:"AVERY",municipality:"AVERY"},6546:{city:"KRISTIANSUND N",municipality:"KRISTIANSUND"},6547:{city:"KRISTIANSUND N",municipality:"KRISTIANSUND"},6548:{city:"KRISTIANSUND N",municipality:"KRISTIANSUND"},6549:{city:"KRISTIANSUND N",municipality:"KRISTIANSUND"},6570:{city:"SMLA",municipality:"SMLA"},6571:{city:"SMLA",municipality:"SMLA"},6590:{city:"TUSTNA",municipality:"AURE"},6591:{city:"TUSTNA",municipality:"AURE"},6600:{city:"SUNNDALSRA",municipality:"SUNNDAL"},6601:{city:"SUNNDALSRA",municipality:"SUNNDAL"},6610:{city:"KSENDAL",municipality:"SUNNDAL"},6611:{city:"FURUGRENDA",municipality:"SUNNDAL"},6612:{city:"GRA",municipality:"SUNNDAL"},6613:{city:"GJRA",municipality:"SUNNDAL"},6614:{city:"GJRA",municipality:"SUNNDAL"},6620:{city:"LVUNDEID",municipality:"SUNNDAL"},6622:{city:"LVUNDFJORD",municipality:"SUNNDAL"},6623:{city:"LVUNDFJORD",municipality:"SUNNDAL"},6627:{city:"TINGVOLL",municipality:"TINGVOLL"},6628:{city:"MEISINGSET",municipality:"TINGVOLL"},6629:{city:"TORJULVGEN",municipality:"TINGVOLL"},6630:{city:"TINGVOLL",municipality:"TINGVOLL"},6631:{city:"BATNFJORDSRA",municipality:"GJEMNES"},6632:{city:"BATNFJORDSRA",municipality:"GJEMNES"},6633:{city:"GJEMNES",municipality:"GJEMNES"},6636:{city:"ANGVIK",municipality:"GJEMNES"},6637:{city:"FLEMMA",municipality:"GJEMNES"},6638:{city:"OSMARKA",municipality:"GJEMNES"},6639:{city:"TORVIKBUKT",municipality:"GJEMNES"},6640:{city:"KVANNE",municipality:"SURNADAL"},6641:{city:"TORVIKBUKT",municipality:"GJEMNES"},6642:{city:"STANGVIK",municipality:"SURNADAL"},6643:{city:"BFJORDEN",municipality:"SURNADAL"},6644:{city:"BVERFJORD",municipality:"SURNADAL"},6645:{city:"TODALEN",municipality:"SURNADAL"},6650:{city:"SURNADAL",municipality:"SURNADAL"},6652:{city:"SURNADAL",municipality:"SURNADAL"},6653:{city:"VRE SURNADAL",municipality:"SURNADAL"},6655:{city:"VINDLA",municipality:"SURNADAL"},6656:{city:"SURNADAL",municipality:"SURNADAL"},6657:{city:"RINDAL",municipality:"RINDAL"},6658:{city:"RINDALSSKOGEN",municipality:"RINDAL"},6659:{city:"RINDAL",municipality:"RINDAL"},6670:{city:"YDEGARD",municipality:"TINGVOLL"},6671:{city:"YDEGARD",municipality:"TINGVOLL"},6674:{city:"KVISVIK",municipality:"TINGVOLL"},6675:{city:"KVISVIK",municipality:"TINGVOLL"},6680:{city:"HALSANAUSTAN",municipality:"HEIM"},6683:{city:"VGLAND",municipality:"HEIM"},6686:{city:"VALSYBOTN",municipality:"HEIM"},6687:{city:"VALSYFJORD",municipality:"HEIM"},6688:{city:"VGLAND",municipality:"HEIM"},6689:{city:"AURE",municipality:"AURE"},6690:{city:"AURE",municipality:"AURE"},6693:{city:"MJOSUNDET",municipality:"AURE"},6694:{city:"FOLDFJORDEN",municipality:"AURE"},6697:{city:"VIHALS",municipality:"AURE"},6698:{city:"LESUND",municipality:"AURE"},6699:{city:"KJRSVIKBUGEN",municipality:"AURE"},6700:{city:"MLY",municipality:"KINN"},6701:{city:"MLY",municipality:"KINN"},6702:{city:"MLY",municipality:"KINN"},6703:{city:"MLY",municipality:"KINN"},6704:{city:"DEKNEPOLLEN",municipality:"KINN"},6707:{city:"RAUDEBERG",municipality:"KINN"},6708:{city:"BRYGGJA",municipality:"STAD"},6710:{city:"RAUDEBERG",municipality:"KINN"},6711:{city:"BRYGGJA",municipality:"STAD"},6713:{city:"ALMENNINGEN",municipality:"KINN"},6714:{city:"SILDA",municipality:"KINN"},6715:{city:"BARMEN",municipality:"STAD"},6716:{city:"HUSEVG",municipality:"KINN"},6717:{city:"FLATRAKET",municipality:"STAD"},6718:{city:"DEKNEPOLLEN",municipality:"KINN"},6719:{city:"SKATESTRAUMEN",municipality:"BREMANGER"},6721:{city:"SVELGEN",municipality:"BREMANGER"},6723:{city:"SVELGEN",municipality:"BREMANGER"},6726:{city:"BREMANGER",municipality:"BREMANGER"},6727:{city:"BREMANGER",municipality:"BREMANGER"},6728:{city:"KALVG",municipality:"BREMANGER"},6729:{city:"KALVG",municipality:"BREMANGER"},6730:{city:"DAVIK",municipality:"BREMANGER"},6734:{city:"RUGSUND",municipality:"BREMANGER"},6737:{city:"LFOTEN",municipality:"BREMANGER"},6740:{city:"SELJE",municipality:"STAD"},6741:{city:"SELJE",municipality:"STAD"},6750:{city:"STADLANDET",municipality:"STAD"},6751:{city:"STADLANDET",municipality:"STAD"},6761:{city:"HORNINDAL",municipality:"VOLDA"},6763:{city:"HORNINDAL",municipality:"VOLDA"},6770:{city:"NORDFJORDEID",municipality:"STAD"},6771:{city:"NORDFJORDEID",municipality:"STAD"},6772:{city:"NORDFJORDEID",municipality:"STAD"},6773:{city:"NORDFJORDEID",municipality:"STAD"},6774:{city:"NORDFJORDEID",municipality:"STAD"},6776:{city:"KJLSDALEN",municipality:"STAD"},6777:{city:"STRHEIM",municipality:"STAD"},6778:{city:"LOTE",municipality:"STAD"},6779:{city:"HOLMYANE",municipality:"STAD"},6781:{city:"STRYN",municipality:"STRYN"},6782:{city:"STRYN",municipality:"STRYN"},6783:{city:"STRYN",municipality:"STRYN"},6784:{city:"OLDEN",municipality:"STRYN"},6788:{city:"OLDEN",municipality:"STRYN"},6789:{city:"LOEN",municipality:"STRYN"},6790:{city:"LOEN",municipality:"STRYN"},6791:{city:"OLDEDALEN",municipality:"STRYN"},6792:{city:"BRIKSDALSBRE",municipality:"STRYN"},6793:{city:"INNVIK",municipality:"STRYN"},6794:{city:"INNVIK",municipality:"STRYN"},6795:{city:"BLAKSTER",municipality:"STRYN"},6796:{city:"HOPLAND",municipality:"STRYN"},6797:{city:"UTVIK",municipality:"STRYN"},6798:{city:"HJELLEDALEN",municipality:"STRYN"},6799:{city:"OPPSTRYN",municipality:"STRYN"},6800:{city:"FRDE",municipality:"SUNNFJORD"},6801:{city:"FRDE",municipality:"SUNNFJORD"},6802:{city:"FRDE",municipality:"SUNNFJORD"},6803:{city:"FRDE",municipality:"SUNNFJORD"},6804:{city:"FRDE",municipality:"SUNNFJORD"},6805:{city:"FRDE",municipality:"SUNNFJORD"},6806:{city:"NAUSTDAL",municipality:"SUNNFJORD"},6807:{city:"FRDE",municipality:"SUNNFJORD"},6808:{city:"FRDE",municipality:"SUNNFJORD"},6809:{city:"FRDE",municipality:"SUNNFJORD"},6810:{city:"FRDE",municipality:"SUNNFJORD"},6811:{city:"FRDE",municipality:"SUNNFJORD"},6812:{city:"FRDE",municipality:"SUNNFJORD"},6813:{city:"FRDE",municipality:"SUNNFJORD"},6814:{city:"FRDE",municipality:"SUNNFJORD"},6815:{city:"FRDE",municipality:"SUNNFJORD"},6817:{city:"NAUSTDAL",municipality:"SUNNFJORD"},6818:{city:"HAUKEDALEN",municipality:"SUNNFJORD"},6819:{city:"FRDE",municipality:"SUNNFJORD"},6820:{city:"FRDE",municipality:"SUNNFJORD"},6821:{city:"SANDANE",municipality:"GLOPPEN"},6822:{city:"SANDANE",municipality:"GLOPPEN"},6823:{city:"SANDANE",municipality:"GLOPPEN"},6826:{city:"BYRKJELO",municipality:"GLOPPEN"},6827:{city:"BREIM",municipality:"GLOPPEN"},6828:{city:"HESTENESYRA",municipality:"GLOPPEN"},6829:{city:"HYEN",municipality:"GLOPPEN"},6830:{city:"BYRKJELO",municipality:"GLOPPEN"},6831:{city:"HYEN",municipality:"GLOPPEN"},6841:{city:"SKEI I JLSTER",municipality:"SUNNFJORD"},6843:{city:"SKEI I JLSTER",municipality:"SUNNFJORD"},6844:{city:"VASSENDEN",municipality:"SUNNFJORD"},6845:{city:"FJRLAND",municipality:"SOGNDAL"},6847:{city:"VASSENDEN",municipality:"SUNNFJORD"},6848:{city:"FJRLAND",municipality:"SOGNDAL"},6849:{city:"KAUPANGER",municipality:"SOGNDAL"},6851:{city:"SOGNDAL",municipality:"SOGNDAL"},6852:{city:"SOGNDAL",municipality:"SOGNDAL"},6853:{city:"SOGNDAL",municipality:"SOGNDAL"},6854:{city:"KAUPANGER",municipality:"SOGNDAL"},6855:{city:"FRNNINGEN",municipality:"LRDAL"},6856:{city:"SOGNDAL",municipality:"SOGNDAL"},6857:{city:"SOGNDAL",municipality:"SOGNDAL"},6858:{city:"FARDAL",municipality:"SOGNDAL"},6859:{city:"SLINDA",municipality:"SOGNDAL"},6861:{city:"LEIKANGER",municipality:"SOGNDAL"},6863:{city:"LEIKANGER",municipality:"SOGNDAL"},6866:{city:"GAUPNE",municipality:"LUSTER"},6867:{city:"HAFSLO",municipality:"LUSTER"},6868:{city:"GAUPNE",municipality:"LUSTER"},6869:{city:"HAFSLO",municipality:"LUSTER"},6870:{city:"ORNES",municipality:"LUSTER"},6871:{city:"JOSTEDAL",municipality:"LUSTER"},6872:{city:"LUSTER",municipality:"LUSTER"},6873:{city:"MARIFJRA",municipality:"LUSTER"},6874:{city:"LUSTER",municipality:"LUSTER"},6875:{city:"HYHEIMSVIK",municipality:"LUSTER"},6876:{city:"SKJOLDEN",municipality:"LUSTER"},6877:{city:"FORTUN",municipality:"LUSTER"},6878:{city:"VEITASTROND",municipality:"LUSTER"},6879:{city:"SOLVORN",municipality:"LUSTER"},6881:{city:"RDALSTANGEN",municipality:"RDAL"},6882:{city:"VRE RDAL",municipality:"RDAL"},6884:{city:"VRE RDAL",municipality:"RDAL"},6885:{city:"RDALSTANGEN",municipality:"RDAL"},6886:{city:"LRDAL",municipality:"LRDAL"},6887:{city:"LRDAL",municipality:"LRDAL"},6888:{city:"BORGUND",municipality:"LRDAL"},6891:{city:"VIK I SOGN",municipality:"VIK"},6893:{city:"VIK I SOGN",municipality:"VIK"},6894:{city:"VANGSNES",municipality:"VIK"},6895:{city:"FEIOS",municipality:"VIK"},6896:{city:"FRESVIK",municipality:"VIK"},6898:{city:"BALESTRAND",municipality:"SOGNDAL"},6899:{city:"BALESTRAND",municipality:"SOGNDAL"},6900:{city:"FLOR",municipality:"KINN"},6901:{city:"FLOR",municipality:"KINN"},6902:{city:"FLOR",municipality:"KINN"},6903:{city:"FLOR",municipality:"KINN"},6905:{city:"FLOR",municipality:"KINN"},6906:{city:"FLOR",municipality:"KINN"},6907:{city:"FLOR",municipality:"KINN"},6908:{city:"FLOR",municipality:"KINN"},6909:{city:"FLOR",municipality:"KINN"},6910:{city:"FLOR",municipality:"KINN"},6912:{city:"KINN",municipality:"KINN"},6913:{city:"FLOR",municipality:"KINN"},6914:{city:"SVANYBUKT",municipality:"KINN"},6915:{city:"ROGNALDSVG",municipality:"KINN"},6916:{city:"BAREKSTAD",municipality:"KINN"},6917:{city:"BATALDEN",municipality:"KINN"},6918:{city:"SR-SKORPA",municipality:"KINN"},6919:{city:"TANSY",municipality:"KINN"},6921:{city:"HARDBAKKE",municipality:"SOLUND"},6924:{city:"HARDBAKKE",municipality:"SOLUND"},6926:{city:"KRAKHELLA",municipality:"SOLUND"},6927:{city:"YTRYGREND",municipality:"SOLUND"},6928:{city:"KOLGROV",municipality:"SOLUND"},6929:{city:"HERSVIKBYGDA",municipality:"SOLUND"},6940:{city:"EIKEFJORD",municipality:"KINN"},6941:{city:"EIKEFJORD",municipality:"KINN"},6942:{city:"SVORTEVIK",municipality:"KINN"},6944:{city:"STAVANG",municipality:"KINN"},6946:{city:"LAVIK",municipality:"HYANGER"},6947:{city:"LAVIK",municipality:"HYANGER"},6951:{city:"HYLLESTAD",municipality:"HYLLESTAD"},6953:{city:"LEIRVIK I SOGN",municipality:"HYLLESTAD"},6957:{city:"HYLLESTAD",municipality:"HYLLESTAD"},6958:{city:"SRBVG",municipality:"HYLLESTAD"},6959:{city:"SRBVG",municipality:"HYLLESTAD"},6961:{city:"DALE I SUNNFJORD",municipality:"FJALER"},6963:{city:"DALE I SUNNFJORD",municipality:"FJALER"},6964:{city:"KORSSUND",municipality:"FJALER"},6966:{city:"GUDDAL",municipality:"FJALER"},6967:{city:"HELLEVIK I FJALER",municipality:"FJALER"},6968:{city:"FLEKKE",municipality:"FJALER"},6969:{city:"STRAUMSNES",municipality:"FJALER"},6971:{city:"SANDE I SUNNFJORD",municipality:"SUNNFJORD"},6973:{city:"SANDE I SUNNFJORD",municipality:"SUNNFJORD"},6975:{city:"SKILBREI",municipality:"SUNNFJORD"},6976:{city:"BYGSTAD",municipality:"SUNNFJORD"},6977:{city:"BYGSTAD",municipality:"SUNNFJORD"},6978:{city:"VIKSDALEN",municipality:"SUNNFJORD"},6980:{city:"ASKVOLL",municipality:"ASKVOLL"},6982:{city:"HOLMEDAL",municipality:"ASKVOLL"},6983:{city:"KVAMMEN",municipality:"ASKVOLL"},6984:{city:"STONGFJORDEN",municipality:"ASKVOLL"},6985:{city:"ATLY",municipality:"ASKVOLL"},6986:{city:"VRLANDET",municipality:"ASKVOLL"},6987:{city:"BULANDET",municipality:"ASKVOLL"},6988:{city:"ASKVOLL",municipality:"ASKVOLL"},6991:{city:"HYANGER",municipality:"HYANGER"},6993:{city:"HYANGER",municipality:"HYANGER"},6994:{city:"NESSANE",municipality:"HYANGER"},6995:{city:"KYRKJEB",municipality:"HYANGER"},6996:{city:"VADHEIM",municipality:"HYANGER"},6997:{city:"VADHEIM",municipality:"HYANGER"},7003:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7004:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7005:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7006:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7010:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7011:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7012:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7013:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7014:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7015:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7016:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7017:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7018:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7019:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7020:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7021:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7022:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7023:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7024:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7025:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7026:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7027:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7028:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7029:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7030:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7031:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7032:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7033:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7034:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7035:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7036:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7037:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7038:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7039:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7040:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7041:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7042:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7043:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7044:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7045:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7046:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7047:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7048:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7049:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7050:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7051:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7052:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7053:{city:"RANHEIM",municipality:"TRONDHEIM"},7054:{city:"RANHEIM",municipality:"TRONDHEIM"},7055:{city:"RANHEIM",municipality:"TRONDHEIM"},7056:{city:"RANHEIM",municipality:"TRONDHEIM"},7057:{city:"JONSVATNET",municipality:"TRONDHEIM"},7058:{city:"CHARLOTTENLUND",municipality:"TRONDHEIM"},7059:{city:"JAKOBSLI",municipality:"TRONDHEIM"},7060:{city:"CHARLOTTENLUND",municipality:"TRONDHEIM"},7066:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7067:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7068:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7069:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7070:{city:"BOSBERG",municipality:"TRONDHEIM"},7071:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7072:{city:"HEIMDAL",municipality:"TRONDHEIM"},7074:{city:"SPONGDAL",municipality:"TRONDHEIM"},7075:{city:"TILLER",municipality:"TRONDHEIM"},7078:{city:"SAUPSTAD",municipality:"TRONDHEIM"},7079:{city:"FLATSEN",municipality:"TRONDHEIM"},7080:{city:"HEIMDAL",municipality:"TRONDHEIM"},7081:{city:"SJETNEMARKA",municipality:"TRONDHEIM"},7082:{city:"KATTEM",municipality:"TRONDHEIM"},7083:{city:"LEINSTRAND",municipality:"TRONDHEIM"},7088:{city:"HEIMDAL",municipality:"TRONDHEIM"},7089:{city:"HEIMDAL",municipality:"TRONDHEIM"},7091:{city:"TILLER",municipality:"TRONDHEIM"},7092:{city:"TILLER",municipality:"TRONDHEIM"},7093:{city:"TILLER",municipality:"TRONDHEIM"},7097:{city:"SAUPSTAD",municipality:"TRONDHEIM"},7098:{city:"SAUPSTAD",municipality:"TRONDHEIM"},7099:{city:"FLATSEN",municipality:"TRONDHEIM"},7100:{city:"RISSA",municipality:"INDRE FOSEN"},7101:{city:"RISSA",municipality:"INDRE FOSEN"},7105:{city:"STADSBYGD",municipality:"INDRE FOSEN"},7110:{city:"FEVG",municipality:"INDRE FOSEN"},7111:{city:"HASSELVIKA",municipality:"INDRE FOSEN"},7112:{city:"HASSELVIKA",municipality:"INDRE FOSEN"},7113:{city:"HUSBYSJEN",municipality:"INDRE FOSEN"},7114:{city:"RKVG",municipality:"INDRE FOSEN"},7115:{city:"HUSBYSJEN",municipality:"INDRE FOSEN"},7116:{city:"RKVG",municipality:"INDRE FOSEN"},7119:{city:"STADSBYGD",municipality:"INDRE FOSEN"},7120:{city:"LEKSVIK",municipality:"INDRE FOSEN"},7121:{city:"LEKSVIK",municipality:"INDRE FOSEN"},7125:{city:"VANVIKAN",municipality:"INDRE FOSEN"},7126:{city:"VANVIKAN",municipality:"INDRE FOSEN"},7127:{city:"OPPHAUG",municipality:"RLAND"},7129:{city:"BREKSTAD",municipality:"RLAND"},7130:{city:"BREKSTAD",municipality:"RLAND"},7140:{city:"OPPHAUG",municipality:"RLAND"},7142:{city:"UTHAUG",municipality:"RLAND"},7150:{city:"STORFOSNA",municipality:"RLAND"},7151:{city:"STORFOSNA",municipality:"RLAND"},7152:{city:"KRKVG",municipality:"RLAND"},7153:{city:"GARTEN",municipality:"RLAND"},7156:{city:"LEKSA",municipality:"ORKLAND"},7159:{city:"BJUGN",municipality:"RLAND"},7160:{city:"BJUGN",municipality:"RLAND"},7164:{city:"LYSYSUNDET",municipality:"RLAND"},7165:{city:"OKSVOLL",municipality:"RLAND"},7166:{city:"TARVA",municipality:"RLAND"},7167:{city:"VALLERSUND",municipality:"RLAND"},7168:{city:"LYSYSUNDET",municipality:"RLAND"},7169:{city:"FJORD",municipality:"FJORD"},7170:{city:"FJORD",municipality:"FJORD"},7174:{city:"REVSNES",municipality:"FJORD"},7175:{city:"STOKKY",municipality:"FJORD"},7176:{city:"LINESYA",municipality:"FJORD"},7177:{city:"REVSNES",municipality:"FJORD"},7178:{city:"STOKKY",municipality:"FJORD"},7180:{city:"ROAN",municipality:"FJORD"},7181:{city:"ROAN",municipality:"FJORD"},7190:{city:"BESSAKER",municipality:"FJORD"},7194:{city:"BRANDSFJORD",municipality:"FJORD"},7200:{city:"KYRKSTERRA",municipality:"HEIM"},7201:{city:"KYRKSTERRA",municipality:"HEIM"},7203:{city:"VINJERA",municipality:"HEIM"},7206:{city:"HELLANDSJEN",municipality:"HEIM"},7207:{city:"YTRE SNILLFJORD",municipality:"HEIM"},7211:{city:"KORSVEGEN",municipality:"MELHUS"},7212:{city:"KORSVEGEN",municipality:"MELHUS"},7213:{city:"GSBAKKEN",municipality:"MELHUS"},7221:{city:"MELHUS",municipality:"MELHUS"},7223:{city:"MELHUS",municipality:"MELHUS"},7224:{city:"MELHUS",municipality:"MELHUS"},7227:{city:"GIMSE",municipality:"MELHUS"},7228:{city:"KVL",municipality:"MELHUS"},7231:{city:"LUNDAMO",municipality:"MELHUS"},7232:{city:"LUNDAMO",municipality:"MELHUS"},7234:{city:"LER",municipality:"MELHUS"},7235:{city:"LER",municipality:"MELHUS"},7236:{city:"HOVIN I GAULDAL",municipality:"MELHUS"},7238:{city:"HOVIN I GAULDAL",municipality:"MELHUS"},7239:{city:"HITRA",municipality:"HITRA"},7240:{city:"HITRA",municipality:"HITRA"},7241:{city:"ANSNES",municipality:"HITRA"},7242:{city:"KNARRLAGSUND",municipality:"HITRA"},7243:{city:"KVENVR",municipality:"HITRA"},7244:{city:"KNARRLAGSUND",municipality:"HITRA"},7245:{city:"KVENVR",municipality:"HITRA"},7246:{city:"SANDSTAD",municipality:"HITRA"},7247:{city:"HESTVIKA",municipality:"HITRA"},7250:{city:"MELANDSJ",municipality:"HITRA"},7252:{city:"DOLMY",municipality:"HITRA"},7255:{city:"SUNDLANDET",municipality:"HITRA"},7256:{city:"HEMNSKJELA",municipality:"HITRA"},7257:{city:"SNILLFJORD",municipality:"ORKLAND"},7259:{city:"SNILLFJORD",municipality:"ORKLAND"},7260:{city:"SISTRANDA",municipality:"FRYA"},7261:{city:"SISTRANDA",municipality:"FRYA"},7263:{city:"HAMARVIK",municipality:"FRYA"},7264:{city:"HAMARVIK",municipality:"FRYA"},7266:{city:"KVERVA",municipality:"FRYA"},7267:{city:"KVERVA",municipality:"FRYA"},7268:{city:"TITRAN",municipality:"FRYA"},7270:{city:"DYRVIK",municipality:"FRYA"},7273:{city:"NORDDYRY",municipality:"FRYA"},7274:{city:"NORDDYRY",municipality:"FRYA"},7280:{city:"SULA",municipality:"FRYA"},7282:{city:"BOGYVR",municipality:"FRYA"},7284:{city:"MAUSUND",municipality:"FRYA"},7285:{city:"GJSINGEN",municipality:"FRYA"},7286:{city:"SRBURY",municipality:"FRYA"},7287:{city:"SAUY",municipality:"FRYA"},7288:{city:"SOKNEDAL",municipality:"MIDTRE GAULDAL"},7289:{city:"SOKNEDAL",municipality:"MIDTRE GAULDAL"},7290:{city:"STREN",municipality:"MIDTRE GAULDAL"},7291:{city:"STREN",municipality:"MIDTRE GAULDAL"},7295:{city:"ROGNES",municipality:"MIDTRE GAULDAL"},7298:{city:"BUDALEN",municipality:"MIDTRE GAULDAL"},7300:{city:"ORKANGER",municipality:"ORKLAND"},7301:{city:"ORKANGER",municipality:"ORKLAND"},7302:{city:"ORKANGER",municipality:"ORKLAND"},7303:{city:"ORKANGER",municipality:"ORKLAND"},7310:{city:"GJLME",municipality:"ORKLAND"},7315:{city:"LENSVIK",municipality:"ORKLAND"},7316:{city:"LENSVIK",municipality:"ORKLAND"},7318:{city:"AGDENES",municipality:"ORKLAND"},7319:{city:"AGDENES",municipality:"ORKLAND"},7320:{city:"FANNREM",municipality:"ORKLAND"},7321:{city:"FANNREM",municipality:"ORKLAND"},7327:{city:"SVORKMO",municipality:"ORKLAND"},7329:{city:"SVORKMO",municipality:"ORKLAND"},7331:{city:"LKKEN VERK",municipality:"ORKLAND"},7332:{city:"LKKEN VERK",municipality:"ORKLAND"},7333:{city:"STORS",municipality:"ORKLAND"},7334:{city:"STORS",municipality:"ORKLAND"},7335:{city:"JERPSTAD",municipality:"ORKLAND"},7336:{city:"MELDAL",municipality:"ORKLAND"},7338:{city:"MELDAL",municipality:"ORKLAND"},7340:{city:"OPPDAL",municipality:"OPPDAL"},7341:{city:"OPPDAL",municipality:"OPPDAL"},7342:{city:"LNSET",municipality:"OPPDAL"},7343:{city:"VOGNILL",municipality:"OPPDAL"},7344:{city:"OPPDAL",municipality:"OPPDAL"},7345:{city:"DRIVDALEN",municipality:"OPPDAL"},7346:{city:"OPPDAL",municipality:"OPPDAL"},7347:{city:"OPPDAL",municipality:"OPPDAL"},7350:{city:"BUVIKA",municipality:"SKAUN"},7351:{city:"BUVIKA",municipality:"SKAUN"},7353:{city:"BRSA",municipality:"SKAUN"},7354:{city:"VIGGJA",municipality:"SKAUN"},7355:{city:"EGGKLEIVA",municipality:"SKAUN"},7356:{city:"SKAUN",municipality:"SKAUN"},7357:{city:"SKAUN",municipality:"SKAUN"},7358:{city:"BRSA",municipality:"SKAUN"},7361:{city:"RROS",municipality:"RROS"},7370:{city:"BREKKEBYGD",municipality:"RROS"},7372:{city:"GLMOS",municipality:"RROS"},7374:{city:"RROS",municipality:"RROS"},7375:{city:"RROS",municipality:"RROS"},7380:{city:"LEN",municipality:"HOLTLEN"},7383:{city:"HALTDALEN",municipality:"HOLTLEN"},7384:{city:"LEN",municipality:"HOLTLEN"},7386:{city:"SINGSS",municipality:"MIDTRE GAULDAL"},7387:{city:"SINGSS",municipality:"MIDTRE GAULDAL"},7388:{city:"SINGSS",municipality:"MIDTRE GAULDAL"},7391:{city:"RENNEBU",municipality:"RENNEBU"},7392:{city:"RENNEBU",municipality:"RENNEBU"},7393:{city:"RENNEBU",municipality:"RENNEBU"},7397:{city:"RENNEBU",municipality:"RENNEBU"},7398:{city:"RENNEBU",municipality:"RENNEBU"},7399:{city:"RENNEBU",municipality:"RENNEBU"},7400:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7401:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7402:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7403:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7404:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7405:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7406:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7407:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7408:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7409:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7410:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7411:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7412:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7413:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7414:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7415:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7416:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7417:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7418:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7419:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7420:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7421:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7422:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7424:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7425:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7426:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7427:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7428:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7429:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7430:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7431:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7432:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7433:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7434:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7435:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7436:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7437:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7438:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7439:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7440:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7441:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7442:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7443:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7444:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7445:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7446:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7447:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7448:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7449:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7450:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7451:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7452:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7453:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7454:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7455:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7456:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7457:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7458:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7459:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7462:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7463:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7464:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7465:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7466:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7467:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7468:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7469:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7470:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7471:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7472:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7473:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7474:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7475:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7476:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7477:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7478:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7479:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7480:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7481:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7482:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7483:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7484:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7485:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7486:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7487:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7488:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7489:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7490:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7491:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7492:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7493:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7494:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7495:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7496:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7497:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7498:{city:"TRONDHEIM",municipality:"TRONDHEIM"},7500:{city:"STJRDAL",municipality:"STJRDAL"},7501:{city:"STJRDAL",municipality:"STJRDAL"},7502:{city:"STJRDAL",municipality:"STJRDAL"},7503:{city:"STJRDAL",municipality:"STJRDAL"},7504:{city:"STJRDAL",municipality:"STJRDAL"},7505:{city:"STJRDAL",municipality:"STJRDAL"},7506:{city:"STJRDAL",municipality:"STJRDAL"},7507:{city:"STJRDAL",municipality:"STJRDAL"},7508:{city:"STJRDAL",municipality:"STJRDAL"},7509:{city:"STJRDAL",municipality:"STJRDAL"},7510:{city:"SKATVAL",municipality:"STJRDAL"},7511:{city:"SKATVAL",municipality:"STJRDAL"},7512:{city:"STJRDAL",municipality:"STJRDAL"},7513:{city:"STJRDAL",municipality:"STJRDAL"},7514:{city:"STJRDAL",municipality:"STJRDAL"},7517:{city:"HELL",municipality:"STJRDAL"},7519:{city:"ELVARLI",municipality:"STJRDAL"},7520:{city:"HEGRA",municipality:"STJRDAL"},7525:{city:"FLORNES",municipality:"STJRDAL"},7529:{city:"HEGRA",municipality:"STJRDAL"},7530:{city:"MERKER",municipality:"MERKER"},7531:{city:"MERKER",municipality:"MERKER"},7533:{city:"KOPPER",municipality:"MERKER"},7540:{city:"KLBU",municipality:"TRONDHEIM"},7541:{city:"KLBU",municipality:"TRONDHEIM"},7549:{city:"TANEM",municipality:"TRONDHEIM"},7550:{city:"HOMMELVIK",municipality:"MALVIK"},7551:{city:"HOMMELVIK",municipality:"MALVIK"},7560:{city:"VIKHAMMER",municipality:"MALVIK"},7562:{city:"SAKSVIK",municipality:"MALVIK"},7563:{city:"MALVIK",municipality:"MALVIK"},7566:{city:"VIKHAMMER",municipality:"MALVIK"},7570:{city:"HELL",municipality:"STJRDAL"},7580:{city:"SELBU",municipality:"SELBU"},7581:{city:"SELBU",municipality:"SELBU"},7583:{city:"SELBU",municipality:"SELBU"},7584:{city:"SELBUSTRAND",municipality:"SELBU"},7590:{city:"TYDAL",municipality:"TYDAL"},7591:{city:"TYDAL",municipality:"TYDAL"},7596:{city:"FLAKNAN",municipality:"SELBU"},7600:{city:"LEVANGER",municipality:"LEVANGER"},7601:{city:"LEVANGER",municipality:"LEVANGER"},7602:{city:"LEVANGER",municipality:"LEVANGER"},7603:{city:"LEVANGER",municipality:"LEVANGER"},7604:{city:"LEVANGER",municipality:"LEVANGER"},7605:{city:"LEVANGER",municipality:"LEVANGER"},7606:{city:"LEVANGER",municipality:"LEVANGER"},7607:{city:"LEVANGER",municipality:"LEVANGER"},7608:{city:"LEVANGER",municipality:"LEVANGER"},7609:{city:"LEVANGER",municipality:"LEVANGER"},7610:{city:"LEVANGER",municipality:"LEVANGER"},7619:{city:"SKOGN",municipality:"LEVANGER"},7620:{city:"SKOGN",municipality:"LEVANGER"},7622:{city:"MARKABYGDA",municipality:"LEVANGER"},7623:{city:"RONGLAN",municipality:"LEVANGER"},7624:{city:"EKNE",municipality:"LEVANGER"},7629:{city:"YTTERY",municipality:"LEVANGER"},7630:{city:"SEN",municipality:"LEVANGER"},7631:{city:"SEN",municipality:"LEVANGER"},7632:{city:"SENFJORD",municipality:"LEVANGER"},7633:{city:"FROSTA",municipality:"FROSTA"},7634:{city:"FROSTA",municipality:"FROSTA"},7650:{city:"VERDAL",municipality:"VERDAL"},7651:{city:"VERDAL",municipality:"VERDAL"},7652:{city:"VERDAL",municipality:"VERDAL"},7653:{city:"VERDAL",municipality:"VERDAL"},7654:{city:"VERDAL",municipality:"VERDAL"},7655:{city:"VERDAL",municipality:"VERDAL"},7656:{city:"VERDAL",municipality:"VERDAL"},7657:{city:"VERDAL",municipality:"VERDAL"},7658:{city:"VERDAL",municipality:"VERDAL"},7660:{city:"VUKU",municipality:"VERDAL"},7661:{city:"VUKU",municipality:"VERDAL"},7670:{city:"INDERY",municipality:"INDERY"},7671:{city:"INDERY",municipality:"INDERY"},7672:{city:"INDERY",municipality:"INDERY"},7690:{city:"MOSVIK",municipality:"INDERY"},7691:{city:"MOSVIK",municipality:"INDERY"},7701:{city:"STEINKJER",municipality:"STEINKJER"},7702:{city:"STEINKJER",municipality:"STEINKJER"},7703:{city:"STEINKJER",municipality:"STEINKJER"},7704:{city:"STEINKJER",municipality:"STEINKJER"},7705:{city:"STEINKJER",municipality:"STEINKJER"},7707:{city:"STEINKJER",municipality:"STEINKJER"},7708:{city:"STEINKJER",municipality:"STEINKJER"},7709:{city:"STEINKJER",municipality:"STEINKJER"},7710:{city:"SPARBU",municipality:"STEINKJER"},7711:{city:"STEINKJER",municipality:"STEINKJER"},7712:{city:"STEINKJER",municipality:"STEINKJER"},7713:{city:"STEINKJER",municipality:"STEINKJER"},7714:{city:"STEINKJER",municipality:"STEINKJER"},7715:{city:"STEINKJER",municipality:"STEINKJER"},7716:{city:"STEINKJER",municipality:"STEINKJER"},7717:{city:"STEINKJER",municipality:"STEINKJER"},7718:{city:"STEINKJER",municipality:"STEINKJER"},7724:{city:"STEINKJER",municipality:"STEINKJER"},7725:{city:"STEINKJER",municipality:"STEINKJER"},7726:{city:"STEINKJER",municipality:"STEINKJER"},7729:{city:"STEINKJER",municipality:"STEINKJER"},7730:{city:"BEITSTAD",municipality:"STEINKJER"},7732:{city:"STEINKJER",municipality:"STEINKJER"},7733:{city:"SPARBU",municipality:"STEINKJER"},7734:{city:"STEINKJER",municipality:"STEINKJER"},7735:{city:"STEINKJER",municipality:"STEINKJER"},7736:{city:"STEINKJER",municipality:"STEINKJER"},7737:{city:"STEINKJER",municipality:"STEINKJER"},7738:{city:"STEINKJER",municipality:"STEINKJER"},7739:{city:"BEITSTAD",municipality:"STEINKJER"},7740:{city:"STEINSDALEN",municipality:"OSEN"},7741:{city:"STEINSDALEN",municipality:"OSEN"},7742:{city:"YTTERVG",municipality:"OSEN"},7744:{city:"HEPSY",municipality:"OSEN"},7745:{city:"OPPLAND",municipality:"FLATANGER"},7746:{city:"HASVG",municipality:"FLATANGER"},7748:{city:"SETER",municipality:"OSEN"},7750:{city:"NAMDALSEID",municipality:"NAMSOS"},7751:{city:"NAMDALSEID",municipality:"NAMSOS"},7760:{city:"SNSA",municipality:"SNSA"},7761:{city:"SNSA",municipality:"SNSA"},7770:{city:"FLATANGER",municipality:"FLATANGER"},7771:{city:"FLATANGER",municipality:"FLATANGER"},7777:{city:"NORD-STATLAND",municipality:"NAMSOS"},7790:{city:"MALM",municipality:"STEINKJER"},7791:{city:"MALM",municipality:"STEINKJER"},7795:{city:"FOLLAFOSS",municipality:"STEINKJER"},7796:{city:"FOLLAFOSS",municipality:"STEINKJER"},7797:{city:"VERRABOTN",municipality:"INDRE FOSEN"},7800:{city:"NAMSOS",municipality:"NAMSOS"},7801:{city:"NAMSOS",municipality:"NAMSOS"},7802:{city:"NAMSOS",municipality:"NAMSOS"},7803:{city:"NAMSOS",municipality:"NAMSOS"},7804:{city:"NAMSOS",municipality:"NAMSOS"},7805:{city:"NAMSOS",municipality:"NAMSOS"},7808:{city:"NAMSOS",municipality:"NAMSOS"},7810:{city:"NAMSOS",municipality:"NAMSOS"},7817:{city:"SALSNES",municipality:"NAMSOS"},7818:{city:"LUND",municipality:"NAMSOS"},7819:{city:"FOSSLANDSOSEN",municipality:"NAMSOS"},7820:{city:"SPILLUM",municipality:"NAMSOS"},7821:{city:"SPILLUM",municipality:"NAMSOS"},7822:{city:"BANGSUND",municipality:"NAMSOS"},7823:{city:"BANGSUND",municipality:"NAMSOS"},7856:{city:"JA",municipality:"NAMSOS"},7860:{city:"SKAGE I NAMDALEN",municipality:"OVERHALLA"},7863:{city:"OVERHALLA",municipality:"OVERHALLA"},7864:{city:"OVERHALLA",municipality:"OVERHALLA"},7869:{city:"SKAGE I NAMDALEN",municipality:"OVERHALLA"},7870:{city:"GRONG",municipality:"GRONG"},7871:{city:"GRONG",municipality:"GRONG"},7873:{city:"HARRAN",municipality:"GRONG"},7874:{city:"HARRAN",municipality:"GRONG"},7876:{city:"KONGSMOEN",municipality:"HYLANDET"},7877:{city:"HYLANDET",municipality:"HYLANDET"},7878:{city:"HYLANDET",municipality:"HYLANDET"},7881:{city:"NORDLI",municipality:"LIERNE"},7882:{city:"NORDLI",municipality:"LIERNE"},7884:{city:"SRLI",municipality:"LIERNE"},7885:{city:"SRLI",municipality:"LIERNE"},7890:{city:"NAMSSKOGAN",municipality:"NAMSSKOGAN"},7891:{city:"NAMSSKOGAN",municipality:"NAMSSKOGAN"},7892:{city:"TRONES",municipality:"NAMSSKOGAN"},7893:{city:"SKOROVATN",municipality:"NAMSSKOGAN"},7896:{city:"BREKKVASSELV",municipality:"NAMSSKOGAN"},7897:{city:"LIMINGEN",municipality:"RYRVIK"},7898:{city:"LIMINGEN",municipality:"RYRVIK"},7900:{city:"RRVIK",municipality:"NRYSUND"},7901:{city:"RRVIK",municipality:"NRYSUND"},7902:{city:"RRVIK",municipality:"NRYSUND"},7924:{city:"AUSTAFJORD",municipality:"NRYSUND"},7940:{city:"OTTERSY",municipality:"NRYSUND"},7941:{city:"OTTERSY",municipality:"NRYSUND"},7944:{city:"INDRE NRY",municipality:"NRYSUND"},7950:{city:"ABELVR",municipality:"NRYSUND"},7960:{city:"SALSBRUKET",municipality:"NRYSUND"},7970:{city:"KOLVEREID",municipality:"NRYSUND"},7971:{city:"KOLVEREID",municipality:"NRYSUND"},7973:{city:"GJERDINGA",municipality:"NRYSUND"},7979:{city:"TERRK",municipality:"BINDAL"},7980:{city:"TERRK",municipality:"BINDAL"},7981:{city:"HARANGSFJORD",municipality:"BINDAL"},7982:{city:"BINDALSEIDET",municipality:"BINDAL"},7983:{city:"BINDALSEIDET",municipality:"BINDAL"},7985:{city:"FOLDEREID",municipality:"NRYSUND"},7986:{city:"FOLDEREID",municipality:"NRYSUND"},7990:{city:"NAUSTBUKTA",municipality:"NRYSUND"},7993:{city:"GUTVIK",municipality:"LEKA"},7994:{city:"LEKA",municipality:"LEKA"},7995:{city:"LEKA",municipality:"LEKA"},8001:{city:"BOD",municipality:"BOD"},8002:{city:"BOD",municipality:"BOD"},8003:{city:"BOD",municipality:"BOD"},8004:{city:"BOD",municipality:"BOD"},8005:{city:"BOD",municipality:"BOD"},8006:{city:"BOD",municipality:"BOD"},8007:{city:"BOD",municipality:"BOD"},8008:{city:"BOD",municipality:"BOD"},8009:{city:"BOD",municipality:"BOD"},8010:{city:"BOD",municipality:"BOD"},8011:{city:"BOD",municipality:"BOD"},8012:{city:"BOD",municipality:"BOD"},8013:{city:"BOD",municipality:"BOD"},8014:{city:"BOD",municipality:"BOD"},8015:{city:"BOD",municipality:"BOD"},8016:{city:"BOD",municipality:"BOD"},8019:{city:"BOD",municipality:"BOD"},8020:{city:"BOD",municipality:"BOD"},8021:{city:"BOD",municipality:"BOD"},8022:{city:"BOD",municipality:"BOD"},8023:{city:"BOD",municipality:"BOD"},8025:{city:"BOD",municipality:"BOD"},8026:{city:"BOD",municipality:"BOD"},8027:{city:"BOD",municipality:"BOD"},8028:{city:"BOD",municipality:"BOD"},8029:{city:"BOD",municipality:"BOD"},8030:{city:"BOD",municipality:"BOD"},8031:{city:"BOD",municipality:"BOD"},8037:{city:"BOD",municipality:"BOD"},8038:{city:"BOD",municipality:"BOD"},8041:{city:"BOD",municipality:"BOD"},8047:{city:"BOD",municipality:"BOD"},8048:{city:"BOD",municipality:"BOD"},8049:{city:"BOD",municipality:"BOD"},8050:{city:"TVERLANDET",municipality:"BOD"},8056:{city:"SALTSTRAUMEN",municipality:"BOD"},8057:{city:"SALTSTRAUMEN",municipality:"BOD"},8058:{city:"TVERLANDET",municipality:"BOD"},8062:{city:"VRY",municipality:"VRY"},8063:{city:"VRY",municipality:"VRY"},8064:{city:"RST",municipality:"RST"},8065:{city:"RST",municipality:"RST"},8070:{city:"BOD",municipality:"BOD"},8071:{city:"BOD",municipality:"BOD"},8072:{city:"BOD",municipality:"BOD"},8073:{city:"BOD",municipality:"BOD"},8074:{city:"BOD",municipality:"BOD"},8075:{city:"BOD",municipality:"BOD"},8076:{city:"BOD",municipality:"BOD"},8079:{city:"BOD",municipality:"BOD"},8084:{city:"BOD",municipality:"BOD"},8085:{city:"BOD",municipality:"BOD"},8086:{city:"BOD",municipality:"BOD"},8087:{city:"BOD",municipality:"BOD"},8088:{city:"BOD",municipality:"BOD"},8089:{city:"BOD",municipality:"BOD"},8091:{city:"BOD",municipality:"BOD"},8092:{city:"BOD",municipality:"BOD"},8093:{city:"KJERRINGY",municipality:"BOD"},8094:{city:"FLEINVR",municipality:"GILDESKL"},8095:{city:"HELLIGVR",municipality:"BOD"},8096:{city:"BLIKSVR",municipality:"BOD"},8097:{city:"GIVR",municipality:"BOD"},8098:{city:"LANDEGODE",municipality:"BOD"},8099:{city:"JAN MAYEN",municipality:"JAN MAYEN"},8100:{city:"MISVR",municipality:"BOD"},8102:{city:"SKJERSTAD",municipality:"BOD"},8103:{city:"BREIVIK I SALTEN",municipality:"BOD"},8108:{city:"MISVR",municipality:"BOD"},8110:{city:"MOLDJORD",municipality:"BEIARN"},8114:{city:"TOLL",municipality:"BEIARN"},8118:{city:"MOLDJORD",municipality:"BEIARN"},8120:{city:"NYGRDSJEN",municipality:"GILDESKL"},8128:{city:"YTRE BEIARN",municipality:"BEIARN"},8130:{city:"SANDHORNY",municipality:"GILDESKL"},8134:{city:"SRARNY",municipality:"GILDESKL"},8135:{city:"SRARNY",municipality:"GILDESKL"},8136:{city:"NORDARNY",municipality:"GILDESKL"},8138:{city:"INNDYR",municipality:"GILDESKL"},8140:{city:"INNDYR",municipality:"GILDESKL"},8145:{city:"STORVIK",municipality:"GILDESKL"},8146:{city:"REIP",municipality:"MELY"},8149:{city:"NEVERDAL",municipality:"MELY"},8150:{city:"RNES",municipality:"MELY"},8151:{city:"RNES",municipality:"MELY"},8157:{city:"MELY",municipality:"MELY"},8158:{city:"BOLGA",municipality:"MELY"},8159:{city:"STTT",municipality:"MELY"},8160:{city:"GLOMFJORD",municipality:"MELY"},8161:{city:"GLOMFJORD",municipality:"MELY"},8168:{city:"ENGAVGEN",municipality:"MELY"},8170:{city:"ENGAVGEN",municipality:"MELY"},8178:{city:"HALSA",municipality:"MELY"},8179:{city:"HALSA",municipality:"MELY"},8181:{city:"MYKEN",municipality:"RDY"},8182:{city:"MELFJORDBOTN",municipality:"RDY"},8183:{city:"VGAHOLMEN",municipality:"RDY"},8184:{city:"GSKARDET",municipality:"MELY"},8185:{city:"VGAHOLMEN",municipality:"RDY"},8186:{city:"TJONGSFJORDEN",municipality:"RDY"},8187:{city:"JEKTVIK",municipality:"RDY"},8188:{city:"NORDVERNES",municipality:"RDY"},8189:{city:"GJERSVIKGRENDA",municipality:"RDY"},8190:{city:"SRFJORDEN",municipality:"RDY"},8192:{city:"JEKTVIK",municipality:"RDY"},8193:{city:"RDY",municipality:"RDY"},8195:{city:"GJERY",municipality:"RDY"},8196:{city:"SELSYVIK",municipality:"RDY"},8197:{city:"STORSELSY",municipality:"RDY"},8198:{city:"NORDNESY",municipality:"RDY"},8200:{city:"FAUSKE",municipality:"FAUSKE"},8201:{city:"FAUSKE",municipality:"FAUSKE"},8202:{city:"FAUSKE",municipality:"FAUSKE"},8203:{city:"FAUSKE",municipality:"FAUSKE"},8205:{city:"FAUSKE",municipality:"FAUSKE"},8206:{city:"FAUSKE",municipality:"FAUSKE"},8207:{city:"FAUSKE",municipality:"FAUSKE"},8208:{city:"FAUSKE",municipality:"FAUSKE"},8209:{city:"FAUSKE",municipality:"FAUSKE"},8210:{city:"FAUSKE",municipality:"FAUSKE"},8211:{city:"FAUSKE",municipality:"FAUSKE"},8214:{city:"FAUSKE",municipality:"FAUSKE"},8215:{city:"VALNESFJORD",municipality:"FAUSKE"},8218:{city:"FAUSKE",municipality:"FAUSKE"},8219:{city:"FAUSKE",municipality:"FAUSKE"},8220:{city:"RSVIK",municipality:"SRFOLD"},8226:{city:"STRAUMEN",municipality:"SRFOLD"},8230:{city:"SULITJELMA",municipality:"FAUSKE"},8231:{city:"SULITJELMA",municipality:"FAUSKE"},8232:{city:"STRAUMEN",municipality:"SRFOLD"},8233:{city:"VALNESFJORD",municipality:"FAUSKE"},8250:{city:"ROGNAN",municipality:"SALTDAL"},8251:{city:"ROGNAN",municipality:"SALTDAL"},8252:{city:"ROGNAN",municipality:"SALTDAL"},8253:{city:"ROGNAN",municipality:"SALTDAL"},8255:{city:"RKLAND",municipality:"SALTDAL"},8256:{city:"RKLAND",municipality:"SALTDAL"},8260:{city:"INNHAVET",municipality:"HAMARY"},8261:{city:"INNHAVET",municipality:"HAMARY"},8264:{city:"ENGAN",municipality:"SRFOLD"},8266:{city:"MRSVIKBOTN",municipality:"SRFOLD"},8270:{city:"DRAG",municipality:"HAMARY"},8271:{city:"DRAG",municipality:"HAMARY"},8273:{city:"NEVERVIK",municipality:"HAMARY"},8274:{city:"MUSKEN",municipality:"HAMARY"},8275:{city:"STORJORD I TYSFJORD",municipality:"HAMARY"},8276:{city:"ULVSVG",municipality:"HAMARY"},8278:{city:"STOR",municipality:"NARVIK"},8281:{city:"LEINESFJORD",municipality:"STEIGEN"},8283:{city:"LEINESFJORD",municipality:"STEIGEN"},8285:{city:"LEINES",municipality:"STEIGEN"},8286:{city:"NORDFOLD",municipality:"STEIGEN"},8287:{city:"ENGELYA",municipality:"STEIGEN"},8288:{city:"BOGY",municipality:"STEIGEN"},8289:{city:"ENGELYA",municipality:"STEIGEN"},8290:{city:"SKUTVIK",municipality:"HAMARY"},8294:{city:"HAMARY",municipality:"HAMARY"},8297:{city:"TRANY",municipality:"HAMARY"},8298:{city:"HAMARY",municipality:"HAMARY"},8300:{city:"SVOLVR",municipality:"VGAN"},8301:{city:"SVOLVR",municipality:"VGAN"},8305:{city:"SVOLVR",municipality:"VGAN"},8309:{city:"KABELVG",municipality:"VGAN"},8310:{city:"KABELVG",municipality:"VGAN"},8311:{city:"HENNINGSVR",municipality:"VGAN"},8312:{city:"HENNINGSVR",municipality:"VGAN"},8313:{city:"KLEPPSTAD",municipality:"VGAN"},8314:{city:"GIMSYSAND",municipality:"VGAN"},8315:{city:"LAUKVIK",municipality:"VGAN"},8316:{city:"LAUPSTAD",municipality:"VGAN"},8317:{city:"STRNSTAD",municipality:"HADSEL"},8320:{city:"SKROVA",municipality:"VGAN"},8322:{city:"BRETTESNES",municipality:"VGAN"},8323:{city:"STORFJELL",municipality:"VGAN"},8324:{city:"DIGERMULEN",municipality:"VGAN"},8325:{city:"TENGELFJORD",municipality:"HADSEL"},8326:{city:"MYRLAND",municipality:"HADSEL"},8328:{city:"STORMOLLA",municipality:"VGAN"},8340:{city:"STAMSUND",municipality:"VESTVGY"},8352:{city:"SENNESVIK",municipality:"VESTVGY"},8357:{city:"VALBERG",municipality:"VESTVGY"},8360:{city:"BSTAD",municipality:"VESTVGY"},8361:{city:"BSTAD",municipality:"VESTVGY"},8370:{city:"LEKNES",municipality:"VESTVGY"},8372:{city:"GRAVDAL",municipality:"VESTVGY"},8373:{city:"BALLSTAD",municipality:"VESTVGY"},8374:{city:"BALLSTAD",municipality:"VESTVGY"},8376:{city:"LEKNES",municipality:"VESTVGY"},8377:{city:"GRAVDAL",municipality:"VESTVGY"},8378:{city:"STAMSUND",municipality:"VESTVGY"},8380:{city:"RAMBERG",municipality:"FLAKSTAD"},8382:{city:"NAPP",municipality:"FLAKSTAD"},8384:{city:"SUND I LOFOTEN",municipality:"FLAKSTAD"},8385:{city:"MLNARODDEN",municipality:"FLAKSTAD"},8387:{city:"FREDVANG",municipality:"FLAKSTAD"},8388:{city:"RAMBERG",municipality:"FLAKSTAD"},8390:{city:"REINE",municipality:"MOSKENES"},8392:{city:"SRVGEN",municipality:"MOSKENES"},8393:{city:"SRVGEN",municipality:"MOSKENES"},8398:{city:"REINE",municipality:"MOSKENES"},8400:{city:"SORTLAND",municipality:"SORTLAND"},8401:{city:"SORTLAND",municipality:"SORTLAND"},8402:{city:"SORTLAND",municipality:"SORTLAND"},8403:{city:"SORTLAND",municipality:"SORTLAND"},8404:{city:"SORTLAND",municipality:"SORTLAND"},8405:{city:"SORTLAND",municipality:"SORTLAND"},8406:{city:"SORTLAND",municipality:"SORTLAND"},8407:{city:"SORTLAND",municipality:"SORTLAND"},8408:{city:"SORTLAND",municipality:"KSNES"},8409:{city:"GULLESFJORD",municipality:"KVFJORD"},8410:{city:"LDINGEN",municipality:"LDINGEN"},8411:{city:"LDINGEN",municipality:"LDINGEN"},8412:{city:"VESTBYGD",municipality:"LDINGEN"},8413:{city:"KVITNES",municipality:"HADSEL"},8414:{city:"HENNES",municipality:"HADSEL"},8415:{city:"SORTLAND",municipality:"SORTLAND"},8416:{city:"SORTLAND",municipality:"SORTLAND"},8419:{city:"SORTLAND",municipality:"SORTLAND"},8426:{city:"BARKESTAD",municipality:"KSNES"},8428:{city:"TUNSTAD",municipality:"KSNES"},8430:{city:"MYRE",municipality:"KSNES"},8432:{city:"ALSVG",municipality:"KSNES"},8438:{city:"ST",municipality:"KSNES"},8439:{city:"MYRE",municipality:"KSNES"},8445:{city:"MELBU",municipality:"HADSEL"},8447:{city:"LONKAN",municipality:"HADSEL"},8450:{city:"STOKMARKNES",municipality:"HADSEL"},8455:{city:"STOKMARKNES",municipality:"HADSEL"},8459:{city:"MELBU",municipality:"HADSEL"},8465:{city:"STRAUMSJEN",municipality:"B"},8469:{city:"B I VESTERLEN",municipality:"B"},8470:{city:"B I VESTERLEN",municipality:"B"},8475:{city:"STRAUMSJEN",municipality:"B"},8480:{city:"ANDENES",municipality:"ANDY"},8481:{city:"BLEIK",municipality:"ANDY"},8483:{city:"ANDENES",municipality:"ANDY"},8484:{city:"RISYHAMN",municipality:"ANDY"},8485:{city:"DVERBERG",municipality:"ANDY"},8488:{city:"NSS",municipality:"ANDY"},8489:{city:"NORDMELA",municipality:"ANDY"},8493:{city:"RISYHAMN",municipality:"ANDY"},8501:{city:"NARVIK",municipality:"NARVIK"},8502:{city:"NARVIK",municipality:"NARVIK"},8503:{city:"NARVIK",municipality:"NARVIK"},8504:{city:"NARVIK",municipality:"NARVIK"},8505:{city:"NARVIK",municipality:"NARVIK"},8506:{city:"NARVIK",municipality:"NARVIK"},8507:{city:"NARVIK",municipality:"NARVIK"},8508:{city:"NARVIK",municipality:"NARVIK"},8509:{city:"NARVIK",municipality:"NARVIK"},8510:{city:"NARVIK",municipality:"NARVIK"},8512:{city:"NARVIK",municipality:"NARVIK"},8513:{city:"ANKENES",municipality:"NARVIK"},8514:{city:"NARVIK",municipality:"NARVIK"},8515:{city:"NARVIK",municipality:"NARVIK"},8516:{city:"NARVIK",municipality:"NARVIK"},8517:{city:"NARVIK",municipality:"NARVIK"},8518:{city:"NARVIK",municipality:"NARVIK"},8519:{city:"NARVIK",municipality:"NARVIK"},8520:{city:"ANKENES",municipality:"NARVIK"},8521:{city:"ANKENES",municipality:"NARVIK"},8522:{city:"BEISFJORD",municipality:"NARVIK"},8523:{city:"SKJOMEN",municipality:"NARVIK"},8530:{city:"BJERKVIK",municipality:"NARVIK"},8531:{city:"BJERKVIK",municipality:"NARVIK"},8533:{city:"BOGEN I OFOTEN",municipality:"EVENES"},8534:{city:"LILAND",municipality:"EVENES"},8535:{city:"TRSTAD",municipality:"EVENES"},8536:{city:"EVENES",municipality:"EVENES"},8539:{city:"BOGEN I OFOTEN",municipality:"EVENES"},8540:{city:"BALLANGEN",municipality:"NARVIK"},8543:{city:"KJELDEBOTN",municipality:"NARVIK"},8546:{city:"BALLANGEN",municipality:"NARVIK"},8590:{city:"KJPSVIK",municipality:"NARVIK"},8591:{city:"KJPSVIK",municipality:"NARVIK"},8601:{city:"MO I RANA",municipality:"RANA"},8602:{city:"MO I RANA",municipality:"RANA"},8603:{city:"MO I RANA",municipality:"RANA"},8604:{city:"MO I RANA",municipality:"RANA"},8607:{city:"MO I RANA",municipality:"RANA"},8609:{city:"MO I RANA",municipality:"RANA"},8610:{city:"MO I RANA",municipality:"RANA"},8611:{city:"MO I RANA",municipality:"RANA"},8613:{city:"MO I RANA",municipality:"RANA"},8614:{city:"MO I RANA",municipality:"RANA"},8615:{city:"SKONSENG",municipality:"RANA"},8616:{city:"MO I RANA",municipality:"RANA"},8617:{city:"DALSGRENDA",municipality:"RANA"},8618:{city:"MO I RANA",municipality:"RANA"},8619:{city:"MO I RANA",municipality:"RANA"},8622:{city:"MO I RANA",municipality:"RANA"},8624:{city:"MO I RANA",municipality:"RANA"},8626:{city:"MO I RANA",municipality:"RANA"},8630:{city:"STORFORSHEIA",municipality:"RANA"},8638:{city:"STORFORSHEIA",municipality:"RANA"},8640:{city:"HEMNESBERGET",municipality:"HEMNES"},8641:{city:"HEMNESBERGET",municipality:"HEMNES"},8642:{city:"FINNEIDFJORD",municipality:"HEMNES"},8643:{city:"BJERKA",municipality:"HEMNES"},8644:{city:"BJERKA",municipality:"HEMNES"},8646:{city:"KORGEN",municipality:"HEMNES"},8647:{city:"BLEIKVASSLIA",municipality:"HEMNES"},8648:{city:"KORGEN",municipality:"HEMNES"},8651:{city:"MOSJEN",municipality:"VEFSN"},8652:{city:"MOSJEN",municipality:"VEFSN"},8654:{city:"MOSJEN",municipality:"VEFSN"},8655:{city:"MOSJEN",municipality:"VEFSN"},8656:{city:"MOSJEN",municipality:"VEFSN"},8657:{city:"MOSJEN",municipality:"VEFSN"},8658:{city:"MOSJEN",municipality:"VEFSN"},8659:{city:"MOSJEN",municipality:"VEFSN"},8660:{city:"MOSJEN",municipality:"VEFSN"},8661:{city:"MOSJEN",municipality:"VEFSN"},8663:{city:"MOSJEN",municipality:"VEFSN"},8664:{city:"MOSJEN",municipality:"VEFSN"},8665:{city:"MOSJEN",municipality:"VEFSN"},8666:{city:"MOSJEN",municipality:"VEFSN"},8672:{city:"ELSFJORD",municipality:"VEFSN"},8681:{city:"TROFORS",municipality:"GRANE"},8682:{city:"TROFORS",municipality:"GRANE"},8683:{city:"TROFORS",municipality:"GRANE"},8684:{city:"TROFORS",municipality:"GRANE"},8685:{city:"TROFORS",municipality:"GRANE"},8691:{city:"HATTFJELLDAL",municipality:"HATTFJELLDAL"},8692:{city:"HATTFJELLDAL",municipality:"HATTFJELLDAL"},8693:{city:"HATTFJELLDAL",municipality:"HATTFJELLDAL"},8694:{city:"HATTFJELLDAL",municipality:"HATTFJELLDAL"},8695:{city:"HATTFJELLDAL",municipality:"HATTFJELLDAL"},8696:{city:"HATTFJELLDAL",municipality:"HATTFJELLDAL"},8700:{city:"NESNA",municipality:"NESNA"},8701:{city:"NESNA",municipality:"NESNA"},8704:{city:"NESNASTRANDA",municipality:"NESNA"},8705:{city:"STRANDLANDET",municipality:"NESNA"},8720:{city:"VIKHOLMEN",municipality:"NESNA"},8723:{city:"HUSBY",municipality:"NESNA"},8724:{city:"SAURA",municipality:"NESNA"},8725:{city:"UTSKARPEN",municipality:"RANA"},8730:{city:"BRATLAND",municipality:"LURY"},8732:{city:"ALDRA",municipality:"LURY"},8733:{city:"STUVLAND",municipality:"LURY"},8735:{city:"STOKKVGEN",municipality:"LURY"},8740:{city:"NORD-SOLVR",municipality:"LURY"},8742:{city:"SELVR",municipality:"TRNA"},8743:{city:"INDRE KVARY",municipality:"LURY"},8750:{city:"TONNES",municipality:"LURY"},8752:{city:"KONSVIKOSEN",municipality:"LURY"},8754:{city:"RESVIK",municipality:"RDY"},8762:{city:"SLENESET",municipality:"LURY"},8764:{city:"LOVUND",municipality:"LURY"},8766:{city:"LURY",municipality:"LURY"},8770:{city:"TRNA",municipality:"TRNA"},8800:{city:"SANDNESSJEN",municipality:"ALSTAHAUG"},8801:{city:"SANDNESSJEN",municipality:"ALSTAHAUG"},8802:{city:"SANDNESSJEN",municipality:"ALSTAHAUG"},8803:{city:"SANDNESSJEN",municipality:"ALSTAHAUG"},8804:{city:"SANDNESSJEN",municipality:"ALSTAHAUG"},8805:{city:"SANDNESSJEN",municipality:"ALSTAHAUG"},8809:{city:"SANDNESSJEN",municipality:"ALSTAHAUG"},8813:{city:"LKTA",municipality:"DNNA"},8820:{city:"DNNA",municipality:"DNNA"},8827:{city:"DNNA",municipality:"DNNA"},8830:{city:"VANDVE",municipality:"DNNA"},8842:{city:"BRASY",municipality:"HERY (NORDLAND)"},8844:{city:"SANDVR",municipality:"HERY (NORDLAND)"},8850:{city:"HERY",municipality:"HERY (NORDLAND)"},8851:{city:"HERY",municipality:"HERY (NORDLAND)"},8852:{city:"HERY",municipality:"HERY (NORDLAND)"},8854:{city:"AUSTB",municipality:"ALSTAHAUG"},8860:{city:"TJTTA",municipality:"ALSTAHAUG"},8861:{city:"TJTTA",municipality:"ALSTAHAUG"},8865:{city:"TRO",municipality:"ALSTAHAUG"},8870:{city:"VISTHUS",municipality:"VEVELSTAD"},8880:{city:"BRYVGEN",municipality:"ALSTAHAUG"},8890:{city:"LEIRFJORD",municipality:"LEIRFJORD"},8891:{city:"LEIRFJORD",municipality:"LEIRFJORD"},8892:{city:"SUNDY",municipality:"LEIRFJORD"},8897:{city:"BARDAL",municipality:"LEIRFJORD"},8900:{city:"BRNNYSUND",municipality:"BRNNY"},8901:{city:"BRNNYSUND",municipality:"BRNNY"},8902:{city:"BRNNYSUND",municipality:"BRNNY"},8904:{city:"BRNNYSUND",municipality:"BRNNY"},8905:{city:"BRNNYSUND",municipality:"BRNNY"},8906:{city:"BRNNYSUND",municipality:"BRNNY"},8907:{city:"BRNNYSUND",municipality:"BRNNY"},8908:{city:"BRNNYSUND",municipality:"BRNNY"},8909:{city:"BRNNYSUND",municipality:"BRNNY"},8910:{city:"BRNNYSUND",municipality:"BRNNY"},8920:{city:"SMNA",municipality:"SMNA"},8921:{city:"SMNA",municipality:"SMNA"},8922:{city:"SMNA",municipality:"SMNA"},8960:{city:"VELFJORD",municipality:"BRNNY"},8961:{city:"VELFJORD",municipality:"BRNNY"},8976:{city:"VEVELSTAD",municipality:"VEVELSTAD"},8977:{city:"VEVELSTAD",municipality:"VEVELSTAD"},8981:{city:"VEGA",municipality:"VEGA"},8982:{city:"VEGA",municipality:"VEGA"},8983:{city:"VEGA",municipality:"VEGA"},8984:{city:"VEGA",municipality:"VEGA"},8985:{city:"YLVINGEN",municipality:"VEGA"},8986:{city:"VEGA",municipality:"VEGA"},9006:{city:"TROMS",municipality:"TROMS"},9007:{city:"TROMS",municipality:"TROMS"},9008:{city:"TROMS",municipality:"TROMS"},9009:{city:"TROMS",municipality:"TROMS"},9010:{city:"TROMS",municipality:"TROMS"},9011:{city:"TROMS",municipality:"TROMS"},9012:{city:"TROMS",municipality:"TROMS"},9013:{city:"TROMS",municipality:"TROMS"},9014:{city:"TROMS",municipality:"TROMS"},9015:{city:"TROMS",municipality:"TROMS"},9016:{city:"TROMS",municipality:"TROMS"},9017:{city:"TROMS",municipality:"TROMS"},9018:{city:"TROMS",municipality:"TROMS"},9019:{city:"TROMS",municipality:"TROMS"},9020:{city:"TROMSDALEN",municipality:"TROMS"},9021:{city:"TROMSDALEN",municipality:"TROMS"},9022:{city:"KROKELVDALEN",municipality:"TROMS"},9023:{city:"KROKELVDALEN",municipality:"TROMS"},9024:{city:"TOMASJORD",municipality:"TROMS"},9027:{city:"RAMFJORDBOTN",municipality:"TROMS"},9029:{city:"TROMSDALEN",municipality:"TROMS"},9030:{city:"SJURSNES",municipality:"TROMS"},9034:{city:"OLDERVIK",municipality:"TROMS"},9037:{city:"TROMS",municipality:"TROMS"},9038:{city:"TROMS",municipality:"TROMS"},9040:{city:"NORDKJOSBOTN",municipality:"BALSFJORD"},9042:{city:"LAKSVATN",municipality:"BALSFJORD"},9043:{city:"JVIK",municipality:"TROMS"},9045:{city:"LAKSELVBUKT",municipality:"TROMS"},9046:{city:"OTEREN",municipality:"STORFJORD"},9049:{city:"NORDKJOSBOTN",municipality:"BALSFJORD"},9050:{city:"STORSTEINNES",municipality:"BALSFJORD"},9055:{city:"MEISTERVIK",municipality:"BALSFJORD"},9056:{city:"MORTENHALS",municipality:"BALSFJORD"},9057:{city:"VIKRAN",municipality:"TROMS"},9059:{city:"STORSTEINNES",municipality:"BALSFJORD"},9060:{city:"LYNGSEIDET",municipality:"LYNGEN"},9062:{city:"FURUFLATEN",municipality:"LYNGEN"},9064:{city:"SVENSBY",municipality:"LYNGEN"},9068:{city:"NORD-LENANGEN",municipality:"LYNGEN"},9069:{city:"LYNGSEIDET",municipality:"LYNGEN"},9100:{city:"KVALYSLETTA",municipality:"TROMS"},9101:{city:"KVALYSLETTA",municipality:"TROMS"},9102:{city:"KVALYSLETTA",municipality:"TROMS"},9103:{city:"KVALYA",municipality:"TROMS"},9104:{city:"KVALYA",municipality:"TROMS"},9105:{city:"KVALYA",municipality:"TROMS"},9106:{city:"STRAUMSBUKTA",municipality:"TROMS"},9107:{city:"KVALYA",municipality:"TROMS"},9108:{city:"KVALYA",municipality:"TROMS"},9109:{city:"KVALYA",municipality:"TROMS"},9110:{city:"SOMMARY",municipality:"TROMS"},9118:{city:"BRENSHOLMEN",municipality:"TROMS"},9119:{city:"SOMMARY",municipality:"TROMS"},9120:{city:"VENGSY",municipality:"TROMS"},9128:{city:"TUSSY",municipality:"TROMS"},9130:{city:"HANSNES",municipality:"KARLSY"},9131:{city:"KRVIK",municipality:"TROMS"},9132:{city:"STAKKVIK",municipality:"KARLSY"},9134:{city:"HANSNES",municipality:"KARLSY"},9135:{city:"VANNVG",municipality:"KARLSY"},9136:{city:"VANNAREID",municipality:"KARLSY"},9137:{city:"VANNVG",municipality:"KARLSY"},9138:{city:"KARLSY",municipality:"KARLSY"},9140:{city:"REBBENES",municipality:"KARLSY"},9141:{city:"MJLVIK",municipality:"TROMS"},9142:{city:"SKIBOTN",municipality:"STORFJORD"},9143:{city:"SKIBOTN",municipality:"STORFJORD"},9144:{city:"SAMUELSBERG",municipality:"GIVUOTNA KFJORD"},9145:{city:"SAMUELSBERG",municipality:"GIVUOTNA KFJORD"},9146:{city:"OLDERDALEN",municipality:"GIVUOTNA KFJORD"},9147:{city:"BIRTAVARRE",municipality:"GIVUOTNA KFJORD"},9148:{city:"OLDERDALEN",municipality:"GIVUOTNA KFJORD"},9149:{city:"BIRTAVARRE",municipality:"GIVUOTNA KFJORD"},9151:{city:"STORSLETT",municipality:"NORDREISA"},9152:{city:"SRKJOSEN",municipality:"NORDREISA"},9153:{city:"ROTSUND",municipality:"NORDREISA"},9154:{city:"STORSLETT",municipality:"NORDREISA"},9155:{city:"SRKJOSEN",municipality:"NORDREISA"},9156:{city:"STORSLETT",municipality:"NORDREISA"},9157:{city:"STORSLETT",municipality:"NORDREISA"},9158:{city:"STORSLETT",municipality:"NORDREISA"},9159:{city:"HAVNNES",municipality:"NORDREISA"},9161:{city:"BURFJORD",municipality:"KVNANGEN"},9162:{city:"SRSTRAUMEN",municipality:"KVNANGEN"},9163:{city:"JKELFJORD",municipality:"KVNANGEN"},9169:{city:"BURFJORD",municipality:"KVNANGEN"},9170:{city:"LONGYEARBYEN",municipality:"SVALBARD"},9171:{city:"LONGYEARBYEN",municipality:"SVALBARD"},9173:{city:"NY-LESUND",municipality:"SVALBARD"},9174:{city:"HOPEN",municipality:"SVALBARD"},9175:{city:"SVEAGRUVA",municipality:"SVALBARD"},9176:{city:"BJRNYA",municipality:"SVALBARD"},9178:{city:"BARENTSBURG",municipality:"SVALBARD"},9180:{city:"SKJERVY",municipality:"SKJERVY"},9181:{city:"HAMNEIDET",municipality:"NORDREISA"},9182:{city:"SEGLVIK",municipality:"KVNANGEN"},9184:{city:"REINFJORD",municipality:"KVNANGEN"},9185:{city:"SPILDRA",municipality:"KVNANGEN"},9186:{city:"ANDSNES",municipality:"LOPPA"},9187:{city:"VALANHAMN",municipality:"KVNANGEN"},9189:{city:"SKJERVY",municipality:"SKJERVY"},9190:{city:"AKKARVIK",municipality:"SKJERVY"},9192:{city:"ARNYHAMN",municipality:"SKJERVY"},9193:{city:"NIKKEBY",municipality:"SKJERVY"},9194:{city:"LAUKSLETTA",municipality:"SKJERVY"},9195:{city:"RVIKSAND",municipality:"SKJERVY"},9197:{city:"ULYBUKT",municipality:"SKJERVY"},9240:{city:"TROMS",municipality:"TROMS"},9251:{city:"TROMS",municipality:"TROMS"},9252:{city:"TROMS",municipality:"TROMS"},9253:{city:"TROMS",municipality:"TROMS"},9254:{city:"TROMS",municipality:"TROMS"},9255:{city:"TROMS",municipality:"TROMS"},9256:{city:"TROMS",municipality:"TROMS"},9257:{city:"TROMS",municipality:"TROMS"},9258:{city:"TROMS",municipality:"TROMS"},9259:{city:"TROMS",municipality:"TROMS"},9260:{city:"TROMS",municipality:"TROMS"},9261:{city:"TROMS",municipality:"TROMS"},9262:{city:"TROMS",municipality:"TROMS"},9263:{city:"TROMS",municipality:"TROMS"},9265:{city:"TROMS",municipality:"TROMS"},9266:{city:"TROMS",municipality:"TROMS"},9267:{city:"TROMS",municipality:"TROMS"},9268:{city:"TROMS",municipality:"TROMS"},9269:{city:"TROMS",municipality:"TROMS"},9270:{city:"TROMS",municipality:"TROMS"},9271:{city:"TROMS",municipality:"TROMS"},9272:{city:"TROMS",municipality:"TROMS"},9273:{city:"TROMS",municipality:"TROMS"},9274:{city:"TROMS",municipality:"TROMS"},9275:{city:"TROMS",municipality:"TROMS"},9276:{city:"TROMS",municipality:"TROMS"},9277:{city:"TROMS",municipality:"TROMS"},9278:{city:"TROMS",municipality:"TROMS"},9279:{city:"TROMS",municipality:"TROMS"},9280:{city:"TROMS",municipality:"TROMS"},9281:{city:"TROMS",municipality:"TROMS"},9282:{city:"TROMS",municipality:"TROMS"},9283:{city:"TROMS",municipality:"TROMS"},9284:{city:"TROMS",municipality:"TROMS"},9285:{city:"TROMS",municipality:"TROMS"},9286:{city:"TROMS",municipality:"TROMS"},9287:{city:"TROMS",municipality:"TROMS"},9288:{city:"TROMS",municipality:"TROMS"},9290:{city:"TROMS",municipality:"TROMS"},9291:{city:"TROMS",municipality:"TROMS"},9292:{city:"TROMS",municipality:"TROMS"},9293:{city:"TROMS",municipality:"TROMS"},9294:{city:"TROMS",municipality:"TROMS"},9296:{city:"TROMS",municipality:"TROMS"},9298:{city:"TROMS",municipality:"TROMS"},9299:{city:"TROMS",municipality:"TROMS"},9300:{city:"FINNSNES",municipality:"SENJA"},9302:{city:"ROSSFJORDSTRAUMEN",municipality:"SENJA"},9303:{city:"SILSAND",municipality:"SENJA"},9304:{city:"VANGSVIK",municipality:"SENJA"},9305:{city:"FINNSNES",municipality:"SENJA"},9306:{city:"FINNSNES",municipality:"SENJA"},9307:{city:"FINNSNES",municipality:"SENJA"},9308:{city:"FINNSNES",municipality:"SENJA"},9309:{city:"FINNSNES",municipality:"SENJA"},9310:{city:"SRREISA",municipality:"SRREISA"},9311:{city:"BRSTADBOTN",municipality:"DYRY"},9315:{city:"SRREISA",municipality:"SRREISA"},9316:{city:"BRSTADBOTN",municipality:"DYRY"},9321:{city:"MOEN",municipality:"MLSELV"},9322:{city:"KARLSTAD",municipality:"MLSELV"},9325:{city:"BARDUFOSS",municipality:"MLSELV"},9326:{city:"BARDUFOSS",municipality:"MLSELV"},9329:{city:"MOEN",municipality:"MLSELV"},9334:{city:"VERBYGD",municipality:"MLSELV"},9335:{city:"VERBYGD",municipality:"MLSELV"},9336:{city:"RUNDHAUG",municipality:"MLSELV"},9350:{city:"SJVEGAN",municipality:"SALANGEN"},9355:{city:"SJVEGAN",municipality:"SALANGEN"},9357:{city:"TENNEVOLL",municipality:"LAVANGEN"},9358:{city:"TENNEVOLL",municipality:"LAVANGEN"},9360:{city:"BARDU",municipality:"BARDU"},9365:{city:"BARDU",municipality:"BARDU"},9370:{city:"SILSAND",municipality:"SENJA"},9372:{city:"GIBOSTAD",municipality:"SENJA"},9373:{city:"BOTNHAMN",municipality:"SENJA"},9376:{city:"SKATVIK",municipality:"SENJA"},9379:{city:"GRYLLEFJORD",municipality:"SENJA"},9380:{city:"GRYLLEFJORD",municipality:"SENJA"},9381:{city:"TORSKEN",municipality:"SENJA"},9382:{city:"GIBOSTAD",municipality:"SENJA"},9384:{city:"SKALAND",municipality:"SENJA"},9385:{city:"SKALAND",municipality:"SENJA"},9386:{city:"SENJAHOPEN",municipality:"SENJA"},9387:{city:"SENJAHOPEN",municipality:"SENJA"},9388:{city:"FJORDGARD",municipality:"SENJA"},9389:{city:"HUSY I SENJA",municipality:"SENJA"},9391:{city:"STONGLANDSEIDET",municipality:"SENJA"},9392:{city:"STONGLANDSEIDET",municipality:"SENJA"},9393:{city:"FLAKSTADVG",municipality:"SENJA"},9395:{city:"KALDFARNES",municipality:"SENJA"},9402:{city:"HARSTAD",municipality:"HARSTAD"},9403:{city:"HARSTAD",municipality:"HARSTAD"},9404:{city:"HARSTAD",municipality:"HARSTAD"},9405:{city:"HARSTAD",municipality:"HARSTAD"},9406:{city:"HARSTAD",municipality:"HARSTAD"},9407:{city:"HARSTAD",municipality:"HARSTAD"},9408:{city:"HARSTAD",municipality:"HARSTAD"},9409:{city:"HARSTAD",municipality:"HARSTAD"},9411:{city:"HARSTAD",municipality:"HARSTAD"},9414:{city:"HARSTAD",municipality:"HARSTAD"},9415:{city:"HARSTAD",municipality:"HARSTAD"},9416:{city:"HARSTAD",municipality:"HARSTAD"},9419:{city:"SRVIK",municipality:"HARSTAD"},9420:{city:"LUNDENES",municipality:"HARSTAD"},9423:{city:"GRTAVR",municipality:"HARSTAD"},9424:{city:"KJTTA",municipality:"HARSTAD"},9425:{city:"SANDSY",municipality:"HARSTAD"},9426:{city:"BJARKY",municipality:"HARSTAD"},9427:{city:"MELYVR",municipality:"HARSTAD"},9430:{city:"SANDTORG",municipality:"HARSTAD"},9436:{city:"KONGSVIK",municipality:"TJELDSUND"},9439:{city:"EVENSKJER",municipality:"TJELDSUND"},9440:{city:"EVENSKJER",municipality:"TJELDSUND"},9441:{city:"FJELLDAL",municipality:"TJELDSUND"},9442:{city:"RAMSUND",municipality:"TJELDSUND"},9443:{city:"MYKLEBOSTAD",municipality:"TJELDSUND"},9444:{city:"HOL I TJELDSUND",municipality:"TJELDSUND"},9445:{city:"TOVIK",municipality:"TJELDSUND"},9446:{city:"GROVFJORD",municipality:"TJELDSUND"},9447:{city:"GROVFJORD",municipality:"TJELDSUND"},9448:{city:"RAMSUND",municipality:"TJELDSUND"},9450:{city:"HAMNVIK",municipality:"IBESTAD"},9451:{city:"HAMNVIK",municipality:"IBESTAD"},9453:{city:"KRKRHAMN",municipality:"IBESTAD"},9454:{city:"NSTAD",municipality:"IBESTAD"},9455:{city:"ENGENES",municipality:"IBESTAD"},9456:{city:"ENGENES",municipality:"IBESTAD"},9470:{city:"GRATANGEN",municipality:"GRATANGEN"},9471:{city:"GRATANGEN",municipality:"GRATANGEN"},9475:{city:"BORKENES",municipality:"KVFJORD"},9476:{city:"BORKENES",municipality:"KVFJORD"},9479:{city:"HARSTAD",municipality:"HARSTAD"},9480:{city:"HARSTAD",municipality:"HARSTAD"},9481:{city:"HARSTAD",municipality:"HARSTAD"},9482:{city:"HARSTAD",municipality:"HARSTAD"},9483:{city:"HARSTAD",municipality:"HARSTAD"},9484:{city:"HARSTAD",municipality:"HARSTAD"},9485:{city:"HARSTAD",municipality:"HARSTAD"},9486:{city:"HARSTAD",municipality:"HARSTAD"},9487:{city:"HARSTAD",municipality:"HARSTAD"},9488:{city:"HARSTAD",municipality:"HARSTAD"},9489:{city:"HARSTAD",municipality:"HARSTAD"},9496:{city:"HARSTAD",municipality:"HARSTAD"},9497:{city:"HARSTAD",municipality:"HARSTAD"},9498:{city:"HARSTAD",municipality:"HARSTAD"},9501:{city:"ALTA",municipality:"ALTA"},9502:{city:"ALTA",municipality:"ALTA"},9503:{city:"ALTA",municipality:"ALTA"},9504:{city:"ALTA",municipality:"ALTA"},9505:{city:"ALTA",municipality:"ALTA"},9506:{city:"ALTA",municipality:"ALTA"},9507:{city:"ALTA",municipality:"ALTA"},9508:{city:"ALTA",municipality:"ALTA"},9509:{city:"ALTA",municipality:"ALTA"},9510:{city:"ALTA",municipality:"ALTA"},9511:{city:"ALTA",municipality:"ALTA"},9512:{city:"ALTA",municipality:"ALTA"},9513:{city:"ALTA",municipality:"ALTA"},9514:{city:"ALTA",municipality:"ALTA"},9515:{city:"ALTA",municipality:"ALTA"},9516:{city:"ALTA",municipality:"ALTA"},9517:{city:"ALTA",municipality:"ALTA"},9518:{city:"ALTA",municipality:"ALTA"},9519:{city:"KVIBY",municipality:"ALTA"},9520:{city:"KAUTOKEINO",municipality:"GUOVDAGEAIDNU KAUTOKEINO"},9521:{city:"KAUTOKEINO",municipality:"GUOVDAGEAIDNU KAUTOKEINO"},9522:{city:"KAUTOKEINO",municipality:"GUOVDAGEAIDNU KAUTOKEINO"},9523:{city:"KAUTOKEINO",municipality:"GUOVDAGEAIDNU KAUTOKEINO"},9524:{city:"KAUTOKEINO",municipality:"GUOVDAGEAIDNU KAUTOKEINO"},9525:{city:"MAZE",municipality:"GUOVDAGEAIDNU KAUTOKEINO"},9527:{city:"KAUTOKEINO",municipality:"GUOVDAGEAIDNU KAUTOKEINO"},9528:{city:"KAUTOKEINO",municipality:"GUOVDAGEAIDNU KAUTOKEINO"},9529:{city:"KAUTOKEINO",municipality:"GUOVDAGEAIDNU KAUTOKEINO"},9531:{city:"KVALFJORD",municipality:"ALTA"},9532:{city:"HAKKSTABBEN",municipality:"ALTA"},9533:{city:"KONGSHUS",municipality:"ALTA"},9536:{city:"KORSFJORDEN",municipality:"ALTA"},9537:{city:"TVERRELVDALEN",municipality:"ALTA"},9538:{city:"ALTA",municipality:"ALTA"},9540:{city:"TALVIK",municipality:"ALTA"},9541:{city:"ALTA",municipality:"ALTA"},9545:{city:"LANGFJORDBOTN",municipality:"ALTA"},9550:{city:"KSFJORD",municipality:"LOPPA"},9552:{city:"KSFJORDEN",municipality:"LOPPA"},9580:{city:"BERGSFJORD",municipality:"LOPPA"},9582:{city:"NUVSVG",municipality:"LOPPA"},9583:{city:"LANGFJORDHAMN",municipality:"LOPPA"},9584:{city:"SR-TVERRFJORD",municipality:"LOPPA"},9585:{city:"SANDLAND",municipality:"LOPPA"},9586:{city:"LOPPA",municipality:"LOPPA"},9587:{city:"SKAVNAKK",municipality:"LOPPA"},9590:{city:"HASVIK",municipality:"HASVIK"},9591:{city:"HASVIK",municipality:"HASVIK"},9593:{city:"BREIVIKBOTN",municipality:"HASVIK"},9595:{city:"SRVR",municipality:"HASVIK"},9600:{city:"HAMMERFEST",municipality:"HAMMERFEST"},9601:{city:"HAMMERFEST",municipality:"HAMMERFEST"},9602:{city:"HAMMERFEST",municipality:"HAMMERFEST"},9603:{city:"HAMMERFEST",municipality:"HAMMERFEST"},9609:{city:"NORDRE SEILAND",municipality:"HAMMERFEST"},9610:{city:"RYPEFJORD",municipality:"HAMMERFEST"},9611:{city:"RYPEFJORD",municipality:"HAMMERFEST"},9612:{city:"FORSL",municipality:"HAMMERFEST"},9615:{city:"HAMMERFEST",municipality:"HAMMERFEST"},9616:{city:"HAMMERFEST",municipality:"HAMMERFEST"},9620:{city:"KVALSUND",municipality:"HAMMERFEST"},9621:{city:"KVALSUND",municipality:"HAMMERFEST"},9624:{city:"REVSNESHAMN",municipality:"HAMMERFEST"},9650:{city:"AKKARFJORD",municipality:"HAMMERFEST"},9651:{city:"LANGSTRAND",municipality:"HAMMERFEST"},9657:{city:"KRHAMN",municipality:"HAMMERFEST"},9664:{city:"SANDYBOTN",municipality:"HAMMERFEST"},9670:{city:"TUFJORD",municipality:"MSY"},9672:{city:"INGY",municipality:"MSY"},9690:{city:"HAVYSUND",municipality:"MSY"},9691:{city:"HAVYSUND",municipality:"MSY"},9692:{city:"MSY",municipality:"MSY"},9700:{city:"LAKSELV",municipality:"PORSANGER PORSNGU PORSANKI"},9709:{city:"PORSANGMOEN",municipality:"PORSANGER PORSNGU PORSANKI"},9710:{city:"INDRE BILLEFJORD",municipality:"PORSANGER PORSNGU PORSANKI"},9711:{city:"LAKSELV",municipality:"PORSANGER PORSNGU PORSANKI"},9712:{city:"LAKSELV",municipality:"PORSANGER PORSNGU PORSANKI"},9713:{city:"RUSSENES",municipality:"PORSANGER PORSNGU PORSANKI"},9714:{city:"SNEFJORD",municipality:"MSY"},9715:{city:"KOKELV",municipality:"HAMMERFEST"},9716:{city:"BRSELV",municipality:"PORSANGER PORSNGU PORSANKI"},9717:{city:"VEIDNES",municipality:"LEBESBY"},9722:{city:"SKOGANVARRE",municipality:"PORSANGER PORSNGU PORSANKI"},9730:{city:"KARASJOK",municipality:"KARASJOHKA KARASJOK"},9731:{city:"KARASJOK",municipality:"KARASJOHKA KARASJOK"},9732:{city:"KARASJOK",municipality:"KARASJOHKA KARASJOK"},9733:{city:"KARASJOK",municipality:"KARASJOHKA KARASJOK"},9734:{city:"KARASJOK",municipality:"KARASJOHKA KARASJOK"},9735:{city:"KARASJOK",municipality:"KARASJOHKA KARASJOK"},9736:{city:"KARASJOK",municipality:"KARASJOHKA KARASJOK"},9737:{city:"KARASJOK",municipality:"KARASJOHKA KARASJOK"},9740:{city:"LEBESBY",municipality:"LEBESBY"},9742:{city:"KUNES",municipality:"LEBESBY"},9750:{city:"HONNINGSVG",municipality:"NORDKAPP"},9751:{city:"HONNINGSVG",municipality:"NORDKAPP"},9760:{city:"NORDVGEN",municipality:"NORDKAPP"},9762:{city:"KAMYVR",municipality:"NORDKAPP"},9763:{city:"SKARSVG",municipality:"NORDKAPP"},9764:{city:"NORDKAPP",municipality:"NORDKAPP"},9765:{city:"GJESVR",municipality:"NORDKAPP"},9766:{city:"SARNES",municipality:"NORDKAPP"},9768:{city:"REPVG",municipality:"NORDKAPP"},9770:{city:"MEHAMN",municipality:"GAMVIK"},9771:{city:"SKJNES",municipality:"GAMVIK"},9772:{city:"LANGFJORDNES",municipality:"GAMVIK"},9773:{city:"NERVEI",municipality:"GAMVIK"},9775:{city:"GAMVIK",municipality:"GAMVIK"},9782:{city:"DYFJORD",municipality:"LEBESBY"},9790:{city:"KJLLEFJORD",municipality:"LEBESBY"},9800:{city:"VADS",municipality:"VADS"},9801:{city:"VADS",municipality:"VADS"},9802:{city:"VESTRE JAKOBSELV",municipality:"VADS"},9803:{city:"VADS",municipality:"VADS"},9804:{city:"VADS",municipality:"VADS"},9810:{city:"VESTRE JAKOBSELV",municipality:"VADS"},9811:{city:"VADS",municipality:"VADS"},9815:{city:"VADS",municipality:"VADS"},9820:{city:"VARANGERBOTN",municipality:"UNJARGGA NESSEBY"},9826:{city:"SIRMA",municipality:"DEATNU TANA"},9840:{city:"VARANGERBOTN",municipality:"UNJARGGA NESSEBY"},9841:{city:"TANA",municipality:"DEATNU TANA"},9842:{city:"TANA",municipality:"DEATNU TANA"},9843:{city:"TANA",municipality:"DEATNU TANA"},9844:{city:"TANA",municipality:"DEATNU TANA"},9845:{city:"TANA",municipality:"DEATNU TANA"},9846:{city:"TANA",municipality:"DEATNU TANA"},9900:{city:"KIRKENES",municipality:"SR-VARANGER"},9901:{city:"KIRKENES",municipality:"SR-VARANGER"},9910:{city:"BJRNEVATN",municipality:"SR-VARANGER"},9911:{city:"JARFJORD",municipality:"SR-VARANGER"},9912:{city:"HESSENG",municipality:"SR-VARANGER"},9914:{city:"BJRNEVATN",municipality:"SR-VARANGER"},9915:{city:"KIRKENES",municipality:"SR-VARANGER"},9916:{city:"HESSENG",municipality:"SR-VARANGER"},9917:{city:"KIRKENES",municipality:"SR-VARANGER"},9925:{city:"SVANVIK",municipality:"SR-VARANGER"},9926:{city:"PASVIK",municipality:"SR-VARANGER"},9930:{city:"NEIDEN",municipality:"SR-VARANGER"},9935:{city:"BUGYNES",municipality:"SR-VARANGER"},9950:{city:"VARD",municipality:"VARD"},9951:{city:"VARD",municipality:"VARD"},9952:{city:"VARD",municipality:"VARD"},9955:{city:"SVARTNES",municipality:"VARD"},9960:{city:"KIBERG",municipality:"VARD"},9980:{city:"BERLEVG",municipality:"BERLEVG"},9981:{city:"BERLEVG",municipality:"BERLEVG"},9982:{city:"KONGSFJORD",municipality:"BERLEVG"},9990:{city:"BTSFJORD",municipality:"BTSFJORD"},9991:{city:"BTSFJORD",municipality:"BTSFJORD"}};function t(n){const i=e[n];if(i)return i}return ob.getPostalCodeInfo=t,ob}var IVe=MVe();function YO({value:e,onChange:t,placeholder:n="e.g., 0361",autoCompleteCity:i}){const r=g.useRef(i),a=g.useRef("");g.useEffect(()=>{r.current=i},[i]);const[o,l]=g.useState(e);return g.useEffect(()=>{const c=setTimeout(()=>{l(e),a.current=""},300);return()=>clearTimeout(c)},[e]),g.useEffect(()=>{if(!o||o.length!==4||o===a.current)return;a.current=o;const c=IVe.getPostalCodeInfo(o);c&&r.current&&r.current(c.city)},[o]),s.jsx(qe,{value:e,onChange:c=>t(c.target.value),placeholder:n,maxLength:4})}function PVe({open:e,onOpenChange:t,companyId:n,mode:i="create",initialData:r}){var M,z,U,K,te,q;const a=Yt(),{success:o,error:l,info:c}=Jt(),[u,d]=g.useState(""),{data:h=[],isFetching:m}=et({...CFe({companyId:n,search:u}),enabled:!!n&&e}),[p,v]=g.useState(null),[S,b]=g.useState("view"),w=g.useMemo(()=>h.find(V=>V.id===p)??null,[h,p]),R=g.useMemo(()=>({id:null,name:"",address_line:"",zip_code:"",city:"",country:"Norway"}),[]),[E,_]=g.useState(R),N=(V,Q)=>_(ce=>({...ce,[V]:Q??""}));g.useEffect(()=>{if(!e)return;const V=r==null?void 0:r.address;V!=null&&V.id?(v(V.id),b("view"),_({id:V.id,name:V.name,address_line:V.address_line,zip_code:V.zip_code,city:V.city,country:V.country})):(v(null),b("view"),_(R))},[e,(M=r==null?void 0:r.address)==null?void 0:M.id,(z=r==null?void 0:r.address)==null?void 0:z.name,(U=r==null?void 0:r.address)==null?void 0:U.address_line,(K=r==null?void 0:r.address)==null?void 0:K.zip_code,(te=r==null?void 0:r.address)==null?void 0:te.city,(q=r==null?void 0:r.address)==null?void 0:q.country,R]),g.useEffect(()=>{if(!p)return;const V=h.find(Q=>Q.id===p);V&&(b("view"),_({id:V.id,name:V.name??"",address_line:V.address_line,zip_code:V.zip_code,city:V.city,country:V.country}))},[p,h]);const O=g.useMemo(()=>[E.address_line,E.zip_code,E.city,E.country].filter(Boolean).join(", "),[E.address_line,E.zip_code,E.city,E.country]),j=bt({mutationFn:async()=>{if(!p)throw new Error("Select an address first");if(!(r!=null&&r.id))throw new Error("Missing job id");const{error:V}=await re.from("jobs").update({job_address_id:p}).eq("id",r.id);if(V)throw V},onSuccess:async()=>{await Promise.all([a.invalidateQueries({queryKey:["address",n,"address-index"]}),a.invalidateQueries({queryKey:["jobs-detail",r==null?void 0:r.id]})]),o("Address set on job"),t(!1)},onError:V=>{l("Failed to set address on job",(V==null?void 0:V.message)??"Please try again.")}}),D=bt({mutationFn:async()=>{const V={name:E.name||null,address_line:E.address_line||null,zip_code:E.zip_code||null,city:E.city||null,country:E.country||null,company_id:n};if(S==="edit"&&E.id){if(w!=null&&w.is_personal)throw new Error("Personal addresses cannot be edited");const{error:ae}=await re.from("addresses").update(V).eq("id",E.id);if(ae)throw ae;return E.id}const{data:Q,error:ce}=await re.from("addresses").insert([V]).select("id").single();if(ce)throw ce;return Q.id},onSuccess:async V=>{await a.invalidateQueries({queryKey:["address",n,"address-index"]}),v(V),b("view"),o("Address saved")},onError:V=>{l("Failed to save address",(V==null?void 0:V.message)??"Please try again.")}}),P=bt({mutationFn:async()=>{if(!E.id)throw new Error("Nothing selected to delete");if(w!=null&&w.is_personal)throw new Error("Personal addresses cannot be deleted");const{error:V}=await re.from("addresses").update({deleted:!0}).eq("id",E.id);if(V)throw V},onSuccess:async()=>{await a.invalidateQueries({queryKey:["address",n,"address-index"]}),v(null),_(R),b("view"),c("Address deleted")},onError:V=>{l("Failed to delete",(V==null?void 0:V.message)??"Please try again.")}}),B=(S==="edit"||S==="create")&&!!E.address_line&&!!E.city&&!!E.zip_code&&!!E.country;return s.jsx(rn,{open:e,onOpenChange:t,children:s.jsxs(an,{maxWidth:"1200px",style:{display:"flex",flexDirection:"column",height:"auto"},children:[s.jsx(cn,{children:"Manage address"}),s.jsxs(Zn,{columns:{initial:"1",sm:"2",md:"3"},gap:"4",style:{minHeight:0,flex:1},children:[s.jsxs(X,{children:[s.jsxs(qe,{placeholder:"Search addresses",value:u,onChange:V=>d(V.target.value),size:"3",children:[s.jsx(Sr,{side:"left",children:s.jsx(qu,{})}),s.jsx(Sr,{side:"right",children:m&&s.jsx(Ei,{})})]}),s.jsx(W1,{type:"auto",scrollbars:"vertical",style:{height:"calc(100% - 50px)"},children:s.jsxs($,{direction:"column",gap:"1",mt:"2",p:"1",children:[h.map(V=>s.jsx(kVe,{selected:p===V.id,name:V.name,city:V.city,onClick:()=>v(V.id),isPersonal:!!V.is_personal},V.id)),h.length===0&&s.jsx(X,{p:"3",children:s.jsx(L,{color:"gray",children:"No addresses found."})})]})})]}),s.jsxs($,{direction:"column",style:{minHeight:0},children:[s.jsxs($,{justify:"between",align:"center",mb:"2",gap:"2",children:[s.jsx(L,{weight:"medium",children:"Details"}),S==="view"?s.jsxs(pe,{variant:"soft",size:"2",onClick:()=>{b("create"),_(R),v(null)},children:[s.jsx(yi,{})," Add new address"]}):null]}),s.jsx($,{direction:"column",gap:"3",style:{flex:1,minHeight:0},children:S==="view"?s.jsx($Ve,{form:E}):s.jsx(FVe,{form:E,setFormVal:N})}),s.jsx($,{justify:"end",gap:"2",mt:"3",children:S==="view"?s.jsxs(s.Fragment,{children:[s.jsxs(pe,{variant:"ghost",disabled:!p||(w==null?void 0:w.is_personal),onClick:()=>{w!=null&&w.is_personal||b("edit")},children:[s.jsx(o6,{})," Edit"]}),s.jsxs(pe,{variant:"ghost",color:"red",disabled:!p||(w==null?void 0:w.is_personal)||P.isPending,onClick:()=>{w!=null&&w.is_personal||P.mutate()},children:[s.jsx(vi,{})," Delete"]})]}):s.jsxs(s.Fragment,{children:[s.jsxs(pe,{variant:"soft",onClick:()=>{if(p){b("view");const V=h.find(Q=>Q.id===p);V&&_({id:V.id,name:V.name??"",address_line:V.address_line,zip_code:V.zip_code,city:V.city,country:V.country})}else b("view"),_(R)},children:[s.jsx(wu,{})," Cancel"]}),s.jsxs(pe,{variant:"classic",disabled:!B||D.isPending,onClick:()=>D.mutate(),children:[s.jsx(el,{})," Save address"]})]})})]}),s.jsx(X,{style:{maxWidth:"100%",height:"100%",minHeight:"170px",overflow:"hidden",borderRadius:8},children:O?s.jsx(nv,{query:O,zoom:14}):null})]}),s.jsxs($,{justify:"end",gap:"2",mt:"3",children:[s.jsx(Dn,{children:s.jsx(pe,{variant:"soft",children:"Close"})}),s.jsx(pe,{variant:"classic",disabled:!p||j.isPending,onClick:()=>j.mutate(),children:j.isPending?"Saving":"Use"})]})]})})}function kVe({selected:e,name:t,city:n,onClick:i,isPersonal:r}){return s.jsxs(X,{p:"2",style:{borderRadius:8,cursor:"pointer",background:e?"var(--color-panel-solid)":void 0,outline:e?"2px solid var(--accent-9)":"1px solid var(--gray-5)",opacity:r?.9:1},onClick:i,title:r?"Personal address (view only)":void 0,children:[s.jsxs(L,{weight:"medium",children:[t||""," ",r?s.jsx(mt,{children:"personal"}):null]}),s.jsx(L,{size:"2",color:"gray",as:"div",children:n||""})]})}function $Ve({form:e}){return s.jsxs($,{direction:"column",gap:"2",children:[s.jsx(cb,{label:"Name",children:e.name||""}),s.jsx(cb,{label:"Address",children:e.address_line||""}),s.jsxs($,{gap:"3",wrap:"wrap",children:[s.jsx(cb,{label:"ZIP",children:e.zip_code||""}),s.jsx(cb,{label:"City",children:e.city||""})]}),s.jsx(cb,{label:"Country",children:e.country||""})]})}function FVe({form:e,setFormVal:t}){return s.jsxs($,{direction:"column",gap:"3",children:[s.jsx(lb,{label:"Name",children:s.jsx(qe,{value:e.name,onChange:n=>t("name",n.target.value),placeholder:"e.g., Hotel Plaza"})}),s.jsx(lb,{label:"Address line",children:s.jsx(qe,{value:e.address_line,onChange:n=>t("address_line",n.target.value),placeholder:"Street and number"})}),s.jsxs($,{gap:"3",wrap:"wrap",children:[s.jsx(lb,{label:"ZIP",children:s.jsx(YO,{value:e.zip_code,onChange:n=>t("zip_code",n),autoCompleteCity:n=>t("city",n)})}),s.jsx(lb,{label:"City",children:s.jsx(qe,{value:e.city,onChange:n=>t("city",n.target.value),placeholder:"e.g., Oslo"})})]}),s.jsx(lb,{label:"Country",children:s.jsx(qe,{value:e.country,onChange:n=>t("country",n.target.value)})})]})}function lb({label:e,children:t}){return s.jsxs("div",{style:{minWidth:160},children:[s.jsx(L,{as:"div",size:"2",color:"gray",style:{marginBottom:6},children:e}),t]})}function cb({label:e,children:t}){return s.jsxs("div",{style:{marginBottom:8},children:[s.jsx(L,{style:{display:"block"},size:"2",color:"gray",children:e}),s.jsx(L,{children:t})]})}var DC={exports:{}},CC,NH;function BVe(){if(NH)return CC;NH=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return CC=e,CC}var LC,OH;function zVe(){if(OH)return LC;OH=1;var e=BVe();function t(){}function n(){}return n.resetWarningCache=t,LC=function(){function i(o,l,c,u,d,h){if(h!==e){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}i.isRequired=i;function r(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a},LC}var jH;function UVe(){return jH||(jH=1,DC.exports=zVe()()),DC.exports}var VVe=UVe();const It=ol(VVe);function KVe(e,t,n){switch(n){case"Backspace":t>0&&(e=e.slice(0,t-1)+e.slice(t),t--);break;case"Delete":e=e.slice(0,t)+e.slice(t+1);break}return{value:e,caret:t}}function GVe(e,t,n){for(var i={},r="",a=0,o=0;o<e.length;){var l=n(e[o],r,i);l!==void 0&&(r+=l,t!==void 0&&(t===o?a=r.length-1:t>o&&(a=r.length))),o++}t===void 0&&(a=r.length);var c={value:r,caret:a};return c}function HVe(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=qVe(e))||t){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qVe(e,t){if(e){if(typeof e=="string")return DH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DH(e,t)}}function DH(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function X6(e,t){for(var n=0,i=HVe(t.split("")),r;!(r=i()).done;){var a=r.value;a===e&&n++}return n}function WVe(e,t){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"x",i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",r=e.length,a=X6("(",e),o=X6(")",e),l=a-o;l>0&&r<t.length;)e+=t[r].replace(n,i),t[r]===")"&&l--,r++;return e}function YVe(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=JVe(e))||t){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JVe(e,t){if(e){if(typeof e=="string")return CH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CH(e,t)}}function CH(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function QVe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",n=arguments.length>2?arguments[2]:void 0;if(!e)return function(r){return{text:r}};var i=X6(t,e);return function(r){if(!r)return{text:"",template:e};for(var a=0,o="",l=YVe(e.split("")),c;!(c=l()).done;){var u=c.value;if(u!==t){o+=u;continue}if(o+=r[a],a++,a===r.length&&r.length<i)break}return n&&(o=WVe(o,e)),{text:o,template:e}}}function XVe(e,t,n){typeof n=="string"&&(n=QVe(n));var i=n(e)||{},r=i.text,a=i.template;if(r===void 0&&(r=e),a)if(t===void 0)t=r.length;else{for(var o=0,l=!1,c=-1;o<r.length&&o<a.length;){if(r[o]!==a[o]){if(t===0){l=!0,t=o;break}c=o,t--}o++}l||(t=c+1)}return{text:r,caret:t}}function ZVe(e){return e.hasAttribute("readonly")}function eKe(e){if(e.selectionStart!==e.selectionEnd)return{start:e.selectionStart,end:e.selectionEnd}}var LH={Backspace:8,Delete:46};function tKe(e){switch(e.keyCode){case LH.Backspace:return"Backspace";case LH.Delete:return"Delete"}}function nKe(e){return e.selectionStart}function jue(e,t){t!==void 0&&(iKe()?setTimeout(function(){return e.setSelectionRange(t,t)},0):e.setSelectionRange(t,t))}function iKe(){if(typeof navigator<"u")return rKe.test(navigator.userAgent)}var rKe=/Android/i;function aKe(e,t,n,i,r){Z6(t,n,i,void 0,r)}function sKe(e,t,n,i,r){if(!ZVe(t)){var a=tKe(e);switch(a){case"Delete":case"Backspace":e.preventDefault();var o=eKe(t);return o?(oKe(t,o),Z6(t,n,i,void 0,r)):Z6(t,n,i,a,r)}}}function oKe(e,t){var n=e.value;n=n.slice(0,t.start)+n.slice(t.end),e.value=n,jue(e,t.start)}function Z6(e,t,n,i,r){var a=GVe(e.value,nKe(e),t),o=a.value,l=a.caret;if(i){var c=KVe(o,l,i);o=c.value,l=c.caret}var u=XVe(o,l,n),d=u.text;l=u.caret,e.value=d,jue(e,l),r&&r(o)}var lKe=["ref","parse","format","value","defaultValue","controlled","onChange","onKeyDown"];function TH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function o0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TH(Object(n),!0).forEach(function(i){cKe(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TH(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function cKe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uKe(e,t){if(e==null)return{};var n=dKe(e,t),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)i=a[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function dKe(e,t){if(e==null)return{};var n={},i=Object.keys(e),r,a;for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function fKe(e){var t=e.ref,n=e.parse,i=e.format,r=e.value,a=e.defaultValue,o=e.controlled,l=o===void 0?!0:o,c=e.onChange,u=e.onKeyDown,d=uKe(e,lKe),h=g.useRef(),m=g.useCallback(function(b){h.current=b,t&&(typeof t=="function"?t(b):t.current=b)},[t]),p=g.useCallback(function(b){return aKe(b,h.current,n,i,c)},[h,n,i,c]),v=g.useCallback(function(b){if(u&&u(b),!b.defaultPrevented)return sKe(b,h.current,n,i,c)},[h,n,i,c,u]),S=o0(o0({},d),{},{ref:m,onChange:p,onKeyDown:v});return l?o0(o0({},S),{},{value:i(MH(r)?"":r).text}):o0(o0({},S),{},{defaultValue:i(MH(a)?"":a).text})}function MH(e){return e==null}var hKe=["inputComponent","parse","format","value","defaultValue","onChange","controlled","onKeyDown","type"];function IH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function pKe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IH(Object(n),!0).forEach(function(i){mKe(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IH(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function mKe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yKe(e,t){if(e==null)return{};var n=gKe(e,t),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)i=a[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function gKe(e,t){if(e==null)return{};var n={},i=Object.keys(e),r,a;for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function AR(e,t){var n=e.inputComponent,i=n===void 0?"input":n,r=e.parse,a=e.format,o=e.value,l=e.defaultValue,c=e.onChange,u=e.controlled,d=e.onKeyDown,h=e.type,m=h===void 0?"text":h,p=yKe(e,hKe),v=fKe(pKe({ref:t,parse:r,format:a,value:o,defaultValue:l,onChange:c,controlled:u,onKeyDown:d,type:m},p));return Pt.createElement(i,v)}AR=Pt.forwardRef(AR);AR.propTypes={parse:It.func.isRequired,format:It.func.isRequired,inputComponent:It.elementType,type:It.string,value:It.string,defaultValue:It.string,onChange:It.func,controlled:It.bool,onKeyDown:It.func,onCut:It.func,onPaste:It.func};function Due(e){var t=e.inputFormat,n=e.country,i=e.metadata;return t==="NATIONAL_PART_OF_INTERNATIONAL"?"+".concat(Lm(n,i)):""}function eM(e,t){return t&&(e=e.slice(t.length),e[0]===" "&&(e=e.slice(1))),e}function vKe(e,t,n){if(!(n&&n.ignoreRest)){var i=function(a){if(n)switch(a){case"end":n.ignoreRest=!0;break}};return Eue(e,t,i)}}function Cue(e){var t=e.onKeyDown,n=e.inputFormat;return g.useCallback(function(i){if(i.keyCode===bKe&&n==="INTERNATIONAL"&&i.target instanceof HTMLInputElement&&SKe(i.target)===xKe.length){i.preventDefault();return}t&&t(i)},[t,n])}function SKe(e){return e.selectionStart}var bKe=8,xKe="+",wKe=["onKeyDown","country","inputFormat","metadata","international","withCountryCallingCode"];function tM(){return tM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},tM.apply(this,arguments)}function EKe(e,t){if(e==null)return{};var n=_Ke(e,t),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)i=a[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function _Ke(e,t){if(e==null)return{};var n={},i=Object.keys(e),r,a;for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function AKe(e){function t(n,i){var r=n.onKeyDown,a=n.country,o=n.inputFormat,l=n.metadata,c=l===void 0?e:l;n.international,n.withCountryCallingCode;var u=EKe(n,wKe),d=g.useCallback(function(m){var p=new eS(a,c),v=Due({inputFormat:o,country:a,metadata:c}),S=p.input(v+m),b=p.getTemplate();return v&&(S=eM(S,v),b&&(b=eM(b,v))),{text:S,template:b}},[a,c]),h=Cue({onKeyDown:r,inputFormat:o});return Pt.createElement(AR,tM({},u,{ref:i,parse:vKe,format:d,onKeyDown:h}))}return t=Pt.forwardRef(t),t.propTypes={value:It.string.isRequired,onChange:It.func.isRequired,onKeyDown:It.func,country:It.string,inputFormat:It.oneOf(["INTERNATIONAL","NATIONAL_PART_OF_INTERNATIONAL","NATIONAL","INTERNATIONAL_OR_NATIONAL"]).isRequired,metadata:It.object},t}const RKe=AKe();var NKe=["value","onChange","onKeyDown","country","inputFormat","metadata","inputComponent","international","withCountryCallingCode"];function nM(){return nM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},nM.apply(this,arguments)}function OKe(e,t){if(e==null)return{};var n=jKe(e,t),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)i=a[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function jKe(e,t){if(e==null)return{};var n={},i=Object.keys(e),r,a;for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function DKe(e){function t(n,i){var r=n.value,a=n.onChange,o=n.onKeyDown,l=n.country,c=n.inputFormat,u=n.metadata,d=u===void 0?e:u,h=n.inputComponent,m=h===void 0?"input":h;n.international,n.withCountryCallingCode;var p=OKe(n,NKe),v=Due({inputFormat:c,country:l,metadata:d}),S=g.useCallback(function(w){var R=q6(w.target.value);if(R===r){var E=PH(v,R,l,d);E.indexOf(w.target.value)===0&&(R=R.slice(0,-1))}a(R)},[v,r,a,l,d]),b=Cue({onKeyDown:o,inputFormat:c});return Pt.createElement(m,nM({},p,{ref:i,value:PH(v,r,l,d),onChange:S,onKeyDown:b}))}return t=Pt.forwardRef(t),t.propTypes={value:It.string.isRequired,onChange:It.func.isRequired,onKeyDown:It.func,country:It.string,inputFormat:It.oneOf(["INTERNATIONAL","NATIONAL_PART_OF_INTERNATIONAL","NATIONAL","INTERNATIONAL_OR_NATIONAL"]).isRequired,metadata:It.object,inputComponent:It.elementType},t}const CKe=DKe();function PH(e,t,n,i){return eM(CVe(e+t,n,i),e)}function LKe(e){return kH(e[0])+kH(e[1])}function kH(e){return String.fromCodePoint(127397+e.toUpperCase().charCodeAt(0))}var TKe=["value","onChange","options","disabled","readOnly"],MKe=["value","options","className","iconComponent","getIconAspectRatio","arrowComponent","unicodeFlags"];function IKe(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=PKe(e))||t){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PKe(e,t){if(e){if(typeof e=="string")return $H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $H(e,t)}}function $H(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function RR(){return RR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},RR.apply(this,arguments)}function Lue(e,t){if(e==null)return{};var n=kKe(e,t),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)i=a[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function kKe(e,t){if(e==null)return{};var n={},i=Object.keys(e),r,a;for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function Tue(e){var t=e.value,n=e.onChange,i=e.options,r=e.disabled,a=e.readOnly,o=Lue(e,TKe),l=g.useCallback(function(c){var u=c.target.value;n(u==="ZZ"?void 0:u)},[n]);return g.useMemo(function(){return Iue(i,t)},[i,t]),Pt.createElement("select",RR({},o,{disabled:r||a,readOnly:a,value:t||"ZZ",onChange:l}),i.map(function(c){var u=c.value,d=c.label,h=c.divider;return Pt.createElement("option",{key:h?"|":u||"ZZ",value:h?"|":u||"ZZ",disabled:!!h,style:h?$Ke:void 0},d)}))}Tue.propTypes={value:It.string,onChange:It.func.isRequired,options:It.arrayOf(It.shape({value:It.string,label:It.string,divider:It.bool})).isRequired,disabled:It.bool,readOnly:It.bool};var $Ke={fontSize:"1px",backgroundColor:"currentColor",color:"inherit"};function Mue(e){var t=e.value,n=e.options,i=e.className,r=e.iconComponent;e.getIconAspectRatio;var a=e.arrowComponent,o=a===void 0?FKe:a,l=e.unicodeFlags,c=Lue(e,MKe),u=g.useMemo(function(){return Iue(n,t)},[n,t]);return Pt.createElement("div",{className:"PhoneInputCountry"},Pt.createElement(Tue,RR({},c,{value:t,options:n,className:Bt("PhoneInputCountrySelect",i)})),u&&(l&&t?Pt.createElement("div",{className:"PhoneInputCountryIconUnicode"},LKe(t)):Pt.createElement(r,{"aria-hidden":!0,country:t,label:u.label,aspectRatio:l?1:void 0})),Pt.createElement(o,null))}Mue.propTypes={iconComponent:It.elementType,arrowComponent:It.elementType,unicodeFlags:It.bool};function FKe(){return Pt.createElement("div",{className:"PhoneInputCountrySelectArrow"})}function Iue(e,t){for(var n=IKe(e),i;!(i=n()).done;){var r=i.value;if(!r.divider&&BKe(r.value,t))return r}}function BKe(e,t){return e==null?t==null:e===t}var zKe=["country","countryName","flags","flagUrl"];function iM(){return iM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},iM.apply(this,arguments)}function UKe(e,t){if(e==null)return{};var n=VKe(e,t),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)i=a[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function VKe(e,t){if(e==null)return{};var n={},i=Object.keys(e),r,a;for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function ik(e){var t=e.country,n=e.countryName,i=e.flags,r=e.flagUrl,a=UKe(e,zKe);return i&&i[t]?i[t]({title:n}):Pt.createElement("img",iM({},a,{alt:n,role:n?void 0:"presentation",src:r.replace("{XX}",t).replace("{xx}",t.toLowerCase())}))}ik.propTypes={country:It.string.isRequired,countryName:It.string.isRequired,flags:It.objectOf(It.elementType),flagUrl:It.string.isRequired};var KKe=["aspectRatio"],GKe=["title"],HKe=["title"];function NR(){return NR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},NR.apply(this,arguments)}function rk(e,t){if(e==null)return{};var n=qKe(e,t),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)i=a[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function qKe(e,t){if(e==null)return{};var n={},i=Object.keys(e),r,a;for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function JO(e){var t=e.aspectRatio,n=rk(e,KKe);return t===1?Pt.createElement(kue,n):Pt.createElement(Pue,n)}JO.propTypes={title:It.string.isRequired,aspectRatio:It.number};function Pue(e){var t=e.title,n=rk(e,GKe);return Pt.createElement("svg",NR({},n,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 75 50"}),Pt.createElement("title",null,t),Pt.createElement("g",{className:"PhoneInputInternationalIconGlobe",stroke:"currentColor",fill:"none",strokeWidth:"2",strokeMiterlimit:"10"},Pt.createElement("path",{strokeLinecap:"round",d:"M47.2,36.1C48.1,36,49,36,50,36c7.4,0,14,1.7,18.5,4.3"}),Pt.createElement("path",{d:"M68.6,9.6C64.2,12.3,57.5,14,50,14c-7.4,0-14-1.7-18.5-4.3"}),Pt.createElement("line",{x1:"26",y1:"25",x2:"74",y2:"25"}),Pt.createElement("line",{x1:"50",y1:"1",x2:"50",y2:"49"}),Pt.createElement("path",{strokeLinecap:"round",d:"M46.3,48.7c1.2,0.2,2.5,0.3,3.7,0.3c13.3,0,24-10.7,24-24S63.3,1,50,1S26,11.7,26,25c0,2,0.3,3.9,0.7,5.8"}),Pt.createElement("path",{strokeLinecap:"round",d:"M46.8,48.2c1,0.6,2.1,0.8,3.2,0.8c6.6,0,12-10.7,12-24S56.6,1,50,1S38,11.7,38,25c0,1.4,0.1,2.7,0.2,4c0,0.1,0,0.2,0,0.2"})),Pt.createElement("path",{className:"PhoneInputInternationalIconPhone",stroke:"none",fill:"currentColor",d:"M12.4,17.9c2.9-2.9,5.4-4.8,0.3-11.2S4.1,5.2,1.3,8.1C-2,11.4,1.1,23.5,13.1,35.6s24.3,15.2,27.5,11.9c2.8-2.8,7.8-6.3,1.4-11.5s-8.3-2.6-11.2,0.3c-2,2-7.2-2.2-11.7-6.7S10.4,19.9,12.4,17.9z"}))}Pue.propTypes={title:It.string.isRequired};function kue(e){var t=e.title,n=rk(e,HKe);return Pt.createElement("svg",NR({},n,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50"}),Pt.createElement("title",null,t),Pt.createElement("g",{className:"PhoneInputInternationalIconGlobe",stroke:"currentColor",fill:"none",strokeWidth:"2",strokeLinecap:"round"},Pt.createElement("path",{d:"M8.45,13A21.44,21.44,0,1,1,37.08,41.56"}),Pt.createElement("path",{d:"M19.36,35.47a36.9,36.9,0,0,1-2.28-13.24C17.08,10.39,21.88.85,27.8.85s10.72,9.54,10.72,21.38c0,6.48-1.44,12.28-3.71,16.21"}),Pt.createElement("path",{d:"M17.41,33.4A39,39,0,0,1,27.8,32.06c6.62,0,12.55,1.5,16.48,3.86"}),Pt.createElement("path",{d:"M44.29,8.53c-3.93,2.37-9.86,3.88-16.49,3.88S15.25,10.9,11.31,8.54"}),Pt.createElement("line",{x1:"27.8",y1:"0.85",x2:"27.8",y2:"34.61"}),Pt.createElement("line",{x1:"15.2",y1:"22.23",x2:"49.15",y2:"22.23"})),Pt.createElement("path",{className:"PhoneInputInternationalIconPhone",stroke:"transparent",fill:"currentColor",d:"M9.42,26.64c2.22-2.22,4.15-3.59.22-8.49S3.08,17,.93,19.17c-2.49,2.48-.13,11.74,9,20.89s18.41,11.5,20.89,9c2.15-2.15,5.91-4.77,1-8.71s-6.27-2-8.49.22c-1.55,1.55-5.48-1.69-8.86-5.08S7.87,28.19,9.42,26.64Z"}))}kue.propTypes={title:It.string.isRequired};function WKe(e){if(e.length<2||e[0]!=="+")return!1;for(var t=1;t<e.length;){var n=e.charCodeAt(t);if(!(n>=48&&n<=57))return!1;t++}return!0}function $ue(e){WKe(e)||console.error("[react-phone-number-input] Expected the initial `value` to be a E.164 phone number. Got",e)}function YKe(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=JKe(e))||t){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JKe(e,t){if(e){if(typeof e=="string")return FH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FH(e,t)}}function FH(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function QKe(e,t){if(!t)return e;for(var n=[],i=[],r=n,a=function(){var u=l.value;if(u==="|")r.push({divider:!0});else if(u==="..."||u==="")r=i;else{var d;u===""?d=void 0:d=u;var h=e.indexOf(e.filter(function(p){return p.value===d})[0]),m=e[h];e.splice(h,1),r.push(m)}},o=YKe(t),l;!(l=o()).done;)a();return n.concat(e).concat(i)}function XKe(e,t){if(e&&(e=e.filter(function(n){switch(n){case"":case"|":case"...":case"":return!0;default:return QO(n,t)}}),e.length>0))return e}function QO(e,t){return uue(e,t)?!0:(console.error("Country not found: ".concat(e)),!1)}function Fue(e,t){return e&&(e=e.filter(function(n){return QO(n,t)}),e.length===0&&(e=void 0)),e}var ZKe=["country","label","aspectRatio"];function rM(){return rM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},rM.apply(this,arguments)}function eGe(e,t){if(e==null)return{};var n=tGe(e,t),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)i=a[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function tGe(e,t){if(e==null)return{};var n={},i=Object.keys(e),r,a;for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function Bue(e){var t=e.flags,n=e.flagUrl,i=e.flagComponent,r=e.internationalIcon;function a(o){var l=o.country,c=o.label,u=o.aspectRatio,d=eGe(o,ZKe),h=r===JO?u:void 0;return Pt.createElement("div",rM({},d,{className:Bt("PhoneInputCountryIcon",{"PhoneInputCountryIcon--square":h===1,"PhoneInputCountryIcon--border":l})}),l?Pt.createElement(i,{country:l,countryName:c,flags:t,flagUrl:n,className:"PhoneInputCountryIconImg"}):Pt.createElement(r,{title:c,aspectRatio:h,className:"PhoneInputCountryIconImg"}))}return a.propTypes={country:It.string,label:It.string.isRequired,aspectRatio:It.number},a}Bue({flagUrl:"https://purecatamphetamine.github.io/country-flag-icons/3x2/{XX}.svg",flagComponent:ik,internationalIcon:JO});function nGe(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=iGe(e))||t){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iGe(e,t){if(e){if(typeof e=="string")return BH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BH(e,t)}}function BH(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function rGe(e,t){for(var n=nGe(e),i;!(i=n()).done;){var r=i.value;r&&aGe(r,t)}}function aGe(e,t){typeof e=="function"?e(t):e.current=t}var zue=It.shape({country_calling_codes:It.object.isRequired,countries:It.object.isRequired}),Uue=It.objectOf(It.string);function lh(e,t){var n="+"+Lm(e,t);return n}function sGe(e){var t=e.value,n=e.phoneNumber,i=e.defaultCountry,r=e.getAnyCountry,a=e.countries,o=e.required,l=e.metadata,c;return n&&n.country?c=n.country:i&&(!t||U0(t,i,l))&&(c=i),a&&a.indexOf(c)<0&&(c=void 0),!c&&o&&a&&a.length>0&&(c=r()),c}function oGe(e){var t=e.countries,n=e.countryNames,i=e.addInternationalOption,r=e.compareStringsLocales,a=e.compareStrings;a||(a=pGe);var o=t.map(function(l){return{value:l,label:n[l]||l}});return o.sort(function(l,c){return a(l.label,c.label,r)}),i&&o.unshift({label:n.ZZ}),o}function Vue(e,t){return Nue(e||"",t)}function lGe(e){return e.formatNational().replace(/\D/g,"")}function cGe(e,t){var n=t.prevCountry,i=t.newCountry,r=t.metadata,a=t.useNationalFormat;if(n===i)return e;if(!e)return a?"":i?lh(i,r):"";if(i){if(e[0]==="+"){if(a)return e.indexOf("+"+Lm(i,r))===0?mGe(e,i,r):"";if(n){var o=lh(i,r);return e.indexOf(o)===0?e:o}else{var l=lh(i,r);return e.indexOf(l)===0?e:l}}}else if(e[0]!=="+")return x0(e,n,r)||"";return e}function x0(e,t,n){if(e){if(e[0]==="+"){if(e==="+")return;var i=new eS(t,n);return i.input(e),i.getNumberValue()}if(t){var r=Gue(e,t,n);return"+".concat(Lm(t,n)).concat(r||"")}}}function uGe(e,t,n){var i=Gue(e,t,n);if(i){var r=i.length-dGe(t,n);if(r>0)return e.slice(0,e.length-r)}return e}function dGe(e,t){return t=new ka(t),t.selectNumberingPlan(e),t.numberingPlan.possibleLengths()[t.numberingPlan.possibleLengths().length-1]}function Kue(e,t){var n=t.country,i=t.countries,r=t.defaultCountry,a=t.latestCountrySelectedByUser,o=t.required,l=t.metadata;if(e==="+")return n;var c=hGe(e,l);if(c)return!i||i.indexOf(c)>=0?c:void 0;if(n){if(U0(e,n,l)){if(a&&U0(e,a,l))return a;if(r&&U0(e,r,l))return r;if(!o)return}else if(!o)return}return n}function fGe(e,t){var n=t.prevPhoneDigits,i=t.country,r=t.defaultCountry,a=t.latestCountrySelectedByUser,o=t.countryRequired,l=t.getAnyCountry,c=t.countries,u=t.international,d=t.limitMaxLength,h=t.countryCallingCodeEditable,m=t.metadata;if(u&&h===!1&&i){var p=lh(i,m);if(e.indexOf(p)!==0){var v,S=e&&e[0]!=="+";return S?(e=p+e,v=x0(e,i,m)):e=p,{phoneDigits:e,value:v,country:i}}}u===!1&&i&&e&&e[0]==="+"&&(e=zH(e,i,m)),e&&i&&d&&(e=uGe(e,i,m)),e&&e[0]!=="+"&&(!i||u)&&(e="+"+e),!e&&n&&n[0]==="+"&&(u?i=void 0:i=r),e==="+"&&n&&n[0]==="+"&&n.length>1&&(i=void 0);var b;return e&&(e[0]==="+"&&(e==="+"||i&&lh(i,m).indexOf(e)===0)?b=void 0:b=x0(e,i,m)),b&&(i=Kue(b,{country:i,countries:c,defaultCountry:r,latestCountrySelectedByUser:a,required:!1,metadata:m}),u===!1&&i&&e&&e[0]==="+"&&(e=zH(e,i,m),b=x0(e,i,m))),!i&&o&&(i=r||l()),{phoneDigits:e,country:i,value:b}}function zH(e,t,n){if(e.indexOf(lh(t,n))===0){var i=new eS(t,n);i.input(e);var r=i.getNumber();return r?r.formatNational().replace(/\D/g,""):""}else return e.replace(/\D/g,"")}function hGe(e,t){var n=new eS(null,t);return n.input(e),n.getCountry()}function pGe(e,t,n){return String.prototype.localeCompare?e.localeCompare(t,n):e<t?-1:e>t?1:0}function mGe(e,t,n){if(t){var i="+"+Lm(t,n);if(e.length<i.length){if(i.indexOf(e)===0)return""}else if(e.indexOf(i)===0)return e.slice(i.length)}for(var r=0,a=Object.keys(n.country_calling_codes);r<a.length;r++){var o=a[r];if(e.indexOf(o)===1)return e.slice(1+o.length)}return""}function Gue(e,t,n){var i=new eS(t,n);i.input(e);var r=i.getNumber();return r&&r.nationalNumber}function U0(e,t,n){for(var i=lh(t,n),r=0;r<e.length&&r<i.length;){if(e[r]!==i[r])return!1;r++}return!0}function Hue(e){var t=e.value,n=e.phoneNumber,i=e.defaultCountry,r=e.international,a=e.useNationalFormat,o=e.metadata;return(r===!1||a)&&n&&n.country?lGe(n):!t&&r&&i?lh(i,o):t}function Wx(e){"@babel/helpers - typeof";return Wx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wx(e)}function UH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function YE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UH(Object(n),!0).forEach(function(i){yGe(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UH(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function yGe(e,t,n){return t=gGe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gGe(e){var t=vGe(e,"string");return Wx(t)=="symbol"?t:t+""}function vGe(e,t){if(Wx(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(Wx(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SGe(e,t,n){var i=e.metadata,r=e.countries,a=e.defaultCountry,o=e.value,l=e.reset,c=e.international,u=e.displayInitialValueAsLocalNumber,d=e.initialValueFormat,h=t.defaultCountry,m=t.value,p=t.reset;n.country;var v=n.value,S=n.hasUserSelectedACountry,b=n.latestCountrySelectedByUser,w=function(M){return Hue(YE(YE({},M),{},{international:c,useNationalFormat:u||d==="national",metadata:i}))};if(l!==p)return{phoneDigits:w({value:void 0,defaultCountry:a}),value:void 0,country:a,latestCountrySelectedByUser:void 0,hasUserSelectedACountry:void 0};if(a!==h){var R=!a||QO(a,i),E=!v||c&&v===w({value:void 0,defaultCountry:h}),_=!o&&E;if(!S&&R&&_)return{country:a,phoneDigits:w({value:void 0,defaultCountry:a}),value:void 0}}if(!VH(o,m)&&!VH(o,v)){var N,O;if(o){o&&$ue(o),N=Vue(o,i);var j=Fue(r,i);N&&N.country?(!j||j.indexOf(N.country)>=0)&&(O=N.country):(O=Kue(o,{country:void 0,countries:j,metadata:i}),O||a&&o.indexOf(lh(a,i))===0&&(O=a))}var D;if(o){if(b){var P=O?b===O:U0(o,b,i);P?O||(O=b):D={latestCountrySelectedByUser:void 0}}}else D={latestCountrySelectedByUser:void 0,hasUserSelectedACountry:void 0};return YE(YE({},D),{},{phoneDigits:w({phoneNumber:N,value:o,defaultCountry:a}),value:o,country:o?O:a})}}function VH(e,t){return e===null&&(e=void 0),t===null&&(t=void 0),e===t}var bGe=["name","disabled","readOnly","autoComplete","style","className","inputRef","inputComponent","numberInputProps","smartCaret","countrySelectComponent","countrySelectProps","containerComponent","containerComponentProps","defaultCountry","countries","countryOptionsOrder","labels","flags","flagComponent","flagUrl","addInternationalOption","internationalIcon","displayInitialValueAsLocalNumber","initialValueFormat","onCountryChange","limitMaxLength","countryCallingCodeEditable","focusInputOnCountrySelection","reset","metadata","international","locales"];function D1(e){"@babel/helpers - typeof";return D1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D1(e)}function KH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function que(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KH(Object(n),!0).forEach(function(i){pu(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KH(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function V0(){return V0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},V0.apply(this,arguments)}function xGe(e,t){if(e==null)return{};var n=wGe(e,t),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)i=a[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function wGe(e,t){if(e==null)return{};var n={},i=Object.keys(e),r,a;for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function EGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GH(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Yue(i.key),i)}}function _Ge(e,t,n){return t&&GH(e.prototype,t),n&&GH(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function AGe(e,t,n){return t=OR(t),RGe(e,Wue()?Reflect.construct(t,n||[],OR(e).constructor):t.apply(e,n))}function RGe(e,t){if(t&&(D1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NGe(e)}function NGe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wue(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wue=function(){return!!e})()}function OR(e){return OR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},OR(e)}function OGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aM(e,t)}function aM(e,t){return aM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},aM(e,t)}function pu(e,t,n){return t=Yue(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yue(e){var t=jGe(e,"string");return D1(t)=="symbol"?t:t+""}function jGe(e,t){if(D1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(D1(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DGe=(function(e){function t(n){var i;EGe(this,t),i=AGe(this,t,[n]),pu(i,"setInputRef",function(b){rGe([i.props.inputRef,i.inputRef],b)}),pu(i,"isCountrySupportedWithError",function(b){var w=i.props.metadata;return QO(b,w)}),pu(i,"onCountryChange",function(b){var w=i.props,R=w.international,E=w.metadata,_=w.onChange,N=w.focusInputOnCountrySelection,O=i.state,j=O.phoneDigits,D=O.country,P=cGe(j,{prevCountry:D,newCountry:b,metadata:E,useNationalFormat:!R}),B=x0(P,b,E);N&&i.inputRef.current.focus(),i.setState({country:b,latestCountrySelectedByUser:b,hasUserSelectedACountry:!0,phoneDigits:P,value:B},function(){_(B)})}),pu(i,"onChange",function(b){var w=i.props,R=w.defaultCountry,E=w.onChange,_=w.addInternationalOption,N=w.international,O=w.limitMaxLength,j=w.countryCallingCodeEditable,D=w.metadata,P=i.state,B=P.countries,M=P.phoneDigits,z=P.country,U=P.latestCountrySelectedByUser,K=fGe(b,{prevPhoneDigits:M,country:z,countryRequired:!_,defaultCountry:R,latestCountrySelectedByUser:U,getAnyCountry:function(){return i.getFirstSupportedCountry({countries:B})},countries:B,international:N,limitMaxLength:O,countryCallingCodeEditable:j,metadata:D}),te=K.phoneDigits,q=K.country,V=K.value,Q={phoneDigits:te,value:V,country:q};U&&V&&!U0(V,U,D)&&(Q.latestCountrySelectedByUser=void 0),j===!1&&!V&&te===i.state.phoneDigits&&(Q.forceRerender={}),i.setState(Q,function(){return E(V)})}),pu(i,"_onFocus",function(){return i.setState({isFocused:!0})}),pu(i,"_onBlur",function(){return i.setState({isFocused:!1})}),pu(i,"onFocus",function(b){i._onFocus();var w=i.props.onFocus;w&&w(b)}),pu(i,"onBlur",function(b){var w=i.props.onBlur;i._onBlur(),w&&w(b)}),pu(i,"onCountryFocus",function(b){i._onFocus();var w=i.props.countrySelectProps;if(w){var R=w.onFocus;R&&R(b)}}),pu(i,"onCountryBlur",function(b){i._onBlur();var w=i.props.countrySelectProps;if(w){var R=w.onBlur;R&&R(b)}}),i.inputRef=Pt.createRef();var r=i.props,a=r.value;r.labels;var o=r.international,l=r.addInternationalOption,c=r.displayInitialValueAsLocalNumber,u=r.initialValueFormat,d=r.metadata,h=i.props,m=h.defaultCountry,p=h.countries;m&&(i.isCountrySupportedWithError(m)||(m=void 0)),a&&$ue(a),p=Fue(p,d);var v=Vue(a,d);i.CountryIcon=Bue(i.props);var S=sGe({value:a,phoneNumber:v,defaultCountry:m,required:!l,countries:p||AH(d),getAnyCountry:function(){return i.getFirstSupportedCountry({countries:p})},metadata:d});return i.state={props:i.props,country:S,countries:p,phoneDigits:Hue({value:a,phoneNumber:v,defaultCountry:m,international:o,useNationalFormat:c||u==="national",metadata:d}),value:a},i}return OGe(t,e),_Ge(t,[{key:"componentDidMount",value:function(){var i=this.props.onCountryChange,r=this.props.defaultCountry,a=this.state.country;i&&(r&&(this.isCountrySupportedWithError(r)||(r=void 0)),a!==r&&i(a))}},{key:"componentDidUpdate",value:function(i,r){var a=this.props.onCountryChange,o=this.state.country;a&&o!==r.country&&a(o)}},{key:"getCountrySelectOptions",value:function(i){var r=i.countries,a=this.props,o=a.international,l=a.countryCallingCodeEditable,c=a.countryOptionsOrder,u=a.addInternationalOption,d=a.labels,h=a.locales,m=a.metadata;return this.useMemoCountrySelectOptions(function(){return QKe(oGe({countries:r||AH(m),countryNames:d,addInternationalOption:o&&l===!1?!1:u,compareStringsLocales:h}),XKe(c,m))},[r,c,u,d,m])}},{key:"useMemoCountrySelectOptions",value:function(i,r){return(!this.countrySelectOptionsMemoDependencies||!LGe(r,this.countrySelectOptionsMemoDependencies))&&(this.countrySelectOptionsMemo=i(),this.countrySelectOptionsMemoDependencies=r),this.countrySelectOptionsMemo}},{key:"getFirstSupportedCountry",value:function(i){var r=i.countries,a=this.getCountrySelectOptions({countries:r});return a[0].value}},{key:"render",value:function(){var i=this.props,r=i.name,a=i.disabled,o=i.readOnly,l=i.autoComplete,c=i.style,u=i.className;i.inputRef;var d=i.inputComponent,h=i.numberInputProps,m=i.smartCaret,p=i.countrySelectComponent,v=i.countrySelectProps,S=i.containerComponent,b=i.containerComponentProps;i.defaultCountry,i.countries,i.countryOptionsOrder;var w=i.labels;i.flags,i.flagComponent,i.flagUrl,i.addInternationalOption,i.internationalIcon,i.displayInitialValueAsLocalNumber,i.initialValueFormat,i.onCountryChange,i.limitMaxLength,i.countryCallingCodeEditable,i.focusInputOnCountrySelection,i.reset;var R=i.metadata,E=i.international;i.locales;var _=xGe(i,bGe),N=this.state,O=N.country,j=N.countries,D=N.phoneDigits,P=N.isFocused,B=m?RKe:CKe,M=this.getCountrySelectOptions({countries:j});return Pt.createElement(S,V0({style:c,className:Bt(u,"PhoneInput",{"PhoneInput--focus":P,"PhoneInput--disabled":a,"PhoneInput--readOnly":o})},b),Pt.createElement(p,V0({name:r?"".concat(r,"Country"):void 0,"aria-label":w.country},v,{value:O,options:M,onChange:this.onCountryChange,onFocus:this.onCountryFocus,onBlur:this.onCountryBlur,disabled:a||v&&v.disabled,readOnly:o||v&&v.readOnly,iconComponent:this.CountryIcon})),Pt.createElement(B,V0({ref:this.setInputRef,type:"tel",autoComplete:l},h,_,{inputFormat:E===!0?"INTERNATIONAL":E===!1?"NATIONAL":"INTERNATIONAL_OR_NATIONAL",international:E?!0:void 0,withCountryCallingCode:E?!0:void 0,name:r,metadata:R,country:O,value:D||"",onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,disabled:a,readOnly:o,inputComponent:d,className:Bt("PhoneInputInput",h&&h.className,_.className)})))}}],[{key:"getDerivedStateFromProps",value:function(i,r){return que({props:i},SGe(i,r.props,r))}}])})(Pt.PureComponent),Jue=Pt.forwardRef(function(e,t){return Pt.createElement(DGe,V0({},CGe(e),{inputRef:t}))});Jue.propTypes={value:It.string,onChange:It.func.isRequired,onFocus:It.func,onBlur:It.func,disabled:It.bool,readOnly:It.bool,autoComplete:It.string,initialValueFormat:It.oneOf(["national"]),displayInitialValueAsLocalNumber:It.bool,defaultCountry:It.string,countries:It.arrayOf(It.string),labels:Uue,locales:It.oneOfType([It.string,It.arrayOf(It.string)]),flagUrl:It.string,flags:It.objectOf(It.elementType),flagComponent:It.elementType,addInternationalOption:It.bool,internationalIcon:It.elementType,countryOptionsOrder:It.arrayOf(It.string),style:It.object,className:It.string,countrySelectComponent:It.elementType,countrySelectProps:It.object,inputComponent:It.elementType,numberInputProps:It.object,containerComponent:It.elementType,containerComponentProps:It.object,smartCaret:It.bool,international:It.bool,limitMaxLength:It.bool,countryCallingCodeEditable:It.bool,metadata:zue,onCountryChange:It.func,focusInputOnCountrySelection:It.bool};var HH={autoComplete:"tel",countrySelectComponent:Mue,flagComponent:ik,flagUrl:"https://purecatamphetamine.github.io/country-flag-icons/3x2/{XX}.svg",internationalIcon:JO,inputComponent:"input",containerComponent:"div",reset:It.any,smartCaret:!0,addInternationalOption:!0,countryCallingCodeEditable:!0,focusInputOnCountrySelection:!0};function CGe(e){e=que({},e);for(var t in HH)e[t]===void 0&&(e[t]=HH[t]);return e}function LGe(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;){if(e[n]!==t[n])return!1;n++}return!0}const TGe={ext:"ext.",country:"Phone number country",phone:"Phone",AB:"Abkhazia",AC:"Ascension Island",AD:"Andorra",AE:"United Arab Emirates",AF:"Afghanistan",AG:"Antigua and Barbuda",AI:"Anguilla",AL:"Albania",AM:"Armenia",AO:"Angola",AQ:"Antarctica",AR:"Argentina",AS:"American Samoa",AT:"Austria",AU:"Australia",AW:"Aruba",AX:"land Islands",AZ:"Azerbaijan",BA:"Bosnia and Herzegovina",BB:"Barbados",BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BL:"Saint Barthlemy",BM:"Bermuda",BN:"Brunei Darussalam",BO:"Bolivia",BQ:"Bonaire, Sint Eustatius and Saba",BR:"Brazil",BS:"Bahamas",BT:"Bhutan",BV:"Bouvet Island",BW:"Botswana",BY:"Belarus",BZ:"Belize",CA:"Canada",CC:"Cocos (Keeling) Islands",CD:"Congo, Democratic Republic of the",CF:"Central African Republic",CG:"Congo",CH:"Switzerland",CI:"Cote d'Ivoire",CK:"Cook Islands",CL:"Chile",CM:"Cameroon",CN:"China",CO:"Colombia",CR:"Costa Rica",CU:"Cuba",CV:"Cape Verde",CW:"Curaao",CX:"Christmas Island",CY:"Cyprus",CZ:"Czech Republic",DE:"Germany",DJ:"Djibouti",DK:"Denmark",DM:"Dominica",DO:"Dominican Republic",DZ:"Algeria",EC:"Ecuador",EE:"Estonia",EG:"Egypt",EH:"Western Sahara",ER:"Eritrea",ES:"Spain",ET:"Ethiopia",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands",FM:"Federated States of Micronesia",FO:"Faroe Islands",FR:"France",GA:"Gabon",GB:"United Kingdom",GD:"Grenada",GE:"Georgia",GF:"French Guiana",GG:"Guernsey",GH:"Ghana",GI:"Gibraltar",GL:"Greenland",GM:"Gambia",GN:"Guinea",GP:"Guadeloupe",GQ:"Equatorial Guinea",GR:"Greece",GS:"South Georgia and the South Sandwich Islands",GT:"Guatemala",GU:"Guam",GW:"Guinea-Bissau",GY:"Guyana",HK:"Hong Kong",HM:"Heard Island and McDonald Islands",HN:"Honduras",HR:"Croatia",HT:"Haiti",HU:"Hungary",ID:"Indonesia",IE:"Ireland",IL:"Israel",IM:"Isle of Man",IN:"India",IO:"British Indian Ocean Territory",IQ:"Iraq",IR:"Iran",IS:"Iceland",IT:"Italy",JE:"Jersey",JM:"Jamaica",JO:"Jordan",JP:"Japan",KE:"Kenya",KG:"Kyrgyzstan",KH:"Cambodia",KI:"Kiribati",KM:"Comoros",KN:"Saint Kitts and Nevis",KP:"North Korea",KR:"South Korea",KW:"Kuwait",KY:"Cayman Islands",KZ:"Kazakhstan",LA:"Laos",LB:"Lebanon",LC:"Saint Lucia",LI:"Liechtenstein",LK:"Sri Lanka",LR:"Liberia",LS:"Lesotho",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",LY:"Libya",MA:"Morocco",MC:"Monaco",MD:"Moldova",ME:"Montenegro",MF:"Saint Martin (French Part)",MG:"Madagascar",MH:"Marshall Islands",MK:"North Macedonia",ML:"Mali",MM:"Myanmar",MN:"Mongolia",MO:"Macao",MP:"Northern Mariana Islands",MQ:"Martinique",MR:"Mauritania",MS:"Montserrat",MT:"Malta",MU:"Mauritius",MV:"Maldives",MW:"Malawi",MX:"Mexico",MY:"Malaysia",MZ:"Mozambique",NA:"Namibia",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NP:"Nepal",NR:"Nauru",NU:"Niue",NZ:"New Zealand",OM:"Oman",OS:"South Ossetia",PA:"Panama",PE:"Peru",PF:"French Polynesia",PG:"Papua New Guinea",PH:"Philippines",PK:"Pakistan",PL:"Poland",PM:"Saint Pierre and Miquelon",PN:"Pitcairn",PR:"Puerto Rico",PS:"Palestine",PT:"Portugal",PW:"Palau",PY:"Paraguay",QA:"Qatar",RE:"Reunion",RO:"Romania",RS:"Serbia",RU:"Russia",RW:"Rwanda",SA:"Saudi Arabia",SB:"Solomon Islands",SC:"Seychelles",SD:"Sudan",SE:"Sweden",SG:"Singapore",SH:"Saint Helena",SI:"Slovenia",SJ:"Svalbard and Jan Mayen",SK:"Slovakia",SL:"Sierra Leone",SM:"San Marino",SN:"Senegal",SO:"Somalia",SR:"Suriname",SS:"South Sudan",ST:"Sao Tome and Principe",SV:"El Salvador",SX:"Sint Maarten",SY:"Syria",SZ:"Swaziland",TA:"Tristan da Cunha",TC:"Turks and Caicos Islands",TD:"Chad",TF:"French Southern Territories",TG:"Togo",TH:"Thailand",TJ:"Tajikistan",TK:"Tokelau",TL:"Timor-Leste",TM:"Turkmenistan",TN:"Tunisia",TO:"Tonga",TR:"Turkey",TT:"Trinidad and Tobago",TV:"Tuvalu",TW:"Taiwan",TZ:"Tanzania",UA:"Ukraine",UG:"Uganda",UM:"United States Minor Outlying Islands",US:"United States",UY:"Uruguay",UZ:"Uzbekistan",VA:"Holy See (Vatican City State)",VC:"Saint Vincent and the Grenadines",VE:"Venezuela",VG:"Virgin Islands, British",VI:"Virgin Islands, U.S.",VN:"Vietnam",VU:"Vanuatu",WF:"Wallis and Futuna",WS:"Samoa",XK:"Kosovo",YE:"Yemen",YT:"Mayotte",ZA:"South Africa",ZM:"Zambia",ZW:"Zimbabwe",ZZ:"International"};var MGe=["metadata","labels"];function sM(){return sM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},sM.apply(this,arguments)}function IGe(e,t){if(e==null)return{};var n=PGe(e,t),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)i=a[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function PGe(e,t){if(e==null)return{};var n={},i=Object.keys(e),r,a;for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function Que(e){var t=Pt.forwardRef(function(n,i){var r=n.metadata,a=r===void 0?e:r,o=n.labels,l=o===void 0?TGe:o,c=IGe(n,MGe);return Pt.createElement(Jue,sM({},c,{ref:i,metadata:a,labels:l}))});return t.propTypes={metadata:zue,labels:Uue},t}Que();function kGe(e,t){var n=Array.prototype.slice.call(t);return n.push(J8),e.apply(this,n)}const $Ge=Que(J8);function Xue(){return kGe(hUe,arguments)}function Td({value:e,onChange:t,defaultCountry:n="NO",placeholder:i="Enter phone number",disabled:r,id:a}){const[o,l]=g.useState(!1),c=!!(o&&e&&!Xue(e)),u=g.useMemo(()=>g.forwardRef((d,h)=>{const{style:m,onBlur:p,className:v,disabled:S,...b}=d;return s.jsx("div",{className:["rt-TextFieldRoot","rt-variant-surface","rt-r-size-2",v||""].join(" "),"data-disabled":S?"true":"false",style:{width:"100%",...m||{}},children:s.jsx("input",{ref:h,...b,className:"rt-TextFieldInput",type:"tel",inputMode:"tel",autoComplete:"tel",onBlur:w=>{l(!0),p==null||p(w)}})})}),[]);return u.displayName="RadixTextFieldShim",s.jsxs("div",{className:"radix-phone","data-invalid":c?"true":"false",style:{minWidth:220},children:[s.jsx($Ge,{id:a,international:!0,countryCallingCodeEditable:!1,defaultCountry:n,value:e,onChange:t,placeholder:i,disabled:r,inputComponent:u}),c&&s.jsx("div",{className:"radix-phone-error",children:"Please enter a valid phone number."})]})}function FGe({companyId:e,search:t,showRegular:n,showPartner:i}){return{queryKey:["company",e,"customers-index",t,n,i],queryFn:async()=>{let r=re.from("customers").select("id, company_id, name, email, phone, address, vat_number, is_partner, logo_path, created_at").eq("company_id",e).or("deleted.is.null,deleted.eq.false");if(t&&t.trim()){const l=t.trim(),u=[`%${l}%`,l.length>2?`%${l.split("").join("%")}%`:null].filter(Boolean).map(d=>`name.ilike.${d}`).join(",");r=r.or(u)}if(r=r.order("name",{ascending:!0}),n&&!i&&(r=r.eq("is_partner",!1)),!n&&i&&(r=r.eq("is_partner",!0)),!n&&!i)return[];const{data:a,error:o}=await r;if(o)throw o;if(t&&t.trim()){const{fuzzySearch:l}=await $l(async()=>{const{fuzzySearch:c}=await Promise.resolve().then(()=>G8);return{fuzzySearch:c}},void 0);return l(a||[],t,[c=>c.name,c=>c.email,c=>c.phone],.25)}return a}}}function BGe({companyId:e,id:t}){return{queryKey:["company",e,"customer-detail",t],queryFn:async()=>{const{data:n,error:i}=await re.from("customers").select("id, company_id, name, email, phone, address, vat_number, is_partner, logo_path, created_at").eq("company_id",e).eq("id",t).or("deleted.is.null,deleted.eq.false").maybeSingle();if(i)throw i;if(!n)throw new Error("Not found");const{data:r,error:a}=await re.from("contacts").select("id, customer_id, name, email, phone, title, notes, created_at").eq("customer_id",t).order("name",{ascending:!0});if(a)throw a;return{...n,contacts:r}}}}async function Zue(e){const t={company_id:e.company_id,name:e.name.trim(),email:e.email??null,phone:e.phone??null,address:e.address??null,vat_number:e.vat_number??null,is_partner:!!e.is_partner,logo_path:e.logo_path??null};if(e.id){const{error:n}=await re.from("customers").update(t).eq("id",e.id).eq("company_id",e.company_id);if(n)throw n;return}else{const{error:n}=await re.from("customers").insert(t);if(n)throw n;return}}async function zGe(e){const{error:t}=await re.from("contacts").insert({company_id:e.company_id,customer_id:e.customer_id,name:e.name.trim(),email:e.email??null,phone:e.phone??null,title:e.title??null,notes:e.notes??null});if(t)throw t}async function UGe(e){const{id:t,...n}=e,{error:i}=await re.from("contacts").update(n).eq("id",t);if(i)throw i}async function VGe(e){const{error:t}=await re.from("contacts").delete().eq("id",e.id);if(t)throw t}async function KGe(e){const{error:t}=await re.from("customers").update({deleted:!0}).eq("id",e.id).eq("company_id",e.companyId);if(t)throw t}function GGe({companyId:e,customerId:t}){return{queryKey:["company",e,"customer-recent-jobs",t],queryFn:async()=>{const{data:n,error:i}=await re.from("jobs").select("id, title, status, start_at, end_at").eq("company_id",e).eq("customer_id",t).order("start_at",{ascending:!1,nullsLast:!0}).limit(3);if(i)throw i;return n||[]}}}function ede({open:e,onOpenChange:t,companyId:n,customerId:i,onSaved:r}){const[a,o]=g.useState({name:"",email:"",phone:"",title:"",notes:""}),l=(m,p)=>o(v=>({...v,[m]:p})),c=a.name.trim().length>0,{success:u,error:d}=Jt(),h=bt({mutationFn:async()=>zGe({company_id:n,customer_id:i,name:a.name.trim(),email:a.email.trim()||null,phone:a.phone.trim()||null,title:a.title.trim()||null,notes:a.notes.trim()||null}),onSuccess:()=>{t(!1),o({name:"",email:"",phone:"",title:"",notes:""}),u("Success","Contact added to customer"),r==null||r()}});return s.jsx(rn,{open:e,onOpenChange:t,children:s.jsxs(an,{maxWidth:"520px",children:[s.jsx(cn,{children:"Add contact"}),s.jsxs($,{direction:"column",gap:"3",mt:"3",children:[s.jsx(ub,{label:"Name *",children:s.jsx(qe,{value:a.name,onChange:m=>l("name",m.target.value),placeholder:"Contact full name",autoFocus:!0})}),s.jsxs($,{gap:"3",wrap:"wrap",children:[s.jsx(ub,{label:"Email",children:s.jsx(qe,{type:"email",value:a.email,onChange:m=>l("email",m.target.value),placeholder:"email@example.com"})}),s.jsx(ub,{label:"Phone",children:s.jsx(Td,{id:"signup-phone",value:a.phone,onChange:m=>l("phone",m??""),defaultCountry:"NO",placeholder:"Enter phone number"})})]}),s.jsx(ub,{label:"Title / Role",children:s.jsx(qe,{value:a.title,onChange:m=>l("title",m.target.value),placeholder:"e.g., Project Manager, CFO"})}),s.jsx(ub,{label:"Notes",children:s.jsx(Ci,{rows:3,value:a.notes,onChange:m=>l("notes",m.target.value),placeholder:"Additional information about this contact"})})]}),s.jsxs($,{gap:"2",mt:"4",justify:"end",children:[s.jsx(Dn,{children:s.jsx(pe,{variant:"soft",children:"Cancel"})}),s.jsx(pe,{onClick:()=>h.mutate(),disabled:!c||h.isPending,children:h.isPending?"Saving":"Create"})]})]})})}function ub({label:e,children:t}){return s.jsxs("div",{style:{flex:"1 1",minWidth:50},children:[s.jsx(L,{as:"div",size:"2",color:"gray",style:{marginBottom:6},children:e}),t]})}function tde({open:e,onOpenChange:t,companyId:n,job:i,onSaved:r}){const a=Yt(),{success:o,error:l}=Jt(),[c,u]=g.useState(""),[d,h]=g.useState(i.customer_contact_id??null),[m,p]=g.useState(!1),v=i.customer_id,{data:S=[],isFetching:b}=et({queryKey:["company",n,"customer",v,"contacts"],enabled:e&&!!v,queryFn:async()=>{const{data:E,error:_}=await re.from("contacts").select("id, name, email, phone, title").eq("company_id",n).eq("customer_id",v).order("name",{ascending:!0});if(_)throw _;return E}}),w=g.useMemo(()=>{if(!c.trim())return S;const E=c.toLowerCase().trim();return S.filter(_=>{var N,O,j;return _.name.toLowerCase().includes(E)||((N=_.email)==null?void 0:N.toLowerCase().includes(E))||((O=_.phone)==null?void 0:O.includes(E))||((j=_.title)==null?void 0:j.toLowerCase().includes(E))})},[S,c]);g.useEffect(()=>{e&&(h(i.customer_contact_id??null),u(""))},[e,i.customer_contact_id]);const R=bt({mutationFn:async()=>{if(!d)throw new Error("Select a contact first");if(!i.id)throw new Error("Missing job id");const{error:E}=await re.from("jobs").update({customer_contact_id:d}).eq("id",i.id);if(E)throw E},onSuccess:async()=>{await Promise.all([a.invalidateQueries({queryKey:["company",n,"customer",v,"contacts"]}),a.invalidateQueries({queryKey:["jobs-detail",i.id]}),a.invalidateQueries({queryKey:["jobs-index"],exact:!1})]),o("Contact set on job"),t(!1),r==null||r()},onError:E=>{l("Failed to set contact on job",(E==null?void 0:E.message)??"Please try again.")}});return v?s.jsxs(s.Fragment,{children:[s.jsx(rn,{open:e,onOpenChange:t,children:s.jsxs(an,{maxWidth:"600px",style:{height:"auto"},children:[s.jsx(cn,{children:"Select contact"}),s.jsxs($,{direction:"column",gap:"3",mt:"3",children:[s.jsxs(qe,{placeholder:"Search contacts",value:c,onChange:E=>u(E.target.value),size:"3",children:[s.jsx(Sr,{side:"left",children:s.jsx(qu,{})}),s.jsx(Sr,{side:"right",children:b&&s.jsx(Ei,{})})]}),s.jsxs($,{justify:"between",align:"center",children:[s.jsxs(L,{size:"2",color:"gray",children:[w.length," contact",w.length!==1?"s":""]}),s.jsxs(pe,{variant:"soft",size:"2",onClick:()=>p(!0),children:[s.jsx(yi,{})," Add new contact"]})]}),s.jsx(W1,{type:"auto",scrollbars:"vertical",style:{maxHeight:"400px"},children:s.jsx($,{direction:"column",gap:"1",p:"1",children:w.length===0?s.jsx(X,{p:"3",children:s.jsx(L,{color:"gray",children:c.trim()?"No contacts found matching your search.":"No contacts found. Add one to get started."})}):w.map(E=>{const _=d===E.id;return s.jsxs(X,{p:"3",style:{borderRadius:8,cursor:"pointer",background:_?"var(--accent-a3)":void 0,outline:_?"2px solid var(--accent-9)":"1px solid var(--gray-5)"},onClick:()=>h(E.id),children:[s.jsx(L,{weight:"medium",children:E.name}),(E.email||E.phone||E.title)&&s.jsxs($,{direction:"column",gap:"1",mt:"1",children:[E.title&&s.jsx(L,{size:"2",color:"gray",children:E.title}),E.email&&s.jsx(L,{size:"2",color:"gray",children:E.email}),E.phone&&s.jsx(L,{size:"2",color:"gray",children:Ta(E.phone)})]})]},E.id)})})})]}),s.jsxs($,{justify:"end",gap:"2",mt:"4",children:[s.jsx(Dn,{children:s.jsx(pe,{variant:"soft",children:"Cancel"})}),s.jsx(pe,{variant:"classic",disabled:!d||R.isPending,onClick:()=>R.mutate(),children:R.isPending?"Saving":"Use"})]})]})}),s.jsx(ede,{open:m,onOpenChange:p,companyId:n,customerId:v,onSaved:async()=>{await a.invalidateQueries({queryKey:["company",n,"customer",v,"contacts"]})}})]}):s.jsx(rn,{open:e,onOpenChange:t,children:s.jsxs(an,{maxWidth:"600px",children:[s.jsx(cn,{children:"Select contact"}),s.jsx(L,{color:"gray",mt:"3",children:"Please select a customer for this job first."}),s.jsx($,{justify:"end",gap:"2",mt:"4",children:s.jsx(Dn,{children:s.jsx(pe,{variant:"soft",children:"Close"})})})]})})}const qH=["draft","planned","requested","confirmed","in_progress","completed","invoiced","paid"],JE={draft:If("draft"),planned:If("planned"),requested:If("requested"),confirmed:If("confirmed"),in_progress:If("in_progress"),completed:If("completed"),invoiced:If("invoiced"),paid:If("paid"),canceled:If("canceled")};function HGe(e,t){return t==="freelancer"&&(e==="invoiced"||e==="paid")?"completed":e}const qGe=({job:e})=>{var c,u,d,h,m;const{companyRole:t}=zr(),n=t==="freelancer",i=e.address?[e.address.address_line,e.address.zip_code,e.address.city,e.address.country].filter(Boolean).join(", "):"",[r,a]=g.useState(!1),[o,l]=g.useState(!1);return s.jsxs(X,{children:[!n&&s.jsxs(Rt,{mb:"4",style:{background:"var(--gray-a2)"},children:[s.jsx(He,{size:"3",mb:"3",children:"Job Status"}),s.jsx(JGe,{jobId:e.id,currentStatus:e.status,jobTitle:e.title,companyId:e.company_id})]}),s.jsxs(X,{children:[s.jsx(He,{size:"3",children:"General"}),s.jsx(st,{size:"4",mb:"3"}),s.jsxs(gc,{label:"Project lead",children:[((c=e.project_lead)==null?void 0:c.display_name)??"",s.jsx("span",{style:{color:"var(--gray-11)"},children:(u=e.project_lead)!=null&&u.email?` (${e.project_lead.email})`:""})]}),s.jsx(gc,{label:"Customer",children:((d=e.customer)==null?void 0:d.name)??((h=e.customer_user)==null?void 0:h.display_name)??((m=e.customer_user)==null?void 0:m.email)??""}),s.jsxs(X,{children:[s.jsxs($,{align:"center",gap:"2",mb:"2",children:[s.jsx(L,{size:"2",color:"gray",style:{display:"block"},children:"Contact"}),!n&&e.customer&&e.customer_contact&&s.jsx(Mn,{variant:"ghost",size:"1",onClick:()=>l(!0),children:s.jsx(gi,{fontSize:"0.8rem"})})]}),e.customer_contact?s.jsxs(Zn,{columns:{initial:"1",sm:"3"},gap:"4",children:[s.jsx(gc,{label:"Name",children:e.customer_contact.name??""}),s.jsx(gc,{label:"Email",children:e.customer_contact.email?s.jsx("a",{href:`mailto:${e.customer_contact.email}`,style:{color:"inherit"},children:e.customer_contact.email}):""}),s.jsx(gc,{label:"Phone",children:e.customer_contact.phone?s.jsx("a",{href:`tel:${e.customer_contact.phone}`,style:{color:"inherit"},children:Ta(e.customer_contact.phone)}):""})]}):!n&&e.customer&&s.jsx(pe,{size:"3",variant:"soft",onClick:()=>l(!0),style:{marginBottom:"16px"},children:"Add contact"}),s.jsx(tde,{open:o,onOpenChange:l,companyId:e.company_id,job:e})]}),s.jsx(st,{size:"4",mb:"2"}),s.jsxs(Zn,{columns:{initial:"1",sm:"2"},gap:"4",children:[s.jsx(gc,{label:"Start",children:s.jsx(Ou,{children:WH(e.start_at)})}),s.jsx(gc,{label:"End",children:s.jsx(Ou,{children:WH(e.end_at)})})]})]}),s.jsxs(X,{children:[s.jsxs($,{align:"center",gap:"2",mt:"1",children:[s.jsx(He,{size:"3",children:"Location"}),!n&&e.address&&s.jsx(Mn,{variant:"ghost",onClick:()=>a(!0),children:s.jsx(gi,{fontSize:"0.8rem"})}),s.jsx(PVe,{open:r,onOpenChange:a,companyId:e.company_id,mode:"edit",initialData:e})]}),s.jsx(st,{size:"4",mb:"3"}),e.address?s.jsxs(Zn,{columns:{initial:"1",sm:"2"},gap:"4",children:[s.jsxs(X,{children:[s.jsx(gc,{label:"Name",children:s.jsx($,{align:"center",gap:"2",children:e.address.name||""})}),s.jsx(gc,{label:"Address",children:e.address.address_line||""}),s.jsxs(Zn,{columns:"2",gap:"4",children:[s.jsx(gc,{label:"Zip code",children:e.address.zip_code||"-"}),s.jsx(gc,{label:"City",children:e.address.city||"-"})]}),s.jsx(gc,{label:"Country",children:e.address.country||""})]}),i&&s.jsx(X,{mb:"3",style:{maxWidth:400,height:"100%",overflow:"hidden",borderRadius:8},children:s.jsx(WGe,{query:i,zoom:14})})]}):!n&&s.jsx(pe,{size:"3",variant:"soft",onClick:()=>a(!0),children:"Add location"})]})]})};function gc({label:e,children:t}){return s.jsxs("div",{style:{marginBottom:8},children:[s.jsx(L,{style:{display:"block"},size:"2",color:"gray",children:e}),s.jsx(L,{children:t})]})}function WH(e){if(!e)return"";const t=new Date(e),n=String(t.getHours()).padStart(2,"0"),i=String(t.getMinutes()).padStart(2,"0");return t.toLocaleString(void 0,{year:"numeric",month:"2-digit",day:"2-digit"})+` ${n}:${i}`}function WGe({query:e,zoom:t}){const[n,i]=g.useState(!0);return s.jsxs(X,{style:{position:"relative",width:"100%",aspectRatio:"16/9"},children:[n&&s.jsx(Di,{style:{position:"absolute",inset:0,borderRadius:8,width:"100%",height:"100%"}}),s.jsx("div",{style:{position:"absolute",inset:0,opacity:n?0:1,transition:"opacity 0.3s ease-in-out"},children:s.jsx("iframe",{title:"Google Maps location",src:YGe(e,t),loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",allowFullScreen:!0,onLoad:()=>i(!1),style:{border:0,width:"100%",height:"100%",borderRadius:8}})})]})}function YGe(e,t){const n="AIzaSyDjeumkWogOgnHew4GXS2j_RRdgKCHc6Vo",i=new URL("https://www.google.com/maps/embed/v1/place");return i.searchParams.set("q",e),t!=null&&i.searchParams.set("zoom",String(t)),i.searchParams.set("key",n),i.toString()}function JGe({jobId:e,currentStatus:t,jobTitle:n,companyId:i}){const r=Yt(),{success:a,error:o}=Jt(),{companyRole:l}=zr(),c=HGe(t,l),u=c==="canceled",[d,h]=g.useState(null),m=bt({mutationFn:async S=>{const b=t,{error:w}=await re.from("jobs").update({status:S}).eq("id",e);if(w)throw w;if(b!==S&&(S==="confirmed"||S==="canceled"||S==="paid"))try{await wR({companyId:i,activityType:"job_status_changed",metadata:{job_id:e,job_title:n,previous_status:b,new_status:S},title:n})}catch(R){console.error("Failed to log job status change activity:",R)}return S},onSuccess:async S=>{await Promise.all([r.invalidateQueries({queryKey:["jobs-detail",e]}),r.invalidateQueries({queryKey:["company"]}),r.invalidateQueries({queryKey:["company",i,"latest-feed"],exact:!1}),r.refetchQueries({queryKey:["company",i,"latest-feed"],exact:!1})]),a("Status updated",`Job status changed to ${Qs(S)}`)},onError:S=>{o("Failed to update status",(S==null?void 0:S.message)||"Please try again.")}}),p=g.useMemo(()=>l==="freelancer"?qH.filter(S=>S!=="invoiced"&&S!=="paid"):qH,[l]),v=p.indexOf(c);return s.jsxs(X,{children:[s.jsx($,{direction:"column",gap:"3",mb:"4",children:s.jsxs($,{align:"center",gap:"1",style:{position:"relative"},children:[s.jsx($,{align:"center",style:{flex:1},gap:"0",children:p.map((S,b)=>{const w=S===c&&!u,R=p.indexOf(S),E=!u&&R<v&&R>=0,_=R>v,N=JE[S],O=b<p.length-1?JE[p[b+1]]:null;return s.jsx(g.Fragment,{children:s.jsxs($,{direction:"column",align:"center",style:{flex:1,position:"relative",cursor:l==="freelancer"?"default":"pointer",opacity:m.isPending?.5:1,pointerEvents:l==="freelancer"?"none":"auto",minWidth:0},onClick:()=>{l!=="freelancer"&&!m.isPending&&S!==c&&h(S)},children:[b<p.length-1&&s.jsx("div",{style:{position:"absolute",top:"14px",left:"calc(50% + 14px)",width:"calc(100% - 28px)",height:"2px",background:E||w?O?`linear-gradient(to right, ${N.dotBg}, ${O.dotBg})`:N.dotBg:"var(--gray-a4)",zIndex:0,borderRadius:"1px",transition:"background 0.4s ease",opacity:_?.4:1,transform:"translateY(-1px)"}}),s.jsxs(X,{style:{width:"28px",height:"28px",borderRadius:"50%",background:w||E?N.dotBg:"var(--gray-a3)",border:"none",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1,position:"relative",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"},className:"status-dot",children:[(E||w&&S==="paid")&&s.jsx(L,{size:"1",weight:"bold",style:{color:"white",fontSize:"12px"},children:""}),w&&S!=="paid"&&s.jsx(X,{style:{width:"8px",height:"8px",borderRadius:"50%",background:"white"}})]}),s.jsx(L,{size:"1",mt:"2",weight:w?"medium":"regular",style:{color:w||E?N.text:"var(--gray-a9)",textAlign:"center",transition:"color 0.3s ease",fontSize:"11px",opacity:_?.5:1,whiteSpace:"nowrap"},children:Qs(S)})]})},S)})}),!u&&s.jsx(X,{style:{width:"1px",height:"50px",background:"var(--gray-a4)",margin:"0 5px",opacity:.5}}),s.jsxs($,{direction:"column",align:"center",style:{cursor:l==="freelancer"?"default":"pointer",opacity:m.isPending?.5:1,pointerEvents:l==="freelancer"?"none":"auto",minWidth:"70px"},onClick:()=>{l!=="freelancer"&&!m.isPending&&!u&&h("canceled")},children:[s.jsx(X,{style:{width:"28px",height:"28px",borderRadius:"50%",background:u?JE.canceled.dotBg:"var(--gray-a3)",border:"none",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1,position:"relative",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"},className:"status-dot",children:u&&s.jsx(L,{size:"1",weight:"bold",style:{color:"white",fontSize:"12px"},children:""})}),s.jsx(L,{size:"1",mt:"2",weight:u?"medium":"regular",style:{color:u?JE.canceled.text:"var(--gray-a9)",textAlign:"center",transition:"color 0.3s ease",fontSize:"11px",opacity:u?1:.5,whiteSpace:"nowrap"},children:Qs("canceled")})]})]})}),s.jsxs($,{align:"center",gap:"2",mt:"4",pt:"3",style:{borderTop:"1px solid var(--gray-a4)"},children:[s.jsx(L,{size:"2",weight:"regular",color:"gray",children:"Current status:"}),s.jsx(mt,{size:"2",variant:"soft",color:KO(c),highContrast:!0,children:Qs(c)})]}),s.jsx("style",{children:`
        .status-dot:hover {
          transform: scale(1.1);
          transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .status-dot:active {
          transform: scale(1.0);
        }
      `}),d&&s.jsx(rn,{open:!!d,onOpenChange:S=>{!S&&!m.isPending&&h(null)},children:s.jsxs(an,{maxWidth:"450px",children:[s.jsx(cn,{children:"Change Job Status?"}),s.jsxs(vr,{size:"2",mb:"4",children:["Are you sure you want to change the job status from"," ",s.jsx("strong",{children:Qs(c)})," to"," ",s.jsx("strong",{children:Qs(d)}),"?"]}),s.jsxs($,{gap:"3",justify:"end",children:[s.jsx(pe,{variant:"soft",onClick:()=>h(null),disabled:m.isPending,children:"Cancel"}),s.jsx(pe,{onClick:()=>{d&&m.mutate(d,{onSuccess:()=>{h(null)},onError:()=>{}})},disabled:m.isPending,children:m.isPending?"Updating...":"Confirm"})]})]})})]})}function QGe({jobId:e,value:t,onChange:n,categoryFilter:i,defaultCategory:r}){const a=Yt(),{companyId:o}=En(),{data:l=[]}=et(Z1({jobId:e})),{success:c,error:u}=Jt(),d=g.useMemo(()=>i?l.filter(v=>v.category===i):l,[l,i]),[h,m]=g.useState(null),p=bt({mutationFn:async v=>{if(!o)throw new Error("No companyId");return await pm({id:v.id,job_id:e,company_id:o,title:v.title,start_at:v.start_at,end_at:v.end_at,category:v.id?void 0:r})},onSuccess:async v=>{await a.invalidateQueries({queryKey:["jobs",e,"time_periods"]}),n(v),m(null),c("Success","Time period saved successfully")},onError:v=>{u("Failed to update",(v==null?void 0:v.hint)||(v==null?void 0:v.message)||"Please try again.")}});return s.jsxs(X,{mb:"3",p:"2",height:"100%",style:{border:"1px dashed var(--gray-a6)",borderRadius:10},children:[s.jsxs($,{direction:"column",align:"start",gap:"2",children:[s.jsxs($,{align:"center",gap:"2",children:[s.jsx(Fu,{}),s.jsx("strong",{children:"Time period"})]}),s.jsxs($,{align:"center",justify:"between",gap:"2",wrap:"wrap",width:"100%",children:[s.jsxs($,{align:"center",gap:"2",children:[s.jsxs(Vn,{value:t??"",onValueChange:v=>n(v||null),children:[s.jsx(Kn,{placeholder:"Select time period"}),s.jsx(Gn,{style:{zIndex:10001},children:d.map(v=>s.jsxs(wt,{value:v.id,children:[v.title||"(untitled)","  ",jR(v.start_at)," "," ",jR(v.end_at)]},v.id))})]}),t&&s.jsxs(pe,{size:"1",variant:"soft",onClick:()=>{const v=d.find(S=>S.id===t)||null;m(v)},children:[s.jsx(gi,{width:14,height:14})," Edit"]})]}),s.jsxs(pe,{size:"1",onClick:()=>m({id:"",job_id:e,company_id:o,title:r==="equipment"?"Equipment period":r==="crew"?"Crew period":r==="transport"?"Transport period":"",start_at:XGe(),end_at:ZGe()}),children:[s.jsx(yi,{width:14,height:14})," New time period"]})]})]}),h&&s.jsx(X,{mt:"2",p:"2",style:{background:"var(--gray-2)",borderRadius:8},children:s.jsxs($,{gap:"2",wrap:"wrap",align:"center",children:[s.jsx(qe,{placeholder:"Title",value:h.title??"",onChange:v=>m({...h,title:v.target.value})}),s.jsx(or,{value:h.start_at,onChange:v=>m({...h,start_at:v})}),s.jsx(or,{value:h.end_at,onChange:v=>m({...h,end_at:v})}),s.jsxs($,{gap:"2",ml:"auto",children:[s.jsx(pe,{size:"1",variant:"soft",onClick:()=>m(null),children:"Cancel"}),s.jsx(pe,{size:"1",variant:"classic",onClick:()=>p.mutate({id:h.id||void 0,title:h.title??"",start_at:h.start_at,end_at:h.end_at}),children:"Save"})]})]})})]})}function jR(e){const t=new Date(e),n=String(t.getHours()).padStart(2,"0"),i=String(t.getMinutes()).padStart(2,"0");return t.toLocaleString(void 0,{year:"numeric",month:"2-digit",day:"2-digit"})+` ${n}:${i}`}function XGe(){return new Date().toISOString()}function ZGe(){return new Date(Date.now()+7200*1e3).toISOString()}function nde({jobId:e,timePeriodId:t,readOnly:n=!1}){const i=Yt(),{companyId:r}=En(),{data:a=[]}=et(Z1({jobId:e})),{success:o,error:l}=Jt(),[c,u]=g.useState(!1),[d,h]=g.useState(null),m=a.find(v=>v.id===t);g.useEffect(()=>{c&&m&&!d&&h({start_at:m.start_at,end_at:m.end_at})},[c,m,d]);const p=bt({mutationFn:async()=>{if(!r||!d||!m)throw new Error("Missing data");await pm({id:t,job_id:e,company_id:r,title:m.title??"",start_at:d.start_at,end_at:d.end_at})},onSuccess:async()=>{await i.invalidateQueries({queryKey:["jobs",e,"time_periods"]}),u(!1),h(null),o("Success","Time period updated successfully")},onError:v=>{l("Failed to update",(v==null?void 0:v.hint)||(v==null?void 0:v.message)||"Please try again.")}});return m?s.jsx(X,{p:"2",style:{border:"1px dashed var(--gray-a6)",borderRadius:8,background:c?"var(--blue-a2)":void 0},children:s.jsxs($,{direction:"column",gap:"2",children:[s.jsxs($,{align:"center",justify:"between",children:[s.jsxs($,{align:"center",gap:"2",children:[s.jsx(Fu,{}),s.jsx("strong",{children:m.title||"(untitled)"})]}),!n&&!c&&s.jsxs(pe,{size:"1",variant:"soft",onClick:()=>u(!0),children:[s.jsx(gi,{width:14,height:14})," Edit"]})]}),c?d&&s.jsx(X,{p:"2",style:{background:"var(--gray-2)",borderRadius:8},children:s.jsxs($,{gap:"2",wrap:"wrap",align:"center",children:[s.jsx(or,{value:d.start_at,onChange:v=>h({...d,start_at:v})}),s.jsx(or,{value:d.end_at,onChange:v=>h({...d,end_at:v})}),s.jsxs($,{gap:"2",ml:"auto",children:[s.jsx(pe,{size:"1",variant:"soft",onClick:()=>{u(!1),h(null)},children:"Cancel"}),s.jsx(pe,{size:"1",variant:"classic",onClick:()=>p.mutate(),disabled:p.isPending,children:p.isPending?"Saving...":"Save"})]})]})}):s.jsxs($,{gap:"2",wrap:"wrap",children:[s.jsx(X,{p:"1",px:"2",style:{background:"var(--gray-a3)",borderRadius:6,fontSize:"0.875rem"},children:jR(m.start_at)}),s.jsx("span",{children:""}),s.jsx(X,{p:"1",px:"2",style:{background:"var(--gray-a3)",borderRadius:6,fontSize:"0.875rem"},children:jR(m.end_at)})]})]})}):s.jsx(X,{p:"2",style:{border:"1px dashed var(--red-a6)",borderRadius:8,background:"var(--red-a2)"},children:s.jsxs($,{align:"center",gap:"2",children:[s.jsx(Fu,{}),s.jsx("strong",{style:{color:"var(--red-11)"},children:"Time period not found"})]})})}function XO({companyId:e}){return{queryKey:["company",e,"partner-customers"],queryFn:async()=>{const{data:t,error:n}=await re.from("customers").select("id, name").eq("company_id",e).eq("is_partner",!0).or("deleted.is.null,deleted.eq.false").order("name",{ascending:!0});if(n)throw n;return t},staleTime:6e4}}const TC="__ALL__";function eHe(e){return e.replace(/[(),]/g," ").replace(/\s+/g," ").trim()}function ide({open:e,onOpenChange:t,jobId:n,companyId:i,timePeriodId:r,externalOnlyInitial:a=!1,externalOwnerId:o,onSaved:l}){const c=Yt(),[u,d]=g.useState(""),[h,m]=g.useState([]),[p,v]=g.useState({}),[S,b]=g.useState(r??null),[w,R]=g.useState(null),E=g.useRef(new Map),{success:_,error:N,info:O}=Jt(),[j,D]=g.useState(null),[P,B]=g.useState(null),[M,z]=g.useState(!1),[U,K]=g.useState(!0),{data:te}=et({...X1({jobId:n}),enabled:e}),{data:q=[]}=et({...Z1({jobId:n}),enabled:e}),[V,Q]=g.useState(a);g.useEffect(()=>{if(!e){D(null),B(null),z(!1),K(!0);return}!S&&te&&te.start_at&&te.end_at&&(V?(D(te.start_at),B(te.end_at),z(!1),K(!1)):q.find(he=>he.category==="equipment"&&he.title==="Equipment period")||(D(te.start_at),B(te.end_at),z(!1),K(!1)))},[e,te,q,S,V]),g.useEffect(()=>{!j||!U||B(Cm(j))},[j,U]),g.useEffect(()=>{if(!e||r||S||V)return;const de=q.find(he=>he.category==="equipment"&&he.title==="Equipment period");de&&(b(de.id),D(null),B(null),z(!1))},[e,q,r,S,V]),g.useEffect(()=>{if(r){const de=q.find(he=>he.id===r);de&&de.category==="equipment"?b(r):de&&de.category!=="equipment"&&b(null)}},[r,q]),g.useEffect(()=>{e||(R(null),Q(a),d(""),ae(null))},[e,a]),g.useEffect(()=>{e&&Q(a)},[e,a]);const[ce,ae]=g.useState(null),{data:G=[]}=et({...Wce({companyId:i}),enabled:e}),{data:H=[],isFetching:T}=et({queryKey:["book-items",i,u,V,ce,o],enabled:e,queryFn:async()=>{let de=re.from("inventory_index").select("*").eq("company_id",i).eq("active",!0).or("deleted.is.null,deleted.eq.false").limit(100);if(o?(de=de.eq("external_owner_id",o),de=de.or("is_group.eq.true,allow_individual_booking.eq.true")):(V&&(de=de.eq("internally_owned",!1)),de=de.or("is_group.eq.true,allow_individual_booking.eq.true")),u){const we=eHe(u);de=de.or(`name.ilike.%${we}%,category_name.ilike.%${we}%,brand_name.ilike.%${we}%,model.ilike.%${we}%,nicknames.ilike.%${we}%`)}ce&&(de=de.eq("category_name",ce));const{data:he,error:me}=await de;if(me)throw me;return he.map(we=>we.is_group?{kind:"group",id:we.id,name:we.name,category_name:we.category_name??null,brand_name:null,on_hand:we.on_hand??null,current_price:we.current_price??null,internally_owned:!!we.internally_owned,external_owner_name:we.external_owner_name??null,active:!!we.active,is_group:!0,unique:we.unique??null}:{kind:"item",id:we.id,name:we.name,category_name:we.category_name??null,brand_name:we.brand_name??null,on_hand:we.on_hand??null,current_price:we.current_price??null,internally_owned:!!we.internally_owned,external_owner_name:we.external_owner_name??null,active:!!we.active,is_group:!1})}}),Y=g.useMemo(()=>{var he;const de=new Map;for(const me of H){const we=((he=me.category_name)==null?void 0:he.trim())||"Uncategorized",le=de.get(we)??[];le.push(me),de.set(we,le)}return Array.from(de.entries()).sort(([me],[we])=>me.localeCompare(we)).map(([me,we])=>({category:me,rows:we}))},[H]);function ie(de){const he=de.on_hand??0,me=de.kind==="item"?h.find(we=>we.kind==="item"&&we.item_id===de.id):h.find(we=>we.kind==="group"&&we.group_id===de.id);if(he>0){const we=me?me.quantity+1:1;we>he?R({type:"warning",text:`Only ${he} ${de.name} available. Booking ${we}.`}):R(null)}m(we=>{if(de.kind==="item"){const le=we.findIndex(ue=>ue.kind==="item"&&ue.item_id===de.id);if(le>=0){const ue=[...we];return ue[le]={...ue[le],quantity:ue[le].quantity+1},ue}return[...we,{kind:"item",item_id:de.id,name:de.name,quantity:1,on_hand:he}]}else{const le=we.findIndex(ue=>ue.kind==="group"&&ue.group_id===de.id);if(le>=0){const ue=[...we];return ue[le]={...ue[le],quantity:ue[le].quantity+1},ue}return[...we,{kind:"group",group_id:de.id,name:de.name,quantity:1,on_hand:he}]}})}function ne(de,he,me){me!==null&&me>0&&he>me?R({type:"warning",text:`Only ${me} available. Booking ${he}.`}):R(null),m(we=>we.map(le=>yp(le)===yp(de)?{...le,quantity:he}:le))}function J(de){m(he=>he.filter(me=>yp(me)!==yp(de)))}function ee(de){v(he=>{if(!(de in he))return he;const me={...he};return delete me[de],me})}const se=bt({mutationFn:async()=>{if(h.length===0)return;if(!S&&!j&&!P)throw new Error("Please select a time period or set custom times");const de=h.filter(ut=>ut.kind==="item"),he=h.filter(ut=>ut.kind==="group");let me=te||null;if(!me){const{data:ut,error:Ft}=await re.from("jobs").select("start_at, end_at").eq("id",n).single();if(Ft)throw Ft;me=ut}const{data:we,error:le}=await re.from("time_periods").select("id, title").eq("job_id",n);if(le)throw le;const ue=new Map;if(de.length>0){const ut=de.map(Wt=>Wt.item_id),{data:Ft,error:Zt}=await re.from("items").select("id, external_owner_id, external_owner:external_owner_id(id, name)").in("id",ut);if(Zt)throw Zt;for(const Wt of Ft){let Bn=null;if(Wt.external_owner_id){const Vt=Array.isArray(Wt.external_owner)?Wt.external_owner[0]:Wt.external_owner;Vt&&typeof Vt=="object"&&(Bn=(Vt==null?void 0:Vt.name)??null)}ue.set(Wt.id,{owner_id:Wt.external_owner_id,owner_name:Bn})}}const De=new Map;for(const ut of ue.values()){if(!ut.owner_id||!ut.owner_name||De.has(ut.owner_id))continue;const Ft=`${ut.owner_name} Equipment period`;let Zt=we.find(Wt=>Wt.title===Ft);if(!Zt){const Wt=j&&M?j:me.start_at||j||new Date().toISOString(),Bn=P&&M?P:me.end_at||P||new Date().toISOString(),{data:Vt,error:br}=await re.from("time_periods").insert({job_id:n,company_id:i,title:Ft,start_at:Wt,end_at:Bn,category:"equipment"}).select("id, title").single();if(br)throw br;Zt=Vt,we.push(Vt)}De.set(ut.owner_id,Zt.id)}const Le="Equipment period";let Be=we.find(ut=>ut.title===Le);const ke=de.some(ut=>{const Ft=ue.get(ut.item_id);return!(Ft!=null&&Ft.owner_id)||!Ft.owner_name})||he.length>0;if(!S&&j&&P&&ke){const ut=M?j:me.start_at||j||new Date().toISOString(),Ft=M?P:me.end_at||P||new Date().toISOString(),{data:Zt,error:Wt}=await re.from("time_periods").insert({job_id:n,company_id:i,title:Le,start_at:ut,end_at:Ft,category:"equipment"}).select("id, title").single();if(Wt)throw Wt;Be=Zt,we.push(Zt)}else if(!Be&&ke){const{data:ut,error:Ft}=await re.from("time_periods").insert({job_id:n,company_id:i,title:Le,start_at:me.start_at||new Date().toISOString(),end_at:me.end_at||new Date().toISOString(),category:"equipment"}).select("id, title").single();if(Ft)throw Ft;Be=ut,we.push(ut)}const Ee=new Set;Be&&Ee.add(Be.id);for(const ut of De.values())Ee.add(ut);S&&Ee.add(S);const{data:lt,error:Mt}=await re.from("reserved_items").select("id, item_id, quantity, source_kind, source_group_id, time_period_id").in("time_period_id",Array.from(Ee));if(Mt)throw Mt;const St=new Map;for(const ut of lt){const Ft=`${ut.item_id}:${ut.source_kind}:${ut.source_group_id||"null"}:${ut.time_period_id}`;St.set(Ft,{id:ut.id,quantity:ut.quantity})}const tt=de.map(ut=>{const Ft=ue.get(ut.item_id);return{time_period_id:(Ft==null?void 0:Ft.owner_id)&&Ft.owner_name!==null?De.get(Ft.owner_id)??S:(Be==null?void 0:Be.id)??S,item_id:ut.item_id,quantity:ut.quantity,source_kind:"direct",source_group_id:null}}),Je=[];if(he.length>0){const{data:ut,error:Ft}=await re.from("group_items").select("group_id, item_id, quantity").in("group_id",he.map(Wt=>Wt.group_id));if(Ft)throw Ft;const Zt=new Map;for(const Wt of ut){const Bn=Zt.get(Wt.group_id)??[];Bn.push({item_id:Wt.item_id,quantity:Wt.quantity}),Zt.set(Wt.group_id,Bn)}for(const Wt of he){const Bn=Zt.get(Wt.group_id)??[];for(const Vt of Bn)Je.push({time_period_id:(Be==null?void 0:Be.id)??S,item_id:Vt.item_id,quantity:Vt.quantity*Wt.quantity,source_kind:"group",source_group_id:Wt.group_id})}}const Ve=[...tt,...Je];if(Ve.length===0)return;const qt=new Set;for(const ut of Ve)qt.add(ut.item_id);const Et=new Map,rt=new Map;if(qt.size>0){const{data:ut,error:Ft}=await re.from("inventory_index").select("id, name, on_hand").eq("company_id",i).eq("is_group",!1).in("id",Array.from(qt));if(Ft)throw Ft;for(const Zt of ut||[])Zt.id&&typeof Zt.id=="string"&&(rt.set(Zt.id,Zt.on_hand??0),Et.set(Zt.id,Zt.name||"Item"))}E.current=Et;const xt=[],Te=[];for(const ut of Ve){const Ft=`${ut.item_id}:${ut.source_kind}:${ut.source_group_id||"null"}:${ut.time_period_id}`,Zt=St.get(Ft);Zt?xt.push({id:Zt.id,quantity:Zt.quantity+ut.quantity}):Te.push(ut)}for(const ut of xt){const{error:Ft}=await re.from("reserved_items").update({quantity:ut.quantity}).eq("id",ut.id);if(Ft)throw Ft}const{data:Ot,error:$t}=await re.from("time_periods").select("id, start_at, end_at").in("id",Array.from(Ee)).eq("deleted",!1);if($t)throw $t;if(!Ot||Ot.length===0)throw new Error("Time periods not found");const jt=new Set(Ot.map(ut=>ut.id)),{data:Ht,error:Ie}=await re.from("time_periods").select("id, start_at, end_at").eq("company_id",i).eq("category","equipment").eq("deleted",!1);if(Ie)throw Ie;const nt=(ut,Ft,Zt,Wt)=>new Date(ut)<new Date(Wt)&&new Date(Zt)<new Date(Ft);for(const ut of Ot)for(const Ft of Ht||[])jt.has(Ft.id)||nt(ut.start_at,ut.end_at,Ft.start_at,Ft.end_at)&&jt.add(Ft.id);const{data:Lt,error:kt}=await re.from("reserved_items").select("item_id, quantity, time_period_id, status").in("item_id",Array.from(qt)).in("time_period_id",Array.from(jt));if(kt)throw kt;const vn=new Map,Rn=new Map;for(const ut of Lt||[]){if(ut.status==="canceled")continue;const Ft=vn.get(ut.item_id)??0;if(vn.set(ut.item_id,Ft+ut.quantity),ut.status==="planned"){const Zt=Rn.get(ut.item_id)??0;Rn.set(ut.item_id,Zt+ut.quantity)}}const yn=new Map;for(const ut of Te){const Ft=yn.get(ut.item_id)??0;yn.set(ut.item_id,Ft+ut.quantity)}const Ut=[];for(const ut of qt){const Ft=rt.get(ut)??0;if(Ft>0){const Wt=vn.get(ut)??0,Bn=yn.get(ut)??0;if(Wt+Bn>Ft){const br=Et.get(ut)??"Item",Ur=Wt>0?` (${Wt} already booked)`:"";Ut.push(`${br}: Booking ${Bn}${Ur}, but only ${Ft} available`)}}const Zt=Rn.get(ut)??0;if(Zt>0&&(yn.get(ut)??0)>0){const Wt=Et.get(ut)??"Item";Ut.push(`${Wt}: ${Zt} already planned in overlapping period`)}}if(Te.length>0){const{error:ut}=await re.from("reserved_items").insert(Te);if(ut)throw ut}return{warnings:Ut}},onSuccess:async de=>{var he;E.current=new Map,await c.invalidateQueries({queryKey:["jobs.equipment",n]}),await c.invalidateQueries({queryKey:["jobs",n,"time_periods"]}),await c.invalidateQueries({queryKey:["jobs-detail",n]}),D(null),B(null),z(!1),t(!1),l==null||l(),m([]),_("Success","Items are reserved"),(he=de==null?void 0:de.warnings)!=null&&he.length&&O("Booking warnings",de.warnings.join(`
`),6e3)},onError:de=>{const he=/[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-5][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}/g,me=(de==null?void 0:de.hint)||(de==null?void 0:de.message)||"Please try again.",we=E.current,le=we.size>0?me.replace(he,ue=>{const De=we.get(ue);return De?`${De} (${ue})`:ue}):me;N("Failed to update",le)}});return s.jsx(rn,{open:e,onOpenChange:t,children:s.jsxs(an,{maxWidth:"90%",style:{height:"80vh",display:"flex",flexDirection:"column"},children:[s.jsx(cn,{children:"Book equipment"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"65fr 35fr",gap:16,marginTop:8,alignItems:"stretch"},children:[s.jsx("div",{children:S?s.jsx(QGe,{jobId:n,value:S,onChange:de=>{b(de),de&&(D(null),B(null),z(!1))},categoryFilter:"equipment",defaultCategory:"equipment"}):s.jsx(X,{p:"3",style:{border:"1px dashed var(--gray-a6)",borderRadius:10,background:"var(--gray-a2)"},children:s.jsxs($,{direction:"column",gap:"3",children:[s.jsx(L,{size:"2",weight:"bold",color:"gray",children:V?"Set time period for external equipment":"Set equipment time period"}),s.jsx(L,{size:"1",color:"gray",children:V?"Each external owner will get their own time period with these times.":te&&te.start_at&&te.end_at?"Default times match job duration. Adjust if needed.":"Set start and end times for equipment booking."}),s.jsxs($,{gap:"2",wrap:"wrap",align:"center",children:[s.jsxs(X,{style:{flex:1,minWidth:200},children:[s.jsx(L,{size:"1",color:"gray",mb:"1",as:"div",children:"Start time"}),s.jsx(or,{value:j||"",onChange:de=>{D(de),z(!0),K(!0)}})]}),s.jsxs(X,{style:{flex:1,minWidth:200},children:[s.jsx(L,{size:"1",color:"gray",mb:"1",as:"div",children:"End time"}),s.jsx(or,{value:P||"",onChange:de=>{B(de),z(!0),K(!1)}})]})]}),!V&&s.jsx(pe,{size:"1",variant:"soft",onClick:()=>{const de=q.find(he=>he.category==="equipment"&&he.title==="Equipment period");de&&b(de.id)},children:"Use existing time period"})]})})}),s.jsx("div",{style:{transition:"100ms",borderRadius:8,display:"flex",alignItems:"center",justifyContent:"center",padding:12,background:w?w.type==="error"?"var(--red-a3)":w.type==="warning"?"var(--amber-a3)":"var(--blue-a3)":"var(--gray-a2)",border:w?w.type==="error"?"1px solid var(--red-a6)":w.type==="warning"?"1px solid var(--amber-a6)":"1px solid var(--blue-a6)":"1px solid var(--gray-a4)"},children:w?s.jsx(L,{size:"2",weight:"medium",color:w.type==="error"?"red":w.type==="warning"?"amber":"blue",style:{textAlign:"center",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:w.text}):s.jsx(L,{size:"2",color:"gray",style:{textAlign:"center"},children:"Messages will appear here"})})]}),s.jsxs("div",{style:{marginTop:8,display:"grid",gridTemplateColumns:"65fr 35fr",gap:16,flex:1,minHeight:0},children:[s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8,overflowY:"auto"},children:[s.jsxs($,{gap:"2",align:"center",wrap:"wrap",mb:"2",children:[s.jsxs(Vn,{value:ce??TC,onValueChange:de=>ae(de===TC?null:de),children:[s.jsx(Kn,{placeholder:"Filter category"}),s.jsxs(Gn,{style:{zIndex:1e4},children:[s.jsx(wt,{value:TC,children:"All"}),G.map(de=>s.jsx(wt,{value:de,children:de},de))]})]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[s.jsx("input",{type:"checkbox",checked:V,onChange:de=>Q(de.target.checked)}),s.jsx(L,{as:"span",children:"External only"})]})]}),s.jsx(qe,{value:u,onChange:de=>d(de.target.value),placeholder:"Search by name",children:s.jsx(Sr,{side:"left",children:s.jsx(qu,{})})}),T?s.jsxs($,{align:"center",gap:"1",children:[s.jsx(L,{children:"Thinking"}),s.jsx(Ei,{})]}):Y.length===0?s.jsx(L,{color:"gray",children:"No results"}):s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:12},children:Y.map(de=>s.jsxs(X,{p:"2",style:{border:"1px solid var(--gray-a6)",borderRadius:8,background:"var(--gray-a1)"},children:[s.jsx(L,{size:"2",weight:"medium",mb:"2",children:de.category}),s.jsxs(Hn,{variant:"surface",children:[s.jsx(Qn,{children:s.jsxs(ht,{children:[s.jsx(ze,{children:"Name"}),s.jsx(ze,{children:"Category"}),s.jsx(ze,{children:"Brand"}),s.jsx(ze,{children:"On hand"}),s.jsx(ze,{children:"Price"}),s.jsx(ze,{children:"Owner"}),s.jsx(ze,{})]})}),s.jsx(qn,{children:de.rows.map(he=>s.jsxs(ht,{children:[s.jsx(Oe,{children:s.jsxs($,{align:"center",gap:"2",children:[s.jsx(L,{size:"2",weight:"medium",children:he.name}),he.is_group&&s.jsx(mt,{size:"1",variant:"soft",color:"pink",children:"Group"}),he.is_group&&he.unique===!0&&s.jsx(mt,{size:"1",variant:"soft",children:"Unique"}),he.active===!1&&s.jsx(mt,{size:"1",variant:"soft",color:"red",children:"Inactive"})]})}),s.jsx(Oe,{children:s.jsx(L,{size:"2",color:"gray",children:he.category_name??""})}),s.jsx(Oe,{children:s.jsx(L,{size:"2",color:"gray",children:he.brand_name??""})}),s.jsx(Oe,{children:he.on_hand??""}),s.jsx(Oe,{children:he.current_price!=null?tHe(he.current_price):""}),s.jsx(Oe,{children:he.internally_owned?s.jsx(mt,{size:"1",variant:"soft",color:"indigo",children:"Internal"}):s.jsx(mt,{size:"1",variant:"soft",color:"amber",children:he.external_owner_name??"External"})}),s.jsx(Oe,{align:"right",children:s.jsx(pe,{size:"1",variant:"classic",onClick:()=>ie(he),children:"Add"})})]},`${he.kind}:${he.id}`))})]})]},de.category))})]}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8,overflowY:"auto"},children:[s.jsx(L,{size:"2",color:"gray",children:"Selected"}),h.length===0?s.jsx(L,{color:"gray",children:"Nothing selected yet."}):s.jsxs(Hn,{variant:"surface",children:[s.jsx(Qn,{children:s.jsxs(ht,{children:[s.jsx(ze,{children:"Item"}),s.jsx(ze,{style:{width:110},children:"Qty"}),s.jsx(ze,{})]})}),s.jsx(qn,{children:h.map(de=>s.jsxs(ht,{children:[s.jsx(Oe,{children:s.jsxs($,{align:"center",gap:"2",children:[s.jsx(L,{children:de.name}),de.kind==="group"&&s.jsx(mt,{size:"1",variant:"soft",color:"pink",children:"Group"})]})}),s.jsx(Oe,{children:s.jsx(qe,{type:"number",min:"1",max:de.on_hand??void 0,value:p[yp(de)]??String(de.quantity),onChange:he=>{const me=he.target.value,we=yp(de);if(v(ue=>({...ue,[we]:me})),me==="")return;const le=Number(me);Number.isNaN(le)||(ne(de,Math.max(1,le),de.on_hand),ee(we))},onBlur:()=>{const he=yp(de);p[he]===""&&ee(he)}})}),s.jsx(Oe,{align:"right",children:s.jsx(pe,{size:"1",variant:"soft",color:"red",onClick:()=>J(de),children:"Remove"})})]},yp(de)))})]})]})]}),s.jsxs($,{justify:"end",gap:"2",mt:"3",children:[s.jsx(Dn,{children:s.jsx(pe,{variant:"soft",children:"Cancel"})}),s.jsx(pe,{variant:"classic",onClick:()=>se.mutate(),disabled:se.isPending||h.length===0||!S&&!j&&!P,children:se.isPending?"Booking":"Book items"})]})]})})}function yp(e){return e.kind==="item"?`item:${e.item_id}`:`group:${e.group_id}`}function tHe(e){return new Intl.NumberFormat(void 0,{style:"currency",currency:"NOK"}).format(Number(e))}function nHe({open:e,onOpenChange:t,companyId:n,onSelect:i,excludeOwnerIds:r=[]}){const[a,o]=g.useState(""),{data:l=[]}=et({...XO({companyId:n}),enabled:e}),c=l.filter(d=>!r.includes(d.id)),u=()=>{if(!a)return;const d=l.find(h=>h.id===a);d&&(i(d.id,d.name),o(""),t(!1))};return s.jsx(rn,{open:e,onOpenChange:t,children:s.jsxs(an,{maxWidth:"400px",children:[s.jsx(cn,{children:"Select partner"}),s.jsxs($,{direction:"column",gap:"3",mt:"3",children:[s.jsxs(Vn,{value:a,onValueChange:o,children:[s.jsx(Kn,{placeholder:"Select a partner"}),s.jsx(Gn,{style:{zIndex:1e4},children:c.length===0?s.jsx(L,{size:"2",color:"gray",p:"2",children:"No partners available"}):c.map(d=>s.jsx(wt,{value:d.id,children:d.name},d.id))})]}),s.jsxs($,{gap:"2",justify:"end",mt:"2",children:[s.jsx(Dn,{children:s.jsx(pe,{variant:"soft",children:"Cancel"})}),s.jsx(pe,{variant:"classic",onClick:u,disabled:!a,children:"Select"})]})]})]})})}function iHe({jobId:e}){const[t,n]=g.useState(!1),[i,r]=g.useState(!1),[a,o]=g.useState(!1),[l,c]=g.useState("internal"),{companyId:u}=En(),{companyRole:d}=zr(),h=!!u&&d!=="freelancer",m=v=>{(v==="internal"||v==="external")&&c(v)},{data:p}=et({queryKey:["jobs.equipment",e],queryFn:async()=>{const{data:v,error:S}=await re.from("time_periods").select("id, title, start_at, end_at, category").eq("job_id",e);if(S)throw S;const b=v.map(j=>j.id),w=v.filter(j=>{if(j.category!=="equipment"||!j.title)return!1;const D=j.title.match(/^(.+?)\s+Equipment period$/);return D?D[1].trim().toLowerCase()!=="equipment":!1}).map(j=>({id:j.id,title:j.title,start_at:j.start_at,end_at:j.end_at}));if(!b.length)return{internal:[],external:[],externalTimePeriods:w};const{data:R,error:E}=await re.from("reserved_items").select(`
          id, time_period_id, item_id, quantity, source_group_id, source_kind,
          status, external_status, external_note, forced,
          item:item_id (
            id, name, category_id, brand_id, model,
            category:category_id ( name ),
            brand:brand_id ( name ),
            external_owner_id,
            external_owner:external_owner_id ( name )
          ),
          source_group:source_group_id (
            id, name, category_id,
            category:category_id ( name )
          ),
          time_period:time_period_id ( id, title, start_at, end_at )
        `).in("time_period_id",b);if(E)throw E;const _=R,N=_.filter(j=>!YH(j.item)),O=_.filter(j=>!!YH(j.item));return{internal:N,external:O,externalTimePeriods:w}}});return s.jsxs(X,{children:[l==="internal"&&s.jsx(rHe,{rows:(p==null?void 0:p.internal)??[],jobId:e,canBook:h,companyId:u??void 0,bookItemsOpen:t,setBookItemsOpen:n,editMode:i,setEditMode:r,view:l,onViewChange:m}),l==="external"&&s.jsx(aHe,{rows:(p==null?void 0:p.external)??[],externalTimePeriods:(p==null?void 0:p.externalTimePeriods)??[],canBook:h,jobId:e,companyId:u,editMode:a,setEditMode:o,view:l,onViewChange:m})]})}function rHe({rows:e,jobId:t,canBook:n,companyId:i,bookItemsOpen:r,setBookItemsOpen:a,editMode:o,setEditMode:l,view:c,onViewChange:u}){const d=Yt(),{success:h,error:m}=Jt(),{companyRole:p}=zr(),v=p==="freelancer",[S,b]=g.useState(new Set),[w,R]=g.useState(null),[E,_]=g.useState({}),[N,O]=g.useState(null),[j,D]=g.useState(null),[P,B]=g.useState(new Set),[M,z]=g.useState(new Set),U=(he,me)=>`group:${he}:${me}`,K=he=>{b(me=>{const we=new Set(me);return we.has(he)?we.delete(he):we.add(he),we})},te=(he,me)=>{var ue,De,Le;const we=Array.isArray(me==null?void 0:me.category)?(ue=me==null?void 0:me.category[0])==null?void 0:ue.name:(De=me==null?void 0:me.category)==null?void 0:De.name;if(we)return we;const le=Yp(he.item);return((Le=le==null?void 0:le.category)==null?void 0:Le.name)??"Uncategorized"},q=g.useMemo(()=>{const he=new Map,me=[];e.forEach(ue=>{if(ue.source_kind==="group"&&ue.source_group_id){const De=he.get(ue.source_group_id)??[];De.push(ue),he.set(ue.source_group_id,De)}else me.push(ue)});const we=new Map;for(const[ue,De]of he.entries()){const Le=De[0],Be=Array.isArray(Le==null?void 0:Le.source_group)?Le==null?void 0:Le.source_group[0]:Le==null?void 0:Le.source_group,ke=te(Le,Be),Ee=we.get(ke)??{groupEntries:[],directRows:[]};Ee.groupEntries.push([ue,De]),we.set(ke,Ee)}for(const ue of me){const De=te(ue),Le=we.get(De)??{groupEntries:[],directRows:[]};Le.directRows.push(ue),we.set(De,Le)}const le=Array.from(we.entries()).map(([ue,De])=>({categoryName:ue,groupEntries:De.groupEntries,directRows:De.directRows}));return le.sort((ue,De)=>ue.categoryName==="Uncategorized"?1:De.categoryName==="Uncategorized"?-1:ue.categoryName.localeCompare(De.categoryName)),le},[e]),[V,Q]=g.useState(new Set);g.useEffect(()=>{Q(he=>{let me=!1;const we=new Set(he);for(const le of q)we.has(le.categoryName)||(we.add(le.categoryName),me=!0);return me?we:he})},[q]);const ce=he=>{Q(me=>{const we=new Set(me);return we.has(he)?we.delete(he):we.add(he),we})},ae=async(he,me)=>{try{const{error:we}=await re.from("reserved_items").update({quantity:me}).eq("id",he);if(we)throw we;await d.invalidateQueries({queryKey:["jobs.equipment",t]}),R(null),_(le=>{if(!(he in le))return le;const ue={...le};return delete ue[he],ue}),h("Saved","Quantity updated")}catch(we){m("Failed to update",(we==null?void 0:we.message)||"Please try again.")}},G=async he=>{try{const{error:me}=await re.from("reserved_items").delete().eq("id",he);if(me)throw me;await d.invalidateQueries({queryKey:["jobs.equipment",t]}),h("Deleted","Booking removed")}catch(me){m("Failed to delete",(me==null?void 0:me.message)||"Please try again.")}},H=async(he,me)=>{try{const{error:we}=await re.from("reserved_items").delete().eq("source_group_id",he).eq("time_period_id",me);if(we)throw we;await d.invalidateQueries({queryKey:["jobs.equipment",t]}),h("Deleted","Group booking removed")}catch(we){m("Failed to delete",(we==null?void 0:we.message)||"Please try again.")}},T=async(he,me)=>{try{const{error:we}=await re.from("reserved_items").update({status:me}).eq("id",he);if(we)throw we;await d.invalidateQueries({queryKey:["jobs.equipment",t]}),h("Updated","Booking status updated")}catch(we){m("Failed to update",(we==null?void 0:we.message)||"Please try again.")}},Y=async(he,me,we)=>{try{const{error:le}=await re.from("reserved_items").update({status:we}).eq("source_group_id",he).eq("time_period_id",me);if(le)throw le;await d.invalidateQueries({queryKey:["jobs.equipment",t]}),h("Updated","Group booking status updated")}catch(le){m("Failed to update",(le==null?void 0:le.message)||"Please try again.")}},ie=async he=>{try{const me=e.filter(le=>{if(P.has(le.id))return!1;if(le.source_kind==="group"&&le.source_group_id&&le.time_period_id){const ue=U(le.source_group_id,le.time_period_id);if(M.has(ue))return!1}return!0}).map(le=>le.id);if(me.length===0)return;const{error:we}=await re.from("reserved_items").update({status:he}).in("id",me);if(we)throw we;await d.invalidateQueries({queryKey:["jobs.equipment",t]}),h("Updated",`Updated status for ${me.length} booking${me.length!==1?"s":""}`)}catch(me){m("Failed to update",(me==null?void 0:me.message)||"Please try again.")}},ne=he=>{B(me=>{const we=new Set(me);return we.add(he),we})},J=he=>{B(me=>{const we=new Set(me);return we.delete(he),we})},ee=he=>{z(me=>{const we=new Set(me);return we.add(he),we})},se=he=>{z(me=>{const we=new Set(me);return we.delete(he),we})},de=he=>{(he==="internal"||he==="external")&&u(he)};return s.jsxs(X,{children:[s.jsxs(X,{mb:"2",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(He,{size:"3",children:"Internal equipment"}),p!=="freelancer"&&s.jsxs($,{align:"center",gap:"3",children:[e.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs(Vn,{onValueChange:he=>ie(he),children:[s.jsx(Kn,{variant:"soft",placeholder:"Set all status..."}),s.jsxs(Gn,{children:[s.jsx(wt,{value:"planned",children:"Planned"}),s.jsx(wt,{value:"confirmed",children:"Confirmed"}),s.jsx(wt,{value:"canceled",children:"Canceled"})]})]}),s.jsxs(pe,{size:"2",variant:o?"solid":"soft",color:o?"green":void 0,disabled:!n,onClick:()=>l(!o),children:[s.jsx(gi,{width:16,height:16})," ",o?"Done editing":"Edit bookings"]})]}),s.jsxs(pe,{size:"2",disabled:!n,onClick:()=>a(!0),children:[s.jsx(yi,{width:16,height:16})," Book items"]}),s.jsxs(Xa,{value:c,onValueChange:de,size:"2",children:[s.jsx(wi,{value:"internal",children:"Internal equipment"}),s.jsx(wi,{value:"external",children:"External equipment"})]})]}),n&&i&&s.jsx(ide,{open:r,onOpenChange:a,jobId:t,companyId:i,timePeriodId:void 0,externalOnlyInitial:!1})]}),s.jsx($,{direction:"column",gap:"3",children:q.map(he=>{const me=V.has(he.categoryName),we=he.directRows.length+he.groupEntries.reduce((le,[,ue])=>le+ue.length,0);return s.jsxs(X,{style:{border:"1px solid var(--gray-a5)",borderRadius:8,overflow:"hidden",background:"var(--gray-a1)"},children:[s.jsx(X,{p:"3",style:{background:"var(--gray-a2)",cursor:"pointer",borderBottom:me?"1px solid var(--gray-a5)":"none"},onClick:()=>ce(he.categoryName),children:s.jsx($,{align:"center",justify:"between",children:s.jsxs($,{align:"center",gap:"3",children:[me?s.jsx(Za,{width:18,height:18}):s.jsx(Gl,{width:18,height:18}),s.jsx(L,{weight:"medium",children:he.categoryName}),s.jsxs(L,{size:"2",color:"gray",children:["(",we," ",we===1?"item":"items",")"]})]})})}),me&&s.jsx(X,{p:"3",children:s.jsxs(Hn,{variant:"surface",children:[s.jsx(Qn,{children:s.jsxs(ht,{children:[s.jsx(ze,{children:"Item"}),s.jsx(ze,{children:"Qty"}),s.jsx(ze,{children:"Brand"}),s.jsx(ze,{children:"Model"}),s.jsx(ze,{children:"Category"}),s.jsx(ze,{children:"Status"}),s.jsx(ze,{children:"Time period"}),o&&s.jsx(ze,{})]})}),s.jsxs(qn,{children:[he.groupEntries.map(([le,ue])=>{var St,tt,Je,Ve,qt;const De=ue[0],Le=Array.isArray(De==null?void 0:De.source_group)?De==null?void 0:De.source_group[0]:De==null?void 0:De.source_group,Be=(Le==null?void 0:Le.name)??`Group ${le.slice(0,8)}`,ke=Array.isArray(Le==null?void 0:Le.category)?(St=Le==null?void 0:Le.category[0])==null?void 0:St.name:(tt=Le==null?void 0:Le.category)==null?void 0:tt.name,Ee=S.has(le),lt=U(le,De.time_period_id),Mt=ue.reduce((Et,rt)=>Et+(rt.quantity??0),0);return s.jsxs(g.Fragment,{children:[s.jsxs(ht,{style:{cursor:o?"default":"pointer",backgroundColor:"var(--gray-a1)"},onClick:()=>!o&&K(le),children:[s.jsx(Oe,{children:s.jsxs(X,{style:{display:"flex",alignItems:"center",gap:8},children:[!o&&(Ee?s.jsx(Za,{width:18,height:18}):s.jsx(Gl,{width:18,height:18})),s.jsx(L,{children:Be}),s.jsx(mt,{color:"pink",variant:"soft",children:"Group"})]})}),s.jsx(Oe,{children:s.jsx(L,{weight:"bold",children:Mt})}),s.jsx(Oe,{children:""}),s.jsx(Oe,{children:""}),s.jsx(Oe,{children:ke??""}),s.jsx(Oe,{children:s.jsx(X,{onMouseEnter:()=>!v&&D(lt),onMouseLeave:()=>D(null),children:s.jsxs($,{align:"center",gap:"2",children:[s.jsx(mt,{radius:"full",highContrast:!0,color:(De==null?void 0:De.status)==="confirmed"?"green":(De==null?void 0:De.status)==="canceled"?"red":"gray",children:(De==null?void 0:De.status)??"planned"}),!v&&s.jsx(s.Fragment,{children:M.has(lt)?s.jsxs(s.Fragment,{children:[s.jsxs(Rg,{open:N===lt,onOpenChange:Et=>O(Et?lt:null),children:[s.jsx(Ng,{children:s.jsx(Mn,{size:"1",variant:"ghost",onClick:Et=>{Et.stopPropagation()},children:s.jsx(gi,{width:14,height:14})})}),s.jsx(Og,{style:{width:180},children:s.jsxs($,{direction:"column",gap:"2",children:[s.jsx(L,{size:"2",weight:"medium",children:"Change status"}),s.jsxs(Vn,{value:(De==null?void 0:De.status)??"planned",onValueChange:Et=>{Y(le,De.time_period_id,Et),O(null)},children:[s.jsx(Kn,{size:"2"}),s.jsxs(Gn,{children:[s.jsx(wt,{value:"planned",children:"Planned"}),s.jsx(wt,{value:"confirmed",children:"Confirmed"}),s.jsx(wt,{value:"canceled",children:"Canceled"})]})]})]})})]}),s.jsx(Mn,{size:"1",variant:"ghost",onClick:Et=>{Et.stopPropagation(),se(lt)},style:{opacity:j===lt?1:0,pointerEvents:j===lt?"auto":"none"},children:s.jsx(ZA,{width:14,height:14})})]}):s.jsx(Mn,{size:"1",variant:"ghost",onClick:Et=>{Et.stopPropagation(),ee(lt)},style:{opacity:j===lt?1:0,pointerEvents:j===lt?"auto":"none"},children:s.jsx(l6,{width:14,height:14})})})]})})}),s.jsx(Oe,{children:((Je=De==null?void 0:De.time_period)==null?void 0:Je.title)??`${QE((Ve=De==null?void 0:De.time_period)==null?void 0:Ve.start_at)}  ${QE((qt=De==null?void 0:De.time_period)==null?void 0:qt.end_at)}`}),o&&s.jsx(Oe,{align:"right",children:s.jsx(pe,{size:"1",variant:"soft",color:"red",onClick:Et=>{Et.stopPropagation(),H(le,De.time_period_id)},children:s.jsx(vi,{width:14,height:14})})})]}),Ee&&!o&&ue.map(Et=>{var xt,Te;const rt=Yp(Et.item);return s.jsxs(ht,{style:{backgroundColor:"var(--gray-a1)"},children:[s.jsx(Oe,{style:{paddingLeft:32},children:s.jsxs(L,{color:"gray",children:[" ",(rt==null?void 0:rt.name)??""]})}),s.jsx(Oe,{children:Et.quantity}),s.jsx(Oe,{children:((xt=rt==null?void 0:rt.brand)==null?void 0:xt.name)??""}),s.jsx(Oe,{children:(rt==null?void 0:rt.model)??""}),s.jsx(Oe,{children:((Te=rt==null?void 0:rt.category)==null?void 0:Te.name)??""}),s.jsx(Oe,{children:""}),s.jsx(Oe,{children:""})]},Et.id)})]},le)}),he.directRows.map(le=>{var Le,Be,ke,Ee,lt;const ue=Yp(le.item),De=(w==null?void 0:w.id)===le.id;return s.jsxs(ht,{children:[s.jsx(Oe,{children:(ue==null?void 0:ue.name)??""}),s.jsx(Oe,{children:o?s.jsxs(X,{style:{display:"flex",gap:4,alignItems:"center"},children:[s.jsx(qe,{type:"number",min:"1",value:String(E[le.id]??(De&&w?w.value:le.quantity)),onChange:Mt=>{const St=Mt.target.value;if(_(Je=>({...Je,[le.id]:St})),St==="")return;const tt=Number(St);Number.isNaN(tt)||(R({id:le.id,value:Math.max(1,tt)}),_(Je=>{const Ve={...Je};return delete Ve[le.id],Ve}))},onBlur:()=>{E[le.id]===""&&_(Mt=>{const St={...Mt};return delete St[le.id],St})},style:{width:80}}),De&&w&&s.jsx(pe,{size:"1",variant:"soft",onClick:()=>ae(le.id,w.value),children:s.jsx(el,{width:14,height:14})})]}):le.quantity}),s.jsx(Oe,{children:((Le=ue==null?void 0:ue.brand)==null?void 0:Le.name)??""}),s.jsx(Oe,{children:(ue==null?void 0:ue.model)??""}),s.jsx(Oe,{children:((Be=ue==null?void 0:ue.category)==null?void 0:Be.name)??""}),s.jsx(Oe,{onMouseEnter:()=>!v&&D(le.id),onMouseLeave:()=>D(null),children:s.jsxs($,{align:"center",gap:"2",children:[s.jsx(mt,{radius:"full",highContrast:!0,color:le.status==="confirmed"?"green":le.status==="canceled"?"red":"gray",children:le.status??"planned"}),!v&&s.jsx(s.Fragment,{children:P.has(le.id)?s.jsxs(s.Fragment,{children:[s.jsxs(Rg,{open:N===le.id,onOpenChange:Mt=>O(Mt?le.id:null),children:[s.jsx(Ng,{children:s.jsx(Mn,{size:"1",variant:"ghost",onClick:Mt=>Mt.stopPropagation(),children:s.jsx(gi,{width:14,height:14})})}),s.jsx(Og,{style:{width:180},children:s.jsxs($,{direction:"column",gap:"2",children:[s.jsx(L,{size:"2",weight:"medium",children:"Change status"}),s.jsxs(Vn,{value:le.status??"planned",onValueChange:Mt=>{T(le.id,Mt),O(null)},children:[s.jsx(Kn,{}),s.jsxs(Gn,{children:[s.jsx(wt,{value:"planned",children:"Planned"}),s.jsx(wt,{value:"confirmed",children:"Confirmed"}),s.jsx(wt,{value:"canceled",children:"Canceled"})]})]})]})})]}),s.jsx(Mn,{size:"1",variant:"ghost",onClick:Mt=>{Mt.stopPropagation(),J(le.id)},style:{opacity:j===le.id?1:0,pointerEvents:j===le.id?"auto":"none"},children:s.jsx(ZA,{width:14,height:14})})]}):s.jsx(Mn,{size:"1",variant:"ghost",onClick:Mt=>{Mt.stopPropagation(),ne(le.id)},style:{opacity:j===le.id?1:0,pointerEvents:j===le.id?"auto":"none"},children:s.jsx(l6,{width:14,height:14})})})]})}),s.jsx(Oe,{children:((ke=le.time_period)==null?void 0:ke.title)??`${QE((Ee=le.time_period)==null?void 0:Ee.start_at)}  ${QE((lt=le.time_period)==null?void 0:lt.end_at)}`}),o&&s.jsx(Oe,{align:"right",children:s.jsx(pe,{size:"1",variant:"soft",color:"red",onClick:()=>G(le.id),children:s.jsx(vi,{width:14,height:14})})})]},le.id)})]})]})})]},he.categoryName)})}),e.length===0&&n&&s.jsx(X,{p:"4",mt:"3",style:{border:"2px dashed var(--gray-a6)",borderRadius:8,textAlign:"center",cursor:"pointer",transition:"all 100ms"},onClick:()=>a(!0),onMouseEnter:he=>{he.currentTarget.style.borderColor="var(--gray-a8)",he.currentTarget.style.background="var(--gray-a2)"},onMouseLeave:he=>{he.currentTarget.style.borderColor="var(--gray-a6)",he.currentTarget.style.background="transparent"},children:s.jsxs($,{direction:"column",align:"center",gap:"2",children:[s.jsx(yi,{width:24,height:24}),s.jsx(L,{size:"2",color:"gray",children:"Book items"})]})})]})}function aHe({rows:e,externalTimePeriods:t,canBook:n,jobId:i,companyId:r,editMode:a,setEditMode:o,view:l,onViewChange:c}){const u=Yt(),{success:d,error:h}=Jt(),{companyRole:m}=zr(),p=m==="freelancer",[v,S]=g.useState(null),[b,w]=g.useState({}),[R,E]=g.useState(new Set),[_,N]=g.useState(new Map),[O,j]=g.useState(!1),[D,P]=g.useState(null),[B,M]=g.useState(null),[z,U]=g.useState(new Set),[K,te]=g.useState(null),[q,V]=g.useState(null),{data:Q}=et({...X1({jobId:i})}),{data:ce=[]}=et({...XO({companyId:r||""}),enabled:!!r}),ae=g.useMemo(()=>{const le=new Map;for(const ue of t){const De=ue.title.match(/^(.+?)\s+Equipment period$/);if(De){const Le=De[1];le.set(Le,{timePeriodId:ue.id,ownerName:Le})}}return le},[t]),G=g.useMemo(()=>{var ue,De;const le=new Map;for(const Le of e){const Be=Yp(Le.item),ke=Be==null?void 0:Be.external_owner_id;if(!ke)continue;const Ee=Array.isArray(Be==null?void 0:Be.external_owner)?(ue=Be==null?void 0:Be.external_owner[0])==null?void 0:ue.name:(De=Be==null?void 0:Be.external_owner)==null?void 0:De.name;if(!Ee)continue;if(!le.has(ke)){const Mt=Array.from(ae.entries()).find(([St])=>St===Ee);le.set(ke,{ownerId:ke,ownerName:Ee,items:[],timePeriodId:(Mt==null?void 0:Mt[1].timePeriodId)??null})}le.get(ke).items.push(Le)}for(const[Le,{timePeriodId:Be}]of ae.entries())if(!Array.from(le.values()).find(Ee=>Ee.ownerName===Le)){const Ee=ce.find(Mt=>Mt.name===Le),lt=(Ee==null?void 0:Ee.id)||`temp-${Le}`;le.set(lt,{ownerId:lt,ownerName:Le,items:[],timePeriodId:Be})}return le},[e,ae,ce]);g.useEffect(()=>{N(le=>{var Le;const ue=new Map,De=new Map;for(const Be of e){const ke=Yp(Be.item),Ee=ke==null?void 0:ke.external_owner_id;Ee&&(De.has(Ee)||De.set(Ee,{ownerId:Ee,items:[]}),De.get(Ee).items.push(Be))}for(const[Be,ke]of De.entries())if(ke.items.length>0){const Ee=((Le=ke.items[0])==null?void 0:Le.external_note)??"",lt=le.get(Be);lt!==void 0&&lt!==Ee&&ue.set(Be,lt)}return ue})},[e]);const H=le=>{E(ue=>{const De=new Set(ue);return De.has(le)?De.delete(le):De.add(le),De})},T=async(le,ue)=>{try{const{error:De}=await re.from("reserved_items").update({quantity:ue}).eq("id",le);if(De)throw De;await u.invalidateQueries({queryKey:["jobs.equipment",i]}),S(null),w(Le=>{if(!(le in Le))return Le;const Be={...Le};return delete Be[le],Be}),d("Saved","Quantity updated")}catch(De){h("Failed to update",(De==null?void 0:De.message)||"Please try again.")}},Y=async le=>{try{const{error:ue}=await re.from("reserved_items").delete().eq("id",le);if(ue)throw ue;await u.invalidateQueries({queryKey:["jobs.equipment",i]}),d("Deleted","Booking removed")}catch(ue){h("Failed to delete",(ue==null?void 0:ue.message)||"Please try again.")}},ie=async(le,ue)=>{try{const De=le.map(Be=>Be.id),{error:Le}=await re.from("reserved_items").update(ue).in("id",De);if(Le)throw Le;await u.invalidateQueries({queryKey:["jobs.equipment",i]}),d("Updated","All items for this owner updated")}catch(De){h("Failed to update",(De==null?void 0:De.message)||"Please try again.")}},ne=async(le,ue)=>{if(!(!r||!Q))try{const De=Q.start_at||new Date().toISOString(),Le=Q.end_at||new Date(Date.now()+864e5).toISOString(),Be=await pm({job_id:i,company_id:r,title:`${ue} Equipment period`,start_at:De,end_at:Le,category:"equipment"});await u.invalidateQueries({queryKey:["jobs.equipment",i]}),await u.invalidateQueries({queryKey:["jobs",i,"time_periods"]}),P({ownerId:le,ownerName:ue,timePeriodId:Be}),d("Success",`Time period created for ${ue}`)}catch(De){h("Failed to create time period",(De==null?void 0:De.message)||"Please try again.")}},J=g.useMemo(()=>Array.from(G.values()).map(le=>{if(le.items.length>0){const ue=Yp(le.items[0].item);return(ue==null?void 0:ue.external_owner_id)??null}return null}).filter(le=>le!==null&&!le.startsWith("temp-")),[G]),ee=async()=>{if(B)try{const{timePeriodId:le}=B;if(B.itemCount>0){const{error:De}=await re.from("reserved_items").delete().eq("time_period_id",le);if(De)throw De}const{error:ue}=await re.from("time_periods").delete().eq("id",le);if(ue)throw ue;await u.invalidateQueries({queryKey:["jobs.equipment",i]}),await u.invalidateQueries({queryKey:["jobs",i,"time_periods"]}),d("Deleted",`Removed booking for ${B.ownerName}`),M(null)}catch(le){h("Failed to delete",(le==null?void 0:le.message)||"Please try again.")}},se=async(le,ue)=>{try{const{error:De}=await re.from("reserved_items").update({external_status:ue}).eq("id",le);if(De)throw De;await u.invalidateQueries({queryKey:["jobs.equipment",i]}),d("Updated","Item status updated")}catch(De){h("Failed to update",(De==null?void 0:De.message)||"Please try again.")}},de=async le=>{try{const ue=e.filter(Le=>!z.has(Le.id)).map(Le=>Le.id);if(ue.length===0)return;const{error:De}=await re.from("reserved_items").update({external_status:le}).in("id",ue);if(De)throw De;await u.invalidateQueries({queryKey:["jobs.equipment",i]}),d("Updated",`Updated status for ${ue.length} item${ue.length!==1?"s":""}`)}catch(ue){h("Failed to update",(ue==null?void 0:ue.message)||"Please try again.")}},he=le=>{U(ue=>{const De=new Set(ue);return De.add(le),De})},me=le=>{U(ue=>{const De=new Set(ue);return De.delete(le),De})},we=le=>{(le==="internal"||le==="external")&&c(le)};return s.jsxs(X,{children:[s.jsxs(X,{mb:"2",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(He,{size:"3",children:"External equipment"}),s.jsxs($,{align:"center",gap:"3",children:[m!=="freelancer"&&e.length>0&&s.jsxs(Vn,{onValueChange:le=>de(le),children:[s.jsx(Kn,{variant:"soft",placeholder:"Set all status..."}),s.jsxs(Gn,{children:[s.jsx(wt,{value:"planned",children:"Planned"}),s.jsx(wt,{value:"requested",children:"Requested"}),s.jsx(wt,{value:"confirmed",children:"Confirmed"})]})]}),m!=="freelancer"&&s.jsxs(Xa,{value:l,onValueChange:we,size:"2",children:[s.jsx(wi,{value:"internal",children:"Internal equipment"}),s.jsx(wi,{value:"external",children:"External equipment"})]})]})]}),s.jsxs($,{direction:"column",gap:"3",children:[Array.from(G.values()).map(le=>{const ue=le.ownerId,De=le.ownerName,Le=le.items,Be=le.timePeriodId,ke=R.has(ue),Ee=Le[0],lt=Le.length>0?Ee.external_status:"planned",Mt=(Ee==null?void 0:Ee.external_note)??"",St=_.get(ue)??Mt,tt=St!==Mt;return s.jsxs(X,{style:{border:"1px solid var(--gray-a5)",borderRadius:8,overflow:"hidden",background:"var(--gray-a1)"},children:[s.jsx(X,{p:"3",style:{background:"var(--gray-a2)",cursor:"pointer",borderBottom:ke?"1px solid var(--gray-a5)":"none"},onClick:()=>H(ue),children:s.jsxs($,{align:"center",justify:"between",children:[s.jsxs($,{align:"center",gap:"3",children:[ke?s.jsx(Za,{width:18,height:18}):s.jsx(Gl,{width:18,height:18}),s.jsx(L,{weight:"medium",children:De}),Le.length>0&&s.jsxs(L,{size:"2",color:"gray",children:["(",Le.length," ",Le.length===1?"item":"items",")"]})]}),Le.length>0&&(p?s.jsx(mt,{radius:"full",highContrast:!0,children:lt}):s.jsx(sHe,{value:lt,onChange:Je=>ie(Le,{external_status:Je})}))]})}),ke&&s.jsx(X,{p:"3",style:{background:"var(--gray-a1)",borderTop:"1px solid var(--gray-a4)"},children:s.jsxs($,{direction:"column",gap:"3",children:[!p&&Be&&s.jsxs($,{gap:"2",children:[s.jsxs(pe,{size:"2",variant:"soft",onClick:()=>P({ownerId:ue,ownerName:De,timePeriodId:Be}),disabled:!Be||!n,children:[s.jsx(yi,{width:16,height:16})," Book items"]}),Le.length>0&&s.jsxs(pe,{size:"2",variant:a?"solid":"soft",color:a?"green":void 0,disabled:!n,onClick:()=>o(!a),children:[s.jsx(gi,{width:16,height:16})," ",a?"Done editing":"Edit bookings"]}),s.jsxs(pe,{size:"2",variant:"soft",color:"red",onClick:()=>M({ownerId:ue,ownerName:De,timePeriodId:Be,itemCount:Le.length}),disabled:!n,children:[s.jsx(vi,{width:16,height:16})," Remove"]})]}),s.jsxs(X,{children:[s.jsx(L,{size:"1",weight:"medium",mb:"1",children:"Time Period"}),Be?s.jsx(nde,{jobId:i,timePeriodId:Be,readOnly:p}):s.jsx(X,{p:"2",style:{border:"1px dashed var(--amber-a6)",borderRadius:8,background:"var(--amber-a2)"},children:s.jsx(L,{size:"2",color:"amber",children:"No time period set"})})]}),Le.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs(X,{children:[s.jsx(L,{size:"1",weight:"medium",mb:"1",children:"Note"}),p?s.jsx(L,{size:"2",children:St||""}):s.jsx(qe,{placeholder:"Add note for all items from this owner",value:St,onChange:Je=>{const Ve=new Map(_);Ve.set(ue,Je.target.value),N(Ve)},children:tt&&s.jsx(Sr,{side:"right",children:s.jsx(pe,{size:"2",variant:"ghost",onClick:()=>{ie(Le,{external_note:St});const Je=new Map(_);Je.delete(ue),N(Je)},children:"Save"})})})]}),s.jsx(X,{mt:"3",children:s.jsxs(Hn,{variant:"surface",children:[s.jsx(Qn,{children:s.jsxs(ht,{children:[s.jsx(ze,{children:"Item"}),s.jsx(ze,{children:"Qty"}),s.jsx(ze,{children:"Brand"}),s.jsx(ze,{children:"Model"}),s.jsx(ze,{children:"Status"}),a&&s.jsx(ze,{})]})}),s.jsx(qn,{children:Le.map(Je=>{var qt;const Ve=Yp(Je.item);return s.jsxs(ht,{children:[s.jsx(Oe,{children:(Ve==null?void 0:Ve.name)??""}),s.jsx(Oe,{children:a?s.jsxs(X,{style:{display:"flex",gap:4,alignItems:"center"},children:[s.jsx(qe,{type:"number",min:"1",value:String(b[Je.id]??((v==null?void 0:v.id)===Je.id?v.value:Je.quantity)),onChange:Et=>{const rt=Et.target.value;if(w(Te=>({...Te,[Je.id]:rt})),rt==="")return;const xt=Number(rt);Number.isNaN(xt)||(S({id:Je.id,value:Math.max(1,xt)}),w(Te=>{const Ot={...Te};return delete Ot[Je.id],Ot}))},onBlur:()=>{b[Je.id]===""&&w(Et=>{const rt={...Et};return delete rt[Je.id],rt})},style:{width:80}}),(v==null?void 0:v.id)===Je.id&&s.jsx(pe,{size:"1",variant:"soft",onClick:()=>T(Je.id,v.value),children:s.jsx(el,{width:14,height:14})})]}):Je.quantity}),s.jsx(Oe,{children:((qt=Ve==null?void 0:Ve.brand)==null?void 0:qt.name)??""}),s.jsx(Oe,{children:(Ve==null?void 0:Ve.model)??""}),s.jsx(Oe,{onMouseEnter:()=>!p&&V(Je.id),onMouseLeave:()=>V(null),children:s.jsxs($,{align:"center",gap:"2",children:[s.jsx(mt,{radius:"full",highContrast:!0,color:Je.external_status==="confirmed"?"green":Je.external_status==="requested"?"amber":"gray",children:Je.external_status??"planned"}),!p&&s.jsx(s.Fragment,{children:z.has(Je.id)?s.jsxs(s.Fragment,{children:[s.jsxs(Rg,{open:K===Je.id,onOpenChange:Et=>te(Et?Je.id:null),children:[s.jsx(Ng,{children:s.jsx(Mn,{size:"1",variant:"ghost",onClick:Et=>Et.stopPropagation(),children:s.jsx(gi,{width:14,height:14})})}),s.jsx(Og,{style:{width:180},children:s.jsxs($,{direction:"column",gap:"2",children:[s.jsx(L,{size:"2",weight:"medium",children:"Change status"}),s.jsxs(Vn,{value:Je.external_status??"planned",onValueChange:Et=>{se(Je.id,Et),te(null)},children:[s.jsx(Kn,{}),s.jsxs(Gn,{children:[s.jsx(wt,{value:"planned",children:"Planned"}),s.jsx(wt,{value:"requested",children:"Requested"}),s.jsx(wt,{value:"confirmed",children:"Confirmed"})]})]})]})})]}),s.jsx(Mn,{size:"1",variant:"ghost",onClick:Et=>{Et.stopPropagation(),me(Je.id)},style:{opacity:q===Je.id?1:0,pointerEvents:q===Je.id?"auto":"none"},children:s.jsx(ZA,{width:14,height:14})})]}):s.jsx(Mn,{size:"1",variant:"ghost",onClick:Et=>{Et.stopPropagation(),he(Je.id)},style:{opacity:q===Je.id?1:0,pointerEvents:q===Je.id?"auto":"none"},children:s.jsx(l6,{width:14,height:14})})})]})}),a&&s.jsx(Oe,{align:"right",children:s.jsx(pe,{size:"1",variant:"soft",color:"red",onClick:()=>Y(Je.id),children:s.jsx(vi,{width:14,height:14})})})]},Je.id)})})]})})]})]})})]},ue)}),n&&r&&s.jsx(X,{p:"4",style:{border:"2px dashed var(--gray-a6)",borderRadius:8,textAlign:"center",cursor:"pointer",transition:"all 100ms"},onClick:()=>j(!0),onMouseEnter:le=>{le.currentTarget.style.borderColor="var(--gray-a8)",le.currentTarget.style.background="var(--gray-a2)"},onMouseLeave:le=>{le.currentTarget.style.borderColor="var(--gray-a6)",le.currentTarget.style.background="transparent"},children:s.jsxs($,{direction:"column",align:"center",gap:"2",children:[s.jsx(yi,{width:24,height:24}),s.jsx(L,{size:"2",color:"gray",children:"Add partner"})]})})]}),n&&r&&s.jsxs(s.Fragment,{children:[s.jsx(nHe,{open:O,onOpenChange:j,companyId:r,onSelect:ne,excludeOwnerIds:J}),D&&s.jsx(ide,{open:!!D,onOpenChange:le=>{le||P(null)},jobId:i,companyId:r,timePeriodId:D.timePeriodId,externalOwnerId:D.ownerId}),s.jsx(Mu,{open:!!B,onOpenChange:le=>{le||M(null)},children:s.jsxs(Iu,{maxWidth:"480px",children:[s.jsx(Pu,{children:"Remove external booking?"}),s.jsxs(ku,{size:"2",children:["This will remove the entire booking for"," ",s.jsx("b",{children:B==null?void 0:B.ownerName}),B&&B.itemCount>0&&s.jsxs(s.Fragment,{children:[" ","including all"," ",s.jsxs("b",{children:[B.itemCount," ",B.itemCount===1?"item":"items"]})]}),". The time period will also be deleted. This action cannot be undone."]}),s.jsxs($,{gap:"3",justify:"end",mt:"4",children:[s.jsx($u,{children:s.jsx(pe,{variant:"soft",children:"Cancel"})}),s.jsx(zd,{children:s.jsx(pe,{color:"red",variant:"solid",onClick:ee,children:"Yes, remove"})})]})]})})]})]})}function sHe({value:e,onChange:t}){const n=["planned","requested","confirmed"];return s.jsx(Xa,{value:e,onValueChange:i=>t(i),size:"1",children:n.map(i=>s.jsx(wi,{value:i,children:i},i))})}function Yp(e){return Array.isArray(e)?e[0]??null:e}function YH(e){var t;return((t=Yp(e))==null?void 0:t.external_owner_id)??null}function QE(e){return e?new Date(e).toLocaleDateString():""}function rde(){return{queryKey:["matters","index","all"],queryFn:async()=>{const{data:{user:e}}=await re.auth.getUser();if(!e)return[];const{data:t}=await re.from("profiles").select("superuser").eq("user_id",e.id).maybeSingle(),n=(t==null?void 0:t.superuser)??!1;let i=[];if(n){const{data:E}=await re.from("companies").select("id");i=(E||[]).map(_=>_.id)}else{const{data:E}=await re.from("company_users").select("company_id").eq("user_id",e.id);i=(E||[]).map(_=>_.company_id)}if(i.length===0)return[];const{data:r,error:a}=await re.from("matter_recipients").select("matter_id, viewed_at").eq("user_id",e.id);if(a)throw a;const o=new Set((r||[]).map(E=>E.matter_id)),l=new Set((r||[]).filter(E=>!E.viewed_at).map(E=>E.matter_id)),c=re.from("matters").select(`
          id,
          company_id,
          created_by_user_id,
          matter_type,
          title,
          content,
          job_id,
          time_period_id,
          is_anonymous,
          allow_custom_responses,
          created_as_company,
          created_at,
          updated_at,
          metadata,
          created_by:created_by_user_id ( user_id, display_name, email, avatar_url ),
          company:company_id ( id, name ),
          job:job_id ( id, title, project_lead:project_lead_user_id ( user_id, display_name, email, avatar_url ) ),
          time_period:time_period_id ( id, title )
        `).in("company_id",i).order("created_at",{ascending:!1}),{data:u,error:d}=await c;if(d)throw d;const h=(u||[]).filter(E=>E.matter_type==="crew_invite"?o.has(E.id):E.created_by_user_id===e.id||o.has(E.id));if(h.length===0)return[];const m=h.map(E=>E.id),[p,v]=await Promise.all([re.from("matter_recipients").select("matter_id").in("matter_id",m),re.from("matter_responses").select("matter_id").in("matter_id",m)]);if(p.error)throw p.error;if(v.error)throw v.error;const S=new Map,b=new Map;for(const E of p.data||[])S.set(E.matter_id,(S.get(E.matter_id)||0)+1);for(const E of v.data||[])b.set(E.matter_id,(b.get(E.matter_id)||0)+1);const{data:w}=await re.from("matter_responses").select("matter_id, id, response, created_at, updated_at").eq("user_id",e.id).in("matter_id",m),R=new Map;if(w)for(const E of w)R.set(E.matter_id,{id:E.id,matter_id:E.matter_id,user_id:e.id,response:E.response,created_at:E.created_at,updated_at:E.updated_at});return h.map(E=>({...E,recipient_count:S.get(E.id)||0,response_count:b.get(E.id)||0,my_response:R.get(E.id)||null,is_unread:l.has(E.id)&&(E.created_by_user_id!==e.id||E.created_as_company)}))}}}function oHe(e){return{queryKey:["matters","detail",e],queryFn:async()=>{const{data:t,error:n}=await re.from("matters").select(`
          id,
          company_id,
          created_by_user_id,
          matter_type,
          title,
          content,
          job_id,
          time_period_id,
          is_anonymous,
          allow_custom_responses,
          created_as_company,
          created_at,
          updated_at,
          metadata,
          created_by:created_by_user_id ( user_id, display_name, email, avatar_url ),
          company:company_id ( id, name ),
          job:job_id ( id, title, project_lead:project_lead_user_id ( user_id, display_name, email, avatar_url ) ),
          time_period:time_period_id ( id, title )
        `).eq("id",e).single();if(n){if(n.code==="PGRST116")return null;throw n}if(!t)return null;const{data:{user:i}}=await re.auth.getUser();let r=null;if(i){const{data:a}=await re.from("matter_responses").select(`
            id,
            matter_id,
            user_id,
            response,
            created_at,
            updated_at,
            user:user_id ( user_id, display_name, email, avatar_url )
          `).eq("matter_id",e).eq("user_id",i.id).maybeSingle();a&&(r=a)}return{...t,my_response:r}}}}function lHe(e){return{queryKey:["matters","recipients",e],queryFn:async()=>{const{data:t,error:n}=await re.from("matter_recipients").select(`
          id,
          matter_id,
          user_id,
          status,
          viewed_at,
          responded_at,
          created_at,
          user:user_id ( user_id, display_name, email, avatar_url )
        `).eq("matter_id",e).order("created_at",{ascending:!0});if(n)throw n;const{data:i,error:r}=await re.from("matter_responses").select("id, matter_id, user_id, response, created_at, updated_at").eq("matter_id",e);if(r)throw r;const a=new Map;if(i)for(const l of i)a.set(l.user_id,{id:l.id,response:l.response,created_at:l.created_at,updated_at:l.updated_at});return(t||[]).map(l=>({...l,response:a.get(l.user_id)||null}))}}}function cHe(e){return{queryKey:["matters","responses",e],queryFn:async()=>{const{data:t,error:n}=await re.from("matter_responses").select(`
          id,
          matter_id,
          user_id,
          response,
          created_at,
          updated_at,
          user:user_id ( user_id, display_name, email, avatar_url )
        `).eq("matter_id",e).order("created_at",{ascending:!0});if(n)throw n;return t||[]}}}function uHe(e){return{queryKey:["matters","messages",e],queryFn:async()=>{const{data:t,error:n}=await re.from("matter_messages").select(`
          id,
          matter_id,
          user_id,
          content,
          created_at,
          updated_at,
          user:user_id ( user_id, display_name, email, avatar_url )
        `).eq("matter_id",e).order("created_at",{ascending:!0});if(n)throw n;return t||[]}}}async function ZO(e){var a,o;const{data:{user:t}}=await re.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:n,error:i}=await re.from("matters").insert({company_id:e.company_id,created_by_user_id:t.id,matter_type:e.matter_type,title:e.title.trim(),content:((a=e.content)==null?void 0:a.trim())||null,job_id:e.job_id||null,time_period_id:e.time_period_id||null,is_anonymous:e.is_anonymous??!1,allow_custom_responses:e.allow_custom_responses??!0,created_as_company:e.created_as_company??!1}).select("id").single();if(i)throw i;if(!n)throw new Error("Failed to create matter");const r=[...e.recipient_user_ids];if(e.matter_type==="vote"&&!r.includes(t.id)&&r.push(t.id),r.length>0){const l=r.map(u=>({matter_id:n.id,user_id:u,status:"pending"})),{error:c}=await re.from("matter_recipients").insert(l);if(c)throw c}if(e.files&&e.files.length>0)for(const l of e.files){const c=((o=l.name.split(".").pop())==null?void 0:o.toLowerCase())||"bin",d=`${Date.now()}.${c}`,h=`${n.id}/${d}`,{error:m}=await re.storage.from("matter_files").upload(h,l,{upsert:!1,cacheControl:"3600"});if(m)throw m;const{error:p}=await re.from("matter_files").insert({matter_id:n.id,filename:l.name,path:h,mime_type:l.type,size_bytes:l.size,uploaded_by_user_id:t.id});if(p)throw p}return n.id}async function dHe(e,t,n,i){const{data:{user:r}}=await re.auth.getUser();if(!r)throw new Error("Not authenticated");const{data:a,error:o}=await re.from("jobs").select("id, title").eq("id",e).single();if(o)throw o;const{data:l,error:c}=await re.from("time_periods").select("id, title, start_at, end_at").eq("id",t).single();if(c)throw c;const{data:u,error:d}=await re.from("reserved_crew").select("user_id").eq("time_period_id",t).eq("status","planned");if(d)throw d;if(!u||u.length===0)throw new Error("No crew members to invite (add crew members first)");const h=u.map(E=>E.user_id).filter(E=>!!E&&E!==r.id);if(h.length===0)throw new Error("No crew members to invite (all crew members are already invited or you are the only crew member)");const m=l.title||"Role",p=l.start_at?new Date(l.start_at).toLocaleDateString():"",v=l.end_at?new Date(l.end_at).toLocaleDateString():"",S=`Crew invitation: ${m}`,b=`You have been invited to work on "${a.title}" as ${m}${p&&v?` from ${p} to ${v}`:""}.`,w=await ZO({company_id:n,matter_type:"crew_invite",title:S,content:b,job_id:e,time_period_id:t,recipient_user_ids:h});if(i){const{data:{user:E}}=await re.auth.getUser();if(E){const{error:_}=await re.from("matter_messages").insert({matter_id:w,user_id:E.id,content:i.trim()});if(_)throw _}}const{error:R}=await re.from("reserved_crew").update({status:"planned"}).eq("time_period_id",t).eq("status","planned").in("user_id",h);if(R)throw R;return w}function JH(e){const t=new Date(e),n=String(t.getDate()).padStart(2,"0"),i=String(t.getMonth()+1).padStart(2,"0"),r=t.getFullYear(),a=String(t.getHours()).padStart(2,"0"),o=String(t.getMinutes()).padStart(2,"0");return`${r}-${i}-${n} ${a}:${o}`}function fHe(e,t){const n=new Date(e),r=new Date(t).getTime()-n.getTime();return Math.round(r/(1e3*60*60)*10)/10}async function hHe(e,t,n,i,r){const{data:a,error:o}=await re.from("jobs").select("id, title, job_address_id, address:job_address_id ( id, name, address_line, zip_code, city, country )").eq("id",e).single();if(o)throw o;const{data:l,error:c}=await re.from("time_periods").select("id, title, start_at, end_at").eq("id",t).single();if(c)throw c;const{data:u,error:d}=await re.from("reserved_crew").select("id, user_id, notes, status").eq("time_period_id",t).eq("user_id",n).maybeSingle();if(d)throw d;if(!u)throw new Error("Crew member not found for this role");if(u.status!=="planned")throw new Error(`Crew member is already in ${u.status} status. Only planned crew can be invited.`);const h=l.title||"Role";let m="",p="";if(l.start_at&&l.end_at){const E=JH(l.start_at),_=JH(l.end_at),N=fHe(l.start_at,l.end_at);m=`${E} - ${_}`,p=` (${N} hours)`}let v="";if(a.address){const E=a.address;v=[E.address_line,E.zip_code,E.city,E.country].filter(Boolean).join(", ")}const S=`Crew invitation: ${h}`;let b=`You have been invited to work on "${a.title}" as ${h}.`;m&&(b+=`

Role Time: ${m}${p}`),v&&(b+=`

Address: ${v}`),u.notes&&(b+=`

Notes: ${u.notes}`);const w=await ZO({company_id:i,matter_type:"crew_invite",title:S,content:b,job_id:e,time_period_id:t,recipient_user_ids:[n]});if(r){const{data:{user:E}}=await re.auth.getUser();if(E){const{error:_}=await re.from("matter_messages").insert({matter_id:w,user_id:E.id,content:r.trim()});if(_)throw _}}const{error:R}=await re.from("reserved_crew").update({status:"planned"}).eq("id",u.id);if(R)throw R;return w}async function pHe(e,t){const{data:{user:n}}=await re.auth.getUser();if(!n)throw new Error("Not authenticated");const i=t.trim().toLowerCase(),{data:r,error:a}=await re.from("matters").select("matter_type, job_id, time_period_id").eq("id",e).single();if(a)throw a;const{error:o}=await re.from("matter_responses").upsert({matter_id:e,user_id:n.id,response:t.trim()},{onConflict:"matter_id,user_id"});if(o)throw o;let l="responded",c=null;i==="approved"?(l="accepted",c="confirmed"):i==="rejected"&&(l="declined",c="canceled");const{data:u,error:d}=await re.from("matter_recipients").update({status:l,responded_at:new Date().toISOString()}).eq("matter_id",e).eq("user_id",n.id).select();if(d)throw d;if(!u||u.length===0){const{error:h}=await re.from("matter_recipients").insert({matter_id:e,user_id:n.id,status:l,responded_at:new Date().toISOString()});if(h)throw new Error(`Failed to update recipient status: ${h.message}`)}if(r.matter_type==="crew_invite"&&c&&r.time_period_id){const{error:h}=await re.from("reserved_crew").update({status:c}).eq("time_period_id",r.time_period_id).eq("user_id",n.id);if(h)throw h}}async function mHe(e,t){const{data:{user:n}}=await re.auth.getUser();if(!n)throw new Error("Not authenticated");const{error:i}=await re.from("matter_messages").insert({matter_id:e,user_id:n.id,content:t.trim()});if(i)throw i}async function yHe(e){const{data:{user:t}}=await re.auth.getUser();if(!t)throw new Error("Not authenticated");const{error:n}=await re.from("matter_recipients").update({status:"viewed",viewed_at:new Date().toISOString()}).eq("matter_id",e).eq("user_id",t.id);if(n)throw n}function gHe(e){return{queryKey:["matters","files",e],queryFn:async()=>{const{data:t,error:n}=await re.from("matter_files").select(`
          id,
          matter_id,
          filename,
          path,
          mime_type,
          size_bytes,
          title,
          note,
          uploaded_by_user_id,
          created_at,
          uploaded_by:uploaded_by_user_id ( user_id, display_name, email )
        `).eq("matter_id",e).order("created_at",{ascending:!1});if(n)throw n;return t||[]}}}function vHe(){return{queryKey:["matters","unread-count","all"],queryFn:async()=>{const{data:{user:e}}=await re.auth.getUser();if(!e)return 0;const{data:t}=await re.from("profiles").select("superuser").eq("user_id",e.id).maybeSingle(),n=(t==null?void 0:t.superuser)??!1;let i=[];if(n){const{data:d}=await re.from("companies").select("id");i=(d||[]).map(h=>h.id)}else{const{data:d}=await re.from("company_users").select("company_id").eq("user_id",e.id);i=(d||[]).map(h=>h.company_id)}if(i.length===0)return 0;const{data:r,error:a}=await re.from("matter_recipients").select("matter_id, viewed_at").eq("user_id",e.id).is("viewed_at",null);if(a)throw a;const o=(r==null?void 0:r.map(d=>d.matter_id))||[];if(o.length===0)return 0;const{data:l,error:c}=await re.from("matters").select("id, created_by_user_id, created_as_company").in("company_id",i).in("id",o);if(c)throw c;return(l||[]).filter(d=>d.created_by_user_id!==e.id||d.created_as_company).length},refetchInterval:3e4}}async function SHe(e){const{data:{user:t}}=await re.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:n,error:i}=await re.from("matters").select("created_by_user_id").eq("id",e).single();if(i)throw i;if(!n)throw new Error("Matter not found");if(n.created_by_user_id!==t.id)throw new Error("Only the creator can delete this matter");const{data:r,error:a}=await re.from("matter_files").select("path").eq("matter_id",e);if(a)throw a;if(r&&r.length>0){const l=r.map(u=>u.path),{error:c}=await re.storage.from("matter_files").remove(l);if(c)throw c}const{error:o}=await re.from("matters").delete().eq("id",e);if(o)throw o}function bHe({open:e,onOpenChange:t,jobId:n}){const i=Yt(),[r,a]=g.useState(""),[o,l]=g.useState(1),[c,u]=g.useState(null),[d,h]=g.useState(""),[m,p]=g.useState(""),[v,S]=g.useState(!0),[b,w]=g.useState(""),{data:R}=et({queryKey:["jobs-detail-lite",n],enabled:e,queryFn:async()=>{const{data:j,error:D}=await re.from("jobs").select("id, company_id, start_at, end_at").eq("id",n).single();if(D)throw D;return j}});g.useEffect(()=>{!e||!R||(!d&&R.start_at&&(h(R.start_at),S(!0)),!m&&R.end_at&&(p(R.end_at),S(!1)))},[e,R,d,m]),g.useEffect(()=>{!d||!v||p(Cm(d))},[d,v]);const E=["Technician","Loader","FOH","Monitors","Hands","Driver"],_=["Audio","Lights","AV","Transport","Rigging"],N=bt({mutationFn:async()=>{if(!(R!=null&&R.company_id))throw new Error("Missing company");if(!r.trim())throw new Error("Title required");if(!d||!m)throw new Error("Start and end dates required");const j={job_id:n,company_id:R.company_id,title:r.trim(),start_at:d,end_at:m,needed_count:o,category:"crew",role_category:b.trim().toLowerCase()||null},{error:D}=await re.from("time_periods").insert(j);if(D)throw D},onSuccess:async()=>{await i.invalidateQueries({queryKey:["jobs",n,"time_periods"]}),await i.invalidateQueries({queryKey:["jobs",n,"time_periods","crew"]}),t(!1),a(""),l(1),u(null),h(""),p(""),w("")}}),O=N.isPending||!r.trim()||!d||!m;return s.jsx(rn,{open:e,onOpenChange:t,children:s.jsxs(an,{maxWidth:"600px",children:[s.jsx(cn,{children:"Add role"}),s.jsxs($,{direction:"column",gap:"3",mt:"3",children:[s.jsxs(X,{children:[s.jsx(L,{size:"2",color:"gray",mb:"1",children:"Title"}),s.jsx(qe,{placeholder:"e.g. FOH, Monitor, Loader",value:r,onChange:j=>a(j.target.value)}),s.jsxs($,{gap:"2",wrap:"wrap",mt:"2",children:[s.jsx(L,{size:"1",color:"gray",style:{width:"100%"},children:"Quick suggestions:"}),E.map(j=>s.jsx(pe,{size:"1",variant:"soft",color:"gray",onClick:()=>a(j),children:j},j))]})]}),s.jsxs(X,{children:[s.jsx(L,{size:"2",color:"gray",mb:"1",children:"Needed"}),s.jsx(qe,{type:"number",min:"1",value:c??String(o),onChange:j=>{const D=j.target.value;if(u(D),D==="")return;const P=Number(D);Number.isNaN(P)||(l(Math.max(1,P)),u(null))},onBlur:()=>{c===""&&u(null)},style:{width:120}})]}),s.jsxs($,{gap:"3",children:[s.jsx(X,{style:{flex:1},children:s.jsx(or,{label:"Start",value:d,onChange:j=>{h(j),S(!0)}})}),s.jsx(X,{style:{flex:1},children:s.jsx(or,{label:"End",value:m,onChange:j=>{p(j),S(!1)}})})]}),s.jsxs(X,{children:[s.jsx(L,{size:"2",color:"gray",mb:"1",children:"Role Category"}),s.jsx(qe,{placeholder:"e.g. Audio, Lights, AV",value:b,onChange:j=>w(j.target.value)}),s.jsxs($,{gap:"2",wrap:"wrap",mt:"2",children:[s.jsx(L,{size:"1",color:"gray",style:{width:"100%"},children:"Quick suggestions:"}),_.map(j=>s.jsx(pe,{size:"1",variant:"soft",color:"gray",onClick:()=>w(j),children:j},j))]})]})]}),s.jsxs($,{justify:"end",gap:"2",mt:"4",children:[s.jsx(Dn,{children:s.jsx(pe,{variant:"soft",children:"Cancel"})}),s.jsx(pe,{variant:"classic",onClick:()=>N.mutate(),disabled:O,children:N.isPending?"Saving":"Add role"})]})]})})}function xHe({open:e,onOpenChange:t,jobId:n,initial:i}){const r=Yt(),{error:a,success:o}=Jt(),[l,c]=g.useState(""),[u,d]=g.useState(1),[h,m]=g.useState(null),[p,v]=g.useState(""),[S,b]=g.useState(""),[w,R]=g.useState("");g.useEffect(()=>{!e||!i||(c(i.title??""),d(i.needed_count??1),m(null),v(i.start_at??""),b(i.end_at??""),R(i.role_category??""))},[e,i==null?void 0:i.id]);const E=bt({mutationFn:async()=>{if(!(i!=null&&i.id))throw new Error("Missing role");if(!l.trim())throw new Error("Title required");if(!p||!S)throw new Error("Start and end dates required");const N={title:l.trim(),start_at:p,end_at:S,needed_count:u,role_category:w.trim().toLowerCase()||null},{error:O}=await re.from("time_periods").update(N).eq("id",i.id);if(O)throw O},onSuccess:async()=>{await r.invalidateQueries({queryKey:["jobs",n,"time_periods"]}),await r.invalidateQueries({queryKey:["jobs",n,"time_periods","crew"]}),await r.invalidateQueries({queryKey:["jobs.crew",n]}),o("Role updated","Role details saved."),t(!1)},onError:N=>{a("Failed to update role",(N==null?void 0:N.hint)||(N==null?void 0:N.message)||"Please try again.")}}),_=E.isPending||!l.trim()||!p||!S||!(i!=null&&i.id);return s.jsx(rn,{open:e,onOpenChange:t,children:s.jsxs(an,{maxWidth:"600px",children:[s.jsx(cn,{children:"Edit role"}),s.jsxs($,{direction:"column",gap:"3",mt:"3",children:[s.jsxs(X,{children:[s.jsx(L,{size:"2",color:"gray",mb:"1",children:"Title"}),s.jsx(qe,{placeholder:"e.g. FOH, Monitor, Loader",value:l,onChange:N=>c(N.target.value)})]}),s.jsxs(X,{children:[s.jsx(L,{size:"2",color:"gray",mb:"1",children:"Needed"}),s.jsx(qe,{type:"number",min:"1",value:h??String(u),onChange:N=>{const O=N.target.value;if(m(O),O==="")return;const j=Number(O);Number.isNaN(j)||(d(Math.max(1,j)),m(null))},onBlur:()=>{h===""&&m(null)},style:{width:120}})]}),s.jsxs($,{gap:"3",children:[s.jsx(X,{style:{flex:1},children:s.jsx(or,{label:"Start",value:p,onChange:v})}),s.jsx(X,{style:{flex:1},children:s.jsx(or,{label:"End",value:S,onChange:b})})]}),s.jsxs(X,{children:[s.jsx(L,{size:"2",color:"gray",mb:"1",children:"Role Category"}),s.jsx(qe,{placeholder:"e.g. Audio, Lights, AV",value:w,onChange:N=>R(N.target.value)})]})]}),s.jsxs($,{justify:"end",gap:"2",mt:"4",children:[s.jsx(Dn,{children:s.jsx(pe,{variant:"soft",children:"Cancel"})}),s.jsx(pe,{variant:"classic",onClick:()=>E.mutate(),disabled:_,children:E.isPending?"Saving":"Save role"})]})]})})}function wHe({open:e,onOpenChange:t,jobId:n,timePeriodId:i,companyId:r}){const a=Yt(),{success:o,error:l}=Jt(),[c,u]=g.useState(""),[d,h]=g.useState(new Set),[m,p]=g.useState(""),{data:v=[]}=et({queryKey:["jobs.crew",n,"role",i],enabled:e,queryFn:async()=>{const{data:N,error:O}=await re.from("reserved_crew").select("user_id").eq("time_period_id",i);if(O)throw O;return N||[]}}),S=g.useMemo(()=>new Set(v.map(N=>N.user_id)),[v]),{data:b=[],isFetching:w}=et({queryKey:["crew-picker",c,i,S.size],enabled:e,queryFn:async()=>{let N=re.from("profiles").select("user_id, display_name, email").limit(50);c.trim()&&(N=N.or(`display_name.ilike.%${c.trim()}%,email.ilike.%${c.trim()}%`));const{data:O,error:j}=await N;if(j)throw j;return(O||[]).filter(D=>!S.has(D.user_id))}}),R=N=>{h(O=>{const j=new Set(O);return j.has(N)?j.delete(N):j.add(N),j})},E=bt({mutationFn:async()=>{if(d.size===0)throw new Error("Please select at least one crew member");const N=Array.from(d).map(j=>({time_period_id:i,user_id:j,status:"planned",notes:null})),{error:O}=await re.from("reserved_crew").insert(N);if(O)throw O},onSuccess:()=>{a.invalidateQueries({queryKey:["jobs.crew",n]}),a.invalidateQueries({queryKey:["jobs",n,"time_periods"]}),a.invalidateQueries({queryKey:["jobs",n,"time_periods","crew"]}),o("Success",`Added ${d.size} crew member(s) to role`),h(new Set),t(!1)},onError:N=>{l("Failed to add crew",(N==null?void 0:N.hint)||(N==null?void 0:N.message)||"Please try again.")}}),_=bt({mutationFn:async()=>{const N=m.trim();if(!N)throw new Error("Please enter a name");const{error:O}=await re.from("reserved_crew").insert({time_period_id:i,user_id:null,placeholder_name:N,status:"planned",notes:null});if(O)throw O},onSuccess:()=>{a.invalidateQueries({queryKey:["jobs.crew",n]}),a.invalidateQueries({queryKey:["jobs",n,"time_periods","crew"]}),o("Success","Placeholder crew member added"),p("")},onError:N=>{l("Failed to add placeholder",(N==null?void 0:N.hint)||(N==null?void 0:N.message)||"Please try again.")}});return g.useEffect(()=>{e||(u(""),h(new Set),p(""))},[e]),s.jsx(rn,{open:e,onOpenChange:t,children:s.jsxs(an,{style:{maxWidth:600},children:[s.jsx(cn,{children:"Add Crew to Role"}),s.jsx(vr,{children:"Select crew members to add to this role"}),s.jsx(X,{my:"4",children:s.jsx(qe,{placeholder:"Search by name or email",value:c,onChange:N=>u(N.target.value)})}),s.jsxs(X,{mb:"4",children:[s.jsx(L,{as:"div",size:"2",weight:"medium",children:"Add placeholder"}),s.jsx(L,{as:"div",size:"1",color:"gray",children:"Add a named crew member without a user account"}),s.jsxs($,{gap:"2",mt:"2",children:[s.jsx(qe,{placeholder:"Placeholder name",value:m,onChange:N=>p(N.target.value)}),s.jsx(pe,{variant:"soft",onClick:()=>_.mutate(),disabled:_.isPending||!m.trim(),children:_.isPending?"Adding":"Add placeholder"})]})]}),s.jsxs(X,{style:{maxHeight:400,overflowY:"auto",border:"1px solid var(--gray-a6)",borderRadius:8,padding:8},children:[w&&s.jsx(L,{size:"2",color:"gray",children:"Searching"}),!w&&b.length===0&&s.jsx(L,{size:"2",color:"gray",children:"No crew members found"}),!w&&b.map((N,O)=>{const j=d.has(N.user_id);return s.jsxs(g.Fragment,{children:[s.jsx(X,{p:"2",style:{cursor:"pointer",borderRadius:6,background:j?"var(--blue-a3)":"transparent"},onClick:()=>R(N.user_id),children:s.jsxs($,{align:"center",justify:"between",children:[s.jsxs($,{align:"center",gap:"2",children:[j&&s.jsx(el,{width:18,height:18,style:{color:"var(--blue-11)"}}),s.jsxs("div",{children:[s.jsx(L,{weight:"medium",children:N.display_name??N.email}),N.display_name&&s.jsx(L,{size:"1",color:"gray",style:{marginLeft:6},children:N.email})]})]}),j&&s.jsx(L,{size:"1",color:"blue",children:"Selected"})]})}),O<b.length-1&&s.jsx(st,{my:"2"})]},N.user_id)})]}),s.jsxs($,{mt:"4",gap:"2",justify:"end",children:[s.jsx(Dn,{children:s.jsx(pe,{variant:"soft",children:"Cancel"})}),s.jsx(pe,{onClick:()=>E.mutate(),disabled:d.size===0||E.isPending,children:E.isPending?"Adding":`Add ${d.size} crew member${d.size!==1?"s":""}`})]})]})})}function EHe({open:e,onOpenChange:t,currentStatus:n,newStatus:i,crewName:r,onConfirm:a}){const o={planned:"Planned",confirmed:"Confirmed",canceled:"Canceled"};return s.jsx(rn,{open:e,onOpenChange:t,children:s.jsxs(an,{style:{maxWidth:400},children:[s.jsx(cn,{children:"Confirm Status Change"}),s.jsxs(vr,{children:["Are you sure you want to change ",r,"'s status from"," ",s.jsx("strong",{children:o[n]})," to"," ",s.jsx("strong",{children:o[i]}),"?"]}),s.jsxs($,{mt:"4",gap:"2",justify:"end",children:[s.jsx(Dn,{children:s.jsx(pe,{variant:"soft",children:"Cancel"})}),s.jsx(pe,{variant:"classic",color:i==="canceled"?"red":void 0,onClick:()=>{a(),t(!1)},children:"Confirm"})]})]})})}function _He({open:e,onOpenChange:t,crewName:n,jobTitle:i,roleTitle:r,onSend:a,isPending:o}){const[l,c]=g.useState(""),[u,d]=g.useState(!0);g.useEffect(()=>{e||(c(""),d(!0))},[e]);const h=()=>`${n.includes("crew members")?"Hi all":`Hi ${n}`},

You have been invited to work on "${i}" as ${r}. Please review the details and let us know if you can accept this invitation.

Looking forward to working with you!`,m=()=>{d(!0),c(h())},p=()=>{d(!1),l.trim()||c("")},v=()=>{(u||l.trim())&&a(u?h():l.trim()||null)};return s.jsx(rn,{open:e,onOpenChange:t,children:s.jsxs(an,{style:{maxWidth:600},children:[s.jsx(cn,{children:"Send Invitation"}),s.jsxs(vr,{children:["Add a personal message"," ",n.includes("crew members")?"to all crew members":`to ${n}`," ","(optional)"]}),s.jsxs(X,{my:"4",children:[s.jsxs($,{gap:"2",mb:"3",children:[s.jsxs(pe,{variant:u?"soft":"outline",onClick:m,style:{flex:1},children:[s.jsx(um,{width:16,height:16})," Use generic message"]}),s.jsx(pe,{variant:u?"outline":"soft",onClick:p,style:{flex:1},children:"Write custom message"})]}),s.jsx(Ci,{placeholder:u?"Generic message will be generated...":"Write your personal message here...",value:l,onChange:S=>c(S.target.value),onFocus:p,rows:6,disabled:u,style:{minHeight:120}})]}),s.jsxs($,{gap:"2",justify:"end",children:[s.jsx(Dn,{children:s.jsx(pe,{variant:"soft",disabled:o,children:"Cancel"})}),s.jsxs(pe,{onClick:v,disabled:o,children:[s.jsx(el,{width:16,height:16})," ",o?"Sending...":"Send invitation"]})]})]})})}const MC=["violet","cyan","orange","red","green","yellow","blue","pink","teal"],AHe=e=>{const t=e.trim().toLowerCase();let n=0;for(let i=0;i<t.length;i+=1)n=(n*31+t.charCodeAt(i))%MC.length;return MC[Math.abs(n)%MC.length]};function RHe({jobId:e,companyId:t}){const{companyRole:n}=zr(),i=n==="freelancer",[r,a]=g.useState(!1),[o,l]=g.useState(new Set),[c,u]=g.useState(null),[d,h]=g.useState(null),[m,p]=g.useState(null),[v,S]=g.useState(null),[b,w]=g.useState(null),R=Yt(),{success:E,error:_}=Jt(),{data:N}=et({queryKey:["jobs.crew",e],queryFn:async()=>{const{data:ae,error:G}=await re.from("time_periods").select("id").eq("job_id",e).eq("category","crew");if(G)throw G;const H=ae.map(se=>se.id);if(!H.length)return[];const{data:T,error:Y}=await re.from("reserved_crew").select(`
          id, time_period_id, user_id, notes, placeholder_name, status,
          user:user_id ( user_id, display_name, email )
        `).in("time_period_id",H);if(Y)throw Y;const{data:ie,error:ne}=await re.from("matters").select("time_period_id, matter_recipients(user_id)").eq("matter_type","crew_invite").in("time_period_id",H);if(ne)throw ne;const J=new Set,ee=ie??[];for(const se of ee){const de=se.time_period_id;if(!de)continue;const he=se.matter_recipients??[];for(const me of he)J.add(`${de}:${me.user_id}`)}return T.map(se=>{const de=se.user_id?`${se.time_period_id}:${se.user_id}`:null;return{...se,invited:de?J.has(de):!1}})}}),{data:O=[]}=et({queryKey:["jobs",e,"time_periods","crew"],queryFn:async()=>{const{data:ae,error:G}=await re.from("time_periods").select("id, title, start_at, end_at, needed_count, role_category").eq("job_id",e).eq("category","crew").order("start_at",{ascending:!0});if(G)throw G;if(ae.length===0)return[];const H=ae.map(Y=>Y.id),T=new Map;if(H.length){const{data:Y,error:ie}=await re.from("reserved_crew").select("time_period_id, status").in("time_period_id",H);if(ie)throw ie;for(const ne of Y){const J=ne.time_period_id,ee=T.get(J)||{};ee[ne.status]=(ee[ne.status]||0)+1,T.set(J,ee)}}return ae.map(Y=>({...Y,counts:T.get(Y.id)??{}}))}}),j=bt({mutationFn:async({id:ae,status:G})=>{const{error:H}=await re.from("reserved_crew").update({status:G}).eq("id",ae);if(H)throw H},onSuccess:()=>{R.invalidateQueries({queryKey:["jobs.crew",e]}),R.invalidateQueries({queryKey:["jobs",e,"time_periods","crew"]})}}),D=bt({mutationFn:async({roleId:ae})=>{const{data:G,error:H}=await re.from("matters").select("id").eq("job_id",e).eq("time_period_id",ae).eq("matter_type","crew_invite");if(H)throw H;const T=G;for(const ne of T){const{error:J}=await re.from("matters").delete().eq("id",ne.id);if(J)throw J}const{error:Y}=await re.from("reserved_crew").delete().eq("time_period_id",ae);if(Y)throw Y;const{error:ie}=await re.from("time_periods").delete().eq("id",ae);if(ie)throw ie},onSuccess:()=>{R.invalidateQueries({queryKey:["jobs.crew",e]}),R.invalidateQueries({queryKey:["jobs",e,"time_periods","crew"]}),R.invalidateQueries({queryKey:["matters"]}),E("Success","Role and all crew members removed"),S(null)},onError:ae=>{_("Failed to remove role",(ae==null?void 0:ae.message)||"Please try again.")}}),P=bt({mutationFn:async({crewId:ae,timePeriodId:G,userId:H})=>{if(H){const{data:Y,error:ie}=await re.from("matters").select("id").eq("job_id",e).eq("time_period_id",G).eq("matter_type","crew_invite");if(ie)throw ie;const ne=Y;for(const J of ne){const{data:ee}=await re.from("matter_recipients").select("id").eq("matter_id",J.id).eq("user_id",H).maybeSingle();if(ee){const{error:se}=await re.from("matters").delete().eq("id",J.id);if(se)throw se;break}}}const{error:T}=await re.from("reserved_crew").delete().eq("id",ae);if(T)throw T},onSuccess:()=>{R.invalidateQueries({queryKey:["jobs.crew",e]}),R.invalidateQueries({queryKey:["jobs",e,"time_periods","crew"]}),R.invalidateQueries({queryKey:["matters"]}),E("Success","Crew member removed")},onError:ae=>{_("Failed to remove crew member",(ae==null?void 0:ae.message)||"Please try again.")}}),B=(ae,G,H,T)=>{H!==T&&h({crewId:ae,crewName:G,currentStatus:H,newStatus:T})},M=()=>{d&&j.mutate({id:d.crewId,status:d.newStatus})},z=bt({mutationFn:async({timePeriodId:ae,message:G})=>{await dHe(e,ae,t,G)},onSuccess:()=>{R.invalidateQueries({queryKey:["jobs.crew",e]}),R.invalidateQueries({queryKey:["jobs",e,"time_periods","crew"]}),R.invalidateQueries({queryKey:["matters"]}),E("Success","Invitations sent and matter created"),p(null)},onError:ae=>{_("Failed to send invitations",(ae==null?void 0:ae.message)||"Please try again.")}}),{data:U}=et({queryKey:["job-title",e],queryFn:async()=>{const{data:ae,error:G}=await re.from("jobs").select("title").eq("id",e).single();if(G)throw G;return ae},enabled:!!e}),K=bt({mutationFn:async({timePeriodId:ae,userId:G,message:H})=>{await hHe(e,ae,G,t,H)},onSuccess:()=>{R.invalidateQueries({queryKey:["jobs.crew",e]}),R.invalidateQueries({queryKey:["jobs",e,"time_periods","crew"]}),R.invalidateQueries({queryKey:["matters"]}),E("Success","Invitation sent and matter created"),p(null)},onError:ae=>{_("Failed to send invitation",(ae==null?void 0:ae.message)||"Please try again.")}}),te=g.useMemo(()=>{const ae=new Map,G=[];for(const Y of O){const ie=Y.role_category||null;if(!ie)G.push(Y);else{const ne=ae.get(ie)||[];ne.push(Y),ae.set(ie,ne)}}const H=[];G.length>0&&H.push({category:null,roles:G});const T=Array.from(ae.keys()).sort();for(const Y of T)H.push({category:Y,roles:ae.get(Y)});return H},[O]),q=g.useMemo(()=>{const ae=new Map;for(const G of N||[]){const H=G.time_period_id,T=ae.get(H)||[];T.push(G),ae.set(H,T)}return ae},[N]),V=ae=>{l(G=>{const H=new Set(G);return H.has(ae)?H.delete(ae):H.add(ae),H})},Q=(ae,G,H)=>(G.confirmed??0)>=(H??1)?{label:"crew confirmed",color:"green"}:ae.length===0?{label:"no crew assigned",color:"red"}:(G.canceled??0)>0?{label:"some crew canceled",color:"yellow"}:{label:"crew planned",color:"yellow"},ce=ae=>{if(!ae)return"";const G=new Date(ae),H=String(G.getHours()).padStart(2,"0"),T=String(G.getMinutes()).padStart(2,"0");return G.toLocaleString("en-US",{month:"short",day:"numeric"})+`, ${H}:${T}`};return s.jsxs("div",{children:[s.jsxs(X,{mb:"2",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(He,{size:"3",children:"Roles"}),!i&&s.jsxs($,{align:"center",gap:"3",children:[s.jsxs(pe,{size:"2",onClick:()=>a(!0),children:[s.jsx(yi,{})," Add role"]}),s.jsx(bHe,{open:r,onOpenChange:a,jobId:e})]})]}),s.jsxs(X,{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[te.length===0&&!i&&s.jsx(X,{p:"4",style:{border:"2px dashed var(--gray-a6)",borderRadius:8,textAlign:"center",cursor:"pointer",transition:"all 100ms"},onClick:()=>a(!0),onMouseEnter:ae=>{ae.currentTarget.style.borderColor="var(--gray-a8)",ae.currentTarget.style.background="var(--gray-a2)"},onMouseLeave:ae=>{ae.currentTarget.style.borderColor="var(--gray-a6)",ae.currentTarget.style.background="transparent"},children:s.jsxs($,{direction:"column",align:"center",gap:"2",children:[s.jsx(yi,{width:24,height:24}),s.jsx(L,{size:"2",color:"gray",children:"Add role"})]})}),te.length===0&&i&&s.jsx(L,{color:"gray",children:"No roles yet"}),te.map(ae=>s.jsx(g.Fragment,{children:ae.roles.map(G=>{const H=o.has(G.id),T=G.counts??{},Y=q.get(G.id)||[],ie=Y.filter(J=>J.status==="planned"&&!!J.user_id).length,ne=Q(Y,T,G.needed_count);return s.jsxs(X,{p:"3",style:{border:"1px solid var(--gray-a6)",borderRadius:8,background:"var(--gray-a2)"},children:[s.jsxs(X,{style:{cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between"},onClick:()=>V(G.id),children:[s.jsxs($,{align:"center",gap:"2",children:[H?s.jsx(Za,{width:18,height:18}):s.jsx(Gl,{width:18,height:18}),s.jsx(L,{weight:"bold",children:G.title??""}),G.role_category&&s.jsx(mt,{size:"1",variant:"outline",color:AHe(G.role_category),style:{textTransform:"capitalize"},children:G.role_category}),s.jsx(L,{size:"2",color:"gray",children:G.start_at&&G.end_at?`${ce(G.start_at)} - ${ce(G.end_at)}`:""}),s.jsx(mt,{radius:"full",highContrast:!0,color:ne.color,children:ne.label})]}),!i&&s.jsxs($,{gap:"2",children:[s.jsxs(pe,{size:"1",variant:"soft",onClick:J=>{J.stopPropagation(),u(G.id)},children:[s.jsx(yi,{width:14,height:14})," Add crew"]}),s.jsx(pe,{size:"1",variant:"soft",onClick:J=>{J.stopPropagation(),w({id:G.id,title:G.title??null,start_at:G.start_at??null,end_at:G.end_at??null,needed_count:G.needed_count??1,role_category:G.role_category??null})},children:s.jsx(gi,{width:14,height:14})}),s.jsx(pe,{size:"1",variant:"soft",color:"red",onClick:J=>{J.stopPropagation(),S({roleId:G.id,roleTitle:G.title||"Untitled Role",crewCount:Y.length})},disabled:D.isPending,children:s.jsx(vi,{width:14,height:14})})]})]}),H&&s.jsxs(X,{mt:"3",pt:"3",style:{borderTop:"1px solid var(--gray-a6)"},children:[s.jsxs($,{mb:"3",gap:"4",wrap:"wrap",children:[s.jsxs(L,{size:"2",color:"gray",children:["Needed: ",G.needed_count??1]}),s.jsxs(L,{size:"2",color:"gray",children:[" Planned: ",T.planned??0]}),s.jsxs(L,{size:"2",color:"gray",children:[" Confirmed: ",T.confirmed??0]}),s.jsxs(L,{size:"2",color:"gray",children:[" Canceled: ",T.canceled??0]})]}),s.jsxs($,{mb:"2",justify:"between",align:"center",children:[s.jsxs(L,{size:"2",weight:"medium",children:["Crew (",Y.length,")"]}),!i&&ie>0&&s.jsxs(pe,{size:"1",variant:"soft",onClick:J=>{J.stopPropagation(),p({timePeriodId:G.id,crewName:`${ie} crew members`,roleTitle:G.title||"Role",isSendToAll:!0})},disabled:z.isPending,children:[s.jsx(FU,{width:14,height:14})," Send to all (",ie,")"]})]}),Y.length===0&&s.jsx(L,{size:"2",color:"gray",children:"No crew assigned yet"}),Y.length>0&&s.jsxs(Hn,{variant:"surface",size:"1",children:[s.jsx(Qn,{children:s.jsxs(ht,{children:[s.jsx(ze,{children:"Name"}),s.jsx(ze,{children:"Status"}),s.jsx(ze,{children:"Actions"})]})}),s.jsx(qn,{children:Y.map(J=>{var se,de;const ee=((se=J.user)==null?void 0:se.display_name)??((de=J.user)==null?void 0:de.email)??J.placeholder_name??"Unknown";return s.jsxs(ht,{children:[s.jsx(Oe,{children:s.jsxs($,{align:"center",gap:"2",wrap:"wrap",children:[s.jsx(L,{children:ee}),!J.user_id&&s.jsx(mt,{size:"1",color:"amber",children:"Placeholder"})]})}),s.jsx(Oe,{children:s.jsxs($,{align:"center",gap:"2",wrap:"wrap",children:[i?s.jsx(mt,{radius:"full",highContrast:!0,color:J.status==="confirmed"?"green":J.status==="canceled"?"red":"gray",children:J.status}):s.jsx(Xa,{size:"1",value:J.status,onValueChange:he=>B(J.id,ee,J.status,he),children:["planned","confirmed","canceled"].map(he=>s.jsx(wi,{value:he,style:{color:he==="confirmed"?"var(--green-9)":he==="canceled"?"var(--red-9)":void 0},children:he},he))}),J.invited&&s.jsx(mt,{size:"1",color:"blue",children:"Invited"})]})}),s.jsx(Oe,{children:s.jsxs($,{gap:"2",children:[!i&&J.status==="planned"&&J.user_id&&s.jsxs(pe,{size:"1",variant:"soft",onClick:he=>{he.stopPropagation(),p({userId:J.user_id??void 0,timePeriodId:G.id,crewName:ee,roleTitle:G.title||"Role"})},disabled:K.isPending,children:[s.jsx(FU,{width:14,height:14})," Send invite"]}),!i&&s.jsx(pe,{size:"1",variant:"soft",color:"red",onClick:he=>{he.stopPropagation(),P.mutate({crewId:J.id,timePeriodId:G.id,userId:J.user_id})},disabled:P.isPending,children:s.jsx(vi,{width:14,height:14})})]})})]},J.id)})})]})]})]},G.id)})},ae.category||"no-category"))]}),c&&s.jsx(wHe,{open:!!c,onOpenChange:ae=>!ae&&u(null),jobId:e,timePeriodId:c,companyId:t}),b&&s.jsx(xHe,{open:!!b,onOpenChange:ae=>!ae&&w(null),jobId:e,initial:b}),d&&s.jsx(EHe,{open:!!d,onOpenChange:ae=>!ae&&h(null),currentStatus:d.currentStatus,newStatus:d.newStatus,crewName:d.crewName,onConfirm:()=>{M(),h(null)}}),m&&U&&s.jsx(_He,{open:!!m,onOpenChange:ae=>!ae&&p(null),crewName:m.crewName,jobTitle:U.title,roleTitle:m.roleTitle,onSend:ae=>{m.isSendToAll?z.mutate({timePeriodId:m.timePeriodId,message:ae}):m.userId&&K.mutate({timePeriodId:m.timePeriodId,userId:m.userId,message:ae})},isPending:K.isPending||z.isPending}),v&&s.jsx(rn,{open:!!v,onOpenChange:ae=>!ae&&S(null),children:s.jsxs(an,{style:{maxWidth:450},children:[s.jsx(cn,{children:"Delete Role"}),s.jsxs(vr,{children:['Are you sure you want to delete the role "',v.roleTitle,'"? This will permanently remove:']}),s.jsx(X,{mt:"3",p:"3",style:{background:"var(--red-a2)",borderRadius:8},children:s.jsxs($,{direction:"column",gap:"1",children:[s.jsx(L,{size:"2",children:" The role itself"}),s.jsxs(L,{size:"2",children:[" All ",v.crewCount," crew member",v.crewCount!==1?"s":""," assigned to it"]}),s.jsx(L,{size:"2",children:" All invitation matters for this role"})]})}),s.jsx(L,{size:"2",color:"red",weight:"bold",mt:"3",children:" This action cannot be undone!"}),s.jsxs($,{mt:"4",gap:"2",justify:"end",children:[s.jsx(Dn,{children:s.jsx(pe,{variant:"soft",disabled:D.isPending,children:"Cancel"})}),s.jsx(pe,{color:"red",onClick:()=>{D.mutate({roleId:v.roleId})},disabled:D.isPending,children:D.isPending?"Deleting...":"Yes, delete"})]})]})})]})}function NHe({open:e,onOpenChange:t,jobId:n,companyId:i}){const r=Yt(),{success:a,error:o}=Jt(),[l,c]=g.useState(""),[u,d]=g.useState("internal"),[h,m]=g.useState("grid"),[p,v]=g.useState(""),[S,b]=g.useState(!1),[w,R]=g.useState(""),[E,_]=g.useState(""),[N,O]=g.useState(""),[j,D]=g.useState(!0),[P,B]=g.useState("planned"),[M,z]=g.useState(""),{data:U}=et({...X1({jobId:n}),enabled:e}),{data:K=[]}=et({...H8({companyId:i,includeExternal:!0,search:p}),enabled:e}),te=g.useMemo(()=>K.filter(G=>!G.deleted).filter(G=>G.internally_owned===(u==="internal")),[K,u]),q=te.find(G=>G.id===l),{data:V=[]}=et({queryKey:["jobs",n,"transport-periods-by-owner",(q==null?void 0:q.external_owner_id)||"internal"],enabled:e&&!!q&&!!n,queryFn:async()=>{if(!q||!n)return[];const{data:G,error:H}=await re.from("time_periods").select("id, title, start_at, end_at").eq("job_id",n).eq("category","transport").eq("deleted",!1).order("start_at",{ascending:!0});if(H)throw H;if(G.length===0)return[];const T=G.map(ee=>ee.id),{data:Y,error:ie}=await re.from("reserved_vehicles").select("time_period_id, vehicle:vehicle_id(id, external_owner_id)").in("time_period_id",T);if(ie)throw ie;const ne=q.external_owner_id||null;return G.filter(ee=>{const se=Y.filter(he=>he.time_period_id===ee.id);if(se.length===0)return!1;const de=new Set;return se.forEach(he=>{const me=Array.isArray(he.vehicle)?he.vehicle[0]:he.vehicle;de.add((me==null?void 0:me.external_owner_id)||null)}),de.size===1&&de.has(ne)})}});g.useEffect(()=>{if(!q){R(""),b(!0);return}if(V.length===0){R(""),b(!0);return}V.length>0&&!S&&(!w||!V.find(G=>G.id===w))&&(R(V[0].id),_(V[0].start_at),O(V[0].end_at))},[q,V]),g.useEffect(()=>{S&&U&&(U.start_at&&(_(U.start_at),D(!0)),U.end_at&&(O(U.end_at),D(!1)))},[S,U]),g.useEffect(()=>{!E||!j||!S||O(Cm(E))},[E,j,S]),g.useEffect(()=>{if(!S&&w&&V.length>0){const G=V.find(H=>H.id===w);G&&(_(G.start_at),O(G.end_at),D(!1))}},[w,S,V]);const Q=g.useMemo(()=>q?!q.internally_owned&&q.external_owner_name?`${q.external_owner_name} Transport period`:`${q.name} Transport period`:"",[q]);g.useEffect(()=>{e||(c(""),d("internal"),m("grid"),v(""),b(!1),R(""),_(""),O(""),B("planned"),z(""))},[e]);const ce=bt({mutationFn:async()=>{if(!l)throw new Error("Choose a vehicle");if(!U)throw new Error("Job not loaded");const G=te.find(ie=>ie.id===l);if(!G)throw new Error("Vehicle not found");let H;if(S){if(!Q)throw new Error("Time period title required");if(!E||!N)throw new Error("Time period dates required");const{data:ie,error:ne}=await re.from("time_periods").insert({job_id:n,company_id:i,title:Q,start_at:E,end_at:N,category:"transport"}).select("id").single();if(ne)throw ne;H=ie.id}else{if(!w)throw new Error("Please select a time period or create a new one");H=w}const T={time_period_id:H,vehicle_id:l};G.external_owner_id&&(T.external_status=P,M.trim()&&(T.external_note=M.trim()));const{error:Y}=await re.from("reserved_vehicles").insert(T);if(Y)throw Y},onSuccess:async()=>{await r.invalidateQueries({queryKey:["jobs.transport",n]}),await r.invalidateQueries({queryKey:["jobs",n,"time_periods"]}),a("Success","Vehicle booked successfully"),t(!1)},onError:G=>{o("Failed to book vehicle",(G==null?void 0:G.message)||"Please try again.")}}),ae=q&&!q.internally_owned;return s.jsx(rn,{open:e,onOpenChange:t,children:s.jsxs(an,{maxWidth:"900px",style:{maxHeight:"90vh"},children:[s.jsx(cn,{children:"Book vehicle"}),s.jsxs($,{direction:"column",gap:"4",mt:"4",style:{overflowY:"auto"},children:[s.jsxs(X,{children:[s.jsxs($,{align:"center",justify:"between",mb:"3",wrap:"wrap",gap:"3",children:[s.jsx(L,{size:"3",weight:"medium",children:"Select Vehicle"}),s.jsxs($,{align:"center",gap:"3",wrap:"wrap",children:[s.jsxs(Xa,{value:u,onValueChange:G=>{d(G),c("")},children:[s.jsx(wi,{value:"internal",children:"Internal"}),s.jsx(wi,{value:"external",children:"External"})]}),s.jsxs(Xa,{value:h,onValueChange:G=>m(G),children:[s.jsx(wi,{value:"grid",children:"Grid"}),s.jsx(wi,{value:"list",children:"List"})]})]})]}),s.jsx(qe,{value:p,onChange:G=>v(G.target.value),placeholder:"Search vehicles",size:"2",mb:"3"}),s.jsx(X,{style:{maxHeight:"300px",overflowY:"auto"},children:h==="grid"?s.jsx(OHe,{vehicles:te,selectedId:l,onSelect:c}):s.jsx(DHe,{vehicles:te,selectedId:l,onSelect:c})})]}),s.jsx(st,{}),l&&s.jsxs(X,{children:[s.jsx(L,{size:"3",weight:"medium",mb:"3",children:"Time Period"}),V.length>0&&!S?s.jsxs(s.Fragment,{children:[s.jsx(L,{size:"2",color:"gray",mb:"2",children:"Existing time period for this owner found. Use it or create a new one."}),s.jsxs(Vn,{value:w,onValueChange:R,children:[s.jsx(Kn,{placeholder:"Select time period"}),s.jsx(Gn,{style:{zIndex:1e4},children:V.map(G=>s.jsxs(wt,{value:G.id,children:[G.title||"Untitled"," (",new Date(G.start_at).toLocaleString()," -"," ",new Date(G.end_at).toLocaleString(),")"]},G.id))})]}),s.jsx(pe,{variant:"ghost",size:"2",mt:"2",onClick:()=>{b(!0),R("")},children:"Create new time period"})]}):s.jsxs(s.Fragment,{children:[s.jsx(X,{p:"2",style:{border:"1px solid var(--gray-a5)",borderRadius:8,background:"var(--gray-a2)",marginBottom:"16px"},children:s.jsx(L,{size:"2",weight:"medium",children:Q||""})}),s.jsxs($,{gap:"3",children:[s.jsx(X,{style:{flex:1},children:s.jsx(or,{label:"Start",value:E,onChange:G=>{_(G),D(!0)}})}),s.jsx(X,{style:{flex:1},children:s.jsx(or,{label:"End",value:N,onChange:G=>{O(G),D(!1)}})})]})]})]}),l&&ae&&s.jsxs(s.Fragment,{children:[s.jsx(st,{}),s.jsxs(X,{children:[s.jsx(L,{size:"3",weight:"medium",mb:"3",children:"External Details"}),s.jsxs(X,{mb:"3",children:[s.jsx(L,{size:"2",weight:"medium",mb:"2",as:"div",children:"Status"}),s.jsxs(Xa,{size:"2",value:P,onValueChange:G=>B(G),children:[s.jsx(wi,{value:"planned",children:"Planned"}),s.jsx(wi,{value:"requested",children:"Requested"}),s.jsx(wi,{value:"confirmed",children:"Confirmed"})]})]}),s.jsxs(X,{children:[s.jsx(L,{size:"2",weight:"medium",mb:"2",as:"div",children:"Note"}),s.jsx(qe,{value:M,onChange:G=>z(G.target.value),placeholder:"Optional note"})]})]})]}),s.jsxs($,{justify:"end",gap:"2",mt:"4",children:[s.jsx(Dn,{children:s.jsx(pe,{variant:"soft",children:"Cancel"})}),s.jsx(pe,{variant:"classic",onClick:()=>ce.mutate(),disabled:ce.isPending||!l||!S&&!w||S&&(!E||!N),children:ce.isPending?"Saving":"Book vehicle"})]})]})]})})}function OHe({vehicles:e,selectedId:t,onSelect:n}){return e.length?s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gap:12},children:e.map(i=>s.jsx(jHe,{v:i,active:i.id===t,onClick:()=>n(i.id)},i.id))}):s.jsx(L,{color:"gray",style:{display:"block",marginTop:16},children:"No vehicles"})}function jHe({v:e,active:t,onClick:n}){const i=g.useMemo(()=>{if(!e.image_path)return null;const{data:a}=re.storage.from("vehicle_images").getPublicUrl(e.image_path);return a.publicUrl},[e.image_path]),r=e.fuel==="electric"?"green":e.fuel==="diesel"?"orange":"blue";return s.jsxs(Rt,{size:"2",variant:"surface",onClick:n,style:{cursor:"pointer",background:"var(--gray-a2)",border:t?"2px solid var(--accent-9)":"1px solid var(--gray-5)"},children:[s.jsx("div",{style:{height:120,borderRadius:8,overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:8,background:"var(--gray-a3)"},children:i?s.jsx("img",{src:i,alt:e.name,style:{width:"100%",height:"100%",objectFit:"cover"}}):s.jsx(V2,{style:{width:"60px",height:"60px"}})}),s.jsxs($,{direction:"column",gap:"1",children:[s.jsx(L,{size:"2",weight:"medium",children:e.name}),s.jsx(L,{size:"1",color:"gray",children:e.registration_no??""}),s.jsxs($,{align:"center",gap:"2",wrap:"wrap",mt:"1",children:[e.fuel&&s.jsx(mt,{variant:"soft",color:r,size:"1",children:e.fuel}),e.internally_owned?s.jsx(mt,{variant:"soft",color:"indigo",size:"1",children:"Internal"}):s.jsx(mt,{variant:"soft",color:"violet",size:"1",children:e.external_owner_name??"External"})]})]})]})}function DHe({vehicles:e,selectedId:t,onSelect:n}){return s.jsxs(Hn,{variant:"surface",children:[s.jsx(Qn,{children:s.jsxs(ht,{children:[s.jsx(ze,{children:"Name"}),s.jsx(ze,{children:"Reg"}),s.jsx(ze,{children:"Fuel"}),s.jsx(ze,{children:"Owner"})]})}),s.jsx(qn,{children:e.length===0?s.jsx(ht,{children:s.jsx(Oe,{colSpan:4,children:"No vehicles"})}):e.map(i=>{const r=i.id===t;return s.jsxs(ht,{onClick:()=>n(i.id),style:{cursor:"pointer",background:r?"var(--accent-a3)":void 0},"data-state":r?"active":void 0,children:[s.jsx(Oe,{children:s.jsx(L,{size:"2",weight:"medium",children:i.name})}),s.jsx(Oe,{children:i.registration_no??""}),s.jsx(Oe,{children:i.fuel?s.jsx(mt,{variant:"soft",color:i.fuel==="electric"?"green":i.fuel==="diesel"?"orange":"blue",children:i.fuel}):""}),s.jsx(Oe,{children:i.internally_owned?s.jsx(mt,{variant:"soft",color:"indigo",children:"Internal"}):s.jsx(mt,{variant:"soft",color:"violet",children:i.external_owner_name??"External"})})]},i.id)})})]})}function CHe({jobId:e}){const[t,n]=g.useState(!1),[i,r]=g.useState(null),{companyId:a}=En(),{companyRole:o}=zr(),l=!!a&&o!=="freelancer",c=o==="freelancer",u=Yt(),{success:d,error:h}=Jt(),[m,p]=g.useState(new Map),[v,S]=g.useState(new Set),{data:b}=et({queryKey:["jobs.transport",e],queryFn:async()=>{const{data:N,error:O}=await re.from("time_periods").select("id, title, notes, start_at, end_at, deleted").eq("job_id",e).eq("category","transport").eq("deleted",!1);if(O)throw O;const j=(N||[]).map(K=>K.id);if(!j.length)return{bookings:[],notices:[]};const{data:D,error:P}=await re.from("reserved_vehicles").select(`
          id, time_period_id, vehicle_id, status, external_status, external_note,
          vehicle:vehicle_id (
            id, name, image_path, external_owner_id, deleted,
            external_owner:external_owner_id ( id, name )
          ),
          time_period:time_period_id ( id, title, notes, start_at, end_at )
        `).in("time_period_id",j);if(P)throw P;const M=(D||[]).filter(K=>{const te=K.vehicle,q=Array.isArray(te)?te[0]:te;return!(q!=null&&q.deleted)}),z=new Set(M.map(K=>K.time_period_id)),U=(N||[]).filter(K=>K.notes&&!z.has(K.id)).map(K=>({id:K.id,title:K.title??null,notes:K.notes,start_at:K.start_at,end_at:K.end_at}));return{bookings:M,notices:U}}}),w=(b==null?void 0:b.bookings)??[],R=(b==null?void 0:b.notices)??[],E=async(N,O)=>{try{const{error:j}=await re.from("reserved_vehicles").update(O).eq("id",N);if(j)throw j;if(await u.invalidateQueries({queryKey:["jobs.transport",e]}),d("Updated","Vehicle booking updated"),O.external_note!==void 0){const D=new Map(m);D.delete(N),p(D)}}catch(j){h("Failed to update",(j==null?void 0:j.message)||"Please try again.")}},_=async N=>{try{const{data:O,error:j}=await re.from("reserved_vehicles").select("time_period_id").eq("id",N).single();if(j)throw j;const{data:D,error:P}=await re.from("reserved_vehicles").select("id").eq("time_period_id",O.time_period_id).neq("id",N);if(P)throw P;const{error:B}=await re.from("reserved_vehicles").delete().eq("id",N);if(B)throw B;if(!D||D.length===0){const{error:M}=await re.from("time_periods").delete().eq("id",O.time_period_id);if(M)throw M}await u.invalidateQueries({queryKey:["jobs.transport",e]}),await u.invalidateQueries({queryKey:["jobs",e,"time_periods"]}),d("Deleted","Vehicle booking deleted"),r(null)}catch(O){h("Failed to delete",(O==null?void 0:O.message)||"Please try again.")}};return s.jsxs(X,{children:[s.jsxs(X,{mb:"2",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(He,{size:"3",children:"Transportation"}),!c&&s.jsxs(s.Fragment,{children:[s.jsxs(pe,{size:"2",disabled:!l,onClick:()=>n(!0),children:[s.jsx(PV,{})," Book vehicle"]}),l&&s.jsx(NHe,{open:t,onOpenChange:n,jobId:e,companyId:a})]})]}),R.length>0&&s.jsx($,{direction:"column",gap:"2",mb:"3",children:R.map(N=>s.jsx(Rt,{variant:"surface",style:{border:"1px solid var(--amber-a5)"},children:s.jsxs($,{direction:"column",gap:"2",children:[s.jsxs($,{align:"center",gap:"2",children:[s.jsx(L,{weight:"medium",color:"amber",children:"Vehicle proposal missing"}),N.title&&s.jsx(mt,{variant:"soft",color:"amber",children:N.title})]}),s.jsx(L,{size:"2",children:N.notes})]})},N.id))}),w.length>0?s.jsx($,{direction:"column",gap:"3",children:w.map(N=>{const O=N.vehicle,j=Array.isArray(O)?O[0]:O,D=Array.isArray(j==null?void 0:j.external_owner)?j==null?void 0:j.external_owner[0]:j==null?void 0:j.external_owner,P=D==null?void 0:D.name,B=!(j!=null&&j.external_owner_id),M=N.external_note??"",z=m.get(N.id)??M,U=z!==M;return s.jsx(LHe,{row:N,vehicle:j,ownerName:P,isInternal:B,editedNote:z,noteChanged:U,isReadOnly:c,jobId:e,isExpanded:v.has(N.id),onToggleExpand:()=>{S(K=>{const te=new Set(K);return te.has(N.id)?te.delete(N.id):te.add(N.id),te})},onNoteChange:K=>{const te=new Map(m);te.set(N.id,K),p(te)},onSaveNote:()=>{E(N.id,{external_note:z})},onStatusChange:K=>{E(N.id,{status:K})},onDelete:()=>r(N.id)},N.id)})}):s.jsx(X,{p:"4",style:{border:"2px dashed var(--gray-a6)",borderRadius:8,textAlign:"center",cursor:l?"pointer":"default",transition:"all 100ms"},onClick:()=>l&&n(!0),onMouseEnter:N=>{l&&(N.currentTarget.style.borderColor="var(--gray-a8)",N.currentTarget.style.background="var(--gray-a2)")},onMouseLeave:N=>{l&&(N.currentTarget.style.borderColor="var(--gray-a6)",N.currentTarget.style.background="transparent")},children:s.jsxs($,{direction:"column",align:"center",gap:"2",children:[s.jsx(PV,{width:24,height:24}),s.jsx(L,{size:"2",color:"gray",children:l?"Book vehicle":"No vehicles"})]})}),i&&s.jsx(rn,{open:!!i,onOpenChange:N=>!N&&r(null),children:s.jsxs(an,{maxWidth:"450px",children:[s.jsx(cn,{children:"Delete Vehicle Booking?"}),s.jsx(vr,{size:"2",mb:"4",children:"Are you sure you want to delete this vehicle booking? The associated time period will also be deleted if no other vehicles use it."}),s.jsxs($,{gap:"3",justify:"end",children:[s.jsx(pe,{variant:"soft",onClick:()=>r(null),children:"Cancel"}),s.jsx(pe,{color:"red",onClick:()=>_(i),children:"Delete"})]})]})})]})}function LHe({row:e,vehicle:t,ownerName:n,isInternal:i,editedNote:r,noteChanged:a,isReadOnly:o,jobId:l,isExpanded:c,onToggleExpand:u,onNoteChange:d,onSaveNote:h,onStatusChange:m,onDelete:p}){const v=(t==null?void 0:t.name)??"",S=e.status??"planned",b=g.useMemo(()=>{if(!(t!=null&&t.image_path))return null;const{data:w}=re.storage.from("vehicle_images").getPublicUrl(t.image_path);return w.publicUrl},[t==null?void 0:t.image_path]);return s.jsxs(Rt,{size:"2",variant:"surface",style:{background:"var(--gray-a1)",border:"1px solid var(--gray-a5)"},children:[s.jsxs($,{direction:"row",gap:"3",align:"start",onClick:u,style:{cursor:"pointer"},children:[s.jsx(X,{style:{width:"120px",height:"120px",borderRadius:8,overflow:"hidden",background:"var(--gray-a2)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:b?s.jsx("img",{src:b,alt:v,style:{width:"100%",height:"100%",objectFit:"contain"}}):s.jsx(V2,{style:{width:"40px",height:"40px",color:"var(--gray-a9)"}})}),s.jsxs($,{direction:"column",gap:"2",style:{flex:1},children:[s.jsxs($,{align:"center",justify:"between",children:[s.jsxs($,{align:"center",gap:"2",style:{flex:1},children:[c?s.jsx(Za,{width:16,height:16}):s.jsx(Gl,{width:16,height:16}),s.jsx(L,{size:"3",weight:"medium",children:v})]}),!o&&s.jsx($,{gap:"1",onClick:w=>w.stopPropagation(),children:s.jsx(Mn,{size:"1",variant:"ghost",color:"red",onClick:p,children:s.jsx(vi,{})})})]}),s.jsxs($,{gap:"2",wrap:"wrap",children:[n&&s.jsx(mt,{variant:"soft",color:"violet",children:n}),i&&s.jsx(mt,{variant:"soft",color:"indigo",children:"Internal"}),s.jsx(X,{onClick:w=>w.stopPropagation(),children:o?s.jsx(mt,{radius:"full",highContrast:!0,color:S==="confirmed"?"green":S==="canceled"?"red":"gray",children:S}):s.jsx(THe,{value:S,onChange:m})})]})]})]}),c&&s.jsx(X,{pt:"3",mt:"3",style:{borderTop:"1px solid var(--gray-a5)"},children:s.jsxs($,{direction:"column",gap:"3",children:[s.jsxs(X,{children:[s.jsx(L,{size:"1",weight:"medium",mb:"1",children:"Time Period"}),e.time_period_id?s.jsx(nde,{jobId:l,timePeriodId:e.time_period_id,readOnly:o}):s.jsx(X,{p:"2",style:{border:"1px dashed var(--amber-a6)",borderRadius:8,background:"var(--amber-a2)"},children:s.jsx(L,{size:"2",color:"amber",children:"No time period set"})})]}),!i&&s.jsxs(X,{children:[s.jsx(L,{size:"1",weight:"medium",mb:"1",children:"Note"}),o?s.jsx(L,{size:"2",children:r||""}):s.jsx(qe,{placeholder:"Add note",value:r,onChange:w=>d(w.target.value),children:a&&s.jsx(Sr,{side:"right",children:s.jsx(pe,{size:"2",variant:"ghost",onClick:h,children:"Save"})})})]})]})})]})}function THe({value:e,onChange:t}){const n=["planned","confirmed","canceled"];return s.jsx(Xa,{value:e,onValueChange:i=>t(i),size:"1",children:n.map(i=>s.jsx(wi,{value:i,style:{color:i==="confirmed"?"var(--green-9)":i==="canceled"?"var(--red-9)":void 0},children:i},i))})}function MHe({jobId:e,initialSubTab:t}){const{companyId:n}=En(),[i,r]=g.useState(t||"equipment");return s.jsxs(Ud,{value:i,onValueChange:r,children:[s.jsxs(Vd,{mb:"3",children:[s.jsx(ii,{value:"equipment",children:"Equipment"}),s.jsx(ii,{value:"crew",children:"Crew"}),s.jsx(ii,{value:"transport",children:"Transport"})]}),s.jsx(ri,{value:"equipment",children:s.jsx(iHe,{jobId:e})}),s.jsx(ri,{value:"crew",children:n&&s.jsx(RHe,{jobId:e,companyId:n})}),s.jsx(ri,{value:"transport",children:s.jsx(CHe,{jobId:e})})]})}function IHe({jobId:e}){const{data:t}=et(X1({jobId:e}));return t?s.jsxs(X,{children:[s.jsx(He,{size:"3",mb:"3",children:"Time Periods"}),s.jsx(PHe,{jobId:e,jobStartAt:t.start_at,jobEndAt:t.end_at})]}):s.jsx(L,{children:"Loading..."})}function PHe({jobId:e,jobStartAt:t,jobEndAt:n}){const i=Yt(),{companyId:r}=En(),{data:a=[]}=et(Z1({jobId:e})),{success:o,error:l}=Jt(),[c,u]=g.useState(null),[d,h]=g.useState(null),[m,p]=g.useState(new Set),v=D=>{var P;return(P=D.title)==null?void 0:P.toLowerCase().includes("job duration")},{jobDuration:S,otherPeriods:b}=g.useMemo(()=>{const D=a.find(B=>v(B)),P=a.filter(B=>!v(B));return{jobDuration:D||null,otherPeriods:P}},[a]),w=bt({mutationFn:async()=>{if(!r)throw new Error("No companyId");const D=t||new Date().toISOString(),P=n||new Date(Date.now()+864e5).toISOString();await pm({job_id:e,company_id:r,title:"Job duration",start_at:D,end_at:P,category:"program"})},onSuccess:async()=>{await i.invalidateQueries({queryKey:["jobs",e,"time_periods"]}),o("Created","Job duration time period created automatically")},onError:D=>{l("Failed to create Job duration",(D==null?void 0:D.message)||"Please try again.")}});g.useEffect(()=>{!S&&a.length>0&&!w.isPending&&w.mutate()},[S,a.length,w.isPending]);const R=g.useMemo(()=>{const D=new Map,P="program";for(const B of b){const M=B.category||P,z=D.get(M)||[];z.push(B),D.set(M,z)}return D},[b]),E=D=>{p(P=>{const B=new Set(P);return B.has(D)?B.delete(D):B.add(D),B})},_={program:"Program",equipment:"Equipment",crew:"Crew",transport:"Transport"},N=["program","equipment","crew","transport"],O=bt({mutationFn:async D=>{if(!r)throw new Error("No companyId");return await pm({id:D.id,job_id:e,company_id:r,title:D.title,start_at:D.start_at,end_at:D.end_at})},onSuccess:async()=>{await i.invalidateQueries({queryKey:["jobs",e,"time_periods"]}),u(null),o("Success","Time period saved successfully")},onError:D=>{l("Failed to save",(D==null?void 0:D.hint)||(D==null?void 0:D.message)||"Please try again.")}}),j=bt({mutationFn:async D=>{const P=a.find(K=>{var te;return(te=K.title)==null?void 0:te.toLowerCase().includes("job duration")});if(!P)throw new Error("Job duration time period not found. Cannot delete.");const{error:B}=await re.from("reserved_items").update({time_period_id:P.id}).eq("time_period_id",D);if(B)throw B;const{error:M}=await re.from("reserved_crew").update({time_period_id:P.id}).eq("time_period_id",D);if(M)throw M;const{error:z}=await re.from("reserved_vehicles").update({time_period_id:P.id}).eq("time_period_id",D);if(z)throw z;const{error:U}=await re.from("time_periods").delete().eq("id",D);if(U)throw U},onSuccess:async()=>{await i.invalidateQueries({queryKey:["jobs",e,"time_periods"]}),await i.invalidateQueries({queryKey:["jobs.equipment",e]}),await i.invalidateQueries({queryKey:["jobs.crew",e]}),await i.invalidateQueries({queryKey:["jobs.transport",e]}),h(null),o("Deleted","Time period deleted and items reassigned to Job duration")},onError:D=>{l("Failed to delete",(D==null?void 0:D.hint)||(D==null?void 0:D.message)||"Please try again.")}});return s.jsxs(X,{children:[s.jsxs(Hn,{variant:"surface",mb:"3",children:[s.jsx(Qn,{children:s.jsxs(ht,{children:[s.jsx(ze,{children:"Title"}),s.jsx(ze,{children:"Start"}),s.jsx(ze,{children:"End"}),s.jsx(ze,{style:{width:"120px"},children:"Actions"})]})}),s.jsxs(qn,{children:[a.length===0&&s.jsx(ht,{children:s.jsx(Oe,{colSpan:4,children:s.jsx(L,{size:"2",color:"gray",children:"No time periods yet"})})}),S&&s.jsxs(ht,{children:[s.jsx(Oe,{children:s.jsx($,{align:"center",gap:"2",children:s.jsx(L,{weight:"bold",children:S.title||"(untitled)"})})}),s.jsx(Oe,{children:s.jsx(L,{size:"2",children:XE(S.start_at)})}),s.jsx(Oe,{children:s.jsx(L,{size:"2",children:XE(S.end_at)})}),s.jsx(Oe,{children:s.jsx(mt,{size:"1",color:"orange",children:"Required"})})]}),N.map(D=>{const P=R.get(D)||[];if(P.length===0)return null;const B=m.has(D),M=_[D];return s.jsxs(g.Fragment,{children:[s.jsx(ht,{style:{cursor:"pointer",background:"var(--gray-a2)",fontWeight:"600"},onClick:()=>E(D),children:s.jsx(Oe,{colSpan:4,children:s.jsxs($,{align:"center",gap:"2",children:[B?s.jsx(Za,{width:18,height:18}):s.jsx(Gl,{width:18,height:18}),s.jsx(L,{weight:"bold",children:M}),s.jsx(mt,{size:"1",variant:"soft",color:"gray",children:P.length})]})})}),B&&P.map(z=>s.jsxs(ht,{children:[s.jsx(Oe,{children:s.jsx($,{align:"center",gap:"2",style:{paddingLeft:24},children:s.jsx(L,{weight:"regular",children:z.title||"(untitled)"})})}),s.jsx(Oe,{children:s.jsx(L,{size:"2",children:XE(z.start_at)})}),s.jsx(Oe,{children:s.jsx(L,{size:"2",children:XE(z.end_at)})}),s.jsx(Oe,{children:s.jsxs($,{gap:"2",children:[s.jsx(Mn,{size:"1",variant:"ghost",onClick:U=>{U.stopPropagation(),u(z)},children:s.jsx(gi,{})}),s.jsx(Mn,{size:"1",variant:"ghost",color:"red",onClick:U=>{U.stopPropagation(),h(z)},children:s.jsx(vi,{})})]})})]},z.id))]},D)})]})]}),c&&s.jsx(kHe,{open:!!c,onOpenChange:D=>!D&&u(null),timePeriod:c,onSave:D=>O.mutate(D),isSaving:O.isPending}),d&&s.jsx(rn,{open:!0,onOpenChange:D=>{!D&&!j.isPending&&h(null)},children:s.jsxs(an,{maxWidth:"450px",children:[s.jsx(cn,{children:"Delete Time Period?"}),s.jsxs(vr,{size:"2",mb:"4",children:['Are you sure you want to delete "',d.title,'"? All items, crew, and vehicles in this period will be reassigned to "Job duration".']}),s.jsxs($,{gap:"3",justify:"end",children:[s.jsx(pe,{variant:"soft",onClick:()=>h(null),disabled:j.isPending,children:"Cancel"}),s.jsx(pe,{color:"red",onClick:()=>j.mutate(d.id),disabled:j.isPending,children:j.isPending?"Deleting...":"Delete"})]})]})})]})}function kHe({open:e,onOpenChange:t,timePeriod:n,onSave:i,isSaving:r}){const[a,o]=g.useState(n.title||""),[l,c]=g.useState(n.start_at),[u,d]=g.useState(n.end_at),[h,m]=g.useState(!n.id),p=b=>{const w=new Date(b).getTime();return Number.isNaN(w)?null:w},v=(()=>{const b=p(l),w=p(u);return b===null||w===null?!1:w<b})();g.useEffect(()=>{!l||!h||n.id||d(Cm(l))},[l,h,n.id]);const S=()=>{i({id:n.id||void 0,title:a.trim(),start_at:l,end_at:u})};return s.jsx(rn,{open:e,onOpenChange:t,children:s.jsxs(an,{maxWidth:"500px",children:[s.jsx(cn,{children:n.id?"Edit Time Period":"New Time Period"}),s.jsx(st,{my:"3"}),s.jsxs($,{direction:"column",gap:"3",children:[s.jsxs(X,{children:[s.jsxs("label",{children:[s.jsx(L,{as:"div",size:"2",mb:"1",weight:"medium",children:"Title"}),s.jsx(qe,{value:a,onChange:b=>o(b.target.value),placeholder:"e.g. Setup, Show, Teardown"})]}),!n.id&&s.jsxs($,{gap:"2",wrap:"wrap",mt:"2",children:[s.jsx(L,{size:"1",color:"gray",style:{width:"100%"},children:"Quick suggestions:"}),["Equipment period","Crew period","Vehicle period","Setup","Show","Teardown","Load in","Load out"].map(b=>s.jsx(pe,{size:"1",variant:"soft",color:"gray",onClick:()=>o(b),children:b},b))]})]}),s.jsx(or,{label:"Start",value:l,onChange:b=>{c(b),m(!n.id)}}),s.jsx(or,{label:"End",value:u,invalid:v,onChange:b=>{d(b),m(!1)}})]}),s.jsxs($,{gap:"3",mt:"4",justify:"end",children:[s.jsx(pe,{variant:"soft",onClick:()=>t(!1),children:"Cancel"}),s.jsx(pe,{onClick:S,disabled:r||!a.trim()||v,children:r?"Saving...":"Save"})]})]})})}function XE(e){const t=new Date(e),n=String(t.getHours()).padStart(2,"0"),i=String(t.getMinutes()).padStart(2,"0");return t.toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric"})+`, ${n}:${i}`}const DR=({text:e,copiedLabel:t="Copied!",copyLabel:n="Copy",timeoutMs:i=1200,className:r,onCopy:a})=>{const[o,l]=g.useState(!1),c=g.useRef(null),{success:u}=Jt();g.useEffect(()=>()=>{c.current&&window.clearTimeout(c.current)},[]);const d=async()=>{try{if(navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(e);else{const h=document.createElement("textarea");h.value=e,h.style.position="fixed",h.style.left="-9999px",document.body.appendChild(h),h.select(),document.execCommand("copy"),document.body.removeChild(h)}l(!0),u("Copied to clipboard"),a==null||a(e),c.current=window.setTimeout(()=>{l(!1)},i)}catch(h){console.error("Copy failed",h)}};return s.jsx(Mn,{onClick:d,variant:"ghost",children:o?s.jsx(Ic,{fontSize:"0.8rem"}):s.jsx(toe,{fontSize:"0.8rem"})})};function $He({open:e,onOpenChange:t,jobId:n,companyId:i}){const r=Yt(),{success:a,error:o}=Jt(),[l,c]=g.useState("existing"),[u,d]=g.useState(""),[h,m]=g.useState(""),[p,v]=g.useState(""),[S,b]=g.useState(""),w=["Venue contact","Site manager","Technical support","Supplier"],[R,E]=g.useState(""),[_,N]=g.useState(""),[O,j]=g.useState(""),[D,P]=g.useState(""),[B,M]=g.useState(""),{data:z=[]}=et({queryKey:["company",i,"contacts",h],enabled:e,queryFn:async()=>{let q=re.from("contacts").select("id, name, email, phone, title").eq("company_id",i).order("name",{ascending:!0});if(h.trim()){const ce=h.trim(),G=[`%${ce}%`,ce.length>2?`%${ce.split("").join("%")}%`:null].filter(Boolean).flatMap(H=>[`name.ilike.${H}`,`email.ilike.${H}`,`phone.ilike.${H}`]).join(",");q=q.or(G)}const{data:V,error:Q}=await q.limit(20);if(Q)throw Q;return V}}),U=g.useMemo(()=>h.trim()?Q2(z,h,[q=>q.name,q=>q.email??"",q=>q.phone??""],.25):z,[z,h]),K=bt({mutationFn:async()=>{let q;if(l==="existing"){if(!u)throw new Error("Pick a contact");q=u}else{const{data:Q,error:ce}=await re.from("contacts").insert({company_id:i,name:R.trim(),email:_||null,phone:O||null,title:D||null,company_text:B||null}).select("id").single();if(ce)throw ce;q=Q.id}const{error:V}=await re.from("job_contacts").insert({job_id:n,contact_id:q,role:p.trim()||null,notes:S||null});if(V)throw V},onSuccess:async()=>{await r.invalidateQueries({queryKey:["jobs.contacts",n]}),t(!1),d(""),m(""),v(""),b(""),E(""),N(""),j(""),P(""),M(""),c("existing"),a("Success","Contact added to job")},onError:q=>{o("Failed to add contact",(q==null?void 0:q.message)??"Please try again.")}}),te=K.isPending||(l==="existing"?!u:!R.trim());return g.useEffect(()=>{e||(c("existing"),d(""),m(""),v(""),b(""),E(""),N(""),j(""),P(""),M(""))},[e]),s.jsx(rn,{open:e,onOpenChange:t,children:s.jsxs(an,{maxWidth:l==="new"?"720px":"520px",children:[s.jsx(cn,{children:"Add contact"}),s.jsxs($,{direction:"column",gap:"3",mt:"3",children:[s.jsx(Js,{label:"Type",children:s.jsxs(Xa,{value:l,onValueChange:q=>{c(q),d(""),m("")},children:[s.jsx(wi,{value:"existing",children:"Existing"}),s.jsx(wi,{value:"new",children:"New"})]})}),l==="existing"?s.jsxs(Js,{label:"Search contact",children:[s.jsx(qe,{value:h,onChange:q=>{m(q.target.value),d("")},placeholder:"Search by name, email, or phone...",autoFocus:!0}),h.trim()&&U.length>0&&s.jsx(X,{mt:"2",style:{border:"1px solid var(--gray-a6)",borderRadius:8,maxHeight:200,overflowY:"auto"},children:U.map(q=>s.jsxs(X,{p:"3",style:{cursor:"pointer",backgroundColor:u===q.id?"var(--accent-a3)":"transparent"},onClick:()=>{d(q.id),m(`${q.name}${q.email?`  ${q.email}`:""}`)},onMouseEnter:V=>{V.currentTarget.style.backgroundColor="var(--gray-a3)"},onMouseLeave:V=>{V.currentTarget.style.backgroundColor=u===q.id?"var(--accent-a3)":"transparent"},children:[s.jsx(L,{size:"2",weight:u===q.id?"medium":"regular",children:q.name}),(q.email||q.title)&&s.jsxs(L,{size:"1",color:"gray",mt:"1",children:[q.email||"",q.email&&q.title?"  ":"",q.title||""]})]},q.id))}),h.trim()&&U.length===0&&s.jsx(L,{size:"2",color:"gray",mt:"2",children:"No contacts found"})]}):s.jsxs(Zn,{columns:{initial:"1",sm:"2"},gap:"3",children:[s.jsx(Js,{label:"Name *",children:s.jsx(qe,{value:R,onChange:q=>E(q.target.value),placeholder:"Contact full name",autoFocus:!0})}),s.jsx(Js,{label:"Title / Role",children:s.jsx(qe,{value:D,onChange:q=>P(q.target.value),placeholder:"e.g., Project Manager, CFO"})}),s.jsx(Js,{label:"Email",children:s.jsx(qe,{type:"email",value:_,onChange:q=>N(q.target.value),placeholder:"email@example.com"})}),s.jsx(Js,{label:"Phone",children:s.jsx(Td,{id:"contact-phone",value:O,onChange:q=>j(q??""),defaultCountry:"NO",placeholder:"Enter phone number"})}),s.jsx(Js,{label:"Company",style:{gridColumn:"span 2"},children:s.jsx(qe,{value:B,onChange:q=>M(q.target.value),placeholder:"Scandic Bjrvika"})})]}),s.jsx(st,{my:"2"}),s.jsxs(Js,{label:"Role on job",children:[s.jsx(qe,{value:p,onChange:q=>v(q.target.value),placeholder:"e.g., Venue contact, Site manager"}),s.jsxs($,{gap:"2",wrap:"wrap",mt:"2",children:[s.jsx(L,{size:"1",color:"gray",style:{width:"100%"},children:"Quick suggestions:"}),w.map(q=>s.jsx(pe,{size:"1",variant:"soft",color:"gray",onClick:()=>v(q),children:q},q))]})]}),s.jsx(Js,{label:"Notes",children:s.jsx(Ci,{rows:3,value:S,onChange:q=>b(q.target.value),placeholder:"Additional information about this contact's role"})})]}),s.jsxs($,{justify:"end",gap:"2",mt:"3",children:[s.jsx(Dn,{children:s.jsx(pe,{variant:"soft",children:"Cancel"})}),s.jsx(pe,{variant:"classic",onClick:()=>K.mutate(),disabled:te,children:K.isPending?"Saving":"Add"})]})]})})}function FHe({open:e,onOpenChange:t,jobId:n,link:i,contact:r}){const a=Yt(),[o,l]=g.useState(i.role??""),[c,u]=g.useState(i.notes??""),[d,h]=g.useState(r.name),[m,p]=g.useState(r.email??""),[v,S]=g.useState(r.phone??""),[b,w]=g.useState(r.title??""),[R,E]=g.useState(r.company_text??""),_=["Venue contact","Site manager","Technical support","Supplier"];g.useEffect(()=>{e&&(l(i.role??""),u(i.notes??""),h(r.name),p(r.email??""),S(r.phone??""),w(r.title??""),E(r.company_text??""))},[e,i,r]);const N=bt({mutationFn:async()=>{const[{error:O},{error:j}]=await Promise.all([re.from("job_contacts").update({role:o.trim()||null,notes:c||null}).eq("job_id",n).eq("contact_id",i.contact_id),re.from("contacts").update({name:d.trim(),email:m||null,phone:v||null,title:b||null,company_text:R||null}).eq("id",r.id)]);if(O)throw O;if(j)throw j},onSuccess:async()=>{await a.invalidateQueries({queryKey:["jobs.contacts",n]}),t(!1)}});return s.jsx(rn,{open:e,onOpenChange:t,children:s.jsxs(an,{maxWidth:"640px",children:[s.jsx(cn,{children:"Edit contact"}),s.jsxs(Js,{label:"Role on job",children:[s.jsx(qe,{value:o,onChange:O=>l(O.target.value),placeholder:"e.g., Venue contact, Site manager"}),s.jsxs($,{gap:"2",wrap:"wrap",mt:"2",children:[s.jsx(L,{size:"1",color:"gray",style:{width:"100%"},children:"Quick suggestions:"}),_.map(O=>s.jsx(pe,{size:"1",variant:"soft",color:"gray",onClick:()=>l(O),children:O},O))]})]}),s.jsx(Js,{label:"Notes",children:s.jsx(Ci,{rows:2,value:c,onChange:O=>u(O.target.value)})}),s.jsx(st,{my:"2"}),s.jsx(L,{size:"2",color:"gray",children:"Contact details"}),s.jsx(Js,{label:"Name",children:s.jsx(qe,{value:d,onChange:O=>h(O.target.value)})}),s.jsx(Js,{label:"Email",children:s.jsx(qe,{value:m,onChange:O=>p(O.target.value)})}),s.jsx(Js,{label:"Phone",children:s.jsx(qe,{value:v,onChange:O=>S(O.target.value)})}),s.jsx(Js,{label:"Title",children:s.jsx(qe,{value:b,onChange:O=>w(O.target.value)})}),s.jsx(Js,{label:"Company",children:s.jsx(qe,{value:R,onChange:O=>E(O.target.value),placeholder:"Scandic Bjrvika"})}),s.jsxs($,{justify:"end",gap:"2",mt:"3",children:[s.jsx(Dn,{children:s.jsx(pe,{variant:"soft",children:"Cancel"})}),s.jsx(pe,{variant:"classic",onClick:()=>N.mutate(),disabled:N.isPending,children:N.isPending?"Saving":"Save"})]})]})})}function Js({label:e,children:t,style:n}){return s.jsxs("div",{style:{marginTop:10,...n},children:[s.jsx("div",{style:{color:"var(--gray-11)",fontSize:12,marginBottom:6},children:e}),t]})}function BHe({jobId:e,companyId:t}){const{companyRole:n}=zr(),i=n==="freelancer",r=Yt(),{success:a,error:o}=Jt(),[l,c]=g.useState(!1),[u,d]=g.useState(null),[h,m]=g.useState(!1),[p,v]=g.useState(null),[S,b]=g.useState(""),[w,R]=g.useState(null),{data:E}=et({queryKey:["jobs.project-lead",e],queryFn:async()=>{const{data:O,error:j}=await re.from("jobs").select("project_lead_user_id, project_lead:project_lead_user_id ( user_id, display_name, email, phone )").eq("id",e).maybeSingle();if(j)throw j;return O},enabled:!!e}),{data:_}=et({queryKey:["jobs.contacts",e],queryFn:async()=>{const[{data:O,error:j},{data:D,error:P}]=await Promise.all([re.from("job_contacts").select(`
            contact_id, role, notes,
            contact:contact_id ( id, name, email, phone, title, company_text )
          `).eq("job_id",e),re.from("time_periods").select("id").eq("job_id",e)]);if(j)throw j;if(P)throw P;const B=(D==null?void 0:D.map(z=>z.id))??[];let M=[];if(B.length){const{data:z,error:U}=await re.from("reserved_crew").select("placeholder_name, user:user_id ( display_name, email, phone )").in("time_period_id",B);if(U)throw U;M=z.map(K=>{var te,q,V;return{name:((te=K.user)==null?void 0:te.display_name)??K.placeholder_name??"",email:((q=K.user)==null?void 0:q.email)??"",phone:((V=K.user)==null?void 0:V.phone)??null}})}return{jobContacts:O,crew:M}}}),N=bt({mutationFn:async O=>{const{error:j}=await re.from("job_contacts").delete().eq("job_id",e).eq("contact_id",O);if(j)throw j},onSuccess:async()=>{await r.invalidateQueries({queryKey:["jobs.contacts",e]}),a("Deleted","Contact removed from job"),m(!1),v(null),b("")},onError:O=>o("Failed to delete",(O==null?void 0:O.message)??"Please try again.")});return s.jsxs(X,{children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[s.jsx(He,{size:"3",children:"Contacts"}),!i&&s.jsxs(pe,{size:"2",onClick:()=>c(!0),children:[s.jsx(yi,{})," Add contact"]}),s.jsx($He,{open:l,onOpenChange:c,jobId:e,companyId:t}),u&&s.jsx(FHe,{open:!!u,onOpenChange:O=>!O&&d(null),jobId:e,link:u.link,contact:u.contact})]}),s.jsx(He,{size:"2",mb:"2",children:"Project lead"}),E!=null&&E.project_lead?s.jsx(X,{p:"3",mb:"4",style:{border:"1px solid var(--gray-a6)",borderRadius:8,background:"var(--gray-a2)"},children:s.jsxs(Zn,{columns:"2",gap:"3",children:[s.jsx(X,{children:s.jsxs($,{direction:"column",gap:"0",children:[s.jsx(L,{size:"1",color:"gray",mb:"1",children:"Name"}),s.jsx(L,{size:"2",weight:"medium",children:E.project_lead.display_name??""})]})}),s.jsx(X,{children:s.jsxs($,{direction:"column",gap:"0",children:[s.jsx(L,{size:"1",color:"gray",mb:"1",children:"Email"}),E.project_lead.email?s.jsx("a",{href:`mailto:${E.project_lead.email}`,style:{color:"inherit",textDecoration:"none"},children:s.jsx(L,{size:"2",children:E.project_lead.email})}):s.jsx(L,{size:"2",children:""})]})}),E.project_lead.phone&&s.jsxs(X,{style:{gridColumn:"span 2"},children:[s.jsx(L,{size:"1",color:"gray",mb:"1",children:"Phone"}),s.jsxs($,{align:"center",gap:"2",children:[s.jsx("a",{href:`tel:${E.project_lead.phone}`,style:{color:"inherit",textDecoration:"none"},children:s.jsx(L,{size:"2",children:Ta(E.project_lead.phone)})}),s.jsx(DR,{text:E.project_lead.phone})]})]})]})}):s.jsx(L,{size:"2",color:"gray",mb:"4",children:"No project lead assigned"}),s.jsx(He,{size:"2",mb:"2",mt:"4",children:"From job"}),s.jsxs(Hn,{variant:"surface",children:[s.jsx(Qn,{children:s.jsxs(ht,{children:[s.jsx(ze,{children:"Name"}),s.jsx(ze,{children:"Company"}),s.jsx(ze,{children:"Role"})]})}),s.jsxs(qn,{children:[((_==null?void 0:_.jobContacts)??[]).map(O=>{var D,P,B,M,z,U;const j=w===O.contact_id;return s.jsxs(g.Fragment,{children:[s.jsxs(ht,{style:{cursor:"pointer",transition:"background-color 0.15s"},onMouseEnter:K=>{K.currentTarget.style.backgroundColor="var(--gray-a2)"},onMouseLeave:K=>{K.currentTarget.style.backgroundColor="transparent"},onClick:()=>{R(j?null:O.contact_id)},children:[s.jsx(Oe,{children:((D=O.contact)==null?void 0:D.name)??""}),s.jsx(Oe,{children:((P=O.contact)==null?void 0:P.company_text)??""}),s.jsx(Oe,{children:s.jsxs($,{align:"center",justify:"between",width:"100%",children:[s.jsx(L,{children:O.role??""}),s.jsx(Za,{width:16,height:16,style:{transform:j?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s",color:"var(--gray-11)",flexShrink:0}})]})})]}),j&&s.jsx(ht,{children:s.jsx(Oe,{colSpan:3,children:s.jsxs(X,{py:"3",px:"2",children:[s.jsxs(Zn,{columns:"2",gap:"3",children:[s.jsxs(X,{children:[s.jsx(L,{size:"1",color:"gray",mb:"1",children:"Email"}),s.jsx(L,{size:"2",children:(B=O.contact)!=null&&B.email?s.jsx("a",{href:`mailto:${O.contact.email}`,style:{color:"inherit",textDecoration:"none"},children:O.contact.email}):""})]}),s.jsxs(X,{children:[s.jsx(L,{size:"1",color:"gray",mb:"1",children:"Phone"}),(M=O.contact)!=null&&M.phone?s.jsxs($,{align:"center",gap:"2",children:[s.jsx("a",{href:`tel:${O.contact.phone}`,style:{color:"inherit",textDecoration:"none"},children:s.jsx(L,{size:"2",children:Ta(O.contact.phone)})}),s.jsx(DR,{text:O.contact.phone})]}):s.jsx(L,{size:"2",children:""})]}),s.jsxs(X,{children:[s.jsx(L,{size:"1",color:"gray",mb:"1",children:"Title"}),s.jsx(L,{size:"2",children:((z=O.contact)==null?void 0:z.title)??""})]}),s.jsxs(X,{children:[s.jsx(L,{size:"1",color:"gray",mb:"1",children:"Company"}),s.jsx(L,{size:"2",children:((U=O.contact)==null?void 0:U.company_text)??""})]}),O.notes&&s.jsxs(X,{style:{gridColumn:"span 2"},children:[s.jsx(L,{size:"1",color:"gray",mb:"1",children:"Notes"}),s.jsx(L,{size:"2",children:O.notes})]})]}),!i&&s.jsxs($,{gap:"2",mt:"3",justify:"end",children:[s.jsxs(pe,{size:"2",variant:"soft",onClick:K=>{K.stopPropagation(),d({link:{contact_id:O.contact_id,role:O.role,notes:O.notes},contact:O.contact})},children:[s.jsx(gi,{width:16,height:16})," Edit"]}),s.jsxs(pe,{size:"2",variant:"soft",color:"red",onClick:K=>{var te;K.stopPropagation(),v(O.contact_id),b(((te=O.contact)==null?void 0:te.name)??"contact"),m(!0)},disabled:N.isPending,children:[s.jsx(vi,{width:16,height:16})," Remove"]})]})]})})})]},O.contact_id)}),((_==null?void 0:_.jobContacts)??[]).length===0&&s.jsx(ht,{children:s.jsx(Oe,{colSpan:3,children:s.jsx(L,{color:"gray",children:"No job contacts"})})})]})]}),s.jsx(Mu,{open:h,onOpenChange:m,children:s.jsxs(Iu,{maxWidth:"480px",children:[s.jsx(Pu,{children:"Remove contact from job?"}),s.jsxs(ku,{size:"2",children:["This will remove ",s.jsx("b",{children:S})," from this job. The contact will still exist in your contacts list."]}),s.jsxs($,{gap:"3",justify:"end",mt:"4",children:[s.jsx($u,{children:s.jsx(pe,{variant:"soft",disabled:N.isPending,children:"Cancel"})}),s.jsx(zd,{children:s.jsx(pe,{color:"red",variant:"solid",onClick:()=>{p&&N.mutate(p)},disabled:N.isPending||!p,children:N.isPending?"Removing":"Yes, remove"})})]})]})}),s.jsx(He,{size:"2",mb:"2",mt:"4",children:"Crew involved"}),s.jsxs(Hn,{variant:"surface",children:[s.jsx(Qn,{children:s.jsxs(ht,{children:[s.jsx(ze,{children:"Name"}),s.jsx(ze,{children:"Email"}),s.jsx(ze,{children:"Phone"})]})}),s.jsxs(qn,{children:[((_==null?void 0:_.crew)??[]).map((O,j)=>s.jsxs(ht,{children:[s.jsx(Oe,{children:O.name}),s.jsx(Oe,{children:O.email}),s.jsx(Oe,{children:O.phone?s.jsx("a",{href:`tel:${O.phone}`,style:{color:"inherit"},children:Ta(O.phone)}):""})]},j)),((_==null?void 0:_.crew)??[]).length===0&&s.jsx(ht,{children:s.jsx(Oe,{colSpan:3,children:s.jsx(L,{color:"gray",children:"No crew"})})})]})]})]})}function zHe({jobId:e}){const{data:t}=et({queryKey:["jobs-detail",e],queryFn:async()=>{const{data:m,error:p}=await re.from("jobs").select("id, title, start_at, end_at").eq("id",e).single();if(p)throw p;return m}}),{data:n=[]}=et(Z1({jobId:e})),[i,r]=g.useState(new Set(["jobDuration","program","equipment","crew","transport"])),a=m=>{var p;return(p=m.title)==null?void 0:p.toLowerCase().includes("job duration")},o=g.useMemo(()=>n.filter(m=>{if(a(m))return i.has("jobDuration");const p=m.category||"program";return i.has(p)}).map(m=>{const p=VHe(m.title,m.category);return{id:m.id,title:m.title||"(untitled)",start:m.start_at,end:m.end_at,backgroundColor:p.bg,borderColor:p.border,textColor:p.text,extendedProps:{timePeriodId:m.id}}}),[n,i]),l=m=>{r(p=>{const v=new Set(p);return v.has(m)?v.delete(m):v.add(m),v})},c=t&&t.start_at?new Date(t.start_at):new Date,u=g.useMemo(()=>{if(!t||!t.start_at||!t.end_at)return null;const m=new Date(t.start_at),p=new Date(t.end_at);if((p.getTime()-m.getTime())/(1e3*60*60*24)>365)return null;const S=[],b=new Date(m);for(;b<=p;)S.push(b.getDay()),b.setDate(b.getDate()+1);const w=Array.from(new Set(S)),E=[0,1,2,3,4,5,6].filter(N=>!w.includes(N)),_={start:new Date(m.getFullYear(),m.getMonth(),m.getDate()).toISOString().split("T")[0],end:new Date(p.getFullYear(),p.getMonth(),p.getDate()+1).toISOString().split("T")[0]};return{hiddenDays:E,visibleRange:_}},[t]),[d,h]=g.useState("job");return s.jsxs(X,{children:[s.jsx(X,{mb:"3",p:"3",style:{background:"var(--gray-a2)",borderRadius:8,border:"1px solid var(--gray-a4)"},children:s.jsxs($,{align:"center",gap:"4",wrap:"wrap",children:[s.jsx(L,{size:"2",weight:"medium",color:"gray",style:{minWidth:"fit-content"},children:"Show:"}),[{key:"jobDuration",label:"Job Duration"},{key:"program",label:"Program"},{key:"equipment",label:"Equipment"},{key:"crew",label:"Crew"},{key:"transport",label:"Transport"}].map(({key:m,label:p})=>{const v=UHe(m),S=i.has(m);return s.jsxs($,{align:"center",gap:"1",style:{cursor:"pointer",padding:"4px 8px",borderRadius:6,transition:"background-color 0.2s"},onClick:b=>{b.stopPropagation(),l(m)},onMouseEnter:b=>{b.currentTarget.style.backgroundColor="var(--gray-a3)"},onMouseLeave:b=>{b.currentTarget.style.backgroundColor="transparent"},children:[s.jsx(fr,{checked:S,onCheckedChange:b=>{b!==S&&l(m)},onClick:b=>b.stopPropagation()}),s.jsx(L,{as:"span",size:"2",style:{color:S?"var(--gray-12)":"var(--gray-11)",fontWeight:S?"500":"400",transition:"color 0.2s"},children:p}),s.jsx(X,{style:{width:"14px",height:"14px",borderRadius:"50%",background:v.bg,border:`2px solid ${v.border}`,flexShrink:0,boxShadow:`0 0 0 1px ${v.border}20`}})]},m)})]})}),s.jsx(X,{className:"jobCalendar",style:{height:"calc(100vh - 270px)"},children:s.jsx(O1,{plugins:[kce,V8,K8],initialView:"job",initialDate:c,events:o,views:{job:{type:"timeGridWeek"}},buttonText:{job:"Job"},headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,job"},firstDay:1,height:"100%",contentHeight:"100%",slotMinTime:"00:00:00",slotMaxTime:"24:00:00",allDaySlot:!1,expandRows:!0,nowIndicator:!0,datesSet:m=>h(m.view.type),editable:!1,selectable:!1,selectMirror:!0,eventOverlap:!1,eventDisplay:"block",eventMaxStack:5,dayMaxEvents:5,eventOrderStrict:!0,weekends:!0,eventTimeFormat:{hour:"2-digit",minute:"2-digit",meridiem:!1,hour12:!1},slotLabelFormat:{hour:"2-digit",minute:"2-digit",meridiem:!1,hour12:!1},validRange:t&&t.start_at&&t.end_at?{start:new Date(t.start_at).toISOString().split("T")[0],end:new Date(new Date(t.end_at).getTime()+1440*60*1e3).toISOString().split("T")[0]}:void 0,hiddenDays:d==="job"&&u?u.hiddenDays:void 0,visibleRange:d==="job"&&u?u.visibleRange:void 0})})]})}function UHe(e){switch(e){case"jobDuration":return{bg:"var(--blue-a6)",border:"var(--blue-a8)",text:"var(--blue-12)"};case"equipment":return{bg:"var(--violet-a6)",border:"var(--violet-a8)",text:"var(--violet-12)"};case"crew":return{bg:"var(--green-a6)",border:"var(--green-a8)",text:"var(--green-12)"};case"transport":return{bg:"var(--amber-a6)",border:"var(--amber-a8)",text:"var(--amber-12)"};case"program":return{bg:"var(--pink-a6)",border:"var(--pink-a8)",text:"var(--pink-12)"};default:return{bg:"var(--gray-a6)",border:"var(--gray-a8)",text:"var(--gray-12)"}}}function VHe(e,t){const n=(e||"").toLowerCase();return n.includes("job duration")?{bg:"var(--blue-a6)",border:"var(--blue-a8)",text:"var(--blue-12)"}:t==="equipment"||n.includes("equipment")?{bg:"var(--violet-a6)",border:"var(--violet-a8)",text:"var(--violet-12)"}:t==="crew"||n.includes("crew")?{bg:"var(--green-a6)",border:"var(--green-a8)",text:"var(--green-12)"}:t==="transport"||n.includes("vehicle")||n.includes("transport")?{bg:"var(--amber-a6)",border:"var(--amber-a8)",text:"var(--amber-12)"}:t==="program"||n.includes("show")||n.includes("event")?{bg:"var(--pink-a6)",border:"var(--pink-a8)",text:"var(--pink-12)"}:n.includes("setup")||n.includes("load in")?{bg:"var(--cyan-a6)",border:"var(--cyan-a8)",text:"var(--cyan-12)"}:n.includes("teardown")||n.includes("load out")?{bg:"var(--red-a6)",border:"var(--red-a8)",text:"var(--red-12)"}:{bg:"var(--indigo-a6)",border:"var(--indigo-a8)",text:"var(--indigo-12)"}}function KHe({jobId:e}){const{data:t}=et(X1({jobId:e})),{companyId:n}=En(),{data:i=[]}=et(Z1({jobId:e})),{success:r,error:a}=Jt(),o=Yt(),l=g.useMemo(()=>i.filter(E=>{var _;return(E.category==="program"||!E.category)&&!((_=E.title)!=null&&_.toLowerCase().includes("job duration"))}),[i]),[c,u]=g.useState(null),[d,h]=g.useState(null),[m,p]=g.useState(!1),v=g.useMemo(()=>[...l].sort((E,_)=>new Date(E.start_at).getTime()-new Date(_.start_at).getTime()),[l]),S=bt({mutationFn:async E=>{if(!n)throw new Error("No companyId");return await pm({id:E.id,job_id:e,company_id:n,title:E.title,start_at:E.start_at,end_at:E.end_at,category:"program"})},onSuccess:async()=>{await o.invalidateQueries({queryKey:["jobs",e,"time_periods"]}),await o.invalidateQueries({queryKey:["jobs-detail",e]}),u(null),p(!1),r("Success","Program period saved successfully")},onError:E=>{a("Failed to save",(E==null?void 0:E.hint)||(E==null?void 0:E.message)||"Please try again.")}}),b=bt({mutationFn:async E=>{const _=i.find(P=>{var B;return(B=P.title)==null?void 0:B.toLowerCase().includes("job duration")});if(!_)throw new Error("Job duration time period not found. Cannot delete.");const{error:N}=await re.from("reserved_items").update({time_period_id:_.id}).eq("time_period_id",E);if(N)throw N;const{error:O}=await re.from("reserved_crew").update({time_period_id:_.id}).eq("time_period_id",E);if(O)throw O;const{error:j}=await re.from("reserved_vehicles").update({time_period_id:_.id}).eq("time_period_id",E);if(j)throw j;const{error:D}=await re.from("time_periods").delete().eq("id",E);if(D)throw D},onSuccess:async()=>{await o.invalidateQueries({queryKey:["jobs",e,"time_periods"]}),await o.invalidateQueries({queryKey:["jobs-detail",e]}),h(null),r("Deleted","Program period deleted and items reassigned to Job duration")},onError:E=>{a("Failed to delete",(E==null?void 0:E.hint)||(E==null?void 0:E.message)||"Please try again.")}}),w=()=>v.length>0?v[v.length-1].end_at:t!=null&&t.start_at?t.start_at:new Date().toISOString(),R=E=>Cm(E);return t?s.jsxs(X,{children:[s.jsxs(X,{mb:"2",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(He,{size:"3",children:"Program"}),s.jsxs(pe,{size:"2",onClick:()=>{p(!0)},children:[s.jsx(yi,{width:16,height:16})," Add Period"]})]}),v.length>0&&s.jsxs(Hn,{variant:"surface",mb:"3",children:[s.jsx(Qn,{children:s.jsxs(ht,{children:[s.jsx(ze,{children:"Title"}),s.jsx(ze,{children:"Start"}),s.jsx(ze,{children:"End"}),s.jsx(ze,{children:"Duration"}),s.jsx(ze,{style:{width:"120px"},children:"Actions"})]})}),s.jsx(qn,{children:v.map(E=>{const _=new Date(E.start_at),O=new Date(E.end_at).getTime()-_.getTime(),j=O/(1e3*60*60),D=O/(1e3*60);let P="";if(j>=1){const B=Math.floor(j),M=Math.floor(O%(1e3*60*60)/(1e3*60));M>0?P=`${B}h ${M}m`:P=`${B}h`}else P=`${Math.floor(D)}m`;return s.jsxs(ht,{children:[s.jsx(Oe,{children:s.jsx(L,{weight:"medium",children:E.title||"(untitled)"})}),s.jsx(Oe,{children:s.jsx(L,{size:"2",children:XH(E.start_at)})}),s.jsx(Oe,{children:s.jsx(L,{size:"2",children:XH(E.end_at)})}),s.jsx(Oe,{children:s.jsx(L,{size:"2",color:"gray",children:P})}),s.jsx(Oe,{children:s.jsxs($,{gap:"2",children:[s.jsx(Mn,{size:"1",variant:"ghost",onClick:()=>u(E),children:s.jsx(gi,{})}),s.jsx(Mn,{size:"1",variant:"ghost",color:"red",onClick:()=>h(E),children:s.jsx(vi,{})})]})})]},E.id)})})]}),s.jsx(X,{p:"4",style:{border:"2px dashed var(--gray-a6)",borderRadius:8,textAlign:"center",cursor:"pointer",transition:"all 100ms"},onClick:()=>p(!0),onMouseEnter:E=>{E.currentTarget.style.borderColor="var(--gray-a8)",E.currentTarget.style.background="var(--gray-a2)"},onMouseLeave:E=>{E.currentTarget.style.borderColor="var(--gray-a6)",E.currentTarget.style.background="transparent"},children:s.jsxs($,{direction:"column",align:"center",gap:"2",children:[s.jsx(yi,{width:24,height:24}),s.jsx(L,{size:"2",color:"gray",children:"Add program period"})]})}),m&&s.jsx(QH,{open:m,onOpenChange:E=>{!E&&!S.isPending&&p(!1)},timePeriod:{id:"",job_id:e,company_id:n,title:"",start_at:w(),end_at:R(w()),category:"program"},onSave:E=>S.mutate(E),isSaving:S.isPending}),c&&s.jsx(QH,{open:!!c,onOpenChange:E=>{!E&&!S.isPending&&u(null)},timePeriod:c,onSave:E=>S.mutate(E),isSaving:S.isPending}),d&&s.jsx(rn,{open:!0,onOpenChange:E=>{!E&&!b.isPending&&h(null)},children:s.jsxs(an,{maxWidth:"450px",children:[s.jsx(cn,{children:"Delete Program Period?"}),s.jsxs(vr,{size:"2",mb:"4",children:['Are you sure you want to delete "',d.title,'"? All items, crew, and vehicles in this period will be reassigned to "Job duration".']}),s.jsxs($,{gap:"3",justify:"end",children:[s.jsx(pe,{variant:"soft",onClick:()=>h(null),disabled:b.isPending,children:"Cancel"}),s.jsx(pe,{color:"red",onClick:()=>b.mutate(d.id),disabled:b.isPending,children:b.isPending?"Deleting...":"Delete"})]})]})})]}):s.jsx(L,{children:"Loading..."})}function QH({open:e,onOpenChange:t,timePeriod:n,onSave:i,isSaving:r}){const[a,o]=g.useState(n.title||""),[l,c]=g.useState(n.start_at),[u,d]=g.useState(n.end_at),[h,m]=g.useState(!n.id),p=w=>{const R=new Date(w).getTime();return Number.isNaN(R)?null:R},v=(()=>{const w=p(l),R=p(u);return w===null||R===null?!1:R<w})();g.useEffect(()=>{!l||!h||n.id||d(Cm(l))},[l,h,n.id]),g.useEffect(()=>{e&&(o(n.title||""),c(n.start_at),d(n.end_at),m(!n.id))},[n,e]);const S=()=>{a.trim()&&i({id:n.id||void 0,title:a.trim(),start_at:l,end_at:u})},b=["Load In","Rigging","Soundcheck","Doors","Concert","Show","Downrig","Teardown","Load Out","Setup","Break","Rehearsal"];return s.jsx(rn,{open:e,onOpenChange:t,children:s.jsxs(an,{maxWidth:"500px",children:[s.jsx(cn,{children:n.id?"Edit Program Period":"New Program Period"}),s.jsx(st,{my:"3"}),s.jsxs($,{direction:"column",gap:"3",children:[s.jsxs(X,{children:[s.jsxs("label",{children:[s.jsx(L,{as:"div",size:"2",mb:"1",weight:"medium",children:"Title"}),s.jsx(qe,{value:a,onChange:w=>o(w.target.value),placeholder:"e.g. Load In, Rigging, Soundcheck",autoFocus:!0})]}),!n.id&&s.jsxs($,{gap:"2",wrap:"wrap",mt:"2",children:[s.jsx(L,{size:"1",color:"gray",style:{width:"100%"},children:"Quick suggestions:"}),b.map(w=>s.jsx(pe,{size:"1",variant:"soft",color:"gray",onClick:()=>o(w),children:w},w))]})]}),s.jsx(or,{label:"Start",value:l,onChange:w=>{c(w),m(!n.id)}}),s.jsx(or,{label:"End",value:u,invalid:v,onChange:w=>{d(w),m(!1)}})]}),s.jsxs($,{gap:"3",mt:"4",justify:"end",children:[s.jsx(pe,{variant:"soft",onClick:()=>t(!1),children:"Cancel"}),s.jsx(pe,{onClick:S,disabled:r||!a.trim()||v,children:r?"Saving...":"Save"})]})]})})}function XH(e){const t=new Date(e),n=String(t.getHours()).padStart(2,"0"),i=String(t.getMinutes()).padStart(2,"0");return`${n}:${i}`}const ade=g.forwardRef(({job:e},t)=>{const{companyRole:n}=zr(),i=n==="freelancer",{success:r,error:a,info:o}=Jt(),l=Yt(),[c,u]=g.useState(!1),[d,h]=g.useState(null),{data:m}=et({queryKey:["auth","user"],queryFn:async()=>{const{data:M,error:z}=await re.auth.getUser();if(z)throw z;return M.user}}),[p,v]=g.useState(e.description),[S,b]=g.useState(!1),[w,R]=g.useState(null);g.useEffect(()=>{v(e.description),R(null),b(!1)},[e.id,e.description]);const E=e.description,_=E!==p;g.useImperativeHandle(t,()=>({checkUnsavedChanges:M=>{_?(R(()=>M),b(!0)):M()}}),[_]),g.useEffect(()=>{if(!_||i)return;const M=z=>{z.preventDefault(),z.returnValue=""};return window.addEventListener("beforeunload",M),()=>{window.removeEventListener("beforeunload",M)}},[_,i]);const N=bt({mutationFn:async()=>{if(!(m!=null&&m.id))throw new Error("Not Authenticated");const{error:M}=await re.from("jobs").update({description:p}).eq("id",e.id);if(M)throw M},onSuccess:()=>{if(l.invalidateQueries({queryKey:["jobs-detail",e.id]}),r("Saved","Notes saved on selected job."),w){const M=w;R(null),b(!1),M()}},onError:M=>{a("Save failed",(M==null?void 0:M.message)??"Please try again.")}}),O=()=>{w&&N.mutate()},j=()=>{if(v(E),w){const M=w;R(null),b(!1),M()}},{data:D=[],isLoading:P}=et({queryKey:["job-files",e.id],queryFn:async()=>{const{data:M,error:z}=await re.from("job_files").select("*, uploaded_by:uploaded_by_user_id(email, display_name)").eq("job_id",e.id).order("created_at",{ascending:!1});if(z)throw z;return M}}),B=bt({mutationFn:async M=>{const{data:z}=await re.from("job_files").select("path").eq("id",M).single();if(z){const{error:K}=await re.storage.from("job_files").remove([z.path]);if(K)throw K}const{error:U}=await re.from("job_files").delete().eq("id",M);if(U)throw U},onSuccess:()=>{l.invalidateQueries({queryKey:["job-files",e.id]}),r("File deleted","The file has been removed.")},onError:M=>{a("Delete failed",(M==null?void 0:M.message)||"Please try again.")}});return P?s.jsx(L,{children:"Loading files"}):s.jsxs(X,{children:[s.jsxs(X,{mb:"4",children:[s.jsx(He,{size:"3",mb:"3",children:"Notes"}),i?s.jsx(L,{style:{whiteSpace:"pre-wrap"},children:p||""}):s.jsxs(X,{children:[s.jsx(Ci,{value:p||"",onChange:M=>v(M.target.value),placeholder:"Add notes here",rows:6,resize:"vertical"}),E!=p&&s.jsxs($,{gap:"2",mt:"2",justify:"end",children:[s.jsx(pe,{size:"2",variant:"soft",onClick:()=>{v(E)},disabled:N.isPending,children:"Discard"}),s.jsx(pe,{size:"2",variant:"solid",onClick:()=>N.mutate(),disabled:N.isPending,children:N.isPending?"Saving":"Save"})]})]})]}),s.jsxs(X,{children:[s.jsxs($,{justify:"between",align:"center",mb:"3",children:[s.jsx(L,{size:"2",color:"gray",children:"Files uploaded for this job"}),!i&&s.jsxs(pe,{size:"2",variant:"soft",onClick:()=>u(!0),children:[s.jsx(yi,{width:16,height:16}),"Upload file"]}),s.jsx(GHe,{open:c,onOpenChange:u,jobId:e.id,onUploaded:()=>{u(!1),l.invalidateQueries({queryKey:["job-files",e.id]})}}),s.jsx(HHe,{open:!!d,onOpenChange:M=>!M&&h(null),fileId:d,jobId:e.id,onSaved:()=>{h(null),l.invalidateQueries({queryKey:["job-files",e.id]})}})]}),D.length===0?s.jsx(X,{p:"4",style:{border:"1px dashed var(--gray-a6)",borderRadius:8},children:s.jsx(L,{size:"2",color:"gray",align:"center",children:'No files uploaded yet. Click "Upload file" to add one.'})}):s.jsxs(Hn,{variant:"surface",children:[s.jsx(Qn,{children:s.jsxs(ht,{children:[s.jsx(ze,{children:"File"}),s.jsx(ze,{children:"Title"}),s.jsx(ze,{children:"Note"}),s.jsx(ze,{children:"Uploaded by"}),s.jsx(ze,{style:{width:80},children:"Actions"})]})}),s.jsx(qn,{children:D.map(M=>{var z,U;return s.jsxs(ht,{children:[s.jsx(Oe,{children:s.jsxs($,{align:"center",gap:"2",children:[s.jsx(og,{width:16,height:16}),s.jsx(L,{size:"2",weight:"medium",children:M.filename||"Unnamed file"}),M.size_bytes&&s.jsxs(L,{size:"1",color:"gray",children:["(",(M.size_bytes/1024).toFixed(1)," KB)"]})]})}),s.jsx(Oe,{children:s.jsx(L,{size:"2",color:M.title?void 0:"gray",children:M.title||""})}),s.jsx(Oe,{children:s.jsx(L,{size:"2",color:M.note?void 0:"gray",children:M.note||""})}),s.jsx(Oe,{children:s.jsx(L,{size:"2",color:"gray",children:((z=M.uploaded_by)==null?void 0:z.display_name)||((U=M.uploaded_by)==null?void 0:U.email)||""})}),s.jsx(Oe,{children:s.jsxs($,{gap:"1",children:[s.jsx(Mn,{size:"1",variant:"soft",onClick:async()=>{const{data:K}=await re.storage.from("job_files").download(M.path);if(K&&M.filename){const te=window.URL.createObjectURL(K),q=document.createElement("a");q.href=te,q.download=M.filename,document.body.appendChild(q),q.click(),window.URL.revokeObjectURL(te),document.body.removeChild(q)}},children:s.jsx(x1,{width:14,height:14})}),!i&&s.jsxs(s.Fragment,{children:[s.jsx(Mn,{size:"1",variant:"soft",onClick:()=>h(M.id),children:s.jsx(gi,{width:14,height:14})}),s.jsx(Mn,{size:"1",variant:"soft",color:"red",onClick:()=>{o("Deleting file...","Please wait"),B.mutate(M.id)},children:s.jsx(vi,{width:14,height:14})})]})]})})]},M.id)})})]})]}),s.jsx(Mu,{open:S,onOpenChange:b,children:s.jsxs(Iu,{maxWidth:"480px",children:[s.jsx(Pu,{children:"Save changes?"}),s.jsx(ku,{size:"2",children:"You have unsaved changes to the notes. Do you want to save them before leaving?"}),s.jsxs($,{gap:"3",justify:"end",mt:"4",children:[s.jsx($u,{children:s.jsx(pe,{variant:"soft",onClick:()=>{b(!1),R(null)},children:"Cancel"})}),s.jsx(pe,{variant:"soft",color:"red",onClick:j,disabled:N.isPending,children:"Discard"}),s.jsx(pe,{variant:"solid",onClick:O,disabled:N.isPending,children:N.isPending?"Saving":"Save and leave"})]})]})})]})});ade.displayName="FilesTab";function GHe({open:e,onOpenChange:t,jobId:n,onUploaded:i}){const{success:r,error:a}=Jt(),[o,l]=g.useState(null),[c,u]=g.useState(!1),[d,h]=g.useState(""),[m,p]=g.useState(""),v=g.useRef(null),S=["Contract","Schedule","Offer","Quote","Drawings"],b=E=>{var N;const _=(N=E.target.files)==null?void 0:N[0];_&&l(_)},w=async()=>{var E;if(o){u(!0);try{const{data:{user:_}}=await re.auth.getUser();if(!_)throw new Error("Not authenticated");const N=((E=o.name.split(".").pop())==null?void 0:E.toLowerCase())||"bin",j=`${Date.now()}.${N}`,D=`${n}/${j}`,{error:P}=await re.storage.from("job_files").upload(D,o,{upsert:!1,cacheControl:"3600"});if(P)throw P;const{error:B}=await re.from("job_files").insert({job_id:n,filename:o.name,path:D,mime_type:o.type,size_bytes:o.size,uploaded_by_user_id:_.id,title:d||null,note:m||null});if(B)throw B;r("File uploaded","The file has been successfully uploaded."),l(null),h(""),p(""),v.current&&(v.current.value=""),i()}catch(_){a("Upload failed",(_==null?void 0:_.message)||"Please try again.")}finally{u(!1)}}},R=()=>{l(null),h(""),p(""),v.current&&(v.current.value=""),t(!1)};return s.jsx(rn,{open:e,onOpenChange:t,children:s.jsxs(an,{maxWidth:"600px",children:[s.jsx(cn,{children:"Upload File"}),s.jsx(st,{my:"3"}),s.jsxs($,{direction:"column",gap:"3",children:[s.jsxs($,{gap:"2",align:"center",children:[s.jsx("input",{ref:v,type:"file",onChange:b,style:{display:"none"}}),s.jsx(pe,{variant:"soft",onClick:()=>{var E;return(E=v.current)==null?void 0:E.click()},disabled:c,children:"Upload file"}),o&&s.jsx(L,{size:"2",color:"gray",children:o.name})]}),s.jsxs(ax,{label:"Title",children:[s.jsx(qe,{placeholder:"e.g., Contract, Schedule, Offer",value:d,onChange:E=>h(E.target.value)}),s.jsxs($,{gap:"2",wrap:"wrap",mt:"2",children:[s.jsx(L,{size:"1",color:"gray",style:{width:"100%"},children:"Quick suggestions:"}),S.map(E=>s.jsx(pe,{size:"1",variant:"soft",color:"gray",onClick:()=>h(E),children:E},E))]})]}),s.jsx(ax,{label:"Description",children:s.jsx(Ci,{placeholder:"Optional description or additional information",value:m,onChange:E=>p(E.target.value),rows:3})})]}),s.jsxs($,{gap:"3",mt:"4",justify:"end",children:[s.jsx(pe,{variant:"soft",onClick:R,disabled:c,children:"Cancel"}),s.jsx(pe,{variant:"solid",onClick:w,disabled:c||!o,children:c?"Uploading":"Save"})]})]})})}function ax({label:e,children:t}){return s.jsxs("div",{children:[s.jsx(L,{as:"div",size:"2",color:"gray",style:{marginBottom:6},children:e}),t]})}function HHe({open:e,onOpenChange:t,fileId:n,jobId:i,onSaved:r}){const{success:a,error:o}=Jt(),[l,c]=g.useState(!1),[u,d]=g.useState(""),[h,m]=g.useState(""),{data:p}=et({queryKey:["job-file",n],queryFn:async()=>{if(!n)return null;const{data:b,error:w}=await re.from("job_files").select("*").eq("id",n).single();if(w)throw w;return b},enabled:!!n&&e});g.useEffect(()=>{p&&(d(p.title||""),m(p.note||""))},[p]);const v=async()=>{if(n){c(!0);try{const{error:b}=await re.from("job_files").update({title:u||null,note:h||null}).eq("id",n);if(b)throw b;a("File updated","The file information has been saved."),r()}catch(b){o("Update failed",(b==null?void 0:b.message)||"Please try again.")}finally{c(!1)}}},S=()=>{d(""),m(""),t(!1)};return s.jsx(rn,{open:e,onOpenChange:t,children:s.jsxs(an,{maxWidth:"600px",children:[s.jsx(cn,{children:"Edit File"}),s.jsx(st,{my:"3"}),s.jsxs($,{direction:"column",gap:"3",children:[s.jsx(ax,{label:"File",children:s.jsx(L,{size:"2",color:"gray",children:(p==null?void 0:p.filename)||"Loading"})}),s.jsx(ax,{label:"Title",children:s.jsx(qe,{placeholder:"e.g., Contract, Invoice, Setup Photos",value:u,onChange:b=>d(b.target.value)})}),s.jsx(ax,{label:"Description",children:s.jsx(Ci,{placeholder:"Optional description or additional information",value:h,onChange:b=>m(b.target.value),rows:3})})]}),s.jsxs($,{gap:"3",mt:"4",justify:"end",children:[s.jsx(pe,{variant:"soft",onClick:S,disabled:l,children:"Cancel"}),s.jsx(pe,{variant:"solid",onClick:v,disabled:l,children:l?"Saving":"Save"})]})]})})}function sde(e,t,n,i,r,a,o,l){const c=e.reduce((b,w)=>b+w.total_price,0),u=t.reduce((b,w)=>{const R=w.daily_rate*w.crew_count,E=Math.ceil((new Date(w.end_date).getTime()-new Date(w.start_date).getTime())/(1e3*60*60*24));return b+R*Math.max(1,E)},0),d=n.reduce((b,w)=>{const R=Math.ceil((new Date(w.end_date).getTime()-new Date(w.start_date).getTime())/864e5),E=w.daily_rate*Math.max(1,R),_=l??150,N=w.distance_km?Math.ceil(w.distance_km/_):0,O=o&&N>0?o*N:0;return b+E+O},0),h=c+u+d,m=h*r/100,p=h-m,v=p*a/100,S=p+v;return{equipmentSubtotal:c,crewSubtotal:u,transportSubtotal:d,totalBeforeDiscount:h,totalAfterDiscount:p,totalWithVAT:S,daysOfUse:i,discountPercent:r,vatPercent:a}}function qHe(){const e=new Uint8Array(32);return crypto.getRandomValues(e),Array.from(e,t=>t.toString(16).padStart(2,"0")).join("")}function Yi(e){"@babel/helpers - typeof";return Yi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yi(e)}var zu=Uint8Array,kl=Uint16Array,ak=Int32Array,sk=new zu([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ok=new zu([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ZH=new zu([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ode=function(e,t){for(var n=new kl(31),i=0;i<31;++i)n[i]=t+=1<<e[i-1];for(var r=new ak(n[30]),i=1;i<30;++i)for(var a=n[i];a<n[i+1];++a)r[a]=a-n[i]<<5|i;return{b:n,r}},lde=ode(sk,2),WHe=lde.b,oM=lde.r;WHe[28]=258,oM[258]=28;var YHe=ode(ok,0),eq=YHe.r,lM=new kl(32768);for(var Dr=0;Dr<32768;++Dr){var gp=(Dr&43690)>>1|(Dr&21845)<<1;gp=(gp&52428)>>2|(gp&13107)<<2,gp=(gp&61680)>>4|(gp&3855)<<4,lM[Dr]=((gp&65280)>>8|(gp&255)<<8)>>1}var sx=(function(e,t,n){for(var i=e.length,r=0,a=new kl(t);r<i;++r)e[r]&&++a[e[r]-1];var o=new kl(t);for(r=1;r<t;++r)o[r]=o[r-1]+a[r-1]<<1;var l;if(n){l=new kl(1<<t);var c=15-t;for(r=0;r<i;++r)if(e[r])for(var u=r<<4|e[r],d=t-e[r],h=o[e[r]-1]++<<d,m=h|(1<<d)-1;h<=m;++h)l[lM[h]>>c]=u}else for(l=new kl(i),r=0;r<i;++r)e[r]&&(l[r]=lM[o[e[r]-1]++]>>15-e[r]);return l}),Lg=new zu(288);for(var Dr=0;Dr<144;++Dr)Lg[Dr]=8;for(var Dr=144;Dr<256;++Dr)Lg[Dr]=9;for(var Dr=256;Dr<280;++Dr)Lg[Dr]=7;for(var Dr=280;Dr<288;++Dr)Lg[Dr]=8;var CR=new zu(32);for(var Dr=0;Dr<32;++Dr)CR[Dr]=5;var JHe=sx(Lg,9,0),QHe=sx(CR,5,0),cde=function(e){return(e+7)/8|0},XHe=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new zu(e.subarray(t,n))},Pf=function(e,t,n){n<<=t&7;var i=t/8|0;e[i]|=n,e[i+1]|=n>>8},db=function(e,t,n){n<<=t&7;var i=t/8|0;e[i]|=n,e[i+1]|=n>>8,e[i+2]|=n>>16},IC=function(e,t){for(var n=[],i=0;i<e.length;++i)e[i]&&n.push({s:i,f:e[i]});var r=n.length,a=n.slice();if(!r)return{t:dde,l:0};if(r==1){var o=new zu(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(N,O){return N.f-O.f}),n.push({s:-1,f:25001});var l=n[0],c=n[1],u=0,d=1,h=2;for(n[0]={s:-1,f:l.f+c.f,l,r:c};d!=r-1;)l=n[n[u].f<n[h].f?u++:h++],c=n[u!=d&&n[u].f<n[h].f?u++:h++],n[d++]={s:-1,f:l.f+c.f,l,r:c};for(var m=a[0].s,i=1;i<r;++i)a[i].s>m&&(m=a[i].s);var p=new kl(m+1),v=cM(n[d-1],p,0);if(v>t){var i=0,S=0,b=v-t,w=1<<b;for(a.sort(function(O,j){return p[j.s]-p[O.s]||O.f-j.f});i<r;++i){var R=a[i].s;if(p[R]>t)S+=w-(1<<v-p[R]),p[R]=t;else break}for(S>>=b;S>0;){var E=a[i].s;p[E]<t?S-=1<<t-p[E]++-1:++i}for(;i>=0&&S;--i){var _=a[i].s;p[_]==t&&(--p[_],++S)}v=t}return{t:new zu(p),l:v}},cM=function(e,t,n){return e.s==-1?Math.max(cM(e.l,t,n+1),cM(e.r,t,n+1)):t[e.s]=n},tq=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new kl(++t),i=0,r=e[0],a=1,o=function(c){n[i++]=c},l=1;l<=t;++l)if(e[l]==r&&l!=t)++a;else{if(!r&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(r),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(r);a=1,r=e[l]}return{c:n.subarray(0,i),n:t}},fb=function(e,t){for(var n=0,i=0;i<t.length;++i)n+=e[i]*t[i];return n},ude=function(e,t,n){var i=n.length,r=cde(t+2);e[r]=i&255,e[r+1]=i>>8,e[r+2]=e[r]^255,e[r+3]=e[r+1]^255;for(var a=0;a<i;++a)e[r+a+4]=n[a];return(r+4+i)*8},nq=function(e,t,n,i,r,a,o,l,c,u,d){Pf(t,d++,n),++r[256];for(var h=IC(r,15),m=h.t,p=h.l,v=IC(a,15),S=v.t,b=v.l,w=tq(m),R=w.c,E=w.n,_=tq(S),N=_.c,O=_.n,j=new kl(19),D=0;D<R.length;++D)++j[R[D]&31];for(var D=0;D<N.length;++D)++j[N[D]&31];for(var P=IC(j,7),B=P.t,M=P.l,z=19;z>4&&!B[ZH[z-1]];--z);var U=u+5<<3,K=fb(r,Lg)+fb(a,CR)+o,te=fb(r,m)+fb(a,S)+o+14+3*z+fb(j,B)+2*j[16]+3*j[17]+7*j[18];if(c>=0&&U<=K&&U<=te)return ude(t,d,e.subarray(c,c+u));var q,V,Q,ce;if(Pf(t,d,1+(te<K)),d+=2,te<K){q=sx(m,p,0),V=m,Q=sx(S,b,0),ce=S;var ae=sx(B,M,0);Pf(t,d,E-257),Pf(t,d+5,O-1),Pf(t,d+10,z-4),d+=14;for(var D=0;D<z;++D)Pf(t,d+3*D,B[ZH[D]]);d+=3*z;for(var G=[R,N],H=0;H<2;++H)for(var T=G[H],D=0;D<T.length;++D){var Y=T[D]&31;Pf(t,d,ae[Y]),d+=B[Y],Y>15&&(Pf(t,d,T[D]>>5&127),d+=T[D]>>12)}}else q=JHe,V=Lg,Q=QHe,ce=CR;for(var D=0;D<l;++D){var ie=i[D];if(ie>255){var Y=ie>>18&31;db(t,d,q[Y+257]),d+=V[Y+257],Y>7&&(Pf(t,d,ie>>23&31),d+=sk[Y]);var ne=ie&31;db(t,d,Q[ne]),d+=ce[ne],ne>3&&(db(t,d,ie>>5&8191),d+=ok[ne])}else db(t,d,q[ie]),d+=V[ie]}return db(t,d,q[256]),d+V[256]},ZHe=new ak([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),dde=new zu(0),eqe=function(e,t,n,i,r,a){var o=a.z||e.length,l=new zu(i+o+5*(1+Math.ceil(o/7e3))+r),c=l.subarray(i,l.length-r),u=a.l,d=(a.r||0)&7;if(t){d&&(c[0]=a.r>>3);for(var h=ZHe[t-1],m=h>>13,p=h&8191,v=(1<<n)-1,S=a.p||new kl(32768),b=a.h||new kl(v+1),w=Math.ceil(n/3),R=2*w,E=function(le){return(e[le]^e[le+1]<<w^e[le+2]<<R)&v},_=new ak(25e3),N=new kl(288),O=new kl(32),j=0,D=0,P=a.i||0,B=0,M=a.w||0,z=0;P+2<o;++P){var U=E(P),K=P&32767,te=b[U];if(S[K]=te,b[U]=K,M<=P){var q=o-P;if((j>7e3||B>24576)&&(q>423||!u)){d=nq(e,c,0,_,N,O,D,B,z,P-z,d),B=j=D=0,z=P;for(var V=0;V<286;++V)N[V]=0;for(var V=0;V<30;++V)O[V]=0}var Q=2,ce=0,ae=p,G=K-te&32767;if(q>2&&U==E(P-G))for(var H=Math.min(m,q)-1,T=Math.min(32767,P),Y=Math.min(258,q);G<=T&&--ae&&K!=te;){if(e[P+Q]==e[P+Q-G]){for(var ie=0;ie<Y&&e[P+ie]==e[P+ie-G];++ie);if(ie>Q){if(Q=ie,ce=G,ie>H)break;for(var ne=Math.min(G,ie-2),J=0,V=0;V<ne;++V){var ee=P-G+V&32767,se=S[ee],de=ee-se&32767;de>J&&(J=de,te=ee)}}}K=te,te=S[K],G+=K-te&32767}if(ce){_[B++]=268435456|oM[Q]<<18|eq[ce];var he=oM[Q]&31,me=eq[ce]&31;D+=sk[he]+ok[me],++N[257+he],++O[me],M=P+Q,++j}else _[B++]=e[P],++N[e[P]]}}for(P=Math.max(P,M);P<o;++P)_[B++]=e[P],++N[e[P]];d=nq(e,c,u,_,N,O,D,B,z,P-z,d),u||(a.r=d&7|c[d/8|0]<<3,d-=7,a.h=b,a.p=S,a.i=P,a.w=M)}else{for(var P=a.w||0;P<o+u;P+=65535){var we=P+65535;we>=o&&(c[d/8|0]=u,we=o),d=ude(c,d+1,e.subarray(P,we))}a.i=o}return XHe(l,0,i+cde(d)+r)},fde=function(){var e=1,t=0;return{p:function(n){for(var i=e,r=t,a=n.length|0,o=0;o!=a;){for(var l=Math.min(o+2655,a);o<l;++o)r+=i+=n[o];i=(i&65535)+15*(i>>16),r=(r&65535)+15*(r>>16)}e=i,t=r},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},tqe=function(e,t,n,i,r){if(!r&&(r={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),o=new zu(a.length+e.length);o.set(a),o.set(e,a.length),e=o,r.w=a.length}return eqe(e,t.level==null?6:t.level,t.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,i,r)},hde=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},nqe=function(e,t){var n=t.level,i=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=i<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var r=fde();r.p(t.dictionary),hde(e,2,r.d())}};function uM(e,t){t||(t={});var n=fde();n.p(e);var i=tqe(e,t,t.dictionary?6:2,4);return nqe(i,t),hde(i,i.length-4,n.d()),i}var iqe=typeof TextDecoder<"u"&&new TextDecoder,rqe=0;try{iqe.decode(dde,{stream:!0}),rqe=1}catch{}function aqe(e){if(Array.isArray(e))return e}function sqe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,r,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(d){u=!0,r=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw r}}return l}}function iq(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function oqe(e,t){if(e){if(typeof e=="string")return iq(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?iq(e,t):void 0}}function lqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rq(e,t){return aqe(e)||sqe(e,t)||oqe(e,t)||lqe()}function aq(e,t="utf8"){return new TextDecoder(t).decode(e)}const cqe=new TextEncoder;function uqe(e){return cqe.encode(e)}const dqe=1024*8,fqe=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),PC={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class lk{constructor(t=dqe,n={}){Fi(this,"buffer");Fi(this,"byteLength");Fi(this,"byteOffset");Fi(this,"length");Fi(this,"offset");Fi(this,"lastWrittenByte");Fi(this,"littleEndian");Fi(this,"_data");Fi(this,"_mark");Fi(this,"_marks");let i=!1;typeof t=="number"?t=new ArrayBuffer(t):(i=!0,this.lastWrittenByte=t.byteLength);const r=n.offset?n.offset>>>0:0,a=t.byteLength-r;let o=r;(ArrayBuffer.isView(t)||t instanceof lk)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+r),t=t.buffer),i?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=t,this.length=a,this.byteLength=a,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,a),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const i=(this.offset+t)*2,r=new Uint8Array(i);r.set(new Uint8Array(this.buffer)),this.buffer=r.buffer,this.length=i,this.byteLength=i,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,n){const i=PC[n].BYTES_PER_ELEMENT*t,r=this.byteOffset+this.offset,a=this.buffer.slice(r,r+i);if(this.littleEndian===fqe&&n!=="uint8"&&n!=="int8"){const l=new Uint8Array(this.buffer.slice(r,r+i));l.reverse();const c=new PC[n](l.buffer);return this.offset+=i,c.reverse(),c}const o=new PC[n](a);return this.offset+=i,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let n="";for(let i=0;i<t;i++)n+=this.readChar();return n}readUtf8(t=1){return aq(this.readBytes(t))}decodeText(t=1,n="utf8"){return aq(this.readBytes(t),n)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let n=0;n<t.length;n++)this._data.setUint8(this.offset++,t[n]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let n=0;n<t.length;n++)this.writeUint8(t.charCodeAt(n));return this}writeUtf8(t){return this.writeBytes(uqe(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function tS(e){let t=e.length;for(;--t>=0;)e[t]=0}const hqe=3,pqe=258,pde=29,mqe=256,yqe=mqe+1+pde,mde=30,gqe=512,vqe=new Array((yqe+2)*2);tS(vqe);const Sqe=new Array(mde*2);tS(Sqe);const bqe=new Array(gqe);tS(bqe);const xqe=new Array(pqe-hqe+1);tS(xqe);const wqe=new Array(pde);tS(wqe);const Eqe=new Array(mde);tS(Eqe);const _qe=(e,t,n,i)=>{let r=e&65535|0,a=e>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do r=r+t[i++]|0,a=a+r|0;while(--o);r%=65521,a%=65521}return r|a<<16|0};var dM=_qe;const Aqe=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},Rqe=new Uint32Array(Aqe()),Nqe=(e,t,n,i)=>{const r=Rqe,a=i+n;e^=-1;for(let o=i;o<a;o++)e=e>>>8^r[(e^t[o])&255];return e^-1};var bd=Nqe,fM={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},yde={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const Oqe=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var jqe=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const i in n)Oqe(n,i)&&(e[i]=n[i])}}return e},Dqe=e=>{let t=0;for(let i=0,r=e.length;i<r;i++)t+=e[i].length;const n=new Uint8Array(t);for(let i=0,r=0,a=e.length;i<a;i++){let o=e[i];n.set(o,r),r+=o.length}return n},gde={assign:jqe,flattenChunks:Dqe};let vde=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{vde=!1}const Yx=new Uint8Array(256);for(let e=0;e<256;e++)Yx[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Yx[254]=Yx[254]=1;var Cqe=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,i,r,a,o=e.length,l=0;for(r=0;r<o;r++)n=e.charCodeAt(r),(n&64512)===55296&&r+1<o&&(i=e.charCodeAt(r+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),r++)),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(l),a=0,r=0;a<l;r++)n=e.charCodeAt(r),(n&64512)===55296&&r+1<o&&(i=e.charCodeAt(r+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),r++)),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|n&63):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|n&63):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|n&63);return t};const Lqe=(e,t)=>{if(t<65534&&e.subarray&&vde)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let i=0;i<t;i++)n+=String.fromCharCode(e[i]);return n};var Tqe=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let i,r;const a=new Array(n*2);for(r=0,i=0;i<n;){let o=e[i++];if(o<128){a[r++]=o;continue}let l=Yx[o];if(l>4){a[r++]=65533,i+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&i<n;)o=o<<6|e[i++]&63,l--;if(l>1){a[r++]=65533;continue}o<65536?a[r++]=o:(o-=65536,a[r++]=55296|o>>10&1023,a[r++]=56320|o&1023)}return Lqe(a,r)},Mqe=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+Yx[e[n]]>t?n:t},hM={string2buf:Cqe,buf2string:Tqe,utf8border:Mqe};function Iqe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Pqe=Iqe;const ZE=16209,kqe=16191;var $qe=function(t,n){let i,r,a,o,l,c,u,d,h,m,p,v,S,b,w,R,E,_,N,O,j,D,P,B;const M=t.state;i=t.next_in,P=t.input,r=i+(t.avail_in-5),a=t.next_out,B=t.output,o=a-(n-t.avail_out),l=a+(t.avail_out-257),c=M.dmax,u=M.wsize,d=M.whave,h=M.wnext,m=M.window,p=M.hold,v=M.bits,S=M.lencode,b=M.distcode,w=(1<<M.lenbits)-1,R=(1<<M.distbits)-1;e:do{v<15&&(p+=P[i++]<<v,v+=8,p+=P[i++]<<v,v+=8),E=S[p&w];t:for(;;){if(_=E>>>24,p>>>=_,v-=_,_=E>>>16&255,_===0)B[a++]=E&65535;else if(_&16){N=E&65535,_&=15,_&&(v<_&&(p+=P[i++]<<v,v+=8),N+=p&(1<<_)-1,p>>>=_,v-=_),v<15&&(p+=P[i++]<<v,v+=8,p+=P[i++]<<v,v+=8),E=b[p&R];n:for(;;){if(_=E>>>24,p>>>=_,v-=_,_=E>>>16&255,_&16){if(O=E&65535,_&=15,v<_&&(p+=P[i++]<<v,v+=8,v<_&&(p+=P[i++]<<v,v+=8)),O+=p&(1<<_)-1,O>c){t.msg="invalid distance too far back",M.mode=ZE;break e}if(p>>>=_,v-=_,_=a-o,O>_){if(_=O-_,_>d&&M.sane){t.msg="invalid distance too far back",M.mode=ZE;break e}if(j=0,D=m,h===0){if(j+=u-_,_<N){N-=_;do B[a++]=m[j++];while(--_);j=a-O,D=B}}else if(h<_){if(j+=u+h-_,_-=h,_<N){N-=_;do B[a++]=m[j++];while(--_);if(j=0,h<N){_=h,N-=_;do B[a++]=m[j++];while(--_);j=a-O,D=B}}}else if(j+=h-_,_<N){N-=_;do B[a++]=m[j++];while(--_);j=a-O,D=B}for(;N>2;)B[a++]=D[j++],B[a++]=D[j++],B[a++]=D[j++],N-=3;N&&(B[a++]=D[j++],N>1&&(B[a++]=D[j++]))}else{j=a-O;do B[a++]=B[j++],B[a++]=B[j++],B[a++]=B[j++],N-=3;while(N>2);N&&(B[a++]=B[j++],N>1&&(B[a++]=B[j++]))}}else if((_&64)===0){E=b[(E&65535)+(p&(1<<_)-1)];continue n}else{t.msg="invalid distance code",M.mode=ZE;break e}break}}else if((_&64)===0){E=S[(E&65535)+(p&(1<<_)-1)];continue t}else if(_&32){M.mode=kqe;break e}else{t.msg="invalid literal/length code",M.mode=ZE;break e}break}}while(i<r&&a<l);N=v>>3,i-=N,v-=N<<3,p&=(1<<v)-1,t.next_in=i,t.next_out=a,t.avail_in=i<r?5+(r-i):5-(i-r),t.avail_out=a<l?257+(l-a):257-(a-l),M.hold=p,M.bits=v};const l0=15,sq=852,oq=592,lq=0,kC=1,cq=2,Fqe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Bqe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),zqe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Uqe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Vqe=(e,t,n,i,r,a,o,l)=>{const c=l.bits;let u=0,d=0,h=0,m=0,p=0,v=0,S=0,b=0,w=0,R=0,E,_,N,O,j,D=null,P;const B=new Uint16Array(l0+1),M=new Uint16Array(l0+1);let z=null,U,K,te;for(u=0;u<=l0;u++)B[u]=0;for(d=0;d<i;d++)B[t[n+d]]++;for(p=c,m=l0;m>=1&&B[m]===0;m--);if(p>m&&(p=m),m===0)return r[a++]=1<<24|64<<16|0,r[a++]=1<<24|64<<16|0,l.bits=1,0;for(h=1;h<m&&B[h]===0;h++);for(p<h&&(p=h),b=1,u=1;u<=l0;u++)if(b<<=1,b-=B[u],b<0)return-1;if(b>0&&(e===lq||m!==1))return-1;for(M[1]=0,u=1;u<l0;u++)M[u+1]=M[u]+B[u];for(d=0;d<i;d++)t[n+d]!==0&&(o[M[t[n+d]]++]=d);if(e===lq?(D=z=o,P=20):e===kC?(D=Fqe,z=Bqe,P=257):(D=zqe,z=Uqe,P=0),R=0,d=0,u=h,j=a,v=p,S=0,N=-1,w=1<<p,O=w-1,e===kC&&w>sq||e===cq&&w>oq)return 1;for(;;){U=u-S,o[d]+1<P?(K=0,te=o[d]):o[d]>=P?(K=z[o[d]-P],te=D[o[d]-P]):(K=96,te=0),E=1<<u-S,_=1<<v,h=_;do _-=E,r[j+(R>>S)+_]=U<<24|K<<16|te|0;while(_!==0);for(E=1<<u-1;R&E;)E>>=1;if(E!==0?(R&=E-1,R+=E):R=0,d++,--B[u]===0){if(u===m)break;u=t[n+o[d]]}if(u>p&&(R&O)!==N){for(S===0&&(S=p),j+=h,v=u-S,b=1<<v;v+S<m&&(b-=B[v+S],!(b<=0));)v++,b<<=1;if(w+=1<<v,e===kC&&w>sq||e===cq&&w>oq)return 1;N=R&O,r[N]=p<<24|v<<16|j-a|0}}return R!==0&&(r[j+R]=u-S<<24|64<<16|0),l.bits=p,0};var ox=Vqe;const Kqe=0,Sde=1,bde=2,{Z_FINISH:uq,Z_BLOCK:Gqe,Z_TREES:e_,Z_OK:Tg,Z_STREAM_END:Hqe,Z_NEED_DICT:qqe,Z_STREAM_ERROR:Pc,Z_DATA_ERROR:xde,Z_MEM_ERROR:wde,Z_BUF_ERROR:Wqe,Z_DEFLATED:dq}=yde,ej=16180,fq=16181,hq=16182,pq=16183,mq=16184,yq=16185,gq=16186,vq=16187,Sq=16188,bq=16189,LR=16190,kf=16191,$C=16192,xq=16193,FC=16194,wq=16195,Eq=16196,_q=16197,Aq=16198,t_=16199,n_=16200,Rq=16201,Nq=16202,Oq=16203,jq=16204,Dq=16205,BC=16206,Cq=16207,Lq=16208,kr=16209,Ede=16210,_de=16211,Yqe=852,Jqe=592,Qqe=15,Xqe=Qqe,Tq=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function Zqe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const iv=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<ej||t.mode>_de?1:0},Ade=e=>{if(iv(e))return Pc;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=ej,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(Yqe),t.distcode=t.distdyn=new Int32Array(Jqe),t.sane=1,t.back=-1,Tg},Rde=e=>{if(iv(e))return Pc;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Ade(e)},Nde=(e,t)=>{let n;if(iv(e))return Pc;const i=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Pc:(i.window!==null&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,Rde(e))},Ode=(e,t)=>{if(!e)return Pc;const n=new Zqe;e.state=n,n.strm=e,n.window=null,n.mode=ej;const i=Nde(e,t);return i!==Tg&&(e.state=null),i},eWe=e=>Ode(e,Xqe);let Mq=!0,zC,UC;const tWe=e=>{if(Mq){zC=new Int32Array(512),UC=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(ox(Sde,e.lens,0,288,zC,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;ox(bde,e.lens,0,32,UC,0,e.work,{bits:5}),Mq=!1}e.lencode=zC,e.lenbits=9,e.distcode=UC,e.distbits=5},jde=(e,t,n,i)=>{let r;const a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),i>=a.wsize?(a.window.set(t.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):(r=a.wsize-a.wnext,r>i&&(r=i),a.window.set(t.subarray(n-i,n-i+r),a.wnext),i-=r,i?(a.window.set(t.subarray(n-i,n),0),a.wnext=i,a.whave=a.wsize):(a.wnext+=r,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=r))),0},nWe=(e,t)=>{let n,i,r,a,o,l,c,u,d,h,m,p,v,S,b=0,w,R,E,_,N,O,j,D;const P=new Uint8Array(4);let B,M;const z=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(iv(e)||!e.output||!e.input&&e.avail_in!==0)return Pc;n=e.state,n.mode===kf&&(n.mode=$C),o=e.next_out,r=e.output,c=e.avail_out,a=e.next_in,i=e.input,l=e.avail_in,u=n.hold,d=n.bits,h=l,m=c,D=Tg;e:for(;;)switch(n.mode){case ej:if(n.wrap===0){n.mode=$C;break}for(;d<16;){if(l===0)break e;l--,u+=i[a++]<<d,d+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,P[0]=u&255,P[1]=u>>>8&255,n.check=bd(n.check,P,2,0),u=0,d=0,n.mode=fq;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",n.mode=kr;break}if((u&15)!==dq){e.msg="unknown compression method",n.mode=kr;break}if(u>>>=4,d-=4,j=(u&15)+8,n.wbits===0&&(n.wbits=j),j>15||j>n.wbits){e.msg="invalid window size",n.mode=kr;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=u&512?bq:kf,u=0,d=0;break;case fq:for(;d<16;){if(l===0)break e;l--,u+=i[a++]<<d,d+=8}if(n.flags=u,(n.flags&255)!==dq){e.msg="unknown compression method",n.mode=kr;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=kr;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,n.check=bd(n.check,P,2,0)),u=0,d=0,n.mode=hq;case hq:for(;d<32;){if(l===0)break e;l--,u+=i[a++]<<d,d+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,P[2]=u>>>16&255,P[3]=u>>>24&255,n.check=bd(n.check,P,4,0)),u=0,d=0,n.mode=pq;case pq:for(;d<16;){if(l===0)break e;l--,u+=i[a++]<<d,d+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,n.check=bd(n.check,P,2,0)),u=0,d=0,n.mode=mq;case mq:if(n.flags&1024){for(;d<16;){if(l===0)break e;l--,u+=i[a++]<<d,d+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,n.check=bd(n.check,P,2,0)),u=0,d=0}else n.head&&(n.head.extra=null);n.mode=yq;case yq:if(n.flags&1024&&(p=n.length,p>l&&(p=l),p&&(n.head&&(j=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(a,a+p),j)),n.flags&512&&n.wrap&4&&(n.check=bd(n.check,i,p,a)),l-=p,a+=p,n.length-=p),n.length))break e;n.length=0,n.mode=gq;case gq:if(n.flags&2048){if(l===0)break e;p=0;do j=i[a+p++],n.head&&j&&n.length<65536&&(n.head.name+=String.fromCharCode(j));while(j&&p<l);if(n.flags&512&&n.wrap&4&&(n.check=bd(n.check,i,p,a)),l-=p,a+=p,j)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=vq;case vq:if(n.flags&4096){if(l===0)break e;p=0;do j=i[a+p++],n.head&&j&&n.length<65536&&(n.head.comment+=String.fromCharCode(j));while(j&&p<l);if(n.flags&512&&n.wrap&4&&(n.check=bd(n.check,i,p,a)),l-=p,a+=p,j)break e}else n.head&&(n.head.comment=null);n.mode=Sq;case Sq:if(n.flags&512){for(;d<16;){if(l===0)break e;l--,u+=i[a++]<<d,d+=8}if(n.wrap&4&&u!==(n.check&65535)){e.msg="header crc mismatch",n.mode=kr;break}u=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=kf;break;case bq:for(;d<32;){if(l===0)break e;l--,u+=i[a++]<<d,d+=8}e.adler=n.check=Tq(u),u=0,d=0,n.mode=LR;case LR:if(n.havedict===0)return e.next_out=o,e.avail_out=c,e.next_in=a,e.avail_in=l,n.hold=u,n.bits=d,qqe;e.adler=n.check=1,n.mode=kf;case kf:if(t===Gqe||t===e_)break e;case $C:if(n.last){u>>>=d&7,d-=d&7,n.mode=BC;break}for(;d<3;){if(l===0)break e;l--,u+=i[a++]<<d,d+=8}switch(n.last=u&1,u>>>=1,d-=1,u&3){case 0:n.mode=xq;break;case 1:if(tWe(n),n.mode=t_,t===e_){u>>>=2,d-=2;break e}break;case 2:n.mode=Eq;break;case 3:e.msg="invalid block type",n.mode=kr}u>>>=2,d-=2;break;case xq:for(u>>>=d&7,d-=d&7;d<32;){if(l===0)break e;l--,u+=i[a++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",n.mode=kr;break}if(n.length=u&65535,u=0,d=0,n.mode=FC,t===e_)break e;case FC:n.mode=wq;case wq:if(p=n.length,p){if(p>l&&(p=l),p>c&&(p=c),p===0)break e;r.set(i.subarray(a,a+p),o),l-=p,a+=p,c-=p,o+=p,n.length-=p;break}n.mode=kf;break;case Eq:for(;d<14;){if(l===0)break e;l--,u+=i[a++]<<d,d+=8}if(n.nlen=(u&31)+257,u>>>=5,d-=5,n.ndist=(u&31)+1,u>>>=5,d-=5,n.ncode=(u&15)+4,u>>>=4,d-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=kr;break}n.have=0,n.mode=_q;case _q:for(;n.have<n.ncode;){for(;d<3;){if(l===0)break e;l--,u+=i[a++]<<d,d+=8}n.lens[z[n.have++]]=u&7,u>>>=3,d-=3}for(;n.have<19;)n.lens[z[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,B={bits:n.lenbits},D=ox(Kqe,n.lens,0,19,n.lencode,0,n.work,B),n.lenbits=B.bits,D){e.msg="invalid code lengths set",n.mode=kr;break}n.have=0,n.mode=Aq;case Aq:for(;n.have<n.nlen+n.ndist;){for(;b=n.lencode[u&(1<<n.lenbits)-1],w=b>>>24,R=b>>>16&255,E=b&65535,!(w<=d);){if(l===0)break e;l--,u+=i[a++]<<d,d+=8}if(E<16)u>>>=w,d-=w,n.lens[n.have++]=E;else{if(E===16){for(M=w+2;d<M;){if(l===0)break e;l--,u+=i[a++]<<d,d+=8}if(u>>>=w,d-=w,n.have===0){e.msg="invalid bit length repeat",n.mode=kr;break}j=n.lens[n.have-1],p=3+(u&3),u>>>=2,d-=2}else if(E===17){for(M=w+3;d<M;){if(l===0)break e;l--,u+=i[a++]<<d,d+=8}u>>>=w,d-=w,j=0,p=3+(u&7),u>>>=3,d-=3}else{for(M=w+7;d<M;){if(l===0)break e;l--,u+=i[a++]<<d,d+=8}u>>>=w,d-=w,j=0,p=11+(u&127),u>>>=7,d-=7}if(n.have+p>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=kr;break}for(;p--;)n.lens[n.have++]=j}}if(n.mode===kr)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=kr;break}if(n.lenbits=9,B={bits:n.lenbits},D=ox(Sde,n.lens,0,n.nlen,n.lencode,0,n.work,B),n.lenbits=B.bits,D){e.msg="invalid literal/lengths set",n.mode=kr;break}if(n.distbits=6,n.distcode=n.distdyn,B={bits:n.distbits},D=ox(bde,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,B),n.distbits=B.bits,D){e.msg="invalid distances set",n.mode=kr;break}if(n.mode=t_,t===e_)break e;case t_:n.mode=n_;case n_:if(l>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=a,e.avail_in=l,n.hold=u,n.bits=d,$qe(e,m),o=e.next_out,r=e.output,c=e.avail_out,a=e.next_in,i=e.input,l=e.avail_in,u=n.hold,d=n.bits,n.mode===kf&&(n.back=-1);break}for(n.back=0;b=n.lencode[u&(1<<n.lenbits)-1],w=b>>>24,R=b>>>16&255,E=b&65535,!(w<=d);){if(l===0)break e;l--,u+=i[a++]<<d,d+=8}if(R&&(R&240)===0){for(_=w,N=R,O=E;b=n.lencode[O+((u&(1<<_+N)-1)>>_)],w=b>>>24,R=b>>>16&255,E=b&65535,!(_+w<=d);){if(l===0)break e;l--,u+=i[a++]<<d,d+=8}u>>>=_,d-=_,n.back+=_}if(u>>>=w,d-=w,n.back+=w,n.length=E,R===0){n.mode=Dq;break}if(R&32){n.back=-1,n.mode=kf;break}if(R&64){e.msg="invalid literal/length code",n.mode=kr;break}n.extra=R&15,n.mode=Rq;case Rq:if(n.extra){for(M=n.extra;d<M;){if(l===0)break e;l--,u+=i[a++]<<d,d+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Nq;case Nq:for(;b=n.distcode[u&(1<<n.distbits)-1],w=b>>>24,R=b>>>16&255,E=b&65535,!(w<=d);){if(l===0)break e;l--,u+=i[a++]<<d,d+=8}if((R&240)===0){for(_=w,N=R,O=E;b=n.distcode[O+((u&(1<<_+N)-1)>>_)],w=b>>>24,R=b>>>16&255,E=b&65535,!(_+w<=d);){if(l===0)break e;l--,u+=i[a++]<<d,d+=8}u>>>=_,d-=_,n.back+=_}if(u>>>=w,d-=w,n.back+=w,R&64){e.msg="invalid distance code",n.mode=kr;break}n.offset=E,n.extra=R&15,n.mode=Oq;case Oq:if(n.extra){for(M=n.extra;d<M;){if(l===0)break e;l--,u+=i[a++]<<d,d+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=kr;break}n.mode=jq;case jq:if(c===0)break e;if(p=m-c,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=kr;break}p>n.wnext?(p-=n.wnext,v=n.wsize-p):v=n.wnext-p,p>n.length&&(p=n.length),S=n.window}else S=r,v=o-n.offset,p=n.length;p>c&&(p=c),c-=p,n.length-=p;do r[o++]=S[v++];while(--p);n.length===0&&(n.mode=n_);break;case Dq:if(c===0)break e;r[o++]=n.length,c--,n.mode=n_;break;case BC:if(n.wrap){for(;d<32;){if(l===0)break e;l--,u|=i[a++]<<d,d+=8}if(m-=c,e.total_out+=m,n.total+=m,n.wrap&4&&m&&(e.adler=n.check=n.flags?bd(n.check,r,m,o-m):dM(n.check,r,m,o-m)),m=c,n.wrap&4&&(n.flags?u:Tq(u))!==n.check){e.msg="incorrect data check",n.mode=kr;break}u=0,d=0}n.mode=Cq;case Cq:if(n.wrap&&n.flags){for(;d<32;){if(l===0)break e;l--,u+=i[a++]<<d,d+=8}if(n.wrap&4&&u!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=kr;break}u=0,d=0}n.mode=Lq;case Lq:D=Hqe;break e;case kr:D=xde;break e;case Ede:return wde;case _de:default:return Pc}return e.next_out=o,e.avail_out=c,e.next_in=a,e.avail_in=l,n.hold=u,n.bits=d,(n.wsize||m!==e.avail_out&&n.mode<kr&&(n.mode<BC||t!==uq))&&jde(e,e.output,e.next_out,m-e.avail_out),h-=e.avail_in,m-=e.avail_out,e.total_in+=h,e.total_out+=m,n.total+=m,n.wrap&4&&m&&(e.adler=n.check=n.flags?bd(n.check,r,m,e.next_out-m):dM(n.check,r,m,e.next_out-m)),e.data_type=n.bits+(n.last?64:0)+(n.mode===kf?128:0)+(n.mode===t_||n.mode===FC?256:0),(h===0&&m===0||t===uq)&&D===Tg&&(D=Wqe),D},iWe=e=>{if(iv(e))return Pc;let t=e.state;return t.window&&(t.window=null),e.state=null,Tg},rWe=(e,t)=>{if(iv(e))return Pc;const n=e.state;return(n.wrap&2)===0?Pc:(n.head=t,t.done=!1,Tg)},aWe=(e,t)=>{const n=t.length;let i,r,a;return iv(e)||(i=e.state,i.wrap!==0&&i.mode!==LR)?Pc:i.mode===LR&&(r=1,r=dM(r,t,n,0),r!==i.check)?xde:(a=jde(e,t,n,n),a?(i.mode=Ede,wde):(i.havedict=1,Tg))};var sWe=Rde,oWe=Nde,lWe=Ade,cWe=eWe,uWe=Ode,dWe=nWe,fWe=iWe,hWe=rWe,pWe=aWe,mWe="pako inflate (from Nodeca project)",Vf={inflateReset:sWe,inflateReset2:oWe,inflateResetKeep:lWe,inflateInit:cWe,inflateInit2:uWe,inflate:dWe,inflateEnd:fWe,inflateGetHeader:hWe,inflateSetDictionary:pWe,inflateInfo:mWe};function yWe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gWe=yWe;const Dde=Object.prototype.toString,{Z_NO_FLUSH:vWe,Z_FINISH:SWe,Z_OK:Jx,Z_STREAM_END:VC,Z_NEED_DICT:KC,Z_STREAM_ERROR:bWe,Z_DATA_ERROR:Iq,Z_MEM_ERROR:xWe}=yde;function Z2(e){this.options=gde.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Pqe,this.strm.avail_out=0;let n=Vf.inflateInit2(this.strm,t.windowBits);if(n!==Jx)throw new Error(fM[n]);if(this.header=new gWe,Vf.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=hM.string2buf(t.dictionary):Dde.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=Vf.inflateSetDictionary(this.strm,t.dictionary),n!==Jx)))throw new Error(fM[n])}Z2.prototype.push=function(e,t){const n=this.strm,i=this.options.chunkSize,r=this.options.dictionary;let a,o,l;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?SWe:vWe,Dde.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),a=Vf.inflate(n,o),a===KC&&r&&(a=Vf.inflateSetDictionary(n,r),a===Jx?a=Vf.inflate(n,o):a===Iq&&(a=KC));n.avail_in>0&&a===VC&&n.state.wrap>0&&e[n.next_in]!==0;)Vf.inflateReset(n),a=Vf.inflate(n,o);switch(a){case bWe:case Iq:case KC:case xWe:return this.onEnd(a),this.ended=!0,!1}if(l=n.avail_out,n.next_out&&(n.avail_out===0||a===VC))if(this.options.to==="string"){let c=hM.utf8border(n.output,n.next_out),u=n.next_out-c,d=hM.buf2string(n.output,c);n.next_out=u,n.avail_out=i-u,u&&n.output.set(n.output.subarray(c,c+u),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(a===Jx&&l===0)){if(a===VC)return a=Vf.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Z2.prototype.onData=function(e){this.chunks.push(e)};Z2.prototype.onEnd=function(e){e===Jx&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=gde.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function wWe(e,t){const n=new Z2(t);if(n.push(e),n.err)throw n.msg||fM[n.err];return n.result}var EWe=Z2,_We=wWe,AWe={Inflate:EWe,inflate:_We};const{Inflate:RWe,inflate:NWe}=AWe;var Pq=RWe,OWe=NWe;const Cde=[];for(let e=0;e<256;e++){let t=e;for(let n=0;n<8;n++)t&1?t=3988292384^t>>>1:t=t>>>1;Cde[e]=t}const kq=4294967295;function jWe(e,t,n){let i=e;for(let r=0;r<n;r++)i=Cde[(i^t[r])&255]^i>>>8;return i}function DWe(e,t){return(jWe(kq,e,t)^kq)>>>0}function $q(e,t,n){const i=e.readUint32(),r=DWe(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(r!==i)throw new Error(`CRC mismatch for chunk ${n}. Expected ${i}, found ${r}`)}function Lde(e,t,n){for(let i=0;i<n;i++)t[i]=e[i]}function Tde(e,t,n,i){let r=0;for(;r<i;r++)t[r]=e[r];for(;r<n;r++)t[r]=e[r]+t[r-i]&255}function Mde(e,t,n,i){let r=0;if(n.length===0)for(;r<i;r++)t[r]=e[r];else for(;r<i;r++)t[r]=e[r]+n[r]&255}function Ide(e,t,n,i,r){let a=0;if(n.length===0){for(;a<r;a++)t[a]=e[a];for(;a<i;a++)t[a]=e[a]+(t[a-r]>>1)&255}else{for(;a<r;a++)t[a]=e[a]+(n[a]>>1)&255;for(;a<i;a++)t[a]=e[a]+(t[a-r]+n[a]>>1)&255}}function Pde(e,t,n,i,r){let a=0;if(n.length===0){for(;a<r;a++)t[a]=e[a];for(;a<i;a++)t[a]=e[a]+t[a-r]&255}else{for(;a<r;a++)t[a]=e[a]+n[a]&255;for(;a<i;a++)t[a]=e[a]+CWe(t[a-r],n[a],n[a-r])&255}}function CWe(e,t,n){const i=e+t-n,r=Math.abs(i-e),a=Math.abs(i-t),o=Math.abs(i-n);return r<=a&&r<=o?e:a<=o?t:n}function LWe(e,t,n,i,r,a){switch(e){case 0:Lde(t,n,r);break;case 1:Tde(t,n,r,a);break;case 2:Mde(t,n,i,r);break;case 3:Ide(t,n,i,r,a);break;case 4:Pde(t,n,i,r,a);break;default:throw new Error(`Unsupported filter: ${e}`)}}const TWe=new Uint16Array([255]),MWe=new Uint8Array(TWe.buffer),IWe=MWe[0]===255;function PWe(e){const{data:t,width:n,height:i,channels:r,depth:a}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(a/8)*r,c=new Uint8Array(i*n*l);let u=0;for(let d=0;d<7;d++){const h=o[d],m=Math.ceil((n-h.x)/h.xStep),p=Math.ceil((i-h.y)/h.yStep);if(m<=0||p<=0)continue;const v=m*l,S=new Uint8Array(v);for(let b=0;b<p;b++){const w=t[u++],R=t.subarray(u,u+v);u+=v;const E=new Uint8Array(v);LWe(w,R,E,S,v,l),S.set(E);for(let _=0;_<m;_++){const N=h.x+_*h.xStep,O=h.y+b*h.yStep;if(!(N>=n||O>=i))for(let j=0;j<l;j++)c[(O*n+N)*l+j]=E[_*l+j]}}}if(a===16){const d=new Uint16Array(c.buffer);if(IWe)for(let h=0;h<d.length;h++)d[h]=kWe(d[h]);return d}else return c}function kWe(e){return(e&255)<<8|e>>8&255}const $We=new Uint16Array([255]),FWe=new Uint8Array($We.buffer),BWe=FWe[0]===255,zWe=new Uint8Array(0);function Fq(e){const{data:t,width:n,height:i,channels:r,depth:a}=e,o=Math.ceil(a/8)*r,l=Math.ceil(a/8*r*n),c=new Uint8Array(i*l);let u=zWe,d=0,h,m;for(let p=0;p<i;p++){switch(h=t.subarray(d+1,d+1+l),m=c.subarray(p*l,(p+1)*l),t[d]){case 0:Lde(h,m,l);break;case 1:Tde(h,m,l,o);break;case 2:Mde(h,m,u,l);break;case 3:Ide(h,m,u,l,o);break;case 4:Pde(h,m,u,l,o);break;default:throw new Error(`Unsupported filter: ${t[d]}`)}u=m,d+=l+1}if(a===16){const p=new Uint16Array(c.buffer);if(BWe)for(let v=0;v<p.length;v++)p[v]=UWe(p[v]);return p}else return c}function UWe(e){return(e&255)<<8|e>>8&255}const oA=Uint8Array.of(137,80,78,71,13,10,26,10);function Bq(e){if(!VWe(e.readBytes(oA.length)))throw new Error("wrong PNG signature")}function VWe(e){if(e.length<oA.length)return!1;for(let t=0;t<oA.length;t++)if(e[t]!==oA[t])return!1;return!0}const KWe="tEXt",GWe=0,kde=new TextDecoder("latin1");function HWe(e){if(WWe(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const qWe=/^[\u0000-\u00FF]*$/;function WWe(e){if(!qWe.test(e))throw new Error("invalid latin1 text")}function YWe(e,t,n){const i=$de(t);e[i]=JWe(t,n-i.length-1)}function $de(e){for(e.mark();e.readByte()!==GWe;);const t=e.offset;e.reset();const n=kde.decode(e.readBytes(t-e.offset-1));return e.skip(1),HWe(n),n}function JWe(e,t){return kde.decode(e.readBytes(t))}const Al={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},GC={UNKNOWN:-1,DEFLATE:0},zq={UNKNOWN:-1,ADAPTIVE:0},HC={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},i_={NONE:0,BACKGROUND:1,PREVIOUS:2},qC={SOURCE:0,OVER:1};class QWe extends lk{constructor(n,i={}){super(n);Fi(this,"_checkCrc");Fi(this,"_inflator");Fi(this,"_png");Fi(this,"_apng");Fi(this,"_end");Fi(this,"_hasPalette");Fi(this,"_palette");Fi(this,"_hasTransparency");Fi(this,"_transparency");Fi(this,"_compressionMethod");Fi(this,"_filterMethod");Fi(this,"_interlaceMethod");Fi(this,"_colorType");Fi(this,"_isAnimated");Fi(this,"_numberOfFrames");Fi(this,"_numberOfPlays");Fi(this,"_frames");Fi(this,"_writingDataChunks");const{checkCrc:r=!1}=i;this._checkCrc=r,this._inflator=new Pq,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=GC.UNKNOWN,this._filterMethod=zq.UNKNOWN,this._interlaceMethod=HC.UNKNOWN,this._colorType=Al.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Bq(this);!this._end;){const n=this.readUint32(),i=this.readChars(4);this.decodeChunk(n,i)}return this.decodeImage(),this._png}decodeApng(){for(Bq(this);!this._end;){const n=this.readUint32(),i=this.readChars(4);this.decodeApngChunk(n,i)}return this.decodeApngImage(),this._apng}decodeChunk(n,i){const r=this.offset;switch(i){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case KWe:YWe(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-r!==n)throw new Error(`Length mismatch while decoding chunk ${i}`);this._checkCrc?$q(this,n+4,i):this.skip(4)}decodeApngChunk(n,i){const r=this.offset;switch(i!=="fdAT"&&i!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),i){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,i),this.offset=r+n;break}if(this.offset-r!==n)throw new Error(`Length mismatch while decoding chunk ${i}`);this._checkCrc?$q(this,n+4,i):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=XWe(this.readUint8());const i=this.readUint8();this._colorType=i;let r;switch(i){case Al.GREYSCALE:r=1;break;case Al.TRUECOLOUR:r=3;break;case Al.INDEXED_COLOUR:r=1;break;case Al.GREYSCALE_ALPHA:r=2;break;case Al.TRUECOLOUR_ALPHA:r=4;break;case Al.UNKNOWN:default:throw new Error(`Unknown color type: ${i}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==GC.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const i=n/3;this._hasPalette=!0;const r=[];this._palette=r;for(let a=0;a<i;a++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const i=n,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,i)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let i=n,r=this.offset+this.byteOffset;if(r+=4,i-=4,this._inflator.push(new Uint8Array(this.buffer,r,i)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case Al.GREYSCALE:case Al.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let i=0;i<n/2;i++)this._transparency[i]=this.readUint16();break}case Al.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let i=0;for(;i<n;i++){const r=this.readByte();this._palette[i].push(r)}for(;i<this._palette.length;i++)this._palette[i].push(255);break}case Al.UNKNOWN:case Al.GREYSCALE_ALPHA:case Al.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const i=$de(this),r=this.readUint8();if(r!==GC.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const a=this.readBytes(n-i.length-2);this._png.iccEmbeddedProfile={name:i,profile:OWe(a)}}decodepHYs(){const n=this.readUint32(),i=this.readUint32(),r=this.readByte();this._png.resolution={x:n,y:i,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const i={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(n);if(r){if(r.data=Fq({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)i.data=r.data;else{const a=this._apng.frames.at(n-1);this.disposeFrame(r,a,i),this.addFrameDataToCanvas(i,r)}this._apng.frames.push(i)}}return this._apng}disposeFrame(n,i,r){switch(n.disposeOp){case i_.NONE:break;case i_.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const l=(a*n.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)r.data[l+c]=0}break;case i_.PREVIOUS:r.data.set(i.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,i){const r=1<<this._png.depth,a=(o,l)=>{const c=((o+i.yOffset)*this._png.width+i.xOffset+l)*this._png.channels,u=(o*i.width+l)*this._png.channels;return{index:c,frameIndex:u}};switch(i.blendOp){case qC.SOURCE:for(let o=0;o<i.height;o++)for(let l=0;l<i.width;l++){const{index:c,frameIndex:u}=a(o,l);for(let d=0;d<this._png.channels;d++)n.data[c+d]=i.data[u+d]}break;case qC.OVER:for(let o=0;o<i.height;o++)for(let l=0;l<i.width;l++){const{index:c,frameIndex:u}=a(o,l);for(let d=0;d<this._png.channels;d++){const h=i.data[u+this._png.channels-1]/r,m=d%(this._png.channels-1)===0?1:i.data[u+d],p=Math.floor(h*m+(1-h)*n.data[c+d]);n.data[c+d]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var i;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((i=this._frames)==null?void 0:i.at(0)).data:this._inflator.result;if(this._filterMethod!==zq.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===HC.NO_INTERLACE)this._png.data=Fq({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===HC.ADAM7)this._png.data=PWe({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,i=this._frames.at(-1);i?i.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:i_.NONE,blendOp:qC.SOURCE,data:n}),this._inflator=new Pq,this._writingDataChunks=!1}}function XWe(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var Uq;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(Uq||(Uq={}));function ZWe(e,t){return new QWe(e,t).decode()}var Fn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function WC(){Fn.console&&typeof Fn.console.log=="function"&&Fn.console.log.apply(Fn.console,arguments)}var dr={log:WC,warn:function(e){Fn.console&&(typeof Fn.console.warn=="function"?Fn.console.warn.apply(Fn.console,arguments):WC.call(null,arguments))},error:function(e){Fn.console&&(typeof Fn.console.error=="function"?Fn.console.error.apply(Fn.console,arguments):WC(e))}};function YC(e,t,n){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){Oy(i.response,t,n)},i.onerror=function(){dr.error("could not download file")},i.send()}function Vq(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function r_(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Oy=Fn.saveAs||((typeof window>"u"?"undefined":Yi(window))!=="object"||window!==Fn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var i=Fn.URL||Fn.webkitURL,r=document.createElement("a");t=t||e.name||"download",r.download=t,r.rel="noopener",typeof e=="string"?(r.href=e,r.origin!==location.origin?Vq(r.href)?YC(e,t,n):r_(r,r.target="_blank"):r_(r)):(r.href=i.createObjectURL(e),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){r_(r)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(Vq(e))YC(e,t,n);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout(function(){r_(i)})}else navigator.msSaveOrOpenBlob((function(r,a){return a===void 0?a={autoBom:!1}:Yi(a)!=="object"&&(dr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r})(e,n),t)}:function(e,t,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof e=="string")return YC(e,t,n);var r=e.type==="application/octet-stream",a=/constructor/i.test(Fn.HTMLElement)||Fn.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||r&&a)&&(typeof FileReader>"u"?"undefined":Yi(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=d:location=d,i=null},l.readAsDataURL(e)}else{var c=Fn.URL||Fn.webkitURL,u=c.createObjectURL(e);i?i.location=u:location.href=u,i=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Fde(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],i=0;i<n.length;i++){var r=n[i].re,a=n[i].process,o=r.exec(e);o&&(t=a(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}var lA=Fn.atob.bind(Fn),Kq=Fn.btoa.bind(Fn);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function JC(e,t){var n=e[0],i=e[1],r=e[2],a=e[3];n=Ks(n,i,r,a,t[0],7,-680876936),a=Ks(a,n,i,r,t[1],12,-389564586),r=Ks(r,a,n,i,t[2],17,606105819),i=Ks(i,r,a,n,t[3],22,-1044525330),n=Ks(n,i,r,a,t[4],7,-176418897),a=Ks(a,n,i,r,t[5],12,1200080426),r=Ks(r,a,n,i,t[6],17,-1473231341),i=Ks(i,r,a,n,t[7],22,-45705983),n=Ks(n,i,r,a,t[8],7,1770035416),a=Ks(a,n,i,r,t[9],12,-1958414417),r=Ks(r,a,n,i,t[10],17,-42063),i=Ks(i,r,a,n,t[11],22,-1990404162),n=Ks(n,i,r,a,t[12],7,1804603682),a=Ks(a,n,i,r,t[13],12,-40341101),r=Ks(r,a,n,i,t[14],17,-1502002290),n=Gs(n,i=Ks(i,r,a,n,t[15],22,1236535329),r,a,t[1],5,-165796510),a=Gs(a,n,i,r,t[6],9,-1069501632),r=Gs(r,a,n,i,t[11],14,643717713),i=Gs(i,r,a,n,t[0],20,-373897302),n=Gs(n,i,r,a,t[5],5,-701558691),a=Gs(a,n,i,r,t[10],9,38016083),r=Gs(r,a,n,i,t[15],14,-660478335),i=Gs(i,r,a,n,t[4],20,-405537848),n=Gs(n,i,r,a,t[9],5,568446438),a=Gs(a,n,i,r,t[14],9,-1019803690),r=Gs(r,a,n,i,t[3],14,-187363961),i=Gs(i,r,a,n,t[8],20,1163531501),n=Gs(n,i,r,a,t[13],5,-1444681467),a=Gs(a,n,i,r,t[2],9,-51403784),r=Gs(r,a,n,i,t[7],14,1735328473),n=Hs(n,i=Gs(i,r,a,n,t[12],20,-1926607734),r,a,t[5],4,-378558),a=Hs(a,n,i,r,t[8],11,-2022574463),r=Hs(r,a,n,i,t[11],16,1839030562),i=Hs(i,r,a,n,t[14],23,-35309556),n=Hs(n,i,r,a,t[1],4,-1530992060),a=Hs(a,n,i,r,t[4],11,1272893353),r=Hs(r,a,n,i,t[7],16,-155497632),i=Hs(i,r,a,n,t[10],23,-1094730640),n=Hs(n,i,r,a,t[13],4,681279174),a=Hs(a,n,i,r,t[0],11,-358537222),r=Hs(r,a,n,i,t[3],16,-722521979),i=Hs(i,r,a,n,t[6],23,76029189),n=Hs(n,i,r,a,t[9],4,-640364487),a=Hs(a,n,i,r,t[12],11,-421815835),r=Hs(r,a,n,i,t[15],16,530742520),n=qs(n,i=Hs(i,r,a,n,t[2],23,-995338651),r,a,t[0],6,-198630844),a=qs(a,n,i,r,t[7],10,1126891415),r=qs(r,a,n,i,t[14],15,-1416354905),i=qs(i,r,a,n,t[5],21,-57434055),n=qs(n,i,r,a,t[12],6,1700485571),a=qs(a,n,i,r,t[3],10,-1894986606),r=qs(r,a,n,i,t[10],15,-1051523),i=qs(i,r,a,n,t[1],21,-2054922799),n=qs(n,i,r,a,t[8],6,1873313359),a=qs(a,n,i,r,t[15],10,-30611744),r=qs(r,a,n,i,t[6],15,-1560198380),i=qs(i,r,a,n,t[13],21,1309151649),n=qs(n,i,r,a,t[4],6,-145523070),a=qs(a,n,i,r,t[11],10,-1120210379),r=qs(r,a,n,i,t[2],15,718787259),i=qs(i,r,a,n,t[9],21,-343485551),e[0]=Jp(n,e[0]),e[1]=Jp(i,e[1]),e[2]=Jp(r,e[2]),e[3]=Jp(a,e[3])}function tj(e,t,n,i,r,a){return t=Jp(Jp(t,e),Jp(i,a)),Jp(t<<r|t>>>32-r,n)}function Ks(e,t,n,i,r,a,o){return tj(t&n|~t&i,e,t,r,a,o)}function Gs(e,t,n,i,r,a,o){return tj(t&i|n&~i,e,t,r,a,o)}function Hs(e,t,n,i,r,a,o){return tj(t^n^i,e,t,r,a,o)}function qs(e,t,n,i,r,a,o){return tj(n^(t|~i),e,t,r,a,o)}function Bde(e){var t,n=e.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)JC(i,eYe(e.substring(t-64,t)));e=e.substring(t-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)r[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(JC(i,r),t=0;t<16;t++)r[t]=0;return r[14]=8*n,JC(i,r),i}function eYe(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}var Gq="0123456789abcdef".split("");function tYe(e){for(var t="",n=0;n<4;n++)t+=Gq[e>>8*n+4&15]+Gq[e>>8*n&15];return t}function nYe(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function pM(e){return Bde(e).map(nYe).join("")}var iYe=(function(e){for(var t=0;t<e.length;t++)e[t]=tYe(e[t]);return e.join("")})(Bde("hello"))!="5d41402abc4b2a76b9719d911017c592";function Jp(e,t){if(iYe){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function mM(e,t){var n,i,r,a;if(e!==n){for(var o=(r=e,a=1+(256/e.length|0),new Array(a+1).join(r)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+o.charCodeAt(c))%256,l[c]=l[u],l[u]=d}n=e,i=l}else l=i;var h=t.length,m=0,p=0,v="";for(c=0;c<h;c++)p=(p+(d=l[m=(m+1)%256]))%256,l[m]=l[p],l[p]=d,o=l[(l[m]+l[p])%256],v+=String.fromCharCode(t.charCodeAt(c)^o);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Hq={print:4,modify:8,copy:16,"annot-forms":32};function v0(e,t,n,i){this.v=1,this.r=2;var r=192;e.forEach(function(l){if(Hq.perm!==void 0)throw new Error("Invalid permission: "+l);r+=Hq[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^r)),this.encryptionKey=pM(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=mM(this.encryptionKey,this.padding)}function S0(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,i=0;i<n;i++){var r=e.charCodeAt(i);t+=r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?"#"+("0"+r.toString(16)).slice(-2):e[i]}return t}function qq(e){if(Yi(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,i,r){if(r=r||!1,typeof n!="string"||typeof i!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var a=Math.random().toString(35);return t[n][a]=[i,!!r],a},this.unsubscribe=function(n){for(var i in t)if(t[i][n])return delete t[i][n],Object.keys(t[i]).length===0&&delete t[i],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var a in t[n]){var o=t[n][a];try{o[0].apply(e,i)}catch(l){Fn.console&&dr.error("jsPDF PubSub Error",l.message,l)}o[1]&&r.push(a)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function TR(e){if(!(this instanceof TR))return new TR(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function zde(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function ky(e,t,n,i,r){if(!(this instanceof ky))return new ky(e,t,n,i,r);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,zde.call(this,i,r)}function w0(e,t,n,i,r){if(!(this instanceof w0))return new w0(e,t,n,i,r);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,zde.call(this,i,r)}function Sn(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],r=arguments[2],a=arguments[3],o=[],l=1,c=16,u="S",d=null;Yi(e=e||{})==="object"&&(n=e.orientation,i=e.unit||i,r=e.format||r,a=e.compress||e.compressPdf||a,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(a===!0?["FlateEncode"]:o),i=i||"mm",n=(""+(n||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,m={},p={internal:{},__private__:{}};p.__private__.PubSub=qq;var v="1.3",S=p.__private__.getPdfVersion=function(){return v};p.__private__.setPdfVersion=function(W){v=W};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return b};var w=p.__private__.getPageFormat=function(W){return b[W]};r=r||"a4";var R="compat",E="advanced",_=R;function N(){this.saveGraphicsState(),ue(new Vt(xt,0,0,-xt,0,Jc()*xt).toString()+" cm"),this.setFontSize(this.getFontSize()/xt),u="n",_=E}function O(){this.restoreGraphicsState(),u="S",_=R}var j=p.__private__.combineFontStyleAndFontWeight=function(W,ye){if(W=="bold"&&ye=="normal"||W=="bold"&&ye==400||W=="normal"&&ye=="italic"||W=="bold"&&ye=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ye&&(W=ye==400||ye==="normal"?W==="italic"?"italic":"normal":ye!=700&&ye!=="bold"||W!=="normal"?(ye==700?"bold":ye)+""+W:"bold"),W};p.advancedAPI=function(W){var ye=_===R;return ye&&N.call(this),typeof W!="function"||(W(this),ye&&O.call(this)),this},p.compatAPI=function(W){var ye=_===E;return ye&&O.call(this),typeof W!="function"||(W(this),ye&&N.call(this)),this},p.isAdvancedAPI=function(){return _===E};var D,P=function(W){if(_!==E)throw new Error(W+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},B=p.roundToPrecision=p.__private__.roundToPrecision=function(W,ye){var je=t||ye;if(isNaN(W)||isNaN(je))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return W.toFixed(je).replace(/0+$/,"")};D=p.hpf=p.__private__.hpf=typeof c=="number"?function(W){if(isNaN(W))throw new Error("Invalid argument passed to jsPDF.hpf");return B(W,c)}:c==="smart"?function(W){if(isNaN(W))throw new Error("Invalid argument passed to jsPDF.hpf");return B(W,W>-1&&W<1?16:5)}:function(W){if(isNaN(W))throw new Error("Invalid argument passed to jsPDF.hpf");return B(W,16)};var M=p.f2=p.__private__.f2=function(W){if(isNaN(W))throw new Error("Invalid argument passed to jsPDF.f2");return B(W,2)},z=p.__private__.f3=function(W){if(isNaN(W))throw new Error("Invalid argument passed to jsPDF.f3");return B(W,3)},U=p.scale=p.__private__.scale=function(W){if(isNaN(W))throw new Error("Invalid argument passed to jsPDF.scale");return _===R?W*xt:_===E?W:void 0},K=function(W){return U((function(ye){return _===R?Jc()-ye:_===E?ye:void 0})(W))};p.__private__.setPrecision=p.setPrecision=function(W){typeof parseInt(W,10)=="number"&&(t=parseInt(W,10))};var te,q="00000000000000000000000000000000",V=p.__private__.getFileId=function(){return q},Q=p.__private__.setFileId=function(W){return q=W!==void 0&&/^[a-fA-F0-9]{32}$/.test(W)?W.toUpperCase():q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Gr=new v0(d.userPermissions,d.userPassword,d.ownerPassword,q)),q};p.setFileId=function(W){return Q(W),this},p.getFileId=function(){return V()};var ce=p.__private__.convertDateToPDFDate=function(W){var ye=W.getTimezoneOffset(),je=ye<0?"+":"-",Pe=Math.floor(Math.abs(ye/60)),Ke=Math.abs(ye%60),yt=[je,Y(Pe),"'",Y(Ke),"'"].join("");return["D:",W.getFullYear(),Y(W.getMonth()+1),Y(W.getDate()),Y(W.getHours()),Y(W.getMinutes()),Y(W.getSeconds()),yt].join("")},ae=p.__private__.convertPDFDateToDate=function(W){var ye=parseInt(W.substr(2,4),10),je=parseInt(W.substr(6,2),10)-1,Pe=parseInt(W.substr(8,2),10),Ke=parseInt(W.substr(10,2),10),yt=parseInt(W.substr(12,2),10),Nt=parseInt(W.substr(14,2),10);return new Date(ye,je,Pe,Ke,yt,Nt,0)},G=p.__private__.setCreationDate=function(W){var ye;if(W===void 0&&(W=new Date),W instanceof Date)ye=ce(W);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(W))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ye=W}return te=ye},H=p.__private__.getCreationDate=function(W){var ye=te;return W==="jsDate"&&(ye=ae(te)),ye};p.setCreationDate=function(W){return G(W),this},p.getCreationDate=function(W){return H(W)};var T,Y=p.__private__.padd2=function(W){return("0"+parseInt(W)).slice(-2)},ie=p.__private__.padd2Hex=function(W){return("00"+(W=W.toString())).substr(W.length)},ne=0,J=[],ee=[],se=0,de=[],he=[],me=!1,we=ee;p.__private__.setCustomOutputDestination=function(W){me=!0,we=W};var le=function(W){me||(we=W)};p.__private__.resetCustomOutputDestination=function(){me=!1,we=ee};var ue=p.__private__.out=function(W){return W=W.toString(),se+=W.length+1,we.push(W),we},De=p.__private__.write=function(W){return ue(arguments.length===1?W.toString():Array.prototype.join.call(arguments," "))},Le=p.__private__.getArrayBuffer=function(W){for(var ye=W.length,je=new ArrayBuffer(ye),Pe=new Uint8Array(je);ye--;)Pe[ye]=W.charCodeAt(ye);return je},Be=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Be};var ke=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(W){return ke=_===E?W/xt:W,this};var Ee,lt=p.__private__.getFontSize=p.getFontSize=function(){return _===R?ke:ke*xt},Mt=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(W){return Mt=W,this},p.__private__.getR2L=p.getR2L=function(){return Mt};var St,tt=p.__private__.setZoomMode=function(W){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(W))Ee=W;else if(isNaN(W)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(W)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+W+'" is not recognized.');Ee=W}else Ee=parseInt(W,10)};p.__private__.getZoomMode=function(){return Ee};var Je,Ve=p.__private__.setPageMode=function(W){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(W)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+W+'" is not recognized.');St=W};p.__private__.getPageMode=function(){return St};var qt=p.__private__.setLayoutMode=function(W){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(W)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+W+'" is not recognized.');Je=W};p.__private__.getLayoutMode=function(){return Je},p.__private__.setDisplayMode=p.setDisplayMode=function(W,ye,je){return tt(W),qt(ye),Ve(je),this};var Et={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(W){if(Object.keys(Et).indexOf(W)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Et[W]},p.__private__.getDocumentProperties=function(){return Et},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(W){for(var ye in Et)Et.hasOwnProperty(ye)&&W[ye]&&(Et[ye]=W[ye]);return this},p.__private__.setDocumentProperty=function(W,ye){if(Object.keys(Et).indexOf(W)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Et[W]=ye};var rt,xt,Te,Ot,$t,jt={},Ht={},Ie=[],nt={},Lt={},kt={},vn={},Rn=null,yn=0,Ut=[],ut=new qq(p),Ft=e.hotfixes||[],Zt={},Wt={},Bn=[],Vt=function W(ye,je,Pe,Ke,yt,Nt){if(!(this instanceof W))return new W(ye,je,Pe,Ke,yt,Nt);isNaN(ye)&&(ye=1),isNaN(je)&&(je=0),isNaN(Pe)&&(Pe=0),isNaN(Ke)&&(Ke=1),isNaN(yt)&&(yt=0),isNaN(Nt)&&(Nt=0),this._matrix=[ye,je,Pe,Ke,yt,Nt]};Object.defineProperty(Vt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(W){this._matrix[0]=W}}),Object.defineProperty(Vt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(W){this._matrix[1]=W}}),Object.defineProperty(Vt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(W){this._matrix[2]=W}}),Object.defineProperty(Vt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(W){this._matrix[3]=W}}),Object.defineProperty(Vt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(W){this._matrix[4]=W}}),Object.defineProperty(Vt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(W){this._matrix[5]=W}}),Object.defineProperty(Vt.prototype,"a",{get:function(){return this._matrix[0]},set:function(W){this._matrix[0]=W}}),Object.defineProperty(Vt.prototype,"b",{get:function(){return this._matrix[1]},set:function(W){this._matrix[1]=W}}),Object.defineProperty(Vt.prototype,"c",{get:function(){return this._matrix[2]},set:function(W){this._matrix[2]=W}}),Object.defineProperty(Vt.prototype,"d",{get:function(){return this._matrix[3]},set:function(W){this._matrix[3]=W}}),Object.defineProperty(Vt.prototype,"e",{get:function(){return this._matrix[4]},set:function(W){this._matrix[4]=W}}),Object.defineProperty(Vt.prototype,"f",{get:function(){return this._matrix[5]},set:function(W){this._matrix[5]=W}}),Object.defineProperty(Vt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Vt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Vt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Vt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Vt.prototype.join=function(W){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(W)},Vt.prototype.multiply=function(W){var ye=W.sx*this.sx+W.shy*this.shx,je=W.sx*this.shy+W.shy*this.sy,Pe=W.shx*this.sx+W.sy*this.shx,Ke=W.shx*this.shy+W.sy*this.sy,yt=W.tx*this.sx+W.ty*this.shx+this.tx,Nt=W.tx*this.shy+W.ty*this.sy+this.ty;return new Vt(ye,je,Pe,Ke,yt,Nt)},Vt.prototype.decompose=function(){var W=this.sx,ye=this.shy,je=this.shx,Pe=this.sy,Ke=this.tx,yt=this.ty,Nt=Math.sqrt(W*W+ye*ye),on=(W/=Nt)*je+(ye/=Nt)*Pe;je-=W*on,Pe-=ye*on;var hn=Math.sqrt(je*je+Pe*Pe);return on/=hn,W*(Pe/=hn)<ye*(je/=hn)&&(W=-W,ye=-ye,on=-on,Nt=-Nt),{scale:new Vt(Nt,0,0,hn,0,0),translate:new Vt(1,0,0,1,Ke,yt),rotate:new Vt(W,ye,-ye,W,0,0),skew:new Vt(1,0,on,1,0,0)}},Vt.prototype.toString=function(W){return this.join(" ")},Vt.prototype.inversed=function(){var W=this.sx,ye=this.shy,je=this.shx,Pe=this.sy,Ke=this.tx,yt=this.ty,Nt=1/(W*Pe-ye*je),on=Pe*Nt,hn=-ye*Nt,Ln=-je*Nt,zn=W*Nt;return new Vt(on,hn,Ln,zn,-on*Ke-Ln*yt,-hn*Ke-zn*yt)},Vt.prototype.applyToPoint=function(W){var ye=W.x*this.sx+W.y*this.shx+this.tx,je=W.x*this.shy+W.y*this.sy+this.ty;return new nc(ye,je)},Vt.prototype.applyToRectangle=function(W){var ye=this.applyToPoint(W),je=this.applyToPoint(new nc(W.x+W.w,W.y+W.h));return new qc(ye.x,ye.y,je.x-ye.x,je.y-ye.y)},Vt.prototype.clone=function(){var W=this.sx,ye=this.shy,je=this.shx,Pe=this.sy,Ke=this.tx,yt=this.ty;return new Vt(W,ye,je,Pe,Ke,yt)},p.Matrix=Vt;var br=p.matrixMult=function(W,ye){return ye.multiply(W)},Ur=new Vt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Ur;var Qi=function(W,ye){if(!Lt[W]){var je=(ye instanceof ky?"Sh":"P")+(Object.keys(nt).length+1).toString(10);ye.id=je,Lt[W]=je,nt[je]=ye,ut.publish("addPattern",ye)}};p.ShadingPattern=ky,p.TilingPattern=w0,p.addShadingPattern=function(W,ye){return P("addShadingPattern()"),Qi(W,ye),this},p.beginTilingPattern=function(W){P("beginTilingPattern()"),uf(W.boundingBox[0],W.boundingBox[1],W.boundingBox[2]-W.boundingBox[0],W.boundingBox[3]-W.boundingBox[1],W.matrix)},p.endTilingPattern=function(W,ye){P("endTilingPattern()"),ye.stream=he[T].join(`
`),Qi(W,ye),ut.publish("endTilingPattern",ye),Bn.pop().restore()};var Mi,Ii=p.__private__.newObject=function(){var W=xr();return Vr(W,!0),W},xr=p.__private__.newObjectDeferred=function(){return ne++,J[ne]=function(){return se},ne},Vr=function(W,ye){return ye=typeof ye=="boolean"&&ye,J[W]=se,ye&&ue(W+" 0 obj"),W},Xu=p.__private__.newAdditionalObject=function(){var W={objId:xr(),content:""};return de.push(W),W},_s=xr(),Ki=xr(),wr=p.__private__.decodeColorString=function(W){var ye=W.split(" ");if(ye.length!==2||ye[1]!=="g"&&ye[1]!=="G")ye.length!==5||ye[4]!=="k"&&ye[4]!=="K"||(ye=[(1-ye[0])*(1-ye[3]),(1-ye[1])*(1-ye[3]),(1-ye[2])*(1-ye[3]),"r"]);else{var je=parseFloat(ye[0]);ye=[je,je,je,"r"]}for(var Pe="#",Ke=0;Ke<3;Ke++)Pe+=("0"+Math.floor(255*parseFloat(ye[Ke])).toString(16)).slice(-2);return Pe},ss=p.__private__.encodeColorString=function(W){var ye;typeof W=="string"&&(W={ch1:W});var je=W.ch1,Pe=W.ch2,Ke=W.ch3,yt=W.ch4,Nt=W.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof je=="string"&&je.charAt(0)!=="#"){var on=new Fde(je);if(on.ok)je=on.toHex();else if(!/^\d*\.?\d*$/.test(je))throw new Error('Invalid color "'+je+'" passed to jsPDF.encodeColorString.')}if(typeof je=="string"&&/^#[0-9A-Fa-f]{3}$/.test(je)&&(je="#"+je[1]+je[1]+je[2]+je[2]+je[3]+je[3]),typeof je=="string"&&/^#[0-9A-Fa-f]{6}$/.test(je)){var hn=parseInt(je.substr(1),16);je=hn>>16&255,Pe=hn>>8&255,Ke=255&hn}if(Pe===void 0||yt===void 0&&je===Pe&&Pe===Ke)ye=typeof je=="string"?je+" "+Nt[0]:W.precision===2?M(je/255)+" "+Nt[0]:z(je/255)+" "+Nt[0];else if(yt===void 0||Yi(yt)==="object"){if(yt&&!isNaN(yt.a)&&yt.a===0)return["1.","1.","1.",Nt[1]].join(" ");ye=typeof je=="string"?[je,Pe,Ke,Nt[1]].join(" "):W.precision===2?[M(je/255),M(Pe/255),M(Ke/255),Nt[1]].join(" "):[z(je/255),z(Pe/255),z(Ke/255),Nt[1]].join(" ")}else ye=typeof je=="string"?[je,Pe,Ke,yt,Nt[2]].join(" "):W.precision===2?[M(je),M(Pe),M(Ke),M(yt),Nt[2]].join(" "):[z(je),z(Pe),z(Ke),z(yt),Nt[2]].join(" ");return ye},ao=p.__private__.getFilters=function(){return o},Co=p.__private__.putStream=function(W){var ye=(W=W||{}).data||"",je=W.filters||ao(),Pe=W.alreadyAppliedFilters||[],Ke=W.addLength1||!1,yt=ye.length,Nt=W.objectId,on=function(ma){return ma};if(d!==null&&Nt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(on=Gr.encryptor(Nt,0));var hn={};je===!0&&(je=["FlateEncode"]);var Ln=W.additionalKeyValues||[],zn=(hn=Sn.API.processDataByFilters!==void 0?Sn.API.processDataByFilters(ye,je):{data:ye,reverseChain:[]}).reverseChain+(Array.isArray(Pe)?Pe.join(" "):Pe.toString());if(hn.data.length!==0&&(Ln.push({key:"Length",value:hn.data.length}),Ke===!0&&Ln.push({key:"Length1",value:yt})),zn.length!=0)if(zn.split("/").length-1==1)Ln.push({key:"Filter",value:zn});else{Ln.push({key:"Filter",value:"["+zn+"]"});for(var Ai=0;Ai<Ln.length;Ai+=1)if(Ln[Ai].key==="DecodeParms"){for(var Er=[],Hr=0;Hr<hn.reverseChain.split("/").length-1;Hr+=1)Er.push("null");Er.push(Ln[Ai].value),Ln[Ai].value="["+Er.join(" ")+"]"}}ue("<<");for(var Xi=0;Xi<Ln.length;Xi++)ue("/"+Ln[Xi].key+" "+Ln[Xi].value);ue(">>"),hn.data.length!==0&&(ue("stream"),ue(on(hn.data)),ue("endstream"))},nf=p.__private__.putPage=function(W){var ye=W.number,je=W.data,Pe=W.objId,Ke=W.contentsObjId;Vr(Pe,!0),ue("<</Type /Page"),ue("/Parent "+W.rootDictionaryObjId+" 0 R"),ue("/Resources "+W.resourceDictionaryObjId+" 0 R"),ue("/MediaBox ["+parseFloat(D(W.mediaBox.bottomLeftX))+" "+parseFloat(D(W.mediaBox.bottomLeftY))+" "+D(W.mediaBox.topRightX)+" "+D(W.mediaBox.topRightY)+"]"),W.cropBox!==null&&ue("/CropBox ["+D(W.cropBox.bottomLeftX)+" "+D(W.cropBox.bottomLeftY)+" "+D(W.cropBox.topRightX)+" "+D(W.cropBox.topRightY)+"]"),W.bleedBox!==null&&ue("/BleedBox ["+D(W.bleedBox.bottomLeftX)+" "+D(W.bleedBox.bottomLeftY)+" "+D(W.bleedBox.topRightX)+" "+D(W.bleedBox.topRightY)+"]"),W.trimBox!==null&&ue("/TrimBox ["+D(W.trimBox.bottomLeftX)+" "+D(W.trimBox.bottomLeftY)+" "+D(W.trimBox.topRightX)+" "+D(W.trimBox.topRightY)+"]"),W.artBox!==null&&ue("/ArtBox ["+D(W.artBox.bottomLeftX)+" "+D(W.artBox.bottomLeftY)+" "+D(W.artBox.topRightX)+" "+D(W.artBox.topRightY)+"]"),typeof W.userUnit=="number"&&W.userUnit!==1&&ue("/UserUnit "+W.userUnit),ut.publish("putPage",{objId:Pe,pageContext:Ut[ye],pageNumber:ye,page:je}),ue("/Contents "+Ke+" 0 R"),ue(">>"),ue("endobj");var yt=je.join(`
`);return _===E&&(yt+=`
Q`),Vr(Ke,!0),Co({data:yt,filters:ao(),objectId:Ke}),ue("endobj"),Pe},ul=p.__private__.putPages=function(){var W,ye,je=[];for(W=1;W<=yn;W++)Ut[W].objId=xr(),Ut[W].contentsObjId=xr();for(W=1;W<=yn;W++)je.push(nf({number:W,data:he[W],objId:Ut[W].objId,contentsObjId:Ut[W].contentsObjId,mediaBox:Ut[W].mediaBox,cropBox:Ut[W].cropBox,bleedBox:Ut[W].bleedBox,trimBox:Ut[W].trimBox,artBox:Ut[W].artBox,userUnit:Ut[W].userUnit,rootDictionaryObjId:_s,resourceDictionaryObjId:Ki}));Vr(_s,!0),ue("<</Type /Pages");var Pe="/Kids [";for(ye=0;ye<yn;ye++)Pe+=je[ye]+" 0 R ";ue(Pe+"]"),ue("/Count "+yn),ue(">>"),ue("endobj"),ut.publish("postPutPages")},dl=function(W){ut.publish("putFont",{font:W,out:ue,newObject:Ii,putStream:Co}),W.isAlreadyPutted!==!0&&(W.objectNumber=Ii(),ue("<<"),ue("/Type /Font"),ue("/BaseFont /"+S0(W.postScriptName)),ue("/Subtype /Type1"),typeof W.encoding=="string"&&ue("/Encoding /"+W.encoding),ue("/FirstChar 32"),ue("/LastChar 255"),ue(">>"),ue("endobj"))},Zu=function(W){W.objectNumber=Ii();var ye=[];ye.push({key:"Type",value:"/XObject"}),ye.push({key:"Subtype",value:"/Form"}),ye.push({key:"BBox",value:"["+[D(W.x),D(W.y),D(W.x+W.width),D(W.y+W.height)].join(" ")+"]"}),ye.push({key:"Matrix",value:"["+W.matrix.toString()+"]"});var je=W.pages[1].join(`
`);Co({data:je,additionalKeyValues:ye,objectId:W.objectNumber}),ue("endobj")},fl=function(W,ye){ye||(ye=21);var je=Ii(),Pe=(function(Nt,on){var hn,Ln=[],zn=1/(on-1);for(hn=0;hn<1;hn+=zn)Ln.push(hn);if(Ln.push(1),Nt[0].offset!=0){var Ai={offset:0,color:Nt[0].color};Nt.unshift(Ai)}if(Nt[Nt.length-1].offset!=1){var Er={offset:1,color:Nt[Nt.length-1].color};Nt.push(Er)}for(var Hr="",Xi=0,ma=0;ma<Ln.length;ma++){for(hn=Ln[ma];hn>Nt[Xi+1].offset;)Xi++;var ea=Nt[Xi].offset,za=(hn-ea)/(Nt[Xi+1].offset-ea),To=Nt[Xi].color,Fs=Nt[Xi+1].color;Hr+=ie(Math.round((1-za)*To[0]+za*Fs[0]).toString(16))+ie(Math.round((1-za)*To[1]+za*Fs[1]).toString(16))+ie(Math.round((1-za)*To[2]+za*Fs[2]).toString(16))}return Hr.trim()})(W.colors,ye),Ke=[];Ke.push({key:"FunctionType",value:"0"}),Ke.push({key:"Domain",value:"[0.0 1.0]"}),Ke.push({key:"Size",value:"["+ye+"]"}),Ke.push({key:"BitsPerSample",value:"8"}),Ke.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ke.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Co({data:Pe,additionalKeyValues:Ke,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:je}),ue("endobj"),W.objectNumber=Ii(),ue("<< /ShadingType "+W.type),ue("/ColorSpace /DeviceRGB");var yt="/Coords ["+D(parseFloat(W.coords[0]))+" "+D(parseFloat(W.coords[1]))+" ";W.type===2?yt+=D(parseFloat(W.coords[2]))+" "+D(parseFloat(W.coords[3])):yt+=D(parseFloat(W.coords[2]))+" "+D(parseFloat(W.coords[3]))+" "+D(parseFloat(W.coords[4]))+" "+D(parseFloat(W.coords[5])),ue(yt+="]"),W.matrix&&ue("/Matrix ["+W.matrix.toString()+"]"),ue("/Function "+je+" 0 R"),ue("/Extend [true true]"),ue(">>"),ue("endobj")},hl=function(W,ye){var je=xr(),Pe=Ii();ye.push({resourcesOid:je,objectOid:Pe}),W.objectNumber=Pe;var Ke=[];Ke.push({key:"Type",value:"/Pattern"}),Ke.push({key:"PatternType",value:"1"}),Ke.push({key:"PaintType",value:"1"}),Ke.push({key:"TilingType",value:"1"}),Ke.push({key:"BBox",value:"["+W.boundingBox.map(D).join(" ")+"]"}),Ke.push({key:"XStep",value:D(W.xStep)}),Ke.push({key:"YStep",value:D(W.yStep)}),Ke.push({key:"Resources",value:je+" 0 R"}),W.matrix&&Ke.push({key:"Matrix",value:"["+W.matrix.toString()+"]"}),Co({data:W.stream,additionalKeyValues:Ke,objectId:W.objectNumber}),ue("endobj")},rf=function(W){for(var ye in W.objectNumber=Ii(),ue("<<"),W)switch(ye){case"opacity":ue("/ca "+M(W[ye]));break;case"stroke-opacity":ue("/CA "+M(W[ye]))}ue(">>"),ue("endobj")},Zl=function(W){Vr(W.resourcesOid,!0),ue("<<"),ue("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var ye in ue("/Font <<"),jt)jt.hasOwnProperty(ye)&&(h===!1||h===!0&&m.hasOwnProperty(ye))&&ue("/"+ye+" "+jt[ye].objectNumber+" 0 R");ue(">>")})(),(function(){if(Object.keys(nt).length>0){for(var ye in ue("/Shading <<"),nt)nt.hasOwnProperty(ye)&&nt[ye]instanceof ky&&nt[ye].objectNumber>=0&&ue("/"+ye+" "+nt[ye].objectNumber+" 0 R");ut.publish("putShadingPatternDict"),ue(">>")}})(),(function(ye){if(Object.keys(nt).length>0){for(var je in ue("/Pattern <<"),nt)nt.hasOwnProperty(je)&&nt[je]instanceof p.TilingPattern&&nt[je].objectNumber>=0&&nt[je].objectNumber<ye&&ue("/"+je+" "+nt[je].objectNumber+" 0 R");ut.publish("putTilingPatternDict"),ue(">>")}})(W.objectOid),(function(){if(Object.keys(kt).length>0){var ye;for(ye in ue("/ExtGState <<"),kt)kt.hasOwnProperty(ye)&&kt[ye].objectNumber>=0&&ue("/"+ye+" "+kt[ye].objectNumber+" 0 R");ut.publish("putGStateDict"),ue(">>")}})(),(function(){for(var ye in ue("/XObject <<"),Zt)Zt.hasOwnProperty(ye)&&Zt[ye].objectNumber>=0&&ue("/"+ye+" "+Zt[ye].objectNumber+" 0 R");ut.publish("putXobjectDict"),ue(">>")})(),ue(">>"),ue("endobj")},Kr=function(W){Ht[W.fontName]=Ht[W.fontName]||{},Ht[W.fontName][W.fontStyle]=W.id},$m=function(W,ye,je,Pe,Ke){var yt={id:"F"+(Object.keys(jt).length+1).toString(10),postScriptName:W,fontName:ye,fontStyle:je,encoding:Pe,isStandardFont:Ke||!1,metadata:{}};return ut.publish("addFont",{font:yt,instance:this}),jt[yt.id]=yt,Kr(yt),yt.id},so=p.__private__.pdfEscape=p.pdfEscape=function(W,ye){return(function(je,Pe){var Ke,yt,Nt,on,hn,Ln,zn,Ai,Er;if(Nt=(Pe=Pe||{}).sourceEncoding||"Unicode",hn=Pe.outputEncoding,(Pe.autoencode||hn)&&jt[rt].metadata&&jt[rt].metadata[Nt]&&jt[rt].metadata[Nt].encoding&&(on=jt[rt].metadata[Nt].encoding,!hn&&jt[rt].encoding&&(hn=jt[rt].encoding),!hn&&on.codePages&&(hn=on.codePages[0]),typeof hn=="string"&&(hn=on[hn]),hn)){for(zn=!1,Ln=[],Ke=0,yt=je.length;Ke<yt;Ke++)(Ai=hn[je.charCodeAt(Ke)])?Ln.push(String.fromCharCode(Ai)):Ln.push(je[Ke]),Ln[Ke].charCodeAt(0)>>8&&(zn=!0);je=Ln.join("")}for(Ke=je.length;zn===void 0&&Ke!==0;)je.charCodeAt(Ke-1)>>8&&(zn=!0),Ke--;if(!zn)return je;for(Ln=Pe.noBOM?[]:[254,255],Ke=0,yt=je.length;Ke<yt;Ke++){if((Er=(Ai=je.charCodeAt(Ke))>>8)>>8)throw new Error("Character at position "+Ke+" of string '"+je+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ln.push(Er),Ln.push(Ai-(Er<<8))}return String.fromCharCode.apply(void 0,Ln)})(W,ye).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},pl=p.__private__.beginPage=function(W){he[++yn]=[],Ut[yn]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(W[0]),topRightY:Number(W[1])}},Bm(yn),le(he[T])},zc=function(W,ye){var je,Pe,Ke;switch(n=ye||n,typeof W=="string"&&(je=w(W.toLowerCase()),Array.isArray(je)&&(Pe=je[0],Ke=je[1])),Array.isArray(W)&&(Pe=W[0]*xt,Ke=W[1]*xt),isNaN(Pe)&&(Pe=r[0],Ke=r[1]),(Pe>14400||Ke>14400)&&(dr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Pe=Math.min(14400,Pe),Ke=Math.min(14400,Ke)),r=[Pe,Ke],n.substr(0,1)){case"l":Ke>Pe&&(r=[Ke,Pe]);break;case"p":Pe>Ke&&(r=[Ke,Pe])}pl(r),ed(sf),ue(co),Ph!==0&&ue(Ph+" J"),Ra!==0&&ue(Ra+" j"),ut.publish("addPage",{pageNumber:yn})},Fm=function(W){W>0&&W<=yn&&(he.splice(W,1),Ut.splice(W,1),yn--,T>yn&&(T=yn),this.setPage(T))},Bm=function(W){W>0&&W<=yn&&(T=W)},zm=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return he.length-1},ov=function(W,ye,je){var Pe,Ke=void 0;return je=je||{},W=W!==void 0?W:jt[rt].fontName,ye=ye!==void 0?ye:jt[rt].fontStyle,Pe=W.toLowerCase(),Ht[Pe]!==void 0&&Ht[Pe][ye]!==void 0?Ke=Ht[Pe][ye]:Ht[W]!==void 0&&Ht[W][ye]!==void 0?Ke=Ht[W][ye]:je.disableWarning===!1&&dr.warn("Unable to look up font label for font '"+W+"', '"+ye+"'. Refer to getFontList() for available fonts."),Ke||je.noFallback||(Ke=Ht.times[ye])==null&&(Ke=Ht.times.normal),Ke},Uc=p.__private__.putInfo=function(){var W=Ii(),ye=function(Pe){return Pe};for(var je in d!==null&&(ye=Gr.encryptor(W,0)),ue("<<"),ue("/Producer ("+so(ye("jsPDF "+Sn.version))+")"),Et)Et.hasOwnProperty(je)&&Et[je]&&ue("/"+je.substr(0,1).toUpperCase()+je.substr(1)+" ("+so(ye(Et[je]))+")");ue("/CreationDate ("+so(ye(te))+")"),ue(">>"),ue("endobj")},Mh=p.__private__.putCatalog=function(W){var ye=(W=W||{}).rootDictionaryObjId||_s;switch(Ii(),ue("<<"),ue("/Type /Catalog"),ue("/Pages "+ye+" 0 R"),Ee||(Ee="fullwidth"),Ee){case"fullwidth":ue("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ue("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ue("/OpenAction [3 0 R /Fit]");break;case"original":ue("/OpenAction [3 0 R /XYZ null null 1]");break;default:var je=""+Ee;je.substr(je.length-1)==="%"&&(Ee=parseInt(Ee)/100),typeof Ee=="number"&&ue("/OpenAction [3 0 R /XYZ null null "+M(Ee)+"]")}switch(Je||(Je="continuous"),Je){case"continuous":ue("/PageLayout /OneColumn");break;case"single":ue("/PageLayout /SinglePage");break;case"two":case"twoleft":ue("/PageLayout /TwoColumnLeft");break;case"tworight":ue("/PageLayout /TwoColumnRight")}St&&ue("/PageMode /"+St),ut.publish("putCatalog"),ue(">>"),ue("endobj")},Ui=p.__private__.putTrailer=function(){ue("trailer"),ue("<<"),ue("/Size "+(ne+1)),ue("/Root "+ne+" 0 R"),ue("/Info "+(ne-1)+" 0 R"),d!==null&&ue("/Encrypt "+Gr.oid+" 0 R"),ue("/ID [ <"+q+"> <"+q+"> ]"),ue(">>")},As=p.__private__.putHeader=function(){ue("%PDF-"+v),ue("%")},Um=p.__private__.putXRef=function(){var W="0000000000";ue("xref"),ue("0 "+(ne+1)),ue("0000000000 65535 f ");for(var ye=1;ye<=ne;ye++)typeof J[ye]=="function"?ue((W+J[ye]()).slice(-10)+" 00000 n "):J[ye]!==void 0?ue((W+J[ye]).slice(-10)+" 00000 n "):ue("0000000000 00000 n ")},Vc=p.__private__.buildDocument=function(){var W;ne=0,se=0,ee=[],J=[],de=[],_s=xr(),Ki=xr(),le(ee),ut.publish("buildDocument"),As(),ul(),(function(){ut.publish("putAdditionalObjects");for(var je=0;je<de.length;je++){var Pe=de[je];Vr(Pe.objId,!0),ue(Pe.content),ue("endobj")}ut.publish("postPutAdditionalObjects")})(),W=[],(function(){for(var je in jt)jt.hasOwnProperty(je)&&(h===!1||h===!0&&m.hasOwnProperty(je))&&dl(jt[je])})(),(function(){var je;for(je in kt)kt.hasOwnProperty(je)&&rf(kt[je])})(),(function(){for(var je in Zt)Zt.hasOwnProperty(je)&&Zu(Zt[je])})(),(function(je){var Pe;for(Pe in nt)nt.hasOwnProperty(Pe)&&(nt[Pe]instanceof ky?fl(nt[Pe]):nt[Pe]instanceof w0&&hl(nt[Pe],je))})(W),ut.publish("putResources"),W.forEach(Zl),Zl({resourcesOid:Ki,objectOid:Number.MAX_SAFE_INTEGER}),ut.publish("postPutResources"),d!==null&&(Gr.oid=Ii(),ue("<<"),ue("/Filter /Standard"),ue("/V "+Gr.v),ue("/R "+Gr.r),ue("/U <"+Gr.toHexString(Gr.U)+">"),ue("/O <"+Gr.toHexString(Gr.O)+">"),ue("/P "+Gr.P),ue(">>"),ue("endobj")),Uc(),Mh();var ye=se;return Um(),Ui(),ue("startxref"),ue(""+ye),ue("%%EOF"),le(he[T]),ee.join(`
`)},Kc=p.__private__.getBlob=function(W){return new Blob([Le(W)],{type:"application/pdf"})},Lo=p.output=p.__private__.output=(Mi=function(W,ye){switch(typeof(ye=ye||{})=="string"?ye={filename:ye}:ye.filename=ye.filename||"generated.pdf",W){case void 0:return Vc();case"save":p.save(ye.filename);break;case"arraybuffer":return Le(Vc());case"blob":return Kc(Vc());case"bloburi":case"bloburl":if(Fn.URL!==void 0&&typeof Fn.URL.createObjectURL=="function")return Fn.URL&&Fn.URL.createObjectURL(Kc(Vc()))||void 0;dr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var je="",Pe=Vc();try{je=Kq(Pe)}catch{je=Kq(unescape(encodeURIComponent(Pe)))}return"data:application/pdf;filename="+ye.filename+";base64,"+je;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Fn)==="[object Window]"){var Ke="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",yt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ye.pdfObjectUrl&&(Ke=ye.pdfObjectUrl,yt="");var Nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ke+'"'+yt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ye)+");<\/script></body></html>",on=Fn.open();return on!==null&&on.document.write(Nt),on}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Fn)==="[object Window]"){var hn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ye.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ye.filename+'" width="500px" height="400px" /></body></html>',Ln=Fn.open();if(Ln!==null){Ln.document.write(hn);var zn=this;Ln.document.documentElement.querySelector("#pdfViewer").onload=function(){Ln.document.title=ye.filename,Ln.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(zn.output("bloburl"))}}return Ln}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Fn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ai='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ye)+'"></iframe></body></html>',Er=Fn.open();if(Er!==null&&(Er.document.write(Ai),Er.document.title=ye.filename),Er||typeof safari>"u")return Er;break;case"datauri":case"dataurl":return Fn.document.location.href=this.output("datauristring",ye);default:return null}},Mi.foo=function(){try{return Mi.apply(this,arguments)}catch(je){var W=je.stack||"";~W.indexOf(" at ")&&(W=W.split(" at ")[1]);var ye="Error in function "+W.split(`
`)[0].split("<")[0]+": "+je.message;if(!Fn.console)throw new Error(ye);Fn.console.error(ye,je),Fn.alert&&alert(ye)}},Mi.foo.bar=Mi,Mi.foo),ec=function(W){return Array.isArray(Ft)===!0&&Ft.indexOf(W)>-1};switch(i){case"pt":xt=1;break;case"mm":xt=72/25.4;break;case"cm":xt=72/2.54;break;case"in":xt=72;break;case"px":xt=ec("px_scaling")==1?.75:96/72;break;case"pc":case"em":xt=12;break;case"ex":xt=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);xt=i}var Gr=null;G(),Q();var os=p.__private__.getPageInfo=p.getPageInfo=function(W){if(isNaN(W)||W%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ut[W].objId,pageNumber:W,pageContext:Ut[W]}},Vm=p.__private__.getPageInfoByObjId=function(W){if(isNaN(W)||W%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ye in Ut)if(Ut[ye].objId===W)break;return os(ye)},lv=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Ut[T].objId,pageNumber:T,pageContext:Ut[T]}};p.addPage=function(){return zc.apply(this,arguments),this},p.setPage=function(){return Bm.apply(this,arguments),le.call(this,he[T]),this},p.insertPage=function(W){return this.addPage(),this.movePage(T,W),this},p.movePage=function(W,ye){var je,Pe;if(W>ye){je=he[W],Pe=Ut[W];for(var Ke=W;Ke>ye;Ke--)he[Ke]=he[Ke-1],Ut[Ke]=Ut[Ke-1];he[ye]=je,Ut[ye]=Pe,this.setPage(ye)}else if(W<ye){je=he[W],Pe=Ut[W];for(var yt=W;yt<ye;yt++)he[yt]=he[yt+1],Ut[yt]=Ut[yt+1];he[ye]=je,Ut[ye]=Pe,this.setPage(ye)}return this},p.deletePage=function(){return Fm.apply(this,arguments),this},p.__private__.text=p.text=function(W,ye,je,Pe,Ke){var yt,Nt,on,hn,Ln,zn,Ai,Er,Hr,Xi=(Pe=Pe||{}).scope||this;if(typeof W=="number"&&typeof ye=="number"&&(typeof je=="string"||Array.isArray(je))){var ma=je;je=ye,ye=W,W=ma}if(arguments[3]instanceof Vt==0?(on=arguments[4],hn=arguments[5],Yi(Ai=arguments[3])==="object"&&Ai!==null||(typeof on=="string"&&(hn=on,on=null),typeof Ai=="string"&&(hn=Ai,Ai=null),typeof Ai=="number"&&(on=Ai,Ai=null),Pe={flags:Ai,angle:on,align:hn})):(P("The transform parameter of text() with a Matrix value"),Hr=Ke),isNaN(ye)||isNaN(je)||W==null)throw new Error("Invalid arguments passed to jsPDF.text");if(W.length===0)return Xi;var ea,za="",To=typeof Pe.lineHeightFactor=="number"?Pe.lineHeightFactor:Gc,Fs=Xi.internal.scaleFactor;function yv(Ri){return Ri=Ri.split("	").join(Array(Pe.TabLen||9).join(" ")),so(Ri,Ai)}function $h(Ri){for(var di,Zi=Ri.concat(),Wr=[],dc=Zi.length;dc--;)typeof(di=Zi.shift())=="string"?Wr.push(di):Array.isArray(Ri)&&(di.length===1||di[1]===void 0&&di[2]===void 0)?Wr.push(di[0]):Wr.push([di[0],di[1],di[2]]);return Wr}function ff(Ri,di){var Zi;if(typeof Ri=="string")Zi=di(Ri)[0];else if(Array.isArray(Ri)){for(var Wr,dc,bl=Ri.concat(),mf=[],ey=bl.length;ey--;)typeof(Wr=bl.shift())=="string"?mf.push(di(Wr)[0]):Array.isArray(Wr)&&typeof Wr[0]=="string"&&(dc=di(Wr[0],Wr[1],Wr[2]),mf.push([dc[0],dc[1],dc[2]]));Zi=mf}return Zi}var rc=!1,gl=!0;if(typeof W=="string")rc=!0;else if(Array.isArray(W)){var hf=W.concat();Nt=[];for(var nd,Ua=hf.length;Ua--;)(typeof(nd=hf.shift())!="string"||Array.isArray(nd)&&typeof nd[0]!="string")&&(gl=!1);rc=gl}if(rc===!1)throw new Error('Type of text must be string or Array. "'+W+'" is not recognized.');typeof W=="string"&&(W=W.match(/[\r?\n]/)?W.split(/\r\n|\r|\n/g):[W]);var id=ke/Xi.internal.scaleFactor,rd=id*(To-1);switch(Pe.baseline){case"bottom":je-=rd;break;case"top":je+=id-rd;break;case"hanging":je+=id-2*rd;break;case"middle":je+=id/2-rd}if((zn=Pe.maxWidth||0)>0&&(typeof W=="string"?W=Xi.splitTextToSize(W,zn):Object.prototype.toString.call(W)==="[object Array]"&&(W=W.reduce(function(Ri,di){return Ri.concat(Xi.splitTextToSize(di,zn))},[]))),yt={text:W,x:ye,y:je,options:Pe,mutex:{pdfEscape:so,activeFontKey:rt,fonts:jt,activeFontSize:ke}},ut.publish("preProcessText",yt),W=yt.text,on=(Pe=yt.options).angle,Hr instanceof Vt==0&&on&&typeof on=="number"){on*=Math.PI/180,Pe.rotationDirection===0&&(on=-on),_===E&&(on=-on);var Fh=Math.cos(on),ac=Math.sin(on);Hr=new Vt(Fh,ac,-ac,Fh,0,0)}else on&&on instanceof Vt&&(Hr=on);_!==E||Hr||(Hr=Ur),(Ln=Pe.charSpace||Hc)!==void 0&&(za+=D(U(Ln))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Er=Pe.horizontalScale)!==void 0&&(za+=D(100*Er)+` Tz
`),Pe.lang;var Lr=-1,Qc=Pe.renderingMode!==void 0?Pe.renderingMode:Pe.stroke,Bh=Xi.internal.getCurrentPageInfo().pageContext;switch(Qc){case 0:case!1:case"fill":Lr=0;break;case 1:case!0:case"stroke":Lr=1;break;case 2:case"fillThenStroke":Lr=2;break;case 3:case"invisible":Lr=3;break;case 4:case"fillAndAddForClipping":Lr=4;break;case 5:case"strokeAndAddPathForClipping":Lr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Lr=6;break;case 7:case"addToPathForClipping":Lr=7}var Xm=Bh.usedRenderingMode!==void 0?Bh.usedRenderingMode:-1;Lr!==-1?za+=Lr+` Tr
`:Xm!==-1&&(za+=`0 Tr
`),Lr!==-1&&(Bh.usedRenderingMode=Lr),hn=Pe.align||"left";var fo,vl=ke*To,Xc=Xi.internal.pageSize.getWidth(),Zm=jt[rt];Ln=Pe.charSpace||Hc,zn=Pe.maxWidth||0,Ai=Object.assign({autoencode:!0,noBOM:!0},Pe.flags);var Sl=[],ad=function(Ri){return Xi.getStringUnitWidth(Ri,{font:Zm,charSpace:Ln,fontSize:ke,doKerning:!1})*ke/Fs};if(Object.prototype.toString.call(W)==="[object Array]"){var Bs;Nt=$h(W),hn!=="left"&&(fo=Nt.map(ad));var Ns,sc=0;if(hn==="right"){ye-=fo[0],W=[],Ua=Nt.length;for(var oc=0;oc<Ua;oc++)oc===0?(Ns=lo(ye),Bs=Ba(je)):(Ns=U(sc-fo[oc]),Bs=-vl),W.push([Nt[oc],Ns,Bs]),sc=fo[oc]}else if(hn==="center"){ye-=fo[0]/2,W=[],Ua=Nt.length;for(var Zc=0;Zc<Ua;Zc++)Zc===0?(Ns=lo(ye),Bs=Ba(je)):(Ns=U((sc-fo[Zc])/2),Bs=-vl),W.push([Nt[Zc],Ns,Bs]),sc=fo[Zc]}else if(hn==="left"){W=[],Ua=Nt.length;for(var zh=0;zh<Ua;zh++)W.push(Nt[zh])}else if(hn==="justify"&&Zm.encoding==="Identity-H"){W=[],Ua=Nt.length,zn=zn!==0?zn:Xc;for(var Uh=0,qr=0;qr<Ua;qr++)if(Bs=qr===0?Ba(je):-vl,Ns=qr===0?lo(ye):Uh,qr<Ua-1){var gv=U((zn-fo[qr])/(Nt[qr].split(" ").length-1)),lc=Nt[qr].split(" ");W.push([lc[0]+" ",Ns,Bs]),Uh=0;for(var cc=1;cc<lc.length;cc++){var Va=(ad(lc[cc-1]+" "+lc[cc])-ad(lc[cc]))*Fs+gv;cc==lc.length-1?W.push([lc[cc],Va,0]):W.push([lc[cc]+" ",Va,0]),Uh-=Va}}else W.push([Nt[qr],Ns,Bs]);W.push(["",Uh,0])}else{if(hn!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(W=[],Ua=Nt.length,zn=zn!==0?zn:Xc,qr=0;qr<Ua;qr++){Bs=qr===0?Ba(je):-vl,Ns=qr===0?lo(ye):0;var eu=Nt[qr].split(" ").length-1,Vh=eu>0?(zn-fo[qr])/eu:0;qr<Ua-1?Sl.push(D(U(Vh))):Sl.push(0),W.push([Nt[qr],Ns,Bs])}}}(typeof Pe.R2L=="boolean"?Pe.R2L:Mt)===!0&&(W=ff(W,function(Ri,di,Zi){return[Ri.split("").reverse().join(""),di,Zi]})),yt={text:W,x:ye,y:je,options:Pe,mutex:{pdfEscape:so,activeFontKey:rt,fonts:jt,activeFontSize:ke}},ut.publish("postProcessText",yt),W=yt.text,ea=yt.mutex.isHex||!1;var Kh=jt[rt].encoding;Kh!=="WinAnsiEncoding"&&Kh!=="StandardEncoding"||(W=ff(W,function(Ri,di,Zi){return[yv(Ri),di,Zi]})),Nt=$h(W),W=[];for(var tu,nu,uc,pf=Array.isArray(Nt[0])?1:0,ho="",iu=function(Ri,di,Zi){var Wr="";return Zi instanceof Vt?(Zi=typeof Pe.angle=="number"?br(Zi,new Vt(1,0,0,1,Ri,di)):br(new Vt(1,0,0,1,Ri,di),Zi),_===E&&(Zi=br(new Vt(1,0,0,-1,0,0),Zi)),Wr=Zi.join(" ")+` Tm
`):Wr=D(Ri)+" "+D(di)+` Td
`,Wr},ls=0;ls<Nt.length;ls++){switch(ho="",pf){case 1:uc=(ea?"<":"(")+Nt[ls][0]+(ea?">":")"),tu=parseFloat(Nt[ls][1]),nu=parseFloat(Nt[ls][2]);break;case 0:uc=(ea?"<":"(")+Nt[ls]+(ea?">":")"),tu=lo(ye),nu=Ba(je)}Sl!==void 0&&Sl[ls]!==void 0&&(ho=Sl[ls]+` Tw
`),ls===0?W.push(ho+iu(tu,nu,Hr)+uc):pf===0?W.push(ho+uc):pf===1&&W.push(ho+iu(tu,nu,Hr)+uc)}W=pf===0?W.join(` Tj
T* `):W.join(` Tj
`),W+=` Tj
`;var Mo=`BT
/`;return Mo+=rt+" "+ke+` Tf
`,Mo+=D(ke*To)+` TL
`,Mo+=tc+`
`,Mo+=za,Mo+=W,ue(Mo+="ET"),m[rt]=!0,Xi};var Km=p.__private__.clip=p.clip=function(W){return ue(W==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Km("evenodd")},p.__private__.discardPath=p.discardPath=function(){return ue("n"),this};var Rs=p.__private__.isValidStyle=function(W){var ye=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(W)!==-1&&(ye=!0),ye};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(W){return Rs(W)&&(u=W),this};var Gm=p.__private__.getStyle=p.getStyle=function(W){var ye=u;switch(W){case"D":case"S":ye="S";break;case"F":ye="f";break;case"FD":case"DF":ye="B";break;case"f":case"f*":case"B":case"B*":ye=W}return ye},Hm=p.close=function(){return ue("h"),this};p.stroke=function(){return ue("S"),this},p.fill=function(W){return oo("f",W),this},p.fillEvenOdd=function(W){return oo("f*",W),this},p.fillStroke=function(W){return oo("B",W),this},p.fillStrokeEvenOdd=function(W){return oo("B*",W),this};var oo=function(W,ye){Yi(ye)==="object"?uv(ye,W):ue(W)},qm=function(W){W===null||_===E&&W===void 0||(W=Gm(W),ue(W))};function cv(W,ye,je,Pe,Ke){var yt=new w0(ye||this.boundingBox,je||this.xStep,Pe||this.yStep,this.gState,Ke||this.matrix);yt.stream=this.stream;var Nt=W+"$$"+this.cloneIndex+++"$$";return Qi(Nt,yt),yt}var uv=function(W,ye){var je=Lt[W.key],Pe=nt[je];if(Pe instanceof ky)ue("q"),ue(Wm(ye)),Pe.gState&&p.setGState(Pe.gState),ue(W.matrix.toString()+" cm"),ue("/"+je+" sh"),ue("Q");else if(Pe instanceof w0){var Ke=new Vt(1,0,0,-1,0,Jc());W.matrix&&(Ke=Ke.multiply(W.matrix||Ur),je=cv.call(Pe,W.key,W.boundingBox,W.xStep,W.yStep,Ke).id),ue("q"),ue("/Pattern cs"),ue("/"+je+" scn"),Pe.gState&&p.setGState(Pe.gState),ue(ye),ue("Q")}},Wm=function(W){switch(W){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ym=p.moveTo=function(W,ye){return ue(D(U(W))+" "+D(K(ye))+" m"),this},af=p.lineTo=function(W,ye){return ue(D(U(W))+" "+D(K(ye))+" l"),this},ml=p.curveTo=function(W,ye,je,Pe,Ke,yt){return ue([D(U(W)),D(K(ye)),D(U(je)),D(K(Pe)),D(U(Ke)),D(K(yt)),"c"].join(" ")),this};p.__private__.line=p.line=function(W,ye,je,Pe,Ke){if(isNaN(W)||isNaN(ye)||isNaN(je)||isNaN(Pe)||!Rs(Ke))throw new Error("Invalid arguments passed to jsPDF.line");return _===R?this.lines([[je-W,Pe-ye]],W,ye,[1,1],Ke||"S"):this.lines([[je-W,Pe-ye]],W,ye,[1,1]).stroke()},p.__private__.lines=p.lines=function(W,ye,je,Pe,Ke,yt){var Nt,on,hn,Ln,zn,Ai,Er,Hr,Xi,ma,ea,za;if(typeof W=="number"&&(za=je,je=ye,ye=W,W=za),Pe=Pe||[1,1],yt=yt||!1,isNaN(ye)||isNaN(je)||!Array.isArray(W)||!Array.isArray(Pe)||!Rs(Ke)||typeof yt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ym(ye,je),Nt=Pe[0],on=Pe[1],Ln=W.length,ma=ye,ea=je,hn=0;hn<Ln;hn++)(zn=W[hn]).length===2?(ma=zn[0]*Nt+ma,ea=zn[1]*on+ea,af(ma,ea)):(Ai=zn[0]*Nt+ma,Er=zn[1]*on+ea,Hr=zn[2]*Nt+ma,Xi=zn[3]*on+ea,ma=zn[4]*Nt+ma,ea=zn[5]*on+ea,ml(Ai,Er,Hr,Xi,ma,ea));return yt&&Hm(),qm(Ke),this},p.path=function(W){for(var ye=0;ye<W.length;ye++){var je=W[ye],Pe=je.c;switch(je.op){case"m":Ym(Pe[0],Pe[1]);break;case"l":af(Pe[0],Pe[1]);break;case"c":ml.apply(this,Pe);break;case"h":Hm()}}return this},p.__private__.rect=p.rect=function(W,ye,je,Pe,Ke){if(isNaN(W)||isNaN(ye)||isNaN(je)||isNaN(Pe)||!Rs(Ke))throw new Error("Invalid arguments passed to jsPDF.rect");return _===R&&(Pe=-Pe),ue([D(U(W)),D(K(ye)),D(U(je)),D(U(Pe)),"re"].join(" ")),qm(Ke),this},p.__private__.triangle=p.triangle=function(W,ye,je,Pe,Ke,yt,Nt){if(isNaN(W)||isNaN(ye)||isNaN(je)||isNaN(Pe)||isNaN(Ke)||isNaN(yt)||!Rs(Nt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[je-W,Pe-ye],[Ke-je,yt-Pe],[W-Ke,ye-yt]],W,ye,[1,1],Nt,!0),this},p.__private__.roundedRect=p.roundedRect=function(W,ye,je,Pe,Ke,yt,Nt){if(isNaN(W)||isNaN(ye)||isNaN(je)||isNaN(Pe)||isNaN(Ke)||isNaN(yt)||!Rs(Nt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var on=4/3*(Math.SQRT2-1);return Ke=Math.min(Ke,.5*je),yt=Math.min(yt,.5*Pe),this.lines([[je-2*Ke,0],[Ke*on,0,Ke,yt-yt*on,Ke,yt],[0,Pe-2*yt],[0,yt*on,-Ke*on,yt,-Ke,yt],[2*Ke-je,0],[-Ke*on,0,-Ke,-yt*on,-Ke,-yt],[0,2*yt-Pe],[0,-yt*on,Ke*on,-yt,Ke,-yt]],W+Ke,ye,[1,1],Nt,!0),this},p.__private__.ellipse=p.ellipse=function(W,ye,je,Pe,Ke){if(isNaN(W)||isNaN(ye)||isNaN(je)||isNaN(Pe)||!Rs(Ke))throw new Error("Invalid arguments passed to jsPDF.ellipse");var yt=4/3*(Math.SQRT2-1)*je,Nt=4/3*(Math.SQRT2-1)*Pe;return Ym(W+je,ye),ml(W+je,ye-Nt,W+yt,ye-Pe,W,ye-Pe),ml(W-yt,ye-Pe,W-je,ye-Nt,W-je,ye),ml(W-je,ye+Nt,W-yt,ye+Pe,W,ye+Pe),ml(W+yt,ye+Pe,W+je,ye+Nt,W+je,ye),qm(Ke),this},p.__private__.circle=p.circle=function(W,ye,je,Pe){if(isNaN(W)||isNaN(ye)||isNaN(je)||!Rs(Pe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(W,ye,je,je,Pe)},p.setFont=function(W,ye,je){return je&&(ye=j(ye,je)),rt=ov(W,ye,{disableWarning:!1}),this};var yl=p.__private__.getFont=p.getFont=function(){return jt[ov.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var W,ye,je={};for(W in Ht)if(Ht.hasOwnProperty(W))for(ye in je[W]=[],Ht[W])Ht[W].hasOwnProperty(ye)&&je[W].push(ye);return je},p.addFont=function(W,ye,je,Pe,Ke){var yt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&yt.indexOf(arguments[3])!==-1?Ke=arguments[3]:arguments[3]&&yt.indexOf(arguments[3])==-1&&(je=j(je,Pe)),$m.call(this,W,ye,je,Ke=Ke||"Identity-H")};var Gc,sf=e.lineWidth||.200025,Nn=p.__private__.getLineWidth=p.getLineWidth=function(){return sf},ed=p.__private__.setLineWidth=p.setLineWidth=function(W){return sf=W,ue(D(U(W))+" w"),this};p.__private__.setLineDash=Sn.API.setLineDash=Sn.API.setLineDashPattern=function(W,ye){if(W=W||[],ye=ye||0,isNaN(ye)||!Array.isArray(W))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return W=W.map(function(je){return D(U(je))}).join(" "),ye=D(U(ye)),ue("["+W+"] "+ye+" d"),this};var dv=p.__private__.getLineHeight=p.getLineHeight=function(){return ke*Gc};p.__private__.getLineHeight=p.getLineHeight=function(){return ke*Gc};var Jm=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(W){return typeof(W=W||1.15)=="number"&&(Gc=W),this},fv=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Gc};Jm(e.lineHeight);var lo=p.__private__.getHorizontalCoordinate=function(W){return U(W)},Ba=p.__private__.getVerticalCoordinate=function(W){return _===E?W:Ut[T].mediaBox.topRightY-Ut[T].mediaBox.bottomLeftY-U(W)},Qm=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(W){return D(lo(W))},of=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(W){return D(Ba(W))},co=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return wr(co)},p.__private__.setStrokeColor=p.setDrawColor=function(W,ye,je,Pe){return co=ss({ch1:W,ch2:ye,ch3:je,ch4:Pe,pdfColorType:"draw",precision:2}),ue(co),this};var lf=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return wr(lf)},p.__private__.setFillColor=p.setFillColor=function(W,ye,je,Pe){return lf=ss({ch1:W,ch2:ye,ch3:je,ch4:Pe,pdfColorType:"fill",precision:2}),ue(lf),this};var tc=e.textColor||"0 g",cf=p.__private__.getTextColor=p.getTextColor=function(){return wr(tc)};p.__private__.setTextColor=p.setTextColor=function(W,ye,je,Pe){return tc=ss({ch1:W,ch2:ye,ch3:je,ch4:Pe,pdfColorType:"text",precision:3}),this};var Hc=e.charSpace,Ih=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Hc||0)};p.__private__.setCharSpace=p.setCharSpace=function(W){if(isNaN(W))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Hc=W,this};var Ph=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(W){var ye=p.CapJoinStyles[W];if(ye===void 0)throw new Error("Line cap style of '"+W+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ph=ye,ue(ye+" J"),this};var Ra=0;p.__private__.setLineJoin=p.setLineJoin=function(W){var ye=p.CapJoinStyles[W];if(ye===void 0)throw new Error("Line join style of '"+W+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ra=ye,ue(ye+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(W){if(W=W||0,isNaN(W))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ue(D(U(W))+" M"),this},p.GState=TR,p.setGState=function(W){(W=typeof W=="string"?kt[vn[W]]:uo(null,W)).equals(Rn)||(ue("/"+W.id+" gs"),Rn=W)};var uo=function(W,ye){if(!W||!vn[W]){var je=!1;for(var Pe in kt)if(kt.hasOwnProperty(Pe)&&kt[Pe].equals(ye)){je=!0;break}if(je)ye=kt[Pe];else{var Ke="GS"+(Object.keys(kt).length+1).toString(10);kt[Ke]=ye,ye.id=Ke}return W&&(vn[W]=ye.id),ut.publish("addGState",ye),ye}};p.addGState=function(W,ye){return uo(W,ye),this},p.saveGraphicsState=function(){return ue("q"),Ie.push({key:rt,size:ke,color:tc}),this},p.restoreGraphicsState=function(){ue("Q");var W=Ie.pop();return rt=W.key,ke=W.size,tc=W.color,Rn=null,this},p.setCurrentTransformationMatrix=function(W){return ue(W.toString()+" cm"),this},p.comment=function(W){return ue("#"+W),this};var nc=function(W,ye){var je=W||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return je},set:function(yt){isNaN(yt)||(je=parseFloat(yt))}});var Pe=ye||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Pe},set:function(yt){isNaN(yt)||(Pe=parseFloat(yt))}});var Ke="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ke},set:function(yt){Ke=yt.toString()}}),this},qc=function(W,ye,je,Pe){nc.call(this,W,ye),this.type="rect";var Ke=je||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ke},set:function(Nt){isNaN(Nt)||(Ke=parseFloat(Nt))}});var yt=Pe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return yt},set:function(Nt){isNaN(Nt)||(yt=parseFloat(Nt))}}),this},kh=function(){this.page=yn,this.currentPage=T,this.pages=he.slice(0),this.pagesContext=Ut.slice(0),this.x=Te,this.y=Ot,this.matrix=$t,this.width=td(T),this.height=ic(T),this.outputDestination=we,this.id="",this.objectNumber=-1};kh.prototype.restore=function(){yn=this.page,T=this.currentPage,Ut=this.pagesContext,he=this.pages,Te=this.x,Ot=this.y,$t=this.matrix,df(T,this.width),Yc(T,this.height),we=this.outputDestination};var uf=function(W,ye,je,Pe,Ke){Bn.push(new kh),yn=T=0,he=[],Te=W,Ot=ye,$t=Ke,pl([je,Pe])};for(var Wc in p.beginFormObject=function(W,ye,je,Pe,Ke){return uf(W,ye,je,Pe,Ke),this},p.endFormObject=function(W){return(function(ye){if(Wt[ye])Bn.pop().restore();else{var je=new kh,Pe="Xo"+(Object.keys(Zt).length+1).toString(10);je.id=Pe,Wt[ye]=Pe,Zt[Pe]=je,ut.publish("addFormObject",je),Bn.pop().restore()}})(W),this},p.doFormObject=function(W,ye){var je=Zt[Wt[W]];return ue("q"),ue(ye.toString()+" cm"),ue("/"+je.id+" Do"),ue("Q"),this},p.getFormObject=function(W){var ye=Zt[Wt[W]];return{x:ye.x,y:ye.y,width:ye.width,height:ye.height,matrix:ye.matrix}},p.save=function(W,ye){return W=W||"generated.pdf",(ye=ye||{}).returnPromise=ye.returnPromise||!1,ye.returnPromise===!1?(Oy(Kc(Vc()),W),typeof Oy.unload=="function"&&Fn.setTimeout&&setTimeout(Oy.unload,911),this):new Promise(function(je,Pe){try{var Ke=Oy(Kc(Vc()),W);typeof Oy.unload=="function"&&Fn.setTimeout&&setTimeout(Oy.unload,911),je(Ke)}catch(yt){Pe(yt.message)}})},Sn.API)Sn.API.hasOwnProperty(Wc)&&(Wc==="events"&&Sn.API.events.length?(function(W,ye){var je,Pe,Ke;for(Ke=ye.length-1;Ke!==-1;Ke--)je=ye[Ke][0],Pe=ye[Ke][1],W.subscribe.apply(W,[je].concat(typeof Pe=="function"?[Pe]:Pe))})(ut,Sn.API.events):p[Wc]=Sn.API[Wc]);function td(W){return Ut[W].mediaBox.topRightX-Ut[W].mediaBox.bottomLeftX}function df(W,ye){Ut[W].mediaBox.topRightX=ye+Ut[W].mediaBox.bottomLeftX}function ic(W){return Ut[W].mediaBox.topRightY-Ut[W].mediaBox.bottomLeftY}function Yc(W,ye){Ut[W].mediaBox.topRightY=ye+Ut[W].mediaBox.bottomLeftY}var hv=p.getPageWidth=function(W){return td(W=W||T)/xt},pv=p.setPageWidth=function(W,ye){df(W,ye*xt)},Jc=p.getPageHeight=function(W){return ic(W=W||T)/xt},mv=p.setPageHeight=function(W,ye){Yc(W,ye*xt)};return p.internal={pdfEscape:so,getStyle:Gm,getFont:yl,getFontSize:lt,getCharSpace:Ih,getTextColor:cf,getLineHeight:dv,getLineHeightFactor:fv,getLineWidth:Nn,write:De,getHorizontalCoordinate:lo,getVerticalCoordinate:Ba,getCoordinateString:Qm,getVerticalCoordinateString:of,collections:{},newObject:Ii,newAdditionalObject:Xu,newObjectDeferred:xr,newObjectDeferredBegin:Vr,getFilters:ao,putStream:Co,events:ut,scaleFactor:xt,pageSize:{getWidth:function(){return hv(T)},setWidth:function(W){pv(T,W)},getHeight:function(){return Jc(T)},setHeight:function(W){mv(T,W)}},encryptionOptions:d,encryption:Gr,getEncryptor:function(W){return d!==null?Gr.encryptor(W,0):function(ye){return ye}},output:Lo,getNumberOfPages:zm,pages:he,out:ue,f2:M,f3:z,getPageInfo:os,getPageInfoByObjId:Vm,getCurrentPageInfo:lv,getPDFVersion:S,Point:nc,Rectangle:qc,Matrix:Vt,hasHotfix:ec},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return hv(T)},set:function(W){pv(T,W)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Jc(T)},set:function(W){mv(T,W)},enumerable:!0,configurable:!0}),(function(W){for(var ye=0,je=Be.length;ye<je;ye++){var Pe=$m.call(this,W[ye][0],W[ye][1],W[ye][2],Be[ye][3],!0);h===!1&&(m[Pe]=!0);var Ke=W[ye][0].split("-");Kr({id:Pe,fontName:Ke[0],fontStyle:Ke[1]||""})}ut.publish("addFonts",{fonts:jt,dictionary:Ht})}).call(p,Be),rt="F1",zc(r,n),ut.publish("initialized"),p}v0.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},v0.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},v0.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},v0.prototype.processOwnerPassword=function(e,t){return mM(pM(t).substr(0,5),e)},v0.prototype.encryptor=function(e,t){var n=pM(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(i){return mM(n,i)}},TR.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||Yi(e)!==Yi(this))return!1;var i=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;i++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&i--;return i===0},Sn.API={events:[]},Sn.version="3.0.3";var ua=Sn.API,ck=1,rv=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},c0=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Jn=function(e){return e.toFixed(2)},vp=function(e){return e.toFixed(5)};ua.__acroform__={};var ll=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},Wq=function(e){return e*ck},xd=function(e){var t=new Vde,n=dn.internal.getHeight(e)||0,i=dn.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Jn(i)),Number(Jn(n))],t},rYe=ua.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},aYe=ua.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},sYe=ua.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},ba=ua.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return sYe(e,t-1)},xa=ua.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return rYe(e,t-1)},wa=ua.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return aYe(e,t-1)},oYe=ua.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,r=e[0],a=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=n(r)||0,c.lowerLeft_Y=i(a+l)||0,c.upperRight_X=n(r+o)||0,c.upperRight_Y=i(a)||0,[Number(Jn(c.lowerLeft_X)),Number(Jn(c.lowerLeft_Y)),Number(Jn(c.upperRight_X)),Number(Jn(c.upperRight_Y))]},lYe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,i=yM(e,n),r=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+r+" "+Jn(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=xd(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},yM=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,i={text:"",fontSize:""},r=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");r=e.multiline?r.map(function(M){return M.split(`
`)}):r.map(function(M){return[M]});var a=n,o=dn.internal.getHeight(e)||0;o=o<0?-o:o;var l=dn.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(M,z,U){if(M+1<r.length){var K=z+" "+r[M+1][0];return a_(K,e,U).width<=l-4}return!1};a++;e:for(;a>0;){t="",a--;var u,d,h=a_("3",e,a).height,m=e.multiline?o-a:(o-h)/2,p=m+=2,v=0,S=0,b=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+a_(t,e,a=12).width+", FieldWidth:"+l+`
`;break}for(var w="",R=0,E=0;E<r.length;E++)if(r.hasOwnProperty(E)){var _=!1;if(r[E].length!==1&&b!==r[E].length-1){if((h+2)*(R+2)+2>o)continue e;w+=r[E][b],_=!0,S=E,E--}else{w=(w+=r[E][b]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var N=parseInt(E),O=c(N,w,a),j=E>=r.length-1;if(O&&!j){w+=" ",b=0;continue}if(O||j){if(j)S=N;else if(e.multiline&&(h+2)*(R+2)+2>o)continue e}else{if(!e.multiline||(h+2)*(R+2)+2>o)continue e;S=N}}for(var D="",P=v;P<=S;P++){var B=r[P];if(e.multiline){if(P===S){D+=B[b]+" ",b=(b+1)%B.length;continue}if(P===v){D+=B[B.length-1]+" ";continue}}D+=B[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,d=a_(D,e,a).width,e.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;default:u=2}t+=Jn(u)+" "+Jn(p)+` Td
`,t+="("+rv(D)+`) Tj
`,t+=-Jn(u)+` 0 Td
`,p=-(a+2),d=0,v=_?S:S+1,R++,w=""}break}return i.text=t,i.fontSize=a,i},a_=function(e,t,n){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),r=t.scope.getStringUnitWidth(e,{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:r}},cYe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},uYe=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(i){return i.type===n.type&&i.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},dYe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Yu.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(cYe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ck=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Kde,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var a=i[r];a.objId=void 0,a.hasAnnotation&&uYe(a,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(i,r){var a=!i;for(var o in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(o)){var l=i[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=oYe(l.Rect,r)),r.internal.newObjectDeferredBegin(l.objId,!0),l.DA=dn.createDefaultAppearanceStream(l),Yi(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=lYe(l);c.push({key:"AP",value:"<</N "+d+">>"}),r.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var h="";for(var m in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(m)){var p=l.appearanceStreamContent[m];if(h+="/"+m+" ",h+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var v=p[o];typeof v=="function"&&(v=v.call(r,l)),h+="/"+o+" "+v+" ",r.internal.acroformPlugin.xForms.indexOf(v)>=0||r.internal.acroformPlugin.xForms.push(v)}}else typeof(v=p)=="function"&&(v=v.call(r,l)),h+="/"+o+" "+v,r.internal.acroformPlugin.xForms.indexOf(v)>=0||r.internal.acroformPlugin.xForms.push(v);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}r.internal.putStream({additionalKeyValues:c,objectId:l.objId}),r.internal.out("endobj")}a&&(function(S,b){for(var w in S)if(S.hasOwnProperty(w)){var R=w,E=S[w];b.internal.newObjectDeferredBegin(E.objId,!0),Yi(E)==="object"&&typeof E.putStream=="function"&&E.putStream(),delete S[R]}})(r.internal.acroformPlugin.xForms,r)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},Ude=ua.__acroform__.arrayToPdfArray=function(e,t,n){var i=function(o){return o};if(Array.isArray(e)){for(var r="[",a=0;a<e.length;a++)switch(a!==0&&(r+=" "),Yi(e[a])){case"boolean":case"number":case"object":r+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&n&&(i=n.internal.getEncryptor(t)),r+="("+rv(i(e[a].toString()))+")"):r+=e[a].toString()}return r+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},QC=function(e,t,n){var i=function(r){return r};return t!==void 0&&n&&(i=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+rv(i(e))+")"},jd=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};jd.prototype.toString=function(){return this.objId+" 0 R"},jd.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},jd.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var i=t[n],r=this[i];r&&(Array.isArray(r)?e.push({key:i,value:Ude(r,this.objId,this.scope)}):r instanceof jd?(r.scope=this.scope,e.push({key:i,value:r.objId+" 0 R"})):typeof r!="function"&&e.push({key:i,value:r}))}return e};var Vde=function(){jd.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};ll(Vde,jd);var Kde=function(){jd.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(i){return i};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+rv(n(e))+")"}},set:function(n){e=n}})};ll(Kde,jd);var Yu=function e(){jd.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');t=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ba(t,3)},set:function(w){w?this.F=xa(t,3):this.F=wa(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');n=w}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(w){i=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(w){i[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(w){i[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(w){i[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(w){i[3]=w}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof MR)return;a="FieldObject"+e.FieldNum++}var w=function(R){return R};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+rv(w(a))+")"},set:function(w){a=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(w){a=w}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(w){c=w}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/ck:u},set:function(w){u=w}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(w){d=w}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof MR||this instanceof dg))return QC(h,this.objId,this.scope)},set:function(w){w=w.toString(),h=w}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof bs==0?QC(m,this.objId,this.scope):m},set:function(w){w=w.toString(),m=this instanceof bs==0?w.substr(0,1)==="("?c0(w.substr(1,w.length-2)):c0(w):w}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof bs==1?c0(m.substr(1,m.length-1)):m},set:function(w){w=w.toString(),m=this instanceof bs==1?"/"+w:w}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof bs==0?QC(p,this.objId,this.scope):p},set:function(w){w=w.toString(),p=this instanceof bs==0?w.substr(0,1)==="("?c0(w.substr(1,w.length-2)):c0(w):w}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof bs==1?c0(p.substr(1,p.length-1)):p},set:function(w){w=w.toString(),p=this instanceof bs==1?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(w){w=!!w,S=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(w){v=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ba(this.Ff,1)},set:function(w){w?this.Ff=xa(this.Ff,1):this.Ff=wa(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ba(this.Ff,2)},set:function(w){w?this.Ff=xa(this.Ff,2):this.Ff=wa(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ba(this.Ff,3)},set:function(w){w?this.Ff=xa(this.Ff,3):this.Ff=wa(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');b=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(b){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:b=2;break;case"center":case 1:b=1;break;default:b=0}}})};ll(Yu,jd);var K0=function(){Yu.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Ude(t,this.objId,this.scope)},set:function(n){var i,r;r=[],typeof(i=n)=="string"&&(r=(function(a,o,l){l||(l=1);for(var c,u=[];c=o.exec(a);)u.push(c[l]);return u})(i,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,i){for(i=i||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ba(this.Ff,18)},set:function(n){n?this.Ff=xa(this.Ff,18):this.Ff=wa(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ba(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=xa(this.Ff,19):this.Ff=wa(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ba(this.Ff,20)},set:function(n){n?(this.Ff=xa(this.Ff,20),t.sort()):this.Ff=wa(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ba(this.Ff,22)},set:function(n){n?this.Ff=xa(this.Ff,22):this.Ff=wa(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ba(this.Ff,23)},set:function(n){n?this.Ff=xa(this.Ff,23):this.Ff=wa(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ba(this.Ff,27)},set:function(n){n?this.Ff=xa(this.Ff,27):this.Ff=wa(this.Ff,27)}}),this.hasAppearanceStream=!1};ll(K0,Yu);var G0=function(){K0.call(this),this.fontName="helvetica",this.combo=!1};ll(G0,K0);var H0=function(){G0.call(this),this.combo=!0};ll(H0,G0);var cA=function(){H0.call(this),this.edit=!0};ll(cA,H0);var bs=function(){Yu.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ba(this.Ff,15)},set:function(n){n?this.Ff=xa(this.Ff,15):this.Ff=wa(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ba(this.Ff,16)},set:function(n){n?this.Ff=xa(this.Ff,16):this.Ff=wa(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ba(this.Ff,17)},set:function(n){n?this.Ff=xa(this.Ff,17):this.Ff=wa(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ba(this.Ff,26)},set:function(n){n?this.Ff=xa(this.Ff,26):this.Ff=wa(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var i,r=[];for(i in r.push("<<"),t)r.push("/"+i+" ("+rv(n(t[i]))+")");return r.push(">>"),r.join(`
`)}},set:function(n){Yi(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};ll(bs,Yu);var uA=function(){bs.call(this),this.pushButton=!0};ll(uA,bs);var q0=function(){bs.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};ll(q0,bs);var MR=function(){var e,t;Yu.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(r){t=r}});var n,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(l){return l};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),i)o.push("/"+a+" ("+rv(r(i[a]))+")");return o.push(">>"),o.join(`
`)},set:function(r){Yi(r)==="object"&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){typeof r=="string"&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(r){n="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=dn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ll(MR,Yu),q0.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},q0.prototype.createOption=function(e){var t=new MR;return t.Parent=this,t.optionName=e,this.Kids.push(t),fYe.call(this.scope,t),t};var dA=function(){bs.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=dn.CheckBox.createAppearanceStream()};ll(dA,bs);var dg=function(){Yu.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ba(this.Ff,13)},set:function(t){t?this.Ff=xa(this.Ff,13):this.Ff=wa(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ba(this.Ff,21)},set:function(t){t?this.Ff=xa(this.Ff,21):this.Ff=wa(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ba(this.Ff,23)},set:function(t){t?this.Ff=xa(this.Ff,23):this.Ff=wa(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ba(this.Ff,24)},set:function(t){t?this.Ff=xa(this.Ff,24):this.Ff=wa(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ba(this.Ff,25)},set:function(t){t?this.Ff=xa(this.Ff,25):this.Ff=wa(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ba(this.Ff,26)},set:function(t){t?this.Ff=xa(this.Ff,26):this.Ff=wa(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ll(dg,Yu);var fA=function(){dg.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ba(this.Ff,14)},set:function(e){e?this.Ff=xa(this.Ff,14):this.Ff=wa(this.Ff,14)}}),this.password=!0};ll(fA,dg);var dn={CheckBox:{createAppearanceStream:function(){return{N:{On:dn.CheckBox.YesNormal},D:{On:dn.CheckBox.YesPushDown,Off:dn.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=xd(e);t.scope=e.scope;var n=[],i=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),a=yM(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+Jn(dn.internal.getWidth(e))+" "+Jn(dn.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+i+" "+Jn(a.fontSize)+" Tf "+r),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=xd(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),r=[],a=dn.internal.getHeight(e),o=dn.internal.getWidth(e),l=yM(e,e.caption);return r.push("1 g"),r.push("0 0 "+Jn(o)+" "+Jn(a)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+Jn(o-1)+" "+Jn(a-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+n+" "+Jn(l.fontSize)+" Tf "+i),r.push(l.text),r.push("ET"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=xd(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Jn(dn.internal.getWidth(e))+" "+Jn(dn.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:dn.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=dn.RadioButton.Circle.YesNormal,t.D[e]=dn.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=xd(e);t.scope=e.scope;var n=[],i=dn.internal.getWidth(e)<=dn.internal.getHeight(e)?dn.internal.getWidth(e)/4:dn.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var r=dn.internal.Bezier_C,a=Number((i*r).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+vp(dn.internal.getWidth(e)/2)+" "+vp(dn.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=xd(e);t.scope=e.scope;var n=[],i=dn.internal.getWidth(e)<=dn.internal.getHeight(e)?dn.internal.getWidth(e)/4:dn.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),a=Number((r*dn.internal.Bezier_C).toFixed(5)),o=Number((i*dn.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+vp(dn.internal.getWidth(e)/2)+" "+vp(dn.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+vp(dn.internal.getWidth(e)/2)+" "+vp(dn.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=xd(e);t.scope=e.scope;var n=[],i=dn.internal.getWidth(e)<=dn.internal.getHeight(e)?dn.internal.getWidth(e)/4:dn.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),a=Number((r*dn.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+vp(dn.internal.getWidth(e)/2)+" "+vp(dn.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:dn.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=dn.RadioButton.Cross.YesNormal,t.D[e]=dn.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=xd(e);t.scope=e.scope;var n=[],i=dn.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+Jn(dn.internal.getWidth(e)-2)+" "+Jn(dn.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Jn(i.x1.x)+" "+Jn(i.x1.y)+" m"),n.push(Jn(i.x2.x)+" "+Jn(i.x2.y)+" l"),n.push(Jn(i.x4.x)+" "+Jn(i.x4.y)+" m"),n.push(Jn(i.x3.x)+" "+Jn(i.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=xd(e);t.scope=e.scope;var n=dn.internal.calculateCross(e),i=[];return i.push("0.749023 g"),i.push("0 0 "+Jn(dn.internal.getWidth(e))+" "+Jn(dn.internal.getHeight(e))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+Jn(dn.internal.getWidth(e)-2)+" "+Jn(dn.internal.getHeight(e)-2)+" re"),i.push("W"),i.push("n"),i.push(Jn(n.x1.x)+" "+Jn(n.x1.y)+" m"),i.push(Jn(n.x2.x)+" "+Jn(n.x2.y)+" l"),i.push(Jn(n.x4.x)+" "+Jn(n.x4.y)+" m"),i.push(Jn(n.x3.x)+" "+Jn(n.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=xd(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Jn(dn.internal.getWidth(e))+" "+Jn(dn.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};dn.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=dn.internal.getWidth(e),n=dn.internal.getHeight(e),i=Math.min(t,n);return{x1:{x:(t-i)/2,y:(n-i)/2+i},x2:{x:(t-i)/2+i,y:(n-i)/2},x3:{x:(t-i)/2,y:(n-i)/2},x4:{x:(t-i)/2+i,y:(n-i)/2+i}}}},dn.internal.getWidth=function(e){var t=0;return Yi(e)==="object"&&(t=Wq(e.Rect[2])),t},dn.internal.getHeight=function(e){var t=0;return Yi(e)==="object"&&(t=Wq(e.Rect[3])),t};var fYe=ua.addField=function(e){if(dYe(this,e),!(e instanceof Yu))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};ua.AcroFormChoiceField=K0,ua.AcroFormListBox=G0,ua.AcroFormComboBox=H0,ua.AcroFormEditBox=cA,ua.AcroFormButton=bs,ua.AcroFormPushButton=uA,ua.AcroFormRadioButton=q0,ua.AcroFormCheckBox=dA,ua.AcroFormTextField=dg,ua.AcroFormPasswordField=fA,ua.AcroFormAppearance=dn,ua.AcroForm={ChoiceField:K0,ListBox:G0,ComboBox:H0,EditBox:cA,Button:bs,PushButton:uA,RadioButton:q0,CheckBox:dA,TextField:dg,PasswordField:fA,Appearance:dn},Sn.AcroForm={ChoiceField:K0,ListBox:G0,ComboBox:H0,EditBox:cA,Button:bs,PushButton:uA,RadioButton:q0,CheckBox:dA,TextField:dg,PasswordField:fA,Appearance:dn};Sn.AcroForm;function Gde(e){return e.reduce(function(t,n,i){return t[n]=i,t},{})}(function(e){var t="addImage_";e.__addimage__={};var n="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(M,z){var U,K,te,q,V,Q=n;if((z=z||n)==="RGBA"||M.data!==void 0&&M.data instanceof Uint8ClampedArray&&"height"in M&&"width"in M)return"RGBA";if(O(M))for(V in i)for(te=i[V],U=0;U<te.length;U+=1){for(q=!0,K=0;K<te[U].length;K+=1)if(te[U][K]!==void 0&&te[U][K]!==M[K]){q=!1;break}if(q===!0){Q=V;break}}else for(V in i)for(te=i[V],U=0;U<te.length;U+=1){for(q=!0,K=0;K<te[U].length;K+=1)if(te[U][K]!==void 0&&te[U][K]!==M.charCodeAt(K)){q=!1;break}if(q===!0){Q=V;break}}return Q===n&&z!==n&&(Q=z),Q},a=function M(z){for(var U=this.internal.write,K=this.internal.putStream,te=(0,this.internal.getFilters)();te.indexOf("FlateEncode")!==-1;)te.splice(te.indexOf("FlateEncode"),1);z.objectId=this.internal.newObject();var q=[];if(q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Image"}),q.push({key:"Width",value:z.width}),q.push({key:"Height",value:z.height}),z.colorSpace===w.INDEXED?q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(z.palette.length/3-1)+" "+("sMask"in z&&z.sMask!==void 0?z.objectId+2:z.objectId+1)+" 0 R]"}):(q.push({key:"ColorSpace",value:"/"+z.colorSpace}),z.colorSpace===w.DEVICE_CMYK&&q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),q.push({key:"BitsPerComponent",value:z.bitsPerComponent}),"decodeParameters"in z&&z.decodeParameters!==void 0&&q.push({key:"DecodeParms",value:"<<"+z.decodeParameters+">>"}),"transparency"in z&&Array.isArray(z.transparency)&&z.transparency.length>0){for(var V="",Q=0,ce=z.transparency.length;Q<ce;Q++)V+=z.transparency[Q]+" "+z.transparency[Q]+" ";q.push({key:"Mask",value:"["+V+"]"})}z.sMask!==void 0&&q.push({key:"SMask",value:z.objectId+1+" 0 R"});var ae=z.filter!==void 0?["/"+z.filter]:void 0;if(K({data:z.data,additionalKeyValues:q,alreadyAppliedFilters:ae,objectId:z.objectId}),U("endobj"),"sMask"in z&&z.sMask!==void 0){var G,H=(G=z.sMaskBitsPerComponent)!==null&&G!==void 0?G:z.bitsPerComponent,T={width:z.width,height:z.height,colorSpace:"DeviceGray",bitsPerComponent:H,data:z.sMask};"filter"in z&&(T.decodeParameters="/Predictor ".concat(z.predictor," /Colors 1 /BitsPerComponent ").concat(H," /Columns ").concat(z.width),T.filter=z.filter),M.call(this,T)}if(z.colorSpace===w.INDEXED){var Y=this.internal.newObject();K({data:D(new Uint8Array(z.palette)),objectId:Y}),U("endobj")}},o=function(){var M=this.internal.collections[t+"images"];for(var z in M)a.call(this,M[z])},l=function(){var M,z=this.internal.collections[t+"images"],U=this.internal.write;for(var K in z)U("/I"+(M=z[K]).index,M.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var M=this.internal.collections[t+"images"];return c.call(this),M},d=function(){return Object.keys(this.internal.collections[t+"images"]).length},h=function(M){return typeof e["process"+M.toUpperCase()]=="function"},m=function(M){return Yi(M)==="object"&&M.nodeType===1},p=function(M,z){if(M.nodeName==="IMG"&&M.hasAttribute("src")){var U=""+M.getAttribute("src");if(U.indexOf("data:image/")===0)return lA(unescape(U).split("base64,").pop());var K=e.loadFile(U,!0);if(K!==void 0)return K}if(M.nodeName==="CANVAS"){if(M.width===0||M.height===0)throw new Error("Given canvas must have data. Canvas width: "+M.width+", height: "+M.height);var te;switch(z){case"PNG":te="image/png";break;case"WEBP":te="image/webp";break;default:te="image/jpeg"}return lA(M.toDataURL(te,1).split("base64,").pop())}},v=function(M){var z=this.internal.collections[t+"images"];if(z){for(var U in z)if(M===z[U].alias)return z[U]}},S=function(M,z,U){return M||z||(M=-96,z=-96),M<0&&(M=-1*U.width*72/M/this.internal.scaleFactor),z<0&&(z=-1*U.height*72/z/this.internal.scaleFactor),M===0&&(M=z*U.width/U.height),z===0&&(z=M*U.height/U.width),[M,z]},b=function(M,z,U,K,te,q){var V=S.call(this,U,K,te),Q=this.internal.getCoordinateString,ce=this.internal.getVerticalCoordinateString,ae=u.call(this);if(U=V[0],K=V[1],ae[te.index]=te,q){q*=Math.PI/180;var G=Math.cos(q),H=Math.sin(q),T=function(ie){return ie.toFixed(4)},Y=[T(G),T(H),T(-1*H),T(G),0,0,"cm"]}this.internal.write("q"),q?(this.internal.write([1,"0","0",1,Q(M),ce(z+K),"cm"].join(" ")),this.internal.write(Y.join(" ")),this.internal.write([Q(U),"0","0",Q(K),"0","0","cm"].join(" "))):this.internal.write([Q(U),"0","0",Q(K),Q(M),ce(z+K),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+te.index+" Do"),this.internal.write("Q")},w=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var R=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},E=e.__addimage__.sHashCode=function(M){var z,U,K=0;if(typeof M=="string")for(U=M.length,z=0;z<U;z++)K=(K<<5)-K+M.charCodeAt(z),K|=0;else if(O(M))for(U=M.byteLength/2,z=0;z<U;z++)K=(K<<5)-K+M[z],K|=0;return K},_=e.__addimage__.validateStringAsBase64=function(M){(M=M||"").toString().trim();var z=!0;return M.length===0&&(z=!1),M.length%4!=0&&(z=!1),/^[A-Za-z0-9+/]+$/.test(M.substr(0,M.length-2))===!1&&(z=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(M.substr(-2))===!1&&(z=!1),z},N=e.__addimage__.extractImageFromDataUrl=function(M){if(M==null||!(M=M.trim()).startsWith("data:"))return null;var z=M.indexOf(",");return z<0?null:M.substring(0,z).trim().endsWith("base64")?M.substring(z+1):null};e.__addimage__.isArrayBuffer=function(M){return M instanceof ArrayBuffer};var O=e.__addimage__.isArrayBufferView=function(M){return M instanceof Int8Array||M instanceof Uint8Array||M instanceof Uint8ClampedArray||M instanceof Int16Array||M instanceof Uint16Array||M instanceof Int32Array||M instanceof Uint32Array||M instanceof Float32Array||M instanceof Float64Array},j=e.__addimage__.binaryStringToUint8Array=function(M){for(var z=M.length,U=new Uint8Array(z),K=0;K<z;K++)U[K]=M.charCodeAt(K);return U},D=e.__addimage__.arrayBufferToBinaryString=function(M){for(var z="",U=O(M)?M:new Uint8Array(M),K=0;K<U.length;K+=8192)z+=String.fromCharCode.apply(null,U.subarray(K,K+8192));return z};e.addImage=function(){var M,z,U,K,te,q,V,Q,ce;if(typeof arguments[1]=="number"?(z=n,U=arguments[1],K=arguments[2],te=arguments[3],q=arguments[4],V=arguments[5],Q=arguments[6],ce=arguments[7]):(z=arguments[1],U=arguments[2],K=arguments[3],te=arguments[4],q=arguments[5],V=arguments[6],Q=arguments[7],ce=arguments[8]),Yi(M=arguments[0])==="object"&&!m(M)&&"imageData"in M){var ae=M;M=ae.imageData,z=ae.format||z||n,U=ae.x||U||0,K=ae.y||K||0,te=ae.w||ae.width||te,q=ae.h||ae.height||q,V=ae.alias||V,Q=ae.compression||Q,ce=ae.rotation||ae.angle||ce}var G=this.internal.getFilters();if(Q===void 0&&G.indexOf("FlateEncode")!==-1&&(Q="SLOW"),isNaN(U)||isNaN(K))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var H=P.call(this,M,z,V,Q);return b.call(this,U,K,te,q,H,ce),this};var P=function(M,z,U,K){var te,q,V;if(typeof M=="string"&&r(M)===n){M=unescape(M);var Q=B(M,!1);(Q!==""||(Q=e.loadFile(M,!0))!==void 0)&&(M=Q)}if(m(M)&&(M=p(M,z)),z=r(M,z),!h(z))throw new Error("addImage does not support files of type '"+z+"', please ensure that a plugin for '"+z+"' support is added.");if(((V=U)==null||V.length===0)&&(U=(function(ce){return typeof ce=="string"||O(ce)?E(ce):O(ce.data)?E(ce.data):null})(M)),(te=v.call(this,U))||(M instanceof Uint8Array||z==="RGBA"||(q=M,M=j(M)),te=this["process"+z.toUpperCase()](M,d.call(this),U,(function(ce){return ce&&typeof ce=="string"&&(ce=ce.toUpperCase()),ce in e.image_compression?ce:R.NONE})(K),q)),!te)throw new Error("An unknown error occurred whilst processing the image.");return te},B=e.__addimage__.convertBase64ToBinaryString=function(M,z){z=typeof z!="boolean"||z;var U,K="";if(typeof M=="string"){var te;U=(te=N(M))!==null&&te!==void 0?te:M;try{K=lA(U)}catch(q){if(z)throw _(U)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return K};e.getImageProperties=function(M){var z,U,K="";if(m(M)&&(M=p(M)),typeof M=="string"&&r(M)===n&&((K=B(M,!1))===""&&(K=e.loadFile(M)||""),M=K),U=r(M),!h(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(M instanceof Uint8Array||(M=j(M)),!(z=this["process"+U.toUpperCase()](M)))throw new Error("An unknown error occurred whilst processing the image");return z.fileType=U,z}})(Sn.API),(function(e){var t=function(n){if(n!==void 0&&n!="")return!0};Sn.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var i,r,a,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,d=!1,h=0;h<u.length&&!d;h++)switch((i=u[h]).type){case"link":(t(i.options.url)||t(i.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var m=0;m<u.length;m++){i=u[m];var p=this.internal.pdfEscape,v=this.internal.getEncryptor(n.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(S.objId),R=i.title||"Note";a="<</Type /Annot /Subtype /Text "+(r="/Rect ["+o(i.bounds.x)+" "+l(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w)+" "+l(i.bounds.y)+"] ")+"/Contents ("+p(w(i.contents))+")",a+=" /Popup "+b.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+p(w(R))+") >>",S.content=a;var E=S.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+o(i.bounds.x+30)+" "+l(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w+30)+" "+l(i.bounds.y)+"] ")+" /Parent "+E,i.open&&(a+=" /Open true"),a+=" >>",b.content=a,this.internal.write(S.objId,"0 R",b.objId,"0 R");break;case"freetext":r="/Rect ["+o(i.bounds.x)+" "+l(i.bounds.y)+" "+o(i.bounds.x+i.bounds.w)+" "+l(i.bounds.y+i.bounds.h)+"] ";var _=i.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+p(v(i.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+_+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(i.options.name){var N=this.annotations._nameMap[i.options.name];i.options.pageNumber=N.page,i.options.top=N.y}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",a="",i.options.url)a="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+p(v(i.options.url))+") >>";else if(i.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,a+=" /FitV "+i.options.left+"]";break;default:var O=l(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),a+=" /XYZ "+i.options.left+" "+O+" "+i.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var i=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":i.pageContext.annotations.push(n)}},e.link=function(n,i,r,a,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(n),y:u(i),w:c(n+r),h:u(i+a)},options:o,type:"link"})},e.textWithLink=function(n,i,r,a){var o,l,c=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var d=this.splitTextToSize(n,l).length;o=Math.ceil(u*d)}else l=c,o=u;return this.text(n,i,r,a),r+=.2*u,a.align==="center"&&(i-=c/2),a.align==="right"&&(i-=c),this.link(i,r-u,l,o,a),c},e.getTextWidth=function(n){var i=this.internal.getFontSize();return this.getStringUnitWidth(n)*i/this.internal.scaleFactor}})(Sn.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(S){return t[S.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},l=e.__arabicParser__.isArabicEndLetter=function(S){return o(S)&&a(S)&&t[S.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(S){return o(S)&&r.indexOf(S.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return o(S)&&a(S)&&t[S.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(S){return o(S)&&a(S)&&t[S.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(S){return o(S)&&a(S)&&t[S.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(S){return o(S)&&a(S)&&t[S.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(S){var b=0,w=n,R="",E=0;for(b=0;b<S.length;b+=1)w[S.charCodeAt(b)]!==void 0?(E++,typeof(w=w[S.charCodeAt(b)])=="number"&&(R+=String.fromCharCode(w),w=n,E=0),b===S.length-1&&(w=n,R+=S.charAt(b-(E-1)),b-=E-1,E=0)):(w=n,R+=S.charAt(b-E),b-=E,E=0);return R};e.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&i[S.charCodeAt(0)]!==void 0};var m=e.__arabicParser__.getCorrectForm=function(S,b,w){return o(S)?a(S)===!1?-1:!u(S)||!o(b)&&!o(w)||!o(w)&&l(b)||l(S)&&!o(b)||l(S)&&c(b)||l(S)&&l(b)?0:d(S)&&o(b)&&!l(b)&&o(w)&&u(w)?3:l(S)||!o(w)?1:2:-1},p=function(S){var b=0,w=0,R=0,E="",_="",N="",O=(S=S||"").split("\\s+"),j=[];for(b=0;b<O.length;b+=1){for(j.push(""),w=0;w<O[b].length;w+=1)E=O[b][w],_=O[b][w-1],N=O[b][w+1],o(E)?(R=m(E,_,N),j[b]+=R!==-1?String.fromCharCode(t[E.charCodeAt(0)][R]):E):j[b]+=E;j[b]=h(j[b])}return j.join(" ")},v=e.__arabicParser__.processArabic=e.processArabic=function(){var S,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(b)){var R=0;for(w=[],R=0;R<b.length;R+=1)Array.isArray(b[R])?w.push([p(b[R][0]),b[R][1],b[R][2]]):w.push([p(b[R])]);S=w}else S=p(b);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};e.events.push(["preProcessText",v])})(Sn.API),Sn.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(l){n=l}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,i){var r;if((n=n||"2d")!=="2d")return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(Sn.API),(function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(S){c=S}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(S){u=S}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(S){d=S}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(S){h=S}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(S){m=S}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(S){p=S}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(S){v=S}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return i.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){i.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),h=u.font||this.getFont(),m=u.scaleFactor||this.internal.scaleFactor,p=0,v=0,S=0,b=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var w=u.maxWidth;w>0?typeof c=="string"?c=this.splitTextToSize(c,w):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(E,_){return E.concat(b.splitTextToSize(_,w))},[])):c=Array.isArray(c)?c:[c];for(var R=0;R<c.length;R++)p<(S=this.getStringUnitWidth(c[R],{font:h})*d)&&(p=S);return p!==0&&(v=c.length),{w:p/=m,h:Math.max((v*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/m,0)}},e.cellAddPage=function(){i.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,h=this.internal.__cell__.margins||t,m=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,p&&m&&(this.printHeaderRow(c.lineNumber,!0),c.y+=m[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,d,h,m){if(i.call(this),!d)throw new Error("No data for PDF table.");var p,v,S,b,w=[],R=[],E=[],_={},N={},O=[],j=[],D=(m=m||{}).autoSize||!1,P=m.printHeaders!==!1,B=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,M=m.margins||Object.assign({width:this.getPageWidth()},t),z=typeof m.padding=="number"?m.padding:3,U=m.headerBackgroundColor||"#c8c8c8",K=m.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=P,this.internal.__cell__.margins=M,this.internal.__cell__.table_font_size=B,this.internal.__cell__.padding=z,this.internal.__cell__.headerBackgroundColor=U,this.internal.__cell__.headerTextColor=K,this.setFontSize(B),h==null)R=w=Object.keys(d[0]),E=w.map(function(){return"left"});else if(Array.isArray(h)&&Yi(h[0])==="object")for(w=h.map(function(ae){return ae.name}),R=h.map(function(ae){return ae.prompt||ae.name||""}),E=h.map(function(ae){return ae.align||"left"}),p=0;p<h.length;p+=1)N[h[p].name]=.7499990551181103*h[p].width;else Array.isArray(h)&&typeof h[0]=="string"&&(R=w=h,E=w.map(function(){return"left"}));if(D||Array.isArray(h)&&typeof h[0]=="string")for(p=0;p<w.length;p+=1){for(_[b=w[p]]=d.map(function(ae){return ae[b]}),this.setFont(void 0,"bold"),O.push(this.getTextDimensions(R[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=_[b],this.setFont(void 0,"normal"),S=0;S<v.length;S+=1)O.push(this.getTextDimensions(v[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);N[b]=Math.max.apply(null,O)+z+z,O=[]}if(P){var te={};for(p=0;p<w.length;p+=1)te[w[p]]={},te[w[p]].text=R[p],te[w[p]].align=E[p];var q=l.call(this,te,N);j=w.map(function(ae){return new a(c,u,N[ae],q,te[ae].text,void 0,te[ae].align)}),this.setTableHeaderRow(j),this.printHeaderRow(1,!1)}var V=h.reduce(function(ae,G){return ae[G.name]=G.align,ae},{});for(p=0;p<d.length;p+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:p,data:d[p]},this);var Q=l.call(this,d[p],N);for(S=0;S<w.length;S+=1){var ce=d[p][w[S]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:p,col:S,data:ce},this),o.call(this,new a(c,u,N[w[S]],Q,ce,p+2,V[w[S]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(c).map(function(p){var v=c[p];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,u[p]-d-d)},this).map(function(p){return this.getLineHeightFactor()*p.length*h/m+d+d},this).reduce(function(p,v){return Math.max(p,v)},0)};e.setTableHeaderRow=function(c){i.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){d=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,m.push(d)),d.lineNumber=c;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(v)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),n=!1}})(Sn.API);var Hde={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},qde=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],gM=Gde(qde),Wde=[100,200,300,400,500,600,700,800,900],hYe=Gde(Wde);function XC(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=(function(a){return Hde[a=a||"normal"]?a:"normal"})(e.style),i=(function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400})(e.weight),r=(function(a){return typeof gM[a=a||"normal"]=="number"?a:"normal"})(e.stretch);return{family:t,style:n,weight:i,stretch:r,src:e.src||[],ref:e.ref||{name:t,style:[r,n,i].join(" ")}}}function Yq(e,t,n,i){var r;for(r=n;r>=0&&r<t.length;r+=i)if(e[t[r]])return e[t[r]];for(r=n;r>=0&&r<t.length;r-=i)if(e[t[r]])return e[t[r]]}var pYe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Jq={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Qq(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Xq(e){return e.trimLeft()}function mYe(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function yYe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var s_,Zq,eW,u0,o_,tW,nW,iW,ZC=["times"];function rW(e,t,n,i,r){var a=4,o=sW;switch(r){case Sn.API.image_compression.FAST:a=1,o=aW;break;case Sn.API.image_compression.MEDIUM:a=6,o=oW;break;case Sn.API.image_compression.SLOW:a=9,o=lW}e=(function(c,u,d,h){for(var m,p=c.length/u,v=new Uint8Array(c.length+p),S=[gYe,aW,sW,oW,lW],b=0;b<p;b+=1){var w=b*u,R=c.subarray(w,w+u);if(h)v.set(h(R,d,m),w+b);else{for(var E=S.length,_=[],N=0;N<E;N+=1)_[N]=S[N](R,d,m);var O=SYe(_.concat());v.set(_[O],w+b)}m=R}return v})(e,t,Math.ceil(n*i/8),o);var l=uM(e,{level:a});return Sn.API.__addimage__.arrayBufferToBinaryString(l)}function gYe(e){var t=Array.apply([],e);return t.unshift(0),t}function aW(e,t){var n=e.length,i=[];i[0]=1;for(var r=0;r<n;r+=1){var a=e[r-t]||0;i[r+1]=e[r]-a+256&255}return i}function sW(e,t,n){var i=e.length,r=[];r[0]=2;for(var a=0;a<i;a+=1){var o=n&&n[a]||0;r[a+1]=e[a]-o+256&255}return r}function oW(e,t,n){var i=e.length,r=[];r[0]=3;for(var a=0;a<i;a+=1){var o=e[a-t]||0,l=n&&n[a]||0;r[a+1]=e[a]+256-(o+l>>>1)&255}return r}function lW(e,t,n){var i=e.length,r=[];r[0]=4;for(var a=0;a<i;a+=1){var o=vYe(e[a-t]||0,n&&n[a]||0,n&&n[a-t]||0);r[a+1]=e[a]-o+256&255}return r}function vYe(e,t,n){if(e===t&&t===n)return e;var i=Math.abs(t-n),r=Math.abs(e-n),a=Math.abs(e+t-n-n);return i<=r&&i<=a?e:r<=a?t:n}function SYe(e){var t=e.map(function(n){return n.reduce(function(i,r){return i+Math.abs(r)},0)});return t.indexOf(Math.min.apply(null,t))}function eL(e,t,n){var i=t*n,r=Math.floor(i/8),a=16-(i-8*r+n),o=(1<<n)-1;return Yde(e,r)>>a&o}function cW(e,t,n,i){var r=n*i,a=Math.floor(r/8),o=16-(r-8*a+i),l=(1<<i)-1,c=(t&l)<<o;(function(u,d,h){if(d+1<u.byteLength)u.setUint16(d,h,!1);else{var m=h>>8&255;u.setUint8(d,m)}})(e,a,Yde(e,a)&~(l<<o)&65535|c)}function Yde(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function bYe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,i=e[t++]|e[t++]<<8,r=e[t++],a=r>>7,o=1<<1+(7&r);e[t++],e[t++];var l=null,c=null;a&&(l=t,c=o,t+=3*o);var u=!0,d=[],h=0,m=null,p=0,v=null;for(this.width=n,this.height=i;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,v=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((M=e[t++])>=0))throw Error("Invalid block size");if(M===0)break;t+=M}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var S=e[t++];h=e[t++]|e[t++]<<8,m=e[t++],1&S||(m=null),p=S>>2&7,t++;break;case 254:for(;;){if(!((M=e[t++])>=0))throw Error("Invalid block size");if(M===0)break;t+=M}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var b=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,R=e[t++]|e[t++]<<8,E=e[t++]|e[t++]<<8,_=e[t++],N=_>>6&1,O=1<<1+(7&_),j=l,D=c,P=!1;_>>7&&(P=!0,j=t,D=O,t+=3*O);var B=t;for(t++;;){var M;if(!((M=e[t++])>=0))throw Error("Invalid block size");if(M===0)break;t+=M}d.push({x:b,y:w,width:R,height:E,has_local_palette:P,palette_offset:j,palette_size:D,data_offset:B,data_length:t-B,transparent_index:m,interlaced:!!N,delay:h,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return v},this.frameInfo=function(z){if(z<0||z>=d.length)throw new Error("Frame index out of range.");return d[z]},this.decodeAndBlitFrameBGRA=function(z,U){var K=this.frameInfo(z),te=K.width*K.height,q=new Uint8Array(te);uW(e,K.data_offset,q,te);var V=K.palette_offset,Q=K.transparent_index;Q===null&&(Q=256);var ce=K.width,ae=n-ce,G=ce,H=4*(K.y*n+K.x),T=4*((K.y+K.height)*n+K.x),Y=H,ie=4*ae;K.interlaced===!0&&(ie+=4*n*7);for(var ne=8,J=0,ee=q.length;J<ee;++J){var se=q[J];if(G===0&&(G=ce,(Y+=ie)>=T&&(ie=4*ae+4*n*(ne-1),Y=H+(ce+ae)*(ne<<1),ne>>=1)),se===Q)Y+=4;else{var de=e[V+3*se],he=e[V+3*se+1],me=e[V+3*se+2];U[Y++]=me,U[Y++]=he,U[Y++]=de,U[Y++]=255}--G}},this.decodeAndBlitFrameRGBA=function(z,U){var K=this.frameInfo(z),te=K.width*K.height,q=new Uint8Array(te);uW(e,K.data_offset,q,te);var V=K.palette_offset,Q=K.transparent_index;Q===null&&(Q=256);var ce=K.width,ae=n-ce,G=ce,H=4*(K.y*n+K.x),T=4*((K.y+K.height)*n+K.x),Y=H,ie=4*ae;K.interlaced===!0&&(ie+=4*n*7);for(var ne=8,J=0,ee=q.length;J<ee;++J){var se=q[J];if(G===0&&(G=ce,(Y+=ie)>=T&&(ie=4*ae+4*n*(ne-1),Y=H+(ce+ae)*(ne<<1),ne>>=1)),se===Q)Y+=4;else{var de=e[V+3*se],he=e[V+3*se+1],me=e[V+3*se+2];U[Y++]=de,U[Y++]=he,U[Y++]=me,U[Y++]=255}--G}}}function uW(e,t,n,i){for(var r=e[t++],a=1<<r,o=a+1,l=o+1,c=r+1,u=(1<<c)-1,d=0,h=0,m=0,p=e[t++],v=new Int32Array(4096),S=null;;){for(;d<16&&p!==0;)h|=e[t++]<<d,d+=8,p===1?p=e[t++]:--p;if(d<c)break;var b=h&u;if(h>>=c,d-=c,b!==a){if(b===o)break;for(var w=b<l?b:S,R=0,E=w;E>a;)E=v[E]>>8,++R;var _=E;if(m+R+(w!==b?1:0)>i)return void dr.log("Warning, gif stream longer than expected.");n[m++]=_;var N=m+=R;for(w!==b&&(n[m++]=_),E=w;R--;)E=v[E],n[--N]=255&E,E>>=8;S!==null&&l<4096&&(v[l++]=S<<8|_,l>=u+1&&c<12&&(++c,u=u<<1|1)),S=b}else l=o+1,u=(1<<(c=r+1))-1,S=null}return m!==i&&dr.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function tL(e){var t,n,i,r,a,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),h=new Array(65535),m=new Array(65535),p=new Array(64),v=new Array(64),S=[],b=0,w=7,R=new Array(64),E=new Array(64),_=new Array(64),N=new Array(256),O=new Array(2048),j=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],M=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],z=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],te=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function q(H,T){for(var Y=0,ie=0,ne=new Array,J=1;J<=16;J++){for(var ee=1;ee<=H[J];ee++)ne[T[ie]]=[],ne[T[ie]][0]=Y,ne[T[ie]][1]=J,ie++,Y++;Y*=2}return ne}function V(H){for(var T=H[0],Y=H[1]-1;Y>=0;)T&1<<Y&&(b|=1<<w),Y--,--w<0&&(b==255?(Q(255),Q(0)):Q(b),w=7,b=0)}function Q(H){S.push(H)}function ce(H){Q(H>>8&255),Q(255&H)}function ae(H,T,Y,ie,ne){for(var J,ee=ne[0],se=ne[240],de=(function(ke,Ee){var lt,Mt,St,tt,Je,Ve,qt,Et,rt,xt,Te=0;for(rt=0;rt<8;++rt){lt=ke[Te],Mt=ke[Te+1],St=ke[Te+2],tt=ke[Te+3],Je=ke[Te+4],Ve=ke[Te+5],qt=ke[Te+6];var Ot=lt+(Et=ke[Te+7]),$t=lt-Et,jt=Mt+qt,Ht=Mt-qt,Ie=St+Ve,nt=St-Ve,Lt=tt+Je,kt=tt-Je,vn=Ot+Lt,Rn=Ot-Lt,yn=jt+Ie,Ut=jt-Ie;ke[Te]=vn+yn,ke[Te+4]=vn-yn;var ut=.707106781*(Ut+Rn);ke[Te+2]=Rn+ut,ke[Te+6]=Rn-ut;var Ft=.382683433*((vn=kt+nt)-(Ut=Ht+$t)),Zt=.5411961*vn+Ft,Wt=1.306562965*Ut+Ft,Bn=.707106781*(yn=nt+Ht),Vt=$t+Bn,br=$t-Bn;ke[Te+5]=br+Zt,ke[Te+3]=br-Zt,ke[Te+1]=Vt+Wt,ke[Te+7]=Vt-Wt,Te+=8}for(Te=0,rt=0;rt<8;++rt){lt=ke[Te],Mt=ke[Te+8],St=ke[Te+16],tt=ke[Te+24],Je=ke[Te+32],Ve=ke[Te+40],qt=ke[Te+48];var Ur=lt+(Et=ke[Te+56]),Qi=lt-Et,Mi=Mt+qt,Ii=Mt-qt,xr=St+Ve,Vr=St-Ve,Xu=tt+Je,_s=tt-Je,Ki=Ur+Xu,wr=Ur-Xu,ss=Mi+xr,ao=Mi-xr;ke[Te]=Ki+ss,ke[Te+32]=Ki-ss;var Co=.707106781*(ao+wr);ke[Te+16]=wr+Co,ke[Te+48]=wr-Co;var nf=.382683433*((Ki=_s+Vr)-(ao=Ii+Qi)),ul=.5411961*Ki+nf,dl=1.306562965*ao+nf,Zu=.707106781*(ss=Vr+Ii),fl=Qi+Zu,hl=Qi-Zu;ke[Te+40]=hl+ul,ke[Te+24]=hl-ul,ke[Te+8]=fl+dl,ke[Te+56]=fl-dl,Te++}for(rt=0;rt<64;++rt)xt=ke[rt]*Ee[rt],p[rt]=xt>0?xt+.5|0:xt-.5|0;return p})(H,T),he=0;he<64;++he)v[j[he]]=de[he];var me=v[0]-Y;Y=v[0],me==0?V(ie[0]):(V(ie[m[J=32767+me]]),V(h[J]));for(var we=63;we>0&&v[we]==0;)we--;if(we==0)return V(ee),Y;for(var le,ue=1;ue<=we;){for(var De=ue;v[ue]==0&&ue<=we;)++ue;var Le=ue-De;if(Le>=16){le=Le>>4;for(var Be=1;Be<=le;++Be)V(se);Le&=15}J=32767+v[ue],V(ne[(Le<<4)+m[J]]),V(h[J]),ue++}return we!=63&&V(ee),Y}function G(H){H=Math.min(Math.max(H,1),100),a!=H&&((function(T){for(var Y=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ie=0;ie<64;ie++){var ne=o((Y[ie]*T+50)/100);ne=Math.min(Math.max(ne,1),255),l[j[ie]]=ne}for(var J=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ee=0;ee<64;ee++){var se=o((J[ee]*T+50)/100);se=Math.min(Math.max(se,1),255),c[j[ee]]=se}for(var de=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],he=0,me=0;me<8;me++)for(var we=0;we<8;we++)u[he]=1/(l[j[he]]*de[me]*de[we]*8),d[he]=1/(c[j[he]]*de[me]*de[we]*8),he++})(H<50?Math.floor(5e3/H):Math.floor(200-2*H)),a=H)}this.encode=function(H,T){T&&G(T),S=new Array,b=0,w=7,ce(65496),ce(65504),ce(16),Q(74),Q(70),Q(73),Q(70),Q(0),Q(1),Q(1),Q(0),ce(1),ce(1),Q(0),Q(0),(function(){ce(65499),ce(132),Q(0);for(var Mt=0;Mt<64;Mt++)Q(l[Mt]);Q(1);for(var St=0;St<64;St++)Q(c[St])})(),(function(Mt,St){ce(65472),ce(17),Q(8),ce(St),ce(Mt),Q(3),Q(1),Q(17),Q(0),Q(2),Q(17),Q(1),Q(3),Q(17),Q(1)})(H.width,H.height),(function(){ce(65476),ce(418),Q(0);for(var Mt=0;Mt<16;Mt++)Q(D[Mt+1]);for(var St=0;St<=11;St++)Q(P[St]);Q(16);for(var tt=0;tt<16;tt++)Q(B[tt+1]);for(var Je=0;Je<=161;Je++)Q(M[Je]);Q(1);for(var Ve=0;Ve<16;Ve++)Q(z[Ve+1]);for(var qt=0;qt<=11;qt++)Q(U[qt]);Q(17);for(var Et=0;Et<16;Et++)Q(K[Et+1]);for(var rt=0;rt<=161;rt++)Q(te[rt])})(),ce(65498),ce(12),Q(3),Q(1),Q(0),Q(2),Q(17),Q(3),Q(17),Q(0),Q(63),Q(0);var Y=0,ie=0,ne=0;b=0,w=7,this.encode.displayName="_encode_";for(var J,ee,se,de,he,me,we,le,ue,De=H.data,Le=H.width,Be=H.height,ke=4*Le,Ee=0;Ee<Be;){for(J=0;J<ke;){for(he=ke*Ee+J,we=-1,le=0,ue=0;ue<64;ue++)me=he+(le=ue>>3)*ke+(we=4*(7&ue)),Ee+le>=Be&&(me-=ke*(Ee+1+le-Be)),J+we>=ke&&(me-=J+we-ke+4),ee=De[me++],se=De[me++],de=De[me++],R[ue]=(O[ee]+O[se+256|0]+O[de+512|0]>>16)-128,E[ue]=(O[ee+768|0]+O[se+1024|0]+O[de+1280|0]>>16)-128,_[ue]=(O[ee+1280|0]+O[se+1536|0]+O[de+1792|0]>>16)-128;Y=ae(R,u,Y,t,i),ie=ae(E,d,ie,n,r),ne=ae(_,d,ne,n,r),J+=32}Ee+=8}if(w>=0){var lt=[];lt[1]=w+1,lt[0]=(1<<w+1)-1,V(lt)}return ce(65497),new Uint8Array(S)},e=e||50,(function(){for(var H=String.fromCharCode,T=0;T<256;T++)N[T]=H(T)})(),t=q(D,P),n=q(z,U),i=q(B,M),r=q(K,te),(function(){for(var H=1,T=2,Y=1;Y<=15;Y++){for(var ie=H;ie<T;ie++)m[32767+ie]=Y,h[32767+ie]=[],h[32767+ie][1]=Y,h[32767+ie][0]=ie;for(var ne=-(T-1);ne<=-H;ne++)m[32767+ne]=Y,h[32767+ne]=[],h[32767+ne][1]=Y,h[32767+ne][0]=T-1+ne;H<<=1,T<<=1}})(),(function(){for(var H=0;H<256;H++)O[H]=19595*H,O[H+256|0]=38470*H,O[H+512|0]=7471*H+32768,O[H+768|0]=-11059*H,O[H+1024|0]=-21709*H,O[H+1280|0]=32768*H+8421375,O[H+1536|0]=-27439*H,O[H+1792|0]=-5329*H})(),G(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function fu(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function dW(e){function t(P){if(!P)throw Error("assert :P")}function n(P,B,M){for(var z=0;4>z;z++)if(P[B+z]!=M.charCodeAt(z))return!0;return!1}function i(P,B,M,z,U){for(var K=0;K<U;K++)P[B+K]=M[z+K]}function r(P,B,M,z){for(var U=0;U<z;U++)P[B+U]=M}function a(P){return new Int32Array(P)}function o(P,B){for(var M=[],z=0;z<P;z++)M.push(new B);return M}function l(P,B){var M=[];return(function z(U,K,te){for(var q=te[K],V=0;V<q&&(U.push(te.length>K+1?[]:new B),!(te.length<K+1));V++)z(U[V],K+1,te)})(M,0,P),M}var c=function(){var P=this;function B(C,k){for(var Z=1<<k-1>>>0;C&Z;)Z>>>=1;return Z?(C&Z-1)+Z:C}function M(C,k,Z,oe,ge){t(!(oe%Z));do C[k+(oe-=Z)]=ge;while(0<oe)}function z(C,k,Z,oe,ge){if(t(2328>=ge),512>=ge)var ve=a(512);else if((ve=a(ge))==null)return 0;return(function(Se,xe,_e,Ne,$e,Qe){var Re,Ue,We=xe,ft=1<<_e,Ye=a(16),dt=a(16);for(t($e!=0),t(Ne!=null),t(Se!=null),t(0<_e),Ue=0;Ue<$e;++Ue){if(15<Ne[Ue])return 0;++Ye[Ne[Ue]]}if(Ye[0]==$e)return 0;for(dt[1]=0,Re=1;15>Re;++Re){if(Ye[Re]>1<<Re)return 0;dt[Re+1]=dt[Re]+Ye[Re]}for(Ue=0;Ue<$e;++Ue)Re=Ne[Ue],0<Ne[Ue]&&(Qe[dt[Re]++]=Ue);if(dt[15]==1)return(Ne=new U).g=0,Ne.value=Qe[0],M(Se,We,1,ft,Ne),ft;var gt,Ct=-1,At=ft-1,un=0,Qt=1,$n=1,tn=1<<_e;for(Ue=0,Re=1,$e=2;Re<=_e;++Re,$e<<=1){if(Qt+=$n<<=1,0>($n-=Ye[Re]))return 0;for(;0<Ye[Re];--Ye[Re])(Ne=new U).g=Re,Ne.value=Qe[Ue++],M(Se,We+un,$e,tn,Ne),un=B(un,Re)}for(Re=_e+1,$e=2;15>=Re;++Re,$e<<=1){if(Qt+=$n<<=1,0>($n-=Ye[Re]))return 0;for(;0<Ye[Re];--Ye[Re]){if(Ne=new U,(un&At)!=Ct){for(We+=tn,gt=1<<(Ct=Re)-_e;15>Ct&&!(0>=(gt-=Ye[Ct]));)++Ct,gt<<=1;ft+=tn=1<<(gt=Ct-_e),Se[xe+(Ct=un&At)].g=gt+_e,Se[xe+Ct].value=We-xe-Ct}Ne.g=Re-_e,Ne.value=Qe[Ue++],M(Se,We+(un>>_e),$e,tn,Ne),un=B(un,Re)}}return Qt!=2*dt[15]-1?0:ft})(C,k,Z,oe,ge,ve)}function U(){this.value=this.g=0}function K(){this.value=this.g=0}function te(){this.G=o(5,U),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(ad,K)}function q(C,k,Z,oe){t(C!=null),t(k!=null),t(2147483648>oe),C.Ca=254,C.I=0,C.b=-8,C.Ka=0,C.oa=k,C.pa=Z,C.Jd=k,C.Yc=Z+oe,C.Zc=4<=oe?Z+oe-4+1:Z,ee(C)}function V(C,k){for(var Z=0;0<k--;)Z|=de(C,128)<<k;return Z}function Q(C,k){var Z=V(C,k);return se(C)?-Z:Z}function ce(C,k,Z,oe){var ge,ve=0;for(t(C!=null),t(k!=null),t(4294967288>oe),C.Sb=oe,C.Ra=0,C.u=0,C.h=0,4<oe&&(oe=4),ge=0;ge<oe;++ge)ve+=k[Z+ge]<<8*ge;C.Ra=ve,C.bb=oe,C.oa=k,C.pa=Z}function ae(C){for(;8<=C.u&&C.bb<C.Sb;)C.Ra>>>=8,C.Ra+=C.oa[C.pa+C.bb]<<sc-8>>>0,++C.bb,C.u-=8;ie(C)&&(C.h=1,C.u=0)}function G(C,k){if(t(0<=k),!C.h&&k<=Ns){var Z=Y(C)&Bs[k];return C.u+=k,ae(C),Z}return C.h=1,C.u=0}function H(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function T(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Y(C){return C.Ra>>>(C.u&sc-1)>>>0}function ie(C){return t(C.bb<=C.Sb),C.h||C.bb==C.Sb&&C.u>sc}function ne(C,k){C.u=k,C.h=ie(C)}function J(C){C.u>=oc&&(t(C.u>=oc),ae(C))}function ee(C){t(C!=null&&C.oa!=null),C.pa<C.Zc?(C.I=(C.oa[C.pa++]|C.I<<8)>>>0,C.b+=8):(t(C!=null&&C.oa!=null),C.pa<C.Yc?(C.b+=8,C.I=C.oa[C.pa++]|C.I<<8):C.Ka?C.b=0:(C.I<<=8,C.b+=8,C.Ka=1))}function se(C){return V(C,1)}function de(C,k){var Z=C.Ca;0>C.b&&ee(C);var oe=C.b,ge=Z*k>>>8,ve=(C.I>>>oe>ge)+0;for(ve?(Z-=ge,C.I-=ge+1<<oe>>>0):Z=ge+1,oe=Z,ge=0;256<=oe;)ge+=8,oe>>=8;return oe=7^ge+Zc[oe],C.b-=oe,C.Ca=(Z<<oe)-1,ve}function he(C,k,Z){C[k+0]=Z>>24&255,C[k+1]=Z>>16&255,C[k+2]=Z>>8&255,C[k+3]=255&Z}function me(C,k){return C[k+0]|C[k+1]<<8}function we(C,k){return me(C,k)|C[k+2]<<16}function le(C,k){return me(C,k)|me(C,k+2)<<16}function ue(C,k){var Z=1<<k;return t(C!=null),t(0<k),C.X=a(Z),C.X==null?0:(C.Mb=32-k,C.Xa=k,1)}function De(C,k){t(C!=null),t(k!=null),t(C.Xa==k.Xa),i(k.X,0,C.X,0,1<<k.Xa)}function Le(){this.X=[],this.Xa=this.Mb=0}function Be(C,k,Z,oe){t(Z!=null),t(oe!=null);var ge=Z[0],ve=oe[0];return ge==0&&(ge=(C*ve+k/2)/k),ve==0&&(ve=(k*ge+C/2)/C),0>=ge||0>=ve?0:(Z[0]=ge,oe[0]=ve,1)}function ke(C,k){return C+(1<<k)-1>>>k}function Ee(C,k){return((4278255360&C)+(4278255360&k)>>>0&4278255360)+((16711935&C)+(16711935&k)>>>0&16711935)>>>0}function lt(C,k){P[k]=function(Z,oe,ge,ve,Se,xe,_e){var Ne;for(Ne=0;Ne<Se;++Ne){var $e=P[C](xe[_e+Ne-1],ge,ve+Ne);xe[_e+Ne]=Ee(Z[oe+Ne],$e)}}}function Mt(){this.ud=this.hd=this.jd=0}function St(C,k){return((4278124286&(C^k))>>>1)+(C&k)>>>0}function tt(C){return 0<=C&&256>C?C:0>C?0:255<C?255:void 0}function Je(C,k){return tt(C+(C-k+.5>>1))}function Ve(C,k,Z){return Math.abs(k-Z)-Math.abs(C-Z)}function qt(C,k,Z,oe,ge,ve,Se){for(oe=ve[Se-1],Z=0;Z<ge;++Z)ve[Se+Z]=oe=Ee(C[k+Z],oe)}function Et(C,k,Z,oe,ge){var ve;for(ve=0;ve<Z;++ve){var Se=C[k+ve],xe=Se>>8&255,_e=16711935&(_e=(_e=16711935&Se)+((xe<<16)+xe));oe[ge+ve]=(4278255360&Se)+_e>>>0}}function rt(C,k){k.jd=255&C,k.hd=C>>8&255,k.ud=C>>16&255}function xt(C,k,Z,oe,ge,ve){var Se;for(Se=0;Se<oe;++Se){var xe=k[Z+Se],_e=xe>>>8,Ne=xe,$e=255&($e=($e=xe>>>16)+((C.jd<<24>>24)*(_e<<24>>24)>>>5));Ne=255&(Ne=(Ne+=(C.hd<<24>>24)*(_e<<24>>24)>>>5)+((C.ud<<24>>24)*($e<<24>>24)>>>5)),ge[ve+Se]=(4278255360&xe)+($e<<16)+Ne}}function Te(C,k,Z,oe,ge){P[k]=function(ve,Se,xe,_e,Ne,$e,Qe,Re,Ue){for(_e=Qe;_e<Re;++_e)for(Qe=0;Qe<Ue;++Qe)Ne[$e++]=ge(xe[oe(ve[Se++])])},P[C]=function(ve,Se,xe,_e,Ne,$e,Qe){var Re=8>>ve.b,Ue=ve.Ea,We=ve.K[0],ft=ve.w;if(8>Re)for(ve=(1<<ve.b)-1,ft=(1<<Re)-1;Se<xe;++Se){var Ye,dt=0;for(Ye=0;Ye<Ue;++Ye)Ye&ve||(dt=oe(_e[Ne++])),$e[Qe++]=ge(We[dt&ft]),dt>>=Re}else P["VP8LMapColor"+Z](_e,Ne,We,ft,$e,Qe,Se,xe,Ue)}}function Ot(C,k,Z,oe,ge){for(Z=k+Z;k<Z;){var ve=C[k++];oe[ge++]=ve>>16&255,oe[ge++]=ve>>8&255,oe[ge++]=255&ve}}function $t(C,k,Z,oe,ge){for(Z=k+Z;k<Z;){var ve=C[k++];oe[ge++]=ve>>16&255,oe[ge++]=ve>>8&255,oe[ge++]=255&ve,oe[ge++]=ve>>24&255}}function jt(C,k,Z,oe,ge){for(Z=k+Z;k<Z;){var ve=(Se=C[k++])>>16&240|Se>>12&15,Se=240&Se|Se>>28&15;oe[ge++]=ve,oe[ge++]=Se}}function Ht(C,k,Z,oe,ge){for(Z=k+Z;k<Z;){var ve=(Se=C[k++])>>16&248|Se>>13&7,Se=Se>>5&224|Se>>3&31;oe[ge++]=ve,oe[ge++]=Se}}function Ie(C,k,Z,oe,ge){for(Z=k+Z;k<Z;){var ve=C[k++];oe[ge++]=255&ve,oe[ge++]=ve>>8&255,oe[ge++]=ve>>16&255}}function nt(C,k,Z,oe,ge,ve){if(ve==0)for(Z=k+Z;k<Z;)he(oe,((ve=C[k++])[0]>>24|ve[1]>>8&65280|ve[2]<<8&16711680|ve[3]<<24)>>>0),ge+=32;else i(oe,ge,C,k,Z)}function Lt(C,k){P[k][0]=P[C+"0"],P[k][1]=P[C+"1"],P[k][2]=P[C+"2"],P[k][3]=P[C+"3"],P[k][4]=P[C+"4"],P[k][5]=P[C+"5"],P[k][6]=P[C+"6"],P[k][7]=P[C+"7"],P[k][8]=P[C+"8"],P[k][9]=P[C+"9"],P[k][10]=P[C+"10"],P[k][11]=P[C+"11"],P[k][12]=P[C+"12"],P[k][13]=P[C+"13"],P[k][14]=P[C+"0"],P[k][15]=P[C+"0"]}function kt(C){return C==sy||C==wv||C==Hh||C==Ev}function vn(){this.eb=[],this.size=this.A=this.fb=0}function Rn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function yn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new vn,this.f.kb=new Rn,this.sd=null}function Ut(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ut(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ft(C){return alert("todo:WebPSamplerProcessPlane"),C.T}function Zt(C,k){var Z=C.T,oe=k.ba.f.RGBA,ge=oe.eb,ve=oe.fb+C.ka*oe.A,Se=Ha[k.ba.S],xe=C.y,_e=C.O,Ne=C.f,$e=C.N,Qe=C.ea,Re=C.W,Ue=k.cc,We=k.dc,ft=k.Mc,Ye=k.Nc,dt=C.ka,gt=C.ka+C.T,Ct=C.U,At=Ct+1>>1;for(dt==0?Se(xe,_e,null,null,Ne,$e,Qe,Re,Ne,$e,Qe,Re,ge,ve,null,null,Ct):(Se(k.ec,k.fc,xe,_e,Ue,We,ft,Ye,Ne,$e,Qe,Re,ge,ve-oe.A,ge,ve,Ct),++Z);dt+2<gt;dt+=2)Ue=Ne,We=$e,ft=Qe,Ye=Re,$e+=C.Rc,Re+=C.Rc,ve+=2*oe.A,Se(xe,(_e+=2*C.fa)-C.fa,xe,_e,Ue,We,ft,Ye,Ne,$e,Qe,Re,ge,ve-oe.A,ge,ve,Ct);return _e+=C.fa,C.j+gt<C.o?(i(k.ec,k.fc,xe,_e,Ct),i(k.cc,k.dc,Ne,$e,At),i(k.Mc,k.Nc,Qe,Re,At),Z--):1&gt||Se(xe,_e,null,null,Ne,$e,Qe,Re,Ne,$e,Qe,Re,ge,ve+oe.A,null,null,Ct),Z}function Wt(C,k,Z){var oe=C.F,ge=[C.J];if(oe!=null){var ve=C.U,Se=k.ba.S,xe=Se==ay||Se==Hh;k=k.ba.f.RGBA;var _e=[0],Ne=C.ka;_e[0]=C.T,C.Kb&&(Ne==0?--_e[0]:(--Ne,ge[0]-=C.width),C.j+C.ka+C.T==C.o&&(_e[0]=C.o-C.j-Ne));var $e=k.eb;Ne=k.fb+Ne*k.A,C=ty(oe,ge[0],C.width,ve,_e,$e,Ne+(xe?0:3),k.A),t(Z==_e),C&&kt(Se)&&yf($e,Ne,xe,ve,_e,k.A)}return 0}function Bn(C){var k=C.ma,Z=k.ba.S,oe=11>Z,ge=Z==us||Z==Po||Z==ay||Z==Gh||Z==12||kt(Z);if(k.memory=null,k.Ib=null,k.Jb=null,k.Nd=null,!Xc(k.Oa,C,ge?11:12))return 0;if(ge&&kt(Z)&&yv(),C.da)alert("todo:use_scaling");else{if(oe){if(k.Ib=Ft,C.Kb){if(Z=C.U+1>>1,k.memory=a(C.U+2*Z),k.memory==null)return 0;k.ec=k.memory,k.fc=0,k.cc=k.ec,k.dc=k.fc+C.U,k.Mc=k.cc,k.Nc=k.dc+Z,k.Ib=Zt,yv()}}else alert("todo:EmitYUV");ge&&(k.Jb=Wt,oe&&To())}if(oe&&!fd){for(C=0;256>C;++C)qa[C]=89858*(C-128)+Yh>>Uo,Xj[C]=-22014*(C-128)+Yh,Dw[C]=-45773*(C-128),Ov[C]=113618*(C-128)+Yh>>Uo;for(C=bf;C<dd;++C)k=76283*(C-16)+Yh>>Uo,Zj[C-bf]=Lr(k,255),e5[C-bf]=Lr(k+8>>4,15);fd=1}return 1}function Vt(C){var k=C.ma,Z=C.U,oe=C.T;return t(!(1&C.ka)),0>=Z||0>=oe?0:(Z=k.Ib(C,k),k.Jb!=null&&k.Jb(C,k,Z),k.Dc+=Z,1)}function br(C){C.ma.memory=null}function Ur(C,k,Z,oe){return G(C,8)!=47?0:(k[0]=G(C,14)+1,Z[0]=G(C,14)+1,oe[0]=G(C,1),G(C,3)!=0?0:!C.h)}function Qi(C,k){if(4>C)return C+1;var Z=C-2>>1;return(2+(1&C)<<Z)+G(k,Z)+1}function Mi(C,k){return 120<k?k-120:1<=(Z=((Z=$o[k-1])>>4)*C+(8-(15&Z)))?Z:1;var Z}function Ii(C,k,Z){var oe=Y(Z),ge=C[k+=255&oe].g-8;return 0<ge&&(ne(Z,Z.u+8),oe=Y(Z),k+=C[k].value,k+=oe&(1<<ge)-1),ne(Z,Z.u+C[k].g),C[k].value}function xr(C,k,Z){return Z.g+=C.g,Z.value+=C.value<<k>>>0,t(8>=Z.g),C.g}function Vr(C,k,Z){var oe=C.xc;return t((k=oe==0?0:C.vc[C.md*(Z>>oe)+(k>>oe)])<C.Wb),C.Ya[k]}function Xu(C,k,Z,oe){var ge=C.ab,ve=C.c*k,Se=C.C;k=Se+k;var xe=Z,_e=oe;for(oe=C.Ta,Z=C.Ua;0<ge--;){var Ne=C.gc[ge],$e=Se,Qe=k,Re=xe,Ue=_e,We=(_e=oe,xe=Z,Ne.Ea);switch(t($e<Qe),t(Qe<=Ne.nc),Ne.hc){case 2:qr(Re,Ue,(Qe-$e)*We,_e,xe);break;case 0:var ft=$e,Ye=Qe,dt=_e,gt=xe,Ct=(tn=Ne).Ea;ft==0&&(zh(Re,Ue,null,null,1,dt,gt),qt(Re,Ue+1,0,0,Ct-1,dt,gt+1),Ue+=Ct,gt+=Ct,++ft);for(var At=1<<tn.b,un=At-1,Qt=ke(Ct,tn.b),$n=tn.K,tn=tn.w+(ft>>tn.b)*Qt;ft<Ye;){var ai=$n,cr=tn,Wn=1;for(Uh(Re,Ue,dt,gt-Ct,1,dt,gt);Wn<Ct;){var Xt=(Wn&~un)+At;Xt>Ct&&(Xt=Ct),(0,eu[ai[cr++]>>8&15])(Re,Ue+ +Wn,dt,gt+Wn-Ct,Xt-Wn,dt,gt+Wn),Wn=Xt}Ue+=Ct,gt+=Ct,++ft&un||(tn+=Qt)}Qe!=Ne.nc&&i(_e,xe-We,_e,xe+(Qe-$e-1)*We,We);break;case 1:for(We=Re,Ye=Ue,Ct=(Re=Ne.Ea)-(gt=Re&~(dt=(Ue=1<<Ne.b)-1)),ft=ke(Re,Ne.b),At=Ne.K,Ne=Ne.w+($e>>Ne.b)*ft;$e<Qe;){for(un=At,Qt=Ne,$n=new Mt,tn=Ye+gt,ai=Ye+Re;Ye<tn;)rt(un[Qt++],$n),Vh($n,We,Ye,Ue,_e,xe),Ye+=Ue,xe+=Ue;Ye<ai&&(rt(un[Qt++],$n),Vh($n,We,Ye,Ct,_e,xe),Ye+=Ct,xe+=Ct),++$e&dt||(Ne+=ft)}break;case 3:if(Re==_e&&Ue==xe&&0<Ne.b){for(Ye=_e,Re=We=xe+(Qe-$e)*We-(gt=(Qe-$e)*ke(Ne.Ea,Ne.b)),Ue=_e,dt=xe,ft=[],gt=(Ct=gt)-1;0<=gt;--gt)ft[gt]=Ue[dt+gt];for(gt=Ct-1;0<=gt;--gt)Ye[Re+gt]=ft[gt];gv(Ne,$e,Qe,_e,We,_e,xe)}else gv(Ne,$e,Qe,Re,Ue,_e,xe)}xe=oe,_e=Z}_e!=Z&&i(oe,Z,xe,_e,ve)}function _s(C,k){var Z=C.V,oe=C.Ba+C.c*C.C,ge=k-C.C;if(t(k<=C.l.o),t(16>=ge),0<ge){var ve=C.l,Se=C.Ta,xe=C.Ua,_e=ve.width;if(Xu(C,ge,Z,oe),ge=xe=[xe],t((Z=C.C)<(oe=k)),t(ve.v<ve.va),oe>ve.o&&(oe=ve.o),Z<ve.j){var Ne=ve.j-Z;Z=ve.j,ge[0]+=Ne*_e}if(Z>=oe?Z=0:(ge[0]+=4*ve.v,ve.ka=Z-ve.j,ve.U=ve.va-ve.v,ve.T=oe-Z,Z=1),Z){if(xe=xe[0],11>(Z=C.ca).S){var $e=Z.f.RGBA,Qe=(oe=Z.S,ge=ve.U,ve=ve.T,Ne=$e.eb,$e.A),Re=ve;for($e=$e.fb+C.Ma*$e.A;0<Re--;){var Ue=Se,We=xe,ft=ge,Ye=Ne,dt=$e;switch(oe){case bv:Kh(Ue,We,ft,Ye,dt);break;case us:tu(Ue,We,ft,Ye,dt);break;case sy:tu(Ue,We,ft,Ye,dt),yf(Ye,dt,0,ft,1,0);break;case xv:pf(Ue,We,ft,Ye,dt);break;case Po:nt(Ue,We,ft,Ye,dt,1);break;case wv:nt(Ue,We,ft,Ye,dt,1),yf(Ye,dt,0,ft,1,0);break;case ay:nt(Ue,We,ft,Ye,dt,0);break;case Hh:nt(Ue,We,ft,Ye,dt,0),yf(Ye,dt,1,ft,1,0);break;case Gh:nu(Ue,We,ft,Ye,dt);break;case Ev:nu(Ue,We,ft,Ye,dt),Io(Ye,dt,ft,1,0);break;case sd:uc(Ue,We,ft,Ye,dt);break;default:t(0)}xe+=_e,$e+=Qe}C.Ma+=ve}else alert("todo:EmitRescaledRowsYUVA");t(C.Ma<=Z.height)}}C.C=k,t(C.C<=C.i)}function Ki(C){var k;if(0<C.ua)return 0;for(k=0;k<C.Wb;++k){var Z=C.Ya[k].G,oe=C.Ya[k].H;if(0<Z[1][oe[1]+0].g||0<Z[2][oe[2]+0].g||0<Z[3][oe[3]+0].g)return 0}return 1}function wr(C,k,Z,oe,ge,ve){if(C.Z!=0){var Se=C.qd,xe=C.rd;for(t(au[C.Z]!=null);k<Z;++k)au[C.Z](Se,xe,oe,ge,oe,ge,ve),Se=oe,xe=ge,ge+=ve;C.qd=Se,C.rd=xe}}function ss(C,k){var Z=C.l.ma,oe=Z.Z==0||Z.Z==1?C.l.j:C.C;if(oe=C.C<oe?oe:C.C,t(k<=C.l.o),k>oe){var ge=C.l.width,ve=Z.ca,Se=Z.tb+ge*oe,xe=C.V,_e=C.Ba+C.c*oe,Ne=C.gc;t(C.ab==1),t(Ne[0].hc==3),cc(Ne[0],oe,k,xe,_e,ve,Se),wr(Z,oe,k,ve,Se,ge)}C.C=C.Ma=k}function ao(C,k,Z,oe,ge,ve,Se){var xe=C.$/oe,_e=C.$%oe,Ne=C.m,$e=C.s,Qe=Z+C.$,Re=Qe;ge=Z+oe*ge;var Ue=Z+oe*ve,We=280+$e.ua,ft=C.Pb?xe:16777216,Ye=0<$e.ua?$e.Wa:null,dt=$e.wc,gt=Qe<Ue?Vr($e,_e,xe):null;t(C.C<ve),t(Ue<=ge);var Ct=!1;e:for(;;){for(;Ct||Qe<Ue;){var At=0;if(xe>=ft){var un=Qe-Z;t((ft=C).Pb),ft.wd=ft.m,ft.xd=un,0<ft.s.ua&&De(ft.s.Wa,ft.s.vb),ft=xe+od}if(_e&dt||(gt=Vr($e,_e,xe)),t(gt!=null),gt.Qb&&(k[Qe]=gt.qb,Ct=!0),!Ct)if(J(Ne),gt.jc){At=Ne,un=k;var Qt=Qe,$n=gt.pd[Y(At)&ad-1];t(gt.jc),256>$n.g?(ne(At,At.u+$n.g),un[Qt]=$n.value,At=0):(ne(At,At.u+$n.g-256),t(256<=$n.value),At=$n.value),At==0&&(Ct=!0)}else At=Ii(gt.G[0],gt.H[0],Ne);if(Ne.h)break;if(Ct||256>At){if(!Ct)if(gt.nd)k[Qe]=(gt.qb|At<<8)>>>0;else{if(J(Ne),Ct=Ii(gt.G[1],gt.H[1],Ne),J(Ne),un=Ii(gt.G[2],gt.H[2],Ne),Qt=Ii(gt.G[3],gt.H[3],Ne),Ne.h)break;k[Qe]=(Qt<<24|Ct<<16|At<<8|un)>>>0}if(Ct=!1,++Qe,++_e>=oe&&(_e=0,++xe,Se!=null&&xe<=ve&&!(xe%16)&&Se(C,xe),Ye!=null))for(;Re<Qe;)At=k[Re++],Ye.X[(506832829*At&4294967295)>>>Ye.Mb]=At}else if(280>At){if(At=Qi(At-256,Ne),un=Ii(gt.G[4],gt.H[4],Ne),J(Ne),un=Mi(oe,un=Qi(un,Ne)),Ne.h)break;if(Qe-Z<un||ge-Qe<At)break e;for(Qt=0;Qt<At;++Qt)k[Qe+Qt]=k[Qe+Qt-un];for(Qe+=At,_e+=At;_e>=oe;)_e-=oe,++xe,Se!=null&&xe<=ve&&!(xe%16)&&Se(C,xe);if(t(Qe<=ge),_e&dt&&(gt=Vr($e,_e,xe)),Ye!=null)for(;Re<Qe;)At=k[Re++],Ye.X[(506832829*At&4294967295)>>>Ye.Mb]=At}else{if(!(At<We))break e;for(Ct=At-280,t(Ye!=null);Re<Qe;)At=k[Re++],Ye.X[(506832829*At&4294967295)>>>Ye.Mb]=At;At=Qe,t(!(Ct>>>(un=Ye).Xa)),k[At]=un.X[Ct],Ct=!0}Ct||t(Ne.h==ie(Ne))}if(C.Pb&&Ne.h&&Qe<ge)t(C.m.h),C.a=5,C.m=C.wd,C.$=C.xd,0<C.s.ua&&De(C.s.vb,C.s.Wa);else{if(Ne.h)break e;Se!=null&&Se(C,xe>ve?ve:xe),C.a=0,C.$=Qe-Z}return 1}return C.a=3,0}function Co(C){t(C!=null),C.vc=null,C.yc=null,C.Ya=null;var k=C.Wa;k!=null&&(k.X=null),C.vb=null,t(C!=null)}function nf(){var C=new hn;return C==null?null:(C.a=0,C.xb=SS,Lt("Predictor","VP8LPredictors"),Lt("Predictor","VP8LPredictors_C"),Lt("PredictorAdd","VP8LPredictorsAdd"),Lt("PredictorAdd","VP8LPredictorsAdd_C"),qr=Et,Vh=xt,Kh=Ot,tu=$t,nu=jt,uc=Ht,pf=Ie,P.VP8LMapColor32b=lc,P.VP8LMapColor8b=Va,C)}function ul(C,k,Z,oe,ge){var ve=1,Se=[C],xe=[k],_e=oe.m,Ne=oe.s,$e=null,Qe=0;e:for(;;){if(Z)for(;ve&&G(_e,1);){var Re=Se,Ue=xe,We=oe,ft=1,Ye=We.m,dt=We.gc[We.ab],gt=G(Ye,2);if(We.Oc&1<<gt)ve=0;else{switch(We.Oc|=1<<gt,dt.hc=gt,dt.Ea=Re[0],dt.nc=Ue[0],dt.K=[null],++We.ab,t(4>=We.ab),gt){case 0:case 1:dt.b=G(Ye,3)+2,ft=ul(ke(dt.Ea,dt.b),ke(dt.nc,dt.b),0,We,dt.K),dt.K=dt.K[0];break;case 3:var Ct,At=G(Ye,8)+1,un=16<At?0:4<At?1:2<At?2:3;if(Re[0]=ke(dt.Ea,un),dt.b=un,Ct=ft=ul(At,1,0,We,dt.K)){var Qt,$n=At,tn=dt,ai=1<<(8>>tn.b),cr=a(ai);if(cr==null)Ct=0;else{var Wn=tn.K[0],Xt=tn.w;for(cr[0]=tn.K[0][0],Qt=1;Qt<1*$n;++Qt)cr[Qt]=Ee(Wn[Xt+Qt],cr[Qt-1]);for(;Qt<4*ai;++Qt)cr[Qt]=0;tn.K[0]=null,tn.K[0]=cr,Ct=1}}ft=Ct;break;case 2:break;default:t(0)}ve=ft}}if(Se=Se[0],xe=xe[0],ve&&G(_e,1)&&!(ve=1<=(Qe=G(_e,4))&&11>=Qe)){oe.a=3;break e}var zt;if(zt=ve)t:{var _r,On,Xn,Pi=oe,ya=Se,Wa=xe,er=Qe,ta=Z,ds=Pi.m,na=Pi.s,ti=[null],Si=1,Ar=0,Ni=Fo[er];n:for(;;){if(ta&&G(ds,1)){var ga=G(ds,3)+2,Rr=ke(ya,ga),bi=ke(Wa,ga),Jr=Rr*bi;if(!ul(Rr,bi,0,Pi,ti))break n;for(ti=ti[0],na.xc=ga,_r=0;_r<Jr;++_r){var ki=ti[_r]>>8&65535;ti[_r]=ki,ki>=Si&&(Si=ki+1)}}if(ds.h)break n;for(On=0;5>On;++On){var ia=vf[On];!On&&0<er&&(ia+=1<<er),Ar<ia&&(Ar=ia)}var ra=o(Si*Ni,U),Gi=Si,fi=o(Gi,te);if(fi==null)var fs=null;else t(65536>=Gi),fs=fi;var Mr=a(Ar);if(fs==null||Mr==null||ra==null){Pi.a=1;break n}var bn=ra;for(_r=Xn=0;_r<Si;++_r){var xn=fs[_r],xi=xn.G,zs=xn.H,Vo=0,js=1,aa=0;for(On=0;5>On;++On){ia=vf[On],xi[On]=bn,zs[On]=Xn,!On&&0<er&&(ia+=1<<er);r:{var hd,pd=ia,Dv=Pi,tr=Mr,xS=bn,wS=Xn,Cv=0,su=Dv.m,t5=G(su,1);if(r(tr,0,0,pd),t5){var ES=G(su,1)+1,_S=G(su,1),Lv=G(su,_S==0?1:8);tr[Lv]=1,ES==2&&(tr[Lv=G(su,8)]=1);var Na=1}else{var Ir=a(19),uy=G(su,4)+4;if(19<uy){Dv.a=3;var md=0;break r}for(hd=0;hd<uy;++hd)Ir[oy[hd]]=G(su,3);var Qh=void 0,xf=void 0,hc=Dv,Tv=Ir,Xh=pd,Mv=tr,Iv=0,ou=hc.m,AS=8,RS=o(128,U);i:for(;z(RS,0,7,Tv,19);){if(G(ou,1)){var Cw=2+2*G(ou,3);if((Qh=2+G(ou,Cw))>Xh)break i}else Qh=Xh;for(xf=0;xf<Xh&&Qh--;){J(ou);var NS=RS[0+(127&Y(ou))];ne(ou,ou.u+NS.g);var yd=NS.value;if(16>yd)Mv[xf++]=yd,yd!=0&&(AS=yd);else{var Lw=yd==16,Tw=yd-16,Mw=qh[Tw],OS=G(ou,ko[Tw])+Mw;if(xf+OS>Xh)break i;for(var Iw=Lw?AS:0;0<OS--;)Mv[xf++]=Iw}}Iv=1;break i}Iv||(hc.a=3),Na=Iv}(Na=Na&&!su.h)&&(Cv=z(xS,wS,8,tr,pd)),Na&&Cv!=0?md=Cv:(Dv.a=3,md=0)}if(md==0)break n;if(js&&_v[On]==1&&(js=bn[Xn].g==0),Vo+=bn[Xn].g,Xn+=md,3>=On){var wf,Pv=Mr[0];for(wf=1;wf<ia;++wf)Mr[wf]>Pv&&(Pv=Mr[wf]);aa+=Pv}}if(xn.nd=js,xn.Qb=0,js&&(xn.qb=(xi[3][zs[3]+0].value<<24|xi[1][zs[1]+0].value<<16|xi[2][zs[2]+0].value)>>>0,Vo==0&&256>xi[0][zs[0]+0].value&&(xn.Qb=1,xn.qb+=xi[0][zs[0]+0].value<<8)),xn.jc=!xn.Qb&&6>aa,xn.jc){var dy,pc=xn;for(dy=0;dy<ad;++dy){var lu=dy,cu=pc.pd[lu],kv=pc.G[0][pc.H[0]+lu];256<=kv.value?(cu.g=kv.g+256,cu.value=kv.value):(cu.g=0,cu.value=0,lu>>=xr(kv,8,cu),lu>>=xr(pc.G[1][pc.H[1]+lu],16,cu),lu>>=xr(pc.G[2][pc.H[2]+lu],0,cu),xr(pc.G[3][pc.H[3]+lu],24,cu))}}}na.vc=ti,na.Wb=Si,na.Ya=fs,na.yc=ra,zt=1;break t}zt=0}if(!(ve=zt)){oe.a=3;break e}if(0<Qe){if(Ne.ua=1<<Qe,!ue(Ne.Wa,Qe)){oe.a=1,ve=0;break e}}else Ne.ua=0;var $v=oe,Ef=Se,Pw=xe,Zh=$v.s,ep=Zh.xc;if($v.c=Ef,$v.i=Pw,Zh.md=ke(Ef,ep),Zh.wc=ep==0?-1:(1<<ep)-1,Z){oe.xb=ld;break e}if(($e=a(Se*xe))==null){oe.a=1,ve=0;break e}ve=(ve=ao(oe,$e,0,Se,xe,xe,null))&&!_e.h;break e}return ve?(ge!=null?ge[0]=$e:(t($e==null),t(Z)),oe.$=0,Z||Co(Ne)):Co(Ne),ve}function dl(C,k){var Z=C.c*C.i,oe=Z+k+16*k;return t(C.c<=k),C.V=a(oe),C.V==null?(C.Ta=null,C.Ua=0,C.a=1,0):(C.Ta=C.V,C.Ua=C.Ba+Z+k,1)}function Zu(C,k){var Z=C.C,oe=k-Z,ge=C.V,ve=C.Ba+C.c*Z;for(t(k<=C.l.o);0<oe;){var Se=16<oe?16:oe,xe=C.l.ma,_e=C.l.width,Ne=_e*Se,$e=xe.ca,Qe=xe.tb+_e*Z,Re=C.Ta,Ue=C.Ua;Xu(C,Se,ge,ve),po(Re,Ue,$e,Qe,Ne),wr(xe,Z,Z+Se,$e,Qe,_e),oe-=Se,ge+=Se*C.c,Z+=Se}t(Z==k),C.C=C.Ma=k}function fl(){this.ub=this.yd=this.td=this.Rb=0}function hl(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function rf(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Zl(){this.Yb=(function(){var C=[];return(function k(Z,oe,ge){for(var ve=ge[oe],Se=0;Se<ve&&(Z.push(ge.length>oe+1?[]:0),!(ge.length<oe+1));Se++)k(Z[Se],oe+1,ge)})(C,0,[3,11]),C})()}function Kr(){this.jb=a(3),this.Wc=l([4,8],Zl),this.Xc=l([4,17],Zl)}function $m(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function so(){this.ld=this.La=this.dd=this.tc=0}function pl(){this.Na=this.la=0}function zc(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Fm(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Bm(){this.uc=this.M=this.Nb=0,this.wa=Array(new so),this.Y=0,this.ya=Array(new Fm),this.aa=0,this.l=new Uc}function zm(){this.y=a(16),this.f=a(8),this.ea=a(8)}function ov(){this.cb=this.a=0,this.sc="",this.m=new H,this.Od=new fl,this.Kc=new hl,this.ed=new $m,this.Qa=new rf,this.Ic=this.$c=this.Aa=0,this.D=new Bm,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,H),this.ia=0,this.pb=o(4,zc),this.Pa=new Kr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new zm),this.Hd=0,this.rb=Array(new pl),this.sb=0,this.wa=Array(new so),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Fm),this.L=this.aa=0,this.gd=l([4,2],so),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Uc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Mh(){var C=new ov;return C!=null&&(C.a=0,C.sc="OK",C.cb=0,C.Xb=0,mo||(mo=Vc)),C}function Ui(C,k,Z){return C.a==0&&(C.a=k,C.sc=Z,C.cb=0),0}function As(C,k,Z){return 3<=Z&&C[k+0]==157&&C[k+1]==1&&C[k+2]==42}function Um(C,k){if(C==null)return 0;if(C.a=0,C.sc="OK",k==null)return Ui(C,2,"null VP8Io passed to VP8GetHeaders()");var Z=k.data,oe=k.w,ge=k.ha;if(4>ge)return Ui(C,7,"Truncated header.");var ve=Z[oe+0]|Z[oe+1]<<8|Z[oe+2]<<16,Se=C.Od;if(Se.Rb=!(1&ve),Se.td=ve>>1&7,Se.yd=ve>>4&1,Se.ub=ve>>5,3<Se.td)return Ui(C,3,"Incorrect keyframe parameters.");if(!Se.yd)return Ui(C,4,"Frame not displayable.");oe+=3,ge-=3;var xe=C.Kc;if(Se.Rb){if(7>ge)return Ui(C,7,"cannot parse picture header");if(!As(Z,oe,ge))return Ui(C,3,"Bad code word");xe.c=16383&(Z[oe+4]<<8|Z[oe+3]),xe.Td=Z[oe+4]>>6,xe.i=16383&(Z[oe+6]<<8|Z[oe+5]),xe.Ud=Z[oe+6]>>6,oe+=7,ge-=7,C.za=xe.c+15>>4,C.Ub=xe.i+15>>4,k.width=xe.c,k.height=xe.i,k.Da=0,k.j=0,k.v=0,k.va=k.width,k.o=k.height,k.da=0,k.ib=k.width,k.hb=k.height,k.U=k.width,k.T=k.height,r((ve=C.Pa).jb,0,255,ve.jb.length),t((ve=C.Qa)!=null),ve.Cb=0,ve.Bb=0,ve.Fb=1,r(ve.Zb,0,0,ve.Zb.length),r(ve.Lb,0,0,ve.Lb)}if(Se.ub>ge)return Ui(C,7,"bad partition length");q(ve=C.m,Z,oe,Se.ub),oe+=Se.ub,ge-=Se.ub,Se.Rb&&(xe.Ld=se(ve),xe.Kd=se(ve)),xe=C.Qa;var _e,Ne=C.Pa;if(t(ve!=null),t(xe!=null),xe.Cb=se(ve),xe.Cb){if(xe.Bb=se(ve),se(ve)){for(xe.Fb=se(ve),_e=0;4>_e;++_e)xe.Zb[_e]=se(ve)?Q(ve,7):0;for(_e=0;4>_e;++_e)xe.Lb[_e]=se(ve)?Q(ve,6):0}if(xe.Bb)for(_e=0;3>_e;++_e)Ne.jb[_e]=se(ve)?V(ve,8):255}else xe.Bb=0;if(ve.Ka)return Ui(C,3,"cannot parse segment header");if((xe=C.ed).zd=se(ve),xe.Tb=V(ve,6),xe.wb=V(ve,3),xe.Pc=se(ve),xe.Pc&&se(ve)){for(Ne=0;4>Ne;++Ne)se(ve)&&(xe.vd[Ne]=Q(ve,6));for(Ne=0;4>Ne;++Ne)se(ve)&&(xe.od[Ne]=Q(ve,6))}if(C.L=xe.Tb==0?0:xe.zd?1:2,ve.Ka)return Ui(C,3,"cannot parse filter header");var $e=ge;if(ge=_e=oe,oe=_e+$e,xe=$e,C.Xb=(1<<V(C.m,2))-1,$e<3*(Ne=C.Xb))Z=7;else{for(_e+=3*Ne,xe-=3*Ne,$e=0;$e<Ne;++$e){var Qe=Z[ge+0]|Z[ge+1]<<8|Z[ge+2]<<16;Qe>xe&&(Qe=xe),q(C.Jc[+$e],Z,_e,Qe),_e+=Qe,xe-=Qe,ge+=3}q(C.Jc[+Ne],Z,_e,xe),Z=_e<oe?0:5}if(Z!=0)return Ui(C,Z,"cannot parse partitions");for(Z=V(_e=C.m,7),ge=se(_e)?Q(_e,4):0,oe=se(_e)?Q(_e,4):0,xe=se(_e)?Q(_e,4):0,Ne=se(_e)?Q(_e,4):0,_e=se(_e)?Q(_e,4):0,$e=C.Qa,Qe=0;4>Qe;++Qe){if($e.Cb){var Re=$e.Zb[Qe];$e.Fb||(Re+=Z)}else{if(0<Qe){C.pb[Qe]=C.pb[0];continue}Re=Z}var Ue=C.pb[Qe];Ue.Sc[0]=Bo[Lr(Re+ge,127)],Ue.Sc[1]=zo[Lr(Re+0,127)],Ue.Eb[0]=2*Bo[Lr(Re+oe,127)],Ue.Eb[1]=101581*zo[Lr(Re+xe,127)]>>16,8>Ue.Eb[1]&&(Ue.Eb[1]=8),Ue.Qc[0]=Bo[Lr(Re+Ne,117)],Ue.Qc[1]=zo[Lr(Re+_e,127)],Ue.lc=Re+_e}if(!Se.Rb)return Ui(C,4,"Not a key frame.");for(se(ve),Se=C.Pa,Z=0;4>Z;++Z){for(ge=0;8>ge;++ge)for(oe=0;3>oe;++oe)for(xe=0;11>xe;++xe)Ne=de(ve,lr[Z][ge][oe][xe])?V(ve,8):jw[Z][ge][oe][xe],Se.Wc[Z][ge].Yb[oe][xe]=Ne;for(ge=0;17>ge;++ge)Se.Xc[Z][ge]=Se.Wc[Z][si[ge]]}return C.kc=se(ve),C.kc&&(C.Bd=V(ve,8)),C.cb=1}function Vc(C,k,Z,oe,ge,ve,Se){var xe=k[ge].Yb[Z];for(Z=0;16>ge;++ge){if(!de(C,xe[Z+0]))return ge;for(;!de(C,xe[Z+1]);)if(xe=k[++ge].Yb[0],Z=0,ge==16)return 16;var _e=k[ge+1].Yb;if(de(C,xe[Z+2])){var Ne=C,$e=0;if(de(Ne,(Re=xe)[(Qe=Z)+3]))if(de(Ne,Re[Qe+6])){for(xe=0,Qe=2*($e=de(Ne,Re[Qe+8]))+(Re=de(Ne,Re[Qe+9+$e])),$e=0,Re=Ow[Qe];Re[xe];++xe)$e+=$e+de(Ne,Re[xe]);$e+=3+(8<<Qe)}else de(Ne,Re[Qe+7])?($e=7+2*de(Ne,165),$e+=de(Ne,145)):$e=5+de(Ne,159);else $e=de(Ne,Re[Qe+4])?3+de(Ne,Re[Qe+5]):2;xe=_e[2]}else $e=1,xe=_e[1];_e=Se+vS[ge],0>(Ne=C).b&&ee(Ne);var Qe,Re=Ne.b,Ue=(Qe=Ne.Ca>>1)-(Ne.I>>Re)>>31;--Ne.b,Ne.Ca+=Ue,Ne.Ca|=1,Ne.I-=(Qe+1&Ue)<<Re,ve[_e]=(($e^Ue)-Ue)*oe[(0<ge)+0]}return 16}function Kc(C){var k=C.rb[C.sb-1];k.la=0,k.Na=0,r(C.zc,0,0,C.zc.length),C.ja=0}function Lo(C,k,Z,oe,ge){ge=C[k+Z+32*oe]+(ge>>3),C[k+Z+32*oe]=-256&ge?0>ge?0:255:ge}function ec(C,k,Z,oe,ge,ve){Lo(C,k,0,Z,oe+ge),Lo(C,k,1,Z,oe+ve),Lo(C,k,2,Z,oe-ve),Lo(C,k,3,Z,oe-ge)}function Gr(C){return(20091*C>>16)+C}function os(C,k,Z,oe){var ge,ve=0,Se=a(16);for(ge=0;4>ge;++ge){var xe=C[k+0]+C[k+8],_e=C[k+0]-C[k+8],Ne=(35468*C[k+4]>>16)-Gr(C[k+12]),$e=Gr(C[k+4])+(35468*C[k+12]>>16);Se[ve+0]=xe+$e,Se[ve+1]=_e+Ne,Se[ve+2]=_e-Ne,Se[ve+3]=xe-$e,ve+=4,k++}for(ge=ve=0;4>ge;++ge)xe=(C=Se[ve+0]+4)+Se[ve+8],_e=C-Se[ve+8],Ne=(35468*Se[ve+4]>>16)-Gr(Se[ve+12]),Lo(Z,oe,0,0,xe+($e=Gr(Se[ve+4])+(35468*Se[ve+12]>>16))),Lo(Z,oe,1,0,_e+Ne),Lo(Z,oe,2,0,_e-Ne),Lo(Z,oe,3,0,xe-$e),ve++,oe+=32}function Vm(C,k,Z,oe){var ge=C[k+0]+4,ve=35468*C[k+4]>>16,Se=Gr(C[k+4]),xe=35468*C[k+1]>>16;ec(Z,oe,0,ge+Se,C=Gr(C[k+1]),xe),ec(Z,oe,1,ge+ve,C,xe),ec(Z,oe,2,ge-ve,C,xe),ec(Z,oe,3,ge-Se,C,xe)}function lv(C,k,Z,oe,ge){os(C,k,Z,oe),ge&&os(C,k+16,Z,oe+4)}function Km(C,k,Z,oe){iu(C,k+0,Z,oe,1),iu(C,k+32,Z,oe+128,1)}function Rs(C,k,Z,oe){var ge;for(C=C[k+0]+4,ge=0;4>ge;++ge)for(k=0;4>k;++k)Lo(Z,oe,k,ge,C)}function Gm(C,k,Z,oe){C[k+0]&&Ri(C,k+0,Z,oe),C[k+16]&&Ri(C,k+16,Z,oe+4),C[k+32]&&Ri(C,k+32,Z,oe+128),C[k+48]&&Ri(C,k+48,Z,oe+128+4)}function Hm(C,k,Z,oe){var ge,ve=a(16);for(ge=0;4>ge;++ge){var Se=C[k+0+ge]+C[k+12+ge],xe=C[k+4+ge]+C[k+8+ge],_e=C[k+4+ge]-C[k+8+ge],Ne=C[k+0+ge]-C[k+12+ge];ve[0+ge]=Se+xe,ve[8+ge]=Se-xe,ve[4+ge]=Ne+_e,ve[12+ge]=Ne-_e}for(ge=0;4>ge;++ge)Se=(C=ve[0+4*ge]+3)+ve[3+4*ge],xe=ve[1+4*ge]+ve[2+4*ge],_e=ve[1+4*ge]-ve[2+4*ge],Ne=C-ve[3+4*ge],Z[oe+0]=Se+xe>>3,Z[oe+16]=Ne+_e>>3,Z[oe+32]=Se-xe>>3,Z[oe+48]=Ne-_e>>3,oe+=64}function oo(C,k,Z){var oe,ge=k-32,ve=cs,Se=255-C[ge-1];for(oe=0;oe<Z;++oe){var xe,_e=ve,Ne=Se+C[k-1];for(xe=0;xe<Z;++xe)C[k+xe]=_e[Ne+C[ge+xe]];k+=32}}function qm(C,k){oo(C,k,4)}function cv(C,k){oo(C,k,8)}function uv(C,k){oo(C,k,16)}function Wm(C,k){var Z;for(Z=0;16>Z;++Z)i(C,k+32*Z,C,k-32,16)}function Ym(C,k){var Z;for(Z=16;0<Z;--Z)r(C,k,C[k-1],16),k+=32}function af(C,k,Z){var oe;for(oe=0;16>oe;++oe)r(k,Z+32*oe,C,16)}function ml(C,k){var Z,oe=16;for(Z=0;16>Z;++Z)oe+=C[k-1+32*Z]+C[k+Z-32];af(oe>>5,C,k)}function yl(C,k){var Z,oe=8;for(Z=0;16>Z;++Z)oe+=C[k-1+32*Z];af(oe>>4,C,k)}function Gc(C,k){var Z,oe=8;for(Z=0;16>Z;++Z)oe+=C[k+Z-32];af(oe>>4,C,k)}function sf(C,k){af(128,C,k)}function Nn(C,k,Z){return C+2*k+Z+2>>2}function ed(C,k){var Z,oe=k-32;for(oe=new Uint8Array([Nn(C[oe-1],C[oe+0],C[oe+1]),Nn(C[oe+0],C[oe+1],C[oe+2]),Nn(C[oe+1],C[oe+2],C[oe+3]),Nn(C[oe+2],C[oe+3],C[oe+4])]),Z=0;4>Z;++Z)i(C,k+32*Z,oe,0,oe.length)}function dv(C,k){var Z=C[k-1],oe=C[k-1+32],ge=C[k-1+64],ve=C[k-1+96];he(C,k+0,16843009*Nn(C[k-1-32],Z,oe)),he(C,k+32,16843009*Nn(Z,oe,ge)),he(C,k+64,16843009*Nn(oe,ge,ve)),he(C,k+96,16843009*Nn(ge,ve,ve))}function Jm(C,k){var Z,oe=4;for(Z=0;4>Z;++Z)oe+=C[k+Z-32]+C[k-1+32*Z];for(oe>>=3,Z=0;4>Z;++Z)r(C,k+32*Z,oe,4)}function fv(C,k){var Z=C[k-1+0],oe=C[k-1+32],ge=C[k-1+64],ve=C[k-1-32],Se=C[k+0-32],xe=C[k+1-32],_e=C[k+2-32],Ne=C[k+3-32];C[k+0+96]=Nn(oe,ge,C[k-1+96]),C[k+1+96]=C[k+0+64]=Nn(Z,oe,ge),C[k+2+96]=C[k+1+64]=C[k+0+32]=Nn(ve,Z,oe),C[k+3+96]=C[k+2+64]=C[k+1+32]=C[k+0+0]=Nn(Se,ve,Z),C[k+3+64]=C[k+2+32]=C[k+1+0]=Nn(xe,Se,ve),C[k+3+32]=C[k+2+0]=Nn(_e,xe,Se),C[k+3+0]=Nn(Ne,_e,xe)}function lo(C,k){var Z=C[k+1-32],oe=C[k+2-32],ge=C[k+3-32],ve=C[k+4-32],Se=C[k+5-32],xe=C[k+6-32],_e=C[k+7-32];C[k+0+0]=Nn(C[k+0-32],Z,oe),C[k+1+0]=C[k+0+32]=Nn(Z,oe,ge),C[k+2+0]=C[k+1+32]=C[k+0+64]=Nn(oe,ge,ve),C[k+3+0]=C[k+2+32]=C[k+1+64]=C[k+0+96]=Nn(ge,ve,Se),C[k+3+32]=C[k+2+64]=C[k+1+96]=Nn(ve,Se,xe),C[k+3+64]=C[k+2+96]=Nn(Se,xe,_e),C[k+3+96]=Nn(xe,_e,_e)}function Ba(C,k){var Z=C[k-1+0],oe=C[k-1+32],ge=C[k-1+64],ve=C[k-1-32],Se=C[k+0-32],xe=C[k+1-32],_e=C[k+2-32],Ne=C[k+3-32];C[k+0+0]=C[k+1+64]=ve+Se+1>>1,C[k+1+0]=C[k+2+64]=Se+xe+1>>1,C[k+2+0]=C[k+3+64]=xe+_e+1>>1,C[k+3+0]=_e+Ne+1>>1,C[k+0+96]=Nn(ge,oe,Z),C[k+0+64]=Nn(oe,Z,ve),C[k+0+32]=C[k+1+96]=Nn(Z,ve,Se),C[k+1+32]=C[k+2+96]=Nn(ve,Se,xe),C[k+2+32]=C[k+3+96]=Nn(Se,xe,_e),C[k+3+32]=Nn(xe,_e,Ne)}function Qm(C,k){var Z=C[k+0-32],oe=C[k+1-32],ge=C[k+2-32],ve=C[k+3-32],Se=C[k+4-32],xe=C[k+5-32],_e=C[k+6-32],Ne=C[k+7-32];C[k+0+0]=Z+oe+1>>1,C[k+1+0]=C[k+0+64]=oe+ge+1>>1,C[k+2+0]=C[k+1+64]=ge+ve+1>>1,C[k+3+0]=C[k+2+64]=ve+Se+1>>1,C[k+0+32]=Nn(Z,oe,ge),C[k+1+32]=C[k+0+96]=Nn(oe,ge,ve),C[k+2+32]=C[k+1+96]=Nn(ge,ve,Se),C[k+3+32]=C[k+2+96]=Nn(ve,Se,xe),C[k+3+64]=Nn(Se,xe,_e),C[k+3+96]=Nn(xe,_e,Ne)}function of(C,k){var Z=C[k-1+0],oe=C[k-1+32],ge=C[k-1+64],ve=C[k-1+96];C[k+0+0]=Z+oe+1>>1,C[k+2+0]=C[k+0+32]=oe+ge+1>>1,C[k+2+32]=C[k+0+64]=ge+ve+1>>1,C[k+1+0]=Nn(Z,oe,ge),C[k+3+0]=C[k+1+32]=Nn(oe,ge,ve),C[k+3+32]=C[k+1+64]=Nn(ge,ve,ve),C[k+3+64]=C[k+2+64]=C[k+0+96]=C[k+1+96]=C[k+2+96]=C[k+3+96]=ve}function co(C,k){var Z=C[k-1+0],oe=C[k-1+32],ge=C[k-1+64],ve=C[k-1+96],Se=C[k-1-32],xe=C[k+0-32],_e=C[k+1-32],Ne=C[k+2-32];C[k+0+0]=C[k+2+32]=Z+Se+1>>1,C[k+0+32]=C[k+2+64]=oe+Z+1>>1,C[k+0+64]=C[k+2+96]=ge+oe+1>>1,C[k+0+96]=ve+ge+1>>1,C[k+3+0]=Nn(xe,_e,Ne),C[k+2+0]=Nn(Se,xe,_e),C[k+1+0]=C[k+3+32]=Nn(Z,Se,xe),C[k+1+32]=C[k+3+64]=Nn(oe,Z,Se),C[k+1+64]=C[k+3+96]=Nn(ge,oe,Z),C[k+1+96]=Nn(ve,ge,oe)}function lf(C,k){var Z;for(Z=0;8>Z;++Z)i(C,k+32*Z,C,k-32,8)}function tc(C,k){var Z;for(Z=0;8>Z;++Z)r(C,k,C[k-1],8),k+=32}function cf(C,k,Z){var oe;for(oe=0;8>oe;++oe)r(k,Z+32*oe,C,8)}function Hc(C,k){var Z,oe=8;for(Z=0;8>Z;++Z)oe+=C[k+Z-32]+C[k-1+32*Z];cf(oe>>4,C,k)}function Ih(C,k){var Z,oe=4;for(Z=0;8>Z;++Z)oe+=C[k+Z-32];cf(oe>>3,C,k)}function Ph(C,k){var Z,oe=4;for(Z=0;8>Z;++Z)oe+=C[k-1+32*Z];cf(oe>>3,C,k)}function Ra(C,k){cf(128,C,k)}function uo(C,k,Z){var oe=C[k-Z],ge=C[k+0],ve=3*(ge-oe)+ru[1020+C[k-2*Z]-C[k+Z]],Se=ry[112+(ve+4>>3)];C[k-Z]=cs[255+oe+ry[112+(ve+3>>3)]],C[k+0]=cs[255+ge-Se]}function nc(C,k,Z,oe){var ge=C[k+0],ve=C[k+Z];return Ka[255+C[k-2*Z]-C[k-Z]]>oe||Ka[255+ve-ge]>oe}function qc(C,k,Z,oe){return 4*Ka[255+C[k-Z]-C[k+0]]+Ka[255+C[k-2*Z]-C[k+Z]]<=oe}function kh(C,k,Z,oe,ge){var ve=C[k-3*Z],Se=C[k-2*Z],xe=C[k-Z],_e=C[k+0],Ne=C[k+Z],$e=C[k+2*Z],Qe=C[k+3*Z];return 4*Ka[255+xe-_e]+Ka[255+Se-Ne]>oe?0:Ka[255+C[k-4*Z]-ve]<=ge&&Ka[255+ve-Se]<=ge&&Ka[255+Se-xe]<=ge&&Ka[255+Qe-$e]<=ge&&Ka[255+$e-Ne]<=ge&&Ka[255+Ne-_e]<=ge}function uf(C,k,Z,oe){var ge=2*oe+1;for(oe=0;16>oe;++oe)qc(C,k+oe,Z,ge)&&uo(C,k+oe,Z)}function Wc(C,k,Z,oe){var ge=2*oe+1;for(oe=0;16>oe;++oe)qc(C,k+oe*Z,1,ge)&&uo(C,k+oe*Z,1)}function td(C,k,Z,oe){var ge;for(ge=3;0<ge;--ge)uf(C,k+=4*Z,Z,oe)}function df(C,k,Z,oe){var ge;for(ge=3;0<ge;--ge)Wc(C,k+=4,Z,oe)}function ic(C,k,Z,oe,ge,ve,Se,xe){for(ve=2*ve+1;0<ge--;){if(kh(C,k,Z,ve,Se))if(nc(C,k,Z,xe))uo(C,k,Z);else{var _e=C,Ne=k,$e=Z,Qe=_e[Ne-2*$e],Re=_e[Ne-$e],Ue=_e[Ne+0],We=_e[Ne+$e],ft=_e[Ne+2*$e],Ye=27*(gt=ru[1020+3*(Ue-Re)+ru[1020+Qe-We]])+63>>7,dt=18*gt+63>>7,gt=9*gt+63>>7;_e[Ne-3*$e]=cs[255+_e[Ne-3*$e]+gt],_e[Ne-2*$e]=cs[255+Qe+dt],_e[Ne-$e]=cs[255+Re+Ye],_e[Ne+0]=cs[255+Ue-Ye],_e[Ne+$e]=cs[255+We-dt],_e[Ne+2*$e]=cs[255+ft-gt]}k+=oe}}function Yc(C,k,Z,oe,ge,ve,Se,xe){for(ve=2*ve+1;0<ge--;){if(kh(C,k,Z,ve,Se))if(nc(C,k,Z,xe))uo(C,k,Z);else{var _e=C,Ne=k,$e=Z,Qe=_e[Ne-$e],Re=_e[Ne+0],Ue=_e[Ne+$e],We=ry[112+(4+(ft=3*(Re-Qe))>>3)],ft=ry[112+(ft+3>>3)],Ye=We+1>>1;_e[Ne-2*$e]=cs[255+_e[Ne-2*$e]+Ye],_e[Ne-$e]=cs[255+Qe+ft],_e[Ne+0]=cs[255+Re-We],_e[Ne+$e]=cs[255+Ue-Ye]}k+=oe}}function hv(C,k,Z,oe,ge,ve){ic(C,k,Z,1,16,oe,ge,ve)}function pv(C,k,Z,oe,ge,ve){ic(C,k,1,Z,16,oe,ge,ve)}function Jc(C,k,Z,oe,ge,ve){var Se;for(Se=3;0<Se;--Se)Yc(C,k+=4*Z,Z,1,16,oe,ge,ve)}function mv(C,k,Z,oe,ge,ve){var Se;for(Se=3;0<Se;--Se)Yc(C,k+=4,1,Z,16,oe,ge,ve)}function W(C,k,Z,oe,ge,ve,Se,xe){ic(C,k,ge,1,8,ve,Se,xe),ic(Z,oe,ge,1,8,ve,Se,xe)}function ye(C,k,Z,oe,ge,ve,Se,xe){ic(C,k,1,ge,8,ve,Se,xe),ic(Z,oe,1,ge,8,ve,Se,xe)}function je(C,k,Z,oe,ge,ve,Se,xe){Yc(C,k+4*ge,ge,1,8,ve,Se,xe),Yc(Z,oe+4*ge,ge,1,8,ve,Se,xe)}function Pe(C,k,Z,oe,ge,ve,Se,xe){Yc(C,k+4,1,ge,8,ve,Se,xe),Yc(Z,oe+4,1,ge,8,ve,Se,xe)}function Ke(){this.ba=new yn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ut,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function yt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Nt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function on(){this.ua=0,this.Wa=new Le,this.vb=new Le,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new te,this.yc=new U}function hn(){this.xb=this.a=0,this.l=new Uc,this.ca=new yn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new T,this.Pb=0,this.wd=new T,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new on,this.ab=0,this.gc=o(4,Nt),this.Oc=0}function Ln(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Uc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function zn(C,k,Z,oe,ge,ve,Se){for(C=C==null?0:C[k+0],k=0;k<Se;++k)ge[ve+k]=C+Z[oe+k]&255,C=ge[ve+k]}function Ai(C,k,Z,oe,ge,ve,Se){var xe;if(C==null)zn(null,null,Z,oe,ge,ve,Se);else for(xe=0;xe<Se;++xe)ge[ve+xe]=C[k+xe]+Z[oe+xe]&255}function Er(C,k,Z,oe,ge,ve,Se){if(C==null)zn(null,null,Z,oe,ge,ve,Se);else{var xe,_e=C[k+0],Ne=_e,$e=_e;for(xe=0;xe<Se;++xe)Ne=$e+(_e=C[k+xe])-Ne,$e=Z[oe+xe]+(-256&Ne?0>Ne?0:255:Ne)&255,Ne=_e,ge[ve+xe]=$e}}function Hr(C,k,Z,oe){var ge=k.width,ve=k.o;if(t(C!=null&&k!=null),0>Z||0>=oe||Z+oe>ve)return null;if(!C.Cc){if(C.ga==null){var Se;if(C.ga=new Ln,(Se=C.ga==null)||(Se=k.width*k.o,t(C.Gb.length==0),C.Gb=a(Se),C.Uc=0,C.Gb==null?Se=0:(C.mb=C.Gb,C.nb=C.Uc,C.rc=null,Se=1),Se=!Se),!Se){Se=C.ga;var xe=C.Fa,_e=C.P,Ne=C.qc,$e=C.mb,Qe=C.nb,Re=_e+1,Ue=Ne-1,We=Se.l;if(t(xe!=null&&$e!=null&&k!=null),au[0]=null,au[1]=zn,au[2]=Ai,au[3]=Er,Se.ca=$e,Se.tb=Qe,Se.c=k.width,Se.i=k.height,t(0<Se.c&&0<Se.i),1>=Ne)k=0;else if(Se.$a=3&xe[_e+0],Se.Z=xe[_e+0]>>2&3,Se.Lc=xe[_e+0]>>4&3,_e=xe[_e+0]>>6&3,0>Se.$a||1<Se.$a||4<=Se.Z||1<Se.Lc||_e)k=0;else if(We.put=Vt,We.ac=Bn,We.bc=br,We.ma=Se,We.width=k.width,We.height=k.height,We.Da=k.Da,We.v=k.v,We.va=k.va,We.j=k.j,We.o=k.o,Se.$a)e:{t(Se.$a==1),k=nf();t:for(;;){if(k==null){k=0;break e}if(t(Se!=null),Se.mc=k,k.c=Se.c,k.i=Se.i,k.l=Se.l,k.l.ma=Se,k.l.width=Se.c,k.l.height=Se.i,k.a=0,ce(k.m,xe,Re,Ue),!ul(Se.c,Se.i,1,k,null)||(k.ab==1&&k.gc[0].hc==3&&Ki(k.s)?(Se.ic=1,xe=k.c*k.i,k.Ta=null,k.Ua=0,k.V=a(xe),k.Ba=0,k.V==null?(k.a=1,k=0):k=1):(Se.ic=0,k=dl(k,Se.c)),!k))break t;k=1;break e}Se.mc=null,k=0}else k=Ue>=Se.c*Se.i;Se=!k}if(Se)return null;C.ga.Lc!=1?C.Ga=0:oe=ve-Z}t(C.ga!=null),t(Z+oe<=ve);e:{if(k=(xe=C.ga).c,ve=xe.l.o,xe.$a==0){if(Re=C.rc,Ue=C.Vc,We=C.Fa,_e=C.P+1+Z*k,Ne=C.mb,$e=C.nb+Z*k,t(_e<=C.P+C.qc),xe.Z!=0)for(t(au[xe.Z]!=null),Se=0;Se<oe;++Se)au[xe.Z](Re,Ue,We,_e,Ne,$e,k),Re=Ne,Ue=$e,$e+=k,_e+=k;else for(Se=0;Se<oe;++Se)i(Ne,$e,We,_e,k),Re=Ne,Ue=$e,$e+=k,_e+=k;C.rc=Re,C.Vc=Ue}else{if(t(xe.mc!=null),k=Z+oe,t((Se=xe.mc)!=null),t(k<=Se.i),Se.C>=k)k=1;else if(xe.ic||To(),xe.ic){xe=Se.V,Re=Se.Ba,Ue=Se.c;var ft=Se.i,Ye=(We=1,_e=Se.$/Ue,Ne=Se.$%Ue,$e=Se.m,Qe=Se.s,Se.$),dt=Ue*ft,gt=Ue*k,Ct=Qe.wc,At=Ye<gt?Vr(Qe,Ne,_e):null;t(Ye<=dt),t(k<=ft),t(Ki(Qe));t:for(;;){for(;!$e.h&&Ye<gt;){if(Ne&Ct||(At=Vr(Qe,Ne,_e)),t(At!=null),J($e),256>(ft=Ii(At.G[0],At.H[0],$e)))xe[Re+Ye]=ft,++Ye,++Ne>=Ue&&(Ne=0,++_e<=k&&!(_e%16)&&ss(Se,_e));else{if(!(280>ft)){We=0;break t}ft=Qi(ft-256,$e);var un,Qt=Ii(At.G[4],At.H[4],$e);if(J($e),!(Ye>=(Qt=Mi(Ue,Qt=Qi(Qt,$e)))&&dt-Ye>=ft)){We=0;break t}for(un=0;un<ft;++un)xe[Re+Ye+un]=xe[Re+Ye+un-Qt];for(Ye+=ft,Ne+=ft;Ne>=Ue;)Ne-=Ue,++_e<=k&&!(_e%16)&&ss(Se,_e);Ye<gt&&Ne&Ct&&(At=Vr(Qe,Ne,_e))}t($e.h==ie($e))}ss(Se,_e>k?k:_e);break t}!We||$e.h&&Ye<dt?(We=0,Se.a=$e.h?5:3):Se.$=Ye,k=We}else k=ao(Se,Se.V,Se.Ba,Se.c,Se.i,k,Zu);if(!k){oe=0;break e}}Z+oe>=ve&&(C.Cc=1),oe=1}if(!oe)return null;if(C.Cc&&((oe=C.ga)!=null&&(oe.mc=null),C.ga=null,0<C.Ga))return alert("todo:WebPDequantizeLevels"),null}return C.nb+Z*ge}function Xi(C,k,Z,oe,ge,ve){for(;0<ge--;){var Se,xe=C,_e=k+(Z?1:0),Ne=C,$e=k+(Z?0:3);for(Se=0;Se<oe;++Se){var Qe=Ne[$e+4*Se];Qe!=255&&(Qe*=32897,xe[_e+4*Se+0]=xe[_e+4*Se+0]*Qe>>23,xe[_e+4*Se+1]=xe[_e+4*Se+1]*Qe>>23,xe[_e+4*Se+2]=xe[_e+4*Se+2]*Qe>>23)}k+=ve}}function ma(C,k,Z,oe,ge){for(;0<oe--;){var ve;for(ve=0;ve<Z;++ve){var Se=C[k+2*ve+0],xe=15&(Ne=C[k+2*ve+1]),_e=4369*xe,Ne=(240&Ne|Ne>>4)*_e>>16;C[k+2*ve+0]=(240&Se|Se>>4)*_e>>16&240|(15&Se|Se<<4)*_e>>16>>4&15,C[k+2*ve+1]=240&Ne|xe}k+=ge}}function ea(C,k,Z,oe,ge,ve,Se,xe){var _e,Ne,$e=255;for(Ne=0;Ne<ge;++Ne){for(_e=0;_e<oe;++_e){var Qe=C[k+_e];ve[Se+4*_e]=Qe,$e&=Qe}k+=Z,Se+=xe}return $e!=255}function za(C,k,Z,oe,ge){var ve;for(ve=0;ve<ge;++ve)Z[oe+ve]=C[k+ve]>>8}function To(){yf=Xi,Io=ma,ty=ea,po=za}function Fs(C,k,Z){P[C]=function(oe,ge,ve,Se,xe,_e,Ne,$e,Qe,Re,Ue,We,ft,Ye,dt,gt,Ct){var At,un=Ct-1>>1,Qt=xe[_e+0]|Ne[$e+0]<<16,$n=Qe[Re+0]|Ue[We+0]<<16;t(oe!=null);var tn=3*Qt+$n+131074>>2;for(k(oe[ge+0],255&tn,tn>>16,ft,Ye),ve!=null&&(tn=3*$n+Qt+131074>>2,k(ve[Se+0],255&tn,tn>>16,dt,gt)),At=1;At<=un;++At){var ai=xe[_e+At]|Ne[$e+At]<<16,cr=Qe[Re+At]|Ue[We+At]<<16,Wn=Qt+ai+$n+cr+524296,Xt=Wn+2*(ai+$n)>>3;tn=Xt+Qt>>1,Qt=(Wn=Wn+2*(Qt+cr)>>3)+ai>>1,k(oe[ge+2*At-1],255&tn,tn>>16,ft,Ye+(2*At-1)*Z),k(oe[ge+2*At-0],255&Qt,Qt>>16,ft,Ye+(2*At-0)*Z),ve!=null&&(tn=Wn+$n>>1,Qt=Xt+cr>>1,k(ve[Se+2*At-1],255&tn,tn>>16,dt,gt+(2*At-1)*Z),k(ve[Se+2*At+0],255&Qt,Qt>>16,dt,gt+(2*At+0)*Z)),Qt=ai,$n=cr}1&Ct||(tn=3*Qt+$n+131074>>2,k(oe[ge+Ct-1],255&tn,tn>>16,ft,Ye+(Ct-1)*Z),ve!=null&&(tn=3*$n+Qt+131074>>2,k(ve[Se+Ct-1],255&tn,tn>>16,dt,gt+(Ct-1)*Z)))}}function yv(){Ha[bv]=Sf,Ha[us]=Wh,Ha[xv]=bS,Ha[Po]=Rv,Ha[ay]=cd,Ha[Gh]=fc,Ha[sd]=ud,Ha[sy]=Wh,Ha[wv]=Rv,Ha[Hh]=cd,Ha[Ev]=fc}function $h(C){return C&-16384?0>C?0:255:C>>Nv}function ff(C,k){return $h((19077*C>>8)+(26149*k>>8)-14234)}function rc(C,k,Z){return $h((19077*C>>8)-(6419*k>>8)-(13320*Z>>8)+8708)}function gl(C,k){return $h((19077*C>>8)+(33050*k>>8)-17685)}function hf(C,k,Z,oe,ge){oe[ge+0]=ff(C,Z),oe[ge+1]=rc(C,k,Z),oe[ge+2]=gl(C,k)}function nd(C,k,Z,oe,ge){oe[ge+0]=gl(C,k),oe[ge+1]=rc(C,k,Z),oe[ge+2]=ff(C,Z)}function Ua(C,k,Z,oe,ge){var ve=rc(C,k,Z);k=ve<<3&224|gl(C,k)>>3,oe[ge+0]=248&ff(C,Z)|ve>>5,oe[ge+1]=k}function id(C,k,Z,oe,ge){var ve=240&gl(C,k)|15;oe[ge+0]=240&ff(C,Z)|rc(C,k,Z)>>4,oe[ge+1]=ve}function rd(C,k,Z,oe,ge){oe[ge+0]=255,hf(C,k,Z,oe,ge+1)}function Fh(C,k,Z,oe,ge){nd(C,k,Z,oe,ge),oe[ge+3]=255}function ac(C,k,Z,oe,ge){hf(C,k,Z,oe,ge),oe[ge+3]=255}function Lr(C,k){return 0>C?0:C>k?k:C}function Qc(C,k,Z){P[C]=function(oe,ge,ve,Se,xe,_e,Ne,$e,Qe){for(var Re=$e+(-2&Qe)*Z;$e!=Re;)k(oe[ge+0],ve[Se+0],xe[_e+0],Ne,$e),k(oe[ge+1],ve[Se+0],xe[_e+0],Ne,$e+Z),ge+=2,++Se,++_e,$e+=2*Z;1&Qe&&k(oe[ge+0],ve[Se+0],xe[_e+0],Ne,$e)}}function Bh(C,k,Z){return Z==0?C==0?k==0?6:5:k==0?4:0:Z}function Xm(C,k,Z,oe,ge){switch(C>>>30){case 3:iu(k,Z,oe,ge,0);break;case 2:ls(k,Z,oe,ge);break;case 1:Ri(k,Z,oe,ge)}}function fo(C,k){var Z,oe,ge=k.M,ve=k.Nb,Se=C.oc,xe=C.pc+40,_e=C.oc,Ne=C.pc+584,$e=C.oc,Qe=C.pc+600;for(Z=0;16>Z;++Z)Se[xe+32*Z-1]=129;for(Z=0;8>Z;++Z)_e[Ne+32*Z-1]=129,$e[Qe+32*Z-1]=129;for(0<ge?Se[xe-1-32]=_e[Ne-1-32]=$e[Qe-1-32]=129:(r(Se,xe-32-1,127,21),r(_e,Ne-32-1,127,9),r($e,Qe-32-1,127,9)),oe=0;oe<C.za;++oe){var Re=k.ya[k.aa+oe];if(0<oe){for(Z=-1;16>Z;++Z)i(Se,xe+32*Z-4,Se,xe+32*Z+12,4);for(Z=-1;8>Z;++Z)i(_e,Ne+32*Z-4,_e,Ne+32*Z+4,4),i($e,Qe+32*Z-4,$e,Qe+32*Z+4,4)}var Ue=C.Gd,We=C.Hd+oe,ft=Re.ad,Ye=Re.Hc;if(0<ge&&(i(Se,xe-32,Ue[We].y,0,16),i(_e,Ne-32,Ue[We].f,0,8),i($e,Qe-32,Ue[We].ea,0,8)),Re.Za){var dt=Se,gt=xe-32+16;for(0<ge&&(oe>=C.za-1?r(dt,gt,Ue[We].y[15],4):i(dt,gt,Ue[We+1].y,0,4)),Z=0;4>Z;Z++)dt[gt+128+Z]=dt[gt+256+Z]=dt[gt+384+Z]=dt[gt+0+Z];for(Z=0;16>Z;++Z,Ye<<=2)dt=Se,gt=xe+Yr[Z],Tr[Re.Ob[Z]](dt,gt),Xm(Ye,ft,16*+Z,dt,gt)}else if(dt=Bh(oe,ge,Re.Ob[0]),Os[dt](Se,xe),Ye!=0)for(Z=0;16>Z;++Z,Ye<<=2)Xm(Ye,ft,16*+Z,Se,xe+Yr[Z]);for(Z=Re.Gc,dt=Bh(oe,ge,Re.Dd),xl[dt](_e,Ne),xl[dt]($e,Qe),Ye=ft,dt=_e,gt=Ne,255&(Re=0|Z)&&(170&Re?Mo(Ye,256,dt,gt):di(Ye,256,dt,gt)),Re=$e,Ye=Qe,255&(Z>>=8)&&(170&Z?Mo(ft,320,Re,Ye):di(ft,320,Re,Ye)),ge<C.Ub-1&&(i(Ue[We].y,0,Se,xe+480,16),i(Ue[We].f,0,_e,Ne+224,8),i(Ue[We].ea,0,$e,Qe+224,8)),Z=8*ve*C.B,Ue=C.sa,We=C.ta+16*oe+16*ve*C.R,ft=C.qa,Re=C.ra+8*oe+Z,Ye=C.Ha,dt=C.Ia+8*oe+Z,Z=0;16>Z;++Z)i(Ue,We+Z*C.R,Se,xe+32*Z,16);for(Z=0;8>Z;++Z)i(ft,Re+Z*C.B,_e,Ne+32*Z,8),i(Ye,dt+Z*C.B,$e,Qe+32*Z,8)}}function vl(C,k,Z,oe,ge,ve,Se,xe,_e){var Ne=[0],$e=[0],Qe=0,Re=_e!=null?_e.kd:0,Ue=_e??new yt;if(C==null||12>Z)return 7;Ue.data=C,Ue.w=k,Ue.ha=Z,k=[k],Z=[Z],Ue.gb=[Ue.gb];e:{var We=k,ft=Z,Ye=Ue.gb;if(t(C!=null),t(ft!=null),t(Ye!=null),Ye[0]=0,12<=ft[0]&&!n(C,We[0],"RIFF")){if(n(C,We[0]+8,"WEBP")){Ye=3;break e}var dt=le(C,We[0]+4);if(12>dt||4294967286<dt){Ye=3;break e}if(Re&&dt>ft[0]-8){Ye=7;break e}Ye[0]=dt,We[0]+=12,ft[0]-=12}Ye=0}if(Ye!=0)return Ye;for(dt=0<Ue.gb[0],Z=Z[0];;){e:{var gt=C;ft=k,Ye=Z;var Ct=Ne,At=$e,un=We=[0];if((tn=Qe=[Qe])[0]=0,8>Ye[0])Ye=7;else{if(!n(gt,ft[0],"VP8X")){if(le(gt,ft[0]+4)!=10){Ye=3;break e}if(18>Ye[0]){Ye=7;break e}var Qt=le(gt,ft[0]+8),$n=1+we(gt,ft[0]+12);if(2147483648<=$n*(gt=1+we(gt,ft[0]+15))){Ye=3;break e}un!=null&&(un[0]=Qt),Ct!=null&&(Ct[0]=$n),At!=null&&(At[0]=gt),ft[0]+=18,Ye[0]-=18,tn[0]=1}Ye=0}}if(Qe=Qe[0],We=We[0],Ye!=0)return Ye;if(ft=!!(2&We),!dt&&Qe)return 3;if(ve!=null&&(ve[0]=!!(16&We)),Se!=null&&(Se[0]=ft),xe!=null&&(xe[0]=0),Se=Ne[0],We=$e[0],Qe&&ft&&_e==null){Ye=0;break}if(4>Z){Ye=7;break}if(dt&&Qe||!dt&&!Qe&&!n(C,k[0],"ALPH")){Z=[Z],Ue.na=[Ue.na],Ue.P=[Ue.P],Ue.Sa=[Ue.Sa];e:{Qt=C,Ye=k,dt=Z;var tn=Ue.gb;Ct=Ue.na,At=Ue.P,un=Ue.Sa,$n=22,t(Qt!=null),t(dt!=null),gt=Ye[0];var ai=dt[0];for(t(Ct!=null),t(un!=null),Ct[0]=null,At[0]=null,un[0]=0;;){if(Ye[0]=gt,dt[0]=ai,8>ai){Ye=7;break e}var cr=le(Qt,gt+4);if(4294967286<cr){Ye=3;break e}var Wn=8+cr+1&-2;if($n+=Wn,0<tn&&$n>tn){Ye=3;break e}if(!n(Qt,gt,"VP8 ")||!n(Qt,gt,"VP8L")){Ye=0;break e}if(ai[0]<Wn){Ye=7;break e}n(Qt,gt,"ALPH")||(Ct[0]=Qt,At[0]=gt+8,un[0]=cr),gt+=Wn,ai-=Wn}}if(Z=Z[0],Ue.na=Ue.na[0],Ue.P=Ue.P[0],Ue.Sa=Ue.Sa[0],Ye!=0)break}Z=[Z],Ue.Ja=[Ue.Ja],Ue.xa=[Ue.xa];e:if(tn=C,Ye=k,dt=Z,Ct=Ue.gb[0],At=Ue.Ja,un=Ue.xa,Qt=Ye[0],gt=!n(tn,Qt,"VP8 "),$n=!n(tn,Qt,"VP8L"),t(tn!=null),t(dt!=null),t(At!=null),t(un!=null),8>dt[0])Ye=7;else{if(gt||$n){if(tn=le(tn,Qt+4),12<=Ct&&tn>Ct-12){Ye=3;break e}if(Re&&tn>dt[0]-8){Ye=7;break e}At[0]=tn,Ye[0]+=8,dt[0]-=8,un[0]=$n}else un[0]=5<=dt[0]&&tn[Qt+0]==47&&!(tn[Qt+4]>>5),At[0]=dt[0];Ye=0}if(Z=Z[0],Ue.Ja=Ue.Ja[0],Ue.xa=Ue.xa[0],k=k[0],Ye!=0)break;if(4294967286<Ue.Ja)return 3;if(xe==null||ft||(xe[0]=Ue.xa?2:1),Se=[Se],We=[We],Ue.xa){if(5>Z){Ye=7;break}xe=Se,Re=We,ft=ve,C==null||5>Z?C=0:5<=Z&&C[k+0]==47&&!(C[k+4]>>5)?(dt=[0],tn=[0],Ct=[0],ce(At=new T,C,k,Z),Ur(At,dt,tn,Ct)?(xe!=null&&(xe[0]=dt[0]),Re!=null&&(Re[0]=tn[0]),ft!=null&&(ft[0]=Ct[0]),C=1):C=0):C=0}else{if(10>Z){Ye=7;break}xe=We,C==null||10>Z||!As(C,k+3,Z-3)?C=0:(Re=C[k+0]|C[k+1]<<8|C[k+2]<<16,ft=16383&(C[k+7]<<8|C[k+6]),C=16383&(C[k+9]<<8|C[k+8]),1&Re||3<(Re>>1&7)||!(Re>>4&1)||Re>>5>=Ue.Ja||!ft||!C?C=0:(Se&&(Se[0]=ft),xe&&(xe[0]=C),C=1))}if(!C||(Se=Se[0],We=We[0],Qe&&(Ne[0]!=Se||$e[0]!=We)))return 3;_e!=null&&(_e[0]=Ue,_e.offset=k-_e.w,t(4294967286>k-_e.w),t(_e.offset==_e.ha-Z));break}return Ye==0||Ye==7&&Qe&&_e==null?(ve!=null&&(ve[0]|=Ue.na!=null&&0<Ue.na.length),oe!=null&&(oe[0]=Se),ge!=null&&(ge[0]=We),0):Ye}function Xc(C,k,Z){var oe=k.width,ge=k.height,ve=0,Se=0,xe=oe,_e=ge;if(k.Da=C!=null&&0<C.Da,k.Da&&(xe=C.cd,_e=C.bd,ve=C.v,Se=C.j,11>Z||(ve&=-2,Se&=-2),0>ve||0>Se||0>=xe||0>=_e||ve+xe>oe||Se+_e>ge))return 0;if(k.v=ve,k.j=Se,k.va=ve+xe,k.o=Se+_e,k.U=xe,k.T=_e,k.da=C!=null&&0<C.da,k.da){if(!Be(xe,_e,Z=[C.ib],ve=[C.hb]))return 0;k.ib=Z[0],k.hb=ve[0]}return k.ob=C!=null&&C.ob,k.Kb=C==null||!C.Sd,k.da&&(k.ob=k.ib<3*oe/4&&k.hb<3*ge/4,k.Kb=0),1}function Zm(C){if(C==null)return 2;if(11>C.S){var k=C.f.RGBA;k.fb+=(C.height-1)*k.A,k.A=-k.A}else k=C.f.kb,C=C.height,k.O+=(C-1)*k.fa,k.fa=-k.fa,k.N+=(C-1>>1)*k.Ab,k.Ab=-k.Ab,k.W+=(C-1>>1)*k.Db,k.Db=-k.Db,k.F!=null&&(k.J+=(C-1)*k.lb,k.lb=-k.lb);return 0}function Sl(C,k,Z,oe){if(oe==null||0>=C||0>=k)return 2;if(Z!=null){if(Z.Da){var ge=Z.cd,ve=Z.bd,Se=-2&Z.v,xe=-2&Z.j;if(0>Se||0>xe||0>=ge||0>=ve||Se+ge>C||xe+ve>k)return 2;C=ge,k=ve}if(Z.da){if(!Be(C,k,ge=[Z.ib],ve=[Z.hb]))return 2;C=ge[0],k=ve[0]}}oe.width=C,oe.height=k;e:{var _e=oe.width,Ne=oe.height;if(C=oe.S,0>=_e||0>=Ne||!(C>=bv&&13>C))C=2;else{if(0>=oe.Rd&&oe.sd==null){Se=ve=ge=k=0;var $e=(xe=_e*jv[C])*Ne;if(11>C||(ve=(Ne+1)/2*(k=(_e+1)/2),C==12&&(Se=(ge=_e)*Ne)),(Ne=a($e+2*ve+Se))==null){C=1;break e}oe.sd=Ne,11>C?((_e=oe.f.RGBA).eb=Ne,_e.fb=0,_e.A=xe,_e.size=$e):((_e=oe.f.kb).y=Ne,_e.O=0,_e.fa=xe,_e.Fd=$e,_e.f=Ne,_e.N=0+$e,_e.Ab=k,_e.Cd=ve,_e.ea=Ne,_e.W=0+$e+ve,_e.Db=k,_e.Ed=ve,C==12&&(_e.F=Ne,_e.J=0+$e+2*ve),_e.Tc=Se,_e.lb=ge)}if(k=1,ge=oe.S,ve=oe.width,Se=oe.height,ge>=bv&&13>ge)if(11>ge)C=oe.f.RGBA,k&=(xe=Math.abs(C.A))*(Se-1)+ve<=C.size,k&=xe>=ve*jv[ge],k&=C.eb!=null;else{C=oe.f.kb,xe=(ve+1)/2,$e=(Se+1)/2,_e=Math.abs(C.fa),Ne=Math.abs(C.Ab);var Qe=Math.abs(C.Db),Re=Math.abs(C.lb),Ue=Re*(Se-1)+ve;k&=_e*(Se-1)+ve<=C.Fd,k&=Ne*($e-1)+xe<=C.Cd,k=(k&=Qe*($e-1)+xe<=C.Ed)&_e>=ve&Ne>=xe&Qe>=xe,k&=C.y!=null,k&=C.f!=null,k&=C.ea!=null,ge==12&&(k&=Re>=ve,k&=Ue<=C.Tc,k&=C.F!=null)}else k=0;C=k?0:2}}return C!=0||Z!=null&&Z.fd&&(C=Zm(oe)),C}var ad=64,Bs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ns=24,sc=32,oc=8,Zc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];lt("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(C){return C},P.Predictor2=function(C,k,Z){return k[Z+0]},P.Predictor3=function(C,k,Z){return k[Z+1]},P.Predictor4=function(C,k,Z){return k[Z-1]},P.Predictor5=function(C,k,Z){return St(St(C,k[Z+1]),k[Z+0])},P.Predictor6=function(C,k,Z){return St(C,k[Z-1])},P.Predictor7=function(C,k,Z){return St(C,k[Z+0])},P.Predictor8=function(C,k,Z){return St(k[Z-1],k[Z+0])},P.Predictor9=function(C,k,Z){return St(k[Z+0],k[Z+1])},P.Predictor10=function(C,k,Z){return St(St(C,k[Z-1]),St(k[Z+0],k[Z+1]))},P.Predictor11=function(C,k,Z){var oe=k[Z+0];return 0>=Ve(oe>>24&255,C>>24&255,(k=k[Z-1])>>24&255)+Ve(oe>>16&255,C>>16&255,k>>16&255)+Ve(oe>>8&255,C>>8&255,k>>8&255)+Ve(255&oe,255&C,255&k)?oe:C},P.Predictor12=function(C,k,Z){var oe=k[Z+0];return(tt((C>>24&255)+(oe>>24&255)-((k=k[Z-1])>>24&255))<<24|tt((C>>16&255)+(oe>>16&255)-(k>>16&255))<<16|tt((C>>8&255)+(oe>>8&255)-(k>>8&255))<<8|tt((255&C)+(255&oe)-(255&k)))>>>0},P.Predictor13=function(C,k,Z){var oe=k[Z-1];return(Je((C=St(C,k[Z+0]))>>24&255,oe>>24&255)<<24|Je(C>>16&255,oe>>16&255)<<16|Je(C>>8&255,oe>>8&255)<<8|Je(255&C,255&oe))>>>0};var zh=P.PredictorAdd0;P.PredictorAdd1=qt,lt("Predictor2","PredictorAdd2"),lt("Predictor3","PredictorAdd3"),lt("Predictor4","PredictorAdd4"),lt("Predictor5","PredictorAdd5"),lt("Predictor6","PredictorAdd6"),lt("Predictor7","PredictorAdd7"),lt("Predictor8","PredictorAdd8"),lt("Predictor9","PredictorAdd9"),lt("Predictor10","PredictorAdd10"),lt("Predictor11","PredictorAdd11"),lt("Predictor12","PredictorAdd12"),lt("Predictor13","PredictorAdd13");var Uh=P.PredictorAdd2;Te("ColorIndexInverseTransform","MapARGB","32b",function(C){return C>>8&255},function(C){return C}),Te("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(C){return C},function(C){return C>>8&255});var qr,gv=P.ColorIndexInverseTransform,lc=P.MapARGB,cc=P.VP8LColorIndexInverseTransformAlpha,Va=P.MapAlpha,eu=P.VP8LPredictorsAdd=[];eu.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var Vh,Kh,tu,nu,uc,pf,ho,iu,ls,Mo,Ri,di,Zi,Wr,dc,bl,mf,ey,mS,Aw,Rw,Nw,yS,gS,yf,Io,ty,po,gf=a(511),vv=a(2041),ny=a(225),iy=a(767),Sv=0,ru=vv,ry=ny,cs=iy,Ka=gf,bv=0,us=1,xv=2,Po=3,ay=4,Gh=5,sd=6,sy=7,wv=8,Hh=9,Ev=10,ko=[2,3,7],qh=[3,3,11],vf=[280,256,256,256,40],_v=[0,1,1,1,0],oy=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],$o=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Fo=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],od=8,Bo=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],zo=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],mo=null,Ow=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],vS=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Av=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],jw=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ga=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],lr=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],si=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Os=[],Tr=[],xl=[],ld=1,SS=2,au=[],Ha=[];Fs("UpsampleRgbLinePair",hf,3),Fs("UpsampleBgrLinePair",nd,3),Fs("UpsampleRgbaLinePair",ac,4),Fs("UpsampleBgraLinePair",Fh,4),Fs("UpsampleArgbLinePair",rd,4),Fs("UpsampleRgba4444LinePair",id,2),Fs("UpsampleRgb565LinePair",Ua,2);var Sf=P.UpsampleRgbLinePair,bS=P.UpsampleBgrLinePair,Wh=P.UpsampleRgbaLinePair,Rv=P.UpsampleBgraLinePair,cd=P.UpsampleArgbLinePair,fc=P.UpsampleRgba4444LinePair,ud=P.UpsampleRgb565LinePair,Uo=16,Yh=1<<Uo-1,bf=-227,dd=482,Nv=6,fd=0,qa=a(256),Ov=a(256),Dw=a(256),Xj=a(256),Zj=a(dd-bf),e5=a(dd-bf);Qc("YuvToRgbRow",hf,3),Qc("YuvToBgrRow",nd,3),Qc("YuvToRgbaRow",ac,4),Qc("YuvToBgraRow",Fh,4),Qc("YuvToArgbRow",rd,4),Qc("YuvToRgba4444Row",id,2),Qc("YuvToRgb565Row",Ua,2);var Yr=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Jh=[0,2,8],ly=[8,7,6,4,4,2,2,2,1,1,1,1],cy=1;this.WebPDecodeRGBA=function(C,k,Z,oe,ge){var ve=us,Se=new Ke,xe=new yn;Se.ba=xe,xe.S=ve,xe.width=[xe.width],xe.height=[xe.height];var _e=xe.width,Ne=xe.height,$e=new Ut;if($e==null||C==null)var Qe=2;else t($e!=null),Qe=vl(C,k,Z,$e.width,$e.height,$e.Pd,$e.Qd,$e.format,null);if(Qe!=0?_e=0:(_e!=null&&(_e[0]=$e.width[0]),Ne!=null&&(Ne[0]=$e.height[0]),_e=1),_e){xe.width=xe.width[0],xe.height=xe.height[0],oe!=null&&(oe[0]=xe.width),ge!=null&&(ge[0]=xe.height);e:{if(oe=new Uc,(ge=new yt).data=C,ge.w=k,ge.ha=Z,ge.kd=1,k=[0],t(ge!=null),((C=vl(ge.data,ge.w,ge.ha,null,null,null,k,null,ge))==0||C==7)&&k[0]&&(C=4),(k=C)==0){if(t(Se!=null),oe.data=ge.data,oe.w=ge.w+ge.offset,oe.ha=ge.ha-ge.offset,oe.put=Vt,oe.ac=Bn,oe.bc=br,oe.ma=Se,ge.xa){if((C=nf())==null){Se=1;break e}if((function(Re,Ue){var We=[0],ft=[0],Ye=[0];t:for(;;){if(Re==null)return 0;if(Ue==null)return Re.a=2,0;if(Re.l=Ue,Re.a=0,ce(Re.m,Ue.data,Ue.w,Ue.ha),!Ur(Re.m,We,ft,Ye)){Re.a=3;break t}if(Re.xb=SS,Ue.width=We[0],Ue.height=ft[0],!ul(We[0],ft[0],1,Re,null))break t;return 1}return t(Re.a!=0),0})(C,oe)){if(oe=(k=Sl(oe.width,oe.height,Se.Oa,Se.ba))==0){t:{oe=C;n:for(;;){if(oe==null){oe=0;break t}if(t(oe.s.yc!=null),t(oe.s.Ya!=null),t(0<oe.s.Wb),t((Z=oe.l)!=null),t((ge=Z.ma)!=null),oe.xb!=0){if(oe.ca=ge.ba,oe.tb=ge.tb,t(oe.ca!=null),!Xc(ge.Oa,Z,Po)){oe.a=2;break n}if(!dl(oe,Z.width)||Z.da)break n;if((Z.da||kt(oe.ca.S))&&To(),11>oe.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),oe.ca.f.kb.F!=null&&To()),oe.Pb&&0<oe.s.ua&&oe.s.vb.X==null&&!ue(oe.s.vb,oe.s.Wa.Xa)){oe.a=1;break n}oe.xb=0}if(!ao(oe,oe.V,oe.Ba,oe.c,oe.i,Z.o,_s))break n;ge.Dc=oe.Ma,oe=1;break t}t(oe.a!=0),oe=0}oe=!oe}oe&&(k=C.a)}else k=C.a}else{if((C=new Mh)==null){Se=1;break e}if(C.Fa=ge.na,C.P=ge.P,C.qc=ge.Sa,Um(C,oe)){if((k=Sl(oe.width,oe.height,Se.Oa,Se.ba))==0){if(C.Aa=0,Z=Se.Oa,t((ge=C)!=null),Z!=null){if(0<(_e=0>(_e=Z.Md)?0:100<_e?255:255*_e/100)){for(Ne=$e=0;4>Ne;++Ne)12>(Qe=ge.pb[Ne]).lc&&(Qe.ia=_e*ly[0>Qe.lc?0:Qe.lc]>>3),$e|=Qe.ia;$e&&(alert("todo:VP8InitRandom"),ge.ia=1)}ge.Ga=Z.Id,100<ge.Ga?ge.Ga=100:0>ge.Ga&&(ge.Ga=0)}(function(Re,Ue){if(Re==null)return 0;if(Ue==null)return Ui(Re,2,"NULL VP8Io parameter in VP8Decode().");if(!Re.cb&&!Um(Re,Ue))return 0;if(t(Re.cb),Ue.ac==null||Ue.ac(Ue)){Ue.ob&&(Re.L=0);var We=Jh[Re.L];if(Re.L==2?(Re.yb=0,Re.zb=0):(Re.yb=Ue.v-We>>4,Re.zb=Ue.j-We>>4,0>Re.yb&&(Re.yb=0),0>Re.zb&&(Re.zb=0)),Re.Va=Ue.o+15+We>>4,Re.Hb=Ue.va+15+We>>4,Re.Hb>Re.za&&(Re.Hb=Re.za),Re.Va>Re.Ub&&(Re.Va=Re.Ub),0<Re.L){var ft=Re.ed;for(We=0;4>We;++We){var Ye;if(Re.Qa.Cb){var dt=Re.Qa.Lb[We];Re.Qa.Fb||(dt+=ft.Tb)}else dt=ft.Tb;for(Ye=0;1>=Ye;++Ye){var gt=Re.gd[We][Ye],Ct=dt;if(ft.Pc&&(Ct+=ft.vd[0],Ye&&(Ct+=ft.od[0])),0<(Ct=0>Ct?0:63<Ct?63:Ct)){var At=Ct;0<ft.wb&&(At=4<ft.wb?At>>2:At>>1)>9-ft.wb&&(At=9-ft.wb),1>At&&(At=1),gt.dd=At,gt.tc=2*Ct+At,gt.ld=40<=Ct?2:15<=Ct?1:0}else gt.tc=0;gt.La=Ye}}}We=0}else Ui(Re,6,"Frame setup failed"),We=Re.a;if(We=We==0){if(We){Re.$c=0,0<Re.Aa||(Re.Ic=cy);t:{We=Re.Ic,ft=4*(At=Re.za);var un=32*At,Qt=At+1,$n=0<Re.L?At*(0<Re.Aa?2:1):0,tn=(Re.Aa==2?2:1)*At;if((gt=ft+832+(Ye=3*(16*We+Jh[Re.L])/2*un)+(dt=Re.Fa!=null&&0<Re.Fa.length?Re.Kc.c*Re.Kc.i:0))!=gt)We=0;else{if(gt>Re.Vb){if(Re.Vb=0,Re.Ec=a(gt),Re.Fc=0,Re.Ec==null){We=Ui(Re,1,"no memory during frame initialization.");break t}Re.Vb=gt}gt=Re.Ec,Ct=Re.Fc,Re.Ac=gt,Re.Bc=Ct,Ct+=ft,Re.Gd=o(un,zm),Re.Hd=0,Re.rb=o(Qt+1,pl),Re.sb=1,Re.wa=$n?o($n,so):null,Re.Y=0,Re.D.Nb=0,Re.D.wa=Re.wa,Re.D.Y=Re.Y,0<Re.Aa&&(Re.D.Y+=At),t(!0),Re.oc=gt,Re.pc=Ct,Ct+=832,Re.ya=o(tn,Fm),Re.aa=0,Re.D.ya=Re.ya,Re.D.aa=Re.aa,Re.Aa==2&&(Re.D.aa+=At),Re.R=16*At,Re.B=8*At,At=(un=Jh[Re.L])*Re.R,un=un/2*Re.B,Re.sa=gt,Re.ta=Ct+At,Re.qa=Re.sa,Re.ra=Re.ta+16*We*Re.R+un,Re.Ha=Re.qa,Re.Ia=Re.ra+8*We*Re.B+un,Re.$c=0,Ct+=Ye,Re.mb=dt?gt:null,Re.nb=dt?Ct:null,t(Ct+dt<=Re.Fc+Re.Vb),Kc(Re),r(Re.Ac,Re.Bc,0,ft),We=1}}if(We){if(Ue.ka=0,Ue.y=Re.sa,Ue.O=Re.ta,Ue.f=Re.qa,Ue.N=Re.ra,Ue.ea=Re.Ha,Ue.Vd=Re.Ia,Ue.fa=Re.R,Ue.Rc=Re.B,Ue.F=null,Ue.J=0,!Sv){for(We=-255;255>=We;++We)gf[255+We]=0>We?-We:We;for(We=-1020;1020>=We;++We)vv[1020+We]=-128>We?-128:127<We?127:We;for(We=-112;112>=We;++We)ny[112+We]=-16>We?-16:15<We?15:We;for(We=-255;510>=We;++We)iy[255+We]=0>We?0:255<We?255:We;Sv=1}ho=Hm,iu=lv,Mo=Km,Ri=Rs,di=Gm,ls=Vm,Zi=hv,Wr=pv,dc=W,bl=ye,mf=Jc,ey=mv,mS=je,Aw=Pe,Rw=uf,Nw=Wc,yS=td,gS=df,Tr[0]=Jm,Tr[1]=qm,Tr[2]=ed,Tr[3]=dv,Tr[4]=fv,Tr[5]=Ba,Tr[6]=lo,Tr[7]=Qm,Tr[8]=co,Tr[9]=of,Os[0]=ml,Os[1]=uv,Os[2]=Wm,Os[3]=Ym,Os[4]=yl,Os[5]=Gc,Os[6]=sf,xl[0]=Hc,xl[1]=cv,xl[2]=lf,xl[3]=tc,xl[4]=Ph,xl[5]=Ih,xl[6]=Ra,We=1}else We=0}We&&(We=(function(ai,cr){for(ai.M=0;ai.M<ai.Va;++ai.M){var Wn,Xt=ai.Jc[ai.M&ai.Xb],zt=ai.m,_r=ai;for(Wn=0;Wn<_r.za;++Wn){var On=zt,Xn=_r,Pi=Xn.Ac,ya=Xn.Bc+4*Wn,Wa=Xn.zc,er=Xn.ya[Xn.aa+Wn];if(Xn.Qa.Bb?er.$b=de(On,Xn.Pa.jb[0])?2+de(On,Xn.Pa.jb[2]):de(On,Xn.Pa.jb[1]):er.$b=0,Xn.kc&&(er.Ad=de(On,Xn.Bd)),er.Za=!de(On,145)+0,er.Za){var ta=er.Ob,ds=0;for(Xn=0;4>Xn;++Xn){var na,ti=Wa[0+Xn];for(na=0;4>na;++na){ti=Ga[Pi[ya+na]][ti];for(var Si=Av[de(On,ti[0])];0<Si;)Si=Av[2*Si+de(On,ti[Si])];ti=-Si,Pi[ya+na]=ti}i(ta,ds,Pi,ya,4),ds+=4,Wa[0+Xn]=ti}}else ti=de(On,156)?de(On,128)?1:3:de(On,163)?2:0,er.Ob[0]=ti,r(Pi,ya,ti,4),r(Wa,0,ti,4);er.Dd=de(On,142)?de(On,114)?de(On,183)?1:3:2:0}if(_r.m.Ka)return Ui(ai,7,"Premature end-of-partition0 encountered.");for(;ai.ja<ai.za;++ai.ja){if(_r=Xt,On=(zt=ai).rb[zt.sb-1],Pi=zt.rb[zt.sb+zt.ja],Wn=zt.ya[zt.aa+zt.ja],ya=zt.kc?Wn.Ad:0)On.la=Pi.la=0,Wn.Za||(On.Na=Pi.Na=0),Wn.Hc=0,Wn.Gc=0,Wn.ia=0;else{var Ar,Ni;if(On=Pi,Pi=_r,ya=zt.Pa.Xc,Wa=zt.ya[zt.aa+zt.ja],er=zt.pb[Wa.$b],Xn=Wa.ad,ta=0,ds=zt.rb[zt.sb-1],ti=na=0,r(Xn,ta,0,384),Wa.Za)var ga=0,Rr=ya[3];else{Si=a(16);var bi=On.Na+ds.Na;if(bi=mo(Pi,ya[1],bi,er.Eb,0,Si,0),On.Na=ds.Na=(0<bi)+0,1<bi)ho(Si,0,Xn,ta);else{var Jr=Si[0]+3>>3;for(Si=0;256>Si;Si+=16)Xn[ta+Si]=Jr}ga=1,Rr=ya[0]}var ki=15&On.la,ia=15&ds.la;for(Si=0;4>Si;++Si){var ra=1&ia;for(Jr=Ni=0;4>Jr;++Jr)ki=ki>>1|(ra=(bi=mo(Pi,Rr,bi=ra+(1&ki),er.Sc,ga,Xn,ta))>ga)<<7,Ni=Ni<<2|(3<bi?3:1<bi?2:Xn[ta+0]!=0),ta+=16;ki>>=4,ia=ia>>1|ra<<7,na=(na<<8|Ni)>>>0}for(Rr=ki,ga=ia>>4,Ar=0;4>Ar;Ar+=2){for(Ni=0,ki=On.la>>4+Ar,ia=ds.la>>4+Ar,Si=0;2>Si;++Si){for(ra=1&ia,Jr=0;2>Jr;++Jr)bi=ra+(1&ki),ki=ki>>1|(ra=0<(bi=mo(Pi,ya[2],bi,er.Qc,0,Xn,ta)))<<3,Ni=Ni<<2|(3<bi?3:1<bi?2:Xn[ta+0]!=0),ta+=16;ki>>=2,ia=ia>>1|ra<<5}ti|=Ni<<4*Ar,Rr|=ki<<4<<Ar,ga|=(240&ia)<<Ar}On.la=Rr,ds.la=ga,Wa.Hc=na,Wa.Gc=ti,Wa.ia=43690&ti?0:er.ia,ya=!(na|ti)}if(0<zt.L&&(zt.wa[zt.Y+zt.ja]=zt.gd[Wn.$b][Wn.Za],zt.wa[zt.Y+zt.ja].La|=!ya),_r.Ka)return Ui(ai,7,"Premature end-of-file encountered.")}if(Kc(ai),zt=cr,_r=1,Wn=(Xt=ai).D,On=0<Xt.L&&Xt.M>=Xt.zb&&Xt.M<=Xt.Va,Xt.Aa==0)t:{if(Wn.M=Xt.M,Wn.uc=On,fo(Xt,Wn),_r=1,Wn=(Ni=Xt.D).Nb,On=(ti=Jh[Xt.L])*Xt.R,Pi=ti/2*Xt.B,Si=16*Wn*Xt.R,Jr=8*Wn*Xt.B,ya=Xt.sa,Wa=Xt.ta-On+Si,er=Xt.qa,Xn=Xt.ra-Pi+Jr,ta=Xt.Ha,ds=Xt.Ia-Pi+Jr,ia=(ki=Ni.M)==0,na=ki>=Xt.Va-1,Xt.Aa==2&&fo(Xt,Ni),Ni.uc)for(ra=(bi=Xt).D.M,t(bi.D.uc),Ni=bi.yb;Ni<bi.Hb;++Ni){ga=Ni,Rr=ra;var Gi=(fi=(aa=bi).D).Nb;Ar=aa.R;var fi=fi.wa[fi.Y+ga],fs=aa.sa,Mr=aa.ta+16*Gi*Ar+16*ga,bn=fi.dd,xn=fi.tc;if(xn!=0)if(t(3<=xn),aa.L==1)0<ga&&Nw(fs,Mr,Ar,xn+4),fi.La&&gS(fs,Mr,Ar,xn),0<Rr&&Rw(fs,Mr,Ar,xn+4),fi.La&&yS(fs,Mr,Ar,xn);else{var xi=aa.B,zs=aa.qa,Vo=aa.ra+8*Gi*xi+8*ga,js=aa.Ha,aa=aa.Ia+8*Gi*xi+8*ga;Gi=fi.ld,0<ga&&(Wr(fs,Mr,Ar,xn+4,bn,Gi),bl(zs,Vo,js,aa,xi,xn+4,bn,Gi)),fi.La&&(ey(fs,Mr,Ar,xn,bn,Gi),Aw(zs,Vo,js,aa,xi,xn,bn,Gi)),0<Rr&&(Zi(fs,Mr,Ar,xn+4,bn,Gi),dc(zs,Vo,js,aa,xi,xn+4,bn,Gi)),fi.La&&(mf(fs,Mr,Ar,xn,bn,Gi),mS(zs,Vo,js,aa,xi,xn,bn,Gi))}}if(Xt.ia&&alert("todo:DitherRow"),zt.put!=null){if(Ni=16*ki,ki=16*(ki+1),ia?(zt.y=Xt.sa,zt.O=Xt.ta+Si,zt.f=Xt.qa,zt.N=Xt.ra+Jr,zt.ea=Xt.Ha,zt.W=Xt.Ia+Jr):(Ni-=ti,zt.y=ya,zt.O=Wa,zt.f=er,zt.N=Xn,zt.ea=ta,zt.W=ds),na||(ki-=ti),ki>zt.o&&(ki=zt.o),zt.F=null,zt.J=null,Xt.Fa!=null&&0<Xt.Fa.length&&Ni<ki&&(zt.J=Hr(Xt,zt,Ni,ki-Ni),zt.F=Xt.mb,zt.F==null&&zt.F.length==0)){_r=Ui(Xt,3,"Could not decode alpha data.");break t}Ni<zt.j&&(ti=zt.j-Ni,Ni=zt.j,t(!(1&ti)),zt.O+=Xt.R*ti,zt.N+=Xt.B*(ti>>1),zt.W+=Xt.B*(ti>>1),zt.F!=null&&(zt.J+=zt.width*ti)),Ni<ki&&(zt.O+=zt.v,zt.N+=zt.v>>1,zt.W+=zt.v>>1,zt.F!=null&&(zt.J+=zt.v),zt.ka=Ni-zt.j,zt.U=zt.va-zt.v,zt.T=ki-Ni,_r=zt.put(zt))}Wn+1!=Xt.Ic||na||(i(Xt.sa,Xt.ta-On,ya,Wa+16*Xt.R,On),i(Xt.qa,Xt.ra-Pi,er,Xn+8*Xt.B,Pi),i(Xt.Ha,Xt.Ia-Pi,ta,ds+8*Xt.B,Pi))}if(!_r)return Ui(ai,6,"Output aborted.")}return 1})(Re,Ue)),Ue.bc!=null&&Ue.bc(Ue),We&=1}return We?(Re.cb=0,We):0})(C,oe)||(k=C.a)}}else k=C.a}k==0&&Se.Oa!=null&&Se.Oa.fd&&(k=Zm(Se.ba))}Se=k}ve=Se!=0?null:11>ve?xe.f.RGBA.eb:xe.f.kb.y}else ve=null;return ve};var jv=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(P,B){for(var M="",z=0;z<4;z++)M+=String.fromCharCode(P[B++]);return M}function d(P,B){return P[B+0]|P[B+1]<<8}function h(P,B){return(P[B+0]|P[B+1]<<8|P[B+2]<<16)>>>0}function m(P,B){return(P[B+0]|P[B+1]<<8|P[B+2]<<16|P[B+3]<<24)>>>0}new c;var p=[0],v=[0],S=[],b=new c,w=e,R=(function(P,B){var M={},z=0,U=!1,K=0,te=0;if(M.frames=[],!(function(H,T){for(var Y=0;Y<4;Y++)if(H[T+Y]!="RIFF".charCodeAt(Y))return!0;return!1})(P,B)){for(m(P,B+=4),B+=8;B<P.length;){var q=u(P,B),V=m(P,B+=4);B+=4;var Q=V+(1&V);switch(q){case"VP8 ":case"VP8L":M.frames[z]===void 0&&(M.frames[z]={}),(G=M.frames[z]).src_off=U?te:B-8,G.src_size=K+V+8,z++,U&&(U=!1,K=0,te=0);break;case"VP8X":(G=M.header={}).feature_flags=P[B];var ce=B+4;G.canvas_width=1+h(P,ce),ce+=3,G.canvas_height=1+h(P,ce),ce+=3;break;case"ALPH":U=!0,K=Q+8,te=B-8;break;case"ANIM":(G=M.header).bgcolor=m(P,B),ce=B+4,G.loop_count=d(P,ce),ce+=2;break;case"ANMF":var ae,G;(G=M.frames[z]={}).offset_x=2*h(P,B),B+=3,G.offset_y=2*h(P,B),B+=3,G.width=1+h(P,B),B+=3,G.height=1+h(P,B),B+=3,G.duration=h(P,B),B+=3,ae=P[B++],G.dispose=1&ae,G.blend=ae>>1&1}q!="ANMF"&&(B+=Q)}return M}})(w,0);R.response=w,R.rgbaoutput=!0,R.dataurl=!1;var E=R.header?R.header:null,_=R.frames?R.frames:null;if(E){E.loop_counter=E.loop_count,p=[E.canvas_height],v=[E.canvas_width];for(var N=0;N<_.length&&_[N].blend!=0;N++);}var O=_[0],j=b.WebPDecodeRGBA(w,O.src_off,O.src_size,v,p);O.rgba=j,O.imgwidth=v[0],O.imgheight=p[0];for(var D=0;D<v[0]*p[0]*4;D++)S[D]=j[D];return this.width=v,this.height=p,this.data=S,this}(function(e){var t,n,i,r,a,o,l,c,u,d=function(H){return H=H||{},this.isStrokeTransparent=H.isStrokeTransparent||!1,this.strokeOpacity=H.strokeOpacity||1,this.strokeStyle=H.strokeStyle||"#000000",this.fillStyle=H.fillStyle||"#000000",this.isFillTransparent=H.isFillTransparent||!1,this.fillOpacity=H.fillOpacity||1,this.font=H.font||"10px sans-serif",this.textBaseline=H.textBaseline||"alphabetic",this.textAlign=H.textAlign||"left",this.lineWidth=H.lineWidth||1,this.lineJoin=H.lineJoin||"miter",this.lineCap=H.lineCap||"butt",this.path=H.path||[],this.transform=H.transform!==void 0?H.transform.clone():new c,this.globalCompositeOperation=H.globalCompositeOperation||"normal",this.globalAlpha=H.globalAlpha||1,this.clip_path=H.clip_path||[],this.currentPoint=H.currentPoint||new o,this.miterLimit=H.miterLimit||10,this.lastPoint=H.lastPoint||new o,this.lineDashOffset=H.lineDashOffset||0,this.lineDash=H.lineDash||[],this.margin=H.margin||[0,0,0,0],this.prevPageLastElemOffset=H.prevPageLastElemOffset||0,this.ignoreClearRect=typeof H.ignoreClearRect!="boolean"||H.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,n=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var h=function(H){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var T=H;Object.defineProperty(this,"pdf",{get:function(){return T}});var Y=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Y},set:function(le){Y=!!le}});var ie=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ie},set:function(le){ie=!!le}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(le){isNaN(le)||(ne=le)}});var J=0;Object.defineProperty(this,"posY",{get:function(){return J},set:function(le){isNaN(le)||(J=le)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(le){var ue;typeof le=="number"?ue=[le,le,le,le]:((ue=new Array(4))[0]=le[0],ue[1]=le.length>=2?le[1]:ue[0],ue[2]=le.length>=3?le[2]:ue[0],ue[3]=le.length>=4?le[3]:ue[1]),u.margin=ue}});var ee=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ee},set:function(le){ee=le}});var se=0;Object.defineProperty(this,"lastBreak",{get:function(){return se},set:function(le){se=le}});var de=[];Object.defineProperty(this,"pageBreaks",{get:function(){return de},set:function(le){de=le}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(le){le instanceof d&&(u=le)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(le){u.path=le}});var he=[];Object.defineProperty(this,"ctxStack",{get:function(){return he},set:function(le){he=le}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(le){var ue;ue=m(le),this.ctx.fillStyle=ue.style,this.ctx.isFillTransparent=ue.a===0,this.ctx.fillOpacity=ue.a,this.pdf.setFillColor(ue.r,ue.g,ue.b,{a:ue.a}),this.pdf.setTextColor(ue.r,ue.g,ue.b,{a:ue.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(le){var ue=m(le);this.ctx.strokeStyle=ue.style,this.ctx.isStrokeTransparent=ue.a===0,this.ctx.strokeOpacity=ue.a,ue.a===0?this.pdf.setDrawColor(255,255,255):(ue.a,this.pdf.setDrawColor(ue.r,ue.g,ue.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(le){["butt","round","square"].indexOf(le)!==-1&&(this.ctx.lineCap=le,this.pdf.setLineCap(le))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(le){isNaN(le)||(this.ctx.lineWidth=le,this.pdf.setLineWidth(le))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(le){["bevel","round","miter"].indexOf(le)!==-1&&(this.ctx.lineJoin=le,this.pdf.setLineJoin(le))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(le){isNaN(le)||(this.ctx.miterLimit=le,this.pdf.setMiterLimit(le))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(le){this.ctx.textBaseline=le}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(le){["right","end","center","left","start"].indexOf(le)!==-1&&(this.ctx.textAlign=le)}});var me=null,we=null;Object.defineProperty(this,"fontFaces",{get:function(){return we},set:function(le){me=null,we=le}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(le){var ue;if(this.ctx.font=le,(ue=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(le))!==null){var De=ue[1];ue[2];var Le=ue[3],Be=ue[4];ue[5];var ke=ue[6],Ee=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Be)[2];Be=Math.floor(Ee==="px"?parseFloat(Be)*this.pdf.internal.scaleFactor:Ee==="em"?parseFloat(Be)*this.pdf.getFontSize():parseFloat(Be)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Be);var lt=(function(xt){var Te,Ot,$t=[],jt=xt.trim();if(jt==="")return ZC;if(jt in Jq)return[Jq[jt]];for(;jt!=="";){switch(Ot=null,Te=(jt=Xq(jt)).charAt(0)){case'"':case"'":Ot=mYe(jt.substring(1),Te);break;default:Ot=yYe(jt)}if(Ot===null||($t.push(Ot[0]),(jt=Xq(Ot[1]))!==""&&jt.charAt(0)!==","))return ZC;jt=jt.replace(/^,/,"")}return $t})(ke);if(this.fontFaces){var Mt=(function(xt,Te){if(me===null){var Ot=(function($t){var jt=[];return Object.keys($t).forEach(function(Ht){$t[Ht].forEach(function(Ie){var nt=null;switch(Ie){case"bold":nt={family:Ht,weight:"bold"};break;case"italic":nt={family:Ht,style:"italic"};break;case"bolditalic":nt={family:Ht,weight:"bold",style:"italic"};break;case"":case"normal":nt={family:Ht}}nt!==null&&(nt.ref={name:Ht,style:Ie},jt.push(nt))})}),jt})(xt.getFontList());me=(function($t){for(var jt={},Ht=0;Ht<$t.length;++Ht){var Ie=XC($t[Ht]),nt=Ie.family,Lt=Ie.stretch,kt=Ie.style,vn=Ie.weight;jt[nt]=jt[nt]||{},jt[nt][Lt]=jt[nt][Lt]||{},jt[nt][Lt][kt]=jt[nt][Lt][kt]||{},jt[nt][Lt][kt][vn]=Ie}return jt})(Ot.concat(Te))}return me})(this.pdf,this.fontFaces),St=lt.map(function(xt){return{family:xt,stretch:"normal",weight:Le,style:De}}),tt=(function(xt,Te,Ot){for(var $t=(Ot=Ot||{}).defaultFontFamily||"times",jt=Object.assign({},pYe,Ot.genericFontFamilies||{}),Ht=null,Ie=null,nt=0;nt<Te.length;++nt)if(jt[(Ht=XC(Te[nt])).family]&&(Ht.family=jt[Ht.family]),xt.hasOwnProperty(Ht.family)){Ie=xt[Ht.family];break}if(!(Ie=Ie||xt[$t]))throw new Error("Could not find a font-family for the rule '"+Qq(Ht)+"' and default family '"+$t+"'.");if(Ie=(function(Lt,kt){if(kt[Lt])return kt[Lt];var vn=gM[Lt],Rn=vn<=gM.normal?-1:1,yn=Yq(kt,qde,vn,Rn);if(!yn)throw new Error("Could not find a matching font-stretch value for "+Lt);return yn})(Ht.stretch,Ie),Ie=(function(Lt,kt){if(kt[Lt])return kt[Lt];for(var vn=Hde[Lt],Rn=0;Rn<vn.length;++Rn)if(kt[vn[Rn]])return kt[vn[Rn]];throw new Error("Could not find a matching font-style for "+Lt)})(Ht.style,Ie),!(Ie=(function(Lt,kt){if(kt[Lt])return kt[Lt];if(Lt===400&&kt[500])return kt[500];if(Lt===500&&kt[400])return kt[400];var vn=hYe[Lt],Rn=Yq(kt,Wde,vn,Lt<400?-1:1);if(!Rn)throw new Error("Could not find a matching font-weight for value "+Lt);return Rn})(Ht.weight,Ie)))throw new Error("Failed to resolve a font for the rule '"+Qq(Ht)+"'.");return Ie})(Mt,St);this.pdf.setFont(tt.ref.name,tt.ref.style)}else{var Je="";(Le==="bold"||parseInt(Le,10)>=700||De==="bold")&&(Je="bold"),De==="italic"&&(Je+="italic"),Je.length===0&&(Je="normal");for(var Ve="",qt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Et=0;Et<lt.length;Et++){if(this.pdf.internal.getFont(lt[Et],Je,{noFallback:!0,disableWarning:!0})!==void 0){Ve=lt[Et];break}if(Je==="bolditalic"&&this.pdf.internal.getFont(lt[Et],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ve=lt[Et],Je="bold";else if(this.pdf.internal.getFont(lt[Et],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ve=lt[Et],Je="normal";break}}if(Ve===""){for(var rt=0;rt<lt.length;rt++)if(qt[lt[rt]]){Ve=qt[lt[rt]];break}}Ve=Ve===""?"Times":Ve,this.pdf.setFont(Ve,Je)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(le){this.ctx.globalCompositeOperation=le}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(le){this.ctx.globalAlpha=le}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(le){this.ctx.lineDashOffset=le,G.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(le){this.ctx.lineDash=le,G.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(le){this.ctx.ignoreClearRect=!!le}})};h.prototype.setLineDash=function(H){this.lineDash=H},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){_.call(this,"fill",!1)},h.prototype.stroke=function(){_.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(H,T){if(isNaN(H)||isNaN(T))throw dr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Y=this.ctx.transform.applyToPoint(new o(H,T));this.path.push({type:"mt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new o(H,T)},h.prototype.closePath=function(){var H=new o(0,0),T=0;for(T=this.path.length-1;T!==-1;T--)if(this.path[T].type==="begin"&&Yi(this.path[T+1])==="object"&&typeof this.path[T+1].x=="number"){H=new o(this.path[T+1].x,this.path[T+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(H.x,H.y)},h.prototype.lineTo=function(H,T){if(isNaN(H)||isNaN(T))throw dr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Y=this.ctx.transform.applyToPoint(new o(H,T));this.path.push({type:"lt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new o(Y.x,Y.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),_.call(this,null,!0)},h.prototype.quadraticCurveTo=function(H,T,Y,ie){if(isNaN(Y)||isNaN(ie)||isNaN(H)||isNaN(T))throw dr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new o(Y,ie)),J=this.ctx.transform.applyToPoint(new o(H,T));this.path.push({type:"qct",x1:J.x,y1:J.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new o(ne.x,ne.y)},h.prototype.bezierCurveTo=function(H,T,Y,ie,ne,J){if(isNaN(ne)||isNaN(J)||isNaN(H)||isNaN(T)||isNaN(Y)||isNaN(ie))throw dr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ee=this.ctx.transform.applyToPoint(new o(ne,J)),se=this.ctx.transform.applyToPoint(new o(H,T)),de=this.ctx.transform.applyToPoint(new o(Y,ie));this.path.push({type:"bct",x1:se.x,y1:se.y,x2:de.x,y2:de.y,x:ee.x,y:ee.y}),this.ctx.lastPoint=new o(ee.x,ee.y)},h.prototype.arc=function(H,T,Y,ie,ne,J){if(isNaN(H)||isNaN(T)||isNaN(Y)||isNaN(ie)||isNaN(ne))throw dr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(J=!!J,!this.ctx.transform.isIdentity){var ee=this.ctx.transform.applyToPoint(new o(H,T));H=ee.x,T=ee.y;var se=this.ctx.transform.applyToPoint(new o(0,Y)),de=this.ctx.transform.applyToPoint(new o(0,0));Y=Math.sqrt(Math.pow(se.x-de.x,2)+Math.pow(se.y-de.y,2))}Math.abs(ne-ie)>=2*Math.PI&&(ie=0,ne=2*Math.PI),this.path.push({type:"arc",x:H,y:T,radius:Y,startAngle:ie,endAngle:ne,counterclockwise:J})},h.prototype.arcTo=function(H,T,Y,ie,ne){throw new Error("arcTo not implemented.")},h.prototype.rect=function(H,T,Y,ie){if(isNaN(H)||isNaN(T)||isNaN(Y)||isNaN(ie))throw dr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(H,T),this.lineTo(H+Y,T),this.lineTo(H+Y,T+ie),this.lineTo(H,T+ie),this.lineTo(H,T),this.lineTo(H+Y,T),this.lineTo(H,T)},h.prototype.fillRect=function(H,T,Y,ie){if(isNaN(H)||isNaN(T)||isNaN(Y)||isNaN(ie))throw dr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(H,T,Y,ie),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},h.prototype.strokeRect=function(H,T,Y,ie){if(isNaN(H)||isNaN(T)||isNaN(Y)||isNaN(ie))throw dr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(H,T,Y,ie),this.stroke())},h.prototype.clearRect=function(H,T,Y,ie){if(isNaN(H)||isNaN(T)||isNaN(Y)||isNaN(ie))throw dr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(H,T,Y,ie))},h.prototype.save=function(H){H=typeof H!="boolean"||H;for(var T=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("q");if(this.pdf.setPage(T),H){this.ctx.fontSize=this.pdf.internal.getFontSize();var ie=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ie}},h.prototype.restore=function(H){H=typeof H!="boolean"||H;for(var T=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("Q");this.pdf.setPage(T),H&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(H){var T,Y,ie,ne;if(H.isCanvasGradient===!0&&(H=H.getColor()),!H)return{r:0,g:0,b:0,a:0,style:H};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(H))T=0,Y=0,ie=0,ne=0;else{var J=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(H);if(J!==null)T=parseInt(J[1]),Y=parseInt(J[2]),ie=parseInt(J[3]),ne=1;else if((J=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(H))!==null)T=parseInt(J[1]),Y=parseInt(J[2]),ie=parseInt(J[3]),ne=parseFloat(J[4]);else{if(ne=1,typeof H=="string"&&H.charAt(0)!=="#"){var ee=new Fde(H);H=ee.ok?ee.toHex():"#000000"}H.length===4?(T=H.substring(1,2),T+=T,Y=H.substring(2,3),Y+=Y,ie=H.substring(3,4),ie+=ie):(T=H.substring(1,3),Y=H.substring(3,5),ie=H.substring(5,7)),T=parseInt(T,16),Y=parseInt(Y,16),ie=parseInt(ie,16)}}return{r:T,g:Y,b:ie,a:ne,style:H}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(H,T,Y,ie){if(isNaN(T)||isNaN(Y)||typeof H!="string")throw dr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ie=isNaN(ie)?void 0:ie,!p.call(this)){var ne=Q(this.ctx.transform.rotation),J=this.ctx.transform.scaleX;z.call(this,{text:H,x:T,y:Y,scale:J,angle:ne,align:this.textAlign,maxWidth:ie})}},h.prototype.strokeText=function(H,T,Y,ie){if(isNaN(T)||isNaN(Y)||typeof H!="string")throw dr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){ie=isNaN(ie)?void 0:ie;var ne=Q(this.ctx.transform.rotation),J=this.ctx.transform.scaleX;z.call(this,{text:H,x:T,y:Y,scale:J,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:ie})}},h.prototype.measureText=function(H){if(typeof H!="string")throw dr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var T=this.pdf,Y=this.pdf.internal.scaleFactor,ie=T.internal.getFontSize(),ne=T.getStringUnitWidth(H)*ie/T.internal.scaleFactor;return new function(J){var ee=(J=J||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ee}}),this}({width:ne*=Math.round(96*Y/72*1e4)/1e4})},h.prototype.scale=function(H,T){if(isNaN(H)||isNaN(T))throw dr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Y=new c(H,0,0,T,0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},h.prototype.rotate=function(H){if(isNaN(H))throw dr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var T=new c(Math.cos(H),Math.sin(H),-Math.sin(H),Math.cos(H),0,0);this.ctx.transform=this.ctx.transform.multiply(T)},h.prototype.translate=function(H,T){if(isNaN(H)||isNaN(T))throw dr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Y=new c(1,0,0,1,H,T);this.ctx.transform=this.ctx.transform.multiply(Y)},h.prototype.transform=function(H,T,Y,ie,ne,J){if(isNaN(H)||isNaN(T)||isNaN(Y)||isNaN(ie)||isNaN(ne)||isNaN(J))throw dr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ee=new c(H,T,Y,ie,ne,J);this.ctx.transform=this.ctx.transform.multiply(ee)},h.prototype.setTransform=function(H,T,Y,ie,ne,J){H=isNaN(H)?1:H,T=isNaN(T)?0:T,Y=isNaN(Y)?0:Y,ie=isNaN(ie)?1:ie,ne=isNaN(ne)?0:ne,J=isNaN(J)?0:J,this.ctx.transform=new c(H,T,Y,ie,ne,J)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(H,T,Y,ie,ne,J,ee,se,de){var he=this.pdf.getImageProperties(H),me=1,we=1,le=1,ue=1;ie!==void 0&&se!==void 0&&(le=se/ie,ue=de/ne,me=he.width/ie*se/ie,we=he.height/ne*de/ne),J===void 0&&(J=T,ee=Y,T=0,Y=0),ie!==void 0&&se===void 0&&(se=ie,de=ne),ie===void 0&&se===void 0&&(se=he.width,de=he.height);for(var De,Le=this.ctx.transform.decompose(),Be=Q(Le.rotate.shx),ke=new c,Ee=(ke=(ke=(ke=ke.multiply(Le.translate)).multiply(Le.skew)).multiply(Le.scale)).applyToRectangle(new l(J-T*le,ee-Y*ue,ie*me,ne*we)),lt=b.call(this,Ee),Mt=[],St=0;St<lt.length;St+=1)Mt.indexOf(lt[St])===-1&&Mt.push(lt[St]);if(E(Mt),this.autoPaging)for(var tt=Mt[0],Je=Mt[Mt.length-1],Ve=tt;Ve<Je+1;Ve++){this.pdf.setPage(Ve);var qt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Et=Ve===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],xt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Te=Ve===1?0:rt+(Ve-2)*xt;if(this.ctx.clip_path.length!==0){var Ot=this.path;De=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(De,this.posX+this.margin[3],-Te+Et+this.ctx.prevPageLastElemOffset),N.call(this,"fill",!0),this.path=Ot}var $t=JSON.parse(JSON.stringify(Ee));$t=R([$t],this.posX+this.margin[3],-Te+Et+this.ctx.prevPageLastElemOffset)[0];var jt=(Ve>tt||Ve<Je)&&S.call(this);jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qt,xt,null).clip().discardPath()),this.pdf.addImage(H,"JPEG",$t.x,$t.y,$t.w,$t.h,null,null,Be),jt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(H,"JPEG",Ee.x,Ee.y,Ee.w,Ee.h,null,null,Be)};var b=function(H,T,Y){var ie=[];T=T||this.pdf.internal.pageSize.width,Y=Y||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(H.type){default:case"mt":case"lt":ie.push(Math.floor((H.y+ne)/Y)+1);break;case"arc":ie.push(Math.floor((H.y+ne-H.radius)/Y)+1),ie.push(Math.floor((H.y+ne+H.radius)/Y)+1);break;case"qct":var J=ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,H.x1,H.y1,H.x,H.y);ie.push(Math.floor((J.y+ne)/Y)+1),ie.push(Math.floor((J.y+J.h+ne)/Y)+1);break;case"bct":var ee=ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,H.x1,H.y1,H.x2,H.y2,H.x,H.y);ie.push(Math.floor((ee.y+ne)/Y)+1),ie.push(Math.floor((ee.y+ee.h+ne)/Y)+1);break;case"rect":ie.push(Math.floor((H.y+ne)/Y)+1),ie.push(Math.floor((H.y+H.h+ne)/Y)+1)}for(var se=0;se<ie.length;se+=1)for(;this.pdf.internal.getNumberOfPages()<ie[se];)w.call(this);return ie},w=function(){var H=this.fillStyle,T=this.strokeStyle,Y=this.font,ie=this.lineCap,ne=this.lineWidth,J=this.lineJoin;this.pdf.addPage(),this.fillStyle=H,this.strokeStyle=T,this.font=Y,this.lineCap=ie,this.lineWidth=ne,this.lineJoin=J},R=function(H,T,Y){for(var ie=0;ie<H.length;ie++)switch(H[ie].type){case"bct":H[ie].x2+=T,H[ie].y2+=Y;case"qct":H[ie].x1+=T,H[ie].y1+=Y;default:H[ie].x+=T,H[ie].y+=Y}return H},E=function(H){return H.sort(function(T,Y){return T-Y})},_=function(H,T){for(var Y,ie,ne=this.fillStyle,J=this.strokeStyle,ee=this.lineCap,se=this.lineWidth,de=Math.abs(se*this.ctx.transform.scaleX),he=this.lineJoin,me=JSON.parse(JSON.stringify(this.path)),we=JSON.parse(JSON.stringify(this.path)),le=[],ue=0;ue<we.length;ue++)if(we[ue].x!==void 0)for(var De=b.call(this,we[ue]),Le=0;Le<De.length;Le+=1)le.indexOf(De[Le])===-1&&le.push(De[Le]);for(var Be=0;Be<le.length;Be++)for(;this.pdf.internal.getNumberOfPages()<le[Be];)w.call(this);if(E(le),this.autoPaging)for(var ke=le[0],Ee=le[le.length-1],lt=ke;lt<Ee+1;lt++){this.pdf.setPage(lt),this.fillStyle=ne,this.strokeStyle=J,this.lineCap=ee,this.lineWidth=de,this.lineJoin=he;var Mt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],St=lt===1?this.posY+this.margin[0]:this.margin[0],tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Je=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ve=lt===1?0:tt+(lt-2)*Je;if(this.ctx.clip_path.length!==0){var qt=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(Y,this.posX+this.margin[3],-Ve+St+this.ctx.prevPageLastElemOffset),N.call(this,H,!0),this.path=qt}if(ie=JSON.parse(JSON.stringify(me)),this.path=R(ie,this.posX+this.margin[3],-Ve+St+this.ctx.prevPageLastElemOffset),T===!1||lt===0){var Et=(lt>ke||lt<Ee)&&S.call(this);Et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Mt,Je,null).clip().discardPath()),N.call(this,H,T),Et&&this.pdf.restoreGraphicsState()}this.lineWidth=se}else this.lineWidth=de,N.call(this,H,T),this.lineWidth=se;this.path=me},N=function(H,T){if((H!=="stroke"||T||!v.call(this))&&(H==="stroke"||T||!p.call(this))){for(var Y,ie,ne=[],J=this.path,ee=0;ee<J.length;ee++){var se=J[ee];switch(se.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:se,deltas:[],abs:[]});break;case"lt":var de=ne.length;if(J[ee-1]&&!isNaN(J[ee-1].x)&&(Y=[se.x-J[ee-1].x,se.y-J[ee-1].y],de>0)){for(;de>=0;de--)if(ne[de-1].close!==!0&&ne[de-1].begin!==!0){ne[de-1].deltas.push(Y),ne[de-1].abs.push(se);break}}break;case"bct":Y=[se.x1-J[ee-1].x,se.y1-J[ee-1].y,se.x2-J[ee-1].x,se.y2-J[ee-1].y,se.x-J[ee-1].x,se.y-J[ee-1].y],ne[ne.length-1].deltas.push(Y);break;case"qct":var he=J[ee-1].x+2/3*(se.x1-J[ee-1].x),me=J[ee-1].y+2/3*(se.y1-J[ee-1].y),we=se.x+2/3*(se.x1-se.x),le=se.y+2/3*(se.y1-se.y),ue=se.x,De=se.y;Y=[he-J[ee-1].x,me-J[ee-1].y,we-J[ee-1].x,le-J[ee-1].y,ue-J[ee-1].x,De-J[ee-1].y],ne[ne.length-1].deltas.push(Y);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(se)}}ie=T?null:H==="stroke"?"stroke":"fill";for(var Le=!1,Be=0;Be<ne.length;Be++)if(ne[Be].arc)for(var ke=ne[Be].abs,Ee=0;Ee<ke.length;Ee++){var lt=ke[Ee];lt.type==="arc"?D.call(this,lt.x,lt.y,lt.radius,lt.startAngle,lt.endAngle,lt.counterclockwise,void 0,T,!Le):U.call(this,lt.x,lt.y),Le=!0}else if(ne[Be].close===!0)this.pdf.internal.out("h"),Le=!1;else if(ne[Be].begin!==!0){var Mt=ne[Be].start.x,St=ne[Be].start.y;K.call(this,ne[Be].deltas,Mt,St),Le=!0}ie&&P.call(this,ie),T&&B.call(this)}},O=function(H){var T=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Y=T*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return H-Y;case"top":return H+T-Y;case"hanging":return H+T-2*Y;case"middle":return H+T/2-Y;default:return H}},j=function(H){return H+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var H=function(){};return H.colorStops=[],H.addColorStop=function(T,Y){this.colorStops.push([T,Y])},H.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},H.isCanvasGradient=!0,H},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(H,T,Y,ie,ne,J,ee,se,de){for(var he=q.call(this,Y,ie,ne,J),me=0;me<he.length;me++){var we=he[me];me===0&&(de?M.call(this,we.x1+H,we.y1+T):U.call(this,we.x1+H,we.y1+T)),te.call(this,H,T,we.x2,we.y2,we.x3,we.y3,we.x4,we.y4)}se?B.call(this):P.call(this,ee)},P=function(H){switch(H){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},B=function(){this.pdf.clip(),this.pdf.discardPath()},M=function(H,T){this.pdf.internal.out(n(H)+" "+i(T)+" m")},z=function(H){var T;switch(H.align){case"right":case"end":T="right";break;case"center":T="center";break;default:T="left"}var Y=this.pdf.getTextDimensions(H.text),ie=O.call(this,H.y),ne=j.call(this,ie)-Y.h,J=this.ctx.transform.applyToPoint(new o(H.x,ie)),ee=this.ctx.transform.decompose(),se=new c;se=(se=(se=se.multiply(ee.translate)).multiply(ee.skew)).multiply(ee.scale);for(var de,he,me,we=this.ctx.transform.applyToRectangle(new l(H.x,ie,Y.w,Y.h)),le=se.applyToRectangle(new l(H.x,ne,Y.w,Y.h)),ue=b.call(this,le),De=[],Le=0;Le<ue.length;Le+=1)De.indexOf(ue[Le])===-1&&De.push(ue[Le]);if(E(De),this.autoPaging)for(var Be=De[0],ke=De[De.length-1],Ee=Be;Ee<ke+1;Ee++){this.pdf.setPage(Ee);var lt=Ee===1?this.posY+this.margin[0]:this.margin[0],Mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],St=this.pdf.internal.pageSize.height-this.margin[2],tt=St-this.margin[0],Je=this.pdf.internal.pageSize.width-this.margin[1],Ve=Je-this.margin[3],qt=Ee===1?0:Mt+(Ee-2)*tt;if(this.ctx.clip_path.length!==0){var Et=this.path;de=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(de,this.posX+this.margin[3],-1*qt+lt),N.call(this,"fill",!0),this.path=Et}var rt=R([JSON.parse(JSON.stringify(le))],this.posX+this.margin[3],-qt+lt+this.ctx.prevPageLastElemOffset)[0];H.scale>=.01&&(he=this.pdf.internal.getFontSize(),this.pdf.setFontSize(he*H.scale),me=this.lineWidth,this.lineWidth=me*H.scale);var xt=this.autoPaging!=="text";if(xt||rt.y+rt.h<=St){if(xt||rt.y>=lt&&rt.x<=Je){var Te=xt?H.text:this.pdf.splitTextToSize(H.text,H.maxWidth||Je-rt.x)[0],Ot=R([JSON.parse(JSON.stringify(we))],this.posX+this.margin[3],-qt+lt+this.ctx.prevPageLastElemOffset)[0],$t=xt&&(Ee>Be||Ee<ke)&&S.call(this);$t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ve,tt,null).clip().discardPath()),this.pdf.text(Te,Ot.x,Ot.y,{angle:H.angle,align:T,renderingMode:H.renderingMode}),$t&&this.pdf.restoreGraphicsState()}}else rt.y<St&&(this.ctx.prevPageLastElemOffset+=St-rt.y);H.scale>=.01&&(this.pdf.setFontSize(he),this.lineWidth=me)}else H.scale>=.01&&(he=this.pdf.internal.getFontSize(),this.pdf.setFontSize(he*H.scale),me=this.lineWidth,this.lineWidth=me*H.scale),this.pdf.text(H.text,J.x+this.posX,J.y+this.posY,{angle:H.angle,align:T,renderingMode:H.renderingMode,maxWidth:H.maxWidth}),H.scale>=.01&&(this.pdf.setFontSize(he),this.lineWidth=me)},U=function(H,T,Y,ie){Y=Y||0,ie=ie||0,this.pdf.internal.out(n(H+Y)+" "+i(T+ie)+" l")},K=function(H,T,Y){return this.pdf.lines(H,T,Y,null,null)},te=function(H,T,Y,ie,ne,J,ee,se){this.pdf.internal.out([t(r(Y+H)),t(a(ie+T)),t(r(ne+H)),t(a(J+T)),t(r(ee+H)),t(a(se+T)),"c"].join(" "))},q=function(H,T,Y,ie){for(var ne=2*Math.PI,J=Math.PI/2;T>Y;)T-=ne;var ee=Math.abs(Y-T);ee<ne&&ie&&(ee=ne-ee);for(var se=[],de=ie?-1:1,he=T;ee>1e-5;){var me=he+de*Math.min(ee,J);se.push(V.call(this,H,he,me)),ee-=Math.abs(me-he),he=me}return se},V=function(H,T,Y){var ie=(Y-T)/2,ne=H*Math.cos(ie),J=H*Math.sin(ie),ee=ne,se=-J,de=ee*ee+se*se,he=de+ee*ne+se*J,me=4/3*(Math.sqrt(2*de*he)-he)/(ee*J-se*ne),we=ee-me*se,le=se+me*ee,ue=we,De=-le,Le=ie+T,Be=Math.cos(Le),ke=Math.sin(Le);return{x1:H*Math.cos(T),y1:H*Math.sin(T),x2:we*Be-le*ke,y2:we*ke+le*Be,x3:ue*Be-De*ke,y3:ue*ke+De*Be,x4:H*Math.cos(Y),y4:H*Math.sin(Y)}},Q=function(H){return 180*H/Math.PI},ce=function(H,T,Y,ie,ne,J){var ee=H+.5*(Y-H),se=T+.5*(ie-T),de=ne+.5*(Y-ne),he=J+.5*(ie-J),me=Math.min(H,ne,ee,de),we=Math.max(H,ne,ee,de),le=Math.min(T,J,se,he),ue=Math.max(T,J,se,he);return new l(me,le,we-me,ue-le)},ae=function(H,T,Y,ie,ne,J,ee,se){var de,he,me,we,le,ue,De,Le,Be,ke,Ee,lt,Mt,St,tt=Y-H,Je=ie-T,Ve=ne-Y,qt=J-ie,Et=ee-ne,rt=se-J;for(he=0;he<41;he++)Be=(De=(me=H+(de=he/40)*tt)+de*((le=Y+de*Ve)-me))+de*(le+de*(ne+de*Et-le)-De),ke=(Le=(we=T+de*Je)+de*((ue=ie+de*qt)-we))+de*(ue+de*(J+de*rt-ue)-Le),he==0?(Ee=Be,lt=ke,Mt=Be,St=ke):(Ee=Math.min(Ee,Be),lt=Math.min(lt,ke),Mt=Math.max(Mt,Be),St=Math.max(St,ke));return new l(Math.round(Ee),Math.round(lt),Math.round(Mt-Ee),Math.round(St-lt))},G=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var H,T,Y=(H=this.ctx.lineDash,T=this.ctx.lineDashOffset,JSON.stringify({lineDash:H,lineDashOffset:T}));this.prevLineDash!==Y&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Y)}}})(Sn.API),(function(e){var t=function(o){var l,c,u,d,h,m,p,v,S,b;for(c=[],u=0,d=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;d>u;u+=4)(h=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(m=(h=((h=((h=((h=(h-(b=h%85))/85)-(S=h%85))/85)-(v=h%85))/85)-(p=h%85))/85)%85,c.push(m+33,p+33,v+33,S+33,b+33)):c.push(122);return(function(w,R){for(var E=R;E>0;E--)w.pop()})(c,l.length),String.fromCharCode.apply(String,c)+"~>"},n=function(o){var l,c,u,d,h,m=String,p="length",v=255,S="charCodeAt",b="slice",w="replace";for(o[b](-2),o=o[b](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),u=[],d=0,h=(o+=l="uuuuu"[b](o[p]%5||5))[p];h>d;d+=5)c=52200625*(o[S](d)-33)+614125*(o[S](d+1)-33)+7225*(o[S](d+2)-33)+85*(o[S](d+3)-33)+(o[S](d+4)-33),u.push(v&c>>24,v&c>>16,v&c>>8,v&c);return(function(R,E){for(var _=E;_>0;_--)R.pop()})(u,l[p]),m.fromCharCode.apply(m,u)},i=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},r=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",u=0;u<o.length;u+=2)c+=String.fromCharCode("0x"+(o[u]+o[u+1]));return c},a=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=uM(l)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};e.processDataByFilters=function(o,l){var c=0,u=o||"",d=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=r(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=i(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=a(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}})(Sn.API),(function(e){e.loadFile=function(t,n,i){return(function(r,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=(function(c,u,d){var h=new XMLHttpRequest,m=0,p=function(v){var S=v.length,b=[],w=String.fromCharCode;for(m=0;m<S;m+=1)b.push(w(255&v.charCodeAt(m)));return b.join("")};if(h.open("GET",c,!u),h.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(h.onload=function(){h.status===200?d(p(this.responseText)):d(void 0)}),h.send(null),u&&h.status===200)return p(h.responseText)})(r,a,o)}catch{}return l})(t,n,i)},e.loadImageFile=e.loadFile})(Sn.API),(function(e){function t(){return(Fn.html2canvas?Promise.resolve(Fn.html2canvas):$l(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function n(){return(Fn.DOMPurify?Promise.resolve(Fn.DOMPurify):$l(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var i=function(l){var c=Yi(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},r=function(l,c){var u=document.createElement(l);for(var d in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[d]=c.style[d];return u},a=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||d.appendChild(l(h,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},o=function l(c){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),d=l.convert(Promise.resolve(),u);return(d=d.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||(function(u){switch(i(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),c){case"string":return this.then(n).then(function(u){return this.set({src:r("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=this.opt.jsPDF,d=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var p=0;p<d.length;++p){var v=d[p],S=v.src.find(function(b){return b.format==="truetype"});S&&u.addFont(S.url,v.ref.name,v.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,u.context2d.save(!0),c(this.prop.container,m)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(i(l)!=="object")return this;var c=Object.keys(l||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var u=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(u):u})},o.prototype.setMargin=function(l){return this.then(function(){switch(i(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(l=l||Sn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,u,d){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,u,d){return this.setProgress(l?this.progress.val+l:null,c||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},o.prototype.then=function(l,c){var u=this;return this.thenCore(l,c,function(d,h){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(m){return u.updateProgress(null,d),m}).then(d,h).then(function(m){return u.updateProgress(1),m})})},o.prototype.thenCore=function(l,c,u){u=u||Promise.prototype.then;var d=this;l&&(l=l.bind(d)),c&&(c=c.bind(d));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:o.convert(Object.assign({},d),Promise.prototype),m=u.call(h,l,c);return o.convert(m,d.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(u){c=c.thenCore(u)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Sn.getPageSize=function(l,c,u){if(Yi(l)==="object"){var d=l;l=d.orientation,c=d.unit||c,u=d.format||u}c=c||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var h,m=(""+u).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+c}var v,S=0,b=0;if(p.hasOwnProperty(m))S=p[m][1]/h,b=p[m][0]/h;else try{S=u[1],b=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",b>S&&(v=b,b=S,S=v);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",S>b&&(v=b,b=S,S=v)}return{width:b,height:S,unit:c,k:h,orientation:l}},e.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(XC):null;var u=new o(c);return c.worker?u:u.from(l).doCallback()}})(Sn.API),Sn.API.addJS=function(e){return eW=e,this.internal.events.subscribe("postPutResources",function(){s_=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(s_+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Zq=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+eW+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){s_!==void 0&&Zq!==void 0&&this.internal.out("/Names <</JavaScript "+s_+" 0 R>>")}),this},(function(e){var t;e.events.push(["postPutResources",function(){var n=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=n.outline.render().split(/\r\n/),a=0;a<r.length;a++){var o=r[a],l=i.exec(o);if(l!=null){var c=l[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(a=0;a<u;a++){var h=n.internal.newObject();d.push(h);var m=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<d.length;a++)n.internal.write("(page_"+(a+1)+")"+d[a]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(i,r,a){var o={title:r,options:a,children:[]};return i==null&&(i=this.root),i.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(i){i.id=n.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r])},n.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},n.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<i.children.length;a++){var o=i.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(i)),a>0&&this.line("/Prev "+this.makeRef(i.children[a-1])),a<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var u=0;u<i.children.length;u++)this.renderItems(i.children[u])},n.outline.line=function(i){this.ctx.val+=i+`\r
`},n.outline.makeRef=function(i){return i.id+" 0 R"},n.outline.makeString=function(i){return"("+n.internal.pdfEscape(i)+")"},n.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(i,r){for(var a=0;a<r.children.length;a++)i.count++,this.count_r(i,r.children[a]);return i.count}}])})(Sn.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,i,r,a,o,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,c=(function(h){for(var m,p=256*h.charCodeAt(4)+h.charCodeAt(5),v=h.length,S={width:0,height:0,numcomponents:1},b=4;b<v;b+=2){if(b+=p,t.indexOf(h.charCodeAt(b+1))!==-1){m=256*h.charCodeAt(b+5)+h.charCodeAt(b+6),S={width:256*h.charCodeAt(b+7)+h.charCodeAt(b+8),height:m,numcomponents:h.charCodeAt(b+9)};break}p=256*h.charCodeAt(b+2)+h.charCodeAt(b+3)}return S})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:n,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:i,alias:r}}return d}})(Sn.API),Sn.API.processPNG=function(e,t,n,i){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var r,a=ZWe(e,{checkCrc:!0}),o=a.width,l=a.height,c=a.channels,u=a.palette,d=a.depth;r=u&&c===1?(function(D){for(var P=D.width,B=D.height,M=D.data,z=D.palette,U=D.depth,K=!1,te=[],q=[],V=void 0,Q=!1,ce=0,ae=0;ae<z.length;ae++){var G=rq(z[ae],4),H=G[0],T=G[1],Y=G[2],ie=G[3];te.push(H,T,Y),ie!=null&&(ie===0?(ce++,q.length<1&&q.push(ae)):ie<255&&(Q=!0))}if(Q||ce>1){K=!0,q=void 0;var ne=P*B;V=new Uint8Array(ne);for(var J=new DataView(M.buffer),ee=0;ee<ne;ee++){var se=eL(J,ee,U),de=rq(z[se],4)[3];V[ee]=de}}else ce===0&&(q=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:K?8:void 0,colorBytes:M,alphaBytes:V,needSMask:K,palette:te,mask:q}})(a):c===2||c===4?(function(D){for(var P=D.data,B=D.width,M=D.height,z=D.channels,U=D.depth,K=z===2?"DeviceGray":"DeviceRGB",te=z-1,q=B*M,V=te,Q=q*V,ce=1*q,ae=Math.ceil(Q*U/8),G=Math.ceil(ce*U/8),H=new Uint8Array(ae),T=new Uint8Array(G),Y=new DataView(P.buffer),ie=new DataView(H.buffer),ne=new DataView(T.buffer),J=!1,ee=0;ee<q;ee++){for(var se=ee*z,de=0;de<V;de++)cW(ie,eL(Y,se+de,U),ee*V+de,U);var he=eL(Y,se+V,U);he<(1<<U)-1&&(J=!0),cW(ne,he,1*ee,U)}return{colorSpace:K,colorsPerPixel:te,sMaskBitsPerComponent:J?U:void 0,colorBytes:H,alphaBytes:T,needSMask:J}})(a):(function(D){var P=D.data,B=D.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:B,colorsPerPixel:B==="DeviceGray"?1:3,colorBytes:P instanceof Uint16Array?(function(M){for(var z=M.length,U=new Uint8Array(2*z),K=new DataView(U.buffer,U.byteOffset,U.byteLength),te=0;te<z;te++)K.setUint16(2*te,M[te],!1);return U})(P):P,needSMask:!1}})(a);var h,m,p,v=r,S=v.colorSpace,b=v.colorsPerPixel,w=v.sMaskBitsPerComponent,R=v.colorBytes,E=v.alphaBytes,_=v.needSMask,N=v.palette,O=v.mask,j=null;return i!==Sn.API.image_compression.NONE&&typeof uM=="function"?(j=(function(D){var P;switch(D){case Sn.API.image_compression.FAST:P=11;break;case Sn.API.image_compression.MEDIUM:P=13;break;case Sn.API.image_compression.SLOW:P=14;break;default:P=12}return P})(i),h=this.decode.FLATE_DECODE,m="/Predictor ".concat(j," /Colors ").concat(b," /BitsPerComponent ").concat(d," /Columns ").concat(o),e=rW(R,Math.ceil(o*b*d/8),b,d,i),_&&(p=rW(E,Math.ceil(o*w/8),1,w,i))):(h=void 0,m=void 0,e=R,_&&(p=E)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:n,data:e,index:t,filter:h,decodeParameters:m,transparency:O,palette:N,sMask:p,predictor:j,width:o,height:l,bitsPerComponent:d,sMaskBitsPerComponent:w,colorSpace:S}}},(function(e){e.processGIF89A=function(t,n,i,r){var a=new bYe(t),o=a.width,l=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},d=new tL(100).encode(u,100);return e.processJPEG.call(this,d,n,i,r)},e.processGIF87A=e.processGIF89A})(Sn.API),fu.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:r,green:i,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},fu.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){dr.log("bit decode error:"+n)}},fu.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,r=0;r<t;r++)for(var a=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+8*r*4,l=0;l<8&&8*r+l<this.width;l++){var c=this.palette[a>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}n!==0&&(this.pos+=4-n)}},fu.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<e;r++){var a=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+2*r*4,l=a>>4,c=15&a,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*r+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},fu.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*i;if(r<this.palette.length){var o=this.palette[r];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},fu.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<this.width;r++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,l=(a>>5&t)/t*255|0,c=(a>>10&t)/t*255|0,u=a>>15?255:0,d=i*this.width*4+4*r;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=u}this.pos+=e}},fu.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&n)/n*255|0,u=(o>>11)/t*255|0,d=r*this.width*4+4*a;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=e}},fu.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=a,this.data[o+1]=r,this.data[o+2]=i,this.data[o+3]=255}this.pos+=this.width%4}},fu.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*n;this.data[l]=a,this.data[l+1]=r,this.data[l+2]=i,this.data[l+3]=o}},fu.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,n,i,r){var a=new fu(t,!1),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},u=new tL(100).encode(c,100);return e.processJPEG.call(this,u,n,i,r)}})(Sn.API),dW.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,n,i,r){var a=new dW(t),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},u=new tL(100).encode(c,100);return e.processJPEG.call(this,u,n,i,r)}})(Sn.API),Sn.API.processRGBA=function(e,t,n){for(var i=e.data,r=i.length,a=new Uint8Array(r/4*3),o=new Uint8Array(r/4),l=0,c=0,u=0;u<r;u+=4){var d=i[u],h=i[u+1],m=i[u+2],p=i[u+3];a[l++]=d,a[l++]=h,a[l++]=m,o[c++]=p}var v=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:v,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Sn.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},u0=Sn.API,o_=u0.getCharWidthsArray=function(e,t){var n,i,r=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:r.metadata.Unicode.widths,c=l.fof?l.fof:1,u=t.kerning?t.kerning:r.metadata.Unicode.kerning,d=u.fof?u.fof:1,h=t.doKerning!==!1,m=0,p=e.length,v=0,S=l[0]||c,b=[];for(n=0;n<p;n++)i=e.charCodeAt(n),typeof r.metadata.widthOfString=="function"?b.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+o*(1e3/a)||0)/1e3):(m=h&&Yi(u[i])==="object"&&!isNaN(parseInt(u[i][v],10))?u[i][v]/d:0,b.push((l[i]||S)/c+m)),v=i;return b},tW=u0.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),r=t.charSpace||this.internal.getCharSpace();return u0.processArabic&&(e=u0.processArabic(e)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(e,n,r)/n:o_.apply(this,arguments).reduce(function(a,o){return a+o},0)},nW=function(e,t,n,i){for(var r=[],a=0,o=e.length,l=0;a!==o&&l+t[a]<n;)l+=t[a],a++;r.push(e.slice(0,a));var c=a;for(l=0;a!==o;)l+t[a]>i&&(r.push(e.slice(c,a)),l=0,c=a),l+=t[a],a++;return c!==a&&r.push(e.slice(c,a)),r},iW=function(e,t,n){n||(n={});var i,r,a,o,l,c,u,d=[],h=[d],m=n.textIndent||0,p=0,v=0,S=e.split(" "),b=o_.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?S[0].length+2:n.lineIndent||0){var w=Array(c).join(" "),R=[];S.map(function(_){(_=_.split(/\s*\n/)).length>1?R=R.concat(_.map(function(N,O){return(O&&N.length?`
`:"")+N})):R.push(_[0])}),S=R,c=tW.apply(this,[w,n])}for(a=0,o=S.length;a<o;a++){var E=0;if(i=S[a],c&&i[0]==`
`&&(i=i.substr(1),E=1),m+p+(v=(r=o_.apply(this,[i,n])).reduce(function(_,N){return _+N},0))>t||E){if(v>t){for(l=nW.apply(this,[i,r,t-(m+p),t]),d.push(l.shift()),d=[l.pop()];l.length;)h.push([l.shift()]);v=r.slice(i.length-(d[0]?d[0].length:0)).reduce(function(_,N){return _+N},0)}else d=[i];h.push(d),m=v+c,p=b}else d.push(i),m+=p+v,p=b}return u=c?function(_,N){return(N?w:"")+_.join(" ")}:function(_){return _.join(" ")},h.map(u)},u0.splitTextToSize=function(e,t,n){var i,r=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var h=this.internal.getFont(d.fontName,d.fontStyle),m="Unicode";return h.metadata[m]?{widths:h.metadata[m].widths||{0:1},kerning:h.metadata[m].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);i=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/r;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/r:0,a.lineIndent=n.lineIndent;var l,c,u=[];for(l=0,c=i.length;l<c;l++)u=u.concat(iW.apply(this,[i[l],o,a]));return u},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",n="klmnopqrstuvwxyz",i={},r={},a=0;a<16;a++)i[n[a]]=t[a],r[t[a]]=n[a];var o=function(m){return"0x"+parseInt(m,10).toString(16)},l=e.__fontmetrics__.compress=function(m){var p,v,S,b,w=["{"];for(var R in m){if(p=m[R],isNaN(parseInt(R,10))?v="'"+R+"'":(R=parseInt(R,10),v=(v=o(R).slice(2)).slice(0,-1)+r[v.slice(-1)]),typeof p=="number")p<0?(S=o(p).slice(3),b="-"):(S=o(p).slice(2),b=""),S=b+S.slice(0,-1)+r[S.slice(-1)];else{if(Yi(p)!=="object")throw new Error("Don't know what to do with value type "+Yi(p)+".");S=l(p)}w.push(v+S)}return w.push("}"),w.join("")},c=e.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,v,S,b,w={},R=1,E=w,_=[],N="",O="",j=m.length-1,D=1;D<j;D+=1)(b=m[D])=="'"?p?(S=p.join(""),p=void 0):p=[]:p?p.push(b):b=="{"?(_.push([E,S]),E={},S=void 0):b=="}"?((v=_.pop())[0][v[1]]=E,S=void 0,E=v[0]):b=="-"?R=-1:S===void 0?i.hasOwnProperty(b)?(N+=i[b],S=parseInt(N,16)*R,R=1,N=""):N+=b:i.hasOwnProperty(b)?(O+=i[b],E[S]=parseInt(O,16)*R,R=1,S=void 0,O=""):O+=b;return w},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},h={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(m){var p=m.font,v=h.Unicode[p.postScriptName];v&&(p.metadata.Unicode={},p.metadata.Unicode.widths=v.widths,p.metadata.Unicode.kerning=v.kerning);var S=d.Unicode[p.postScriptName];S&&(p.metadata.Unicode.encoding=S,p.encoding=S.codePages[0])}])})(Sn.API),(function(e){var t=function(n){for(var i=n.length,r=new Uint8Array(i),a=0;a<i;a++)r[a]=n.charCodeAt(a);return r};e.API.events.push(["addFont",function(n){var i=void 0,r=n.font,a=n.instance;if(!r.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(i=a.existsFileInVFS(r.postScriptName)===!1?a.loadFile(r.postScriptName):a.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(lA(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(r,i)}}])})(Sn),Sn.API.addSvgAsImage=function(e,t,n,i,r,a,o,l){if(isNaN(t)||isNaN(n))throw dr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(r))throw dr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=i,c.height=r;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(Fn.canvg?Promise.resolve(Fn.canvg):$l(()=>import("./index.es-DbWNHFZu.js"),[])).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m}).then(function(m){return m.fromString(u,e,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(d)}).then(function(){h.addImage(c.toDataURL("image/jpeg",1),t,n,i,r,o,l)})},Sn.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(t,n);return this},Sn.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var i,r,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,d=0,h=0;function m(v,S){var b,w=!1;for(b=0;b<v.length;b+=1)v[b]===S&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=l.length;for(h=0;h<p;h+=1)n[l[h]].value=n[l[h]].defaultValue,n[l[h]].explicitSet=!1}if(Yi(e)==="object"){for(r in e)if(a=e[r],m(l,r)&&a!==void 0){if(n[r].type==="boolean"&&typeof a=="boolean")n[r].value=a;else if(n[r].type==="name"&&m(n[r].valueSet,a))n[r].value=a;else if(n[r].type==="integer"&&Number.isInteger(a))n[r].value=a;else if(n[r].type==="array"){for(u=0;u<a.length;u+=1)if(i=!0,a[u].length===1&&typeof a[u][0]=="number")c.push(String(a[u]-1));else if(a[u].length>1){for(d=0;d<a[u].length;d+=1)typeof a[u][d]!="number"&&(i=!1);i===!0&&c.push([a[u][0]-1,a[u][1]-1].join(" "))}n[r].value="["+c.join(" ")+"]"}else n[r].value=n[r].defaultValue;n[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,S=[];for(v in n)n[v].explicitSet===!0&&(n[v].type==="name"?S.push("/"+v+" /"+n[v].value):S.push("/"+v+" "+n[v].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},(function(e){var t=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(i)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+o.length+l.length+r.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(r+a+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(i,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}})(Sn.API),(function(e){var t=e.API,n=t.pdfEscape16=function(a,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],h=0,m=a.length;h<m;++h){if(l=o.metadata.characterToGlyph(a.charCodeAt(h)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=a.charCodeAt(h),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},i=function(a){var o,l,c,u,d,h,m;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,m=(l=Object.keys(a).sort(function(p,v){return p-v})).length;h<m;h++)o=l[h],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(u=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,m=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",v=0;v<m.length;v++)p+=String.fromCharCode(m[v]);var S=u();d({data:p,addLength1:!0,objectId:S}),c("endobj");var b=u();d({data:i(l.metadata.toUnicode),addLength1:!0,objectId:b}),c("endobj");var w=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+S0(l.fontName)),c("/FontFile2 "+S+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var R=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+S0(l.fontName)),c("/FontDescriptor "+w+" 0 R"),c("/W "+e.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+b+" 0 R"),c("/BaseFont /"+S0(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+R+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,m="",p=0;p<h.length;p++)m+=String.fromCharCode(h[p]);var v=u();d({data:m,addLength1:!0,objectId:v}),c("endobj");var S=u();d({data:i(l.metadata.toUnicode),addLength1:!0,objectId:S}),c("endobj");var b=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+v+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+S0(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var w=0;w<l.metadata.hmtx.widths.length;w++)l.metadata.hmtx.widths[w]=parseInt(l.metadata.hmtx.widths[w]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+S0(l.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]);var r=function(a){var o,l=a.text||"",c=a.x,u=a.y,d=a.options||{},h=a.mutex||{},m=h.pdfEscape,p=h.activeFontKey,v=h.fonts,S=p,b="",w=0,R="",E=v[S].encoding;if(v[S].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:h};for(R=l,S=p,Array.isArray(l)&&(R=l[0]),w=0;w<R.length;w+=1)v[S].metadata.hasOwnProperty("cmap")&&(o=v[S].metadata.cmap.unicode.codeMap[R[w].charCodeAt(0)]),o||R[w].charCodeAt(0)<256&&v[S].metadata.hasOwnProperty("Unicode")?b+=R[w]:b+="";var _="";return parseInt(S.slice(1))<14||E==="WinAnsiEncoding"?_=m(b,S).split("").map(function(N){return N.charCodeAt(0).toString(16)}).join(""):E==="Identity-H"&&(_=n(b,v[S])),h.isHex=!0,{text:_,x:c,y:u,options:d,mutex:h}};t.events.push(["postProcessText",function(a){var o=a.text||"",l=[],c={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([r(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(r(Object.assign({},c,{text:o[u]})).text);a.text=l}else a.text=r(Object.assign({},c,{text:o})).text}])})(Sn),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,i){return t.call(this),this.internal.vFS[n]=i,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(Sn.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(i){var r,a,o,l,c,u,d,h=t,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),R=!1,E=0;this.__bidiEngine__={};var _=function(M){var z=M.charCodeAt(),U=z>>8,K=S[U];return K!==void 0?h[256*K+(255&z)]:U===252||U===253?"AL":w.test(U)?"L":U===8?"R":"N"},N=function(M){for(var z,U=0;U<M.length;U++){if((z=_(M.charAt(U)))==="L")return!1;if(z==="R")return!0}return!1},O=function(M,z,U,K){var te,q,V,Q,ce=z[K];switch(ce){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":R=!1;break;case"N":case"AN":break;case"EN":R&&(ce="AN");break;case"AL":R=!0,ce="R";break;case"WS":case"BN":ce="N";break;case"CS":K<1||K+1>=z.length||(te=U[K-1])!=="EN"&&te!=="AN"||(q=z[K+1])!=="EN"&&q!=="AN"?ce="N":R&&(q="AN"),ce=q===te?q:"N";break;case"ES":ce=(te=K>0?U[K-1]:"B")==="EN"&&K+1<z.length&&z[K+1]==="EN"?"EN":"N";break;case"ET":if(K>0&&U[K-1]==="EN"){ce="EN";break}if(R){ce="N";break}for(V=K+1,Q=z.length;V<Q&&z[V]==="ET";)V++;ce=V<Q&&z[V]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(Q=z.length,V=K+1;V<Q&&z[V]==="NSM";)V++;if(V<Q){var ae=M[K],G=ae>=1425&&ae<=2303||ae===64286;if(te=z[V],G&&(te==="R"||te==="AL")){ce="R";break}}}ce=K<1||(te=z[K-1])==="B"?"N":U[K-1];break;case"B":R=!1,r=!0,ce=E;break;case"S":a=!0,ce="N"}return ce},j=function(M,z,U){var K=M.split("");return U&&D(K,U,{hiLevel:E}),K.reverse(),z&&z.reverse(),K.join("")},D=function(M,z,U){var K,te,q,V,Q,ce=-1,ae=M.length,G=0,H=[],T=E?p:m,Y=[];for(R=!1,r=!1,a=!1,te=0;te<ae;te++)Y[te]=_(M[te]);for(q=0;q<ae;q++){if(Q=G,H[q]=O(M,Y,H,q),K=240&(G=T[Q][v[H[q]]]),G&=15,z[q]=V=T[G][5],K>0)if(K===16){for(te=ce;te<q;te++)z[te]=1;ce=-1}else ce=-1;if(T[G][6])ce===-1&&(ce=q);else if(ce>-1){for(te=ce;te<q;te++)z[te]=V;ce=-1}Y[q]==="B"&&(z[q]=0),U.hiLevel|=V}a&&(function(ie,ne,J){for(var ee=0;ee<J;ee++)if(ie[ee]==="S"){ne[ee]=E;for(var se=ee-1;se>=0&&ie[se]==="WS";se--)ne[se]=E}})(Y,z,ae)},P=function(M,z,U,K,te){if(!(te.hiLevel<M)){if(M===1&&E===1&&!r)return z.reverse(),void(U&&U.reverse());for(var q,V,Q,ce,ae=z.length,G=0;G<ae;){if(K[G]>=M){for(Q=G+1;Q<ae&&K[Q]>=M;)Q++;for(ce=G,V=Q-1;ce<V;ce++,V--)q=z[ce],z[ce]=z[V],z[V]=q,U&&(q=U[ce],U[ce]=U[V],U[V]=q);G=Q}G++}}},B=function(M,z,U){var K=M.split(""),te={hiLevel:E};return U||(U=[]),D(K,U,te),(function(q,V,Q){if(Q.hiLevel!==0&&d)for(var ce,ae=0;ae<q.length;ae++)V[ae]===1&&(ce=b.indexOf(q[ae]))>=0&&(q[ae]=b[ce+1])})(K,U,te),P(2,K,z,U,te),P(1,K,z,U,te),K.join("")};return this.__bidiEngine__.doBidiReorder=function(M,z,U){if((function(te,q){if(q)for(var V=0;V<te.length;V++)q[V]=V;l===void 0&&(l=N(te)),u===void 0&&(u=N(te))})(M,z),o||!c||u)if(o&&c&&l^u)E=l?1:0,M=j(M,z,U);else if(!o&&c&&u)E=l?1:0,M=B(M,z,U),M=j(M,z);else if(!o||l||c||u){if(o&&!c&&l^u)M=j(M,z),l?(E=0,M=B(M,z,U)):(E=1,M=B(M,z,U),M=j(M,z));else if(o&&l&&!c&&u)E=1,M=B(M,z,U),M=j(M,z);else if(!o&&!c&&l^u){var K=d;l?(E=1,M=B(M,z,U),E=0,d=!1,M=B(M,z,U),d=K):(E=0,M=B(M,z,U),M=j(M,z),E=1,d=!1,M=B(M,z,U),d=K,M=j(M,z))}}else E=0,M=B(M,z,U);else E=l?1:0,M=B(M,z,U);return M},this.__bidiEngine__.setOptions=function(M){M&&(o=M.isInputVisual,c=M.isOutputVisual,l=M.isInputRtl,u=M.isOutputRtl,d=M.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(i){var r=i.text;i.x,i.y;var a=i.options||{};i.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(r)==="[object Array]"){var l=0;for(o=[],l=0;l<r.length;l+=1)Object.prototype.toString.call(r[l])==="[object Array]"?o.push([n.doBidiReorder(r[l][0]),r[l][1],r[l][2]]):o.push([n.doBidiReorder(r[l])]);i.text=o}else i.text=n.doBidiReorder(r);n.setOptions({isInputVisual:!0})}])})(Sn),Sn.API.TTFFont=(function(){function e(t){var n;if(this.rawData=t,n=this.contents=new mm(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new IYe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new xYe(this.contents),this.head=new EYe(this),this.name=new OYe(this),this.cmap=new Jde(this),this.toUnicode={},this.hhea=new _Ye(this),this.maxp=new jYe(this),this.hmtx=new DYe(this),this.post=new RYe(this),this.os2=new AYe(this),this.loca=new MYe(this),this.glyf=new CYe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,i,r,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),32768&(n=r>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,i){var r,a,o,l;for(o=0,a=0,l=(t=""+t).length;0<=l?a<l:a>l;a=0<=l?++a:--a)r=t.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/n)||0;return o*(n/1e3)},e.prototype.lineHeight=function(t,n){var i;return n==null&&(n=!1),i=n?this.lineGap:0,(this.ascender+i-this.decender)/1e3*t},e})();var Ju,mm=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,i;for(i=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)i[n]=String.fromCharCode(this.readByte());return i.join("")},e.prototype.writeString=function(t){var n,i,r;for(r=[],n=0,i=t.length;0<=i?n<i:n>i;n=0<=i?++n:--n)r.push(this.writeByte(t.charCodeAt(n)));return r},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,i,r,a,o,l,c;return t=this.readByte(),n=this.readByte(),i=this.readByte(),r=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^a)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*n+1099511627776*i+4294967296*r+16777216*a+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var n,i;return n=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,i;for(n=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)n.push(this.readByte());return n},e.prototype.write=function(t){var n,i,r,a;for(a=[],i=0,r=t.length;i<r;i++)n=t[i],a.push(this.writeByte(n));return a},e})(),xYe=(function(){var e;function t(n){var i,r,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},r=0,a=this.tableCount;0<=a?r<a:r>a;r=0<=a?++r:--r)i={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[i.tag]=i}return t.prototype.encode=function(n){var i,r,a,o,l,c,u,d,h,m,p,v,S;for(S in p=Object.keys(n).length,c=Math.log(2),h=16*Math.floor(Math.log(p)/c),o=Math.floor(h/c),d=16*p-h,(r=new mm).writeInt(this.scalarType),r.writeShort(p),r.writeShort(h),r.writeShort(o),r.writeShort(d),a=16*p,u=r.pos+a,l=null,v=[],n)for(m=n[S],r.writeString(S),r.writeInt(e(m)),r.writeInt(u),r.writeInt(m.length),v=v.concat(m),S==="head"&&(l=u),u+=m.length;u%4;)v.push(0),u++;return r.write(v),i=2981146554-e(r.data),r.pos=l+8,r.writeUInt32(i),r.data},e=function(n){var i,r,a,o;for(n=Qde.call(n);n.length%4;)n.push(0);for(a=new mm(n),r=0,i=0,o=n.length;i<o;i=i+=4)r+=a.readUInt32();return 4294967295&r},t})(),wYe={}.hasOwnProperty,ef=function(e,t){for(var n in t)wYe.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};Ju=(function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var EYe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ef(e,Ju),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var n;return(n=new mm).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},e})(),fW=(function(){function e(t,n){var i,r,a,o,l,c,u,d,h,m,p,v,S,b,w,R,E;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),h=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(p=t.readUInt16(),m=p/2,t.pos+=6,a=(function(){var _,N;for(N=[],c=_=0;0<=m?_<m:_>m;c=0<=m?++_:--_)N.push(t.readUInt16());return N})(),t.pos+=2,S=(function(){var _,N;for(N=[],c=_=0;0<=m?_<m:_>m;c=0<=m?++_:--_)N.push(t.readUInt16());return N})(),u=(function(){var _,N;for(N=[],c=_=0;0<=m?_<m:_>m;c=0<=m?++_:--_)N.push(t.readUInt16());return N})(),d=(function(){var _,N;for(N=[],c=_=0;0<=m?_<m:_>m;c=0<=m?++_:--_)N.push(t.readUInt16());return N})(),r=(this.length-t.pos+this.offset)/2,l=(function(){var _,N;for(N=[],c=_=0;0<=r?_<r:_>r;c=0<=r?++_:--_)N.push(t.readUInt16());return N})(),c=w=0,E=a.length;w<E;c=++w)for(b=a[c],i=R=v=S[c];v<=b?R<=b:R>=b;i=v<=b?++R:--R)d[c]===0?o=i+u[c]:(o=l[d[c]/2+(i-v)-(m-c)]||0)!==0&&(o+=u[c]),this.codeMap[i]=65535&o}t.pos=h}return e.encode=function(t,n){var i,r,a,o,l,c,u,d,h,m,p,v,S,b,w,R,E,_,N,O,j,D,P,B,M,z,U,K,te,q,V,Q,ce,ae,G,H,T,Y,ie,ne,J,ee,se,de,he,me;switch(K=new mm,o=Object.keys(t).sort(function(we,le){return we-le}),n){case"macroman":for(S=0,b=(function(){var we=[];for(v=0;v<256;++v)we.push(0);return we})(),R={0:0},a={},te=0,ce=o.length;te<ce;te++)R[se=t[r=o[te]]]==null&&(R[se]=++S),a[r]={old:t[r],new:R[t[r]]},b[r]=R[t[r]];return K.writeUInt16(1),K.writeUInt16(0),K.writeUInt32(12),K.writeUInt16(0),K.writeUInt16(262),K.writeUInt16(0),K.write(b),{charMap:a,subtable:K.data,maxGlyphID:S+1};case"unicode":for(z=[],h=[],E=0,R={},i={},w=u=null,q=0,ae=o.length;q<ae;q++)R[N=t[r=o[q]]]==null&&(R[N]=++E),i[r]={old:N,new:R[N]},l=R[N]-r,w!=null&&l===u||(w&&h.push(w),z.push(r),u=l),w=r;for(w&&h.push(w),h.push(65535),z.push(65535),B=2*(P=z.length),D=2*Math.pow(Math.log(P)/Math.LN2,2),m=Math.log(D/2)/Math.LN2,j=2*P-D,c=[],O=[],p=[],v=V=0,G=z.length;V<G;v=++V){if(M=z[v],d=h[v],M===65535){c.push(0),O.push(0);break}if(M-(U=i[M].new)>=32768)for(c.push(0),O.push(2*(p.length+P-v)),r=Q=M;M<=d?Q<=d:Q>=d;r=M<=d?++Q:--Q)p.push(i[r].new);else c.push(U-M),O.push(0)}for(K.writeUInt16(3),K.writeUInt16(1),K.writeUInt32(12),K.writeUInt16(4),K.writeUInt16(16+8*P+2*p.length),K.writeUInt16(0),K.writeUInt16(B),K.writeUInt16(D),K.writeUInt16(m),K.writeUInt16(j),J=0,H=h.length;J<H;J++)r=h[J],K.writeUInt16(r);for(K.writeUInt16(0),ee=0,T=z.length;ee<T;ee++)r=z[ee],K.writeUInt16(r);for(de=0,Y=c.length;de<Y;de++)l=c[de],K.writeUInt16(l);for(he=0,ie=O.length;he<ie;he++)_=O[he],K.writeUInt16(_);for(me=0,ne=p.length;me<ne;me++)S=p[me],K.writeUInt16(S);return{charMap:i,subtable:K.data,maxGlyphID:E+1}}},e})(),Jde=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ef(e,Ju),e.prototype.tag="cmap",e.prototype.parse=function(t){var n,i,r;for(t.pos=this.offset,this.version=t.readUInt16(),r=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n=new fW(t,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(t,n){var i,r;return n==null&&(n="macroman"),i=fW.encode(t,n),(r=new mm).writeUInt16(0),r.writeUInt16(1),i.table=r.data.concat(i.subtable),i},e})(),_Ye=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ef(e,Ju),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),AYe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ef(e,Ju),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var n,i;for(i=[],n=0;n<10;++n)i.push(t.readByte());return i})(),this.charRange=(function(){var n,i;for(i=[],n=0;n<4;++n)i.push(t.readInt());return i})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(t.readInt());return i})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),RYe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ef(e,Ju),e.prototype.tag="post",e.prototype.parse=function(t){var n,i,r;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(i=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],r=[];t.pos<this.offset+this.length;)n=t.readByte(),r.push(this.names.push(t.readString(n)));return r;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 262144:return this.map=(function(){var o,l,c;for(c=[],a=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;a=0<=l?++o:--o)c.push(t.readUInt32());return c}).call(this)}},e})(),NYe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},OYe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ef(e,Ju),e.prototype.tag="name",e.prototype.parse=function(t){var n,i,r,a,o,l,c,u,d,h,m;for(t.pos=this.offset,t.readShort(),n=t.readShort(),l=t.readShort(),i=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},a=d=0,h=i.length;d<h;a=++d)r=i[a],t.pos=r.offset,u=t.readString(r.length),o=new NYe(u,r),c[m=r.nameID]==null&&(c[m]=[]),c[r.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e})(),jYe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ef(e,Ju),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),DYe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ef(e,Ju),e.prototype.tag="hmtx",e.prototype.parse=function(t){var n,i,r,a,o,l,c;for(t.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var u,d;for(d=[],n=u=0;0<=r?u<r:u>r;n=0<=r?++u:--u)d.push(t.readInt16());return d})(),this.widths=(function(){var u,d,h,m;for(m=[],u=0,d=(h=this.metrics).length;u<d;u++)a=h[u],m.push(a.advance);return m}).call(this),i=this.widths[this.widths.length-1],c=[],n=o=0;0<=r?o<r:o>r;n=0<=r?++o:--o)c.push(this.widths.push(i));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),Qde=[].slice,CYe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ef(e,Ju),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var n,i,r,a,o,l,c,u,d,h;return t in this.cache?this.cache[t]:(a=this.file.loca,n=this.file.contents,i=a.indexOf(t),(r=a.lengthOf(t))===0?this.cache[t]=null:(n.pos=this.offset+i,o=(l=new mm(n.read(r))).readShort(),u=l.readShort(),h=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[t]=o===-1?new TYe(l,u,h,c,d):new LYe(l,o,u,h,c,d),this.cache[t]))},e.prototype.encode=function(t,n,i){var r,a,o,l,c;for(o=[],a=[],l=0,c=n.length;l<c;l++)r=t[n[l]],a.push(o.length),r&&(o=o.concat(r.encode(i)));return a.push(o.length),{table:o,offsets:a}},e})(),LYe=(function(){function e(t,n,i,r,a,o){this.raw=t,this.numberOfContours=n,this.xMin=i,this.yMin=r,this.xMax=a,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),TYe=(function(){function e(t,n,i,r,a){var o,l;for(this.raw=t,this.xMin=n,this.yMin=i,this.xMax=r,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,n,i;for(n=new mm(Qde.call(this.raw.data)),t=0,i=this.glyphIDs.length;t<i;++t)n.pos=this.glyphOffsets[t];return n.data},e})(),MYe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ef(e,Ju),e.prototype.tag="loca",e.prototype.parse=function(t){var n,i;return t.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var r,a;for(a=[],i=0,r=this.length;i<r;i+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var r,a;for(a=[],i=0,r=this.length;i<r;i+=4)a.push(t.readUInt32());return a}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,n){for(var i=new Uint32Array(this.offsets.length),r=0,a=0,o=0;o<i.length;++o)if(i[o]=r,a<n.length&&n[a]==o){++a,i[o]=r;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(r+=c)}for(var u=new Array(4*i.length),d=0;d<i.length;++d)u[4*d+3]=255&i[d],u[4*d+2]=(65280&i[d])>>8,u[4*d+1]=(16711680&i[d])>>16,u[4*d]=(4278190080&i[d])>>24;return u},e})(),IYe=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,i,r,a;for(n in r=this.font.cmap.tables[0].codeMap,t={},a=this.subset)i=a[n],t[n]=r[i];return t},e.prototype.glyphsFor=function(t){var n,i,r,a,o,l,c;for(r={},o=0,l=t.length;o<l;o++)r[a=t[o]]=this.font.glyf.glyphFor(a);for(a in n=[],r)(i=r[a])!=null&&i.compound&&n.push.apply(n,i.glyphIDs);if(n.length>0)for(a in c=this.glyphsFor(n))i=c[a],r[a]=i;return r},e.prototype.encode=function(t,n){var i,r,a,o,l,c,u,d,h,m,p,v,S,b,w;for(r in i=Jde.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),p={0:0},w=i.charMap)p[(c=w[r]).old]=c.new;for(v in m=i.maxGlyphID,o)v in p||(p[v]=m++);return d=(function(R){var E,_;for(E in _={},R)_[R[E]]=E;return _})(p),h=Object.keys(d).sort(function(R,E){return R-E}),S=(function(){var R,E,_;for(_=[],R=0,E=h.length;R<E;R++)l=h[R],_.push(d[l]);return _})(),a=this.font.glyf.encode(o,S,p),u=this.font.loca.encode(a.offsets,S),b={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},e})();Sn.API.PDFObject=(function(){var e;function t(){}return e=function(n,i){return(Array(i+1).join("0")+n).slice(-i)},t.convert=function(n){var i,r,a,o;if(Array.isArray(n))return"["+(function(){var l,c,u;for(u=[],l=0,c=n.length;l<c;l++)i=n[l],u.push(t.convert(i));return u})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(r in a=["<<"],n)o=n[r],a.push("/"+r+" "+t.convert(o));return a.push(">>"),a.join(`
`)}return""+n},t})();const ps=e=>new Intl.NumberFormat("nb-NO",{style:"currency",currency:"NOK",minimumFractionDigits:2}).format(e),Kb=e=>e?new Date(e).toLocaleDateString("nb-NO",{year:"numeric",month:"short",day:"numeric"}):"",l_=e=>e?new Date(e).toLocaleString("nb-NO",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",PYe=(e,t)=>{if(!e&&!t)return"";if(e&&!t)return Kb(e);if(!e&&t)return Kb(t);const n=Kb(e),i=Kb(t);return n===i?n:`${n}  ${i}`},kYe=(e,t)=>{if(!e&&!t)return"";if(e&&!t)return`Start: ${l_(e)}`;if(!e&&t)return`End: ${l_(t)}`;const n=`Start: ${l_(e)}`,i=`End: ${l_(t)}`;return n===i?n:`${n}
${i}`},$Ye=e=>e?{passenger_car_small:"Passenger Car - Small",passenger_car_medium:"Passenger Car - Medium",passenger_car_big:"Passenger Car - Big",van_small:"Van - Small",van_medium:"Van - Medium",van_big:"Van - Big",C1:"C1",C1E:"C1E",C:"C",CE:"CE"}[e]||e:"Vehicle",hW=(e,t)=>{if(!e||!t)return 1;const n=new Date(t).getTime()-new Date(e).getTime();return Math.max(1,Math.ceil(n/(1e3*60*60*24)))},FYe=e=>e&&e.trim()!==""?e:"",BYe=e=>e==null?null:`${Math.round(e*10)/10}h`,nL={gray:{r:113,g:113,b:122},gold:{r:173,g:127,b:49},bronze:{r:152,g:116,b:86},brown:{r:140,g:107,b:78},yellow:{r:179,g:117,b:11},amber:{r:179,g:92,b:14},orange:{r:190,g:84,b:13},tomato:{r:192,g:59,b:45},red:{r:199,g:46,b:62},ruby:{r:192,g:44,b:80},pink:{r:190,g:50,b:120},plum:{r:135,g:70,b:150},purple:{r:111,g:80,b:176},violet:{r:104,g:89,b:185},iris:{r:91,g:98,b:192},indigo:{r:79,g:70,b:229},blue:{r:41,g:98,b:200},cyan:{r:14,g:116,b:144},teal:{r:12,g:122,b:118},jade:{r:12,g:115,b:87},green:{r:19,g:119,b:66},grass:{r:46,g:120,b:56},mint:{r:25,g:128,b:114},lime:{r:121,g:143,b:30},sky:{r:38,g:110,b:172}},zYe=e=>{if(!e)return nL.indigo;const t=e.toLowerCase();return nL[t]??nL.indigo},pW=(e,t)=>{const n=i=>Math.round(255-(255-i)*t);return{r:n(e.r),g:n(e.g),b:n(e.b)}};async function Xde(e){var j,D,P,B,M,z,U,K,te,q;const t=new Sn({orientation:"portrait",unit:"mm",format:"a4"}),n=t.internal.pageSize.getWidth(),i=t.internal.pageSize.getHeight(),r=20,a=n-r*2,o=5,l=zYe((j=e.company)==null?void 0:j.accent_color),c=pW(l,.08),u=pW(l,.04);let d=r;const h=(V,Q)=>{d+V>i-r&&(t.addPage(),d=r,Q&&Q())},m=V=>{h(12),t.setFillColor(c.r,c.g,c.b),t.rect(r,d-3,a,8,"F"),t.setFontSize(11),t.setFont("helvetica","bold"),t.setTextColor(40),t.text(V,r+2,d+2),d+=9,t.setTextColor(20)},p=(V,Q)=>{const ae=a-40,G=t.splitTextToSize(Q,ae);h(G.length*o+2),t.setFontSize(9),t.setFont("helvetica","normal"),t.setTextColor(110),t.text(V,r,d),t.setTextColor(30),G.forEach((H,T)=>{t.text(H,r+40,d+T*o)}),d+=G.length*o+1},v=(V,Q=!1)=>{Q||h(8),t.setFillColor(u.r,u.g,u.b),t.rect(r,d-3,a,7,"F"),t.setFontSize(9),t.setFont("helvetica","bold"),t.setTextColor(40);let ce=r;V.forEach(ae=>{const G=ae.align==="right"?ce+ae.width-1:ce+1;t.text(ae.label,G,d+2,{align:ae.align||"left"}),ce+=ae.width}),d+=7,t.setFont("helvetica","normal"),t.setTextColor(30)},S=(V,Q)=>{const ae=V.map(Y=>t.splitTextToSize(Y.text||"",Y.width-2)),H=Math.max(1,...ae.map(Y=>Y.length))*5+5;h(H+4,()=>{Q&&v(Q,!0)});let T=r;ae.forEach((Y,ie)=>{const ne=V[ie];Y.forEach((J,ee)=>{const se=ne.align==="right"?T+ne.width-1:T+1;t.text(J,se,d+ee*5,{align:ne.align||"left"})}),T+=ne.width}),d+=H},b=((D=e.company)==null?void 0:D.name)??"Company";if(t.setFontSize(14),t.setFont("helvetica","bold"),t.setTextColor(20),t.text(b,r,d),t.setFontSize(10),t.setFont("helvetica","normal"),t.setTextColor(110),t.text(`Offer v${e.version_number}`,n-r,d,{align:"right"}),d+=6,t.setFontSize(12),t.setFont("helvetica","bold"),t.setTextColor(20),t.text(e.title||"Offer",r,d),t.setFontSize(9),t.setFont("helvetica","normal"),t.setTextColor(110),t.text(`Status: ${e.status}`,n-r,d,{align:"right"}),d+=6,(P=e.company)!=null&&P.address){t.setFontSize(9),t.setTextColor(110);const V=t.splitTextToSize(e.company.address,90);V.forEach((Q,ce)=>{t.text(Q,r,d+ce*o)}),d+=V.length*o}if(d+=4,d+=6,m("Offer Details"),p("Type",e.offer_type==="technical"?"Technical":"Pretty"),p("Created",Kb(e.created_at)),e.job_title&&p("Job",e.job_title),p("Days of use",`${e.days_of_use}`),p("VAT",`${e.vat_percent}%`),e.customer||e.customer_contact||e.project_lead){d+=2,m("Contacts");const V=8,Q=(a-V)/2,ce=r,ae=r+Q+V,G=d;let H=d,T=d;const Y=o+1,ie=(ne,J,ee,se)=>{t.setFontSize(9),t.setFont("helvetica","normal"),t.setTextColor(110),t.text(ee,ne,J),t.setTextColor(30);const de=t.splitTextToSize(FYe(se),Q-22);return de.forEach((he,me)=>{t.text(he,ne+22,J+me*o)}),de.length*o+1};e.customer&&(H+=ie(ce,H,"Customer",e.customer.name),H+=ie(ce,H,"Email",e.customer.email),H+=ie(ce,H,"Phone",e.customer.phone),e.customer.address&&(H+=ie(ce,H,"Address",e.customer.address))),e.customer_contact&&(T+=ie(ae,T,"Contact",e.customer_contact.name),T+=ie(ae,T,"Contact email",e.customer_contact.email),T+=ie(ae,T,"Contact phone",e.customer_contact.phone)),e.project_lead&&(T+=Y,T+=ie(ae,T,"Project lead",e.project_lead.display_name),T+=ie(ae,T,"Lead email",e.project_lead.email),T+=ie(ae,T,"Lead phone",e.project_lead.phone)),d=Math.max(H,T),d===G&&(d+=o)}if(e.groups&&e.groups.length>0){d+=4,m("Equipment");const V=e.show_price_per_line?[{label:"Item",width:90},{label:"Qty",width:15,align:"right"},{label:"Unit",width:30,align:"right"},{label:"Line total",width:35,align:"right"}]:[{label:"Item",width:140},{label:"Qty",width:30,align:"right"}];v(V);for(const Q of e.groups){const ce=(Q.items||[]).reduce((ae,G)=>ae+(G.total_price??G.unit_price*G.quantity),0);if(h(10,()=>v(V,!0)),t.setFontSize(9),t.setFont("helvetica","bold"),t.setTextColor(30),t.text(Q.group_name,r,d),e.show_price_per_line&&t.text(ps(ce),n-r,d,{align:"right"}),d+=5,t.setFont("helvetica","normal"),Q.items&&Q.items.length>0)for(const ae of Q.items){const G=ae.group?`${ae.group.name} (Group)`:((B=ae.item)==null?void 0:B.name)||"Unknown Item",H=ae.group?null:[(z=(M=ae.item)==null?void 0:M.brand)==null?void 0:z.name,(U=ae.item)==null?void 0:U.model].filter(Boolean).join(" "),T=H?`${G} (${H})`:G,Y=`${ae.quantity}`,ie=ps(ae.unit_price),ne=ps(ae.total_price??ae.unit_price*ae.quantity);e.show_price_per_line?S([{text:T,width:90},{text:Y,width:15,align:"right"},{text:ie,width:30,align:"right"},{text:ne,width:35,align:"right"}],V):S([{text:T,width:140},{text:Y,width:30,align:"right"}],V)}else S([{text:"No items in this group",width:a}],V);d+=2}}if(e.crew_items&&e.crew_items.length>0){d+=4,m("Crew");const V=[{label:"Role",width:55},{label:"Count",width:12,align:"right"},{label:"Dates",width:45},{label:"Rate",width:30,align:"right"},{label:"Total",width:28,align:"right"}];v(V);for(const Q of e.crew_items){const ce=hW(Q.start_date,Q.end_date),ae=BYe(Q.hours_per_day),G=Q.hours_per_day!==null&&Q.hours_per_day!==void 0?Math.round(Q.hours_per_day*ce*10)/10:null,H=Q.role_category?`${Q.role_title} - ${Q.role_category}`:Q.role_title;let T=`${ps(Q.daily_rate)} x ${ce} day`;if(Q.billing_type==="hourly"&&Q.hourly_rate!==null){const ie=ae?`${ae}/day`:"hours/day";T=`Hourly: ${ps(Q.hourly_rate)}/h x ${ie} x ${ce} day`}else ae&&(T=`${ps(Q.daily_rate)} x ${ce} day (${ae}/day)`);const Y=G!==null?` (${G}h booked)`:"";S([{text:H,width:55},{text:`${Q.crew_count}`,width:12,align:"right"},{text:kYe(Q.start_date,Q.end_date),width:45},{text:`${T}${Y}`,width:30,align:"right"},{text:ps(Q.total_price),width:28,align:"right"}],V)}}if(e.transport_items&&e.transport_items.length>0){d+=4,m("Transport");const V=[{label:"Vehicle",width:55},{label:"Dates",width:45},{label:"Rate",width:35,align:"right"},{label:"Total",width:35,align:"right"}];v(V);for(const Q of e.transport_items){hW(Q.start_date,Q.end_date);const ce=((K=e.company_expansion)==null?void 0:K.vehicle_distance_increment)??150,ae=Q.daily_rate??((te=e.company_expansion)==null?void 0:te.vehicle_daily_rate)??null,G=Q.distance_rate??((q=e.company_expansion)==null?void 0:q.vehicle_distance_rate)??null,H=$Ye(Q.vehicle_category??null),T=ae!==null?`Daily: ${ps(ae)} / day`:"Daily: ",Y=G!==null?`Distance: ${ps(G)} / ${ce} km`:"Distance: ",ie=[T,Y];S([{text:H,width:55},{text:PYe(Q.start_date,Q.end_date),width:45},{text:ie.join(`
`),width:35,align:"right"},{text:ps(Q.total_price),width:35,align:"right"}],V)}}if(e.pretty_sections&&e.pretty_sections.length>0){d+=4,m("Content Sections"),t.setFontSize(9),t.setFont("helvetica","normal"),t.setTextColor(30);for(const V of e.pretty_sections.sort((Q,ce)=>Q.sort_order-ce.sort_order))h(18),V.title&&(t.setFont("helvetica","bold"),t.text(V.title,r,d),d+=5),V.content&&(t.setFont("helvetica","normal"),t.splitTextToSize(V.content,a).forEach(ce=>{h(6),t.text(ce,r,d),d+=o}),d+=3),d+=4}d+=6,h(30),m("Subtotals");const R=r+100;t.setFontSize(9),t.setFont("helvetica","normal"),t.setTextColor(30),t.text("Equipment",r,d),t.text(ps(e.equipment_subtotal),R,d,{align:"right"}),d+=5,t.text("Crew",r,d),t.text(ps(e.crew_subtotal),R,d,{align:"right"}),d+=5,t.text("Transport",r,d),t.text(ps(e.transport_subtotal),R,d,{align:"right"}),d+=6;const _=9+(4+(e.discount_percent>0?1:0)+1)*5+8;if(h(_),m("Totals & Adjustments"),t.setFontSize(9),t.setFont("helvetica","normal"),t.setTextColor(30),t.text("Total Before Discount",r,d),t.text(ps(e.total_before_discount),R,d,{align:"right"}),d+=5,e.discount_percent>0){const V=e.total_before_discount-e.total_after_discount;t.text(`Discount (${e.discount_percent}%)`,r,d),t.text(`-${ps(V)}`,R,d,{align:"right"}),d+=5}t.text("Total After Discount",r,d),t.text(ps(e.total_after_discount),R,d,{align:"right"}),d+=5;const N=e.total_with_vat-e.total_after_discount;t.text(`VAT (${e.vat_percent}%)`,r,d),t.text(ps(N),R,d,{align:"right"}),d+=7,t.setFontSize(11),t.setFont("helvetica","bold"),t.text("Total With VAT",r,d),t.text(ps(e.total_with_vat),R,d,{align:"right"});const O=`${e.title.replace(/[^a-z0-9]/gi,"_")}_v${e.version_number}.pdf`;t.save(O)}function UYe(e){return{queryKey:["job-offers",e],queryFn:async()=>{const{data:t,error:n}=await re.from("job_offers").select("*").eq("job_id",e).order("created_at",{ascending:!1});if(n)throw n;return t||[]}}}function Mg(e){return{queryKey:["offer-detail",e],queryFn:async()=>{const{data:t,error:n}=await re.from("job_offers").select(`
          *,
          job:jobs!job_offers_job_id_fkey (
            id,
            title,
            customer_id,
            customer_contact_id,
            project_lead_user_id,
            customer:customer_id (
              id,
              name,
              email,
              phone,
              address,
              logo_path
            ),
            customer_contact:contacts!jobs_customer_contact_id_fkey (
              id,
              name,
              phone,
              email,
              title
            ),
            project_lead:profiles!jobs_project_lead_user_id_fkey (
              user_id,
              display_name,
              email,
              phone
            )
          ),
          company:companies!job_offers_company_id_fkey (
            id,
            name,
            address,
            logo_light_path,
            logo_dark_path,
            accent_color
          )
        `).eq("id",e).maybeSingle();if(n)throw n;if(!t)return null;const{data:i,error:r}=await re.from("offer_equipment_groups").select("*").eq("offer_id",e).order("sort_order",{ascending:!0});if(r)throw r;const a=await Promise.all((i||[]).map(async E=>{const{data:_,error:N}=await re.from("offer_equipment_items").select("*").eq("offer_group_id",E.id).order("sort_order",{ascending:!0});if(N)throw N;const O=(_||[]).map(M=>M.item_id).filter(M=>M!=null),j=(_||[]).map(M=>M.group_id).filter(M=>M!=null),D=new Map,P=new Map;if(O.length>0){const{data:M,error:z}=await re.from("items").select(`
                id,
                name,
                internally_owned,
                external_owner_id,
                model,
                external_owner:customers!items_external_owner_id_fkey ( id, name ),
                brand:item_brands ( id, name )
              `).in("id",O);if(z)throw z;M&&M.forEach(U=>{var te;const K=Array.isArray(U.brand)?U.brand[0]:U.brand;D.set(U.id,{id:U.id,name:U.name,internally_owned:!!U.internally_owned,external_owner_id:U.external_owner_id??null,external_owner_name:((te=U.external_owner)==null?void 0:te.name)??null,brand:K||null,model:U.model||null})})}if(j.length>0){const{data:M,error:z}=await re.from("item_groups").select(`
                id,
                name,
                internally_owned,
                external_owner_id,
                external_owner:customers!item_groups_external_owner_id_fkey ( id, name )
              `).in("id",j);if(z)throw z;M&&M.forEach(U=>{var K;P.set(U.id,{id:U.id,name:U.name,internally_owned:!!U.internally_owned,external_owner_id:U.external_owner_id??null,external_owner_name:((K=U.external_owner)==null?void 0:K.name)??null})})}const B=(_||[]).map(M=>({...M,item:M.item_id&&D.get(M.item_id)||null,group:M.group_id&&P.get(M.group_id)||null}));return{...E,items:B}})),{data:o,error:l}=await re.from("offer_crew_items").select("*").eq("offer_id",e).order("sort_order",{ascending:!0});if(l)throw l;const{data:c,error:u}=await re.from("offer_transport_items").select("*").eq("offer_id",e).order("sort_order",{ascending:!0});if(u)throw u;const d=(c||[]).map(E=>E.vehicle_id).filter(E=>E!=null),h=new Map;if(d.length>0){const{data:E,error:_}=await re.from("vehicles").select("id, name, external_owner_id").in("id",d);if(_)throw _;E&&E.forEach(N=>{h.set(N.id,N)})}const m=(c||[]).map(E=>({...E,vehicle:E.vehicle_id&&h.get(E.vehicle_id)||null}));let p;if(t.offer_type==="pretty"){const{data:E,error:_}=await re.from("offer_pretty_sections").select("*").eq("offer_id",e).order("sort_order",{ascending:!0});if(_)throw _;p=E||[]}const v={...t,bookings_synced_at:t.bookings_synced_at??null,groups:a,crew_items:o||[],transport_items:m||[],pretty_sections:p},S=t.job;if(S){const E=Array.isArray(S)?S[0]:S;v.job_title=(E==null?void 0:E.title)??null;const _=Array.isArray(E==null?void 0:E.customer)?E.customer[0]:E==null?void 0:E.customer;_&&(v.customer={id:_.id,name:_.name,email:_.email,phone:_.phone,address:_.address,logo_path:_.logo_path});const N=Array.isArray(E==null?void 0:E.customer_contact)?E.customer_contact[0]:E==null?void 0:E.customer_contact;N&&(v.customer_contact={id:N.id,name:N.name,phone:N.phone,email:N.email});const O=Array.isArray(E==null?void 0:E.project_lead)?E.project_lead[0]:E==null?void 0:E.project_lead;O&&(v.project_lead={user_id:O.user_id,display_name:O.display_name,email:O.email,phone:O.phone})}const b=t.company;if(b){const E=Array.isArray(b)?b[0]:b;E&&(v.company={id:E.id,name:E.name,address:E.address,logo_light_path:E.logo_light_path??null,logo_dark_path:E.logo_dark_path??null,accent_color:E.accent_color??null})}const{data:w,error:R}=await re.from("company_expansions").select("vehicle_daily_rate, vehicle_distance_rate, vehicle_distance_increment").eq("company_id",t.company_id).maybeSingle();return!R&&w&&(v.company_expansion={vehicle_daily_rate:w.vehicle_daily_rate??null,vehicle_distance_rate:w.vehicle_distance_rate??null,vehicle_distance_increment:w.vehicle_distance_increment??null}),v}}}function VYe(e){return{queryKey:["public-offer",e],queryFn:async()=>{const{data:t,error:n}=await re.rpc("public_offer_get",{p_access_token:e});if(n)throw n;return t??null}}}async function uk(e){const t=qHe(),{data:n}=await re.from("job_offers").select("version_number").eq("job_id",e.jobId).order("version_number",{ascending:!1}).limit(1),i=n&&n.length>0?n[0].version_number+1:1,{data:r,error:a}=await re.from("job_offers").insert({job_id:e.jobId,company_id:e.companyId,offer_type:e.offerType,version_number:i,status:"draft",access_token:t,title:e.title,days_of_use:e.daysOfUse,discount_percent:e.discountPercent,vat_percent:e.vatPercent,show_price_per_line:e.showPricePerLine??!0,based_on_offer_id:e.basedOnOfferId||null,locked:!1,equipment_subtotal:0,crew_subtotal:0,transport_subtotal:0,total_before_discount:0,total_after_discount:0,total_with_vat:0}).select("id").single();if(a)throw a;return r.id}async function KYe({jobId:e,companyId:t}){var ae,G,H;const{data:n,error:i}=await re.from("jobs").select("title, start_at, end_at").eq("id",e).single();if(i)throw i;const r=(ae=n==null?void 0:n.title)==null?void 0:ae.trim(),a=r?`Offer for ${r} (bookings)`:"Offer based on bookings",o=(T,Y)=>{if(!T||!Y)return 1;const ie=new Date(T),J=new Date(Y).getTime()-ie.getTime(),ee=Math.ceil(J/(1e3*60*60*24));return Math.max(1,ee)},l=o((n==null?void 0:n.start_at)??null,(n==null?void 0:n.end_at)??null),c=await uk({jobId:e,companyId:t,offerType:"technical",title:a,daysOfUse:l,discountPercent:0,vatPercent:25,showPricePerLine:!0}),{data:u}=await re.from("company_expansions").select("crew_rate_per_day, vehicle_daily_rate, vehicle_distance_rate, vehicle_distance_increment").eq("company_id",t).maybeSingle(),{data:d,error:h}=await re.from("time_periods").select("id, title, start_at, end_at, category, needed_count, role_category").eq("job_id",e).eq("deleted",!1).order("start_at",{ascending:!0});if(h)throw h;if(!d||d.length===0)return await IR(c),c;const m=d.map(T=>T.id),p=new Map(d.map((T,Y)=>[T.id,{...T,sort_order:Y}])),{data:v,error:S}=await re.from("reserved_items").select("id, time_period_id, item_id, quantity, source_kind, source_group_id").in("time_period_id",m);if(S)throw S;const b=(v==null?void 0:v.filter(T=>T.source_kind!=="group"))??[],w=(v==null?void 0:v.filter(T=>T.source_kind==="group"&&T.source_group_id))??[],R=b.map(T=>T.item_id).filter(T=>!!T)??[],E=new Map;if(R.length>0){const{data:T,error:Y}=await re.from("items").select("id, internally_owned").in("id",R);if(Y)throw Y;if(T)for(const ie of T)E.set(ie.id,!!ie.internally_owned)}const _=new Map,N=new Map;if(R.length>0){const{data:T,error:Y}=await re.from("items_with_price").select("id, current_price, category_name").in("id",R);if(Y)throw Y;if(T)for(const ie of T)ie.id&&(_.set(ie.id,ie.current_price??0),N.set(ie.id,ie.category_name??null))}const O=w.map(T=>T.source_group_id).filter(T=>!!T)??[],j=new Map;if(O.length>0){const{data:T,error:Y}=await re.from("inventory_index").select("id, category_name, current_price, internally_owned, is_group").in("id",O);if(Y)throw Y;for(const ie of T||[])!ie.id||!ie.is_group||j.set(ie.id,{category_name:ie.category_name??null,current_price:ie.current_price??0,internally_owned:!!ie.internally_owned})}const D=new Map;if(O.length>0){const{data:T,error:Y}=await re.from("group_items").select("group_id, item_id, quantity").in("group_id",O);if(Y)throw Y;for(const ie of T||[]){if(!ie.item_id)continue;const ne=D.get(ie.group_id)??[];ne.push({item_id:ie.item_id,quantity:ie.quantity??1}),D.set(ie.group_id,ne)}}const P=new Map;for(const T of w){if(!T.source_group_id||!T.item_id)continue;const Y=P.get(T.source_group_id)??new Map,ie=Y.get(T.item_id)??0;Y.set(T.item_id,ie+(T.quantity??0)),P.set(T.source_group_id,Y)}const B=new Map;for(const T of O){const Y=D.get(T)??[];if(Y.length===0)continue;let ie=Number.POSITIVE_INFINITY;for(const J of Y){if(!J.item_id||J.quantity<=0)continue;const se=(((G=P.get(T))==null?void 0:G.get(J.item_id))??0)/J.quantity;ie=Math.min(ie,se)}const ne=Number.isFinite(ie)&&ie>0?Math.floor(ie):1;B.set(T,Math.max(1,ne))}const M=new Map,z=T=>(M.has(T)||M.set(T,{items:new Map,groups:new Map}),M.get(T));for(const T of b||[]){if(!T.item_id)continue;const Y=N.get(T.item_id)??"Uncategorized",ie=T.quantity??1,ne=z(Y),J=ne.items.get(T.item_id)??0;ne.items.set(T.item_id,J+ie)}for(const T of O){const Y=j.get(T);if(!Y)continue;const ie=Y.category_name??"Uncategorized",ne=B.get(T)??1,J=z(ie),ee=J.groups.get(T)??0;J.groups.set(T,ee+ne)}const U=Array.from(M.keys()).sort((T,Y)=>T.localeCompare(Y));for(const[T,Y]of U.entries()){const ie=M.get(Y);if(!ie)continue;const{data:ne,error:J}=await re.from("offer_equipment_groups").insert({offer_id:c,group_name:Y,sort_order:T}).select("id").single();if(J)throw J;const ee=Array.from(ie.items.entries()).map(([he,me],we)=>{const le=_.get(he)??0;return{offer_group_id:ne.id,item_id:he,group_id:null,quantity:me,unit_price:le,total_price:le*me,is_internal:E.get(he)??!0,sort_order:we}}),se=Array.from(ie.groups.entries()).map(([he,me],we)=>{const le=j.get(he),ue=(le==null?void 0:le.current_price)??0;return{offer_group_id:ne.id,item_id:null,group_id:he,quantity:me,unit_price:ue,total_price:ue*me,is_internal:(le==null?void 0:le.internally_owned)??!0,sort_order:ee.length+we}}),de=[...ee,...se];if(de.length>0){const{error:he}=await re.from("offer_equipment_items").insert(de);if(he)throw he}}const K=d.filter(T=>T.category==="crew");for(const[T,Y]of K.entries()){const ie=Math.max(0,Y.needed_count??0);if(ie===0)continue;const ne=Y.start_at||(n==null?void 0:n.start_at)||new Date().toISOString(),J=Y.end_at||(n==null?void 0:n.end_at)||new Date().toISOString(),ee=(u==null?void 0:u.crew_rate_per_day)??0,se=ee*ie*o(ne,J),{error:de}=await re.from("offer_crew_items").insert({offer_id:c,role_title:((H=Y.title)==null?void 0:H.trim())||"Crew",role_category:Y.role_category??null,crew_count:ie,start_date:ne,end_date:J,daily_rate:ee,total_price:se,sort_order:T});if(de)throw de}const{data:te,error:q}=await re.from("reserved_vehicles").select("id, time_period_id, vehicle_id").in("time_period_id",m);if(q)throw q;const V=(te==null?void 0:te.map(T=>T.vehicle_id).filter(T=>!!T))??[],Q=new Map;if(V.length>0){const{data:T,error:Y}=await re.from("vehicles").select("id, name, vehicle_category, internally_owned").in("id",V);if(Y)throw Y;if(T)for(const ie of T)Q.set(ie.id,{name:ie.name,vehicle_category:ie.vehicle_category??null,internally_owned:!!ie.internally_owned})}let ce=0;for(const T of te||[]){const Y=p.get(T.time_period_id);if(!Y)continue;const ie=T.vehicle_id?Q.get(T.vehicle_id):null,ne=Y.start_at||(n==null?void 0:n.start_at)||new Date().toISOString(),J=Y.end_at||(n==null?void 0:n.end_at)||new Date().toISOString(),ee=(u==null?void 0:u.vehicle_daily_rate)??0,se=Math.max(1,(u==null?void 0:u.vehicle_distance_increment)??150),de=se,he=(u==null?void 0:u.vehicle_distance_rate)??0,me=Math.ceil(de/se),we=he>0&&me>0?he*me:0,le=ee*o(ne,J)+we,{error:ue}=await re.from("offer_transport_items").insert({offer_id:c,vehicle_name:(ie==null?void 0:ie.name)||"Vehicle",vehicle_id:T.vehicle_id??null,vehicle_category:(ie==null?void 0:ie.vehicle_category)??null,distance_km:de,start_date:ne,end_date:J,daily_rate:ee,total_price:le,is_internal:(ie==null?void 0:ie.internally_owned)??!0,sort_order:ce});if(ue)throw ue;ce+=1}return await IR(c),c}async function IR(e){var d;let t=null,n=null;for(let h=0;h<3;h++)try{if(t=await Mg(e).queryFn(),t)break}catch(m){n=m instanceof Error?m:new Error(String(m)),h<2&&await new Promise(p=>setTimeout(p,100*(h+1)))}if(!t){const h=(n==null?void 0:n.message)||"Offer not found";throw new Error(`Failed to fetch offer for recalculation: ${h}`)}const i=((d=t.groups)==null?void 0:d.flatMap(h=>(h.items||[]).map(m=>({...m,total_price:m.unit_price*m.quantity}))))||[],r=t.crew_items||[],a=t.transport_items||[];let o=null,l=null;if(t.company_id){const{data:h}=await re.from("company_expansions").select("vehicle_distance_rate, vehicle_distance_increment").eq("company_id",t.company_id).maybeSingle();h&&(o=h.vehicle_distance_rate,l=h.vehicle_distance_increment??150)}const c=sde(i,r,a,t.days_of_use,t.discount_percent,t.vat_percent,o,l),{error:u}=await re.from("job_offers").update({equipment_subtotal:c.equipmentSubtotal,crew_subtotal:c.crewSubtotal,transport_subtotal:c.transportSubtotal,total_before_discount:c.totalBeforeDiscount,total_after_discount:c.totalAfterDiscount,total_with_vat:c.totalWithVAT}).eq("id",e);if(u)throw u}async function Zde(e){const{data:t,error:n}=await re.from("job_offers").select("id, job_id, version_number").eq("id",e).single();if(n)throw n;const{error:i}=await re.from("job_offers").update({locked:!0,status:"sent",sent_at:new Date().toISOString()}).eq("id",e);if(i)throw i;const{error:r}=await re.from("job_offers").update({status:"superseded",locked:!0}).eq("job_id",t.job_id).lt("version_number",t.version_number).in("status",["draft","sent","viewed"]);if(r)throw r}async function GYe(e,t){const{error:n}=await re.rpc("public_offer_accept",{p_access_token:e,p_first_name:t.first_name,p_last_name:t.last_name,p_phone:t.phone});if(n)throw n}async function HYe(e,t){const{error:n}=await re.rpc("public_offer_reject",{p_access_token:e,p_first_name:t.first_name,p_last_name:t.last_name,p_phone:t.phone,p_comment:t.comment||""});if(n)throw n}async function qYe(e,t){const{error:n}=await re.rpc("public_offer_request_revision",{p_access_token:e,p_first_name:t.first_name,p_last_name:t.last_name,p_phone:t.phone,p_comment:t.comment||""});if(n)throw n}async function WYe(e){const{error:t}=await re.rpc("public_offer_mark_viewed",{p_access_token:e});t&&console.error("Failed to mark offer as viewed:",t)}async function YYe(e){const t=await Mg(e).queryFn();if(!t)throw new Error("Offer not found");const n=await uk({jobId:t.job_id,companyId:t.company_id,offerType:t.offer_type,title:t.title,daysOfUse:t.days_of_use,discountPercent:t.discount_percent,vatPercent:t.vat_percent,showPricePerLine:t.show_price_per_line,basedOnOfferId:t.based_on_offer_id});if(t.groups)for(const i of t.groups){const{data:r,error:a}=await re.from("offer_equipment_groups").insert({offer_id:n,group_name:i.group_name,sort_order:i.sort_order}).select("id").single();if(a)throw a;if(i.items&&i.items.length>0){const o=i.items.map(c=>({offer_group_id:r.id,item_id:c.item_id,group_id:c.group_id??null,quantity:c.quantity,unit_price:c.unit_price,total_price:c.total_price,is_internal:c.is_internal,sort_order:c.sort_order})),{error:l}=await re.from("offer_equipment_items").insert(o);if(l)throw l}}if(t.crew_items&&t.crew_items.length>0){const i=t.crew_items.map(a=>({offer_id:n,role_title:a.role_title,role_category:a.role_category??null,crew_count:a.crew_count,start_date:a.start_date,end_date:a.end_date,daily_rate:a.daily_rate,total_price:a.total_price,sort_order:a.sort_order})),{error:r}=await re.from("offer_crew_items").insert(i);if(r)throw r}if(t.transport_items&&t.transport_items.length>0){const i=t.transport_items.map(a=>({offer_id:n,vehicle_name:a.vehicle_name,vehicle_id:a.vehicle_id,vehicle_category:a.vehicle_category,distance_km:a.distance_km,start_date:a.start_date,end_date:a.end_date,daily_rate:a.daily_rate,total_price:a.total_price,is_internal:a.is_internal,sort_order:a.sort_order})),{error:r}=await re.from("offer_transport_items").insert(i);if(r)throw r}if(t.pretty_sections&&t.pretty_sections.length>0){const i=t.pretty_sections.map(a=>({offer_id:n,section_type:a.section_type,title:a.title,content:a.content,image_url:a.image_url,sort_order:a.sort_order})),{error:r}=await re.from("offer_pretty_sections").insert(i);if(r)throw r}try{await IR(n)}catch(i){console.warn("Failed to recalculate offer totals after duplication:",i)}return n}async function JYe(e){const{error:t}=await re.from("job_offers").delete().eq("id",e);if(t)throw t}async function QYe(e){const{error:t}=await re.rpc("mark_job_offer_bookings_synced",{p_offer_id:e});if(t)throw t}async function efe(e,t){var u,d,h,m,p;const n=await Mg(e).queryFn();if(!n)throw new Error("Offer not found");const{data:i,error:r}=await re.from("jobs").select("id, start_at, end_at, company_id").eq("id",n.job_id).single();if(r)throw r;if(!i)throw new Error("Job not found");const a=i.company_id,o=i.start_at||new Date().toISOString(),l=i.end_at||new Date().toISOString(),c=async(v,S,b,w)=>{const{data:R}=await re.from("time_periods").select("id, deleted").eq("job_id",n.job_id).eq("title",v).eq("category",S).eq("start_at",b).eq("end_at",w).maybeSingle();if(R){if(R.deleted){const{error:N}=await re.from("time_periods").update({deleted:!1,reserved_by_user_id:t}).eq("id",R.id);if(N)throw N}return R.id}const{data:E,error:_}=await re.from("time_periods").insert({job_id:n.job_id,company_id:a,title:v,category:S,start_at:b,end_at:w,reserved_by_user_id:t,deleted:!1}).select("id").single();if(_)throw _;return E.id};if(n.groups&&n.groups.length>0){const v=new Map,S=new Set;for(const R of n.groups)for(const E of R.items){E.group_id&&S.add(E.group_id);const _=E.group_id?((u=E.group)==null?void 0:u.external_owner_id)||null:((d=E.item)==null?void 0:d.external_owner_id)||null,N=_?`External Owner ${_}`:"Internal Equipment";v.has(_)||v.set(_,{ownerName:N,items:[]}),E.group_id?v.get(_).items.push({kind:"group",group_id:E.group_id,quantity:E.quantity,is_internal:E.is_internal}):E.item_id&&v.get(_).items.push({kind:"item",item_id:E.item_id,quantity:E.quantity,is_internal:E.is_internal})}const b=new Map;if(S.size>0){const{data:R,error:E}=await re.from("group_items").select("group_id, item_id, quantity").in("group_id",Array.from(S));if(E)throw E;for(const _ of R||[]){if(!_.item_id)continue;const N=b.get(_.group_id)??[];N.push({item_id:_.item_id,quantity:_.quantity??1}),b.set(_.group_id,N)}}const w=Array.from(v.keys()).filter(R=>R!==null);if(w.length>0){const{data:R}=await re.from("customers").select("id, name").in("id",w);if(R)for(const E of R){const _=v.get(E.id);_&&(_.ownerName=E.name||`Customer ${E.id}`)}}for(const[R,E]of v.entries()){const _=await c(`${E.ownerName} Equipment period`,"equipment",o,l),N=[];for(const O of E.items){if(O.kind==="item"){N.push({time_period_id:_,item_id:O.item_id,quantity:O.quantity,source_kind:"direct",source_group_id:null,forced:!1,start_at:null,end_at:null,external_status:O.is_internal?null:"planned",external_note:null});continue}const j=b.get(O.group_id)??[];for(const D of j)N.push({time_period_id:_,item_id:D.item_id,quantity:D.quantity*O.quantity,source_kind:"group",source_group_id:O.group_id,forced:!1,start_at:null,end_at:null,external_status:O.is_internal?null:"planned",external_note:null})}if(N.length>0){const{error:O}=await re.from("reserved_items").insert(N);if(O)throw O}}}if(n.crew_items&&n.crew_items.length>0){const v=new Map;for(const S of n.crew_items){const b=((h=S.role_title)==null?void 0:h.trim())||"Crew role",w=S.start_date||o,R=S.end_date||l,E=`${b}__${w}__${R}`,_=v.get(E);_?(_.needed_count+=S.crew_count,!_.role_category&&S.role_category&&(_.role_category=S.role_category)):v.set(E,{title:b,start_at:w,end_at:R,needed_count:S.crew_count,role_category:S.role_category??null})}for(const S of v.values()){const{data:b,error:w}=await re.from("time_periods").select("id, deleted").eq("job_id",n.job_id).eq("category","crew").eq("title",S.title).eq("start_at",S.start_at).eq("end_at",S.end_at).maybeSingle();if(w)throw w;if(b){const{error:R}=await re.from("time_periods").update({needed_count:S.needed_count,deleted:!1,reserved_by_user_id:t,company_id:a,role_category:S.role_category??null}).eq("id",b.id);if(R)throw R}else{const{error:R}=await re.from("time_periods").insert({job_id:n.job_id,company_id:a,title:S.title,category:"crew",start_at:S.start_at,end_at:S.end_at,needed_count:S.needed_count,reserved_by_user_id:t,deleted:!1,role_category:S.role_category??null});if(R)throw R}}}if(n.transport_items&&n.transport_items.length>0){const{data:v,error:S}=await re.from("vehicles").select("id, name, internally_owned, external_owner_id, vehicle_category, deleted").eq("company_id",a).or("deleted.is.null,deleted.eq.false");if(S)throw S;const b=(v||[]).filter(R=>!R.deleted).map(R=>({id:R.id,name:R.name,internally_owned:!!R.internally_owned,external_owner_id:R.external_owner_id??null,vehicle_category:R.vehicle_category??null})),w=new Set;for(const R of n.transport_items){const E=R.start_date||o,_=R.end_date||l,N=R.vehicle_category??null,j=`Transport - ${((m=R.vehicle_name)==null?void 0:m.trim())||(N==null?void 0:N.replace(/_/g," "))||"Vehicle"} (${E})`,{data:D,error:P}=await re.from("time_periods").select("id, notes, deleted").eq("job_id",n.job_id).eq("category","transport").eq("title",j).eq("start_at",E).eq("end_at",_).maybeSingle();if(P)throw P;let B;if(D){if(B=D.id,D.deleted){const{error:U}=await re.from("time_periods").update({deleted:!1,reserved_by_user_id:t}).eq("id",D.id);if(U)throw U}}else{const{data:U,error:K}=await re.from("time_periods").insert({job_id:n.job_id,company_id:a,title:j,category:"transport",start_at:E,end_at:_,reserved_by_user_id:t,deleted:!1}).select("id").single();if(K)throw K;B=U.id}const M=R.vehicle_id;let z;if(M)z=b.find(U=>U.id===M),z||(z={id:M,name:R.vehicle_name||"Vehicle",internally_owned:R.is_internal,external_owner_id:R.is_internal?null:((p=R.vehicle)==null?void 0:p.external_owner_id)??null,vehicle_category:N});else if(N){const U=b.filter(q=>q.vehicle_category===N),K=U.find(q=>q.internally_owned&&!w.has(q.id)),te=U.find(q=>!q.internally_owned&&!w.has(q.id));z=K??te??void 0}if(z){w.add(z.id);const{data:U,error:K}=await re.from("reserved_vehicles").select("id").eq("time_period_id",B).eq("vehicle_id",z.id).maybeSingle();if(K)throw K;if(!U){const{error:q}=await re.from("reserved_vehicles").insert({time_period_id:B,vehicle_id:z.id,start_at:null,end_at:null,external_status:z.internally_owned?null:"planned",external_note:null});if(q)throw q}const{error:te}=await re.from("time_periods").update({notes:null}).eq("id",B);if(te)throw te}else{const U=N?`No available vehicles found for ${N.replace(/_/g," ")}`:"No available vehicles found for the requested transport",{error:K}=await re.from("time_periods").update({notes:U}).eq("id",B);if(K)throw K}}}try{await QYe(e)}catch(v){console.warn("Failed to mark offer as synced to bookings:",v)}}async function XYe(e,t,n,i){if(!e.groups||e.groups.length===0)return[];const r=new Set,a=[],o=new Map;for(const N of e.groups)for(const O of N.items){if(O.group_id){r.add(O.group_id),a.push({group_id:O.group_id,quantity:O.quantity});continue}if(O.item_id){const j=o.get(O.item_id)??0;o.set(O.item_id,j+O.quantity)}}if(r.size>0){const{data:N,error:O}=await re.from("group_items").select("group_id, item_id, quantity").in("group_id",Array.from(r));if(O)throw O;const j=new Map;for(const D of N||[]){if(!D.item_id)continue;const P=j.get(D.group_id)??[];P.push({item_id:D.item_id,quantity:D.quantity??1}),j.set(D.group_id,P)}for(const D of a){const P=j.get(D.group_id)??[];for(const B of P){const M=o.get(B.item_id)??0;o.set(B.item_id,M+B.quantity*D.quantity)}}}if(o.size===0)return[];const l=Array.from(o.keys()),{data:c,error:u}=await re.from("inventory_index").select("id, name, on_hand").eq("company_id",t).eq("is_group",!1).in("id",l);if(u)throw u;const d=new Map,h=new Map;for(const N of c||[])N.id&&(d.set(N.id,N.name||"Item"),h.set(N.id,N.on_hand??0));const{data:m,error:p}=await re.from("time_periods").select("id, start_at, end_at, job_id").eq("company_id",t).eq("category","equipment").eq("deleted",!1);if(p)throw p;const v=(N,O,j,D)=>new Date(N)<new Date(D)&&new Date(j)<new Date(O),S=(m||[]).filter(N=>N.job_id!==e.job_id&&v(n,i,N.start_at,N.end_at)).map(N=>N.id);if(S.length===0)return[];const{data:b,error:w}=await re.from("reserved_items").select("item_id, quantity, status, time_period_id").in("item_id",l).in("time_period_id",S);if(w)throw w;const R=new Map,E=new Map;for(const N of b||[]){if(N.status==="canceled")continue;const O=R.get(N.item_id)??0;if(R.set(N.item_id,O+N.quantity),N.status==="planned"){const j=E.get(N.item_id)??0;E.set(N.item_id,j+N.quantity)}}const _=[];for(const[N,O]of o.entries()){const j=d.get(N)??"Item",D=E.get(N)??0;D>0&&_.push(`${j}: ${D} already planned in overlapping period`);const P=h.get(N)??0;if(P>0){const M=(R.get(N)??0)+O;M>P&&_.push(`${j}: total booked ${M} exceeds ${P} on hand`)}}return _}async function tfe(e,t){const n=await Mg(e).queryFn();if(!n)throw new Error("Offer not found");const{data:i,error:r}=await re.from("jobs").select("id, start_at, end_at, company_id").eq("id",n.job_id).single();if(r)throw r;if(!i)throw new Error("Job not found");const a=i.start_at||new Date().toISOString(),o=i.end_at||new Date().toISOString(),l=await XYe(n,i.company_id,a,o),{data:c,error:u}=await re.from("time_periods").select("id").eq("job_id",n.job_id).in("category",["equipment","crew","transport"]);if(u)throw u;const d=(c||[]).map(h=>h.id);if(d.length>0){const{error:h}=await re.from("reserved_items").delete().in("time_period_id",d);if(h)throw h;const{error:m}=await re.from("reserved_crew").delete().in("time_period_id",d);if(m)throw m;const{error:p}=await re.from("reserved_vehicles").delete().in("time_period_id",d);if(p)throw p;const{error:v}=await re.from("time_periods").delete().in("id",d);if(v)throw v}return await efe(e,t),l}async function nfe(e){const t=await Mg(e).queryFn();if(!t)throw new Error("Offer not found");await Xde(t)}function ZYe(e){return e.replace(/[(),]/g," ").replace(/\s+/g," ").trim()}function E0(e,t){if(!e||!t)return null;const n=new Date(e),i=new Date(t);if(Number.isNaN(n.getTime())||Number.isNaN(i.getTime()))return null;const r=i.getTime()-n.getTime();if(r<=0)return null;const a=r/(1e3*60*60),o=Math.max(1,Math.ceil(r/(1e3*60*60*24)));return a/o}function hb({label:e,children:t}){return s.jsxs("div",{style:{minWidth:160},children:[s.jsx(L,{as:"div",size:"2",color:"gray",style:{marginBottom:6},children:e}),t]})}const eJe={1:1,2:1.6,3:2,4:2.3,5:2.5,7:2.8,10:3.2,14:3.5,21:4,30:4.5};function tJe(e,t){if(e<=0)return 1;const n=t||eJe;if(n[e]!==void 0)return n[e];const i=Object.keys(n).map(Number).sort((u,d)=>u-d);if(e<i[0])return n[i[0]];if(e>i[i.length-1]){const u=i[i.length-1],d=n[u],h=e-u;return d+h*.025}let r=i[0],a=i[i.length-1];for(let u=0;u<i.length-1;u++)if(e>=i[u]&&e<=i[u+1]){r=i[u],a=i[u+1];break}const o=n[r],l=n[a],c=(e-r)/(a-r);return o+(l-o)*c}function nJe({open:e,onOpenChange:t,jobId:n,companyId:i,offerId:r,onSaved:a}){const o=Yt(),{success:l,error:c,info:u}=Jt(),d=g.useCallback(()=>{o.invalidateQueries({queryKey:["jobs.equipment",n]}),o.invalidateQueries({queryKey:["jobs.crew",n]}),o.invalidateQueries({queryKey:["jobs.transport",n]})},[o,n]),h=!!r,[m,p]=g.useState(r||null),{data:v}=et({queryKey:["job-title",n],enabled:e,queryFn:async()=>{const{data:tt,error:Je}=await re.from("jobs").select("title, start_at, end_at, customer_id, customer:customers!jobs_customer_id_fkey ( id, is_partner )").eq("id",n).single();if(Je)throw Je;const Ve=Array.isArray(tt.customer)?tt.customer[0]:tt.customer;return{title:tt.title,start_at:tt.start_at??null,end_at:tt.end_at??null,customer:Ve?{id:Ve.id,is_partner:Ve.is_partner??!1}:null}}}),{data:S}=et({...UO({companyId:i}),enabled:e&&!!i&&typeof i=="string"}),{data:b}=et({queryKey:["auth","user"],queryFn:async()=>{const{data:tt}=await re.auth.getUser();return tt.user},enabled:e}),w=g.useMemo(()=>{const tt=(S==null?void 0:S.crew_rate_per_day)??null;if(tt===null)return null;const Je=Number(tt);return Number.isFinite(Je)?Je:null},[S==null?void 0:S.crew_rate_per_day]),R=g.useMemo(()=>{const tt=(S==null?void 0:S.crew_rate_per_hour)??null;if(tt===null)return null;const Je=Number(tt);return Number.isFinite(Je)?Je:null},[S==null?void 0:S.crew_rate_per_hour]),E=g.useMemo(()=>{if(!(S!=null&&S.rental_factor_config))return null;try{return typeof S.rental_factor_config=="string"?JSON.parse(S.rental_factor_config):S.rental_factor_config}catch{return null}},[S==null?void 0:S.rental_factor_config]),{data:_,isLoading:N}=et({...m?Mg(m):{queryKey:["no-offer"],queryFn:()=>null},enabled:e&&!!m}),O=(_==null?void 0:_.locked)||!1,j=v!=null&&v.title?`Offer for ${v.title}`:"",D=g.useMemo(()=>{if(!(v!=null&&v.start_at)||!(v!=null&&v.end_at))return 1;const tt=new Date(v.start_at),Ve=new Date(v.end_at).getTime()-tt.getTime(),qt=Math.ceil(Ve/(1e3*60*60*24));return Math.max(1,qt)},[v==null?void 0:v.start_at,v==null?void 0:v.end_at]),[P,B]=g.useState(""),[M,z]=g.useState(D),[U,K]=g.useState(0),[te,q]=g.useState(25),[V,Q]=g.useState(!0),[ce,ae]=g.useState(null),[G,H]=g.useState(null),[T,Y]=g.useState(!1),[ie,ne]=g.useState("save"),[J,ee]=g.useState(null),[se,de]=g.useState([]),[he,me]=g.useState(new Set),[we,le]=g.useState([]),[ue,De]=g.useState([]);g.useEffect(()=>{r&&p(r)},[r]),g.useEffect(()=>{!e||h||!(v!=null&&v.start_at)||!(v!=null&&v.end_at)||(z(D),ae(null))},[e,h,D,v==null?void 0:v.start_at,v==null?void 0:v.end_at]),g.useEffect(()=>{var tt,Je,Ve;if(e&&!N)if(_&&m){B(_.title),z(_.days_of_use),K(_.discount_percent),ae(null),H(null);const qt=_.vat_percent===0||_.vat_percent===25?_.vat_percent:25;q(qt),Q(_.show_price_per_line??!0);const Et=((tt=_.groups)==null?void 0:tt.map(Te=>({id:Te.id,group_name:Te.group_name,sort_order:Te.sort_order,items:Te.items.map(Ot=>{var nt,Lt;const $t=Ot.item,jt=$t==null?void 0:$t.brand,Ht=Array.isArray(jt)?jt[0]:jt,Ie=Ot.group;return{id:Ot.id,item_id:Ot.item_id,group_id:Ot.group_id??null,quantity:Ot.quantity,unit_price:Ot.unit_price,is_internal:Ot.is_internal,sort_order:Ot.sort_order,item:$t?{id:$t.id,name:$t.name,externally_owned:!$t.internally_owned,external_owner_id:$t.external_owner_id??null,external_owner_name:((nt=$t.external_owner)==null?void 0:nt.name)??null,brand:Ht??null,model:$t.model??null}:null,group:Ie?{id:Ie.id,name:Ie.name,externally_owned:!Ie.internally_owned,external_owner_id:Ie.external_owner_id??null,external_owner_name:((Lt=Ie.external_owner)==null?void 0:Lt.name)??null}:null}})})))||[];de(Et);const rt=((Je=_.crew_items)==null?void 0:Je.map(Te=>{const Ot=Te,$t=(Ot==null?void 0:Ot.billing_type)==="hourly"?"hourly":"daily",jt=E0(Te.start_date,Te.end_date),Ht=$t==="hourly"?jt??(Ot==null?void 0:Ot.hours_per_day)??8:null,Ie=$t==="hourly"?(Ot==null?void 0:Ot.hourly_rate)??(Ht&&Ht>0?Te.daily_rate/Ht:R??null):null,nt=$t==="hourly"?(Ie??0)*(Ht??0):Te.daily_rate;return{id:Te.id,role_title:Te.role_title,crew_count:Te.crew_count,start_date:Te.start_date,end_date:Te.end_date,daily_rate:nt,hourly_rate:$t==="hourly"?Ie:null,hours_per_day:$t==="hourly"?Ht:null,billing_type:$t,sort_order:Te.sort_order,role_category:(Ot==null?void 0:Ot.role_category)??null}}))||[];le(rt);const xt=((Ve=_.transport_items)==null?void 0:Ve.map(Te=>({id:Te.id,vehicle_name:Te.vehicle_name,vehicle_id:Te.vehicle_id,vehicle_category:Te.vehicle_category??null,distance_km:Te.distance_km??null,start_date:Te.start_date,end_date:Te.end_date,daily_rate:Te.daily_rate>0?Te.daily_rate:null,distance_rate:Te.distance_rate??null,is_internal:Te.is_internal,sort_order:Te.sort_order,vehicle:Te.vehicle})))||[];De(xt)}else{B(j),z(D);let qt=0;S&&(v!=null&&v.customer)&&(v.customer.is_partner&&S.partner_discount_percent!==null?qt=S.partner_discount_percent:!v.customer.is_partner&&S.customer_discount_percent!==null&&(qt=S.customer_discount_percent)),K(qt),q(25),Q(!0),de([]),le([]),De([]),me(new Set),p(null)}},[e,_,m,j,D,S,v,N,h,R]);const Le=g.useMemo(()=>{const tt=se.flatMap(rt=>rt.items.map(xt=>({id:xt.id,offer_group_id:rt.id,item_id:xt.item_id,group_id:xt.group_id??null,quantity:xt.quantity,unit_price:xt.unit_price,total_price:xt.unit_price*xt.quantity,is_internal:xt.is_internal,sort_order:xt.sort_order,item:xt.item,group:xt.group??void 0}))),Je=we.map(rt=>({id:rt.id,offer_id:r||"",role_title:rt.role_title,role_category:rt.role_category??null,crew_count:rt.crew_count,start_date:rt.start_date,end_date:rt.end_date,daily_rate:rt.daily_rate,total_price:0,sort_order:rt.sort_order})),Ve=ue.map(rt=>({id:rt.id,offer_id:r||"",vehicle_name:rt.vehicle_name,vehicle_id:rt.vehicle_id,vehicle_category:rt.vehicle_category,distance_km:rt.distance_km,start_date:rt.start_date,end_date:rt.end_date,daily_rate:rt.daily_rate??(S==null?void 0:S.vehicle_daily_rate)??0,total_price:0,is_internal:rt.is_internal,sort_order:rt.sort_order,vehicle:rt.vehicle})),qt=ue.reduce((rt,xt)=>{const Te=Math.ceil((new Date(xt.end_date).getTime()-new Date(xt.start_date).getTime())/864e5),$t=(xt.daily_rate??(S==null?void 0:S.vehicle_daily_rate)??0)*Math.max(1,Te),jt=xt.distance_rate??(S==null?void 0:S.vehicle_distance_rate)??null,Ht=(S==null?void 0:S.vehicle_distance_increment)??150,Ie=xt.distance_km?Math.ceil(xt.distance_km/Ht):0,nt=jt&&Ie>0?jt*Ie:0;return rt+$t+nt},0);return{...sde(tt,Je,Ve,M,U,te,S==null?void 0:S.vehicle_distance_rate,S==null?void 0:S.vehicle_distance_increment),transportSubtotal:qt}},[se,we,ue,M,U,te,r,S==null?void 0:S.vehicle_distance_rate,S==null?void 0:S.vehicle_distance_increment]),Be=bt({mutationFn:async tt=>{if(!P.trim())throw new Error("Title is required");let Je;if(!r)Je=await uk({jobId:n,companyId:i,offerType:"technical",title:P.trim(),daysOfUse:M,discountPercent:U,vatPercent:te,showPricePerLine:V});else{Je=r;const{error:Ve}=await re.from("job_offers").update({title:P.trim(),days_of_use:M,discount_percent:U,vat_percent:te,show_price_per_line:V}).eq("id",Je);if(Ve)throw Ve}if(Je&&_){if(_.groups&&_.groups.length>0){const Ve=_.groups.map(rt=>rt.id),{error:qt}=await re.from("offer_equipment_items").delete().in("offer_group_id",Ve);if(qt)throw qt;const{error:Et}=await re.from("offer_equipment_groups").delete().eq("offer_id",Je);if(Et)throw Et}if(_.crew_items&&_.crew_items.length>0){const{error:Ve}=await re.from("offer_crew_items").delete().eq("offer_id",Je);if(Ve)throw Ve}if(_.transport_items&&_.transport_items.length>0){const{error:Ve}=await re.from("offer_transport_items").delete().eq("offer_id",Je);if(Ve)throw Ve}}for(const Ve of se){const qt=!Ve.id.startsWith("temp-");let Et;if(qt){const{data:rt,error:xt}=await re.from("offer_equipment_groups").upsert({id:Ve.id,offer_id:Je,group_name:Ve.group_name,sort_order:Ve.sort_order}).select("id").single();if(xt)throw xt;Et=(rt==null?void 0:rt.id)??Ve.id}else{const{data:rt,error:xt}=await re.from("offer_equipment_groups").insert({offer_id:Je,group_name:Ve.group_name,sort_order:Ve.sort_order}).select("id").single();if(xt)throw xt;Et=rt.id}for(const rt of Ve.items)if(!rt.id.startsWith("temp-")){const{error:Te}=await re.from("offer_equipment_items").upsert({id:rt.id,offer_group_id:Et,item_id:rt.item_id,group_id:rt.group_id??null,quantity:rt.quantity,unit_price:rt.unit_price,total_price:rt.unit_price*rt.quantity,is_internal:rt.is_internal,sort_order:rt.sort_order});if(Te)throw Te}else{const{error:Te}=await re.from("offer_equipment_items").insert({offer_group_id:Et,item_id:rt.item_id,group_id:rt.group_id??null,quantity:rt.quantity,unit_price:rt.unit_price,total_price:rt.unit_price*rt.quantity,is_internal:rt.is_internal,sort_order:rt.sort_order});if(Te)throw Te}}for(const Ve of we){const qt=!Ve.id.startsWith("temp-"),Et=Math.ceil((new Date(Ve.end_date).getTime()-new Date(Ve.start_date).getTime())/(1e3*60*60*24)),rt=Math.max(1,Et);let xt=Ve.daily_rate*Ve.crew_count*rt;if(Ve.billing_type==="hourly"&&Ve.hourly_rate!==null){const Te=Ve.hours_per_day??E0(Ve.start_date,Ve.end_date)??0;xt=Ve.hourly_rate*Te*Ve.crew_count*rt}if(qt){const{error:Te}=await re.from("offer_crew_items").upsert({id:Ve.id,offer_id:Je,role_title:Ve.role_title,role_category:Ve.role_category??null,crew_count:Ve.crew_count,start_date:Ve.start_date,end_date:Ve.end_date,daily_rate:Ve.daily_rate,hourly_rate:Ve.billing_type==="hourly"?Ve.hourly_rate:null,hours_per_day:Ve.billing_type==="hourly"?Ve.hours_per_day:null,billing_type:Ve.billing_type,total_price:xt,sort_order:Ve.sort_order});if(Te)throw Te}else{const{error:Te}=await re.from("offer_crew_items").insert({offer_id:Je,role_title:Ve.role_title,role_category:Ve.role_category??null,crew_count:Ve.crew_count,start_date:Ve.start_date,end_date:Ve.end_date,daily_rate:Ve.daily_rate,hourly_rate:Ve.billing_type==="hourly"?Ve.hourly_rate:null,hours_per_day:Ve.billing_type==="hourly"?Ve.hours_per_day:null,billing_type:Ve.billing_type,total_price:xt,sort_order:Ve.sort_order});if(Te)throw Te}}for(const Ve of ue){const qt=!Ve.id.startsWith("temp-"),Et=Math.ceil((new Date(Ve.end_date).getTime()-new Date(Ve.start_date).getTime())/(1e3*60*60*24)),rt=Ve.daily_rate??(S==null?void 0:S.vehicle_daily_rate)??0,xt=Ve.distance_rate??(S==null?void 0:S.vehicle_distance_rate)??null,Te=(S==null?void 0:S.vehicle_distance_increment)??150,Ot=Ve.distance_km?Math.ceil(Ve.distance_km/Te):0,$t=xt&&Ot>0?xt*Ot:0,Ht=rt*Math.max(1,Et)+$t;if(qt){const{error:Ie}=await re.from("offer_transport_items").upsert({id:Ve.id,offer_id:Je,vehicle_name:Ve.vehicle_name,vehicle_id:Ve.vehicle_id??null,vehicle_category:Ve.vehicle_category,distance_km:Ve.distance_km,start_date:Ve.start_date,end_date:Ve.end_date,daily_rate:Ve.daily_rate??0,total_price:Ht,is_internal:Ve.is_internal,sort_order:Ve.sort_order});if(Ie)throw Ie}else{const Ie={offer_id:Je,vehicle_name:Ve.vehicle_name,vehicle_category:Ve.vehicle_category,distance_km:Ve.distance_km,start_date:Ve.start_date,end_date:Ve.end_date,daily_rate:Ve.daily_rate??0,total_price:Ht,is_internal:Ve.is_internal,sort_order:Ve.sort_order};Ve.vehicle_id!==null&&Ve.vehicle_id!==void 0&&(Ie.vehicle_id=Ve.vehicle_id);const{error:nt}=await re.from("offer_transport_items").insert(Ie);if(nt)throw nt}}try{await IR(Je)}catch(Ve){console.warn("Failed to recalculate offer totals:",Ve)}return{offerId:Je,syncAfterSave:!!(tt!=null&&tt.syncAfterSave)}},onSuccess:async tt=>{if(await o.invalidateQueries({queryKey:["job-offers",n]}),await o.invalidateQueries({queryKey:["offer-detail",tt.offerId]}),p(tt.offerId),tt.syncAfterSave)if(!(b!=null&&b.id))c("Authentication required","Please log in to sync bookings.");else try{const Je=await tfe(tt.offerId,b.id);d(),await o.invalidateQueries({queryKey:["job-offers",n]}),await o.invalidateQueries({queryKey:["offer-detail",tt.offerId]}),Je!=null&&Je.length&&u("Booking warnings",Je.join(`
`),6e3)}catch(Je){c("Failed to sync bookings",(Je==null?void 0:Je.message)||"Please try again.")}if(l(h?"Offer updated":"Offer created",`Technical offer "${P.trim()}" was saved successfully.`),J==="lock"){ee(null),ke.mutate(tt.offerId);return}t(!1),a==null||a(tt.offerId)},onError:tt=>{ee(null),c("Failed to save offer",(tt==null?void 0:tt.message)??"Please check your inputs and try again.")}}),ke=bt({mutationFn:Zde,onSuccess:async(tt,Je)=>{await o.invalidateQueries({queryKey:["job-offers",n]}),await o.invalidateQueries({queryKey:["offer-detail",Je]});const Ve=await o.fetchQuery(Mg(Je));if(Ve!=null&&Ve.access_token){const qt=`${window.location.origin}/offer/${Ve.access_token}`;try{await navigator.clipboard.writeText(qt),l("Offer locked and sent","The offer has been locked. The link has been copied to your clipboard."),u("Offer link",`Link: ${qt}`)}catch{l("Offer locked and sent",`The offer has been locked. Share this link: ${qt}`)}}else l("Offer locked","The offer has been locked and is ready to send.");t(!1),a==null||a(Je)},onError:tt=>{c("Failed to lock offer",(tt==null?void 0:tt.message)??"Please try again.")}}),Ee=bt({mutationFn:nfe,onSuccess:()=>{l("PDF exported","The offer has been exported as PDF.")},onError:tt=>{c("Failed to export PDF",(tt==null?void 0:tt.message)??"Please try again.")}}),lt=()=>{if(!m){u("Save required","Please save the offer first before locking it.");return}ne("lock"),Y(!0)},Mt=()=>{ne(h?"save":"create"),Y(!0)},St=tt=>{if(Y(!1),ie==="lock"){ee("lock"),Be.mutate({syncAfterSave:tt});return}ee(null),Be.mutate({syncAfterSave:tt})};return s.jsxs(rn,{open:e,onOpenChange:t,children:[s.jsxs(an,{maxWidth:"1340px",style:{display:"flex",flexDirection:"column",height:"90vh",position:"relative"},children:[s.jsx(cn,{children:h?"Edit Technical Offer":"Create Technical Offer"}),s.jsx(vr,{children:h?"Edit the technical offer details, equipment, crew, and transport items.":"Create a new technical offer with equipment, crew, and transport items."}),s.jsx(st,{my:"2"}),s.jsxs(Ud,{defaultValue:"metadata",style:{flex:1,minHeight:0,display:"flex",flexDirection:"column"},children:[s.jsxs(Vd,{children:[s.jsx(ii,{value:"metadata",children:"Metadata"}),s.jsx(ii,{value:"equipment",children:"Equipment"}),s.jsx(ii,{value:"crew",children:"Crew"}),s.jsx(ii,{value:"transport",children:"Transport"}),s.jsx(ii,{value:"totals",children:"Totals"})]}),s.jsxs(X,{style:{flex:1,overflowY:"auto",paddingTop:"16px",paddingBottom:"80px"},children:[s.jsx(ri,{value:"metadata",children:s.jsxs($,{direction:"column",gap:"3",children:[s.jsx(hb,{label:"Title",children:s.jsxs($,{gap:"2",align:"center",children:[s.jsx(qe,{value:P,onChange:tt=>B(tt.target.value),placeholder:"Enter offer title",readOnly:O,style:{width:"400px"}}),!O&&!h&&j&&s.jsx(pe,{size:"2",variant:"soft",onClick:()=>B(j),disabled:P===j,children:"Reset"})]})}),s.jsxs($,{gap:"3",wrap:"wrap",children:[s.jsx(hb,{label:"Days of Use",children:s.jsxs($,{direction:"column",gap:"1",children:[s.jsx(qe,{type:"number",min:"1",value:ce??String(M),onChange:tt=>{const Je=tt.target.value;if(ae(Je),Je==="")return;const Ve=Number(Je);Number.isNaN(Ve)||(z(Math.max(1,Ve)),ae(null))},onBlur:()=>{ce===""&&ae(null)},readOnly:O}),s.jsxs(L,{size:"1",color:"gray",style:{fontStyle:"italic"},children:["Rental factor:"," ",tJe(M,E).toFixed(2),"x"]})]})}),s.jsx(hb,{label:"Discount (%)",children:s.jsx(qe,{type:"number",min:"0",max:"100",value:G??String(U),onChange:tt=>{const Je=tt.target.value;if(H(Je),Je==="")return;const Ve=Number(Je);Number.isNaN(Ve)||(K(Math.max(0,Math.min(100,Ve))),H(null))},onBlur:()=>{G===""&&H(null)},readOnly:O})}),s.jsx(hb,{label:"VAT (%)",children:s.jsxs(Vn,{value:te===0||te===25?String(te):"25",onValueChange:tt=>q(Number(tt)),disabled:O,children:[s.jsx(Kn,{placeholder:"Select VAT"}),s.jsxs(Gn,{style:{zIndex:1e4},children:[s.jsx(wt,{value:"0",children:"0%"}),s.jsx(wt,{value:"25",children:"25%"})]})]})})]}),s.jsxs(hb,{label:"Pricing Display",children:[s.jsxs($,{align:"center",gap:"2",children:[s.jsx(fr,{checked:V,onCheckedChange:tt=>Q(tt===!0),disabled:O}),s.jsx(L,{size:"2",as:"label",style:{cursor:"pointer"},children:"Show price per line to customer"})]}),s.jsx(L,{size:"1",color:"gray",mt:"1",style:{fontStyle:"italic"},children:V?"Prices will be shown for each line item in the offer.":"Only group totals will be shown. Prices per line item will be hidden."})]})]})}),s.jsx(ri,{value:"equipment",children:s.jsx(rJe,{groups:se,onGroupsChange:de,expandedGroups:he,onExpandedGroupsChange:me,companyId:i,readOnly:O})}),s.jsx(ri,{value:"crew",children:s.jsx(aJe,{items:we,onItemsChange:le,companyId:i,readOnly:O,jobStartAt:v==null?void 0:v.start_at,jobEndAt:v==null?void 0:v.end_at,defaultRatePerDay:w,defaultRatePerHour:R})}),s.jsx(ri,{value:"transport",children:s.jsx(oJe,{items:ue,onItemsChange:De,companyId:i,readOnly:O,jobStartAt:v==null?void 0:v.start_at,jobEndAt:v==null?void 0:v.end_at,vehicleDailyRate:(S==null?void 0:S.vehicle_daily_rate)??null,vehicleDistanceRate:(S==null?void 0:S.vehicle_distance_rate)??null,vehicleDistanceIncrement:(S==null?void 0:S.vehicle_distance_increment)??150})}),s.jsx(ri,{value:"totals",children:s.jsx(lJe,{totals:Le})})]})]}),s.jsxs($,{justify:"between",align:"center",style:{position:"absolute",bottom:0,left:0,right:0,zIndex:100,backgroundColor:"var(--color-panel-solid)",paddingTop:"12px",paddingBottom:"12px",paddingLeft:"24px",paddingRight:"24px",borderTop:"1px solid var(--gray-a6)"},children:[s.jsx($,{gap:"2",children:(_==null?void 0:_.access_token)&&s.jsxs(s.Fragment,{children:[s.jsxs(pe,{size:"2",variant:"soft",onClick:()=>{const tt=`${window.location.origin}/offer/${_.access_token}`;window.open(tt,"_blank")},disabled:!_.access_token||_.status==="draft",title:_.status==="draft"?"Draft offers can be previewed after they are sent":"Preview offer as customer will see it",children:[s.jsx(Nx,{width:14,height:14}),"Show Preview"]}),s.jsxs(pe,{size:"2",variant:"soft",onClick:()=>{Ee.mutate(_.id)},disabled:Ee.isPending,children:[s.jsx(x1,{width:14,height:14}),"Export PDF"]}),!_.locked&&s.jsxs(pe,{size:"2",variant:"soft",color:"blue",onClick:()=>{lt()},disabled:ke.isPending,children:[s.jsx(w1,{width:14,height:14}),"Lock & Send"]})]})}),s.jsxs($,{gap:"2",children:[s.jsx(Dn,{children:s.jsx(pe,{variant:"soft",children:O?"Close":"Cancel"})}),!O&&s.jsx(pe,{variant:"classic",onClick:Mt,disabled:Be.isPending||!P.trim(),children:Be.isPending?"Saving...":h?"Save Draft":"Create Offer"})]})]})]}),s.jsx(rn,{open:T,onOpenChange:tt=>Y(tt),children:s.jsxs(an,{maxWidth:"520px",children:[s.jsx(cn,{children:"Sync offer to bookings?"}),s.jsx(st,{my:"3"}),s.jsx(L,{size:"2",children:"Do you want to sync bookings to match this offer? Syncing will replace the current equipment, crew, and transport bookings on this job."}),s.jsxs($,{gap:"2",mt:"4",justify:"end",children:[s.jsx(Dn,{children:s.jsx(pe,{variant:"soft",children:"Cancel"})}),s.jsx(pe,{variant:"soft",onClick:()=>St(!1),disabled:Be.isPending,children:ie==="lock"?"Send without syncing":ie==="create"?"Create without syncing":"Save without syncing"}),s.jsx(pe,{onClick:()=>St(!0),disabled:Be.isPending,children:ie==="lock"?"Send and sync":ie==="create"?"Create and sync":"Save and sync"})]})]})})]})}function iJe({searchTerm:e,onSearchChange:t,searchResults:n,onSelectItem:i,formatCurrency:r}){const a=g.useRef(null),[o,l]=g.useState(null);return g.useEffect(()=>{if(!e||n.length===0){l(null);return}const c=()=>{if(a.current){const d=a.current.querySelector("input");if(d){const h=d.getBoundingClientRect();l({top:h.bottom+window.scrollY+4,left:h.left+window.scrollX,width:h.width})}}};c();const u=setTimeout(c,10);return()=>clearTimeout(u)},[e,n.length]),s.jsxs(X,{mb:"3",ref:a,style:{position:"relative"},children:[s.jsx(qe,{placeholder:"Search items or groups to add...",value:e,onChange:c=>t(c.target.value)}),o&&n.length>0&&s.jsx(X,{style:{position:"fixed",top:`${o.top}px`,left:`${o.left}px`,width:`${o.width}px`,zIndex:1e4,backgroundColor:"var(--color-panel-solid)",border:"1px solid var(--gray-6)",borderRadius:8,maxHeight:"min(400px, 50vh)",overflowY:"auto",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"},children:n.map(c=>s.jsx(X,{p:"2",style:{cursor:"pointer",borderBottom:"1px solid var(--gray-4)",backgroundColor:"transparent"},onClick:()=>i(c.id),onMouseEnter:u=>{u.currentTarget.style.backgroundColor="var(--gray-3)"},onMouseLeave:u=>{u.currentTarget.style.backgroundColor="transparent"},children:s.jsxs($,{justify:"between",align:"center",gap:"2",children:[s.jsxs($,{direction:"column",gap:"1",style:{flex:1,minWidth:0},children:[s.jsxs($,{align:"center",gap:"2",style:{minWidth:0},children:[s.jsx(L,{style:{flex:1,minWidth:0},children:c.name}),c.internally_owned?s.jsx(mt,{size:"1",variant:"soft",color:"indigo",children:"Internal"}):s.jsx(mt,{size:"1",variant:"soft",color:"amber",children:c.external_owner_name??"External"})]}),s.jsx(L,{size:"1",color:"gray",children:c.is_group?`Group | Qty: ${c.on_hand??"N/A"}`:`Brand: ${c.brand_name??"N/A"} | Model: ${c.model??"N/A"} | Qty: ${c.on_hand??"N/A"}`})]}),c.price!==null&&s.jsx(L,{size:"2",color:"gray",style:{flexShrink:0},children:r(c.price)})]})},c.id))})]})}function rJe({groups:e,onGroupsChange:t,expandedGroups:n,onExpandedGroupsChange:i,companyId:r,readOnly:a=!1}){const[o,l]=g.useState(new Map),[c,u]=g.useState(null),[d,h]=g.useState({}),[m,p]=g.useState({}),[v,S]=g.useState([]),b=g.useRef(new Map),w=g.useRef(e),[R,E]=g.useState(new Set),_=["Audio","Lights","Rigging","AV","General"];g.useEffect(()=>{w.current=e},[e]);const N=ae=>o.get(ae)||"",O=(ae,G)=>{const H=new Map(o);H.set(ae,G),l(H),u(ae)},j=g.useCallback(async ae=>{if(!ae.trim()){S([]);return}const G=ZYe(ae),{data:H,error:T}=await re.from("inventory_index").select(`
          id,
          name,
          is_group,
          on_hand,
          current_price,
          internally_owned,
          external_owner_name,
          brand_name,
          model
        `).eq("company_id",r).eq("active",!0).or("deleted.is.null,deleted.eq.false").or("is_group.eq.true,allow_individual_booking.eq.true").or(`name.ilike.%${G}%,category_name.ilike.%${G}%,brand_name.ilike.%${G}%,model.ilike.%${G}%,nicknames.ilike.%${G}%`).limit(20);if(T){console.error("Search error:",T);return}S(H.map(Y=>({id:Y.id,name:Y.name,is_group:!!Y.is_group,on_hand:Y.on_hand!=null?Number(Y.on_hand):null,price:Y.current_price??null,internally_owned:!!Y.internally_owned,external_owner_name:Y.external_owner_name??null,brand_name:Y.brand_name??null,model:Y.model??null})))},[r]),D=()=>{const ae={id:`temp-${Date.now()}`,group_name:"",sort_order:e.length,items:[]};t([...e,ae]),i(new Set([...n,ae.id]))},P=(ae,G)=>{t(e.map(H=>H.id===ae?{...H,...G}:H))},B=ae=>{t(e.filter(H=>H.id!==ae));const G=new Set(n);G.delete(ae),i(G)},M=(ae,G)=>{const H=e.find(ne=>ne.id===ae);if(!H)return;const T=v.find(ne=>ne.id===G);if(!T)return;const Y=T.is_group,ie={id:`temp-${Date.now()}-${Math.random()}`,item_id:Y?null:G||null,group_id:Y&&G||null,quantity:1,unit_price:(T==null?void 0:T.price)||0,is_internal:(T==null?void 0:T.internally_owned)??!0,sort_order:H.items.length,item:Y?null:{id:T.id,name:T.name,externally_owned:!T.internally_owned,external_owner_id:T.internally_owned?null:T.external_owner_name?"temp":null,external_owner_name:T.external_owner_name,brand:T.brand_name?{id:"temp",name:T.brand_name}:null,model:T.model??null},group:Y?{id:T.id,name:T.name,externally_owned:!T.internally_owned,external_owner_id:null,external_owner_name:T.external_owner_name}:null};P(ae,{items:[...H.items,ie]}),O(ae,""),u(null),S([]),Y&&G&&te(G,ae,ie.id)},z=g.useMemo(()=>c&&o.get(c)||"",[c,o]);g.useEffect(()=>{if(!c){z.trim()===""&&S([]);return}if(!z.trim()){S([]);return}const ae=setTimeout(()=>{const G=o.get(c)||"";c&&G.trim()===z.trim()&&j(z.trim())},300);return()=>clearTimeout(ae)},[c,z,o,j]);const U=(ae,G,H)=>{const T=e.find(Y=>Y.id===ae);T&&P(ae,{items:T.items.map(Y=>Y.id===G?{...Y,...H}:Y)})},K=(ae,G,H)=>{const T=w.current;T.find(ie=>ie.id===ae)&&t(T.map(ie=>ie.id!==ae?ie:{...ie,items:ie.items.map(ne=>ne.id===G?{...ne,group_items:H}:ne)}))},te=g.useCallback(async(ae,G,H)=>{const T=b.current.get(ae);if(T){K(G,H,T);return}const{data:Y,error:ie}=await re.from("group_items").select(`
          item_id,
          quantity,
          item:items (
            id,
            name,
            model,
            brand:item_brands ( id, name )
          )
        `).eq("group_id",ae);if(ie){console.error("Failed to load group items:",ie);return}const ne=(Y==null?void 0:Y.map(J=>{const ee=Array.isArray(J.item)?J.item[0]:J.item,se=ee==null?void 0:ee.brand,de=Array.isArray(se)?se[0]:se;return{id:(ee==null?void 0:ee.id)??J.item_id,name:(ee==null?void 0:ee.name)??"Unknown item",brand_name:(de==null?void 0:de.name)??null,model:(ee==null?void 0:ee.model)??null,quantity:J.quantity??1}}))??[];b.current.set(ae,ne),K(G,H,ne)},[]),q=ae=>{E(G=>{const H=new Set(G);return H.has(ae)?H.delete(ae):H.add(ae),H})};g.useEffect(()=>{for(const ae of e)for(const G of ae.items)G.group_id&&!G.group_items&&te(G.group_id,ae.id,G.id)},[e,te]);const V=(ae,G)=>{const H=e.find(T=>T.id===ae);H&&P(ae,{items:H.items.filter(T=>T.id!==G)})},Q=ae=>{const G=new Set(n);G.has(ae)?G.delete(ae):G.add(ae),i(G)},ce=ae=>new Intl.NumberFormat("nb-NO",{style:"currency",currency:"NOK",minimumFractionDigits:2}).format(ae);return s.jsxs($,{direction:"column",gap:"3",style:{display:"flex",flexDirection:"column"},children:[s.jsxs($,{justify:"between",align:"center",style:{flexShrink:0},children:[s.jsx(He,{size:"3",children:"Equipment"}),!a&&s.jsxs(pe,{size:"2",onClick:D,children:[s.jsx(yi,{width:16,height:16})," Add Group"]})]}),e.length>0&&s.jsx($,{direction:"column",gap:"2",children:e.map(ae=>{const G=n.has(ae.id),H=ae.items.reduce((T,Y)=>T+Y.unit_price*Y.quantity,0);return s.jsxs(X,{style:{border:"1px solid var(--gray-a6)",borderRadius:8,overflow:"hidden"},children:[s.jsx(X,{p:"3",style:{background:"var(--gray-a2)",cursor:"pointer"},onClick:()=>Q(ae.id),children:s.jsxs($,{align:"center",justify:"between",children:[s.jsxs($,{align:"center",gap:"2",children:[G?s.jsx(Za,{width:18,height:18}):s.jsx(Gl,{width:18,height:18}),s.jsx(qe,{value:ae.group_name,onChange:T=>{T.stopPropagation(),P(ae.id,{group_name:T.target.value})},onClick:T=>T.stopPropagation(),placeholder:"Enter group name",style:{width:200},readOnly:a}),s.jsxs(L,{size:"2",color:"gray",children:["(",ae.items.length," items)"]})]}),s.jsxs($,{align:"center",gap:"3",children:[s.jsx(L,{weight:"medium",children:ce(H)}),!a&&s.jsx(pe,{size:"1",variant:"soft",color:"red",onClick:T=>{T.stopPropagation(),B(ae.id)},children:s.jsx(vi,{width:14,height:14})})]})]})}),G&&s.jsxs(X,{p:"3",style:{background:"var(--gray-a1)"},children:[!a&&!ae.group_name&&s.jsxs(X,{mb:"3",children:[s.jsx(L,{size:"1",color:"gray",mb:"1",children:"Group name suggestions:"}),s.jsx($,{gap:"2",wrap:"wrap",children:_.map(T=>s.jsx(pe,{size:"1",variant:"soft",color:"gray",onClick:Y=>{Y.stopPropagation(),P(ae.id,{group_name:T})},children:T},T))})]}),!a&&s.jsx(iJe,{searchTerm:N(ae.id),onSearchChange:T=>O(ae.id,T),searchResults:c===ae.id?v:[],onSelectItem:T=>M(ae.id,T),formatCurrency:ce}),ae.items.length>0?s.jsxs(Hn,{variant:"surface",size:"1",children:[s.jsx(Qn,{children:s.jsxs(ht,{children:[s.jsx(ze,{children:"Item"}),s.jsx(ze,{children:"Brand"}),s.jsx(ze,{children:"Model"}),s.jsx(ze,{children:"Qty"}),s.jsx(ze,{children:"Unit Price"}),s.jsx(ze,{children:"Total"}),!a&&s.jsx(ze,{})]})}),s.jsx(qn,{children:ae.items.map(T=>{var ie,ne,J,ee,se,de,he,me,we,le;const Y=R.has(T.id);return s.jsxs(g.Fragment,{children:[s.jsxs(ht,{children:[s.jsx(Oe,{children:s.jsxs($,{align:"center",gap:"2",wrap:"wrap",children:[T.group&&s.jsx(Mn,{variant:"ghost",size:"1",onClick:()=>q(T.id),style:{width:20,height:20,padding:0},children:Y?s.jsx(Za,{width:12,height:12}):s.jsx(Gl,{width:12,height:12})}),s.jsx(L,{children:((ie=T.item)==null?void 0:ie.name)||((ne=T.group)==null?void 0:ne.name)||""}),T.group?s.jsx(mt,{size:"1",variant:"soft",color:"gray",children:"Group"}):null,(J=T.group)!=null&&J.externally_owned||(ee=T.item)!=null&&ee.externally_owned?s.jsx(mt,{size:"1",variant:"soft",color:"amber",children:((se=T.group)==null?void 0:se.external_owner_name)??((de=T.item)==null?void 0:de.external_owner_name)??"External"}):s.jsx(mt,{size:"1",variant:"soft",color:"indigo",children:"Internal"})]})}),s.jsx(Oe,{children:s.jsx(L,{children:((me=(he=T.item)==null?void 0:he.brand)==null?void 0:me.name)??""})}),s.jsx(Oe,{children:s.jsx(L,{children:((we=T.item)==null?void 0:we.model)??""})}),s.jsx(Oe,{children:s.jsx(qe,{type:"number",min:"1",value:d[T.id]??String(T.quantity),onChange:ue=>{const De=ue.target.value;if(h(Be=>({...Be,[T.id]:De})),De==="")return;const Le=Number(De);Number.isNaN(Le)||(U(ae.id,T.id,{quantity:Math.max(1,Le)}),h(Be=>{const ke={...Be};return delete ke[T.id],ke}))},onBlur:()=>{d[T.id]===""&&h(ue=>{const De={...ue};return delete De[T.id],De})},style:{width:80},readOnly:a})}),s.jsx(Oe,{children:s.jsx(qe,{type:"number",min:"0",step:"0.01",value:m[T.id]??String(T.unit_price),onChange:ue=>{const De=ue.target.value;if(p(Be=>({...Be,[T.id]:De})),De==="")return;const Le=Number(De);Number.isNaN(Le)||(U(ae.id,T.id,{unit_price:Math.max(0,Le)}),p(Be=>{const ke={...Be};return delete ke[T.id],ke}))},onBlur:()=>{m[T.id]===""&&p(ue=>{const De={...ue};return delete De[T.id],De})},style:{width:120},readOnly:a})}),s.jsx(Oe,{children:s.jsx(L,{children:ce(T.unit_price*T.quantity)})}),!a&&s.jsx(Oe,{align:"right",children:s.jsx(pe,{size:"1",variant:"soft",color:"red",onClick:()=>V(ae.id,T.id),children:s.jsx(vi,{width:14,height:14})})})]}),T.group&&Y&&((le=T.group_items)==null?void 0:le.map(ue=>{const De=ue.quantity*T.quantity;return s.jsxs(ht,{style:{background:"var(--gray-a2)",opacity:.75},children:[s.jsx(Oe,{children:s.jsx(L,{size:"1",color:"gray",style:{paddingLeft:16},children:ue.name})}),s.jsx(Oe,{children:s.jsx(L,{size:"1",color:"gray",children:ue.brand_name??""})}),s.jsx(Oe,{children:s.jsx(L,{size:"1",color:"gray",children:ue.model??""})}),s.jsx(Oe,{children:s.jsx(L,{size:"1",color:"gray",children:De})}),s.jsx(Oe,{children:s.jsx(L,{size:"1",color:"gray",children:"Included"})}),s.jsx(Oe,{children:s.jsx(L,{size:"1",color:"gray",children:"Included"})}),!a&&s.jsx(Oe,{})]},`${T.id}-group-${ue.id}`)}))]},T.id)})})]}):s.jsx(L,{size:"2",color:"gray",children:"No items in this group. Search above to add items."})]})]},ae.id)})}),s.jsx(X,{p:"4",style:{border:"2px dashed var(--gray-a6)",borderRadius:8,textAlign:"center",cursor:a?"default":"pointer",transition:"all 100ms"},onClick:a?void 0:D,onMouseEnter:ae=>{a||(ae.currentTarget.style.borderColor="var(--gray-a8)",ae.currentTarget.style.background="var(--gray-a2)")},onMouseLeave:ae=>{a||(ae.currentTarget.style.borderColor="var(--gray-a6)",ae.currentTarget.style.background="transparent")},children:s.jsxs($,{direction:"column",align:"center",gap:"2",children:[!a&&s.jsx(yi,{width:24,height:24}),s.jsx(L,{size:"2",color:"gray",children:a?"No equipment groups yet":"Add equipment group"})]})})]})}function aJe({items:e,onItemsChange:t,companyId:n,readOnly:i=!1,jobStartAt:r,jobEndAt:a,defaultRatePerDay:o,defaultRatePerHour:l}){const[c,u]=g.useState(new Set),[d,h]=g.useState({}),[m,p]=g.useState({}),v=["Technician","Loader","FOH","Monitors","Hands","Driver"],S=["Audio","Lights","AV","Transport","Rigging"],b=g.useMemo(()=>{const j=new Map,D=[];for(const M of e){const z=M.role_category||null;if(!z)D.push(M);else{const U=j.get(z)||[];U.push(M),j.set(z,U)}}const P=[];D.length>0&&P.push({category:null,items:D});const B=Array.from(j.keys()).sort();for(const M of B)P.push({category:M,items:j.get(M)});return P},[e]),w=j=>{u(D=>{const P=new Set(D);return P.has(j)?P.delete(j):P.add(j),P})},R=()=>{const j=r?new Date(r):new Date,D=a?new Date(a):new Date(j.getTime()+1440*60*1e3),P=j.toISOString(),B=D.toISOString(),M=!!(r&&a),z=E0(P,B),U=M?z??8:8,K=l??0,te=K*U,q={id:`temp-${Date.now()}`,role_title:"",crew_count:1,start_date:P,end_date:B,daily_rate:te,hourly_rate:K,hours_per_day:U,billing_type:"hourly",sort_order:e.length,role_category:null};t([...e,q]),u(V=>new Set([...V,q.id]))},E=j=>{if(j.billing_type==="hourly"){const D=E0(j.start_date,j.end_date)??(j.hours_per_day!=null?Math.max(0,j.hours_per_day):null)??0,P=Math.max(0,j.hourly_rate!=null?j.hourly_rate:l??0);return{...j,hours_per_day:D,hourly_rate:P,daily_rate:P*D}}return{...j,hourly_rate:null,hours_per_day:null,daily_rate:Math.max(0,j.daily_rate)}},_=(j,D)=>{t(e.map(P=>P.id===j?E({...P,...D}):P))},N=j=>{t(e.filter(D=>D.id!==j))},O=j=>new Intl.NumberFormat("nb-NO",{style:"currency",currency:"NOK",minimumFractionDigits:2}).format(j);return s.jsxs($,{direction:"column",gap:"3",children:[s.jsxs($,{justify:"between",align:"center",children:[s.jsx(He,{size:"3",children:"Crew"}),!i&&s.jsxs(pe,{size:"2",onClick:R,children:[s.jsx(yi,{width:16,height:16})," Add Crew Item"]})]}),e.length>0&&s.jsx(X,{style:{display:"flex",flexDirection:"column",gap:"16px"},children:b.map(j=>s.jsxs(X,{children:[j.category&&s.jsx(He,{size:"4",mb:"2",style:{textTransform:"capitalize"},children:j.category}),s.jsx(X,{style:{display:"flex",flexDirection:"column",gap:"8px"},children:j.items.map(D=>{const P=c.has(D.id),B=Math.ceil((new Date(D.end_date).getTime()-new Date(D.start_date).getTime())/(1e3*60*60*24)),M=D.daily_rate*D.crew_count*Math.max(1,B),z=D.billing_type==="hourly"?D.hours_per_day??E0(D.start_date,D.end_date)??0:null,U=z!=null?Number(z.toFixed(2)):null,K=D.billing_type==="hourly"?D.hourly_rate??l??0:null;return s.jsxs(X,{p:"3",style:{border:"1px solid var(--gray-a6)",borderRadius:8,background:"var(--gray-a2)"},children:[s.jsxs(X,{style:{cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between"},onClick:()=>w(D.id),children:[s.jsxs($,{align:"center",gap:"2",children:[P?s.jsx(Za,{width:18,height:18}):s.jsx(Gl,{width:18,height:18}),s.jsx(L,{weight:"bold",children:D.role_title||""}),s.jsxs(L,{size:"2",color:"gray",children:["(",D.crew_count," crew",D.crew_count!==1?"s":"",")"]}),s.jsxs(L,{size:"2",color:"gray",children:[" ",O(M)]})]}),!i&&s.jsx(pe,{size:"1",variant:"soft",color:"red",onClick:te=>{te.stopPropagation(),N(D.id)},children:s.jsx(vi,{width:14,height:14})})]}),P&&s.jsx(X,{mt:"3",pt:"3",style:{borderTop:"1px solid var(--gray-a6)"},children:s.jsxs($,{direction:"column",gap:"3",children:[s.jsxs($,{gap:"3",wrap:"wrap",children:[s.jsxs(X,{style:{flex:"1 1 260px"},children:[s.jsx(L,{size:"2",color:"gray",mb:"1",children:"Role Title"}),s.jsx(qe,{value:D.role_title,onChange:te=>_(D.id,{role_title:te.target.value}),placeholder:"e.g., Technician",readOnly:i,onClick:te=>te.stopPropagation()}),!i&&!D.role_title&&s.jsxs($,{gap:"2",wrap:"wrap",mt:"2",children:[s.jsx(L,{size:"1",color:"gray",style:{width:"100%"},children:"Quick suggestions:"}),v.map(te=>s.jsx(pe,{size:"1",variant:"soft",color:"gray",onClick:q=>{q.stopPropagation(),_(D.id,{role_title:te})},children:te},te))]})]}),s.jsxs(X,{style:{flex:"1 1 220px"},children:[s.jsx(L,{size:"2",color:"gray",mb:"1",children:"Role Category"}),s.jsx(qe,{placeholder:"e.g. Audio, Lights, AV",value:D.role_category||"",onChange:te=>_(D.id,{role_category:te.target.value.trim()||null}),readOnly:i,onClick:te=>te.stopPropagation()}),!i&&s.jsxs($,{gap:"2",wrap:"wrap",mt:"2",children:[s.jsx(L,{size:"1",color:"gray",style:{width:"100%"},children:"Quick suggestions:"}),S.map(te=>s.jsx(pe,{size:"1",variant:"soft",color:"gray",onClick:q=>{q.stopPropagation(),_(D.id,{role_category:te.toLowerCase()})},children:te},te))]})]})]}),s.jsxs(X,{children:[s.jsx(L,{size:"2",color:"gray",mb:"1",children:"Rate Type"}),i?s.jsx(mt,{size:"1",variant:"soft",color:"gray",children:D.billing_type==="hourly"?"Hourly rate":"Daily rate"}):s.jsxs($,{gap:"2",children:[s.jsx(pe,{size:"1",variant:D.billing_type==="daily"?"classic":"soft",color:D.billing_type==="daily"?"blue":"gray",onClick:te=>{if(te.stopPropagation(),D.billing_type!=="daily"){const q=Math.max(0,o??D.daily_rate);_(D.id,{billing_type:"daily",daily_rate:q})}},children:"Daily"}),s.jsx(pe,{size:"1",variant:D.billing_type==="hourly"?"classic":"soft",color:D.billing_type==="hourly"?"blue":"gray",onClick:te=>{if(te.stopPropagation(),D.billing_type!=="hourly"){const q=E0(D.start_date,D.end_date)??(D.hours_per_day&&D.hours_per_day>0?D.hours_per_day:8),V=l??(D.hourly_rate!=null&&D.hourly_rate>0?D.hourly_rate:q>0?D.daily_rate/q:0),Q=Number.isFinite(V)?V:0;_(D.id,{billing_type:"hourly",hours_per_day:q,hourly_rate:Math.max(0,Q)})}},children:"Hourly"})]})]}),s.jsxs($,{gap:"3",wrap:"wrap",children:[s.jsxs(X,{style:{minWidth:120},children:[s.jsx(L,{size:"2",color:"gray",mb:"1",children:"Crew Count"}),s.jsx(qe,{type:"number",min:"1",value:d[D.id]??String(D.crew_count),onChange:te=>{const q=te.target.value;if(h(Q=>({...Q,[D.id]:q})),q==="")return;const V=Number(q);Number.isNaN(V)||(_(D.id,{crew_count:Math.max(1,V)}),h(Q=>{const ce={...Q};return delete ce[D.id],ce}))},onBlur:()=>{d[D.id]===""&&h(te=>{const q={...te};return delete q[D.id],q})},style:{width:120},readOnly:i,onClick:te=>te.stopPropagation()})]}),s.jsxs(X,{style:{minWidth:200},children:[s.jsx(L,{size:"2",color:"gray",mb:"1",children:"Start Date"}),i?s.jsx(L,{children:D.start_date?new Date(D.start_date).toLocaleDateString("nb-NO"):""}):s.jsx("div",{onClick:te=>te.stopPropagation(),children:s.jsx(or,{value:D.start_date,onChange:te=>_(D.id,{start_date:te})})})]}),s.jsxs(X,{style:{minWidth:200},children:[s.jsx(L,{size:"2",color:"gray",mb:"1",children:"End Date"}),i?s.jsx(L,{children:D.end_date?new Date(D.end_date).toLocaleDateString("nb-NO"):""}):s.jsx("div",{onClick:te=>te.stopPropagation(),children:s.jsx(or,{value:D.end_date,onChange:te=>_(D.id,{end_date:te})})})]}),D.billing_type==="daily"?s.jsxs(X,{style:{minWidth:120},children:[s.jsx(L,{size:"2",color:"gray",mb:"1",children:"Daily Rate"}),s.jsx(qe,{type:"number",min:"0",step:"0.01",value:m[D.id]??String(D.daily_rate),onChange:te=>{const q=te.target.value;if(p(Q=>({...Q,[D.id]:q})),q==="")return;const V=Number(q);Number.isNaN(V)||(_(D.id,{daily_rate:Math.max(0,V)}),p(Q=>{const ce={...Q};return delete ce[D.id],ce}))},onBlur:()=>{m[D.id]===""&&p(te=>{const q={...te};return delete q[D.id],q})},placeholder:o!=null?String(o):void 0,style:{width:110},readOnly:i,onClick:te=>te.stopPropagation()})]}):s.jsxs(s.Fragment,{children:[s.jsxs(X,{style:{minWidth:120},children:[s.jsx(L,{size:"2",color:"gray",mb:"1",children:"Hourly Rate"}),s.jsx(qe,{type:"number",min:"0",step:"0.01",value:D.hourly_rate==null?"":String(D.hourly_rate),onChange:te=>{const q=te.target.value;if(q===""){_(D.id,{hourly_rate:null});return}_(D.id,{hourly_rate:Math.max(0,Number(q)||0)})},onBlur:()=>{D.hourly_rate==null&&_(D.id,{hourly_rate:l??0})},placeholder:l!=null?String(l):void 0,style:{width:110},readOnly:i,onClick:te=>te.stopPropagation()}),!i&&l!=null&&s.jsxs(L,{size:"1",color:"gray",style:{fontStyle:"italic"},mt:"1",children:["Default:"," ",O(l),"/hour"]})]}),s.jsxs(X,{style:{minWidth:120},children:[s.jsx(L,{size:"2",color:"gray",mb:"1",children:"Hours per Day"}),s.jsx(qe,{type:"number",min:"0",step:"0.25",value:U!=null?U.toFixed(2):"",style:{width:110},disabled:!0,readOnly:!0,onClick:te=>te.stopPropagation()})]}),s.jsxs(X,{style:{minWidth:160},children:[s.jsx(L,{size:"2",color:"gray",mb:"1",children:"Daily Equivalent"}),s.jsxs($,{direction:"column",gap:"1",children:[s.jsx(L,{weight:"medium",children:O(D.daily_rate)}),s.jsx(L,{size:"1",color:"gray",children:"per day"})]})]})]})]}),s.jsx(X,{p:"2",style:{background:"var(--gray-a3)",borderRadius:4},children:s.jsxs($,{justify:"between",align:"center",children:[s.jsxs(L,{size:"2",color:"gray",children:[B," day",B!==1?"s":""," "," ",D.crew_count," crew",D.crew_count!==1?"s":""," ",D.billing_type==="hourly"?` ${(U??0).toFixed(2)}h/day @ ${O(K??0)}/hour`:` ${O(D.daily_rate)}/day`]}),s.jsxs(L,{weight:"medium",children:["Total: ",O(M)]})]})})]})})]},D.id)})})]},j.category||"no-category"))}),s.jsx(X,{p:"4",style:{border:"2px dashed var(--gray-a6)",borderRadius:8,textAlign:"center",cursor:i?"default":"pointer",transition:"all 100ms"},onClick:i?void 0:R,onMouseEnter:j=>{i||(j.currentTarget.style.borderColor="var(--gray-a8)",j.currentTarget.style.background="var(--gray-a2)")},onMouseLeave:j=>{i||(j.currentTarget.style.borderColor="var(--gray-a6)",j.currentTarget.style.background="transparent")},children:s.jsxs($,{direction:"column",align:"center",gap:"2",children:[!i&&s.jsx(yi,{width:24,height:24}),s.jsx(L,{size:"2",color:"gray",children:i?"No crew items yet":"Add crew item"})]})})]})}function sJe(e){return e?{passenger_car_small:"Passenger Car - Small",passenger_car_medium:"Passenger Car - Medium",passenger_car_big:"Passenger Car - Big",van_small:"Van - Small",van_medium:"Van - Medium",van_big:"Van - Big",C1:"C1",C1E:"C1E",C:"C",CE:"CE"}[e]||e:""}function oJe({items:e,onItemsChange:t,companyId:n,readOnly:i=!1,jobStartAt:r,jobEndAt:a,vehicleDailyRate:o,vehicleDistanceRate:l,vehicleDistanceIncrement:c}){const u=()=>{const p=r?new Date(r):new Date,v=a?new Date(a):new Date(p.getTime()+1440*60*1e3),S=Math.max(1,c??150),b={id:`temp-${Date.now()}`,vehicle_name:"",vehicle_id:null,vehicle_category:null,distance_km:S,start_date:p.toISOString(),end_date:v.toISOString(),daily_rate:null,distance_rate:null,is_internal:!0,sort_order:e.length};t([...e,b])},d=(p,v)=>{t(e.map(S=>S.id===p?{...S,...v}:S))},h=p=>{t(e.filter(v=>v.id!==p))},m=p=>new Intl.NumberFormat("nb-NO",{style:"currency",currency:"NOK",minimumFractionDigits:2}).format(p);return s.jsxs($,{direction:"column",gap:"3",children:[s.jsxs($,{justify:"between",align:"center",children:[s.jsx(He,{size:"3",children:"Transport"}),!i&&s.jsxs(pe,{size:"2",onClick:u,children:[s.jsx(yi,{width:16,height:16})," Add Transport Item"]})]}),e.length>0&&s.jsxs(Hn,{variant:"surface",children:[s.jsx(Qn,{children:s.jsxs(ht,{children:[s.jsx(ze,{children:"Vehicle Category"}),s.jsx(ze,{children:"Distance (km)"}),s.jsx(ze,{children:"Start Date"}),s.jsx(ze,{children:"End Date"}),s.jsx(ze,{children:"Daily Rate"}),s.jsx(ze,{children:"Distance Rate"}),s.jsx(ze,{children:"Total"}),!i&&s.jsx(ze,{})]})}),s.jsx(qn,{children:e.map(p=>{const v=o??null,S=l??null,b=Math.max(1,c??150),w=p.daily_rate??v,R=p.distance_rate??S,E=U=>{const K=b,q=(p.distance_km??K)+U,V=K;let Q;U>=0?Q=Math.ceil(q/K)*K:Q=Math.floor(q/K)*K,Q<V&&(Q=V),d(p.id,{distance_km:Q})},_=Math.ceil((new Date(p.end_date).getTime()-new Date(p.start_date).getTime())/(1e3*60*60*24)),O=(w??0)*Math.max(1,_),j=R,D=p.distance_km?Math.ceil(p.distance_km/b):0,P=j&&D>0?j*D:0,B=O+P,M=S!==null&&(p.distance_rate===null||p.distance_rate===S),z=v!==null&&(p.daily_rate===null||p.daily_rate===v);return s.jsxs(ht,{style:{verticalAlign:"middle"},children:[s.jsx(Oe,{children:i?s.jsx(L,{children:sJe(p.vehicle_category)}):s.jsxs(Vn,{value:p.vehicle_category??"",onValueChange:U=>d(p.id,{vehicle_category:U||null}),children:[s.jsx(Kn,{placeholder:"Select category"}),s.jsxs(Gn,{style:{zIndex:1e4},children:[s.jsx(wt,{value:"passenger_car_small",children:"Passenger Car - Small"}),s.jsx(wt,{value:"passenger_car_medium",children:"Passenger Car - Medium"}),s.jsx(wt,{value:"passenger_car_big",children:"Passenger Car - Big"}),s.jsx(wt,{value:"van_small",children:"Van - Small"}),s.jsx(wt,{value:"van_medium",children:"Van - Medium"}),s.jsx(wt,{value:"van_big",children:"Van - Big"}),s.jsx(wt,{value:"C1",children:"C1"}),s.jsx(wt,{value:"C1E",children:"C1E"}),s.jsx(wt,{value:"C",children:"C"}),s.jsx(wt,{value:"CE",children:"CE"})]})]})}),s.jsx(Oe,{style:{verticalAlign:"middle"},children:i?s.jsx(L,{children:p.distance_km??""}):s.jsxs($,{align:"center",gap:"1",children:[s.jsx(qe,{type:"number",min:b,step:String(b),value:String(p.distance_km??""),onChange:U=>{const K=U.target.value;if(K==="")d(p.id,{distance_km:null});else{const te=Number(K)||0,q=Math.round(te/b)*b;d(p.id,{distance_km:Math.max(b,q)})}},onBlur:()=>{if(p.distance_km!==null&&p.distance_km>0){const U=Math.round(p.distance_km/b)*b,K=Math.max(b,U);K!==p.distance_km&&d(p.id,{distance_km:K})}p.distance_km!==null&&p.distance_km<b&&d(p.id,{distance_km:b})},placeholder:"Distance",style:{width:80}}),s.jsxs($,{direction:"column",gap:"1",style:{alignSelf:"stretch"},children:[s.jsx(Mn,{size:"1",variant:"soft",onClick:U=>{U.preventDefault(),U.stopPropagation(),E(b)},style:{width:20,height:18,padding:0},children:s.jsx(ILe,{width:12,height:12})}),s.jsx(Mn,{size:"1",variant:"soft",onClick:U=>{U.preventDefault(),U.stopPropagation(),E(-b)},style:{width:20,height:18,padding:0},children:s.jsx(Za,{width:12,height:12})})]})]})}),s.jsx(Oe,{style:{verticalAlign:"middle"},children:i?s.jsx(L,{children:p.start_date?new Date(p.start_date).toLocaleDateString("nb-NO"):""}):s.jsx(or,{value:p.start_date,onChange:U=>d(p.id,{start_date:U})})}),s.jsx(Oe,{style:{verticalAlign:"middle"},children:i?s.jsx(L,{children:p.end_date?new Date(p.end_date).toLocaleDateString("nb-NO"):""}):s.jsx(or,{value:p.end_date,onChange:U=>d(p.id,{end_date:U})})}),s.jsx(Oe,{style:{verticalAlign:"middle"},children:s.jsxs($,{direction:"column",gap:"1",children:[s.jsx(qe,{type:"number",min:"0",step:"0.01",value:w==null?"":String(w),onChange:U=>{const K=U.target.value;if(K==="")d(p.id,{daily_rate:null});else{const te=Number(K)||0;d(p.id,{daily_rate:Math.max(0,te)})}},placeholder:v!==null?String(v):"Not set",style:{width:100},readOnly:i}),!i&&v!==null&&!z&&s.jsxs(L,{size:"1",color:"gray",style:{fontStyle:"italic"},children:["Default: ",m(v),"/day"]})]})}),s.jsx(Oe,{style:{verticalAlign:"middle"},children:s.jsxs($,{direction:"column",gap:"1",children:[s.jsx(qe,{type:"number",min:"0",step:"0.01",value:R==null?"":String(R),onChange:U=>{const K=U.target.value;if(K==="")d(p.id,{distance_rate:null});else{const te=Number(K)||0;d(p.id,{distance_rate:Math.max(0,te)})}},placeholder:S!==null?String(S):"Not set",style:{width:100},readOnly:i}),!i&&!M&&S!==null&&s.jsxs(L,{size:"1",color:"gray",style:{fontStyle:"italic"},children:["Default: ",m(S)," /"," ",b,"km"]})]})}),s.jsx(Oe,{children:s.jsx(L,{children:m(B)})}),!i&&s.jsx(Oe,{align:"right",children:s.jsx(pe,{size:"1",variant:"soft",color:"red",onClick:()=>h(p.id),children:s.jsx(vi,{width:14,height:14})})})]},p.id)})})]}),s.jsx(X,{p:"4",style:{border:"2px dashed var(--gray-a6)",borderRadius:8,textAlign:"center",cursor:i?"default":"pointer",transition:"all 100ms"},onClick:i?void 0:u,onMouseEnter:p=>{i||(p.currentTarget.style.borderColor="var(--gray-a8)",p.currentTarget.style.background="var(--gray-a2)")},onMouseLeave:p=>{i||(p.currentTarget.style.borderColor="var(--gray-a6)",p.currentTarget.style.background="transparent")},children:s.jsxs($,{direction:"column",align:"center",gap:"2",children:[!i&&s.jsx(yi,{width:24,height:24}),s.jsx(L,{size:"2",color:"gray",children:i?"No transport items yet":"Add transport item"})]})})]})}function lJe({totals:e}){const t=n=>new Intl.NumberFormat("nb-NO",{style:"currency",currency:"NOK",minimumFractionDigits:2}).format(n);return s.jsxs($,{direction:"column",gap:"3",children:[s.jsx(He,{size:"3",children:"Totals"}),s.jsx(Hn,{variant:"surface",children:s.jsxs(qn,{children:[s.jsxs(ht,{children:[s.jsx(Oe,{children:s.jsx(L,{weight:"medium",children:"Equipment Subtotal"})}),s.jsx(Oe,{align:"right",children:s.jsx(L,{children:t(e.equipmentSubtotal)})})]}),s.jsxs(ht,{children:[s.jsx(Oe,{children:s.jsx(L,{weight:"medium",children:"Crew Subtotal"})}),s.jsx(Oe,{align:"right",children:s.jsx(L,{children:t(e.crewSubtotal)})})]}),s.jsxs(ht,{children:[s.jsx(Oe,{children:s.jsx(L,{weight:"medium",children:"Transport Subtotal"})}),s.jsx(Oe,{align:"right",children:s.jsx(L,{children:t(e.transportSubtotal)})})]}),s.jsxs(ht,{children:[s.jsx(Oe,{children:s.jsx(L,{weight:"medium",children:"Total Before Discount"})}),s.jsx(Oe,{align:"right",children:s.jsx(L,{children:t(e.totalBeforeDiscount)})})]}),s.jsxs(ht,{children:[s.jsx(Oe,{children:s.jsxs(L,{weight:"medium",children:["Discount (",e.discountPercent,"%)"]})}),s.jsx(Oe,{align:"right",children:s.jsxs(L,{color:"red",children:["-",t(e.totalBeforeDiscount-e.totalAfterDiscount)]})})]}),s.jsxs(ht,{children:[s.jsx(Oe,{children:s.jsx(L,{weight:"medium",children:"Total After Discount"})}),s.jsx(Oe,{align:"right",children:s.jsx(L,{children:t(e.totalAfterDiscount)})})]}),s.jsxs(ht,{children:[s.jsx(Oe,{children:s.jsxs(L,{weight:"medium",children:["VAT (",e.vatPercent,"%)"]})}),s.jsx(Oe,{align:"right",children:s.jsx(L,{children:t(e.totalWithVAT-e.totalAfterDiscount)})})]}),s.jsxs(ht,{children:[s.jsx(Oe,{children:s.jsx(L,{size:"4",weight:"bold",children:"Total With VAT"})}),s.jsx(Oe,{align:"right",children:s.jsx(L,{size:"4",weight:"bold",children:t(e.totalWithVAT)})})]})]})})]})}function cJe({open:e,onOpenChange:t}){return s.jsx(rn,{open:e,onOpenChange:t,children:s.jsx(an,{maxWidth:"520px",children:s.jsxs($,{direction:"column",align:"center",gap:"3",p:"6",children:[s.jsx(XTe,{width:40,height:40}),s.jsx(He,{size:"4",children:"In construction"})]})})})}function uJe(e){if(e.revision_requested_at)return"orange";switch(e.status){case"draft":return"gray";case"sent":return"blue";case"viewed":return"purple";case"accepted":return"green";case"rejected":return"red";case"superseded":return"orange";default:return"gray"}}function dJe(e){return e.revision_requested_at?"wants revision":e.status}function mW(e){return e==="technical"?"Technical":"Pretty"}function yW(e){return e.bookings_synced_at?new Date(e.bookings_synced_at).getTime()>=new Date(e.updated_at).getTime():!1}function fJe({jobId:e,companyId:t}){var ke;const{companyRole:n}=zr(),i=n==="freelancer",[r,a]=g.useState(null),[o,l]=g.useState(!1),[c,u]=g.useState(null),[d,h]=g.useState(null),[m,p]=g.useState(!1),[v,S]=g.useState(null),[b,w]=g.useState("accepted"),[R,E]=g.useState(""),[_,N]=g.useState(null),O=Yt(),{success:j,error:D,info:P}=Jt(),B=g.useCallback(()=>{O.invalidateQueries({queryKey:["jobs.equipment",e]}),O.invalidateQueries({queryKey:["jobs.crew",e]}),O.invalidateQueries({queryKey:["jobs.transport",e]})},[O,e]),{data:M=[],isLoading:z}=et({...UYe(e)}),U=bt({mutationFn:JYe,onSuccess:()=>{O.invalidateQueries({queryKey:["job-offers",e]}),j("Offer deleted","The offer has been deleted."),a(null)},onError:Ee=>{D("Failed to delete offer",(Ee==null?void 0:Ee.message)||"Please try again.")}}),K=bt({mutationFn:YYe,onSuccess:()=>{O.invalidateQueries({queryKey:["job-offers",e]}),j("Offer duplicated","A new version of the offer has been created.")},onError:Ee=>{D("Failed to duplicate offer",(Ee==null?void 0:Ee.message)||"Please try again.")}}),te=bt({mutationFn:async Ee=>(await Zde(Ee.id),Ee),onSuccess:Ee=>{O.invalidateQueries({queryKey:["job-offers",e]}),h(Ee),j("Offer locked","The offer has been locked and sent.")},onError:Ee=>{D("Failed to lock offer",(Ee==null?void 0:Ee.message)||"Please try again.")}}),{data:q}=et({queryKey:["auth","user"],queryFn:async()=>{const{data:Ee}=await re.auth.getUser();return Ee.user}}),V=bt({mutationFn:async Ee=>{if(!(q!=null&&q.id))throw new Error("User not authenticated");await efe(Ee,q.id)},onSuccess:()=>{O.invalidateQueries({queryKey:["job-offers",e]}),O.invalidateQueries({queryKey:["job-calendar",e]}),O.invalidateQueries({queryKey:["time-periods",e]}),B(),j("Bookings created","Time periods and reservations have been created from the offer.")},onError:Ee=>{D("Failed to create bookings",(Ee==null?void 0:Ee.message)||"Please try again.")}}),Q=bt({mutationFn:async Ee=>{if(!(q!=null&&q.id))throw new Error("User not authenticated");return await tfe(Ee,q.id)},onSuccess:Ee=>{O.invalidateQueries({queryKey:["job-offers",e]}),O.invalidateQueries({queryKey:["job-calendar",e]}),O.invalidateQueries({queryKey:["time-periods",e]}),B(),j("Bookings synced","Bookings were synced from the offer."),Ee.length&&P("Booking warnings",Ee.join(`
`),6e3)},onError:Ee=>{D("Failed to sync bookings",(Ee==null?void 0:Ee.message)||"Please try again.")}}),ce=bt({mutationFn:async Ee=>{var Et;const lt=new Date().toISOString(),Mt=Ee.comment.trim(),St="Project lead";let tt=null;if(Ee.responseType==="revision"){const{data:rt,error:xt}=await re.from("jobs").select("id, title, project_lead_user_id").eq("id",e).single();if(xt)throw xt;if(tt=rt,!tt.project_lead_user_id)throw new Error("Project lead is missing. Assign a project lead to send the revision matter.")}const Je={accepted_at:null,accepted_by_name:null,accepted_by_phone:null,accepted_by_email:null,rejected_at:null,rejected_by_name:null,rejected_by_phone:null,rejection_comment:null,revision_requested_at:null,revision_requested_by_name:null,revision_requested_by_phone:null,revision_comment:null};let Ve=Je;Ee.responseType==="accepted"?Ve={...Je,status:"accepted",accepted_at:lt,accepted_by_name:St,accepted_by_phone:null}:Ee.responseType==="rejected"?Ve={...Je,status:"rejected",rejected_at:lt,rejected_by_name:St,rejected_by_phone:null,rejection_comment:null}:Ve={...Je,status:"viewed",revision_requested_at:lt,revision_requested_by_name:St,revision_requested_by_phone:null,revision_comment:Mt||null};const{error:qt}=await re.from("job_offers").update(Ve).eq("id",Ee.offerId);if(qt)throw qt;if(Ee.responseType==="revision"){const rt=tt==null?void 0:tt.project_lead_user_id,xt=((Et=tt==null?void 0:tt.title)==null?void 0:Et.trim())||"Job",Te=`${window.location.origin}/jobs?jobId=${e}`,Ot=Mt||"No message provided.",$t=[`Customer requested a revision on offer "${Ee.offerTitle}".`,`Message: ${Ot}`,`Job: ${xt}`,`Go to job: ${Te}`].join(`
`);await ZO({company_id:t,matter_type:"update",title:`Offer revision requested: ${xt}`,content:$t,job_id:e,recipient_user_ids:[rt],created_as_company:!0})}},onSuccess:()=>{O.invalidateQueries({queryKey:["job-offers",e]}),j("Offer response updated","The offer response has been set."),S(null)},onError:Ee=>{D("Failed to set offer response",(Ee==null?void 0:Ee.message)||"Please try again.")}}),ae=bt({mutationFn:async()=>await KYe({jobId:e,companyId:t}),onSuccess:Ee=>{O.invalidateQueries({queryKey:["job-offers",e]}),T("technical"),u(Ee),l(!0),j("Offer created","A technical offer was created from the current bookings.")},onError:Ee=>{D("Failed to create offer from bookings",(Ee==null?void 0:Ee.message)||"Please try again.")}}),G=bt({mutationFn:nfe,onSuccess:()=>{j("PDF exported","The offer has been exported as PDF.")},onError:Ee=>{D("Failed to export PDF",(Ee==null?void 0:Ee.message)||"Please try again.")}}),[H,T]=g.useState("technical"),Y=()=>{u(null),T("technical"),l(!0)},ie=()=>{u(null),T("pretty"),l(!0)},ne=()=>{ae.mutate()},J=Ee=>{if(Ee.locked||Ee.status!=="draft"){D("Cannot edit offer","Only draft offers can be edited. Locked or sent offers cannot be modified.");return}u(Ee.id),l(!0)},ee=Ee=>{u(Ee.id),l(!0)},se=Ee=>{K.mutate(Ee.id)},de=Ee=>{te.mutate(Ee)},he=Ee=>`${window.location.origin}/offer/${Ee.access_token}`,me=Ee=>{const lt=he(Ee);navigator.clipboard.writeText(lt).then(()=>{j("Link copied","The offer link has been copied to your clipboard.")}).catch(Mt=>{D("Failed to copy link",(Mt==null?void 0:Mt.message)||"Please try again.")})},we=Ee=>{if(!(q!=null&&q.id)){D("Authentication required","Please log in to create bookings.");return}V.mutate(Ee.id)},le=Ee=>{if(!(q!=null&&q.id)){D("Authentication required","Please log in to sync bookings.");return}Q.mutate(Ee.id)},ue=Ee=>{G.mutate(Ee.id)},De=Ee=>{S(Ee),w("accepted"),E("")},Le=Ee=>new Intl.NumberFormat("nb-NO",{style:"currency",currency:"NOK",minimumFractionDigits:2}).format(Ee),Be=Ee=>Ee?new Date(Ee).toLocaleDateString("nb-NO",{year:"numeric",month:"short",day:"numeric"}):"";return s.jsxs(X,{children:[s.jsxs($,{mb:"3",justify:"between",align:"center",children:[s.jsx(He,{size:"3",children:"Offers"}),!i&&s.jsx($,{gap:"2",children:s.jsxs(pe,{size:"2",variant:"outline",onClick:()=>p(!0),children:[s.jsx(yi,{width:16,height:16})," New Offer"]})})]}),z?s.jsx(L,{children:"Loading offers..."}):M.length===0&&!i?s.jsx(X,{p:"4",style:{border:"2px dashed var(--gray-a6)",borderRadius:8,textAlign:"center",cursor:"pointer",transition:"all 100ms"},onClick:()=>p(!0),onMouseEnter:Ee=>{Ee.currentTarget.style.borderColor="var(--gray-a8)",Ee.currentTarget.style.background="var(--gray-a2)"},onMouseLeave:Ee=>{Ee.currentTarget.style.borderColor="var(--gray-a6)",Ee.currentTarget.style.background="transparent"},children:s.jsxs($,{direction:"column",align:"center",gap:"2",children:[s.jsx(yi,{width:24,height:24}),s.jsx(L,{size:"2",color:"gray",children:"Create your first offer"})]})}):M.length===0&&i?s.jsx(X,{p:"4",style:{border:"2px dashed var(--gray-a6)",borderRadius:8,textAlign:"center"},children:s.jsx(L,{size:"3",color:"gray",children:"No offers yet"})}):s.jsx(X,{style:{overflowX:"auto"},children:s.jsxs(Hn,{variant:"surface",style:{minWidth:1060},children:[s.jsx(Qn,{children:s.jsxs(ht,{children:[s.jsx(ze,{children:"Version"}),s.jsx(ze,{children:"Type"}),s.jsx(ze,{children:"Status"}),s.jsx(ze,{children:"Synced"}),s.jsx(ze,{children:"Title"}),s.jsx(ze,{children:"Total"}),s.jsx(ze,{children:"Created"}),s.jsx(ze,{children:"Actions"})]})}),s.jsx(qn,{children:M.map(Ee=>s.jsxs(ht,{children:[s.jsx(Oe,{children:s.jsxs($,{align:"center",gap:"2",children:[s.jsxs(L,{children:["v",Ee.version_number]}),Ee.locked&&s.jsx(w1,{width:14,height:14,color:"var(--orange-9)"})]})}),s.jsx(Oe,{children:s.jsx(mt,{variant:"soft",children:mW(Ee.offer_type)})}),s.jsx(Oe,{children:s.jsxs($,{direction:"column",gap:"1",children:[s.jsx(mt,{radius:"full",color:uJe(Ee),highContrast:!0,children:dJe(Ee)}),Ee.revision_requested_at&&s.jsx(pe,{size:"1",variant:"ghost",onClick:()=>N(Ee),children:"Show message"})]})}),s.jsx(Oe,{children:s.jsx(mt,{variant:"soft",color:yW(Ee)?"green":"gray",title:Ee.bookings_synced_at?`Last synced: ${Be(Ee.bookings_synced_at)}`:"Not synced",children:yW(Ee)?"Synced":"Not synced"})}),s.jsx(Oe,{children:s.jsx(L,{weight:"medium",children:Ee.title})}),s.jsx(Oe,{children:s.jsx(L,{children:Ee.total_with_vat&&Ee.total_with_vat>0?Le(Ee.total_with_vat):""})}),s.jsx(Oe,{children:s.jsx(L,{size:"2",children:Be(Ee.created_at)})}),s.jsx(Oe,{style:{minWidth:320},children:s.jsxs($,{gap:"2",wrap:"wrap",align:"center",children:[Ee.offer_type==="technical"?s.jsx(s.Fragment,{children:Ee.locked?s.jsxs(pe,{size:"1",variant:"soft",onClick:()=>{T("technical"),ee(Ee)},children:[s.jsx(Nx,{width:14,height:14})," View"]}):!i&&s.jsxs(pe,{size:"1",variant:"soft",onClick:()=>{T("technical"),J(Ee)},children:[s.jsx(gi,{width:14,height:14})," Edit"]})}):s.jsx(s.Fragment,{children:Ee.locked?s.jsxs(pe,{size:"1",variant:"soft",onClick:()=>{T("pretty"),ee(Ee)},children:[s.jsx(Nx,{width:14,height:14})," View"]}):!i&&s.jsxs(pe,{size:"1",variant:"soft",onClick:()=>{T("pretty"),J(Ee)},children:[s.jsx(gi,{width:14,height:14})," Edit"]})}),Ee.locked&&Ee.status!=="draft"&&s.jsxs(pe,{size:"1",variant:"soft",onClick:()=>me(Ee),title:"Copy offer link",children:[s.jsx(ZA,{width:14,height:14})," Copy Link"]}),!i&&s.jsxs(s.Fragment,{children:[s.jsxs(pe,{size:"1",variant:"soft",onClick:()=>se(Ee),disabled:K.isPending,children:[s.jsx(toe,{width:14,height:14}),"Duplicate"]}),!Ee.locked&&s.jsxs(pe,{size:"1",variant:"soft",onClick:()=>de(Ee),disabled:te.isPending,children:[s.jsx(w1,{width:14,height:14})," Lock & Send"]}),Ee.status==="accepted"&&s.jsxs(pe,{size:"1",variant:"soft",color:"green",onClick:()=>we(Ee),disabled:V.isPending,children:[s.jsx(Fu,{width:14,height:14})," Create Bookings"]}),Ee.offer_type==="technical"&&s.jsxs(pe,{size:"1",variant:"soft",onClick:()=>le(Ee),disabled:Q.isPending,children:[s.jsx(aoe,{width:14,height:14})," Sync Bookings"]}),s.jsxs(pe,{size:"1",variant:"soft",onClick:()=>ue(Ee),disabled:G.isPending,children:[s.jsx(x1,{width:14,height:14})," Export PDF"]}),s.jsxs(pe,{size:"1",variant:"soft",onClick:()=>De(Ee),children:[s.jsx(gi,{width:14,height:14}),"Set Response"]}),s.jsx(pe,{size:"1",variant:"soft",color:"red",onClick:()=>a(Ee),children:s.jsx(vi,{width:14,height:14})})]})]})})]},Ee.id))})]})}),r&&s.jsx(rn,{open:!!r,onOpenChange:Ee=>!Ee&&a(null),children:s.jsxs(an,{maxWidth:"450px",children:[s.jsx(cn,{children:"Delete Offer?"}),s.jsx(st,{my:"3"}),s.jsx(L,{size:"2",children:"Are you sure you want to delete this offer? This action cannot be undone."}),s.jsx(X,{mt:"3",p:"3",style:{background:"var(--gray-a2)",borderRadius:8},children:s.jsxs($,{direction:"column",gap:"1",children:[s.jsxs(L,{size:"2",children:[s.jsx("strong",{children:"Title:"})," ",r.title]}),s.jsxs(L,{size:"2",children:[s.jsx("strong",{children:"Type:"})," ",mW(r.offer_type)]}),s.jsxs(L,{size:"2",children:[s.jsx("strong",{children:"Status:"})," ",r.status]}),s.jsxs(L,{size:"2",children:[s.jsx("strong",{children:"Version:"})," ",r.version_number]})]})}),s.jsxs($,{gap:"2",mt:"4",justify:"end",children:[s.jsx(Dn,{children:s.jsx(pe,{variant:"soft",disabled:U.isPending,children:"Cancel"})}),s.jsx(pe,{color:"red",onClick:()=>U.mutate(r.id),disabled:U.isPending,children:U.isPending?"Deleting...":"Delete"})]})]})}),!i&&s.jsx(rn,{open:m,onOpenChange:Ee=>p(Ee),children:s.jsxs(an,{maxWidth:"500px",children:[s.jsx(cn,{children:"Create New Offer"}),s.jsx(st,{my:"3"}),s.jsx(L,{size:"2",mb:"3",children:"Choose how you want to create the offer:"}),s.jsxs($,{direction:"column",gap:"2",children:[s.jsxs(X,{p:"3",style:{border:"1px solid var(--gray-a6)",borderRadius:8,cursor:"pointer",transition:"all 100ms"},role:"button",tabIndex:0,onClick:()=>{p(!1),Y()},onKeyDown:Ee=>{(Ee.key==="Enter"||Ee.key===" ")&&(Ee.preventDefault(),p(!1),Y())},onMouseEnter:Ee=>{Ee.currentTarget.style.borderColor="var(--gray-a8)",Ee.currentTarget.style.background="var(--gray-a2)"},onMouseLeave:Ee=>{Ee.currentTarget.style.borderColor="var(--gray-a6)",Ee.currentTarget.style.background="transparent"},children:[s.jsxs($,{align:"center",gap:"2",mb:"1",children:[s.jsx(yi,{width:16,height:16}),s.jsx(L,{weight:"medium",children:"Create Technical Offer"})]}),s.jsx(L,{size:"2",color:"gray",children:"Build a detailed technical offer from scratch."})]}),s.jsxs(X,{p:"3",style:{border:"1px solid var(--gray-a6)",borderRadius:8,cursor:ae.isPending?"not-allowed":"pointer",opacity:ae.isPending?.6:1,transition:"all 100ms"},role:"button",tabIndex:ae.isPending?-1:0,onClick:()=>{ae.isPending||(p(!1),ne())},onKeyDown:Ee=>{ae.isPending||(Ee.key==="Enter"||Ee.key===" ")&&(Ee.preventDefault(),p(!1),ne())},onMouseEnter:Ee=>{ae.isPending||(Ee.currentTarget.style.borderColor="var(--gray-a8)",Ee.currentTarget.style.background="var(--gray-a2)")},onMouseLeave:Ee=>{Ee.currentTarget.style.borderColor="var(--gray-a6)",Ee.currentTarget.style.background="transparent"},children:[s.jsxs($,{align:"center",gap:"2",mb:"1",children:[s.jsx(yCe,{width:16,height:16}),s.jsx(L,{weight:"medium",children:"Create Offer from Bookings"})]}),s.jsx(L,{size:"2",color:"gray",children:"Creates a technical offer based on the current bookings."})]}),s.jsxs(X,{p:"3",style:{border:"1px solid var(--gray-a6)",borderRadius:8,cursor:"pointer",transition:"all 100ms"},role:"button",tabIndex:0,onClick:()=>{p(!1),ie()},onKeyDown:Ee=>{(Ee.key==="Enter"||Ee.key===" ")&&(Ee.preventDefault(),p(!1),ie())},onMouseEnter:Ee=>{Ee.currentTarget.style.borderColor="var(--gray-a8)",Ee.currentTarget.style.background="var(--gray-a2)"},onMouseLeave:Ee=>{Ee.currentTarget.style.borderColor="var(--gray-a6)",Ee.currentTarget.style.background="transparent"},children:[s.jsxs($,{align:"center",gap:"2",mb:"1",children:[s.jsx(yi,{width:16,height:16}),s.jsx(L,{weight:"medium",children:"Create Pretty Offer"})]}),s.jsx(L,{size:"2",color:"gray",children:"Create a customer-friendly offer with a polished layout."})]})]}),s.jsx($,{gap:"2",mt:"4",justify:"end",children:s.jsx(Dn,{children:s.jsx(pe,{variant:"soft",children:"Close"})})})]})}),d&&s.jsx(rn,{open:!!d,onOpenChange:Ee=>!Ee&&h(null),children:s.jsxs(an,{maxWidth:"500px",children:[s.jsx(cn,{children:"Offer Link Ready"}),s.jsx(st,{my:"3"}),s.jsx(L,{size:"2",mb:"3",children:"The offer has been locked and is ready to share. Copy the link below to send it to your customer:"}),s.jsxs($,{gap:"2",align:"center",children:[s.jsx(qe,{readOnly:!0,value:he(d),style:{flex:1}}),s.jsx(DR,{text:he(d)})]}),s.jsx(L,{size:"1",color:"gray",mt:"2",children:"This link allows anyone to view and accept the offer without logging in."}),s.jsxs($,{gap:"2",mt:"4",justify:"end",children:[s.jsx(Dn,{children:s.jsx(pe,{variant:"soft",children:"Close"})}),s.jsx(pe,{onClick:()=>{window.open(he(d),"_blank")},children:"Open in New Tab"})]})]})}),o&&H==="technical"&&s.jsx(nJe,{open:o,onOpenChange:Ee=>{l(Ee),Ee||u(null)},jobId:e,companyId:t,offerId:c,onSaved:()=>{O.invalidateQueries({queryKey:["job-offers",e]})}}),o&&H==="pretty"&&s.jsx(cJe,{open:o,onOpenChange:Ee=>{l(Ee),Ee||u(null)},jobId:e,companyId:t,offerId:c,onSaved:()=>{O.invalidateQueries({queryKey:["job-offers",e]})}}),!i&&v&&s.jsx(rn,{open:!!v,onOpenChange:Ee=>{S(Ee?v:null),Ee||(w("accepted"),E(""))},children:s.jsxs(an,{maxWidth:"520px",children:[s.jsx(cn,{children:"Set offer response"}),s.jsx(st,{my:"3"}),s.jsxs($,{direction:"column",gap:"3",children:[s.jsxs(X,{children:[s.jsx(L,{size:"2",weight:"medium",mb:"1",children:"Response"}),s.jsx(JP,{value:b,onValueChange:Ee=>w(Ee),children:s.jsxs($,{gap:"3",wrap:"wrap",children:[s.jsx(sg,{value:"accepted",children:s.jsx(L,{weight:"medium",children:"Accepted"})}),s.jsx(sg,{value:"rejected",children:s.jsx(L,{weight:"medium",children:"Rejected"})}),s.jsx(sg,{value:"revision",children:s.jsx(L,{weight:"medium",children:"Wants revision"})})]})}),s.jsx(L,{size:"1",color:"gray",mt:"2",children:"Recorded by the project lead."})]}),b==="revision"&&s.jsxs(X,{children:[s.jsx(L,{size:"2",weight:"medium",mb:"1",children:"Message to customer"}),s.jsx(Ci,{placeholder:"Add the revision request message...",rows:4,value:R,onChange:Ee=>E(Ee.target.value)})]})]}),s.jsxs($,{gap:"2",mt:"4",justify:"end",children:[s.jsx(Dn,{children:s.jsx(pe,{variant:"soft",children:"Cancel"})}),s.jsx(pe,{onClick:()=>{ce.mutate({offerId:v.id,offerTitle:v.title,responseType:b,comment:R})},disabled:ce.isPending,children:ce.isPending?"Saving...":"Set response"})]})]})}),_&&s.jsx(rn,{open:!!_,onOpenChange:Ee=>!Ee&&N(null),children:s.jsxs(an,{maxWidth:"520px",children:[s.jsx(cn,{children:"Revision request"}),s.jsx(st,{my:"3"}),s.jsxs($,{direction:"column",gap:"2",children:[s.jsx(L,{size:"1",color:"gray",children:"Signed by"}),s.jsx(L,{size:"2",weight:"medium",children:_.revision_requested_by_name||""}),s.jsxs(X,{mt:"2",p:"3",style:{background:"var(--gray-a2)",borderRadius:8},children:[s.jsx(L,{size:"1",color:"gray",mb:"1",children:"Revision text"}),s.jsx("br",{}),s.jsx(L,{size:"2",children:((ke=_.revision_comment)==null?void 0:ke.trim())||"No message provided."})]})]}),s.jsx($,{gap:"2",mt:"4",justify:"end",children:s.jsx(Dn,{children:s.jsx(pe,{variant:"soft",children:"Close"})})})]})})]})}const hJe="https://api.gateway.conta-sandbox.no",pJe="https://api.gateway.conta-sandbox.no";async function mJe(){const{data:e,error:t}=await re.rpc("get_conta_api_key");if(t)throw t;return e}async function yJe(){const{data:e,error:t}=await re.rpc("get_accounting_api_environment");return t?"production":e==="sandbox"?"sandbox":"production"}async function iL(){const{data:e,error:t}=await re.rpc("get_accounting_read_only");return t?!0:e}async function c_(e,t={}){const n=await mJe();if(!n)throw new Error("No Conta API key configured for this company");const a=`${await yJe()==="sandbox"?pJe:hJe}${e}`;(t.method||"GET").toUpperCase();const o=t.body!==void 0&&t.body!==null,l=new Headers(t.headers||{});return o&&!l.has("Content-Type")&&l.set("Content-Type","application/json"),l.has("Accept")||l.set("Accept","application/json"),l.set("apiKey",n),fetch(a,{...t,headers:{...Object.fromEntries(l.entries())}})}async function u_(e){var n,i,r,a,o,l;let t=`HTTP ${e.status}: ${e.statusText}`;try{const c=await e.json();if(t=c.message||c.error||t,c.hint&&(t+=` - ${c.hint}`),(n=c.messages)!=null&&n.EN||(i=c.messages)!=null&&i.NO){const u=((r=c.messages)==null?void 0:r.EN)||((a=c.messages)==null?void 0:a.NO)||"";u&&(t=u)}if(Array.isArray(c.errors)&&c.errors.length>0){const u=c.errors[0],d=((o=u==null?void 0:u.messages)==null?void 0:o.EN)||((l=u==null?void 0:u.messages)==null?void 0:l.NO)||(u==null?void 0:u.id);d&&(t=`${t} - ${d}`)}}catch{try{const u=await e.clone().text();u&&(t=u)}catch{}}return e.status===401&&(t+=" - Check that your API key matches the Conta environment (sandbox vs production) and that VITE_CONTA_API_URL is set correctly."),t}const bo={get:async e=>{const t=await c_(e,{method:"GET"});if(!t.ok)throw new Error(await u_(t));return t.json()},post:async(e,t)=>{if(await iL())throw new Error("Write operations (POST) are not allowed when API is in read-only mode");const i=await c_(e,{method:"POST",body:t?JSON.stringify(t):void 0});if(!i.ok)throw new Error(await u_(i));return i.json()},put:async(e,t)=>{if(await iL())throw new Error("Write operations (PUT) are not allowed when API is in read-only mode");const i=await c_(e,{method:"PUT",body:t?JSON.stringify(t):void 0});if(!i.ok)throw new Error(await u_(i));return i.json()},delete:async e=>{if(await iL())throw new Error("Write operations (DELETE) are not allowed when API is in read-only mode");const n=await c_(e,{method:"DELETE"});if(!n.ok)throw new Error(await u_(n));return n.json()}};function gW(e){const t=l=>new Intl.NumberFormat("nb-NO",{style:"currency",currency:"NOK",minimumFractionDigits:2}).format(l),n=l=>new Date(l).toLocaleDateString("nb-NO",{year:"numeric",month:"short",day:"numeric"}),i=new Date().toISOString().split("T")[0],r=new Date(Date.now()+336*60*60*1e3).toISOString().split("T")[0];if(e.basis==="offer"){const{offer:l,customerName:c}=e,u=l.total_after_discount,d=u*l.vat_percent/100,h=u+d;return s.jsxs(Rt,{children:[s.jsx(He,{size:"4",mb:"3",children:"Invoice Preview"}),s.jsxs($,{direction:"column",gap:"3",children:[s.jsxs(X,{children:[s.jsx(L,{size:"2",color:"gray",weight:"medium",children:"Customer"}),s.jsx(L,{size:"3",children:c})]}),s.jsx(X,{children:s.jsxs($,{gap:"4",children:[s.jsxs(X,{children:[s.jsx(L,{size:"2",color:"gray",weight:"medium",children:"Invoice Date"}),s.jsx(L,{size:"3",children:n(i)})]}),s.jsxs(X,{children:[s.jsx(L,{size:"2",color:"gray",weight:"medium",children:"Due Date"}),s.jsx(L,{size:"3",children:n(r)})]})]})}),s.jsx(st,{}),s.jsxs(Hn,{children:[s.jsx(Qn,{children:s.jsxs(ht,{children:[s.jsx(ze,{children:"Description"}),s.jsx(ze,{style:{textAlign:"right"},children:"Quantity"}),s.jsx(ze,{style:{textAlign:"right"},children:"Unit Price"}),s.jsx(ze,{style:{textAlign:"right"},children:"Discount"}),s.jsx(ze,{style:{textAlign:"right"},children:"Total (ex VAT)"})]})}),s.jsx(qn,{children:s.jsxs(ht,{children:[s.jsx(Oe,{children:s.jsx(L,{weight:"medium",children:l.title||`Invoice for Offer v${l.version_number}`})}),s.jsx(Oe,{style:{textAlign:"right"},children:s.jsx(L,{children:"1"})}),s.jsx(Oe,{style:{textAlign:"right"},children:s.jsx(L,{children:t(l.total_after_discount)})}),s.jsx(Oe,{style:{textAlign:"right"},children:l.discount_percent>0?s.jsxs(mt,{color:"orange",children:[l.discount_percent,"%"]}):s.jsx(L,{color:"gray",children:""})}),s.jsx(Oe,{style:{textAlign:"right"},children:s.jsx(L,{weight:"medium",children:t(u)})})]})})]}),s.jsx(st,{}),s.jsxs($,{direction:"column",gap:"2",style:{alignItems:"flex-end"},children:[s.jsxs($,{justify:"between",style:{width:"100%",maxWidth:"300px"},children:[s.jsx(L,{size:"2",color:"gray",children:"Subtotal (ex VAT)"}),s.jsx(L,{children:t(u)})]}),s.jsxs($,{justify:"between",style:{width:"100%",maxWidth:"300px"},children:[s.jsxs(L,{size:"2",color:"gray",children:["VAT (",l.vat_percent,"%)"]}),s.jsx(L,{children:t(d)})]}),s.jsx(st,{}),s.jsxs($,{justify:"between",style:{width:"100%",maxWidth:"300px"},children:[s.jsx(L,{size:"3",weight:"bold",children:"Total (incl. VAT)"}),s.jsx(L,{size:"4",weight:"bold",children:t(h)})]})]})]})]})}const{bookings:a,customerName:o}=e;return s.jsxs(Rt,{children:[s.jsx(He,{size:"4",mb:"3",children:"Invoice Preview"}),s.jsxs($,{direction:"column",gap:"3",children:[s.jsxs(X,{children:[s.jsx(L,{size:"2",color:"gray",weight:"medium",children:"Customer"}),s.jsx(L,{size:"3",children:o})]}),s.jsx(X,{children:s.jsxs($,{gap:"4",children:[s.jsxs(X,{children:[s.jsx(L,{size:"2",color:"gray",weight:"medium",children:"Invoice Date"}),s.jsx(L,{size:"3",children:n(i)})]}),s.jsxs(X,{children:[s.jsx(L,{size:"2",color:"gray",weight:"medium",children:"Due Date"}),s.jsx(L,{size:"3",children:n(r)})]})]})}),s.jsx(st,{}),s.jsx(X,{style:{overflowX:"auto"},children:s.jsxs(Hn,{style:{width:"100%",minWidth:720},children:[s.jsx(Qn,{children:s.jsxs(ht,{children:[s.jsx(ze,{children:"Brand"}),s.jsx(ze,{children:"Model"}),s.jsx(ze,{children:"Description"}),s.jsx(ze,{style:{textAlign:"right"},children:"Quantity"}),s.jsx(ze,{style:{textAlign:"right"},children:"Unit Price"}),s.jsx(ze,{style:{textAlign:"right"},children:"Total (ex VAT)"})]})}),s.jsx(qn,{children:a.all.map(l=>s.jsxs(ht,{children:[s.jsx(Oe,{children:s.jsx(L,{children:l.brandName||""})}),s.jsx(Oe,{children:s.jsx(L,{children:l.model||""})}),s.jsx(Oe,{children:s.jsx(L,{children:l.description})}),s.jsx(Oe,{style:{textAlign:"right"},children:s.jsx(L,{children:l.type==="crew"||l.type==="transport"?`${l.quantity} day${l.quantity!==1?"s":""}`:l.quantity})}),s.jsx(Oe,{style:{textAlign:"right"},children:s.jsx(L,{children:t(l.unitPrice)})}),s.jsx(Oe,{style:{textAlign:"right"},children:s.jsx(L,{weight:"medium",children:t(l.totalPrice)})})]},l.id))})]})}),s.jsx(st,{}),s.jsxs($,{direction:"column",gap:"2",style:{alignItems:"flex-end"},children:[s.jsxs($,{justify:"between",style:{width:"100%",maxWidth:"300px"},children:[s.jsx(L,{size:"2",color:"gray",children:"Subtotal (ex VAT)"}),s.jsx(L,{children:t(a.totalExVat)})]}),s.jsxs($,{justify:"between",style:{width:"100%",maxWidth:"300px"},children:[s.jsx(L,{size:"2",color:"gray",children:"VAT (25%)"}),s.jsx(L,{children:t(a.totalVat)})]}),s.jsx(st,{}),s.jsxs($,{justify:"between",style:{width:"100%",maxWidth:"300px"},children:[s.jsx(L,{size:"3",weight:"bold",children:"Total (incl. VAT)"}),s.jsx(L,{size:"4",weight:"bold",children:t(a.totalWithVat)})]})]})]})]})}function gJe({jobId:e}){const{data:t=[],isLoading:n}=et({queryKey:["jobs",e,"invoices"],queryFn:async()=>{const{data:h,error:m}=await re.from("job_invoices").select("*").eq("job_id",e).order("created_at",{ascending:!1});if(m)throw m;return h}}),i=g.useRef(!1),r=h=>{const m=h==null?void 0:h.status,p=h==null?void 0:h.extendedStatus;return m==="CLOSED_BY_PAYMENT"||p==="PAID"},a=h=>{var v,S;const m=(v=h.conta_response)==null?void 0:v.status,p=(S=h.conta_response)==null?void 0:S.extendedStatus;return r(h.conta_response)?{label:"Paid",color:"green",icon:Ic}:m==="CLOSED_BY_CREDIT_NOTE"||p==="CREDIT_NOTE"?{label:"Credited",color:"orange",icon:Ox}:m==="INVOICE_CREATED"||m==="PAYMENT_REMINDER_CREATED"||["NOT_OVERDUE","PAST_FOLLOW_UP_DATE","PAST_FOLLOW_UP_DATE_BY_14_DAYS","REMINDER_SENT","PAYMENT_REMINDER_PAST_FOLLOW_UP_DATE"].includes(p||"")?{label:"Sent",color:"blue",icon:Ic}:h.status==="failed"?{label:"Failed",color:"red",icon:Ox}:h.status==="created"?{label:"Created",color:"green",icon:Ic}:{label:"Pending",color:"gray",icon:null}},o=h=>{var v,S;return(((v=h.conta_response)==null?void 0:v.invoiceRecipients)||((S=h.invoice_data)==null?void 0:S.invoiceRecipients)||[]).some(b=>b.type==="EHF"||b.deliveryMethod==="EHF")?"EHF":"Manual"},l=async(h,m)=>{var b;const p=await bo.get(`/invoice/organizations/${h}/invoices?invoiceNo=${encodeURIComponent(m)}`),S=(b=(Array.isArray(p)?p:Array.isArray(p.hits)?p.hits:[])[0])==null?void 0:b.id;return S?bo.get(`/invoice/organizations/${h}/invoices/${S}`):null},c=g.useCallback(async()=>{var m,p,v,S,b;const h=t.filter(w=>w.conta_invoice_id);if(!(h.length===0||i.current)){i.current=!0;try{let w=!1;for(const R of h)try{const E=R.conta_invoice_id;if(!E)continue;const _=((m=R.conta_response)==null?void 0:m.id)||((p=R.conta_response)==null?void 0:p.invoiceId),N=_?await bo.get(`/invoice/organizations/${R.organization_id}/invoices/${_}`):await l(R.organization_id,E);if(!N){console.warn("Conta invoice not found for number",{invoiceId:R.id,contaInvoiceId:R.conta_invoice_id});continue}const{error:O}=await re.from("job_invoices").update({conta_response:N,conta_invoice_id:R.conta_invoice_id||((v=N==null?void 0:N.invoiceNo)==null?void 0:v.toString())||((S=N==null?void 0:N.id)==null?void 0:S.toString())||((b=N==null?void 0:N.invoiceId)==null?void 0:b.toString())||null}).eq("id",R.id);O&&console.warn("Failed to persist Conta invoice response",{invoiceId:R.id,contaInvoiceId:R.conta_invoice_id,error:O}),r(N)&&(w=!0)}catch(E){console.warn("Failed to sync Conta invoice status",{invoiceId:R.id,contaInvoiceId:R.conta_invoice_id,error:E})}w&&await re.from("jobs").update({status:"paid"}).eq("id",e).in("status",["invoiced"])}finally{i.current=!1}}},[t,e]);g.useEffect(()=>{if(t.length===0)return;let h=!0;const m=async()=>{h&&await c()};m();const p=window.setInterval(m,300*1e3);return()=>{h=!1,window.clearInterval(p)}},[t,c]);const u=h=>new Date(h).toLocaleDateString("nb-NO",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),d=(h,m)=>{if(!m)return null;const p="https://api.gateway.conta-sandbox.no";return`${p.includes("sandbox")||p.includes("test")?"https://app.conta-sandbox.no":"https://app.conta.no"}/faktura/${h}/fakturaer/${m}`};return n?s.jsxs(Rt,{children:[s.jsx(He,{size:"4",mb:"3",children:"Invoice History"}),s.jsx(L,{children:"Loading invoice history..."})]}):t.length===0?s.jsxs(Rt,{children:[s.jsx(He,{size:"4",mb:"3",children:"Invoice History"}),s.jsxs(X,{p:"4",style:{border:"2px dashed var(--gray-a6)",borderRadius:8,textAlign:"center"},children:[s.jsx(L,{size:"3",color:"gray",children:"No invoices created yet"}),s.jsx(L,{size:"2",color:"gray",mt:"2",style:{display:"block"},children:"Invoices created through this system will appear here"})]})]}):s.jsxs(Rt,{children:[s.jsx(He,{size:"4",mb:"3",children:"Invoice History"}),s.jsx(X,{style:{overflowX:"auto"},children:s.jsxs(Hn,{style:{width:"100%",minWidth:720},children:[s.jsx(Qn,{children:s.jsxs(ht,{children:[s.jsx(ze,{children:"Created"}),s.jsx(ze,{children:"Basis"}),s.jsx(ze,{children:"Status"}),s.jsx(ze,{children:"Delivery"}),s.jsx(ze,{children:"Conta Invoice ID"}),s.jsx(ze,{style:{textAlign:"right"},children:"Actions"})]})}),s.jsx(qn,{children:t.map(h=>{var S,b,w,R,E,_,N,O,j,D;const m=h.conta_invoice_id||((b=(S=h.conta_response)==null?void 0:S.invoiceNo)==null?void 0:b.toString())||((R=(w=h.conta_response)==null?void 0:w.id)==null?void 0:R.toString())||((_=(E=h.conta_response)==null?void 0:E.invoiceId)==null?void 0:_.toString())||null,p=((O=(N=h.conta_response)==null?void 0:N.id)==null?void 0:O.toString())||((D=(j=h.conta_response)==null?void 0:j.invoiceId)==null?void 0:D.toString())||m,v=d(h.organization_id,p);return s.jsxs(ht,{children:[s.jsx(Oe,{children:s.jsx(L,{size:"2",children:u(h.created_at)})}),s.jsx(Oe,{children:s.jsx(mt,{variant:"soft",color:h.invoice_basis==="offer"?"blue":"purple",children:h.invoice_basis==="offer"?"Offer":"Bookings"})}),s.jsx(Oe,{children:(()=>{const P=a(h);if(!P.icon)return s.jsx(L,{size:"2",color:P.color,children:P.label});const B=P.icon;return s.jsxs($,{align:"center",gap:"2",children:[s.jsx(B,{width:16,height:16,color:`var(--${P.color}-9)`}),s.jsx(L,{size:"2",color:P.color,weight:"medium",children:P.label})]})})()}),s.jsx(Oe,{children:s.jsx(L,{size:"2",color:"gray",children:o(h)})}),s.jsx(Oe,{children:m?s.jsx(L,{size:"2",weight:"medium",style:{fontFamily:"monospace"},children:m}):s.jsx(L,{size:"2",color:"gray",children:""})}),s.jsxs(Oe,{style:{textAlign:"right"},children:[v&&s.jsxs(pe,{size:"1",variant:"ghost",onClick:()=>window.open(v,"_blank"),children:[s.jsx(zLe,{width:14,height:14}),"View in Conta"]}),h.error_message&&s.jsx(X,{mt:"2",children:s.jsx(L,{size:"1",color:"red",children:h.error_message})})]})]},h.id)})})]})})]})}function vJe({jobId:e,companyId:t,defaultVatPercent:n=25}){return{queryKey:["jobs",e,"invoice","bookings",n],queryFn:async()=>{const{data:i}=await re.from("company_expansions").select("vehicle_daily_rate, vehicle_distance_rate, vehicle_distance_increment").eq("company_id",t).maybeSingle(),r=(i==null?void 0:i.vehicle_daily_rate)??0;i==null||i.vehicle_distance_rate,i==null||i.vehicle_distance_increment;const{data:a,error:o}=await re.from("time_periods").select("id, title, start_at, end_at, category").eq("job_id",e).eq("deleted",!1);if(o)throw o;if(!a||a.length===0)return{equipment:[],crew:[],transport:[],all:[],totalExVat:0,totalVat:0,totalWithVat:0};const l=a.map(M=>M.id),c=new Map(a.map(M=>[M.id,M])),u=(M,z)=>{const U=new Date(M),te=new Date(z).getTime()-U.getTime(),q=Math.ceil(te/(1e3*60*60*24));return Math.max(1,q)},{data:d,error:h}=await re.from("reserved_items").select(`
          id, time_period_id, item_id, quantity,
          item:item_id (
            id, name, model,
            brand:brand_id ( name )
          )
        `).in("time_period_id",l);if(h)throw h;const m=(d==null?void 0:d.map(M=>M.item_id).filter(M=>!!M))??[],p=new Map;if(m.length>0){const{data:M,error:z}=await re.from("item_current_price").select("item_id, current_price").in("item_id",m);if(z)throw z;if(M)for(const U of M)p.set(U.item_id,U.current_price)}const{data:v,error:S}=await re.from("reserved_crew").select("id, time_period_id, user_id").in("time_period_id",l);if(S)throw S;const b=(v==null?void 0:v.map(M=>M.user_id).filter(M=>!!M))??[],w=new Map;if(b.length>0){const{data:M,error:z}=await re.from("profiles").select("user_id, display_name, email").in("user_id",b);if(z)throw z;if(M)for(const U of M)w.set(U.user_id,U)}const{data:R,error:E}=await re.from("reserved_vehicles").select(`
          id, time_period_id, vehicle_id,
          vehicle:vehicle_id (
            id, name
          ),
          time_period:time_period_id (
            id, start_at, end_at
          )
        `).in("time_period_id",l);if(E)throw E;const _=[];if(d)for(const M of d){const z=Array.isArray(M.item)?M.item[0]:M.item,U=c.get(M.time_period_id);if(!z||!U)continue;const K=Array.isArray(z.brand)?z.brand[0]:z.brand,te=p.get(M.item_id)??0,q=M.quantity,V=te*q;_.push({id:M.id,type:"equipment",description:z.name||"Equipment",brandName:(K==null?void 0:K.name)??null,model:z.model??null,quantity:q,unitPrice:te,totalPrice:V,vatPercent:n,timePeriodId:M.time_period_id,timePeriodTitle:U.title,startAt:U.start_at,endAt:U.end_at})}const N=[];if(v)for(const z of v){const U=w.get(z.user_id),K=c.get(z.time_period_id);if(!U||!K)continue;const te=K.start_at,q=K.end_at,V=u(te,q),Q=0,ce=V,ae=Q*ce;N.push({id:z.id,type:"crew",description:`${U.display_name||U.email||"Crew member"}`,brandName:null,model:null,quantity:ce,unitPrice:Q,totalPrice:ae,vatPercent:n,timePeriodId:z.time_period_id,timePeriodTitle:K.title,startAt:te,endAt:q})}const O=[];if(R)for(const M of R){const z=Array.isArray(M.vehicle)?M.vehicle[0]:M.vehicle,U=Array.isArray(M.time_period)?M.time_period[0]:M.time_period;if(!z||!U)continue;const K=U.start_at,te=U.end_at,q=u(K,te),V=r,Q=q,ce=V*Q;O.push({id:M.id,type:"transport",description:z.name||"Vehicle",brandName:null,model:null,quantity:Q,unitPrice:V,totalPrice:ce,vatPercent:n,timePeriodId:M.time_period_id,timePeriodTitle:U.title||null,startAt:K,endAt:te})}const j=[..._,...N,...O],D=j.reduce((M,z)=>M+z.totalPrice,0),P=j.reduce((M,z)=>M+z.totalPrice*z.vatPercent/100,0),B=D+P;return{equipment:_,crew:N,transport:O,all:j,totalExVat:D,totalVat:P,totalWithVat:B}}}}const SJe=(e,t)=>e?`#${String(e).padStart(6,"0")}`:t?`#${t}`:"#unknown",ife=({jobTitle:e,jobnr:t,jobId:n})=>`Job ${SJe(t,n)} - ${e}`,bJe=e=>e?Array.isArray(e)?e:Array.isArray(e.hits)?e.hits:Array.isArray(e.data)?e.data:[]:[];async function rfe(e,t){const n=t.jobnr!==null&&t.jobnr!==void 0?String(t.jobnr):t.jobTitle||t.jobId,i=await bo.get(`/invoice/organizations/${e}/projects?q=${encodeURIComponent(n)}`),r=bJe(i);if(!r.length)return null;const a=t.jobnr?String(t.jobnr):null,o=t.jobnr?String(t.jobnr).padStart(6,"0"):null,l=t.jobId.toLowerCase(),c=ife(t).toLowerCase(),d=r.find(h=>{const m=(h.name||"").toLowerCase();return m?!!(m===c||a&&m.includes(a)||o&&m.includes(o)||l&&m.includes(l)):!1})||r[0];return d!=null&&d.id?Number(d.id):null}async function vW(e,t){const n=await rfe(e,t);if(n)return n;const i=ife(t),r=`Subb job ${t.jobId}`,a=await bo.post(`/invoice/organizations/${e}/projects`,{name:i,description:r,...t.customerId?{customerId:t.customerId}:{}});return a!=null&&a.id?Number(a.id):null}function xJe({jobId:e,job:t}){var jt,Ht;const{companyId:n}=En(),i=Yt(),{info:r,success:a,error:o}=Jt(),[l,c]=g.useState(t.invoice_basis??null),[u,d]=g.useState(!1),[h,m]=g.useState(null),[p,v]=g.useState(null),[S,b]=g.useState(!1),[w,R]=g.useState(""),[E,_]=g.useState(null),[N,O]=g.useState(null),[j,D]=g.useState(!1),[P,B]=g.useState(""),[M,z]=g.useState(null),{data:U}=et({queryKey:["auth","user"],queryFn:async()=>{const{data:Ie}=await re.auth.getUser();return Ie.user}}),K=g.useMemo(()=>{const Ie="https://api.gateway.conta-sandbox.no";return Ie.includes("sandbox")||Ie.includes("test")},[]),{data:te=[],isLoading:q}=et({queryKey:["jobs",e,"invoice","accepted-offers"],queryFn:async()=>{const{data:Ie,error:nt}=await re.from("job_offers").select("*").eq("job_id",e).eq("status","accepted").order("accepted_at",{ascending:!1});if(nt)throw nt;return Ie}}),{data:V,isLoading:Q}=et({...vJe({jobId:e,companyId:n??"",defaultVatPercent:25}),enabled:l==="bookings"&&!!n});g.useEffect(()=>{d(!1),c(t.invoice_basis??null)},[e]),g.useEffect(()=>{u||c(t.invoice_basis??null)},[t.invoice_basis,u]);const ce=bt({mutationFn:async Ie=>{const{error:nt}=await re.from("jobs").update({invoice_basis:Ie}).eq("id",e);if(nt)throw nt;return Ie},onSuccess:Ie=>{c(Ie),d(!1),i.invalidateQueries({queryKey:["jobs-detail",e]})},onError:Ie=>{d(!0),o("Failed to Save Invoice Basis",(Ie==null?void 0:Ie.message)||"An error occurred while saving your selection. Please try again.")}}),ae=Ie=>{d(!0),ce.mutate(Ie)},G=Ie=>new Intl.NumberFormat("nb-NO",{style:"currency",currency:"NOK",minimumFractionDigits:2}).format(Ie),H=Ie=>Ie?new Date(Ie).toLocaleDateString("nb-NO",{year:"numeric",month:"short",day:"numeric"}):"",{data:T}=et({queryKey:["company",n,"accounting-config"],queryFn:async()=>{if(!n)return null;const{data:Ie,error:nt}=await re.from("company_expansions").select("accounting_organization_id, accounting_software").eq("company_id",n).maybeSingle();if(nt)throw nt;return Ie},enabled:!!n}),Y=Ie=>{const nt=Ie.replace(/\r/g,"").trim();let Lt="",kt="",vn="",Rn="";const yn=nt.match(/\b(\d{4,5})\b/);if(yn&&yn.index!==void 0){kt=yn[1];const Ut=nt.slice(0,yn.index).trim(),ut=nt.slice(yn.index+yn[1].length).trim();Lt=Ut.split(/[,\n]+/).map(Wt=>Wt.trim()).filter(Boolean)[0]||Ut;const Zt=ut.split(/[,\n]+/).map(Wt=>Wt.trim()).filter(Boolean);vn=Zt[0]||"",Zt.length>1&&(Rn=Zt[Zt.length-1]||"")}else{const Ut=nt.split(/[,\n]+/).map(Ft=>Ft.trim()).filter(Boolean);Lt=Ut[0]||"";const ut=Ut.find(Ft=>/\d{4,5}/.test(Ft));if(ut){const Ft=ut.match(/\b(\d{4,5})\b/);Ft&&(kt=Ft[1],vn=ut.replace(Ft[1],"").trim())}!vn&&Ut.length>1&&(vn=Ut[1]||""),Ut.length>2&&(Rn=Ut[Ut.length-1]||"")}return{addressLine1:Lt,addressPostcode:kt,addressCity:vn,addressCountry:Rn}},ie=async Ie=>{var kt;const Lt=(((kt=Ie==null?void 0:Ie.vat_number)==null?void 0:kt.trim())||"").replace(/\D/g,"");if(!Lt)return{recipients:[{type:"DO_NOT_DELIVER"}],requiresManualSend:!0,reason:"Customer organization number is missing, so EHF cannot be used."};if(!ne(Lt))return{recipients:[{type:"DO_NOT_DELIVER"}],requiresManualSend:!0,reason:"Customer organization number is invalid, so EHF cannot be used."};try{return(await bo.get(`/invoice/conta-ehf/recipients/${Lt}`)).canReceiveInvoices?{recipients:[{type:"EHF",ehfRecipient:Lt}],requiresManualSend:!1}:{recipients:[{type:"DO_NOT_DELIVER"}],requiresManualSend:!0,reason:"Customer cannot receive invoices via EHF."}}catch{return{recipients:[{type:"DO_NOT_DELIVER"}],requiresManualSend:!0,reason:"Could not verify if the customer can receive EHF."}}},ne=Ie=>{if(!/^\d{9}$/.test(Ie))return!1;const nt=[3,2,7,6,5,4,3,2],Lt=Ie.split("").map(yn=>Number(yn)),vn=nt.reduce((yn,Ut,ut)=>yn+Ut*Lt[ut],0)%11,Rn=vn===0?0:11-vn;return Rn===11?!1:Rn===Lt[8]},J=()=>t.jobnr?String(t.jobnr):String(e),ee=Ie=>{const nt=`${t.title}${t.jobnr?` (#${t.jobnr})`:""}`;if(Ie.type==="offer")return`Job: ${nt}
`;const Lt=Ie.bookingsCount??0;return`Job: ${nt}
Invoice based on bookings (${Lt} line${Lt!==1?"s":""})`},se=Ie=>{z(Ie);const nt=Ie.kind==="offer"?ee({type:"offer",offerTitle:Ie.offer.title||`v${Ie.offer.version_number}`}):Ie.kind==="bookings"?ee({type:"bookings",bookingsCount:Ie.bookings.all.length}):ee({type:"offer"});B(nt),D(!0)},de=()=>{var Ie,nt;return((Ie=t.project_lead)==null?void 0:Ie.display_name)||((nt=t.project_lead)==null?void 0:nt.email)||void 0},he=()=>{var Ie;return((Ie=t.customer_contact)==null?void 0:Ie.name)||void 0},me=()=>t.jobnr?`Job #${String(t.jobnr).padStart(6,"0")}`:`Job #${e}`,we=()=>{const Ie=[me()],nt=de();return nt&&Ie.push(nt),Ie.join("  ")},le=async(Ie,nt)=>{const Lt=(nt==null?void 0:nt.invoiceFileId)||(nt==null?void 0:nt.attachmentFileId);if(!Lt){o("PDF Not Available","Conta did not return a file reference for this invoice.");return}try{const kt=await bo.get(`/invoice/organizations/${Ie}/files/${Lt}`);if(!kt.fileUrl){o("PDF Not Available","Conta did not return a download link for this invoice.");return}window.open(kt.fileUrl,"_blank","noopener")}catch(kt){o("PDF Download Failed",(kt==null?void 0:kt.message)||"Failed to download invoice PDF from Conta.")}},ue=async Ie=>{try{const nt=await bo.get(`/invoice/organizations/${Ie}/bank-accounts`);return!Array.isArray(nt)||nt.length===0?(r("Missing Bank Account","Conta requires a bank account on the organization before invoices can be created."),!1):!0}catch(nt){return o("Bank Account Check Failed",(nt==null?void 0:nt.message)||"Could not verify Conta bank account."),!1}},De=async(Ie,nt)=>{var Ft,Zt,Wt,Bn,Vt,br,Ur,Qi;if(!nt)return null;const Lt=((Ft=nt.name)==null?void 0:Ft.trim())||"",kt=Lt||((Zt=nt.email)==null?void 0:Zt.trim())||((Wt=nt.phone)==null?void 0:Wt.trim())||"";if(!kt)throw new Error("Conta requires a customer name, email, or phone number to create an invoice.");const vn=((Bn=nt.address)==null?void 0:Bn.trim())||"";if(!vn)throw new Error("Conta requires a customer address. Add an address to the customer record before invoicing.");const{addressLine1:Rn,addressPostcode:yn,addressCity:Ut,addressCountry:ut}=Y(vn);if(!Rn||!yn||!Ut)throw new Error('Conta requires a customer address with line, postal code, and city. Update the customer address (e.g. "Street 1, 1234 City").');try{if(Lt.length>0){const Ii=await bo.get(`/invoice/organizations/${Ie}/customers?q=${encodeURIComponent(Lt)}`),xr=Array.isArray(Ii.hits)?Ii.hits:[];if(xr.length){const Vr=(Vt=xr[0])==null?void 0:Vt.id;if(Vr)return Vr}}return(await bo.post(`/invoice/organizations/${Ie}/customers`,{name:kt,customerType:"ORGANIZATION",orgNo:((br=nt.vat_number)==null?void 0:br.trim())||void 0,emailAddress:((Ur=nt.email)==null?void 0:Ur.trim())||void 0,phoneNo:((Qi=nt.phone)==null?void 0:Qi.trim())||void 0,customerAddressLine1:Rn,customerAddressPostcode:yn,customerAddressCity:Ut,customerAddressCountry:ut||void 0})).id}catch(Mi){throw console.error("Failed to find/create Conta customer:",Mi),Mi}},Le=Ie=>Ie===0?"no.vat":Ie>=20?"high":Ie>=10?"medium":Ie>0?"low":"high",Be=bt({mutationFn:async({offer:Ie,organizationId:nt,invoiceRecipients:Lt,downloadPdfAfterCreate:kt,invoiceMessage:vn})=>{var Vt,br,Ur;const Rn=await De(nt,t.customer);if(!Rn)throw new Error("Conta customer could not be created or found. Check customer name and address.");let yn=null;try{yn=await vW(nt,{jobTitle:t.title,jobnr:t.jobnr,jobId:e,customerId:Rn})}catch(Qi){console.warn("Failed to resolve Conta project for job",Qi)}const Ut=Lt[0]&&Lt[0].type==="EHF",ut={customerId:Rn,invoiceDate:new Date().toISOString().split("T")[0],invoiceDueDate:new Date(Date.now()+336*60*60*1e3).toISOString().split("T")[0],invoiceCurrency:"NOK",...yn?{projectId:yn}:{},...Ut?{invoiceRecipients:Lt}:{},...Ut?{ehfOrderReference:J()}:{},...we()?{orgReference:we()}:{},...he()?{customerReference:he()}:{},personalMessage:(vn==null?void 0:vn.trim())||ee({type:"offer",offerTitle:Ie.title||`v${Ie.version_number}`}),invoiceLines:[{description:Ie.title||`Invoice for Job ${t.jobnr||e}`,quantity:1,price:Ie.total_after_discount,discount:Ie.discount_percent,vatCode:Le(Ie.vat_percent),lineNo:1}]},{data:Ft,error:Zt}=await re.from("job_invoices").insert({job_id:e,offer_id:Ie.id,organization_id:nt,conta_customer_id:Rn,invoice_basis:"offer",invoice_data:ut,status:"pending",created_by_user_id:(U==null?void 0:U.id)??null}).select().single();Zt&&console.error("Failed to create invoice record:",Zt);let Wt,Bn=null;try{Wt=await bo.post(`/invoice/organizations/${nt}/invoices`,ut),Ft&&await re.from("job_invoices").update({status:"created",conta_invoice_id:((Vt=Wt==null?void 0:Wt.invoiceNo)==null?void 0:Vt.toString())||((br=Wt==null?void 0:Wt.id)==null?void 0:br.toString())||((Ur=Wt==null?void 0:Wt.invoiceId)==null?void 0:Ur.toString())||null,conta_response:Wt}).eq("id",Ft.id)}catch(Qi){throw Bn=(Qi==null?void 0:Qi.message)||"Unknown error",Ft&&await re.from("job_invoices").update({status:"failed",error_message:Bn}).eq("id",Ft.id),Qi}return{response:Wt,invoiceRecord:Ft}},onSuccess:async(Ie,nt)=>{var kt,vn;const Lt=((kt=Ie.response)==null?void 0:kt.id)||((vn=Ie.response)==null?void 0:vn.invoiceId);if(a("Invoice Created",`Invoice has been successfully created${K?" (TEST MODE)":""}${Lt?` with ID: ${Lt}`:""}.`),t.status!=="invoiced"&&t.status!=="paid"){const{error:Rn}=await re.from("jobs").update({status:"invoiced"}).eq("id",e);Rn||i.invalidateQueries({queryKey:["jobs",e]})}i.invalidateQueries({queryKey:["jobs",e,"invoice","accepted-offers"]}),i.invalidateQueries({queryKey:["jobs",e,"invoices"]}),nt.downloadPdfAfterCreate&&await le(nt.organizationId,Ie.response)},onError:Ie=>{o("Failed to Create Invoice",(Ie==null?void 0:Ie.message)||"An error occurred while creating the invoice. Please try again.")}}),ke=bt({mutationFn:async({bookingsData:Ie,organizationId:nt,invoiceRecipients:Lt,downloadPdfAfterCreate:kt,invoiceMessage:vn})=>{var br,Ur,Qi;const Rn=await De(nt,t.customer);if(!Rn)throw new Error("Conta customer could not be created or found. Check customer name and address.");let yn=null;try{yn=await vW(nt,{jobTitle:t.title,jobnr:t.jobnr,jobId:e,customerId:Rn})}catch(Mi){console.warn("Failed to resolve Conta project for job",Mi)}if(Ie.all.length===0)throw new Error("No bookings available to invoice");const Ut=Ie.all.map((Mi,Ii)=>({description:Mi.description,quantity:Mi.quantity,price:Mi.unitPrice,discount:0,vatCode:Le(Mi.vatPercent),lineNo:Ii+1})),ut=Lt[0]&&Lt[0].type==="EHF",Ft={customerId:Rn,invoiceDate:new Date().toISOString().split("T")[0],invoiceDueDate:new Date(Date.now()+336*60*60*1e3).toISOString().split("T")[0],invoiceCurrency:"NOK",...yn?{projectId:yn}:{},...ut?{invoiceRecipients:Lt}:{},...ut?{ehfOrderReference:J()}:{},...we()?{orgReference:we()}:{},...he()?{customerReference:he()}:{},personalMessage:(vn==null?void 0:vn.trim())||ee({type:"bookings",bookingsCount:Ie.all.length}),invoiceLines:Ut},{data:Zt,error:Wt}=await re.from("job_invoices").insert({job_id:e,organization_id:nt,conta_customer_id:Rn,invoice_basis:"bookings",invoice_data:Ft,status:"pending",created_by_user_id:(U==null?void 0:U.id)??null}).select().single();Wt&&console.error("Failed to create invoice record:",Wt);let Bn,Vt=null;try{Bn=await bo.post(`/invoice/organizations/${nt}/invoices`,Ft),Zt&&await re.from("job_invoices").update({status:"created",conta_invoice_id:((br=Bn==null?void 0:Bn.invoiceNo)==null?void 0:br.toString())||((Ur=Bn==null?void 0:Bn.id)==null?void 0:Ur.toString())||((Qi=Bn==null?void 0:Bn.invoiceId)==null?void 0:Qi.toString())||null,conta_response:Bn}).eq("id",Zt.id)}catch(Mi){throw Vt=(Mi==null?void 0:Mi.message)||"Unknown error",Zt&&await re.from("job_invoices").update({status:"failed",error_message:Vt}).eq("id",Zt.id),Mi}return{response:Bn,invoiceRecord:Zt}},onSuccess:async(Ie,nt)=>{var kt,vn;const Lt=((kt=Ie.response)==null?void 0:kt.id)||((vn=Ie.response)==null?void 0:vn.invoiceId);if(a("Invoice Created",`Invoice has been successfully created${K?" (TEST MODE)":""}${Lt?` with ID: ${Lt}`:""}.`),t.status!=="invoiced"&&t.status!=="paid"){const{error:Rn}=await re.from("jobs").update({status:"invoiced"}).eq("id",e);Rn||i.invalidateQueries({queryKey:["jobs",e]})}i.invalidateQueries({queryKey:["jobs",e,"invoice","bookings"]}),i.invalidateQueries({queryKey:["jobs",e,"invoices"]}),nt.downloadPdfAfterCreate&&await le(nt.organizationId,Ie.response)},onError:Ie=>{o("Failed to Create Invoice",(Ie==null?void 0:Ie.message)||"An error occurred while creating the invoice. Please try again.")}}),Ee=(Ie,nt,Lt)=>{_(Ie),O(nt),R(Lt||"Customer cannot receive EHF."),b(!0)},lt=()=>{if(!E||!N){b(!1);return}if(!(T!=null&&T.accounting_organization_id)){b(!1);return}const Ie=T.accounting_organization_id;E.kind==="offer"?Be.mutate({offer:E.offer,organizationId:Ie,invoiceRecipients:N,downloadPdfAfterCreate:!0,invoiceMessage:E.invoiceMessage}):E.kind==="bookings"&&ke.mutate({bookingsData:E.bookings,organizationId:Ie,invoiceRecipients:N,downloadPdfAfterCreate:!0,invoiceMessage:E.invoiceMessage}),b(!1),_(null),O(null),R("")},Mt=(Ie,nt=!1)=>{const Lt=te.find(kt=>kt.id===Ie);if(!Lt){o("Error","Offer not found");return}if(!(T!=null&&T.accounting_organization_id)){r("Accounting Integration Required","Please configure your accounting software organization ID in Company settings before creating invoices.");return}if(T.accounting_software!=="conta"){r("Accounting Software Not Supported","Currently only Conta accounting software is supported for invoice creation.");return}if(nt){m(Lt);return}se({kind:"offer",offer:Lt,invoiceMessage:""})},St=async(Ie,nt)=>{if(!(T!=null&&T.accounting_organization_id)||!await ue(T.accounting_organization_id))return;const kt=await ie(t.customer);if(kt.requiresManualSend){Ee({kind:"offer",offer:Ie,invoiceMessage:nt},kt.recipients,kt.reason);return}Be.mutate({offer:Ie,organizationId:T.accounting_organization_id,invoiceRecipients:kt.recipients,invoiceMessage:nt})},tt=(Ie=!1)=>{if(!V||V.all.length===0){r("No Bookings","There are no bookings available to invoice.");return}if(!(T!=null&&T.accounting_organization_id)){r("Accounting Integration Required","Please configure your accounting software organization ID in Company settings before creating invoices.");return}if(T.accounting_software!=="conta"){r("Accounting Software Not Supported","Currently only Conta accounting software is supported for invoice creation.");return}if(Ie){v(V);return}se({kind:"bookings",bookings:V,invoiceMessage:""})},Je=async(Ie,nt)=>{if(!(T!=null&&T.accounting_organization_id)||!await ue(T.accounting_organization_id))return;const kt=await ie(t.customer);if(kt.requiresManualSend){Ee({kind:"bookings",bookings:Ie,invoiceMessage:nt},kt.recipients,kt.reason);return}ke.mutate({bookingsData:Ie,organizationId:T.accounting_organization_id,invoiceRecipients:kt.recipients,invoiceMessage:nt})},Ve=()=>{if(xt.length===0){r("No Offers","There are no offers ready to invoice.");return}if(!(T!=null&&T.accounting_organization_id)){r("Accounting Integration Required","Please configure your accounting software organization ID in Company settings before creating invoices.");return}if(T.accounting_software!=="conta"){r("Accounting Software Not Supported","Currently only Conta accounting software is supported for invoice creation.");return}se({kind:"all-offers",invoiceMessage:""})},qt=async Ie=>{if(T!=null&&T.accounting_organization_id)try{if(!await ue(T.accounting_organization_id))return;const Lt=await ie(t.customer);if(Lt.requiresManualSend){Ee({kind:"offer",offer:xt[0],invoiceMessage:Ie},Lt.recipients,Lt.reason);return}for(const kt of xt)await Be.mutateAsync({offer:kt,organizationId:T.accounting_organization_id,invoiceRecipients:Lt.recipients,invoiceMessage:Ie});a("All Invoices Created",`Successfully created ${xt.length} invoice(s).`)}catch(nt){o("Error Creating Invoices",(nt==null?void 0:nt.message)||"An error occurred while creating some invoices. Please check and retry if needed.")}},Et=t.status==="invoiced"||t.status==="paid",rt=t.status==="completed",xt=te,Te=te.length>0,Ot=xt.reduce((Ie,nt)=>Ie+nt.total_with_vat,0);return q||l==="bookings"&&Q?s.jsxs(X,{children:[s.jsx(He,{size:"3",mb:"3",children:"Invoice"}),s.jsx(L,{children:"Loading invoice data..."})]}):l?s.jsxs(X,{children:[s.jsxs($,{justify:"between",align:"center",mb:"4",children:[s.jsx(He,{size:"3",children:"Invoice"}),s.jsxs(pe,{size:"1",variant:"ghost",onClick:()=>{d(!0),c(null)},children:[s.jsxs(L,{size:"2",color:"gray",children:["Invoicing based on"," ",l==="offer"?"offers":"bookings"]}),s.jsx(gi,{width:14,height:14})]})]}),s.jsxs(Rt,{mb:"4",children:[s.jsxs($,{justify:"between",align:"center",mb:"3",children:[s.jsxs(X,{children:[s.jsx(He,{size:"4",mb:"1",children:"Job Invoice Status"}),s.jsxs(L,{size:"2",color:"gray",children:["Current status: ",Qs(t.status)]})]}),s.jsx(X,{children:Et?s.jsxs($,{align:"center",gap:"2",children:[s.jsx(Ic,{width:24,height:24,color:"var(--green-9)"}),s.jsx(L,{size:"3",weight:"medium",color:"green",children:t.status==="paid"?"Paid":"Invoiced"})]}):s.jsxs($,{align:"center",gap:"2",children:[s.jsx(Ox,{width:24,height:24,color:"var(--orange-9)"}),s.jsx(L,{size:"3",weight:"medium",color:"orange",children:"Not Invoiced"})]})})]}),!Et&&rt&&s.jsx(X,{p:"3",style:{background:"var(--orange-a2)",borderRadius:8,border:"1px solid var(--orange-a6)"},children:s.jsx(L,{size:"2",color:"gray",children:"This job is completed and ready to be invoiced."})})]}),l==="offer"&&s.jsx(s.Fragment,{children:te.length>0?s.jsxs(Rt,{mb:"4",children:[s.jsxs($,{justify:"between",align:"center",mb:"3",children:[s.jsx(He,{size:"4",children:"Accepted Offers"}),xt.length>0&&!Et&&s.jsxs(L,{size:"2",color:"gray",children:[xt.length," offer",xt.length!==1?"s":""," ready to invoice"]})]}),xt.length>0?s.jsxs(s.Fragment,{children:[s.jsx(X,{style:{overflowX:"auto"},children:s.jsxs(Hn,{style:{width:"100%",minWidth:720},children:[s.jsx(Qn,{children:s.jsxs(ht,{children:[s.jsx(ze,{children:"Offer"}),s.jsx(ze,{children:"Accepted"}),s.jsx(ze,{style:{textAlign:"right"},children:"Amount"}),s.jsx(ze,{style:{textAlign:"center"},children:"Invoice Status"}),s.jsx(ze,{style:{textAlign:"right"},children:"Actions"})]})}),s.jsx(qn,{children:te.map(Ie=>{const nt=xt.some(Lt=>Lt.id===Ie.id);return s.jsxs(ht,{children:[s.jsxs(Oe,{children:[s.jsx(L,{weight:"medium",children:Ie.title}),s.jsxs(L,{size:"1",color:"gray",style:{display:"block"},children:[Ie.offer_type==="technical"?"Technical":"Pretty"," "," v",Ie.version_number]})]}),s.jsxs(Oe,{children:[s.jsx(L,{size:"2",children:H(Ie.accepted_at)}),Ie.accepted_by_name&&s.jsxs(L,{size:"1",color:"gray",style:{display:"block"},children:["by ",Ie.accepted_by_name]})]}),s.jsx(Oe,{children:s.jsx(L,{size:"3",weight:"medium",style:{textAlign:"right"},children:G(Ie.total_with_vat)})}),s.jsx(Oe,{style:{textAlign:"center"},children:nt?s.jsx(L,{size:"2",color:"orange",children:"Pending"}):s.jsxs($,{align:"center",justify:"center",gap:"1",children:[s.jsx(Ic,{width:16,height:16,color:"var(--green-9)"}),s.jsx(L,{size:"2",color:"green",children:"Invoiced"})]})}),s.jsx(Oe,{style:{textAlign:"right"},children:nt&&s.jsxs($,{gap:"2",justify:"end",children:[s.jsxs(pe,{size:"2",variant:"ghost",onClick:()=>Mt(Ie.id,!0),disabled:Be.isPending,children:[s.jsx(Nx,{width:14,height:14}),"Preview"]}),s.jsxs(pe,{size:"2",variant:"soft",onClick:()=>Mt(Ie.id),disabled:Be.isPending,children:[s.jsx(og,{width:14,height:14}),"Create Invoice"]})]})})]},Ie.id)})})]})}),xt.length>0&&!Et&&s.jsxs(s.Fragment,{children:[s.jsx(st,{my:"4"}),s.jsxs($,{justify:"between",align:"center",children:[s.jsxs(X,{children:[s.jsx(L,{size:"2",color:"gray",mb:"1",children:"Total to Invoice"}),s.jsx(He,{size:"5",children:G(Ot)})]}),s.jsxs(pe,{size:"3",onClick:Ve,disabled:Be.isPending,children:[s.jsx(yi,{width:16,height:16}),"Create Invoice for All"]})]})]})]}):s.jsxs(X,{p:"4",style:{border:"2px dashed var(--green-a6)",borderRadius:8,textAlign:"center"},children:[s.jsx(Ic,{width:32,height:32,color:"var(--green-9)"}),s.jsx(L,{size:"3",weight:"medium",mt:"2",style:{display:"block"},children:"All offers have been invoiced"})]})]}):s.jsx(Rt,{children:s.jsxs($,{direction:"column",align:"center",justify:"center",gap:"3",style:{minHeight:"200px",padding:"40px"},children:[s.jsx(L,{size:"4",color:"gray",align:"center",children:"No accepted offers yet"}),s.jsx(L,{size:"2",color:"gray",align:"center",children:"Once offers are accepted, they will appear here and can be invoiced."})]})})}),l==="bookings"&&s.jsx(s.Fragment,{children:V&&V.all.length>0?s.jsxs(Rt,{mb:"4",children:[s.jsxs($,{justify:"between",align:"center",mb:"3",children:[s.jsx(He,{size:"4",children:"Bookings on Job"}),s.jsxs(L,{size:"2",color:"gray",children:[V.all.length," booking",V.all.length!==1?"s":""," ready to invoice"]})]}),s.jsx(X,{style:{overflowX:"auto"},children:s.jsxs(Hn,{mb:"4",style:{width:"100%",minWidth:720},children:[s.jsx(Qn,{children:s.jsxs(ht,{children:[s.jsx(ze,{children:"Type"}),s.jsx(ze,{children:"Brand"}),s.jsx(ze,{children:"Model"}),s.jsx(ze,{children:"Description"}),s.jsx(ze,{style:{textAlign:"right"},children:"Quantity"}),s.jsx(ze,{style:{textAlign:"right"},children:"Unit Price"}),s.jsx(ze,{style:{textAlign:"right"},children:"Total (ex VAT)"})]})}),s.jsx(qn,{children:V.all.map(Ie=>s.jsxs(ht,{children:[s.jsx(Oe,{children:s.jsx(L,{size:"2",weight:"medium",children:Qs(Ie.type)})}),s.jsx(Oe,{children:s.jsx(L,{children:Ie.brandName||""})}),s.jsx(Oe,{children:s.jsx(L,{children:Ie.model||""})}),s.jsx(Oe,{children:s.jsx(L,{children:Ie.description})}),s.jsx(Oe,{style:{textAlign:"right"},children:s.jsx(L,{children:Ie.type==="crew"||Ie.type==="transport"?`${Ie.quantity} day${Ie.quantity!==1?"s":""}`:Ie.quantity})}),s.jsx(Oe,{style:{textAlign:"right"},children:s.jsx(L,{children:G(Ie.unitPrice)})}),s.jsx(Oe,{style:{textAlign:"right"},children:s.jsx(L,{weight:"medium",children:G(Ie.totalPrice)})})]},Ie.id))})]})}),s.jsx(st,{my:"4"}),s.jsxs($,{justify:"between",align:"center",mb:"3",children:[s.jsxs(X,{children:[s.jsx(L,{size:"2",color:"gray",mb:"1",children:"Subtotal (ex VAT)"}),s.jsx(He,{size:"5",children:G(V.totalExVat)})]}),s.jsxs(X,{style:{textAlign:"right"},children:[s.jsx(L,{size:"2",color:"gray",mb:"1",children:"VAT (25%)"}),s.jsx(He,{size:"5",children:G(V.totalVat)})]}),s.jsxs(X,{style:{textAlign:"right"},children:[s.jsx(L,{size:"2",color:"gray",mb:"1",children:"Total (incl. VAT)"}),s.jsx(He,{size:"5",children:G(V.totalWithVat)})]})]}),(V.equipment.some(Ie=>Ie.unitPrice===0)||V.crew.some(Ie=>Ie.unitPrice===0)||V.transport.some(Ie=>Ie.unitPrice===0))&&s.jsx(X,{p:"3",mb:"3",style:{background:"var(--orange-a2)",borderRadius:8,border:"1px solid var(--orange-a6)"},children:s.jsx(L,{size:"2",color:"orange",weight:"medium",children:"Warning: Some bookings have zero prices. Please verify prices before creating the invoice."})}),s.jsxs($,{justify:"end",gap:"3",children:[s.jsxs(pe,{size:"3",variant:"soft",onClick:()=>tt(!0),disabled:ke.isPending,children:[s.jsx(Nx,{width:16,height:16}),"Preview Invoice"]}),s.jsxs(pe,{size:"3",onClick:()=>tt(),disabled:ke.isPending,children:[s.jsx(og,{width:16,height:16}),"Create Invoice from Bookings"]})]})]}):s.jsx(Rt,{children:s.jsxs($,{direction:"column",align:"center",justify:"center",gap:"3",style:{minHeight:"200px",padding:"40px"},children:[s.jsx(L,{size:"4",color:"gray",align:"center",children:"No bookings available"}),s.jsx(L,{size:"2",color:"gray",align:"center",children:"Book equipment, crew, or transport on this job to create an invoice based on bookings."})]})})}),s.jsx(gJe,{jobId:e}),K&&s.jsx(Rt,{mt:"4",style:{background:"var(--yellow-a2)",border:"1px solid var(--yellow-a6)"},children:s.jsxs($,{gap:"2",align:"center",children:[s.jsx(L,{size:"2",weight:"bold",color:"yellow",children:" TEST MODE"}),s.jsx(L,{size:"2",color:"gray",children:"You are connected to the Conta sandbox environment. Invoices created here will not appear in your production accounting system."})]})}),s.jsx(Rt,{mt:"4",style:{background:"var(--blue-a2)"},children:s.jsxs($,{gap:"3",align:"start",children:[s.jsx(X,{style:{paddingTop:"2px"},children:s.jsx(og,{width:20,height:20,color:"var(--blue-9)"})}),s.jsxs(X,{style:{flex:1},children:[s.jsx(He,{size:"3",mb:"1",children:"Accounting Software Integration"}),s.jsx(L,{size:"2",color:"gray",mb:"2",children:"Connect your accounting software in Company settings to enable automatic invoice creation and synchronization."}),s.jsx(L,{size:"1",color:"gray",children:"Once connected, you'll be able to create invoices directly from accepted offers and track their payment status."})]})]})}),s.jsx(rn,{open:S,onOpenChange:Ie=>{Ie||(b(!1),_(null),O(null),R(""))},children:s.jsxs(an,{size:"3",style:{maxWidth:"520px"},children:[s.jsx(cn,{children:"EHF Not Available"}),s.jsx(vr,{size:"2",color:"gray",mb:"3",children:"This customer cannot receive invoices via EHF."}),w&&s.jsx(L,{size:"2",color:"gray",children:w}),s.jsxs($,{gap:"3",mt:"4",justify:"end",children:[s.jsx(Dn,{children:s.jsx(pe,{variant:"soft",children:"Cancel"})}),s.jsx(pe,{onClick:lt,children:"Download PDF and send myself"})]})]})}),s.jsx(rn,{open:j,onOpenChange:Ie=>{Ie||(D(!1),z(null))},children:s.jsxs(an,{size:"3",style:{maxWidth:"520px"},children:[s.jsx(cn,{children:"Invoice Message"}),s.jsx(vr,{size:"2",color:"gray",mb:"3",children:"Add the personal message that will appear on the invoice."}),s.jsx(Ci,{value:P,onChange:Ie=>B(Ie.target.value),placeholder:"Write a custom message for the invoice...",size:"2"}),s.jsxs($,{gap:"3",mt:"4",justify:"end",children:[s.jsx(Dn,{children:s.jsx(pe,{variant:"soft",children:"Cancel"})}),s.jsx(pe,{onClick:async()=>{if(!M)return;const Ie=P.trim();M.kind==="offer"?await St(M.offer,Ie):M.kind==="bookings"?await Je(M.bookings,Ie):await qt(Ie),D(!1),z(null)},children:"Create Invoice"})]})]})}),s.jsx(rn,{open:!!h||!!p,onOpenChange:Ie=>{Ie||(m(null),v(null))},children:s.jsxs(an,{size:"4",style:{maxWidth:"800px"},children:[s.jsx(cn,{children:"Invoice Preview"}),s.jsx(vr,{size:"2",color:"gray",mb:"4",children:"Review the invoice details before creating it in your accounting software."}),h&&s.jsx(gW,{basis:"offer",offer:h,customerName:((jt=t.customer)==null?void 0:jt.name)||"Unknown Customer"}),p&&s.jsx(gW,{basis:"bookings",bookings:p,customerName:((Ht=t.customer)==null?void 0:Ht.name)||"Unknown Customer"}),s.jsx($,{gap:"3",mt:"4",justify:"end",children:s.jsx(Dn,{children:s.jsx(pe,{variant:"soft",children:"Close"})})})]})})]}):s.jsxs(X,{children:[s.jsx($,{justify:"between",align:"center",mb:"4",children:s.jsx(He,{size:"3",children:"Invoice"})}),s.jsx(Rt,{children:s.jsxs($,{direction:"column",gap:"4",children:[s.jsxs(X,{children:[s.jsx(He,{size:"4",mb:"1",children:"How do you want to create the invoice?"}),s.jsx(L,{size:"2",color:"gray",children:"Choose whether to invoice from the accepted offer or from bookings on the job."})]}),s.jsxs($,{gap:"3",wrap:"wrap",children:[s.jsx(pe,{size:"3",variant:"soft",onClick:()=>ae("offer"),disabled:ce.isPending,children:"Accepted Offer"}),s.jsx(pe,{size:"3",variant:"soft",onClick:()=>ae("bookings"),disabled:ce.isPending,children:"Bookings on Job"})]}),!Te&&s.jsx(L,{size:"2",color:"gray",children:"No accepted offers for this job yet. You can still choose offers and create the invoice once an offer is accepted."})]})})]})}function afe(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=afe(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function Bi(){for(var e,t,n=0,i="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=afe(e))&&(i&&(i+=" "),i+=t);return i}var wJe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function dk(e){if(typeof e!="string")return!1;var t=wJe;return t.includes(e)}var EJe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function sfe(e){if(typeof e!="string")return!1;var t=EJe;return t.includes(e)}function ofe(e){return typeof e=="string"&&e.startsWith("data-")}function Hl(e){var t=Object.entries(e).filter(n=>{var[i]=n;return sfe(i)||ofe(i)});return Object.fromEntries(t)}function ew(e){if(e==null)return null;if(g.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Hl(t)}return typeof e=="object"&&!Array.isArray(e)?Hl(e):null}function Oo(e){var t=Object.entries(e).filter(n=>{var[i]=n;return sfe(i)||ofe(i)||dk(i)});return Object.fromEntries(t)}function lfe(e){return e==null?null:g.isValidElement(e)?Oo(e.props):typeof e=="object"&&!Array.isArray(e)?Oo(e):null}var _Je=["children","width","height","viewBox","className","style","title","desc"];function vM(){return vM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},vM.apply(null,arguments)}function AJe(e,t){if(e==null)return{};var n,i,r=RJe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RJe(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var fk=g.forwardRef((e,t)=>{var{children:n,width:i,height:r,viewBox:a,className:o,style:l,title:c,desc:u}=e,d=AJe(e,_Je),h=a||{width:i,height:r,x:0,y:0},m=Bi("recharts-surface",o);return g.createElement("svg",vM({},Oo(d),{className:m,width:i,height:r,style:l,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:t}),g.createElement("title",null,c),g.createElement("desc",null,u),n)}),NJe=["children","className"];function SM(){return SM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},SM.apply(null,arguments)}function OJe(e,t){if(e==null)return{};var n,i,r=jJe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jJe(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var no=g.forwardRef((e,t)=>{var{children:n,className:i}=e,r=OJe(e,NJe),a=Bi("recharts-layer",i);return g.createElement("g",SM({className:a},Oo(r),{ref:t}),n)}),cfe=g.createContext(null),DJe=()=>g.useContext(cfe);function yr(e){return function(){return e}}const ufe=Math.cos,PR=Math.sin,Qu=Math.sqrt,kR=Math.PI,nj=2*kR,bM=Math.PI,xM=2*bM,jy=1e-6,CJe=xM-jy;function dfe(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function LJe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return dfe;const n=10**t;return function(i){this._+=i[0];for(let r=1,a=i.length;r<a;++r)this._+=Math.round(arguments[r]*n)/n+i[r]}}class TJe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?dfe:LJe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,i,r){this._append`Q${+t},${+n},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(t,n,i,r,a,o){this._append`C${+t},${+n},${+i},${+r},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,i,r,a){if(t=+t,n=+n,i=+i,r=+r,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=i-t,u=r-n,d=o-t,h=l-n,m=d*d+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(m>jy)if(!(Math.abs(h*c-u*d)>jy)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let p=i-o,v=r-l,S=c*c+u*u,b=p*p+v*v,w=Math.sqrt(S),R=Math.sqrt(m),E=a*Math.tan((bM-Math.acos((S+m-b)/(2*w*R)))/2),_=E/R,N=E/w;Math.abs(_-1)>jy&&this._append`L${t+_*d},${n+_*h}`,this._append`A${a},${a},0,0,${+(h*p>d*v)},${this._x1=t+N*c},${this._y1=n+N*u}`}}arc(t,n,i,r,a,o){if(t=+t,n=+n,i=+i,o=!!o,i<0)throw new Error(`negative radius: ${i}`);let l=i*Math.cos(r),c=i*Math.sin(r),u=t+l,d=n+c,h=1^o,m=o?r-a:a-r;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>jy||Math.abs(this._y1-d)>jy)&&this._append`L${u},${d}`,i&&(m<0&&(m=m%xM+xM),m>CJe?this._append`A${i},${i},0,1,${h},${t-l},${n-c}A${i},${i},0,1,${h},${this._x1=u},${this._y1=d}`:m>jy&&this._append`A${i},${i},0,${+(m>=bM)},${h},${this._x1=t+i*Math.cos(a)},${this._y1=n+i*Math.sin(a)}`)}rect(t,n,i,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}}function hk(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);t=i}return e},()=>new TJe(t)}function pk(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ffe(e){this._context=e}ffe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ij(e){return new ffe(e)}function hfe(e){return e[0]}function pfe(e){return e[1]}function mfe(e,t){var n=yr(!0),i=null,r=ij,a=null,o=hk(l);e=typeof e=="function"?e:e===void 0?hfe:yr(e),t=typeof t=="function"?t:t===void 0?pfe:yr(t);function l(c){var u,d=(c=pk(c)).length,h,m=!1,p;for(i==null&&(a=r(p=o())),u=0;u<=d;++u)!(u<d&&n(h=c[u],u,c))===m&&((m=!m)?a.lineStart():a.lineEnd()),m&&a.point(+e(h,u,c),+t(h,u,c));if(p)return a=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:yr(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:yr(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:yr(!!c),l):n},l.curve=function(c){return arguments.length?(r=c,i!=null&&(a=r(i)),l):r},l.context=function(c){return arguments.length?(c==null?i=a=null:a=r(i=c),l):i},l}function d_(e,t,n){var i=null,r=yr(!0),a=null,o=ij,l=null,c=hk(u);e=typeof e=="function"?e:e===void 0?hfe:yr(+e),t=typeof t=="function"?t:yr(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?pfe:yr(+n);function u(h){var m,p,v,S=(h=pk(h)).length,b,w=!1,R,E=new Array(S),_=new Array(S);for(a==null&&(l=o(R=c())),m=0;m<=S;++m){if(!(m<S&&r(b=h[m],m,h))===w)if(w=!w)p=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=m-1;v>=p;--v)l.point(E[v],_[v]);l.lineEnd(),l.areaEnd()}w&&(E[m]=+e(b,m,h),_[m]=+t(b,m,h),l.point(i?+i(b,m,h):E[m],n?+n(b,m,h):_[m]))}if(R)return l=null,R+""||null}function d(){return mfe().defined(r).curve(o).context(a)}return u.x=function(h){return arguments.length?(e=typeof h=="function"?h:yr(+h),i=null,u):e},u.x0=function(h){return arguments.length?(e=typeof h=="function"?h:yr(+h),u):e},u.x1=function(h){return arguments.length?(i=h==null?null:typeof h=="function"?h:yr(+h),u):i},u.y=function(h){return arguments.length?(t=typeof h=="function"?h:yr(+h),n=null,u):t},u.y0=function(h){return arguments.length?(t=typeof h=="function"?h:yr(+h),u):t},u.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:yr(+h),u):n},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(n)},u.lineX1=function(){return d().x(i).y(t)},u.defined=function(h){return arguments.length?(r=typeof h=="function"?h:yr(!!h),u):r},u.curve=function(h){return arguments.length?(o=h,a!=null&&(l=o(a)),u):o},u.context=function(h){return arguments.length?(h==null?a=l=null:l=o(a=h),u):a},u}class yfe{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function MJe(e){return new yfe(e,!0)}function IJe(e){return new yfe(e,!1)}const mk={draw(e,t){const n=Qu(t/kR);e.moveTo(n,0),e.arc(0,0,n,0,nj)}},PJe={draw(e,t){const n=Qu(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},gfe=Qu(1/3),kJe=gfe*2,$Je={draw(e,t){const n=Qu(t/kJe),i=n*gfe;e.moveTo(0,-n),e.lineTo(i,0),e.lineTo(0,n),e.lineTo(-i,0),e.closePath()}},FJe={draw(e,t){const n=Qu(t),i=-n/2;e.rect(i,i,n,n)}},BJe=.8908130915292852,vfe=PR(kR/10)/PR(7*kR/10),zJe=PR(nj/10)*vfe,UJe=-ufe(nj/10)*vfe,VJe={draw(e,t){const n=Qu(t*BJe),i=zJe*n,r=UJe*n;e.moveTo(0,-n),e.lineTo(i,r);for(let a=1;a<5;++a){const o=nj*a/5,l=ufe(o),c=PR(o);e.lineTo(c*n,-l*n),e.lineTo(l*i-c*r,c*i+l*r)}e.closePath()}},rL=Qu(3),KJe={draw(e,t){const n=-Qu(t/(rL*3));e.moveTo(0,n*2),e.lineTo(-rL*n,-n),e.lineTo(rL*n,-n),e.closePath()}},vc=-.5,Sc=Qu(3)/2,wM=1/Qu(12),GJe=(wM/2+1)*3,HJe={draw(e,t){const n=Qu(t/GJe),i=n/2,r=n*wM,a=i,o=n*wM+n,l=-a,c=o;e.moveTo(i,r),e.lineTo(a,o),e.lineTo(l,c),e.lineTo(vc*i-Sc*r,Sc*i+vc*r),e.lineTo(vc*a-Sc*o,Sc*a+vc*o),e.lineTo(vc*l-Sc*c,Sc*l+vc*c),e.lineTo(vc*i+Sc*r,vc*r-Sc*i),e.lineTo(vc*a+Sc*o,vc*o-Sc*a),e.lineTo(vc*l+Sc*c,vc*c-Sc*l),e.closePath()}};function qJe(e,t){let n=null,i=hk(r);e=typeof e=="function"?e:yr(e||mk),t=typeof t=="function"?t:yr(t===void 0?64:+t);function r(){let a;if(n||(n=a=i()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return r.type=function(a){return arguments.length?(e=typeof a=="function"?a:yr(a),r):e},r.size=function(a){return arguments.length?(t=typeof a=="function"?a:yr(+a),r):t},r.context=function(a){return arguments.length?(n=a??null,r):n},r}function $R(){}function FR(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Sfe(e){this._context=e}Sfe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:FR(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:FR(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function WJe(e){return new Sfe(e)}function bfe(e){this._context=e}bfe.prototype={areaStart:$R,areaEnd:$R,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:FR(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function YJe(e){return new bfe(e)}function xfe(e){this._context=e}xfe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:FR(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function JJe(e){return new xfe(e)}function wfe(e){this._context=e}wfe.prototype={areaStart:$R,areaEnd:$R,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function QJe(e){return new wfe(e)}function SW(e){return e<0?-1:1}function bW(e,t,n){var i=e._x1-e._x0,r=t-e._x1,a=(e._y1-e._y0)/(i||r<0&&-0),o=(n-e._y1)/(r||i<0&&-0),l=(a*r+o*i)/(i+r);return(SW(a)+SW(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function xW(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function aL(e,t,n){var i=e._x0,r=e._y0,a=e._x1,o=e._y1,l=(a-i)/3;e._context.bezierCurveTo(i+l,r+l*t,a-l,o-l*n,a,o)}function BR(e){this._context=e}BR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:aL(this,this._t0,xW(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,aL(this,xW(this,n=bW(this,e,t)),n);break;default:aL(this,this._t0,n=bW(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function Efe(e){this._context=new _fe(e)}(Efe.prototype=Object.create(BR.prototype)).point=function(e,t){BR.prototype.point.call(this,t,e)};function _fe(e){this._context=e}_fe.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,i,r,a){this._context.bezierCurveTo(t,e,i,n,a,r)}};function XJe(e){return new BR(e)}function ZJe(e){return new Efe(e)}function Afe(e){this._context=e}Afe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var i=wW(e),r=wW(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(i[0][a],r[0][a],i[1][a],r[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function wW(e){var t,n=e.length-1,i,r=new Array(n),a=new Array(n),o=new Array(n);for(r[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)r[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(r[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)i=r[t]/a[t-1],a[t]-=i,o[t]-=i*o[t-1];for(r[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)r[t]=(o[t]-r[t+1])/a[t];for(a[n-1]=(e[n]+r[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-r[t+1];return[r,a]}function eQe(e){return new Afe(e)}function rj(e,t){this._context=e,this._t=t}rj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function tQe(e){return new rj(e,.5)}function nQe(e){return new rj(e,0)}function iQe(e){return new rj(e,1)}function C1(e,t){if((o=e.length)>1)for(var n=1,i,r,a=e[t[0]],o,l=a.length;n<o;++n)for(r=a,a=e[t[n]],i=0;i<l;++i)a[i][1]+=a[i][0]=isNaN(r[i][1])?r[i][0]:r[i][1]}function EM(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function rQe(e,t){return e[t]}function aQe(e){const t=[];return t.key=e,t}function sQe(){var e=yr([]),t=EM,n=C1,i=rQe;function r(a){var o=Array.from(e.apply(this,arguments),aQe),l,c=o.length,u=-1,d;for(const h of a)for(l=0,++u;l<c;++l)(o[l][u]=[0,+i(h,o[l].key,u,a)]).data=h;for(l=0,d=pk(t(o));l<c;++l)o[d[l]].index=l;return n(o,d),o}return r.keys=function(a){return arguments.length?(e=typeof a=="function"?a:yr(Array.from(a)),r):e},r.value=function(a){return arguments.length?(i=typeof a=="function"?a:yr(+a),r):i},r.order=function(a){return arguments.length?(t=a==null?EM:typeof a=="function"?a:yr(Array.from(a)),r):t},r.offset=function(a){return arguments.length?(n=a??C1,r):n},r}function oQe(e,t){if((i=e.length)>0){for(var n,i,r=0,a=e[0].length,o;r<a;++r){for(o=n=0;n<i;++n)o+=e[n][r][1]||0;if(o)for(n=0;n<i;++n)e[n][r][1]/=o}C1(e,t)}}function lQe(e,t){if((r=e.length)>0){for(var n=0,i=e[t[0]],r,a=i.length;n<a;++n){for(var o=0,l=0;o<r;++o)l+=e[o][n][1]||0;i[n][1]+=i[n][0]=-l/2}C1(e,t)}}function cQe(e,t){if(!(!((o=e.length)>0)||!((a=(r=e[t[0]]).length)>0))){for(var n=0,i=1,r,a,o;i<a;++i){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],h=d[i][1]||0,m=d[i-1][1]||0,p=(h-m)/2,v=0;v<l;++v){var S=e[t[v]],b=S[i][1]||0,w=S[i-1][1]||0;p+=b-w}c+=h,u+=p*h}r[i-1][1]+=r[i-1][0]=n,c&&(n-=u/c)}r[i-1][1]+=r[i-1][0]=n,C1(e,t)}}var sL={},oL={},EW;function uQe(){return EW||(EW=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(oL)),oL}var lL={},_W;function Rfe(){return _W||(_W=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(lL)),lL}var cL={},AW;function yk(){return AW||(AW=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;return typeof n=="string"||typeof n=="symbol"?n:Object.is((i=n==null?void 0:n.valueOf)==null?void 0:i.call(n),-0)?"-0":String(n)}e.toKey=t})(cL)),cL}var uL={},dL={},RW;function dQe(){return RW||(RW=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const i=String(n);return i==="0"&&Object.is(Number(n),-0)?"-0":i}e.toString=t})(dL)),dL}var NW;function gk(){return NW||(NW=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dQe(),n=yk();function i(r){if(Array.isArray(r))return r.map(n.toKey);if(typeof r=="symbol")return[r];r=t.toString(r);const a=[],o=r.length;if(o===0)return a;let l=0,c="",u="",d=!1;for(r.charCodeAt(0)===46&&(a.push(""),l++);l<o;){const h=r[l];u?h==="\\"&&l+1<o?(l++,c+=r[l]):h===u?u="":c+=h:d?h==='"'||h==="'"?u=h:h==="]"?(d=!1,a.push(c),c=""):c+=h:h==="["?(d=!0,c&&(a.push(c),c="")):h==="."?c&&(a.push(c),c=""):c+=h,l++}return c&&a.push(c),a}e.toPath=i})(uL)),uL}var OW;function vk(){return OW||(OW=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uQe(),n=Rfe(),i=yk(),r=gk();function a(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?n.isDeepKey(c)?a(l,r.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=i.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return o(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function o(l,c,u){if(c.length===0)return u;let d=l;for(let h=0;h<c.length;h++){if(d==null||t.isUnsafeProperty(c[h]))return u;d=d[c[h]]}return d===void 0?u:d}e.get=a})(sL)),sL}var fL,jW;function fQe(){return jW||(jW=1,fL=vk().get),fL}var hQe=fQe();const L1=ol(hQe);var il=e=>e===0?0:e>0?1:-1,ql=e=>typeof e=="number"&&e!=+e,gh=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,fn=e=>(typeof e=="number"||e instanceof Number)&&!ql(e),Gd=e=>fn(e)||typeof e=="string",pQe=0,Qx=e=>{var t=++pQe;return"".concat(e||"").concat(t)},Uu=function(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!fn(t)&&typeof t!="string")return i;var a;if(gh(t)){if(n==null)return i;var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return ql(a)&&(a=i),r&&n!=null&&a>n&&(a=n),a},Nfe=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},i=0;i<t;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1};function gr(e,t,n){return fn(e)&&fn(t)?e+n*(t-e):t}function Ofe(e,t,n){if(!(!e||!e.length))return e.find(i=>i&&(typeof t=="function"?t(i):L1(i,t))===n)}var Cr=e=>e===null||typeof e>"u",tw=e=>Cr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),mQe=["type","size","sizeType"];function _M(){return _M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_M.apply(null,arguments)}function DW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function CW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DW(Object(n),!0).forEach(function(i){yQe(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DW(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function yQe(e,t,n){return(t=gQe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gQe(e){var t=vQe(e,"string");return typeof t=="symbol"?t:t+""}function vQe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SQe(e,t){if(e==null)return{};var n,i,r=bQe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bQe(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var jfe={symbolCircle:mk,symbolCross:PJe,symbolDiamond:$Je,symbolSquare:FJe,symbolStar:VJe,symbolTriangle:KJe,symbolWye:HJe},xQe=Math.PI/180,wQe=e=>{var t="symbol".concat(tw(e));return jfe[t]||mk},EQe=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*xQe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.tan(i)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},_Qe=(e,t)=>{jfe["symbol".concat(tw(e))]=t},Sk=e=>{var{type:t="circle",size:n=64,sizeType:i="area"}=e,r=SQe(e,mQe),a=CW(CW({},r),{},{type:t,size:n,sizeType:i}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var m=wQe(o),p=qJe().type(m).size(EQe(n,i,o)),v=p();if(v!==null)return v},{className:c,cx:u,cy:d}=a,h=Oo(a);return u===+u&&d===+d&&n===+n?g.createElement("path",_M({},h,{className:Bi("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:l()})):null};Sk.registerSymbol=_Qe;var bk=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(g.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(r=>{dk(r)&&(i[r]=(a=>n[r](n,a)))}),i},AQe=(e,t,n)=>i=>(e(t,n,i),null),aj=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var i=null;return Object.keys(e).forEach(r=>{var a=e[r];dk(r)&&typeof a=="function"&&(i||(i={}),i[r]=AQe(a,t,n))}),i};function AM(){return AM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},AM.apply(null,arguments)}function LW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function RQe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LW(Object(n),!0).forEach(function(i){xk(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LW(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function xk(e,t,n){return(t=NQe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NQe(e){var t=OQe(e,"string");return typeof t=="symbol"?t:t+""}function OQe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bc=32;class wk extends g.PureComponent{renderIcon(t,n){var{inactiveColor:i}=this.props,r=bc/2,a=bc/6,o=bc/3,l=t.inactive?i:t.color,c=n??t.type;if(c==="none")return null;if(c==="plainline")return g.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:r,x2:bc,y2:r,className:"recharts-legend-icon"});if(c==="line")return g.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(r,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(r,`
            H`).concat(bc,"M").concat(2*o,",").concat(r,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(r),className:"recharts-legend-icon"});if(c==="rect")return g.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(bc/8,"h").concat(bc,"v").concat(bc*3/4,"h").concat(-bc,"z"),className:"recharts-legend-icon"});if(g.isValidElement(t.legendIcon)){var u=RQe({},t);return delete u.legendIcon,g.cloneElement(t.legendIcon,u)}return g.createElement(Sk,{fill:l,cx:r,cy:r,size:bc,sizeType:"diameter",type:c})}renderItems(){var{payload:t,iconSize:n,layout:i,formatter:r,inactiveColor:a,iconType:o}=this.props,l={x:0,y:0,width:bc,height:bc},c={display:i==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,h)=>{var m=d.formatter||r,p=Bi({"recharts-legend-item":!0,["legend-item-".concat(h)]:!0,inactive:d.inactive});if(d.type==="none")return null;var v=d.inactive?a:d.color,S=m?m(d.value,d,h):d.value;return g.createElement("li",AM({className:p,style:c,key:"legend-item-".concat(h)},aj(this.props,d,h)),g.createElement(fk,{width:n,height:n,viewBox:l,style:u,"aria-label":"".concat(S," legend icon")},this.renderIcon(d,o)),g.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},S))})}render(){var{payload:t,layout:n,align:i}=this.props;if(!t||!t.length)return null;var r={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return g.createElement("ul",{className:"recharts-default-legend",style:r},this.renderItems())}}xk(wk,"displayName","Legend");xk(wk,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var hL={},pL={},TW;function jQe(){return TW||(TW=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,i){const r=new Map;for(let a=0;a<n.length;a++){const o=n[a],l=i(o);r.has(l)||r.set(l,o)}return Array.from(r.values())}e.uniqBy=t})(pL)),pL}var mL={},MW;function Dfe(){return MW||(MW=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(mL)),mL}var yL={},gL={},vL={},IW;function DQe(){return IW||(IW=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(vL)),vL}var PW;function Ek(){return PW||(PW=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DQe();function n(i){return i!=null&&typeof i!="function"&&t.isLength(i.length)}e.isArrayLike=n})(gL)),gL}var SL={},kW;function CQe(){return kW||(kW=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(SL)),SL}var $W;function LQe(){return $W||($W=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ek(),n=CQe();function i(r){return n.isObjectLike(r)&&t.isArrayLike(r)}e.isArrayLikeObject=i})(yL)),yL}var bL={},xL={},FW;function TQe(){return FW||(FW=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vk();function n(i){return function(r){return t.get(r,i)}}e.property=n})(xL)),xL}var wL={},EL={},_L={},AL={},BW;function Cfe(){return BW||(BW=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(AL)),AL}var RL={},zW;function Lfe(){return zW||(zW=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(RL)),RL}var NL={},UW;function Tfe(){return UW||(UW=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,i){return n===i||Number.isNaN(n)&&Number.isNaN(i)}e.eq=t})(NL)),NL}var VW;function MQe(){return VW||(VW=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cfe(),n=Lfe(),i=Tfe();function r(d,h,m){return typeof m!="function"?r(d,h,()=>{}):a(d,h,function p(v,S,b,w,R,E){const _=m(v,S,b,w,R,E);return _!==void 0?!!_:a(v,S,p,E)},new Map)}function a(d,h,m,p){if(h===d)return!0;switch(typeof h){case"object":return o(d,h,m,p);case"function":return Object.keys(h).length>0?a(d,{...h},m,p):i.eq(d,h);default:return t.isObject(d)?typeof h=="string"?h==="":!0:i.eq(d,h)}}function o(d,h,m,p){if(h==null)return!0;if(Array.isArray(h))return c(d,h,m,p);if(h instanceof Map)return l(d,h,m,p);if(h instanceof Set)return u(d,h,m,p);const v=Object.keys(h);if(d==null)return v.length===0;if(v.length===0)return!0;if(p!=null&&p.has(h))return p.get(h)===d;p==null||p.set(h,d);try{for(let S=0;S<v.length;S++){const b=v[S];if(!n.isPrimitive(d)&&!(b in d)||h[b]===void 0&&d[b]!==void 0||h[b]===null&&d[b]!==null||!m(d[b],h[b],b,d,h,p))return!1}return!0}finally{p==null||p.delete(h)}}function l(d,h,m,p){if(h.size===0)return!0;if(!(d instanceof Map))return!1;for(const[v,S]of h.entries()){const b=d.get(v);if(m(b,S,v,d,h,p)===!1)return!1}return!0}function c(d,h,m,p){if(h.length===0)return!0;if(!Array.isArray(d))return!1;const v=new Set;for(let S=0;S<h.length;S++){const b=h[S];let w=!1;for(let R=0;R<d.length;R++){if(v.has(R))continue;const E=d[R];let _=!1;if(m(E,b,S,d,h,p)&&(_=!0),_){v.add(R),w=!0;break}}if(!w)return!1}return!0}function u(d,h,m,p){return h.size===0?!0:d instanceof Set?c([...d],[...h],m,p):!1}e.isMatchWith=r,e.isSetMatch=u})(_L)),_L}var KW;function Mfe(){return KW||(KW=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MQe();function n(i,r){return t.isMatchWith(i,r,()=>{})}e.isMatch=n})(EL)),EL}var OL={},jL={},DL={},GW;function IQe(){return GW||(GW=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(i=>Object.prototype.propertyIsEnumerable.call(n,i))}e.getSymbols=t})(DL)),DL}var CL={},HW;function Ife(){return HW||(HW=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(CL)),CL}var LL={},qW;function Pfe(){return qW||(qW=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",i="[object Number]",r="[object Boolean]",a="[object Arguments]",o="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",h="[object Function]",m="[object ArrayBuffer]",p="[object Object]",v="[object Error]",S="[object DataView]",b="[object Uint8Array]",w="[object Uint8ClampedArray]",R="[object Uint16Array]",E="[object Uint32Array]",_="[object BigUint64Array]",N="[object Int8Array]",O="[object Int16Array]",j="[object Int32Array]",D="[object BigInt64Array]",P="[object Float32Array]",B="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=m,e.arrayTag=d,e.bigInt64ArrayTag=D,e.bigUint64ArrayTag=_,e.booleanTag=r,e.dataViewTag=S,e.dateTag=l,e.errorTag=v,e.float32ArrayTag=P,e.float64ArrayTag=B,e.functionTag=h,e.int16ArrayTag=O,e.int32ArrayTag=j,e.int8ArrayTag=N,e.mapTag=c,e.numberTag=i,e.objectTag=p,e.regexpTag=t,e.setTag=u,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=R,e.uint32ArrayTag=E,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=w})(LL)),LL}var TL={},WW;function PQe(){return WW||(WW=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(TL)),TL}var YW;function kfe(){return YW||(YW=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IQe(),n=Ife(),i=Pfe(),r=Lfe(),a=PQe();function o(d,h){return l(d,void 0,d,new Map,h)}function l(d,h,m,p=new Map,v=void 0){const S=v==null?void 0:v(d,h,m,p);if(S!==void 0)return S;if(r.isPrimitive(d))return d;if(p.has(d))return p.get(d);if(Array.isArray(d)){const b=new Array(d.length);p.set(d,b);for(let w=0;w<d.length;w++)b[w]=l(d[w],w,m,p,v);return Object.hasOwn(d,"index")&&(b.index=d.index),Object.hasOwn(d,"input")&&(b.input=d.input),b}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const b=new RegExp(d.source,d.flags);return b.lastIndex=d.lastIndex,b}if(d instanceof Map){const b=new Map;p.set(d,b);for(const[w,R]of d)b.set(w,l(R,w,m,p,v));return b}if(d instanceof Set){const b=new Set;p.set(d,b);for(const w of d)b.add(l(w,void 0,m,p,v));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const b=new(Object.getPrototypeOf(d)).constructor(d.length);p.set(d,b);for(let w=0;w<d.length;w++)b[w]=l(d[w],w,m,p,v);return b}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const b=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return p.set(d,b),c(b,d,m,p,v),b}if(typeof File<"u"&&d instanceof File){const b=new File([d],d.name,{type:d.type});return p.set(d,b),c(b,d,m,p,v),b}if(typeof Blob<"u"&&d instanceof Blob){const b=new Blob([d],{type:d.type});return p.set(d,b),c(b,d,m,p,v),b}if(d instanceof Error){const b=new d.constructor;return p.set(d,b),b.message=d.message,b.name=d.name,b.stack=d.stack,b.cause=d.cause,c(b,d,m,p,v),b}if(d instanceof Boolean){const b=new Boolean(d.valueOf());return p.set(d,b),c(b,d,m,p,v),b}if(d instanceof Number){const b=new Number(d.valueOf());return p.set(d,b),c(b,d,m,p,v),b}if(d instanceof String){const b=new String(d.valueOf());return p.set(d,b),c(b,d,m,p,v),b}if(typeof d=="object"&&u(d)){const b=Object.create(Object.getPrototypeOf(d));return p.set(d,b),c(b,d,m,p,v),b}return d}function c(d,h,m=d,p,v){const S=[...Object.keys(h),...t.getSymbols(h)];for(let b=0;b<S.length;b++){const w=S[b],R=Object.getOwnPropertyDescriptor(d,w);(R==null||R.writable)&&(d[w]=l(h[w],w,m,p,v))}}function u(d){switch(n.getTag(d)){case i.argumentsTag:case i.arrayTag:case i.arrayBufferTag:case i.dataViewTag:case i.booleanTag:case i.dateTag:case i.float32ArrayTag:case i.float64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.mapTag:case i.numberTag:case i.objectTag:case i.regexpTag:case i.setTag:case i.stringTag:case i.symbolTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=c})(jL)),jL}var JW;function kQe(){return JW||(JW=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kfe();function n(i){return t.cloneDeepWithImpl(i,void 0,i,new Map,void 0)}e.cloneDeep=n})(OL)),OL}var QW;function $Qe(){return QW||(QW=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mfe(),n=kQe();function i(r){return r=n.cloneDeep(r),a=>t.isMatch(a,r)}e.matches=i})(wL)),wL}var ML={},IL={},PL={},XW;function FQe(){return XW||(XW=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kfe(),n=Pfe();function i(r,a){return t.cloneDeepWith(r,(o,l,c,u)=>{const d=a==null?void 0:a(o,l,c,u);if(d!==void 0)return d;if(typeof r=="object")switch(Object.prototype.toString.call(r)){case n.numberTag:case n.stringTag:case n.booleanTag:{const h=new r.constructor(r==null?void 0:r.valueOf());return t.copyProperties(h,r),h}case n.argumentsTag:{const h={};return t.copyProperties(h,r),h.length=r.length,h[Symbol.iterator]=r[Symbol.iterator],h}default:return}})}e.cloneDeepWith=i})(PL)),PL}var ZW;function BQe(){return ZW||(ZW=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FQe();function n(i){return t.cloneDeepWith(i)}e.cloneDeep=n})(IL)),IL}var kL={},$L={},eY;function $fe(){return eY||(eY=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(i,r=Number.MAX_SAFE_INTEGER){switch(typeof i){case"number":return Number.isInteger(i)&&i>=0&&i<r;case"symbol":return!1;case"string":return t.test(i)}}e.isIndex=n})($L)),$L}var FL={},tY;function zQe(){return tY||(tY=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ife();function n(i){return i!==null&&typeof i=="object"&&t.getTag(i)==="[object Arguments]"}e.isArguments=n})(FL)),FL}var nY;function UQe(){return nY||(nY=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rfe(),n=$fe(),i=zQe(),r=gk();function a(o,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?c=r.toPath(l):c=[l],c.length===0)return!1;let u=o;for(let d=0;d<c.length;d++){const h=c[d];if((u==null||!Object.hasOwn(u,h))&&!((Array.isArray(u)||i.isArguments(u))&&n.isIndex(h)&&h<u.length))return!1;u=u[h]}return!0}e.has=a})(kL)),kL}var iY;function VQe(){return iY||(iY=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mfe(),n=yk(),i=BQe(),r=vk(),a=UQe();function o(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return c=i.cloneDeep(c),function(u){const d=r.get(u,l);return d===void 0?a.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=o})(ML)),ML}var rY;function KQe(){return rY||(rY=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dfe(),n=TQe(),i=$Qe(),r=VQe();function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?r.matchesProperty(o[0],o[1]):i.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=a})(bL)),bL}var aY;function GQe(){return aY||(aY=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jQe(),n=Dfe(),i=LQe(),r=KQe();function a(o,l=n.identity){return i.isArrayLikeObject(o)?t.uniqBy(Array.from(o),r.iteratee(l)):[]}e.uniqBy=a})(hL)),hL}var BL,sY;function HQe(){return sY||(sY=1,BL=GQe().uniqBy),BL}var qQe=HQe();const oY=ol(qQe);function Ffe(e,t,n){return t===!0?oY(e,n):typeof t=="function"?oY(e,t):e}var _k=g.createContext(null),WQe=e=>e,Aa=()=>{var e=g.useContext(_k);return e?e.store.dispatch:WQe},hA=()=>{},YQe=()=>hA,JQe=(e,t)=>e===t;function gn(e){var t=g.useContext(_k);return WI.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:YQe,t?t.store.getState:hA,t?t.store.getState:hA,t?e:hA,JQe)}function QQe(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function XQe(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function ZQe(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(i=>typeof i=="function"?`function ${i.name||"unnamed"}()`:typeof i).join(", ");throw new TypeError(`${t}[${n}]`)}}var lY=e=>Array.isArray(e)?e:[e];function eXe(e){const t=Array.isArray(e[0])?e[0]:e;return ZQe(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function tXe(e,t){const n=[],{length:i}=e;for(let r=0;r<i;r++)n.push(e[r].apply(null,t));return n}var nXe=class{constructor(e){this.value=e}deref(){return this.value}},iXe=typeof WeakRef<"u"?WeakRef:nXe,rXe=0,cY=1;function f_(){return{s:rXe,v:void 0,o:null,p:null}}function Bfe(e,t={}){let n=f_();const{resultEqualityCheck:i}=t;let r,a=0;function o(){var h;let l=n;const{length:c}=arguments;for(let m=0,p=c;m<p;m++){const v=arguments[m];if(typeof v=="function"||typeof v=="object"&&v!==null){let S=l.o;S===null&&(l.o=S=new WeakMap);const b=S.get(v);b===void 0?(l=f_(),S.set(v,l)):l=b}else{let S=l.p;S===null&&(l.p=S=new Map);const b=S.get(v);b===void 0?(l=f_(),S.set(v,l)):l=b}}const u=l;let d;if(l.s===cY)d=l.v;else if(d=e.apply(null,arguments),a++,i){const m=((h=r==null?void 0:r.deref)==null?void 0:h.call(r))??r;m!=null&&i(m,d)&&(d=m,a!==0&&a--),r=typeof d=="object"&&d!==null||typeof d=="function"?new iXe(d):d}return u.s=cY,u.v=d,d}return o.clearCache=()=>{n=f_(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function aXe(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,i=(...r)=>{let a=0,o=0,l,c={},u=r.pop();typeof u=="object"&&(c=u,u=r.pop()),QQe(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...n,...c},{memoize:h,memoizeOptions:m=[],argsMemoize:p=Bfe,argsMemoizeOptions:v=[]}=d,S=lY(m),b=lY(v),w=eXe(r),R=h(function(){return a++,u.apply(null,arguments)},...S),E=p(function(){o++;const N=tXe(w,arguments);return l=R.apply(null,N),l},...b);return Object.assign(E,{resultFunc:u,memoizedResultFunc:R,dependencies:w,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:h,argsMemoize:p})};return Object.assign(i,{withTypes:()=>i}),i}var ot=aXe(Bfe),sXe=Object.assign((e,t=ot)=>{XQe(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),i=n.map(a=>e[a]);return t(i,(...a)=>a.reduce((o,l,c)=>(o[n[c]]=l,o),{}))},{withTypes:()=>sXe}),zL={},UL={},VL={},uY;function oXe(){return uY||(uY=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(i){return typeof i=="symbol"?1:i===null?2:i===void 0?3:i!==i?4:0}const n=(i,r,a)=>{if(i!==r){const o=t(i),l=t(r);if(o===l&&o===0){if(i<r)return a==="desc"?1:-1;if(i>r)return a==="desc"?-1:1}return a==="desc"?l-o:o-l}return 0};e.compareValues=n})(VL)),VL}var KL={},GL={},dY;function zfe(){return dY||(dY=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(GL)),GL}var fY;function lXe(){return fY||(fY=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zfe(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function r(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(i.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=r})(KL)),KL}var hY;function cXe(){return hY||(hY=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oXe(),n=lXe(),i=gk();function r(a,o,l,c){if(a==null)return[];l=c?void 0:l,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(p=>String(p));const u=(p,v)=>{let S=p;for(let b=0;b<v.length&&S!=null;++b)S=S[v[b]];return S},d=(p,v)=>v==null||p==null?v:typeof p=="object"&&"key"in p?Object.hasOwn(v,p.key)?v[p.key]:u(v,p.path):typeof p=="function"?p(v):Array.isArray(p)?u(v,p):typeof v=="object"?v[p]:v,h=o.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||n.isKey(p)?p:{key:p,path:i.toPath(p)}));return a.map(p=>({original:p,criteria:h.map(v=>d(v,p))})).slice().sort((p,v)=>{for(let S=0;S<h.length;S++){const b=t.compareValues(p.criteria[S],v.criteria[S],l[S]);if(b!==0)return b}return 0}).map(p=>p.original)}e.orderBy=r})(UL)),UL}var HL={},pY;function uXe(){return pY||(pY=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,i=1){const r=[],a=Math.floor(i),o=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<a?o(d,c+1):r.push(d)}};return o(n,0),r}e.flatten=t})(HL)),HL}var qL={},mY;function Ufe(){return mY||(mY=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$fe(),n=Ek(),i=Cfe(),r=Tfe();function a(o,l,c){return i.isObject(c)&&(typeof l=="number"&&n.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?r.eq(c[l],o):!1}e.isIterateeCall=a})(qL)),qL}var yY;function dXe(){return yY||(yY=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cXe(),n=uXe(),i=Ufe();function r(a,...o){const l=o.length;return l>1&&i.isIterateeCall(a,o[0],o[1])?o=[]:l>2&&i.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,n.flatten(o),["asc"])}e.sortBy=r})(zL)),zL}var WL,gY;function fXe(){return gY||(gY=1,WL=dXe().sortBy),WL}var hXe=fXe();const sj=ol(hXe);var Vfe=e=>e.legend.settings,pXe=e=>e.legend.size,mXe=e=>e.legend.payload,yXe=ot([mXe,Vfe],(e,t)=>{var{itemSorter:n}=t,i=e.flat(1);return n?sj(i,n):i});function gXe(){return gn(yXe)}var h_=1;function Kfe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=g.useState({height:0,left:0,top:0,width:0}),i=g.useCallback(r=>{if(r!=null){var a=r.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>h_||Math.abs(o.left-t.left)>h_||Math.abs(o.top-t.top)>h_||Math.abs(o.width-t.width)>h_)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,i]}function Ms(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var vXe=typeof Symbol=="function"&&Symbol.observable||"@@observable",vY=vXe,YL=()=>Math.random().toString(36).substring(7).split("").join("."),SXe={INIT:`@@redux/INIT${YL()}`,REPLACE:`@@redux/REPLACE${YL()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${YL()}`},zR=SXe;function Ak(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Gfe(e,t,n){if(typeof e!="function")throw new Error(Ms(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ms(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ms(1));return n(Gfe)(e,t)}let i=e,r=t,a=new Map,o=a,l=0,c=!1;function u(){o===a&&(o=new Map,a.forEach((b,w)=>{o.set(w,b)}))}function d(){if(c)throw new Error(Ms(3));return r}function h(b){if(typeof b!="function")throw new Error(Ms(4));if(c)throw new Error(Ms(5));let w=!0;u();const R=l++;return o.set(R,b),function(){if(w){if(c)throw new Error(Ms(6));w=!1,u(),o.delete(R),a=null}}}function m(b){if(!Ak(b))throw new Error(Ms(7));if(typeof b.type>"u")throw new Error(Ms(8));if(typeof b.type!="string")throw new Error(Ms(17));if(c)throw new Error(Ms(9));try{c=!0,r=i(r,b)}finally{c=!1}return(a=o).forEach(R=>{R()}),b}function p(b){if(typeof b!="function")throw new Error(Ms(10));i=b,m({type:zR.REPLACE})}function v(){const b=h;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error(Ms(11));function R(){const _=w;_.next&&_.next(d())}return R(),{unsubscribe:b(R)}},[vY](){return this}}}return m({type:zR.INIT}),{dispatch:m,subscribe:h,getState:d,replaceReducer:p,[vY]:v}}function bXe(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:zR.INIT})>"u")throw new Error(Ms(12));if(typeof n(void 0,{type:zR.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ms(13))})}function Hfe(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(n[o]=e[o])}const i=Object.keys(n);let r;try{bXe(n)}catch(a){r=a}return function(o={},l){if(r)throw r;let c=!1;const u={};for(let d=0;d<i.length;d++){const h=i[d],m=n[h],p=o[h],v=m(p,l);if(typeof v>"u")throw l&&l.type,new Error(Ms(14));u[h]=v,c=c||v!==p}return c=c||i.length!==Object.keys(o).length,c?u:o}}function UR(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...i)=>t(n(...i)))}function xXe(...e){return t=>(n,i)=>{const r=t(n,i);let a=()=>{throw new Error(Ms(15))};const o={getState:r.getState,dispatch:(c,...u)=>a(c,...u)},l=e.map(c=>c(o));return a=UR(...l)(r.dispatch),{...r,dispatch:a}}}function qfe(e){return Ak(e)&&"type"in e&&typeof e.type=="string"}var Wfe=Symbol.for("immer-nothing"),SY=Symbol.for("immer-draftable"),Wl=Symbol.for("immer-state");function _u(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Xx=Object.getPrototypeOf;function Ig(e){return!!e&&!!e[Wl]}function vh(e){var t;return e?Yfe(e)||Array.isArray(e)||!!e[SY]||!!((t=e.constructor)!=null&&t[SY])||nw(e)||lj(e):!1}var wXe=Object.prototype.constructor.toString(),bY=new WeakMap;function Yfe(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let i=bY.get(n);return i===void 0&&(i=Function.toString.call(n),bY.set(n,i)),i===wXe}function VR(e,t,n=!0){oj(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(r=>{t(r,e[r],e)}):e.forEach((i,r)=>t(r,i,e))}function oj(e){const t=e[Wl];return t?t.type_:Array.isArray(e)?1:nw(e)?2:lj(e)?3:0}function RM(e,t){return oj(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Jfe(e,t,n){const i=oj(e);i===2?e.set(t,n):i===3?e.add(n):e[t]=n}function EXe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function nw(e){return e instanceof Map}function lj(e){return e instanceof Set}function Dy(e){return e.copy_||e.base_}function NM(e,t){if(nw(e))return new Map(e);if(lj(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Yfe(e);if(t===!0||t==="class_only"&&!n){const i=Object.getOwnPropertyDescriptors(e);delete i[Wl];let r=Reflect.ownKeys(i);for(let a=0;a<r.length;a++){const o=r[a],l=i[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(i[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(Xx(e),i)}else{const i=Xx(e);if(i!==null&&n)return{...e};const r=Object.create(i);return Object.assign(r,e)}}function Rk(e,t=!1){return cj(e)||Ig(e)||!vh(e)||(oj(e)>1&&Object.defineProperties(e,{set:p_,add:p_,clear:p_,delete:p_}),Object.freeze(e),t&&Object.values(e).forEach(n=>Rk(n,!0))),e}function _Xe(){_u(2)}var p_={value:_Xe};function cj(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var AXe={};function Pg(e){const t=AXe[e];return t||_u(0,e),t}var Zx;function Qfe(){return Zx}function RXe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function xY(e,t){t&&(Pg("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function OM(e){jM(e),e.drafts_.forEach(NXe),e.drafts_=null}function jM(e){e===Zx&&(Zx=e.parent_)}function wY(e){return Zx=RXe(Zx,e)}function NXe(e){const t=e[Wl];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function EY(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Wl].modified_&&(OM(t),_u(4)),vh(e)&&(e=KR(t,e),t.parent_||GR(t,e)),t.patches_&&Pg("Patches").generateReplacementPatches_(n[Wl].base_,e,t.patches_,t.inversePatches_)):e=KR(t,n,[]),OM(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Wfe?e:void 0}function KR(e,t,n){if(cj(t))return t;const i=e.immer_.shouldUseStrictIteration(),r=t[Wl];if(!r)return VR(t,(a,o)=>_Y(e,r,t,a,o,n),i),t;if(r.scope_!==e)return t;if(!r.modified_)return GR(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const a=r.copy_;let o=a,l=!1;r.type_===3&&(o=new Set(a),a.clear(),l=!0),VR(o,(c,u)=>_Y(e,r,a,c,u,n,l),i),GR(e,a,!1),n&&e.patches_&&Pg("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function _Y(e,t,n,i,r,a,o){if(r==null||typeof r!="object"&&!o)return;const l=cj(r);if(!(l&&!o)){if(Ig(r)){const c=a&&t&&t.type_!==3&&!RM(t.assigned_,i)?a.concat(i):void 0,u=KR(e,r,c);if(Jfe(n,i,u),Ig(u))e.canAutoFreeze_=!1;else return}else o&&n.add(r);if(vh(r)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[i]===r&&l)return;KR(e,r),(!t||!t.scope_.parent_)&&typeof i!="symbol"&&(nw(n)?n.has(i):Object.prototype.propertyIsEnumerable.call(n,i))&&GR(e,r)}}}function GR(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Rk(t,n)}function OXe(e,t){const n=Array.isArray(e),i={type_:n?1:0,scope_:t?t.scope_:Qfe(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=i,a=Nk;n&&(r=[i],a=e2);const{revoke:o,proxy:l}=Proxy.revocable(r,a);return i.draft_=l,i.revoke_=o,l}var Nk={get(e,t){if(t===Wl)return e;const n=Dy(e);if(!RM(n,t))return jXe(e,n,t);const i=n[t];return e.finalized_||!vh(i)?i:i===JL(e.base_,t)?(QL(e),e.copy_[t]=CM(i,e)):i},has(e,t){return t in Dy(e)},ownKeys(e){return Reflect.ownKeys(Dy(e))},set(e,t,n){const i=Xfe(Dy(e),t);if(i!=null&&i.set)return i.set.call(e.draft_,n),!0;if(!e.modified_){const r=JL(Dy(e),t),a=r==null?void 0:r[Wl];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(EXe(n,r)&&(n!==void 0||RM(e.base_,t)))return!0;QL(e),DM(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return JL(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,QL(e),DM(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Dy(e),i=Reflect.getOwnPropertyDescriptor(n,t);return i&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:i.enumerable,value:n[t]}},defineProperty(){_u(11)},getPrototypeOf(e){return Xx(e.base_)},setPrototypeOf(){_u(12)}},e2={};VR(Nk,(e,t)=>{e2[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});e2.deleteProperty=function(e,t){return e2.set.call(this,e,t,void 0)};e2.set=function(e,t,n){return Nk.set.call(this,e[0],t,n,e[0])};function JL(e,t){const n=e[Wl];return(n?Dy(n):e)[t]}function jXe(e,t,n){var r;const i=Xfe(t,n);return i?"value"in i?i.value:(r=i.get)==null?void 0:r.call(e.draft_):void 0}function Xfe(e,t){if(!(t in e))return;let n=Xx(e);for(;n;){const i=Object.getOwnPropertyDescriptor(n,t);if(i)return i;n=Xx(n)}}function DM(e){e.modified_||(e.modified_=!0,e.parent_&&DM(e.parent_))}function QL(e){e.copy_||(e.copy_=NM(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var DXe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,i)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const o=this;return function(c=a,...u){return o.produce(c,d=>n.call(this,d,...u))}}typeof n!="function"&&_u(6),i!==void 0&&typeof i!="function"&&_u(7);let r;if(vh(t)){const a=wY(this),o=CM(t,void 0);let l=!0;try{r=n(o),l=!1}finally{l?OM(a):jM(a)}return xY(a,i),EY(r,a)}else if(!t||typeof t!="object"){if(r=n(t),r===void 0&&(r=t),r===Wfe&&(r=void 0),this.autoFreeze_&&Rk(r,!0),i){const a=[],o=[];Pg("Patches").generateReplacementPatches_(t,r,a,o),i(a,o)}return r}else _u(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,c=>t(c,...l));let i,r;return[this.produce(t,n,(o,l)=>{i=o,r=l}),i,r]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){vh(e)||_u(8),Ig(e)&&(e=ch(e));const t=wY(this),n=CM(e,void 0);return n[Wl].isManual_=!0,jM(t),n}finishDraft(e,t){const n=e&&e[Wl];(!n||!n.isManual_)&&_u(9);const{scope_:i}=n;return xY(i,t),EY(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(r.path.length===0&&r.op==="replace"){e=r.value;break}}n>-1&&(t=t.slice(n+1));const i=Pg("Patches").applyPatches_;return Ig(e)?i(e,t):this.produce(e,r=>i(r,t))}};function CM(e,t){const n=nw(e)?Pg("MapSet").proxyMap_(e,t):lj(e)?Pg("MapSet").proxySet_(e,t):OXe(e,t);return(t?t.scope_:Qfe()).drafts_.push(n),n}function ch(e){return Ig(e)||_u(10,e),Zfe(e)}function Zfe(e){if(!vh(e)||cj(e))return e;const t=e[Wl];let n,i=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=NM(e,t.scope_.immer_.useStrictShallowCopy_),i=t.scope_.immer_.shouldUseStrictIteration()}else n=NM(e,!0);return VR(n,(r,a)=>{Jfe(n,r,Zfe(a))},i),t&&(t.finalized_=!1),n}var CXe=new DXe,ehe=CXe.produce;function the(e){return({dispatch:n,getState:i})=>r=>a=>typeof a=="function"?a(n,i,e):r(a)}var LXe=the(),TXe=the,MXe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?UR:UR.apply(null,arguments)};function kc(e,t){function n(...i){if(t){let r=t(...i);if(!r)throw new Error(Vl(0));return{type:e,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:e,payload:i[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=i=>qfe(i)&&i.type===e,n}var nhe=class Gb extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Gb.prototype)}static get[Symbol.species](){return Gb}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Gb(...t[0].concat(this)):new Gb(...t.concat(this))}};function AY(e){return vh(e)?ehe(e,()=>{}):e}function m_(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function IXe(e){return typeof e=="boolean"}var PXe=()=>function(t){const{thunk:n=!0,immutableCheck:i=!0,serializableCheck:r=!0,actionCreatorCheck:a=!0}=t??{};let o=new nhe;return n&&(IXe(n)?o.push(LXe):o.push(TXe(n.extraArgument))),o},ihe="RTK_autoBatch",xo=()=>e=>({payload:e,meta:{[ihe]:!0}}),RY=e=>t=>{setTimeout(t,e)},rhe=(e={type:"raf"})=>t=>(...n)=>{const i=t(...n);let r=!0,a=!1,o=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:RY(10):e.type==="callback"?e.queueNotification:RY(e.timeout),u=()=>{o=!1,a&&(a=!1,l.forEach(d=>d()))};return Object.assign({},i,{subscribe(d){const h=()=>r&&d(),m=i.subscribe(h);return l.add(d),()=>{m(),l.delete(d)}},dispatch(d){var h;try{return r=!((h=d==null?void 0:d.meta)!=null&&h[ihe]),a=!r,a&&(o||(o=!0,c(u))),i.dispatch(d)}finally{r=!0}}})},kXe=e=>function(n){const{autoBatch:i=!0}=n??{};let r=new nhe(e);return i&&r.push(rhe(typeof i=="object"?i:void 0)),r};function $Xe(e){const t=PXe(),{reducer:n=void 0,middleware:i,devTools:r=!0,preloadedState:a=void 0,enhancers:o=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(Ak(n))l=Hfe(n);else throw new Error(Vl(1));let c;typeof i=="function"?c=i(t):c=t();let u=UR;r&&(u=MXe({trace:!1,...typeof r=="object"&&r}));const d=xXe(...c),h=kXe(d);let m=typeof o=="function"?o(h):h();const p=u(...m);return Gfe(l,a,p)}function ahe(e){const t={},n=[];let i;const r={addCase(a,o){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(Vl(28));if(l in t)throw new Error(Vl(29));return t[l]=o,r},addAsyncThunk(a,o){return o.pending&&(t[a.pending.type]=o.pending),o.rejected&&(t[a.rejected.type]=o.rejected),o.fulfilled&&(t[a.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:a.settled,reducer:o.settled}),r},addMatcher(a,o){return n.push({matcher:a,reducer:o}),r},addDefaultCase(a){return i=a,r}};return e(r),[t,n,i]}function FXe(e){return typeof e=="function"}function BXe(e,t){let[n,i,r]=ahe(t),a;if(FXe(e))a=()=>AY(e());else{const l=AY(e);a=()=>l}function o(l=a(),c){let u=[n[c.type],...i.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[r]),u.reduce((d,h)=>{if(h)if(Ig(d)){const p=h(d,c);return p===void 0?d:p}else{if(vh(d))return ehe(d,m=>h(m,c));{const m=h(d,c);if(m===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return d},l)}return o.getInitialState=a,o}var zXe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",UXe=(e=21)=>{let t="",n=e;for(;n--;)t+=zXe[Math.random()*64|0];return t},VXe=Symbol.for("rtk-slice-createasyncthunk");function KXe(e,t){return`${e}/${t}`}function GXe({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[VXe];return function(r){const{name:a,reducerPath:o=a}=r;if(!a)throw new Error(Vl(11));const l=(typeof r.reducers=="function"?r.reducers(qXe()):r.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(_,N){const O=typeof _=="string"?_:_.type;if(!O)throw new Error(Vl(12));if(O in u.sliceCaseReducersByType)throw new Error(Vl(13));return u.sliceCaseReducersByType[O]=N,d},addMatcher(_,N){return u.sliceMatchers.push({matcher:_,reducer:N}),d},exposeAction(_,N){return u.actionCreators[_]=N,d},exposeCaseReducer(_,N){return u.sliceCaseReducersByName[_]=N,d}};c.forEach(_=>{const N=l[_],O={reducerName:_,type:KXe(a,_),createNotation:typeof r.reducers=="function"};YXe(N)?QXe(O,N,d,t):WXe(O,N,d)});function h(){const[_={},N=[],O=void 0]=typeof r.extraReducers=="function"?ahe(r.extraReducers):[r.extraReducers],j={..._,...u.sliceCaseReducersByType};return BXe(r.initialState,D=>{for(let P in j)D.addCase(P,j[P]);for(let P of u.sliceMatchers)D.addMatcher(P.matcher,P.reducer);for(let P of N)D.addMatcher(P.matcher,P.reducer);O&&D.addDefaultCase(O)})}const m=_=>_,p=new Map,v=new WeakMap;let S;function b(_,N){return S||(S=h()),S(_,N)}function w(){return S||(S=h()),S.getInitialState()}function R(_,N=!1){function O(D){let P=D[_];return typeof P>"u"&&N&&(P=m_(v,O,w)),P}function j(D=m){const P=m_(p,N,()=>new WeakMap);return m_(P,D,()=>{const B={};for(const[M,z]of Object.entries(r.selectors??{}))B[M]=HXe(z,D,()=>m_(v,D,w),N);return B})}return{reducerPath:_,getSelectors:j,get selectors(){return j(O)},selectSlice:O}}const E={name:a,reducer:b,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:w,...R(o),injectInto(_,{reducerPath:N,...O}={}){const j=N??o;return _.inject({reducerPath:j,reducer:b},O),{...E,...R(j,!0)}}};return E}}function HXe(e,t,n,i){function r(a,...o){let l=t(a);return typeof l>"u"&&i&&(l=n()),e(l,...o)}return r.unwrapped=e,r}var Ql=GXe();function qXe(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function WXe({type:e,reducerName:t,createNotation:n},i,r){let a,o;if("reducer"in i){if(n&&!JXe(i))throw new Error(Vl(17));a=i.reducer,o=i.prepare}else a=i;r.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?kc(e,o):kc(e))}function YXe(e){return e._reducerDefinitionType==="asyncThunk"}function JXe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function QXe({type:e,reducerName:t},n,i,r){if(!r)throw new Error(Vl(18));const{payloadCreator:a,fulfilled:o,pending:l,rejected:c,settled:u,options:d}=n,h=r(e,a,d);i.exposeAction(t,h),o&&i.addCase(h.fulfilled,o),l&&i.addCase(h.pending,l),c&&i.addCase(h.rejected,c),u&&i.addMatcher(h.settled,u),i.exposeCaseReducer(t,{fulfilled:o||y_,pending:l||y_,rejected:c||y_,settled:u||y_})}function y_(){}var XXe="task",she="listener",ohe="completed",Ok="cancelled",ZXe=`task-${Ok}`,eZe=`task-${ohe}`,LM=`${she}-${Ok}`,tZe=`${she}-${ohe}`,uj=class{constructor(e){Fi(this,"name","TaskAbortError");Fi(this,"message");this.code=e,this.message=`${XXe} ${Ok} (reason: ${e})`}},jk=(e,t)=>{if(typeof e!="function")throw new TypeError(Vl(32))},HR=()=>{},lhe=(e,t=HR)=>(e.catch(t),e),che=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),fg=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},hg=e=>{if(e.aborted){const{reason:t}=e;throw new uj(t)}};function uhe(e,t){let n=HR;return new Promise((i,r)=>{const a=()=>r(new uj(e.reason));if(e.aborted){a();return}n=che(e,a),t.finally(()=>n()).then(i,r)}).finally(()=>{n=HR})}var nZe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof uj?"cancelled":"rejected",error:n}}finally{t==null||t()}},qR=e=>t=>lhe(uhe(e,t).then(n=>(hg(e),n))),dhe=e=>{const t=qR(e);return n=>t(new Promise(i=>setTimeout(i,n)))},{assign:W0}=Object,NY={},dj="listenerMiddleware",iZe=(e,t)=>{const n=i=>che(e,()=>fg(i,e.reason));return(i,r)=>{jk(i);const a=new AbortController;n(a);const o=nZe(async()=>{hg(e),hg(a.signal);const l=await i({pause:qR(a.signal),delay:dhe(a.signal),signal:a.signal});return hg(a.signal),l},()=>fg(a,eZe));return r!=null&&r.autoJoin&&t.push(o.catch(HR)),{result:qR(e)(o),cancel(){fg(a,ZXe)}}}},rZe=(e,t)=>{const n=async(i,r)=>{hg(t);let a=()=>{};const l=[new Promise((c,u)=>{let d=e({predicate:i,effect:(h,m)=>{m.unsubscribe(),c([h,m.getState(),m.getOriginalState()])}});a=()=>{d(),u()}})];r!=null&&l.push(new Promise(c=>setTimeout(c,r,null)));try{const c=await uhe(t,Promise.race(l));return hg(t),c}finally{a()}};return(i,r)=>lhe(n(i,r))},fhe=e=>{let{type:t,actionCreator:n,matcher:i,predicate:r,effect:a}=e;if(t)r=kc(t).match;else if(n)t=n.type,r=n.match;else if(i)r=i;else if(!r)throw new Error(Vl(21));return jk(a),{predicate:r,type:t,effect:a}},hhe=W0(e=>{const{type:t,predicate:n,effect:i}=fhe(e);return{id:UXe(),effect:i,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Vl(22))}}},{withTypes:()=>hhe}),OY=(e,t)=>{const{type:n,effect:i,predicate:r}=fhe(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===r)&&a.effect===i)},TM=e=>{e.pending.forEach(t=>{fg(t,LM)})},aZe=(e,t)=>()=>{for(const n of t.keys())TM(n);e.clear()},jY=(e,t,n)=>{try{e(t,n)}catch(i){setTimeout(()=>{throw i},0)}},phe=W0(kc(`${dj}/add`),{withTypes:()=>phe}),sZe=kc(`${dj}/removeAll`),mhe=W0(kc(`${dj}/remove`),{withTypes:()=>mhe}),oZe=(...e)=>{console.error(`${dj}/error`,...e)},iw=(e={})=>{const t=new Map,n=new Map,i=p=>{const v=n.get(p)??0;n.set(p,v+1)},r=p=>{const v=n.get(p)??1;v===1?n.delete(p):n.set(p,v-1)},{extra:a,onError:o=oZe}=e;jk(o);const l=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),v=>{p.unsubscribe(),v!=null&&v.cancelActive&&TM(p)}),c=p=>{const v=OY(t,p)??hhe(p);return l(v)};W0(c,{withTypes:()=>c});const u=p=>{const v=OY(t,p);return v&&(v.unsubscribe(),p.cancelActive&&TM(v)),!!v};W0(u,{withTypes:()=>u});const d=async(p,v,S,b)=>{const w=new AbortController,R=rZe(c,w.signal),E=[];try{p.pending.add(w),i(p),await Promise.resolve(p.effect(v,W0({},S,{getOriginalState:b,condition:(_,N)=>R(_,N).then(Boolean),take:R,delay:dhe(w.signal),pause:qR(w.signal),extra:a,signal:w.signal,fork:iZe(w.signal,E),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((_,N,O)=>{_!==w&&(fg(_,LM),O.delete(_))})},cancel:()=>{fg(w,LM),p.pending.delete(w)},throwIfCancelled:()=>{hg(w.signal)}})))}catch(_){_ instanceof uj||jY(o,_,{raisedBy:"effect"})}finally{await Promise.all(E),fg(w,tZe),r(p),p.pending.delete(w)}},h=aZe(t,n);return{middleware:p=>v=>S=>{if(!qfe(S))return v(S);if(phe.match(S))return c(S.payload);if(sZe.match(S)){h();return}if(mhe.match(S))return u(S.payload);let b=p.getState();const w=()=>{if(b===NY)throw new Error(Vl(23));return b};let R;try{if(R=v(S),t.size>0){const E=p.getState(),_=Array.from(t.values());for(const N of _){let O=!1;try{O=N.predicate(S,E,b)}catch(j){O=!1,jY(o,j,{raisedBy:"predicate"})}O&&d(N,S,p,w)}}}finally{b=NY}return R},startListening:c,stopListening:u,clearListeners:h}};function Vl(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var lZe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},yhe=Ql({name:"chartLayout",initialState:lZe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,i,r,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(i=t.payload.right)!==null&&i!==void 0?i:0,e.margin.bottom=(r=t.payload.bottom)!==null&&r!==void 0?r:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:cZe,setLayout:uZe,setChartSize:dZe,setScale:fZe}=yhe.actions,hZe=yhe.reducer;function DY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function CY(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DY(Object(n),!0).forEach(function(i){pZe(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DY(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function pZe(e,t,n){return(t=mZe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mZe(e){var t=yZe(e,"string");return typeof t=="symbol"?t:t+""}function yZe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WR=Math.PI/180,gZe=e=>e*180/Math.PI,Ps=(e,t,n,i)=>({x:e+Math.cos(-WR*i)*n,y:t+Math.sin(-WR*i)*n}),vZe=function(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(i.left||0)-(i.right||0)),Math.abs(n-(i.top||0)-(i.bottom||0)))/2},SZe=(e,t)=>{var{x:n,y:i}=e,{x:r,y:a}=t;return Math.sqrt((n-r)**2+(i-a)**2)},bZe=(e,t)=>{var{x:n,y:i}=e,{cx:r,cy:a}=t,o=SZe({x:n,y:i},{x:r,y:a});if(o<=0)return{radius:o,angle:0};var l=(n-r)/o,c=Math.acos(l);return i>a&&(c=2*Math.PI-c),{radius:o,angle:gZe(c),angleInRadian:c}},xZe=e=>{var{startAngle:t,endAngle:n}=e,i=Math.floor(t/360),r=Math.floor(n/360),a=Math.min(i,r);return{startAngle:t-a*360,endAngle:n-a*360}},wZe=(e,t)=>{var{startAngle:n,endAngle:i}=t,r=Math.floor(n/360),a=Math.floor(i/360),o=Math.min(r,a);return e+o*360},EZe=(e,t)=>{var{x:n,y:i}=e,{radius:r,angle:a}=bZe({x:n,y:i},t),{innerRadius:o,outerRadius:l}=t;if(r<o||r>l||r===0)return null;var{startAngle:c,endAngle:u}=xZe(t),d=a,h;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;h=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;h=d>=u&&d<=c}return h?CY(CY({},t),{},{radius:r,angle:wZe(d,t)}):null};function ghe(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function LY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function jc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LY(Object(n),!0).forEach(function(i){_Ze(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LY(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _Ze(e,t,n){return(t=AZe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AZe(e){var t=RZe(e,"string");return typeof t=="symbol"?t:t+""}function RZe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ia(e,t,n){return Cr(e)||Cr(t)?n:Gd(t)?L1(e,t,n):typeof t=="function"?t(e):n}var NZe=(e,t,n,i,r)=>{var a,o=-1,l=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(l<=1||e==null)return 0;if(i==="angleAxis"&&r!=null&&Math.abs(Math.abs(r[1]-r[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?n[c-1].coordinate:n[l-1].coordinate,d=n[c].coordinate,h=c>=l-1?n[0].coordinate:n[c+1].coordinate,m=void 0;if(il(d-u)!==il(h-d)){var p=[];if(il(h-d)===il(r[1]-r[0])){m=h;var v=d+r[1]-r[0];p[0]=Math.min(v,(v+u)/2),p[1]=Math.max(v,(v+u)/2)}else{m=u;var S=h+r[1]-r[0];p[0]=Math.min(d,(S+d)/2),p[1]=Math.max(d,(S+d)/2)}var b=[Math.min(d,(m+d)/2),Math.max(d,(m+d)/2)];if(e>b[0]&&e<=b[1]||e>=p[0]&&e<=p[1]){({index:o}=n[c]);break}}else{var w=Math.min(u,h),R=Math.max(u,h);if(e>(w+d)/2&&e<=(R+d)/2){({index:o}=n[c]);break}}}else if(t){for(var E=0;E<l;E++)if(E===0&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E>0&&E<l-1&&e>(t[E].coordinate+t[E-1].coordinate)/2&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E===l-1&&e>(t[E].coordinate+t[E-1].coordinate)/2){({index:o}=t[E]);break}}return o},OZe=(e,t,n)=>{if(t&&n){var{width:i,height:r}=n,{align:a,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&a!=="center"&&fn(e[a]))return jc(jc({},e),{},{[a]:e[a]+(i||0)});if((l==="horizontal"||l==="vertical"&&a==="center")&&o!=="middle"&&fn(e[o]))return jc(jc({},e),{},{[o]:e[o]+(r||0)})}return e},tf=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",vhe=(e,t,n,i)=>{if(i)return e.map(l=>l.coordinate);var r,a,o=e.map(l=>(l.coordinate===t&&(r=!0),l.coordinate===n&&(a=!0),l.coordinate));return r||o.push(t),a||o.push(n),o},She=(e,t,n)=>{if(!e)return null;var{duplicateDomain:i,type:r,range:a,scale:o,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:h,niceTicks:m,axisType:p}=e;if(!o)return null;var v=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,S=r==="category"&&o.bandwidth?o.bandwidth()/v:0;if(S=p==="angleAxis"&&a&&a.length>=2?il(a[0]-a[1])*2*S:S,h||m){var b=(h||m||[]).map((w,R)=>{var E=i?i.indexOf(w):w;return{coordinate:o(E)+S,value:w,offset:S,index:R}});return b.filter(w=>!ql(w.coordinate))}return c&&u?u.map((w,R)=>({coordinate:o(w)+S,value:w,index:R,offset:S})):o.ticks&&d!=null?o.ticks(d).map((w,R)=>({coordinate:o(w)+S,value:w,offset:S,index:R})):o.domain().map((w,R)=>({coordinate:o(w)+S,value:i?i[w]:w,index:R,offset:S}))},TY=1e-4,jZe=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,i=e.range(),r=Math.min(i[0],i[1])-TY,a=Math.max(i[0],i[1])+TY,o=e(t[0]),l=e(t[n-1]);(o<r||o>a||l<r||l>a)&&e.domain([t[0],t[n-1]])}},DZe=(e,t)=>{if(!t||t.length!==2||!fn(t[0])||!fn(t[1]))return e;var n=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]),r=[e[0],e[1]];return(!fn(e[0])||e[0]<n)&&(r[0]=n),(!fn(e[1])||e[1]>i)&&(r[1]=i),r[0]>i&&(r[0]=i),r[1]<n&&(r[1]=n),r},CZe=e=>{var t=e.length;if(!(t<=0))for(var n=0,i=e[0].length;n<i;++n)for(var r=0,a=0,o=0;o<t;++o){var l=ql(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=r,e[o][n][1]=r+l,r=e[o][n][1]):(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1])}},LZe=e=>{var t=e.length;if(!(t<=0))for(var n=0,i=e[0].length;n<i;++n)for(var r=0,a=0;a<t;++a){var o=ql(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=r,e[a][n][1]=r+o,r=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},TZe={sign:CZe,expand:oQe,none:C1,silhouette:lQe,wiggle:cQe,positive:LZe},MZe=(e,t,n)=>{var i=TZe[n],r=sQe().keys(t).value((a,o)=>+Ia(a,o,0)).order(EM).offset(i);return r(e)};function bhe(e){return e==null?void 0:String(e)}function YR(e){var{axis:t,ticks:n,bandSize:i,entry:r,index:a,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Cr(r[t.dataKey])){var l=Ofe(n,"value",r[t.dataKey]);if(l)return l.coordinate+i/2}return n[a]?n[a].coordinate+i/2:null}var c=Ia(r,Cr(o)?t.dataKey:o);return Cr(c)?null:t.scale(c)}var MY=e=>{var{axis:t,ticks:n,offset:i,bandSize:r,entry:a,index:o}=e;if(t.type==="category")return n[o]?n[o].coordinate+i:null;var l=Ia(a,t.dataKey,t.scale.domain()[o]);return Cr(l)?null:t.scale(l)-r/2+i},IZe=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var i=Math.min(n[0],n[1]),r=Math.max(n[0],n[1]);return i<=0&&r>=0?0:r<0?r:i}return n[0]},PZe=e=>{var t=e.flat(2).filter(fn);return[Math.min(...t),Math.max(...t)]},kZe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],$Ze=(e,t,n)=>{if(e!=null)return kZe(Object.keys(e).reduce((i,r)=>{var a=e[r],{stackedData:o}=a,l=o.reduce((c,u)=>{var d=ghe(u,t,n),h=PZe(d);return[Math.min(c[0],h[0]),Math.max(c[1],h[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]))},IY=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,PY=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kg=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&t&&t.length>=2){for(var r=sj(t,d=>d.coordinate),a=1/0,o=1,l=r.length;o<l;o++){var c=r[o],u=r[o-1];a=Math.min((c.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function kY(e){var{tooltipEntrySettings:t,dataKey:n,payload:i,value:r,name:a}=e;return jc(jc({},t),{},{dataKey:n,payload:i,value:r,name:a})}function nS(e,t){if(e)return String(e);if(typeof t=="string")return t}function FZe(e,t,n,i,r){if(n==="horizontal"||n==="vertical"){var a=e>=r.left&&e<=r.left+r.width&&t>=r.top&&t<=r.top+r.height;return a?{x:e,y:t}:null}return i?EZe({x:e,y:t},i):null}var BZe=(e,t,n,i)=>{var r=t.find(u=>u&&u.index===n);if(r){if(e==="horizontal")return{x:r.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:r.coordinate};if(e==="centric"){var a=r.coordinate,{radius:o}=i;return jc(jc(jc({},i),Ps(i.cx,i.cy,o,a)),{},{angle:a,radius:o})}var l=r.coordinate,{angle:c}=i;return jc(jc(jc({},i),Ps(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},zZe=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Nh=e=>e.layout.width,Oh=e=>e.layout.height,UZe=e=>e.layout.scale,xhe=e=>e.layout.margin,fj=ot(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),hj=ot(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),VZe="data-recharts-item-index",KZe="data-recharts-item-data-key",rw=60;function $Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function g_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$Y(Object(n),!0).forEach(function(i){GZe(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$Y(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function GZe(e,t,n){return(t=HZe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HZe(e){var t=qZe(e,"string");return typeof t=="symbol"?t:t+""}function qZe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WZe=e=>e.brush.height;function YZe(e){var t=hj(e);return t.reduce((n,i)=>{if(i.orientation==="left"&&!i.mirror&&!i.hide){var r=typeof i.width=="number"?i.width:rw;return n+r}return n},0)}function JZe(e){var t=hj(e);return t.reduce((n,i)=>{if(i.orientation==="right"&&!i.mirror&&!i.hide){var r=typeof i.width=="number"?i.width:rw;return n+r}return n},0)}function QZe(e){var t=fj(e);return t.reduce((n,i)=>i.orientation==="top"&&!i.mirror&&!i.hide?n+i.height:n,0)}function XZe(e){var t=fj(e);return t.reduce((n,i)=>i.orientation==="bottom"&&!i.mirror&&!i.hide?n+i.height:n,0)}var ws=ot([Nh,Oh,xhe,WZe,YZe,JZe,QZe,XZe,Vfe,pXe],(e,t,n,i,r,a,o,l,c,u)=>{var d={left:(n.left||0)+r,right:(n.right||0)+a},h={top:(n.top||0)+o,bottom:(n.bottom||0)+l},m=g_(g_({},h),d),p=m.bottom;m.bottom+=i,m=OZe(m,c,u);var v=e-m.left-m.right,S=t-m.top-m.bottom;return g_(g_({brushBottom:p},m),{},{width:Math.max(v,0),height:Math.max(S,0)})}),ZZe=ot(ws,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Dk=ot(Nh,Oh,(e,t)=>({x:0,y:0,width:e,height:t})),eet=g.createContext(null),$s=()=>g.useContext(eet)!=null,pj=e=>e.brush,mj=ot([pj,ws,xhe],(e,t,n)=>({height:e.height,x:fn(e.x)?e.x:t.left,y:fn(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:fn(e.width)?e.width:t.width})),XL={},ZL={},eT={},FY;function tet(){return FY||(FY=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,i,{signal:r,edges:a}={}){let o,l=null;const c=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),d=()=>{l!==null&&(n.apply(o,l),o=void 0,l=null)},h=()=>{u&&d(),S()};let m=null;const p=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,h()},i)},v=()=>{m!==null&&(clearTimeout(m),m=null)},S=()=>{v(),o=void 0,l=null},b=()=>{d()},w=function(...R){if(r!=null&&r.aborted)return;o=this,l=R;const E=m==null;p(),c&&E&&d()};return w.schedule=p,w.cancel=S,w.flush=b,r==null||r.addEventListener("abort",S,{once:!0}),w}e.debounce=t})(eT)),eT}var BY;function net(){return BY||(BY=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tet();function n(i,r=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:l=!0,maxWait:c}=a,u=Array(2);o&&(u[0]="leading"),l&&(u[1]="trailing");let d,h=null;const m=t.debounce(function(...S){d=i.apply(this,S),h=null},r,{edges:u}),p=function(...S){return c!=null&&(h===null&&(h=Date.now()),Date.now()-h>=c)?(d=i.apply(this,S),h=Date.now(),m.cancel(),m.schedule(),d):(m.apply(this,S),d)},v=()=>(m.flush(),d);return p.cancel=m.cancel,p.flush=v,p}e.debounce=n})(ZL)),ZL}var zY;function iet(){return zY||(zY=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=net();function n(i,r=0,a={}){const{leading:o=!0,trailing:l=!0}=a;return t.debounce(i,r,{leading:o,maxWait:r,trailing:l})}e.throttle=n})(XL)),XL}var tT,UY;function ret(){return UY||(UY=1,tT=iet().throttle),tT}var aet=ret();const set=ol(aet);var JR=function(t,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),a=2;a<i;a++)r[a-2]=arguments[a]},whe=(e,t,n)=>{var{width:i="100%",height:r="100%",aspect:a,maxHeight:o}=n,l=gh(i)?e:Number(i),c=gh(r)?t:Number(r);return a&&a>0&&(l?c=l/a:c&&(l=c*a),o&&c>o&&(c=o)),{calculatedWidth:l,calculatedHeight:c}},oet={width:0,height:0,overflow:"visible"},cet={width:0,overflowX:"visible"},uet={height:0,overflowY:"visible"},det={},fet=e=>{var{width:t,height:n}=e,i=gh(t),r=gh(n);return i&&r?oet:i?cet:r?uet:det};function het(e){var{width:t,height:n,aspect:i}=e,r=t,a=n;return r===void 0&&a===void 0?(r="100%",a="100%"):r===void 0?r=i&&i>0?void 0:"100%":a===void 0&&(a=i&&i>0?void 0:"100%"),{width:r,height:a}}function $a(e){return Number.isFinite(e)}function T1(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function MM(){return MM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},MM.apply(null,arguments)}function VY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function KY(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VY(Object(n),!0).forEach(function(i){pet(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VY(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function pet(e,t,n){return(t=met(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function met(e){var t=yet(e,"string");return typeof t=="symbol"?t:t+""}function yet(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ehe=g.createContext({width:-1,height:-1});function _he(e){var{children:t,width:n,height:i}=e,r=g.useMemo(()=>({width:n,height:i}),[n,i]);return n<=0||i<=0?null:g.createElement(Ehe.Provider,{value:r},t)}var Ck=()=>g.useContext(Ehe),get=g.forwardRef((e,t)=>{var{aspect:n,initialDimension:i={width:-1,height:-1},width:r,height:a,minWidth:o=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:h,className:m,onResize:p,style:v={}}=e,S=g.useRef(null),b=g.useRef();b.current=p,g.useImperativeHandle(t,()=>S.current);var[w,R]=g.useState({containerWidth:i.width,containerHeight:i.height}),E=g.useCallback((D,P)=>{R(B=>{var M=Math.round(D),z=Math.round(P);return B.containerWidth===M&&B.containerHeight===z?B:{containerWidth:M,containerHeight:z}})},[]);g.useEffect(()=>{var D=z=>{var U,{width:K,height:te}=z[0].contentRect;E(K,te),(U=b.current)===null||U===void 0||U.call(b,K,te)};d>0&&(D=set(D,d,{trailing:!0,leading:!1}));var P=new ResizeObserver(D),{width:B,height:M}=S.current.getBoundingClientRect();return E(B,M),P.observe(S.current),()=>{P.disconnect()}},[E,d]);var{containerWidth:_,containerHeight:N}=w;JR(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:O,calculatedHeight:j}=whe(_,N,{width:r,height:a,aspect:n,maxHeight:c});return JR(O>0||j>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,j,r,a,o,l,n),g.createElement("div",{id:h?"".concat(h):void 0,className:Bi("recharts-responsive-container",m),style:KY(KY({},v),{},{width:r,height:a,minWidth:o,minHeight:l,maxHeight:c}),ref:S},g.createElement("div",{style:fet({width:r,height:a})},g.createElement(_he,{width:O,height:j},u)))}),vet=g.forwardRef((e,t)=>{var n=Ck();if(T1(n.width)&&T1(n.height))return e.children;var{width:i,height:r}=het({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:o}=whe(void 0,void 0,{width:i,height:r,aspect:e.aspect,maxHeight:e.maxHeight});return fn(a)&&fn(o)?g.createElement(_he,{width:a,height:o},e.children):g.createElement(get,MM({},e,{width:i,height:r,ref:t}))}),yj=()=>{var e,t=$s(),n=gn(ZZe),i=gn(mj),r=(e=gn(pj))===null||e===void 0?void 0:e.padding;return!t||!i||!r?n:{width:i.width-r.left-r.right,height:i.height-r.top-r.bottom,x:r.left,y:r.top}},bet={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Ahe=()=>{var e;return(e=gn(ws))!==null&&e!==void 0?e:bet},Lk=()=>gn(Nh),Tk=()=>gn(Oh),xet=()=>gn(e=>e.layout.margin),_i=e=>e.layout.layoutType,aw=()=>gn(_i),gj=e=>{var t=Aa(),n=$s(),{width:i,height:r}=e,a=Ck(),o=i,l=r;return a&&(o=a.width>0?a.width:i,l=a.height>0?a.height:r),g.useEffect(()=>{!n&&T1(o)&&T1(l)&&t(dZe({width:o,height:l}))},[t,n,o,l]),null},wet={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Rhe=Ql({name:"legend",initialState:wet,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:xo()},removeLegendPayload:{reducer(e,t){var n=ch(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:xo()}}}),{setLegendSize:GY,setLegendSettings:Eet,addLegendPayload:_et,removeLegendPayload:Aet}=Rhe.actions,Ret=Rhe.reducer,Net=["contextPayload"];function IM(){return IM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},IM.apply(null,arguments)}function HY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function M1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HY(Object(n),!0).forEach(function(i){Mk(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HY(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Mk(e,t,n){return(t=Oet(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oet(e){var t=jet(e,"string");return typeof t=="symbol"?t:t+""}function jet(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Det(e,t){if(e==null)return{};var n,i,r=Cet(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Cet(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function Let(e){return e.value}function Tet(e){var{contextPayload:t}=e,n=Det(e,Net),i=Ffe(t,e.payloadUniqBy,Let),r=M1(M1({},n),{},{payload:i});return g.isValidElement(e.content)?g.cloneElement(e.content,r):typeof e.content=="function"?g.createElement(e.content,r):g.createElement(wk,r)}function Met(e,t,n,i,r,a){var{layout:o,align:l,verticalAlign:c}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&o==="vertical"?u={left:((i||0)-a.width)/2}:u=l==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?d={top:((r||0)-a.height)/2}:d=c==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),M1(M1({},u),d)}function Iet(e){var t=Aa();return g.useEffect(()=>{t(Eet(e))},[t,e]),null}function Pet(e){var t=Aa();return g.useEffect(()=>(t(GY(e)),()=>{t(GY({width:0,height:0}))}),[t,e]),null}function ket(e){var t=gXe(),n=DJe(),i=xet(),{width:r,height:a,wrapperStyle:o,portal:l}=e,[c,u]=Kfe([t]),d=Lk(),h=Tk();if(d==null||h==null)return null;var m=d-(i.left||0)-(i.right||0),p=vj.getWidthOrHeight(e.layout,a,r,m),v=l?o:M1(M1({position:"absolute",width:(p==null?void 0:p.width)||r||"auto",height:(p==null?void 0:p.height)||a||"auto"},Met(o,e,i,d,h,c)),o),S=l??n;if(S==null)return null;var b=g.createElement("div",{className:"recharts-legend-wrapper",style:v,ref:u},g.createElement(Iet,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),g.createElement(Pet,{width:c.width,height:c.height}),g.createElement(Tet,IM({},e,p,{margin:i,chartWidth:d,chartHeight:h,contextPayload:t})));return Kl.createPortal(b,S)}class vj extends g.PureComponent{static getWidthOrHeight(t,n,i,r){return t==="vertical"&&fn(n)?{height:n}:t==="horizontal"?{width:i||r}:null}render(){return g.createElement(ket,this.props)}}Mk(vj,"displayName","Legend");Mk(vj,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function PM(){return PM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},PM.apply(null,arguments)}function qY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function nT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qY(Object(n),!0).forEach(function(i){$et(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qY(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function $et(e,t,n){return(t=Fet(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fet(e){var t=Bet(e,"string");return typeof t=="symbol"?t:t+""}function Bet(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zet(e){return Array.isArray(e)&&Gd(e[0])&&Gd(e[1])?e.join(" ~ "):e}var Uet=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:i={},labelStyle:r={},payload:a,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:h,accessibilityLayer:m=!1}=e,p=()=>{if(a&&a.length){var N={padding:0,margin:0},O=(l?sj(a,l):a).map((j,D)=>{if(j.type==="none")return null;var P=j.formatter||o||zet,{value:B,name:M}=j,z=B,U=M;if(P){var K=P(B,M,j,D,a);if(Array.isArray(K))[z,U]=K;else if(K!=null)z=K;else return null}var te=nT({display:"block",paddingTop:4,paddingBottom:4,color:j.color||"#000"},i);return g.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:te},Gd(U)?g.createElement("span",{className:"recharts-tooltip-item-name"},U):null,Gd(U)?g.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,g.createElement("span",{className:"recharts-tooltip-item-value"},z),g.createElement("span",{className:"recharts-tooltip-item-unit"},j.unit||""))});return g.createElement("ul",{className:"recharts-tooltip-item-list",style:N},O)}return null},v=nT({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),S=nT({margin:0},r),b=!Cr(d),w=b?d:"",R=Bi("recharts-default-tooltip",c),E=Bi("recharts-tooltip-label",u);b&&h&&a!==void 0&&a!==null&&(w=h(d,a));var _=m?{role:"status","aria-live":"assertive"}:{};return g.createElement("div",PM({className:R,style:v},_),g.createElement("p",{className:E,style:S},g.isValidElement(w)?w:"".concat(w)),p())},pb="recharts-tooltip-wrapper",Vet={visibility:"hidden"};function Ket(e){var{coordinate:t,translateX:n,translateY:i}=e;return Bi(pb,{["".concat(pb,"-right")]:fn(n)&&t&&fn(t.x)&&n>=t.x,["".concat(pb,"-left")]:fn(n)&&t&&fn(t.x)&&n<t.x,["".concat(pb,"-bottom")]:fn(i)&&t&&fn(t.y)&&i>=t.y,["".concat(pb,"-top")]:fn(i)&&t&&fn(t.y)&&i<t.y})}function WY(e){var{allowEscapeViewBox:t,coordinate:n,key:i,offsetTopLeft:r,position:a,reverseDirection:o,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(a&&fn(a[i]))return a[i];var d=n[i]-l-(r>0?r:0),h=n[i]+r;if(t[i])return o[i]?d:h;var m=c[i];if(m==null)return 0;if(o[i]){var p=d,v=m;return p<v?Math.max(h,m):Math.max(d,m)}if(u==null)return 0;var S=h+l,b=m+u;return S>b?Math.max(d,m):Math.max(h,m)}function Get(e){var{translateX:t,translateY:n,useTranslate3d:i}=e;return{transform:i?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function Het(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:i,position:r,reverseDirection:a,tooltipBox:o,useTranslate3d:l,viewBox:c}=e,u,d,h;return o.height>0&&o.width>0&&n?(d=WY({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:i,position:r,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=WY({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:i,position:r,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Get({translateX:d,translateY:h,useTranslate3d:l})):u=Vet,{cssProperties:u,cssClasses:Ket({translateX:d,translateY:h,coordinate:n})}}function YY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function v_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YY(Object(n),!0).forEach(function(i){kM(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YY(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function kM(e,t,n){return(t=qet(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qet(e){var t=Wet(e,"string");return typeof t=="symbol"?t:t+""}function Wet(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Yet extends g.PureComponent{constructor(){super(...arguments),kM(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),kM(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,i,r,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(i=this.props.coordinate)===null||i===void 0?void 0:i.x)!==null&&n!==void 0?n:0,y:(r=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&r!==void 0?r:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:i,animationEasing:r,children:a,coordinate:o,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:h,useTranslate3d:m,viewBox:p,wrapperStyle:v,lastBoundingBox:S,innerRef:b,hasPortalFromProps:w}=this.props,{cssClasses:R,cssProperties:E}=Het({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:u,position:d,reverseDirection:h,tooltipBox:{height:S.height,width:S.width},useTranslate3d:m,viewBox:p}),_=w?{}:v_(v_({transition:c&&t?"transform ".concat(i,"ms ").concat(r):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),N=v_(v_({},_),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},v);return g.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:R,style:N,ref:b},a)}}var Jet=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Tm={devToolsEnabled:!1,isSsr:Jet()},Nhe=()=>gn(e=>e.rootProps.accessibilityLayer);function $M(){return $M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},$M.apply(null,arguments)}function JY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function QY(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JY(Object(n),!0).forEach(function(i){Qet(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JY(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Qet(e,t,n){return(t=Xet(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xet(e){var t=Zet(e,"string");return typeof t=="symbol"?t:t+""}function Zet(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XY={curveBasisClosed:YJe,curveBasisOpen:JJe,curveBasis:WJe,curveBumpX:MJe,curveBumpY:IJe,curveLinearClosed:QJe,curveLinear:ij,curveMonotoneX:XJe,curveMonotoneY:ZJe,curveNatural:eQe,curveStep:tQe,curveStepAfter:iQe,curveStepBefore:nQe},S_=e=>$a(e.x)&&$a(e.y),mb=e=>e.x,yb=e=>e.y,ett=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(tw(e));return(n==="curveMonotone"||n==="curveBump")&&t?XY["".concat(n).concat(t==="vertical"?"Y":"X")]:XY[n]||ij},ttt=e=>{var{type:t="linear",points:n=[],baseLine:i,layout:r,connectNulls:a=!1}=e,o=ett(t,r),l=a?n.filter(S_):n,c;if(Array.isArray(i)){var u=a?i.filter(h=>S_(h)):i,d=l.map((h,m)=>QY(QY({},h),{},{base:u[m]}));return r==="vertical"?c=d_().y(yb).x1(mb).x0(h=>h.base.x):c=d_().x(mb).y1(yb).y0(h=>h.base.y),c.defined(S_).curve(o),c(d)}return r==="vertical"&&fn(i)?c=d_().y(yb).x1(mb).x0(i):fn(i)?c=d_().x(mb).y1(yb).y0(i):c=mfe().x(mb).y(yb),c.defined(S_).curve(o),c(l)},lx=e=>{var{className:t,points:n,path:i,pathRef:r}=e;if((!n||!n.length)&&!i)return null;var a=n&&n.length?ttt(e):i;return g.createElement("path",$M({},Hl(e),bk(e),{className:Bi("recharts-curve",t),d:a===null?void 0:a,ref:r}))},ntt=["x","y","top","left","width","height","className"];function FM(){return FM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},FM.apply(null,arguments)}function ZY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function itt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZY(Object(n),!0).forEach(function(i){rtt(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZY(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function rtt(e,t,n){return(t=att(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function att(e){var t=stt(e,"string");return typeof t=="symbol"?t:t+""}function stt(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ott(e,t){if(e==null)return{};var n,i,r=ltt(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ltt(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var ctt=(e,t,n,i,r,a)=>"M".concat(e,",").concat(r,"v").concat(i,"M").concat(a,",").concat(t,"h").concat(n),utt=e=>{var{x:t=0,y:n=0,top:i=0,left:r=0,width:a=0,height:o=0,className:l}=e,c=ott(e,ntt),u=itt({x:t,y:n,top:i,left:r,width:a,height:o},c);return!fn(t)||!fn(n)||!fn(a)||!fn(o)||!fn(i)||!fn(r)?null:g.createElement("path",FM({},Oo(u),{className:Bi("recharts-cross",l),d:ctt(t,n,a,o,i,r)}))};function dtt(e,t,n,i){var r=i/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-r:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-r,width:e==="horizontal"?i:n.width-1,height:e==="horizontal"?n.height-1:i}}function eJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function ftt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eJ(Object(n),!0).forEach(function(i){htt(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eJ(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function htt(e,t,n){return(t=ptt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ptt(e){var t=mtt(e,"string");return typeof t=="symbol"?t:t+""}function mtt(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ro(e,t){var n=ftt({},e),i=t,r=Object.keys(t),a=r.reduce((o,l)=>(o[l]===void 0&&i[l]!==void 0&&(o[l]=i[l]),o),n);return a}function ytt(){}function gtt(e){return e!=null}function tJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function nJ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tJ(Object(n),!0).forEach(function(i){vtt(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tJ(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function vtt(e,t,n){return(t=Stt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Stt(e){var t=btt(e,"string");return typeof t=="symbol"?t:t+""}function btt(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xtt=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Ohe=(e,t,n)=>e.map(i=>"".concat(xtt(i)," ").concat(t,"ms ").concat(n)).join(","),wtt=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,i)=>n.filter(r=>i.includes(r))),t2=(e,t)=>Object.keys(t).reduce((n,i)=>nJ(nJ({},n),{},{[i]:e(i,t[i])}),{});function iJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function Is(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iJ(Object(n),!0).forEach(function(i){Ett(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iJ(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Ett(e,t,n){return(t=_tt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _tt(e){var t=Att(e,"string");return typeof t=="symbol"?t:t+""}function Att(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QR=(e,t,n)=>e+(t-e)*n,BM=e=>{var{from:t,to:n}=e;return t!==n},jhe=(e,t,n)=>{var i=t2((r,a)=>{if(BM(a)){var[o,l]=e(a.from,a.to,a.velocity);return Is(Is({},a),{},{from:o,velocity:l})}return a},t);return n<1?t2((r,a)=>BM(a)?Is(Is({},a),{},{velocity:QR(a.velocity,i[r].velocity,n),from:QR(a.from,i[r].from,n)}):a,t):jhe(e,i,n-1)};function Rtt(e,t,n,i,r,a){var o,l=i.reduce((m,p)=>Is(Is({},m),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),c=()=>t2((m,p)=>p.from,l),u=()=>!Object.values(l).filter(BM).length,d=null,h=m=>{o||(o=m);var p=m-o,v=p/n.dt;l=jhe(n,l,v),r(Is(Is(Is({},e),t),c())),o=m,u()||(d=a.setTimeout(h))};return()=>(d=a.setTimeout(h),()=>{d()})}function Ntt(e,t,n,i,r,a,o){var l=null,c=r.reduce((h,m)=>Is(Is({},h),{},{[m]:[e[m],t[m]]}),{}),u,d=h=>{u||(u=h);var m=(h-u)/i,p=t2((S,b)=>QR(...b,n(m)),c);if(a(Is(Is(Is({},e),t),p)),m<1)l=o.setTimeout(d);else{var v=t2((S,b)=>QR(...b,n(1)),c);a(Is(Is(Is({},e),t),v))}};return()=>(l=o.setTimeout(d),()=>{l()})}const Ott=(e,t,n,i,r,a)=>{var o=wtt(e,t);return n.isStepper===!0?Rtt(e,t,n,o,r,a):Ntt(e,t,n,i,o,r,a)};var XR=1e-4,Dhe=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],Che=(e,t)=>e.map((n,i)=>n*t**i).reduce((n,i)=>n+i),rJ=(e,t)=>n=>{var i=Dhe(e,t);return Che(i,n)},jtt=(e,t)=>n=>{var i=Dhe(e,t),r=[...i.map((a,o)=>a*o).slice(1),0];return Che(r,n)},aJ=function(){for(var t,n,i,r,a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];if(o.length===1)switch(o[0]){case"linear":[t,i,n,r]=[0,0,1,1];break;case"ease":[t,i,n,r]=[.25,.1,.25,1];break;case"ease-in":[t,i,n,r]=[.42,0,1,1];break;case"ease-out":[t,i,n,r]=[.42,0,.58,1];break;case"ease-in-out":[t,i,n,r]=[0,0,.58,1];break;default:{var c=o[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,i,n,r]=c[1].split(")")[0].split(",").map(v=>parseFloat(v)))}}else o.length===4&&([t,i,n,r]=o);var u=rJ(t,n),d=rJ(i,r),h=jtt(t,n),m=v=>v>1?1:v<0?0:v,p=v=>{for(var S=v>1?1:v,b=S,w=0;w<8;++w){var R=u(b)-S,E=h(b);if(Math.abs(R-S)<XR||E<XR)return d(b);b=m(b-R/E)}return d(b)};return p.isStepper=!1,p},Dtt=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:i=8,dt:r=17}=t,a=(o,l,c)=>{var u=-(o-l)*n,d=c*i,h=c+(u-d)*r/1e3,m=c*r/1e3+o;return Math.abs(m-l)<XR&&Math.abs(h)<XR?[l,0]:[m,h]};return a.isStepper=!0,a.dt=r,a},Ctt=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return aJ(e);case"spring":return Dtt();default:if(e.split("(")[0]==="cubic-bezier")return aJ(e)}return typeof e=="function"?e:null};function Ltt(e){var t,n=()=>null,i=!1,r=null,a=o=>{if(!i){if(Array.isArray(o)){if(!o.length)return;var l=o,[c,...u]=l;if(typeof c=="number"){r=e.setTimeout(a.bind(null,u),c);return}a(c),r=e.setTimeout(a.bind(null,u));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{i=!0},start:o=>{i=!1,r&&(r(),r=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class Ttt{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=performance.now(),r=null,a=o=>{o-i>=n?t(o):typeof requestAnimationFrame=="function"&&(r=requestAnimationFrame(a))};return r=requestAnimationFrame(a),()=>{cancelAnimationFrame(r)}}}function Mtt(){return Ltt(new Ttt)}var Itt=g.createContext(Mtt);function Ptt(e,t){var n=g.useContext(Itt);return g.useMemo(()=>t??n(e),[e,t,n])}var ktt={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},sJ={t:0},iT={t:1};function sw(e){var t=ro(e,ktt),{isActive:n,canBegin:i,duration:r,easing:a,begin:o,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=Ptt(t.animationId,t.animationManager),[h,m]=g.useState(n?sJ:iT),p=g.useRef(null);return g.useEffect(()=>{n||m(iT)},[n]),g.useEffect(()=>{if(!n||!i)return ytt;var v=Ott(sJ,iT,Ctt(a),r,m,d.getTimeoutController()),S=()=>{p.current=v()};return d.start([c,o,S,r,l]),()=>{d.stop(),p.current&&p.current(),l()}},[n,i,r,a,o,c,l,d]),u(h.t)}function ow(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=g.useRef(Qx(t)),i=g.useRef(e);return i.current!==e&&(n.current=Qx(t),i.current=e),n.current}var $tt=["radius"],Ftt=["radius"];function oJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function lJ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oJ(Object(n),!0).forEach(function(i){Btt(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oJ(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Btt(e,t,n){return(t=ztt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ztt(e){var t=Utt(e,"string");return typeof t=="symbol"?t:t+""}function Utt(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZR(){return ZR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ZR.apply(null,arguments)}function cJ(e,t){if(e==null)return{};var n,i,r=Vtt(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Vtt(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var uJ=(e,t,n,i,r)=>{var a=Math.min(Math.abs(n)/2,Math.abs(i)/2),o=i>=0?1:-1,l=n>=0?1:-1,c=i>=0&&n>=0||i<0&&n<0?1:0,u;if(a>0&&r instanceof Array){for(var d=[0,0,0,0],h=0,m=4;h<m;h++)d[h]=r[h]>a?a:r[h];u="M".concat(e,",").concat(t+o*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),u+="L ".concat(e+n-l*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+n,",").concat(t+o*d[1])),u+="L ".concat(e+n,",").concat(t+i-o*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+n-l*d[2],",").concat(t+i)),u+="L ".concat(e+l*d[3],",").concat(t+i),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+i-o*d[3])),u+="Z"}else if(a>0&&r===+r&&r>0){var p=Math.min(a,r);u="M ".concat(e,",").concat(t+o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+l*p,",").concat(t,`
            L `).concat(e+n-l*p,",").concat(t,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+n,",").concat(t+o*p,`
            L `).concat(e+n,",").concat(t+i-o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+n-l*p,",").concat(t+i,`
            L `).concat(e+l*p,",").concat(t+i,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e,",").concat(t+i-o*p," Z")}else u="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return u},Ktt={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Lhe=e=>{var t=ro(e,Ktt),n=g.useRef(null),[i,r]=g.useState(-1);g.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var V=n.current.getTotalLength();V&&r(V)}catch{}},[]);var{x:a,y:o,width:l,height:c,radius:u,className:d}=t,{animationEasing:h,animationDuration:m,animationBegin:p,isAnimationActive:v,isUpdateAnimationActive:S}=t,b=g.useRef(l),w=g.useRef(c),R=g.useRef(a),E=g.useRef(o),_=g.useMemo(()=>({x:a,y:o,width:l,height:c,radius:u}),[a,o,l,c,u]),N=ow(_,"rectangle-");if(a!==+a||o!==+o||l!==+l||c!==+c||l===0||c===0)return null;var O=Bi("recharts-rectangle",d);if(!S){var j=Oo(t),{radius:D}=j,P=cJ(j,$tt);return g.createElement("path",ZR({},P,{radius:typeof u=="number"?u:void 0,className:O,d:uJ(a,o,l,c,u)}))}var B=b.current,M=w.current,z=R.current,U=E.current,K="0px ".concat(i===-1?1:i,"px"),te="".concat(i,"px 0px"),q=Ohe(["strokeDasharray"],m,typeof h=="string"?h:void 0);return g.createElement(sw,{animationId:N,key:N,canBegin:i>0,duration:m,easing:h,isActive:S,begin:p},V=>{var Q=gr(B,l,V),ce=gr(M,c,V),ae=gr(z,a,V),G=gr(U,o,V);n.current&&(b.current=Q,w.current=ce,R.current=ae,E.current=G);var H;v?V>0?H={transition:q,strokeDasharray:te}:H={strokeDasharray:K}:H={strokeDasharray:te};var T=Oo(t),{radius:Y}=T,ie=cJ(T,Ftt);return g.createElement("path",ZR({},ie,{radius:typeof u=="number"?u:void 0,className:O,d:uJ(ae,G,Q,ce,u),ref:n,style:lJ(lJ({},H),t.style)}))})};function The(e){var{cx:t,cy:n,radius:i,startAngle:r,endAngle:a}=e,o=Ps(t,n,i,r),l=Ps(t,n,i,a);return{points:[o,l],cx:t,cy:n,radius:i,startAngle:r,endAngle:a}}function zM(){return zM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},zM.apply(null,arguments)}var Gtt=(e,t)=>{var n=il(t-e),i=Math.min(Math.abs(t-e),359.999);return n*i},b_=e=>{var{cx:t,cy:n,radius:i,angle:r,sign:a,isExternal:o,cornerRadius:l,cornerIsExternal:c}=e,u=l*(o?1:-1)+i,d=Math.asin(l/u)/WR,h=c?r:r+a*d,m=Ps(t,n,u,h),p=Ps(t,n,i,h),v=c?r-a*d:r,S=Ps(t,n,u*Math.cos(d*WR),v);return{center:m,circleTangency:p,lineTangency:S,theta:d}},Mhe=e=>{var{cx:t,cy:n,innerRadius:i,outerRadius:r,startAngle:a,endAngle:o}=e,l=Gtt(a,o),c=a+l,u=Ps(t,n,r,a),d=Ps(t,n,r,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(r,",").concat(r,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var m=Ps(t,n,i,a),p=Ps(t,n,i,c);h+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(t,",").concat(n," Z");return h},Htt=e=>{var{cx:t,cy:n,innerRadius:i,outerRadius:r,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=il(u-c),{circleTangency:h,lineTangency:m,theta:p}=b_({cx:t,cy:n,radius:r,angle:c,sign:d,cornerRadius:a,cornerIsExternal:l}),{circleTangency:v,lineTangency:S,theta:b}=b_({cx:t,cy:n,radius:r,angle:u,sign:-d,cornerRadius:a,cornerIsExternal:l}),w=l?Math.abs(c-u):Math.abs(c-u)-p-b;if(w<0)return o?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):Mhe({cx:t,cy:n,innerRadius:i,outerRadius:r,startAngle:c,endAngle:u});var R="M ".concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(r,",").concat(r,",0,").concat(+(w>180),",").concat(+(d<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(S.x,",").concat(S.y,`
  `);if(i>0){var{circleTangency:E,lineTangency:_,theta:N}=b_({cx:t,cy:n,radius:i,angle:c,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),{circleTangency:O,lineTangency:j,theta:D}=b_({cx:t,cy:n,radius:i,angle:u,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),P=l?Math.abs(c-u):Math.abs(c-u)-N-D;if(P<0&&a===0)return"".concat(R,"L").concat(t,",").concat(n,"Z");R+="L".concat(j.x,",").concat(j.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(P>180),",").concat(+(d>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(_.x,",").concat(_.y,"Z")}else R+="L".concat(t,",").concat(n,"Z");return R},qtt={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Ihe=e=>{var t=ro(e,qtt),{cx:n,cy:i,innerRadius:r,outerRadius:a,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:h}=t;if(a<r||u===d)return null;var m=Bi("recharts-sector",h),p=a-r,v=Uu(o,p,0,!0),S;return v>0&&Math.abs(u-d)<360?S=Htt({cx:n,cy:i,innerRadius:r,outerRadius:a,cornerRadius:Math.min(v,p/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):S=Mhe({cx:n,cy:i,innerRadius:r,outerRadius:a,startAngle:u,endAngle:d}),g.createElement("path",zM({},Oo(t),{className:m,d:S}))};function Wtt(e,t,n){var i,r,a,o;if(e==="horizontal")i=t.x,a=i,r=n.top,o=n.top+n.height;else if(e==="vertical")r=t.y,o=r,i=n.left,a=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:c,innerRadius:u,outerRadius:d,angle:h}=t,m=Ps(l,c,u,h),p=Ps(l,c,d,h);i=m.x,r=m.y,a=p.x,o=p.y}else return The(t);return[{x:i,y:r},{x:a,y:o}]}var rT={},aT={},sT={},dJ;function Ytt(){return dJ||(dJ=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zfe();function n(i){return t.isSymbol(i)?NaN:Number(i)}e.toNumber=n})(sT)),sT}var fJ;function Jtt(){return fJ||(fJ=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ytt();function n(i){return i?(i=t.toNumber(i),i===1/0||i===-1/0?(i<0?-1:1)*Number.MAX_VALUE:i===i?i:0):i===0?i:0}e.toFinite=n})(aT)),aT}var hJ;function Qtt(){return hJ||(hJ=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ufe(),n=Jtt();function i(r,a,o){o&&typeof o!="number"&&t.isIterateeCall(r,a,o)&&(a=o=void 0),r=n.toFinite(r),a===void 0?(a=r,r=0):a=n.toFinite(a),o=o===void 0?r<a?1:-1:n.toFinite(o);const l=Math.max(Math.ceil((a-r)/(o||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=r,r+=o;return c}e.range=i})(rT)),rT}var oT,pJ;function Xtt(){return pJ||(pJ=1,oT=Qtt().range),oT}var Ztt=Xtt();const Phe=ol(Ztt);function sm(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ent(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ik(e){let t,n,i;e.length!==2?(t=sm,n=(l,c)=>sm(e(l),c),i=(l,c)=>e(l)-c):(t=e===sm||e===ent?e:tnt,n=e,i=e);function r(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;n(l[h],c)<0?u=h+1:d=h}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;n(l[h],c)<=0?u=h+1:d=h}while(u<d)}return u}function o(l,c,u=0,d=l.length){const h=r(l,c,u,d-1);return h>u&&i(l[h-1],c)>-i(l[h],c)?h-1:h}return{left:r,center:o,right:a}}function tnt(){return 0}function khe(e){return e===null?NaN:+e}function*nnt(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const int=Ik(sm),lw=int.right;Ik(khe).center;class mJ extends Map{constructor(t,n=snt){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[i,r]of t)this.set(i,r)}get(t){return super.get(yJ(this,t))}has(t){return super.has(yJ(this,t))}set(t,n){return super.set(rnt(this,t),n)}delete(t){return super.delete(ant(this,t))}}function yJ({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):n}function rnt({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):(e.set(i,n),n)}function ant({_intern:e,_key:t},n){const i=t(n);return e.has(i)&&(n=e.get(i),e.delete(i)),n}function snt(e){return e!==null&&typeof e=="object"?e.valueOf():e}function ont(e=sm){if(e===sm)return $he;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const i=e(t,n);return i||i===0?i:(e(n,n)===0)-(e(t,t)===0)}}function $he(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const lnt=Math.sqrt(50),cnt=Math.sqrt(10),unt=Math.sqrt(2);function eN(e,t,n){const i=(t-e)/Math.max(0,n),r=Math.floor(Math.log10(i)),a=i/Math.pow(10,r),o=a>=lnt?10:a>=cnt?5:a>=unt?2:1;let l,c,u;return r<0?(u=Math.pow(10,-r)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,r)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=n&&n<2?eN(e,t,n*2):[l,c,u]}function UM(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const i=t<e,[r,a,o]=i?eN(t,e,n):eN(e,t,n);if(!(a>=r))return[];const l=a-r+1,c=new Array(l);if(i)if(o<0)for(let u=0;u<l;++u)c[u]=(a-u)/-o;else for(let u=0;u<l;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(r+u)/-o;else for(let u=0;u<l;++u)c[u]=(r+u)*o;return c}function VM(e,t,n){return t=+t,e=+e,n=+n,eN(e,t,n)[2]}function KM(e,t,n){t=+t,e=+e,n=+n;const i=t<e,r=i?VM(t,e,n):VM(e,t,n);return(i?-1:1)*(r<0?1/-r:r)}function gJ(e,t){let n;for(const i of e)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);return n}function vJ(e,t){let n;for(const i of e)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);return n}function Fhe(e,t,n=0,i=1/0,r){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),i=Math.floor(Math.min(e.length-1,i)),!(n<=t&&t<=i))return e;for(r=r===void 0?$he:ont(r);i>n;){if(i-n>600){const c=i-n+1,u=t-n+1,d=Math.log(c),h=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*h*(c-h)/c)*(u-c/2<0?-1:1),p=Math.max(n,Math.floor(t-u*h/c+m)),v=Math.min(i,Math.floor(t+(c-u)*h/c+m));Fhe(e,t,p,v,r)}const a=e[t];let o=n,l=i;for(gb(e,n,t),r(e[i],a)>0&&gb(e,n,i);o<l;){for(gb(e,o,l),++o,--l;r(e[o],a)<0;)++o;for(;r(e[l],a)>0;)--l}r(e[n],a)===0?gb(e,n,l):(++l,gb(e,l,i)),l<=t&&(n=l+1),t<=l&&(i=l-1)}return e}function gb(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}function dnt(e,t,n){if(e=Float64Array.from(nnt(e)),!(!(i=e.length)||isNaN(t=+t))){if(t<=0||i<2)return vJ(e);if(t>=1)return gJ(e);var i,r=(i-1)*t,a=Math.floor(r),o=gJ(Fhe(e,a).subarray(0,a+1)),l=vJ(e.subarray(a+1));return o+(l-o)*(r-a)}}function fnt(e,t,n=khe){if(!(!(i=e.length)||isNaN(t=+t))){if(t<=0||i<2)return+n(e[0],0,e);if(t>=1)return+n(e[i-1],i-1,e);var i,r=(i-1)*t,a=Math.floor(r),o=+n(e[a],a,e),l=+n(e[a+1],a+1,e);return o+(l-o)*(r-a)}}function hnt(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var i=-1,r=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(r);++i<r;)a[i]=e+i*n;return a}function Bc(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function jh(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const GM=Symbol("implicit");function Pk(){var e=new mJ,t=[],n=[],i=GM;function r(a){let o=e.get(a);if(o===void 0){if(i!==GM)return i;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return r.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new mJ;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return r},r.range=function(a){return arguments.length?(n=Array.from(a),r):n.slice()},r.unknown=function(a){return arguments.length?(i=a,r):i},r.copy=function(){return Pk(t,n).unknown(i)},Bc.apply(r,arguments),r}function kk(){var e=Pk().unknown(void 0),t=e.domain,n=e.range,i=0,r=1,a,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function h(){var m=t().length,p=r<i,v=p?r:i,S=p?i:r;a=(S-v)/Math.max(1,m-c+u*2),l&&(a=Math.floor(a)),v+=(S-v-a*(m-c))*d,o=a*(1-c),l&&(v=Math.round(v),o=Math.round(o));var b=hnt(m).map(function(w){return v+a*w});return n(p?b.reverse():b)}return e.domain=function(m){return arguments.length?(t(m),h()):t()},e.range=function(m){return arguments.length?([i,r]=m,i=+i,r=+r,h()):[i,r]},e.rangeRound=function(m){return[i,r]=m,i=+i,r=+r,l=!0,h()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(m){return arguments.length?(l=!!m,h()):l},e.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),h()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),h()):c},e.paddingOuter=function(m){return arguments.length?(u=+m,h()):u},e.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),h()):d},e.copy=function(){return kk(t(),[i,r]).round(l).paddingInner(c).paddingOuter(u).align(d)},Bc.apply(h(),arguments)}function Bhe(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Bhe(t())},e}function pnt(){return Bhe(kk.apply(null,arguments).paddingInner(1))}function $k(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function zhe(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function cw(){}var n2=.7,tN=1/n2,Y0="\\s*([+-]?\\d+)\\s*",i2="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Md="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mnt=/^#([0-9a-f]{3,8})$/,ynt=new RegExp(`^rgb\\(${Y0},${Y0},${Y0}\\)$`),gnt=new RegExp(`^rgb\\(${Md},${Md},${Md}\\)$`),vnt=new RegExp(`^rgba\\(${Y0},${Y0},${Y0},${i2}\\)$`),Snt=new RegExp(`^rgba\\(${Md},${Md},${Md},${i2}\\)$`),bnt=new RegExp(`^hsl\\(${i2},${Md},${Md}\\)$`),xnt=new RegExp(`^hsla\\(${i2},${Md},${Md},${i2}\\)$`),SJ={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$k(cw,r2,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:bJ,formatHex:bJ,formatHex8:wnt,formatHsl:Ent,formatRgb:xJ,toString:xJ});function bJ(){return this.rgb().formatHex()}function wnt(){return this.rgb().formatHex8()}function Ent(){return Uhe(this).formatHsl()}function xJ(){return this.rgb().formatRgb()}function r2(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=mnt.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?wJ(t):n===3?new rl(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?x_(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?x_(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ynt.exec(e))?new rl(t[1],t[2],t[3],1):(t=gnt.exec(e))?new rl(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=vnt.exec(e))?x_(t[1],t[2],t[3],t[4]):(t=Snt.exec(e))?x_(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=bnt.exec(e))?AJ(t[1],t[2]/100,t[3]/100,1):(t=xnt.exec(e))?AJ(t[1],t[2]/100,t[3]/100,t[4]):SJ.hasOwnProperty(e)?wJ(SJ[e]):e==="transparent"?new rl(NaN,NaN,NaN,0):null}function wJ(e){return new rl(e>>16&255,e>>8&255,e&255,1)}function x_(e,t,n,i){return i<=0&&(e=t=n=NaN),new rl(e,t,n,i)}function _nt(e){return e instanceof cw||(e=r2(e)),e?(e=e.rgb(),new rl(e.r,e.g,e.b,e.opacity)):new rl}function HM(e,t,n,i){return arguments.length===1?_nt(e):new rl(e,t,n,i??1)}function rl(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}$k(rl,HM,zhe(cw,{brighter(e){return e=e==null?tN:Math.pow(tN,e),new rl(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?n2:Math.pow(n2,e),new rl(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new rl(pg(this.r),pg(this.g),pg(this.b),nN(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:EJ,formatHex:EJ,formatHex8:Ant,formatRgb:_J,toString:_J}));function EJ(){return`#${By(this.r)}${By(this.g)}${By(this.b)}`}function Ant(){return`#${By(this.r)}${By(this.g)}${By(this.b)}${By((isNaN(this.opacity)?1:this.opacity)*255)}`}function _J(){const e=nN(this.opacity);return`${e===1?"rgb(":"rgba("}${pg(this.r)}, ${pg(this.g)}, ${pg(this.b)}${e===1?")":`, ${e})`}`}function nN(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function pg(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function By(e){return e=pg(e),(e<16?"0":"")+e.toString(16)}function AJ(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Au(e,t,n,i)}function Uhe(e){if(e instanceof Au)return new Au(e.h,e.s,e.l,e.opacity);if(e instanceof cw||(e=r2(e)),!e)return new Au;if(e instanceof Au)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),a=Math.max(t,n,i),o=NaN,l=a-r,c=(a+r)/2;return l?(t===a?o=(n-i)/l+(n<i)*6:n===a?o=(i-t)/l+2:o=(t-n)/l+4,l/=c<.5?a+r:2-a-r,o*=60):l=c>0&&c<1?0:o,new Au(o,l,c,e.opacity)}function Rnt(e,t,n,i){return arguments.length===1?Uhe(e):new Au(e,t,n,i??1)}function Au(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}$k(Au,Rnt,zhe(cw,{brighter(e){return e=e==null?tN:Math.pow(tN,e),new Au(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?n2:Math.pow(n2,e),new Au(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new rl(lT(e>=240?e-240:e+120,r,i),lT(e,r,i),lT(e<120?e+240:e-120,r,i),this.opacity)},clamp(){return new Au(RJ(this.h),w_(this.s),w_(this.l),nN(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=nN(this.opacity);return`${e===1?"hsl(":"hsla("}${RJ(this.h)}, ${w_(this.s)*100}%, ${w_(this.l)*100}%${e===1?")":`, ${e})`}`}}));function RJ(e){return e=(e||0)%360,e<0?e+360:e}function w_(e){return Math.max(0,Math.min(1,e||0))}function lT(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Fk=e=>()=>e;function Nnt(e,t){return function(n){return e+n*t}}function Ont(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function jnt(e){return(e=+e)==1?Vhe:function(t,n){return n-t?Ont(t,n,e):Fk(isNaN(t)?n:t)}}function Vhe(e,t){var n=t-e;return n?Nnt(e,n):Fk(isNaN(e)?t:e)}const NJ=(function e(t){var n=jnt(t);function i(r,a){var o=n((r=HM(r)).r,(a=HM(a)).r),l=n(r.g,a.g),c=n(r.b,a.b),u=Vhe(r.opacity,a.opacity);return function(d){return r.r=o(d),r.g=l(d),r.b=c(d),r.opacity=u(d),r+""}}return i.gamma=e,i})(1);function Dnt(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,i=t.slice(),r;return function(a){for(r=0;r<n;++r)i[r]=e[r]*(1-a)+t[r]*a;return i}}function Cnt(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Lnt(e,t){var n=t?t.length:0,i=e?Math.min(n,e.length):0,r=new Array(i),a=new Array(n),o;for(o=0;o<i;++o)r[o]=iS(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(l){for(o=0;o<i;++o)a[o]=r[o](l);return a}}function Tnt(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function iN(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Mnt(e,t){var n={},i={},r;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(r in t)r in e?n[r]=iS(e[r],t[r]):i[r]=t[r];return function(a){for(r in n)i[r]=n[r](a);return i}}var qM=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cT=new RegExp(qM.source,"g");function Int(e){return function(){return e}}function Pnt(e){return function(t){return e(t)+""}}function knt(e,t){var n=qM.lastIndex=cT.lastIndex=0,i,r,a,o=-1,l=[],c=[];for(e=e+"",t=t+"";(i=qM.exec(e))&&(r=cT.exec(t));)(a=r.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(i=i[0])===(r=r[0])?l[o]?l[o]+=r:l[++o]=r:(l[++o]=null,c.push({i:o,x:iN(i,r)})),n=cT.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?Pnt(c[0].x):Int(t):(t=c.length,function(u){for(var d=0,h;d<t;++d)l[(h=c[d]).i]=h.x(u);return l.join("")})}function iS(e,t){var n=typeof t,i;return t==null||n==="boolean"?Fk(t):(n==="number"?iN:n==="string"?(i=r2(t))?(t=i,NJ):knt:t instanceof r2?NJ:t instanceof Date?Tnt:Cnt(t)?Dnt:Array.isArray(t)?Lnt:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Mnt:iN)(e,t)}function Bk(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function $nt(e,t){t===void 0&&(t=e,e=iS);for(var n=0,i=t.length-1,r=t[0],a=new Array(i<0?0:i);n<i;)a[n]=e(r,r=t[++n]);return function(o){var l=Math.max(0,Math.min(i-1,Math.floor(o*=i)));return a[l](o-l)}}function Fnt(e){return function(){return e}}function rN(e){return+e}var OJ=[0,1];function Eo(e){return e}function WM(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Fnt(isNaN(t)?NaN:.5)}function Bnt(e,t){var n;return e>t&&(n=e,e=t,t=n),function(i){return Math.max(e,Math.min(t,i))}}function znt(e,t,n){var i=e[0],r=e[1],a=t[0],o=t[1];return r<i?(i=WM(r,i),a=n(o,a)):(i=WM(i,r),a=n(a,o)),function(l){return a(i(l))}}function Unt(e,t,n){var i=Math.min(e.length,t.length)-1,r=new Array(i),a=new Array(i),o=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<i;)r[o]=WM(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(l){var c=lw(e,l,1,i)-1;return a[c](r[c](l))}}function uw(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Sj(){var e=OJ,t=OJ,n=iS,i,r,a,o=Eo,l,c,u;function d(){var m=Math.min(e.length,t.length);return o!==Eo&&(o=Bnt(e[0],e[m-1])),l=m>2?Unt:znt,c=u=null,h}function h(m){return m==null||isNaN(m=+m)?a:(c||(c=l(e.map(i),t,n)))(i(o(m)))}return h.invert=function(m){return o(r((u||(u=l(t,e.map(i),iN)))(m)))},h.domain=function(m){return arguments.length?(e=Array.from(m,rN),d()):e.slice()},h.range=function(m){return arguments.length?(t=Array.from(m),d()):t.slice()},h.rangeRound=function(m){return t=Array.from(m),n=Bk,d()},h.clamp=function(m){return arguments.length?(o=m?!0:Eo,d()):o!==Eo},h.interpolate=function(m){return arguments.length?(n=m,d()):n},h.unknown=function(m){return arguments.length?(a=m,h):a},function(m,p){return i=m,r=p,d()}}function zk(){return Sj()(Eo,Eo)}function Vnt(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function aN(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function I1(e){return e=aN(Math.abs(e)),e?e[1]:NaN}function Knt(e,t){return function(n,i){for(var r=n.length,a=[],o=0,l=e[0],c=0;r>0&&l>0&&(c+l+1>i&&(l=Math.max(1,i-c)),a.push(n.substring(r-=l,r+l)),!((c+=l+1)>i));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function Gnt(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Hnt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function a2(e){if(!(t=Hnt.exec(e)))throw new Error("invalid format: "+e);var t;return new Uk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}a2.prototype=Uk.prototype;function Uk(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Uk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function qnt(e){e:for(var t=e.length,n=1,i=-1,r;n<t;++n)switch(e[n]){case".":i=r=n;break;case"0":i===0&&(i=n),r=n;break;default:if(!+e[n])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(r+1):e}var Khe;function Wnt(e,t){var n=aN(e,t);if(!n)return e+"";var i=n[0],r=n[1],a=r-(Khe=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,o=i.length;return a===o?i:a>o?i+new Array(a-o+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+aN(e,Math.max(0,t+a-1))[0]}function jJ(e,t){var n=aN(e,t);if(!n)return e+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const DJ={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Vnt,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>jJ(e*100,t),r:jJ,s:Wnt,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function CJ(e){return e}var LJ=Array.prototype.map,TJ=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Ynt(e){var t=e.grouping===void 0||e.thousands===void 0?CJ:Knt(LJ.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",r=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?CJ:Gnt(LJ.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(h){h=a2(h);var m=h.fill,p=h.align,v=h.sign,S=h.symbol,b=h.zero,w=h.width,R=h.comma,E=h.precision,_=h.trim,N=h.type;N==="n"?(R=!0,N="g"):DJ[N]||(E===void 0&&(E=12),_=!0,N="g"),(b||m==="0"&&p==="=")&&(b=!0,m="0",p="=");var O=S==="$"?n:S==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",j=S==="$"?i:/[%p]/.test(N)?o:"",D=DJ[N],P=/[defgprs%]/.test(N);E=E===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function B(M){var z=O,U=j,K,te,q;if(N==="c")U=D(M)+U,M="";else{M=+M;var V=M<0||1/M<0;if(M=isNaN(M)?c:D(Math.abs(M),E),_&&(M=qnt(M)),V&&+M==0&&v!=="+"&&(V=!1),z=(V?v==="("?v:l:v==="-"||v==="("?"":v)+z,U=(N==="s"?TJ[8+Khe/3]:"")+U+(V&&v==="("?")":""),P){for(K=-1,te=M.length;++K<te;)if(q=M.charCodeAt(K),48>q||q>57){U=(q===46?r+M.slice(K+1):M.slice(K))+U,M=M.slice(0,K);break}}}R&&!b&&(M=t(M,1/0));var Q=z.length+M.length+U.length,ce=Q<w?new Array(w-Q+1).join(m):"";switch(R&&b&&(M=t(ce+M,ce.length?w-U.length:1/0),ce=""),p){case"<":M=z+M+U+ce;break;case"=":M=z+ce+M+U;break;case"^":M=ce.slice(0,Q=ce.length>>1)+z+M+U+ce.slice(Q);break;default:M=ce+z+M+U;break}return a(M)}return B.toString=function(){return h+""},B}function d(h,m){var p=u((h=a2(h),h.type="f",h)),v=Math.max(-8,Math.min(8,Math.floor(I1(m)/3)))*3,S=Math.pow(10,-v),b=TJ[8+v/3];return function(w){return p(S*w)+b}}return{format:u,formatPrefix:d}}var E_,Vk,Ghe;Jnt({thousands:",",grouping:[3],currency:["$",""]});function Jnt(e){return E_=Ynt(e),Vk=E_.format,Ghe=E_.formatPrefix,E_}function Qnt(e){return Math.max(0,-I1(Math.abs(e)))}function Xnt(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(I1(t)/3)))*3-I1(Math.abs(e)))}function Znt(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,I1(t)-I1(e))+1}function Hhe(e,t,n,i){var r=KM(e,t,n),a;switch(i=a2(i??",f"),i.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return i.precision==null&&!isNaN(a=Xnt(r,o))&&(i.precision=a),Ghe(i,o)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(a=Znt(r,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=a-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(a=Qnt(r))&&(i.precision=a-(i.type==="%")*2);break}}return Vk(i)}function Mm(e){var t=e.domain;return e.ticks=function(n){var i=t();return UM(i[0],i[i.length-1],n??10)},e.tickFormat=function(n,i){var r=t();return Hhe(r[0],r[r.length-1],n??10,i)},e.nice=function(n){n==null&&(n=10);var i=t(),r=0,a=i.length-1,o=i[r],l=i[a],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=r,r=a,a=u);d-- >0;){if(u=VM(o,l,n),u===c)return i[r]=o,i[a]=l,t(i);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function qhe(){var e=zk();return e.copy=function(){return uw(e,qhe())},Bc.apply(e,arguments),Mm(e)}function Whe(e){var t;function n(i){return i==null||isNaN(i=+i)?t:i}return n.invert=n,n.domain=n.range=function(i){return arguments.length?(e=Array.from(i,rN),n):e.slice()},n.unknown=function(i){return arguments.length?(t=i,n):t},n.copy=function(){return Whe(e).unknown(t)},e=arguments.length?Array.from(e,rN):[0,1],Mm(n)}function Yhe(e,t){e=e.slice();var n=0,i=e.length-1,r=e[n],a=e[i],o;return a<r&&(o=n,n=i,i=o,o=r,r=a,a=o),e[n]=t.floor(r),e[i]=t.ceil(a),e}function MJ(e){return Math.log(e)}function IJ(e){return Math.exp(e)}function eit(e){return-Math.log(-e)}function tit(e){return-Math.exp(-e)}function nit(e){return isFinite(e)?+("1e"+e):e<0?0:e}function iit(e){return e===10?nit:e===Math.E?Math.exp:t=>Math.pow(e,t)}function rit(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function PJ(e){return(t,n)=>-e(-t,n)}function Kk(e){const t=e(MJ,IJ),n=t.domain;let i=10,r,a;function o(){return r=rit(i),a=iit(i),n()[0]<0?(r=PJ(r),a=PJ(a),e(eit,tit)):e(MJ,IJ),t}return t.base=function(l){return arguments.length?(i=+l,o()):i},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const h=d<u;h&&([u,d]=[d,u]);let m=r(u),p=r(d),v,S;const b=l==null?10:+l;let w=[];if(!(i%1)&&p-m<b){if(m=Math.floor(m),p=Math.ceil(p),u>0){for(;m<=p;++m)for(v=1;v<i;++v)if(S=m<0?v/a(-m):v*a(m),!(S<u)){if(S>d)break;w.push(S)}}else for(;m<=p;++m)for(v=i-1;v>=1;--v)if(S=m>0?v/a(-m):v*a(m),!(S<u)){if(S>d)break;w.push(S)}w.length*2<b&&(w=UM(u,d,b))}else w=UM(m,p,Math.min(p-m,b)).map(a);return h?w.reverse():w},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=i===10?"s":","),typeof c!="function"&&(!(i%1)&&(c=a2(c)).precision==null&&(c.trim=!0),c=Vk(c)),l===1/0)return c;const u=Math.max(1,i*l/t.ticks().length);return d=>{let h=d/a(Math.round(r(d)));return h*i<i-.5&&(h*=i),h<=u?c(d):""}},t.nice=()=>n(Yhe(n(),{floor:l=>a(Math.floor(r(l))),ceil:l=>a(Math.ceil(r(l)))})),t}function Jhe(){const e=Kk(Sj()).domain([1,10]);return e.copy=()=>uw(e,Jhe()).base(e.base()),Bc.apply(e,arguments),e}function kJ(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function $J(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Gk(e){var t=1,n=e(kJ(t),$J(t));return n.constant=function(i){return arguments.length?e(kJ(t=+i),$J(t)):t},Mm(n)}function Qhe(){var e=Gk(Sj());return e.copy=function(){return uw(e,Qhe()).constant(e.constant())},Bc.apply(e,arguments)}function FJ(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function ait(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function sit(e){return e<0?-e*e:e*e}function Hk(e){var t=e(Eo,Eo),n=1;function i(){return n===1?e(Eo,Eo):n===.5?e(ait,sit):e(FJ(n),FJ(1/n))}return t.exponent=function(r){return arguments.length?(n=+r,i()):n},Mm(t)}function qk(){var e=Hk(Sj());return e.copy=function(){return uw(e,qk()).exponent(e.exponent())},Bc.apply(e,arguments),e}function oit(){return qk.apply(null,arguments).exponent(.5)}function BJ(e){return Math.sign(e)*e*e}function lit(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Xhe(){var e=zk(),t=[0,1],n=!1,i;function r(a){var o=lit(e(a));return isNaN(o)?i:n?Math.round(o):o}return r.invert=function(a){return e.invert(BJ(a))},r.domain=function(a){return arguments.length?(e.domain(a),r):e.domain()},r.range=function(a){return arguments.length?(e.range((t=Array.from(a,rN)).map(BJ)),r):t.slice()},r.rangeRound=function(a){return r.range(a).round(!0)},r.round=function(a){return arguments.length?(n=!!a,r):n},r.clamp=function(a){return arguments.length?(e.clamp(a),r):e.clamp()},r.unknown=function(a){return arguments.length?(i=a,r):i},r.copy=function(){return Xhe(e.domain(),t).round(n).clamp(e.clamp()).unknown(i)},Bc.apply(r,arguments),Mm(r)}function Zhe(){var e=[],t=[],n=[],i;function r(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=fnt(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?i:t[lw(n,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(sm),r()},a.range=function(o){return arguments.length?(t=Array.from(o),r()):t.slice()},a.unknown=function(o){return arguments.length?(i=o,a):i},a.quantiles=function(){return n.slice()},a.copy=function(){return Zhe().domain(e).range(t).unknown(i)},Bc.apply(a,arguments)}function epe(){var e=0,t=1,n=1,i=[.5],r=[0,1],a;function o(c){return c!=null&&c<=c?r[lw(i,c,0,n)]:a}function l(){var c=-1;for(i=new Array(n);++c<n;)i[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(n=(r=Array.from(c)).length-1,l()):r.slice()},o.invertExtent=function(c){var u=r.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,i[0]]:u>=n?[i[n-1],t]:[i[u-1],i[u]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return i.slice()},o.copy=function(){return epe().domain([e,t]).range(r).unknown(a)},Bc.apply(Mm(o),arguments)}function tpe(){var e=[.5],t=[0,1],n,i=1;function r(a){return a!=null&&a<=a?t[lw(e,a,0,i)]:n}return r.domain=function(a){return arguments.length?(e=Array.from(a),i=Math.min(e.length,t.length-1),r):e.slice()},r.range=function(a){return arguments.length?(t=Array.from(a),i=Math.min(e.length,t.length-1),r):t.slice()},r.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},r.unknown=function(a){return arguments.length?(n=a,r):n},r.copy=function(){return tpe().domain(e).range(t).unknown(n)},Bc.apply(r,arguments)}const uT=new Date,dT=new Date;function ns(e,t,n,i){function r(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return r.floor=a=>(e(a=new Date(+a)),a),r.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),r.round=a=>{const o=r(a),l=r.ceil(a);return a-o<l-a?o:l},r.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),r.range=(a,o,l)=>{const c=[];if(a=r.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let u;do c.push(u=new Date(+a)),t(a,l),e(a);while(u<a&&a<o);return c},r.filter=a=>ns(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),n&&(r.count=(a,o)=>(uT.setTime(+a),dT.setTime(+o),e(uT),e(dT),Math.floor(n(uT,dT))),r.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?r.filter(i?o=>i(o)%a===0:o=>r.count(0,o)%a===0):r)),r}const sN=ns(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);sN.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ns(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):sN);sN.range;const th=1e3,Cc=th*60,nh=Cc*60,Sh=nh*24,Wk=Sh*7,zJ=Sh*30,fT=Sh*365,zy=ns(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*th)},(e,t)=>(t-e)/th,e=>e.getUTCSeconds());zy.range;const Yk=ns(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*th)},(e,t)=>{e.setTime(+e+t*Cc)},(e,t)=>(t-e)/Cc,e=>e.getMinutes());Yk.range;const Jk=ns(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Cc)},(e,t)=>(t-e)/Cc,e=>e.getUTCMinutes());Jk.range;const Qk=ns(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*th-e.getMinutes()*Cc)},(e,t)=>{e.setTime(+e+t*nh)},(e,t)=>(t-e)/nh,e=>e.getHours());Qk.range;const Xk=ns(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*nh)},(e,t)=>(t-e)/nh,e=>e.getUTCHours());Xk.range;const dw=ns(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Cc)/Sh,e=>e.getDate()-1);dw.range;const bj=ns(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Sh,e=>e.getUTCDate()-1);bj.range;const npe=ns(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Sh,e=>Math.floor(e/Sh));npe.range;function av(e){return ns(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Cc)/Wk)}const xj=av(0),oN=av(1),cit=av(2),uit=av(3),P1=av(4),dit=av(5),fit=av(6);xj.range;oN.range;cit.range;uit.range;P1.range;dit.range;fit.range;function sv(e){return ns(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Wk)}const wj=sv(0),lN=sv(1),hit=sv(2),pit=sv(3),k1=sv(4),mit=sv(5),yit=sv(6);wj.range;lN.range;hit.range;pit.range;k1.range;mit.range;yit.range;const Zk=ns(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Zk.range;const e7=ns(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());e7.range;const bh=ns(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());bh.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ns(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});bh.range;const xh=ns(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());xh.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ns(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});xh.range;function ipe(e,t,n,i,r,a){const o=[[zy,1,th],[zy,5,5*th],[zy,15,15*th],[zy,30,30*th],[a,1,Cc],[a,5,5*Cc],[a,15,15*Cc],[a,30,30*Cc],[r,1,nh],[r,3,3*nh],[r,6,6*nh],[r,12,12*nh],[i,1,Sh],[i,2,2*Sh],[n,1,Wk],[t,1,zJ],[t,3,3*zJ],[e,1,fT]];function l(u,d,h){const m=d<u;m&&([u,d]=[d,u]);const p=h&&typeof h.range=="function"?h:c(u,d,h),v=p?p.range(u,+d+1):[];return m?v.reverse():v}function c(u,d,h){const m=Math.abs(d-u)/h,p=Ik(([,,b])=>b).right(o,m);if(p===o.length)return e.every(KM(u/fT,d/fT,h));if(p===0)return sN.every(Math.max(KM(u,d,h),1));const[v,S]=o[m/o[p-1][2]<o[p][2]/m?p-1:p];return v.every(S)}return[l,c]}const[git,vit]=ipe(xh,e7,wj,npe,Xk,Jk),[Sit,bit]=ipe(bh,Zk,xj,dw,Qk,Yk);function hT(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function pT(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function vb(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function xit(e){var t=e.dateTime,n=e.date,i=e.time,r=e.periods,a=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Sb(r),d=bb(r),h=Sb(a),m=bb(a),p=Sb(o),v=bb(o),S=Sb(l),b=bb(l),w=Sb(c),R=bb(c),E={a:V,A:Q,b:ce,B:ae,c:null,d:qJ,e:qJ,f:Kit,g:ert,G:nrt,H:zit,I:Uit,j:Vit,L:rpe,m:Git,M:Hit,p:G,q:H,Q:JJ,s:QJ,S:qit,u:Wit,U:Yit,V:Jit,w:Qit,W:Xit,x:null,X:null,y:Zit,Y:trt,Z:irt,"%":YJ},_={a:T,A:Y,b:ie,B:ne,c:null,d:WJ,e:WJ,f:ort,g:grt,G:Srt,H:rrt,I:art,j:srt,L:spe,m:lrt,M:crt,p:J,q:ee,Q:JJ,s:QJ,S:urt,u:drt,U:frt,V:hrt,w:prt,W:mrt,x:null,X:null,y:yrt,Y:vrt,Z:brt,"%":YJ},N={a:B,A:M,b:z,B:U,c:K,d:GJ,e:GJ,f:kit,g:KJ,G:VJ,H:HJ,I:HJ,j:Tit,L:Pit,m:Lit,M:Mit,p:P,q:Cit,Q:Fit,s:Bit,S:Iit,u:Rit,U:Nit,V:Oit,w:Ait,W:jit,x:te,X:q,y:KJ,Y:VJ,Z:Dit,"%":$it};E.x=O(n,E),E.X=O(i,E),E.c=O(t,E),_.x=O(n,_),_.X=O(i,_),_.c=O(t,_);function O(se,de){return function(he){var me=[],we=-1,le=0,ue=se.length,De,Le,Be;for(he instanceof Date||(he=new Date(+he));++we<ue;)se.charCodeAt(we)===37&&(me.push(se.slice(le,we)),(Le=UJ[De=se.charAt(++we)])!=null?De=se.charAt(++we):Le=De==="e"?" ":"0",(Be=de[De])&&(De=Be(he,Le)),me.push(De),le=we+1);return me.push(se.slice(le,we)),me.join("")}}function j(se,de){return function(he){var me=vb(1900,void 0,1),we=D(me,se,he+="",0),le,ue;if(we!=he.length)return null;if("Q"in me)return new Date(me.Q);if("s"in me)return new Date(me.s*1e3+("L"in me?me.L:0));if(de&&!("Z"in me)&&(me.Z=0),"p"in me&&(me.H=me.H%12+me.p*12),me.m===void 0&&(me.m="q"in me?me.q:0),"V"in me){if(me.V<1||me.V>53)return null;"w"in me||(me.w=1),"Z"in me?(le=pT(vb(me.y,0,1)),ue=le.getUTCDay(),le=ue>4||ue===0?lN.ceil(le):lN(le),le=bj.offset(le,(me.V-1)*7),me.y=le.getUTCFullYear(),me.m=le.getUTCMonth(),me.d=le.getUTCDate()+(me.w+6)%7):(le=hT(vb(me.y,0,1)),ue=le.getDay(),le=ue>4||ue===0?oN.ceil(le):oN(le),le=dw.offset(le,(me.V-1)*7),me.y=le.getFullYear(),me.m=le.getMonth(),me.d=le.getDate()+(me.w+6)%7)}else("W"in me||"U"in me)&&("w"in me||(me.w="u"in me?me.u%7:"W"in me?1:0),ue="Z"in me?pT(vb(me.y,0,1)).getUTCDay():hT(vb(me.y,0,1)).getDay(),me.m=0,me.d="W"in me?(me.w+6)%7+me.W*7-(ue+5)%7:me.w+me.U*7-(ue+6)%7);return"Z"in me?(me.H+=me.Z/100|0,me.M+=me.Z%100,pT(me)):hT(me)}}function D(se,de,he,me){for(var we=0,le=de.length,ue=he.length,De,Le;we<le;){if(me>=ue)return-1;if(De=de.charCodeAt(we++),De===37){if(De=de.charAt(we++),Le=N[De in UJ?de.charAt(we++):De],!Le||(me=Le(se,he,me))<0)return-1}else if(De!=he.charCodeAt(me++))return-1}return me}function P(se,de,he){var me=u.exec(de.slice(he));return me?(se.p=d.get(me[0].toLowerCase()),he+me[0].length):-1}function B(se,de,he){var me=p.exec(de.slice(he));return me?(se.w=v.get(me[0].toLowerCase()),he+me[0].length):-1}function M(se,de,he){var me=h.exec(de.slice(he));return me?(se.w=m.get(me[0].toLowerCase()),he+me[0].length):-1}function z(se,de,he){var me=w.exec(de.slice(he));return me?(se.m=R.get(me[0].toLowerCase()),he+me[0].length):-1}function U(se,de,he){var me=S.exec(de.slice(he));return me?(se.m=b.get(me[0].toLowerCase()),he+me[0].length):-1}function K(se,de,he){return D(se,t,de,he)}function te(se,de,he){return D(se,n,de,he)}function q(se,de,he){return D(se,i,de,he)}function V(se){return o[se.getDay()]}function Q(se){return a[se.getDay()]}function ce(se){return c[se.getMonth()]}function ae(se){return l[se.getMonth()]}function G(se){return r[+(se.getHours()>=12)]}function H(se){return 1+~~(se.getMonth()/3)}function T(se){return o[se.getUTCDay()]}function Y(se){return a[se.getUTCDay()]}function ie(se){return c[se.getUTCMonth()]}function ne(se){return l[se.getUTCMonth()]}function J(se){return r[+(se.getUTCHours()>=12)]}function ee(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var de=O(se+="",E);return de.toString=function(){return se},de},parse:function(se){var de=j(se+="",!1);return de.toString=function(){return se},de},utcFormat:function(se){var de=O(se+="",_);return de.toString=function(){return se},de},utcParse:function(se){var de=j(se+="",!0);return de.toString=function(){return se},de}}}var UJ={"-":"",_:" ",0:"0"},Es=/^\s*\d+/,wit=/^%/,Eit=/[\\^$*+?|[\]().{}]/g;function Li(e,t,n){var i=e<0?"-":"",r=(i?-e:e)+"",a=r.length;return i+(a<n?new Array(n-a+1).join(t)+r:r)}function _it(e){return e.replace(Eit,"\\$&")}function Sb(e){return new RegExp("^(?:"+e.map(_it).join("|")+")","i")}function bb(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Ait(e,t,n){var i=Es.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function Rit(e,t,n){var i=Es.exec(t.slice(n,n+1));return i?(e.u=+i[0],n+i[0].length):-1}function Nit(e,t,n){var i=Es.exec(t.slice(n,n+2));return i?(e.U=+i[0],n+i[0].length):-1}function Oit(e,t,n){var i=Es.exec(t.slice(n,n+2));return i?(e.V=+i[0],n+i[0].length):-1}function jit(e,t,n){var i=Es.exec(t.slice(n,n+2));return i?(e.W=+i[0],n+i[0].length):-1}function VJ(e,t,n){var i=Es.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function KJ(e,t,n){var i=Es.exec(t.slice(n,n+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function Dit(e,t,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function Cit(e,t,n){var i=Es.exec(t.slice(n,n+1));return i?(e.q=i[0]*3-3,n+i[0].length):-1}function Lit(e,t,n){var i=Es.exec(t.slice(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function GJ(e,t,n){var i=Es.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function Tit(e,t,n){var i=Es.exec(t.slice(n,n+3));return i?(e.m=0,e.d=+i[0],n+i[0].length):-1}function HJ(e,t,n){var i=Es.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function Mit(e,t,n){var i=Es.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function Iit(e,t,n){var i=Es.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function Pit(e,t,n){var i=Es.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function kit(e,t,n){var i=Es.exec(t.slice(n,n+6));return i?(e.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function $it(e,t,n){var i=wit.exec(t.slice(n,n+1));return i?n+i[0].length:-1}function Fit(e,t,n){var i=Es.exec(t.slice(n));return i?(e.Q=+i[0],n+i[0].length):-1}function Bit(e,t,n){var i=Es.exec(t.slice(n));return i?(e.s=+i[0],n+i[0].length):-1}function qJ(e,t){return Li(e.getDate(),t,2)}function zit(e,t){return Li(e.getHours(),t,2)}function Uit(e,t){return Li(e.getHours()%12||12,t,2)}function Vit(e,t){return Li(1+dw.count(bh(e),e),t,3)}function rpe(e,t){return Li(e.getMilliseconds(),t,3)}function Kit(e,t){return rpe(e,t)+"000"}function Git(e,t){return Li(e.getMonth()+1,t,2)}function Hit(e,t){return Li(e.getMinutes(),t,2)}function qit(e,t){return Li(e.getSeconds(),t,2)}function Wit(e){var t=e.getDay();return t===0?7:t}function Yit(e,t){return Li(xj.count(bh(e)-1,e),t,2)}function ape(e){var t=e.getDay();return t>=4||t===0?P1(e):P1.ceil(e)}function Jit(e,t){return e=ape(e),Li(P1.count(bh(e),e)+(bh(e).getDay()===4),t,2)}function Qit(e){return e.getDay()}function Xit(e,t){return Li(oN.count(bh(e)-1,e),t,2)}function Zit(e,t){return Li(e.getFullYear()%100,t,2)}function ert(e,t){return e=ape(e),Li(e.getFullYear()%100,t,2)}function trt(e,t){return Li(e.getFullYear()%1e4,t,4)}function nrt(e,t){var n=e.getDay();return e=n>=4||n===0?P1(e):P1.ceil(e),Li(e.getFullYear()%1e4,t,4)}function irt(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Li(t/60|0,"0",2)+Li(t%60,"0",2)}function WJ(e,t){return Li(e.getUTCDate(),t,2)}function rrt(e,t){return Li(e.getUTCHours(),t,2)}function art(e,t){return Li(e.getUTCHours()%12||12,t,2)}function srt(e,t){return Li(1+bj.count(xh(e),e),t,3)}function spe(e,t){return Li(e.getUTCMilliseconds(),t,3)}function ort(e,t){return spe(e,t)+"000"}function lrt(e,t){return Li(e.getUTCMonth()+1,t,2)}function crt(e,t){return Li(e.getUTCMinutes(),t,2)}function urt(e,t){return Li(e.getUTCSeconds(),t,2)}function drt(e){var t=e.getUTCDay();return t===0?7:t}function frt(e,t){return Li(wj.count(xh(e)-1,e),t,2)}function ope(e){var t=e.getUTCDay();return t>=4||t===0?k1(e):k1.ceil(e)}function hrt(e,t){return e=ope(e),Li(k1.count(xh(e),e)+(xh(e).getUTCDay()===4),t,2)}function prt(e){return e.getUTCDay()}function mrt(e,t){return Li(lN.count(xh(e)-1,e),t,2)}function yrt(e,t){return Li(e.getUTCFullYear()%100,t,2)}function grt(e,t){return e=ope(e),Li(e.getUTCFullYear()%100,t,2)}function vrt(e,t){return Li(e.getUTCFullYear()%1e4,t,4)}function Srt(e,t){var n=e.getUTCDay();return e=n>=4||n===0?k1(e):k1.ceil(e),Li(e.getUTCFullYear()%1e4,t,4)}function brt(){return"+0000"}function YJ(){return"%"}function JJ(e){return+e}function QJ(e){return Math.floor(+e/1e3)}var d0,lpe,cpe;xrt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function xrt(e){return d0=xit(e),lpe=d0.format,d0.parse,cpe=d0.utcFormat,d0.utcParse,d0}function wrt(e){return new Date(e)}function Ert(e){return e instanceof Date?+e:+new Date(+e)}function t7(e,t,n,i,r,a,o,l,c,u){var d=zk(),h=d.invert,m=d.domain,p=u(".%L"),v=u(":%S"),S=u("%I:%M"),b=u("%I %p"),w=u("%a %d"),R=u("%b %d"),E=u("%B"),_=u("%Y");function N(O){return(c(O)<O?p:l(O)<O?v:o(O)<O?S:a(O)<O?b:i(O)<O?r(O)<O?w:R:n(O)<O?E:_)(O)}return d.invert=function(O){return new Date(h(O))},d.domain=function(O){return arguments.length?m(Array.from(O,Ert)):m().map(wrt)},d.ticks=function(O){var j=m();return e(j[0],j[j.length-1],O??10)},d.tickFormat=function(O,j){return j==null?N:u(j)},d.nice=function(O){var j=m();return(!O||typeof O.range!="function")&&(O=t(j[0],j[j.length-1],O??10)),O?m(Yhe(j,O)):d},d.copy=function(){return uw(d,t7(e,t,n,i,r,a,o,l,c,u))},d}function _rt(){return Bc.apply(t7(Sit,bit,bh,Zk,xj,dw,Qk,Yk,zy,lpe).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Art(){return Bc.apply(t7(git,vit,xh,e7,wj,bj,Xk,Jk,zy,cpe).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ej(){var e=0,t=1,n,i,r,a,o=Eo,l=!1,c;function u(h){return h==null||isNaN(h=+h)?c:o(r===0?.5:(h=(a(h)-n)*r,l?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([e,t]=h,n=a(e=+e),i=a(t=+t),r=n===i?0:1/(i-n),u):[e,t]},u.clamp=function(h){return arguments.length?(l=!!h,u):l},u.interpolator=function(h){return arguments.length?(o=h,u):o};function d(h){return function(m){var p,v;return arguments.length?([p,v]=m,o=h(p,v),u):[o(0),o(1)]}}return u.range=d(iS),u.rangeRound=d(Bk),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return a=h,n=h(e),i=h(t),r=n===i?0:1/(i-n),u}}function Im(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function upe(){var e=Mm(Ej()(Eo));return e.copy=function(){return Im(e,upe())},jh.apply(e,arguments)}function dpe(){var e=Kk(Ej()).domain([1,10]);return e.copy=function(){return Im(e,dpe()).base(e.base())},jh.apply(e,arguments)}function fpe(){var e=Gk(Ej());return e.copy=function(){return Im(e,fpe()).constant(e.constant())},jh.apply(e,arguments)}function n7(){var e=Hk(Ej());return e.copy=function(){return Im(e,n7()).exponent(e.exponent())},jh.apply(e,arguments)}function Rrt(){return n7.apply(null,arguments).exponent(.5)}function hpe(){var e=[],t=Eo;function n(i){if(i!=null&&!isNaN(i=+i))return t((lw(e,i,1)-1)/(e.length-1))}return n.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let r of i)r!=null&&!isNaN(r=+r)&&e.push(r);return e.sort(sm),n},n.interpolator=function(i){return arguments.length?(t=i,n):t},n.range=function(){return e.map((i,r)=>t(r/(e.length-1)))},n.quantiles=function(i){return Array.from({length:i+1},(r,a)=>dnt(e,a/i))},n.copy=function(){return hpe(t).domain(e)},jh.apply(n,arguments)}function _j(){var e=0,t=.5,n=1,i=1,r,a,o,l,c,u=Eo,d,h=!1,m;function p(S){return isNaN(S=+S)?m:(S=.5+((S=+d(S))-a)*(i*S<i*a?l:c),u(h?Math.max(0,Math.min(1,S)):S))}p.domain=function(S){return arguments.length?([e,t,n]=S,r=d(e=+e),a=d(t=+t),o=d(n=+n),l=r===a?0:.5/(a-r),c=a===o?0:.5/(o-a),i=a<r?-1:1,p):[e,t,n]},p.clamp=function(S){return arguments.length?(h=!!S,p):h},p.interpolator=function(S){return arguments.length?(u=S,p):u};function v(S){return function(b){var w,R,E;return arguments.length?([w,R,E]=b,u=$nt(S,[w,R,E]),p):[u(0),u(.5),u(1)]}}return p.range=v(iS),p.rangeRound=v(Bk),p.unknown=function(S){return arguments.length?(m=S,p):m},function(S){return d=S,r=S(e),a=S(t),o=S(n),l=r===a?0:.5/(a-r),c=a===o?0:.5/(o-a),i=a<r?-1:1,p}}function ppe(){var e=Mm(_j()(Eo));return e.copy=function(){return Im(e,ppe())},jh.apply(e,arguments)}function mpe(){var e=Kk(_j()).domain([.1,1,10]);return e.copy=function(){return Im(e,mpe()).base(e.base())},jh.apply(e,arguments)}function ype(){var e=Gk(_j());return e.copy=function(){return Im(e,ype()).constant(e.constant())},jh.apply(e,arguments)}function i7(){var e=Hk(_j());return e.copy=function(){return Im(e,i7()).exponent(e.exponent())},jh.apply(e,arguments)}function Nrt(){return i7.apply(null,arguments).exponent(.5)}const Hb=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:kk,scaleDiverging:ppe,scaleDivergingLog:mpe,scaleDivergingPow:i7,scaleDivergingSqrt:Nrt,scaleDivergingSymlog:ype,scaleIdentity:Whe,scaleImplicit:GM,scaleLinear:qhe,scaleLog:Jhe,scaleOrdinal:Pk,scalePoint:pnt,scalePow:qk,scaleQuantile:Zhe,scaleQuantize:epe,scaleRadial:Xhe,scaleSequential:upe,scaleSequentialLog:dpe,scaleSequentialPow:n7,scaleSequentialQuantile:hpe,scaleSequentialSqrt:Rrt,scaleSequentialSymlog:fpe,scaleSqrt:oit,scaleSymlog:Qhe,scaleThreshold:tpe,scaleTime:_rt,scaleUtc:Art,tickFormat:Hhe},Symbol.toStringTag,{value:"Module"}));var Pm=e=>e.chartData,Ort=ot([Pm],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),fw=(e,t,n,i)=>i?Ort(e):Pm(e);function $g(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if($a(t)&&$a(n))return!0}return!1}function XJ(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function gpe(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,i]=e,r,a;if($a(n))r=n;else if(typeof n=="function")return;if($a(i))a=i;else if(typeof i=="function")return;var o=[r,a];if($g(o))return o}}function jrt(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var i=e(t,n);if($g(i))return XJ(i,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[r,a]=e,o,l;if(r==="auto")t!=null&&(o=Math.min(...t));else if(fn(r))o=r;else if(typeof r=="function")try{t!=null&&(o=r(t==null?void 0:t[0]))}catch{}else if(typeof r=="string"&&IY.test(r)){var c=IY.exec(r);if(c==null||t==null)o=void 0;else{var u=+c[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(a==="auto")t!=null&&(l=Math.max(...t));else if(fn(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&PY.test(a)){var d=PY.exec(a);if(d==null||t==null)l=void 0;else{var h=+d[1];l=t[1]+h}}else l=t==null?void 0:t[1];var m=[o,l];if($g(m))return t==null?m:XJ(m,t,n)}}}var rS=1e9,Drt={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},a7,Br=!0,$c="[DecimalError] ",mg=$c+"Invalid argument: ",r7=$c+"Exponent out of range: ",aS=Math.floor,Cy=Math.pow,Crt=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Pl,Ss=1e7,Or=7,vpe=9007199254740991,cN=aS(vpe/Or),sn={};sn.absoluteValue=sn.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};sn.comparedTo=sn.cmp=function(e){var t,n,i,r,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(i=a.d.length,r=e.d.length,t=0,n=i<r?i:r;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return i===r?0:i>r^a.s<0?1:-1};sn.decimalPlaces=sn.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Or;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};sn.dividedBy=sn.div=function(e){return uh(this,new this.constructor(e))};sn.dividedToIntegerBy=sn.idiv=function(e){var t=this,n=t.constructor;return pr(uh(t,new n(e),0,1),n.precision)};sn.equals=sn.eq=function(e){return!this.cmp(e)};sn.exponent=function(){return Pa(this)};sn.greaterThan=sn.gt=function(e){return this.cmp(e)>0};sn.greaterThanOrEqualTo=sn.gte=function(e){return this.cmp(e)>=0};sn.isInteger=sn.isint=function(){return this.e>this.d.length-2};sn.isNegative=sn.isneg=function(){return this.s<0};sn.isPositive=sn.ispos=function(){return this.s>0};sn.isZero=function(){return this.s===0};sn.lessThan=sn.lt=function(e){return this.cmp(e)<0};sn.lessThanOrEqualTo=sn.lte=function(e){return this.cmp(e)<1};sn.logarithm=sn.log=function(e){var t,n=this,i=n.constructor,r=i.precision,a=r+5;if(e===void 0)e=new i(10);else if(e=new i(e),e.s<1||e.eq(Pl))throw Error($c+"NaN");if(n.s<1)throw Error($c+(n.s?"NaN":"-Infinity"));return n.eq(Pl)?new i(0):(Br=!1,t=uh(s2(n,a),s2(e,a),a),Br=!0,pr(t,r))};sn.minus=sn.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?xpe(t,e):Spe(t,(e.s=-e.s,e))};sn.modulo=sn.mod=function(e){var t,n=this,i=n.constructor,r=i.precision;if(e=new i(e),!e.s)throw Error($c+"NaN");return n.s?(Br=!1,t=uh(n,e,0,1).times(e),Br=!0,n.minus(t)):pr(new i(n),r)};sn.naturalExponential=sn.exp=function(){return bpe(this)};sn.naturalLogarithm=sn.ln=function(){return s2(this)};sn.negated=sn.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};sn.plus=sn.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Spe(t,e):xpe(t,(e.s=-e.s,e))};sn.precision=sn.sd=function(e){var t,n,i,r=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(mg+e);if(t=Pa(r)+1,i=r.d.length-1,n=i*Or+1,i=r.d[i],i){for(;i%10==0;i/=10)n--;for(i=r.d[0];i>=10;i/=10)n++}return e&&t>n?t:n};sn.squareRoot=sn.sqrt=function(){var e,t,n,i,r,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error($c+"NaN")}for(e=Pa(l),Br=!1,r=Math.sqrt(+l),r==0||r==1/0?(t=Dd(l.d),(t.length+e)%2==0&&(t+="0"),r=Math.sqrt(t),e=aS((e+1)/2)-(e<0||e%2),r==1/0?t="5e"+e:(t=r.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),i=new c(t)):i=new c(r.toString()),n=c.precision,r=o=n+3;;)if(a=i,i=a.plus(uh(l,a,o+2)).times(.5),Dd(a.d).slice(0,o)===(t=Dd(i.d)).slice(0,o)){if(t=t.slice(o-3,o+1),r==o&&t=="4999"){if(pr(a,n+1,0),a.times(a).eq(l)){i=a;break}}else if(t!="9999")break;o+=4}return Br=!0,pr(i,n)};sn.times=sn.mul=function(e){var t,n,i,r,a,o,l,c,u,d=this,h=d.constructor,m=d.d,p=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,c=m.length,u=p.length,c<u&&(a=m,m=p,p=a,o=c,c=u,u=o),a=[],o=c+u,i=o;i--;)a.push(0);for(i=u;--i>=0;){for(t=0,r=c+i;r>i;)l=a[r]+p[i]*m[r-i-1]+t,a[r--]=l%Ss|0,t=l/Ss|0;a[r]=(a[r]+t)%Ss|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,Br?pr(e,h.precision):e};sn.toDecimalPlaces=sn.todp=function(e,t){var n=this,i=n.constructor;return n=new i(n),e===void 0?n:(Hd(e,0,rS),t===void 0?t=i.rounding:Hd(t,0,8),pr(n,e+Pa(n)+1,t))};sn.toExponential=function(e,t){var n,i=this,r=i.constructor;return e===void 0?n=Fg(i,!0):(Hd(e,0,rS),t===void 0?t=r.rounding:Hd(t,0,8),i=pr(new r(i),e+1,t),n=Fg(i,!0,e+1)),n};sn.toFixed=function(e,t){var n,i,r=this,a=r.constructor;return e===void 0?Fg(r):(Hd(e,0,rS),t===void 0?t=a.rounding:Hd(t,0,8),i=pr(new a(r),e+Pa(r)+1,t),n=Fg(i.abs(),!1,e+Pa(i)+1),r.isneg()&&!r.isZero()?"-"+n:n)};sn.toInteger=sn.toint=function(){var e=this,t=e.constructor;return pr(new t(e),Pa(e)+1,t.rounding)};sn.toNumber=function(){return+this};sn.toPower=sn.pow=function(e){var t,n,i,r,a,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Pl);if(l=new c(l),!l.s){if(e.s<1)throw Error($c+"Infinity");return l}if(l.eq(Pl))return l;if(i=c.precision,e.eq(Pl))return pr(l,i);if(t=e.e,n=e.d.length-1,o=t>=n,a=l.s,o){if((n=d<0?-d:d)<=vpe){for(r=new c(Pl),t=Math.ceil(i/Or+4),Br=!1;n%2&&(r=r.times(l),eQ(r.d,t)),n=aS(n/2),n!==0;)l=l.times(l),eQ(l.d,t);return Br=!0,e.s<0?new c(Pl).div(r):pr(r,i)}}else if(a<0)throw Error($c+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,Br=!1,r=e.times(s2(l,i+u)),Br=!0,r=bpe(r),r.s=a,r};sn.toPrecision=function(e,t){var n,i,r=this,a=r.constructor;return e===void 0?(n=Pa(r),i=Fg(r,n<=a.toExpNeg||n>=a.toExpPos)):(Hd(e,1,rS),t===void 0?t=a.rounding:Hd(t,0,8),r=pr(new a(r),e,t),n=Pa(r),i=Fg(r,e<=n||n<=a.toExpNeg,e)),i};sn.toSignificantDigits=sn.tosd=function(e,t){var n=this,i=n.constructor;return e===void 0?(e=i.precision,t=i.rounding):(Hd(e,1,rS),t===void 0?t=i.rounding:Hd(t,0,8)),pr(new i(n),e,t)};sn.toString=sn.valueOf=sn.val=sn.toJSON=sn[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Pa(e),n=e.constructor;return Fg(e,t<=n.toExpNeg||t>=n.toExpPos)};function Spe(e,t){var n,i,r,a,o,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Br?pr(t,h):t;if(c=e.d,u=t.d,o=e.e,r=t.e,c=c.slice(),a=o-r,a){for(a<0?(i=c,a=-a,l=u.length):(i=u,r=o,l=c.length),o=Math.ceil(h/Or),l=o>l?o+1:l+1,a>l&&(a=l,i.length=1),i.reverse();a--;)i.push(0);i.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,i=u,u=c,c=i),n=0;a;)n=(c[--a]=c[a]+u[a]+n)/Ss|0,c[a]%=Ss;for(n&&(c.unshift(n),++r),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=r,Br?pr(t,h):t}function Hd(e,t,n){if(e!==~~e||e<t||e>n)throw Error(mg+e)}function Dd(e){var t,n,i,r=e.length-1,a="",o=e[0];if(r>0){for(a+=o,t=1;t<r;t++)i=e[t]+"",n=Or-i.length,n&&(a+=jp(n)),a+=i;o=e[t],i=o+"",n=Or-i.length,n&&(a+=jp(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var uh=(function(){function e(i,r){var a,o=0,l=i.length;for(i=i.slice();l--;)a=i[l]*r+o,i[l]=a%Ss|0,o=a/Ss|0;return o&&i.unshift(o),i}function t(i,r,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(i[l]!=r[l]){c=i[l]>r[l]?1:-1;break}return c}function n(i,r,a){for(var o=0;a--;)i[a]-=o,o=i[a]<r[a]?1:0,i[a]=o*Ss+i[a]-r[a];for(;!i[0]&&i.length>1;)i.shift()}return function(i,r,a,o){var l,c,u,d,h,m,p,v,S,b,w,R,E,_,N,O,j,D,P=i.constructor,B=i.s==r.s?1:-1,M=i.d,z=r.d;if(!i.s)return new P(i);if(!r.s)throw Error($c+"Division by zero");for(c=i.e-r.e,j=z.length,N=M.length,p=new P(B),v=p.d=[],u=0;z[u]==(M[u]||0);)++u;if(z[u]>(M[u]||0)&&--c,a==null?R=a=P.precision:o?R=a+(Pa(i)-Pa(r))+1:R=a,R<0)return new P(0);if(R=R/Or+2|0,u=0,j==1)for(d=0,z=z[0],R++;(u<N||d)&&R--;u++)E=d*Ss+(M[u]||0),v[u]=E/z|0,d=E%z|0;else{for(d=Ss/(z[0]+1)|0,d>1&&(z=e(z,d),M=e(M,d),j=z.length,N=M.length),_=j,S=M.slice(0,j),b=S.length;b<j;)S[b++]=0;D=z.slice(),D.unshift(0),O=z[0],z[1]>=Ss/2&&++O;do d=0,l=t(z,S,j,b),l<0?(w=S[0],j!=b&&(w=w*Ss+(S[1]||0)),d=w/O|0,d>1?(d>=Ss&&(d=Ss-1),h=e(z,d),m=h.length,b=S.length,l=t(h,S,m,b),l==1&&(d--,n(h,j<m?D:z,m))):(d==0&&(l=d=1),h=z.slice()),m=h.length,m<b&&h.unshift(0),n(S,h,b),l==-1&&(b=S.length,l=t(z,S,j,b),l<1&&(d++,n(S,j<b?D:z,b))),b=S.length):l===0&&(d++,S=[0]),v[u++]=d,l&&S[0]?S[b++]=M[_]||0:(S=[M[_]],b=1);while((_++<N||S[0]!==void 0)&&R--)}return v[0]||v.shift(),p.e=c,pr(p,o?a+Pa(p)+1:a)}})();function bpe(e,t){var n,i,r,a,o,l,c=0,u=0,d=e.constructor,h=d.precision;if(Pa(e)>16)throw Error(r7+Pa(e));if(!e.s)return new d(Pl);for(Br=!1,l=h,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(i=Math.log(Cy(2,u))/Math.LN10*2+5|0,l+=i,n=r=a=new d(Pl),d.precision=l;;){if(r=pr(r.times(e),l),n=n.times(++c),o=a.plus(uh(r,n,l)),Dd(o.d).slice(0,l)===Dd(a.d).slice(0,l)){for(;u--;)a=pr(a.times(a),l);return d.precision=h,t==null?(Br=!0,pr(a,h)):a}a=o}}function Pa(e){for(var t=e.e*Or,n=e.d[0];n>=10;n/=10)t++;return t}function mT(e,t,n){if(t>e.LN10.sd())throw Br=!0,n&&(e.precision=n),Error($c+"LN10 precision limit exceeded");return pr(new e(e.LN10),t)}function jp(e){for(var t="";e--;)t+="0";return t}function s2(e,t){var n,i,r,a,o,l,c,u,d,h=1,m=10,p=e,v=p.d,S=p.constructor,b=S.precision;if(p.s<1)throw Error($c+(p.s?"NaN":"-Infinity"));if(p.eq(Pl))return new S(0);if(t==null?(Br=!1,u=b):u=t,p.eq(10))return t==null&&(Br=!0),mT(S,u);if(u+=m,S.precision=u,n=Dd(v),i=n.charAt(0),a=Pa(p),Math.abs(a)<15e14){for(;i<7&&i!=1||i==1&&n.charAt(1)>3;)p=p.times(e),n=Dd(p.d),i=n.charAt(0),h++;a=Pa(p),i>1?(p=new S("0."+n),a++):p=new S(i+"."+n.slice(1))}else return c=mT(S,u+2,b).times(a+""),p=s2(new S(i+"."+n.slice(1)),u-m).plus(c),S.precision=b,t==null?(Br=!0,pr(p,b)):p;for(l=o=p=uh(p.minus(Pl),p.plus(Pl),u),d=pr(p.times(p),u),r=3;;){if(o=pr(o.times(d),u),c=l.plus(uh(o,new S(r),u)),Dd(c.d).slice(0,u)===Dd(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(mT(S,u+2,b).times(a+""))),l=uh(l,new S(h),u),S.precision=b,t==null?(Br=!0,pr(l,b)):l;l=c,r+=2}}function ZJ(e,t){var n,i,r;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(n<0&&(n=i),n+=+t.slice(i+1),t=t.substring(0,i)):n<0&&(n=t.length),i=0;t.charCodeAt(i)===48;)++i;for(r=t.length;t.charCodeAt(r-1)===48;)--r;if(t=t.slice(i,r),t){if(r-=i,n=n-i-1,e.e=aS(n/Or),e.d=[],i=(n+1)%Or,n<0&&(i+=Or),i<r){for(i&&e.d.push(+t.slice(0,i)),r-=Or;i<r;)e.d.push(+t.slice(i,i+=Or));t=t.slice(i),i=Or-t.length}else i-=r;for(;i--;)t+="0";if(e.d.push(+t),Br&&(e.e>cN||e.e<-cN))throw Error(r7+n)}else e.s=0,e.e=0,e.d=[0];return e}function pr(e,t,n){var i,r,a,o,l,c,u,d,h=e.d;for(o=1,a=h[0];a>=10;a/=10)o++;if(i=t-o,i<0)i+=Or,r=t,u=h[d=0];else{if(d=Math.ceil((i+1)/Or),a=h.length,d>=a)return e;for(u=a=h[d],o=1;a>=10;a/=10)o++;i%=Or,r=i-Or+o}if(n!==void 0&&(a=Cy(10,o-r-1),l=u/a%10|0,c=t<0||h[d+1]!==void 0||u%a,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(i>0?r>0?u/Cy(10,o-r):0:h[d-1])%10&1||n==(e.s<0?8:7))),t<1||!h[0])return c?(a=Pa(e),h.length=1,t=t-a-1,h[0]=Cy(10,(Or-t%Or)%Or),e.e=aS(-t/Or)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(i==0?(h.length=d,a=1,d--):(h.length=d+1,a=Cy(10,Or-i),h[d]=r>0?(u/Cy(10,o-r)%Cy(10,r)|0)*a:0),c)for(;;)if(d==0){(h[0]+=a)==Ss&&(h[0]=1,++e.e);break}else{if(h[d]+=a,h[d]!=Ss)break;h[d--]=0,a=1}for(i=h.length;h[--i]===0;)h.pop();if(Br&&(e.e>cN||e.e<-cN))throw Error(r7+Pa(e));return e}function xpe(e,t){var n,i,r,a,o,l,c,u,d,h,m=e.constructor,p=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),Br?pr(t,p):t;if(c=e.d,h=t.d,i=t.e,u=e.e,c=c.slice(),o=u-i,o){for(d=o<0,d?(n=c,o=-o,l=h.length):(n=h,i=u,l=c.length),r=Math.max(Math.ceil(p/Or),l)+2,o>r&&(o=r,n.length=1),n.reverse(),r=o;r--;)n.push(0);n.reverse()}else{for(r=c.length,l=h.length,d=r<l,d&&(l=r),r=0;r<l;r++)if(c[r]!=h[r]){d=c[r]<h[r];break}o=0}for(d&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,r=h.length-l;r>0;--r)c[l++]=0;for(r=h.length;r>o;){if(c[--r]<h[r]){for(a=r;a&&c[--a]===0;)c[a]=Ss-1;--c[a],c[r]+=Ss}c[r]-=h[r]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--i;return c[0]?(t.d=c,t.e=i,Br?pr(t,p):t):new m(0)}function Fg(e,t,n){var i,r=Pa(e),a=Dd(e.d),o=a.length;return t?(n&&(i=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+jp(i):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(r<0?"e":"e+")+r):r<0?(a="0."+jp(-r-1)+a,n&&(i=n-o)>0&&(a+=jp(i))):r>=o?(a+=jp(r+1-o),n&&(i=n-r-1)>0&&(a=a+"."+jp(i))):((i=r+1)<o&&(a=a.slice(0,i)+"."+a.slice(i)),n&&(i=n-o)>0&&(r+1===o&&(a+="."),a+=jp(i))),e.s<0?"-"+a:a}function eQ(e,t){if(e.length>t)return e.length=t,!0}function wpe(e){var t,n,i;function r(a){var o=this;if(!(o instanceof r))return new r(a);if(o.constructor=r,a instanceof r){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(mg+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return ZJ(o,a.toString())}else if(typeof a!="string")throw Error(mg+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Crt.test(a))ZJ(o,a);else throw Error(mg+a)}if(r.prototype=sn,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.clone=wpe,r.config=r.set=Lrt,e===void 0&&(e={}),e)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<i.length;)e.hasOwnProperty(n=i[t++])||(e[n]=this[n]);return r.config(e),r}function Lrt(e){if(!e||typeof e!="object")throw Error($c+"Object expected");var t,n,i,r=["precision",1,rS,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<r.length;t+=3)if((i=e[n=r[t]])!==void 0)if(aS(i)===i&&i>=r[t+1]&&i<=r[t+2])this[n]=i;else throw Error(mg+n+": "+i);if((i=e[n="LN10"])!==void 0)if(i==Math.LN10)this[n]=new this(i);else throw Error(mg+n+": "+i);return this}var a7=wpe(Drt);Pl=new a7(1);const Wi=a7;var Trt=e=>e,Epe={},_pe=e=>e===Epe,tQ=e=>function t(){return arguments.length===0||arguments.length===1&&_pe(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},Ape=(e,t)=>e===1?t:tQ(function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=i.filter(o=>o!==Epe).length;return a>=e?t(...i):Ape(e-a,tQ(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=i.map(d=>_pe(d)?l.shift():d);return t(...u,...l)}))}),Aj=e=>Ape(e.length,e),YM=(e,t)=>{for(var n=[],i=e;i<t;++i)n[i-e]=i;return n},Mrt=Aj((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),Irt=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(!n.length)return Trt;var r=n.reverse(),a=r[0],o=r.slice(1);return function(){return o.reduce((l,c)=>c(l),a(...arguments))}},JM=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),Rpe=e=>{var t=null,n=null;return function(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t&&r.every((o,l)=>{var c;return o===((c=t)===null||c===void 0?void 0:c[l])})||(t=r,n=e(...r)),n}};function Npe(e){var t;return e===0?t=1:t=Math.floor(new Wi(e).abs().log(10).toNumber())+1,t}function Ope(e,t,n){for(var i=new Wi(e),r=0,a=[];i.lt(t)&&r<1e5;)a.push(i.toNumber()),i=i.add(n),r++;return a}Aj((e,t,n)=>{var i=+e,r=+t;return i+n*(r-i)});Aj((e,t,n)=>{var i=t-+e;return i=i||1/0,(n-e)/i});Aj((e,t,n)=>{var i=t-+e;return i=i||1/0,Math.max(0,Math.min(1,(n-e)/i))});var jpe=e=>{var[t,n]=e,[i,r]=[t,n];return t>n&&([i,r]=[n,t]),[i,r]},Dpe=(e,t,n)=>{if(e.lte(0))return new Wi(0);var i=Npe(e.toNumber()),r=new Wi(10).pow(i),a=e.div(r),o=i!==1?.05:.1,l=new Wi(Math.ceil(a.div(o).toNumber())).add(n).mul(o),c=l.mul(r);return t?new Wi(c.toNumber()):new Wi(Math.ceil(c.toNumber()))},Prt=(e,t,n)=>{var i=new Wi(1),r=new Wi(e);if(!r.isint()&&n){var a=Math.abs(e);a<1?(i=new Wi(10).pow(Npe(e)-1),r=new Wi(Math.floor(r.div(i).toNumber())).mul(i)):a>1&&(r=new Wi(Math.floor(e)))}else e===0?r=new Wi(Math.floor((t-1)/2)):n||(r=new Wi(Math.floor(e)));var o=Math.floor((t-1)/2),l=Irt(Mrt(c=>r.add(new Wi(c-o).mul(i)).toNumber()),YM);return l(0,t)},Cpe=function(t,n,i,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(i-1)))return{step:new Wi(0),tickMin:new Wi(0),tickMax:new Wi(0)};var o=Dpe(new Wi(n).sub(t).div(i-1),r,a),l;t<=0&&n>=0?l=new Wi(0):(l=new Wi(t).add(n).div(2),l=l.sub(new Wi(l).mod(o)));var c=Math.ceil(l.sub(t).div(o).toNumber()),u=Math.ceil(new Wi(n).sub(l).div(o).toNumber()),d=c+u+1;return d>i?Cpe(t,n,i,r,a+1):(d<i&&(u=n>0?u+(i-d):u,c=n>0?c:c+(i-d)),{step:o,tickMin:l.sub(new Wi(c).mul(o)),tickMax:l.add(new Wi(u).mul(o))})};function krt(e){var[t,n]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),[o,l]=jpe([t,n]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...YM(0,i-1).map(()=>1/0)]:[...YM(0,i-1).map(()=>-1/0),l];return t>n?JM(c):c}if(o===l)return Prt(o,i,r);var{step:u,tickMin:d,tickMax:h}=Cpe(o,l,a,r,0),m=Ope(d,h.add(new Wi(.1).mul(u)),u);return t>n?JM(m):m}function $rt(e,t){var[n,i]=e,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=jpe([n,i]);if(a===-1/0||o===1/0)return[n,i];if(a===o)return[a];var l=Math.max(t,2),c=Dpe(new Wi(o).sub(a).div(l-1),r,0),u=[...Ope(new Wi(a),new Wi(o),c),o];return r===!1&&(u=u.map(d=>Math.round(d))),n>i?JM(u):u}var Frt=Rpe(krt),Brt=Rpe($rt),Lpe=e=>e.rootProps.maxBarSize,zrt=e=>e.rootProps.barGap,Tpe=e=>e.rootProps.barCategoryGap,Urt=e=>e.rootProps.barSize,Rj=e=>e.rootProps.stackOffset,s7=e=>e.options.chartName,o7=e=>e.rootProps.syncId,Mpe=e=>e.rootProps.syncMethod,l7=e=>e.options.eventEmitter,Xf={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Cl={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Nj=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Vrt={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Xf.angleAxisId,includeHidden:!1,name:void 0,reversed:Xf.reversed,scale:Xf.scale,tick:Xf.tick,tickCount:void 0,ticks:void 0,type:Xf.type,unit:void 0},Krt={allowDataOverflow:Cl.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Cl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Cl.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Cl.scale,tick:Cl.tick,tickCount:Cl.tickCount,ticks:void 0,type:Cl.type,unit:void 0},Grt={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Xf.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Xf.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Xf.scale,tick:Xf.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Hrt={allowDataOverflow:Cl.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Cl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Cl.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Cl.scale,tick:Cl.tick,tickCount:Cl.tickCount,ticks:void 0,type:"category",unit:void 0},c7=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Grt:Vrt,u7=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Hrt:Krt,Oj=e=>e.polarOptions,d7=ot([Nh,Oh,ws],vZe),Ipe=ot([Oj,d7],(e,t)=>{if(e!=null)return Uu(e.innerRadius,t,0)}),Ppe=ot([Oj,d7],(e,t)=>{if(e!=null)return Uu(e.outerRadius,t,t*.8)}),qrt=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},kpe=ot([Oj],qrt);ot([c7,kpe],Nj);var $pe=ot([d7,Ipe,Ppe],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});ot([u7,$pe],Nj);var Fpe=ot([_i,Oj,Ipe,Ppe,Nh,Oh],(e,t,n,i,r,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||i==null)){var{cx:o,cy:l,startAngle:c,endAngle:u}=t;return{cx:Uu(o,r,r/2),cy:Uu(l,a,a/2),innerRadius:n,outerRadius:i,startAngle:c,endAngle:u,clockWise:!1}}}),is=(e,t)=>t,jj=(e,t,n)=>n;function Dj(e){return e==null?void 0:e.id}var rs=e=>{var t=_i(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},sS=e=>e.tooltip.settings.axisId,as=e=>{var t=rs(e),n=sS(e);return hw(e,t,n)},Bpe=ot([as],e=>e==null?void 0:e.dataKey);function zpe(e,t,n){var{chartData:i=[]}=t,{allowDuplicatedCategory:r,dataKey:a}=n,o=new Map;return e.forEach(l=>{var c,u=(c=l.data)!==null&&c!==void 0?c:i;if(!(u==null||u.length===0)){var d=Dj(l);u.forEach((h,m)=>{var p=a==null||r?m:String(Ia(h,a,null)),v=Ia(h,l.dataKey,0),S;o.has(p)?S=o.get(p):S={},Object.assign(S,{[d]:v}),o.set(p,S)})}}),Array.from(o.values())}function Cj(e){return e.stackId!=null&&e.dataKey!=null}var Lj=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Tj(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function nQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function uN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nQ(Object(n),!0).forEach(function(i){Wrt(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nQ(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Wrt(e,t,n){return(t=Yrt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yrt(e){var t=Jrt(e,"string");return typeof t=="symbol"?t:t+""}function Jrt(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QM=[0,"auto"],Rl={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Upe=(e,t)=>e.cartesianAxis.xAxis[t],Dh=(e,t)=>{var n=Upe(e,t);return n??Rl},Nl={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:QM,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:rw},Vpe=(e,t)=>e.cartesianAxis.yAxis[t],Ch=(e,t)=>{var n=Vpe(e,t);return n??Nl},Qrt={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},f7=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??Qrt},Do=(e,t,n)=>{switch(t){case"xAxis":return Dh(e,n);case"yAxis":return Ch(e,n);case"zAxis":return f7(e,n);case"angleAxis":return c7(e,n);case"radiusAxis":return u7(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Xrt=(e,t,n)=>{switch(t){case"xAxis":return Dh(e,n);case"yAxis":return Ch(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},hw=(e,t,n)=>{switch(t){case"xAxis":return Dh(e,n);case"yAxis":return Ch(e,n);case"angleAxis":return c7(e,n);case"radiusAxis":return u7(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Kpe=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Gpe(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var pw=e=>e.graphicalItems.cartesianItems,Zrt=ot([is,jj],Gpe),Hpe=(e,t,n)=>e.filter(n).filter(i=>(t==null?void 0:t.includeHidden)===!0?!0:!i.hide),mw=ot([pw,Do,Zrt],Hpe,{memoizeOptions:{resultEqualityCheck:Tj}}),qpe=ot([mw],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Cj)),Wpe=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),eat=ot([mw],Wpe),Ype=e=>e.map(t=>t.data).filter(Boolean).flat(1),tat=ot([mw],Ype,{memoizeOptions:{resultEqualityCheck:Tj}}),Jpe=(e,t)=>{var{chartData:n=[],dataStartIndex:i,dataEndIndex:r}=t;return e.length>0?e:n.slice(i,r+1)},h7=ot([tat,fw],Jpe),Qpe=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(i=>({value:Ia(i,t.dataKey)})):n.length>0?n.map(i=>i.dataKey).flatMap(i=>e.map(r=>({value:Ia(r,i)}))):e.map(i=>({value:i})),Mj=ot([h7,Do,mw],Qpe);function Xpe(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function pA(e){if(Gd(e)||e instanceof Date){var t=Number(e);if($a(t))return t}}function iQ(e){if(Array.isArray(e)){var t=[pA(e[0]),pA(e[1])];return $g(t)?t:void 0}var n=pA(e);if(n!=null)return[n,n]}function oS(e){return e.map(pA).filter(gtt)}function nat(e,t,n){return!n||typeof t!="number"||ql(t)?[]:n.length?oS(n.flatMap(i=>{var r=Ia(e,i.dataKey),a,o;if(Array.isArray(r)?[a,o]=r:a=o=r,!(!$a(a)||!$a(o)))return[t-a,t+o]})):[]}var iat=ot([qpe,fw,as],zpe),Zpe=(e,t,n)=>{var i={},r=t.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),i);return Object.fromEntries(Object.entries(r).map(a=>{var[o,l]=a,c=l.map(Dj);return[o,{stackedData:MZe(e,c,n),graphicalItems:l}]}))},o2=ot([iat,qpe,Rj],Zpe),eme=(e,t,n,i)=>{var{dataStartIndex:r,dataEndIndex:a}=t;if(i==null&&n!=="zAxis"){var o=$Ze(e,r,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},rat=ot([Do],e=>e.allowDataOverflow),p7=e=>{var t;if(e==null||!("domain"in e))return QM;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=oS(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:QM},tme=ot([Do],p7),nme=ot([tme,rat],gpe),aat=ot([o2,Pm,is,nme],eme,{memoizeOptions:{resultEqualityCheck:Lj}}),m7=e=>e.errorBars,sat=(e,t,n)=>e.flatMap(i=>t[i.id]).filter(Boolean).filter(i=>Xpe(n,i)),dN=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=n.filter(Boolean);if(r.length!==0){var a=r.flat(),o=Math.min(...a),l=Math.max(...a);return[o,l]}},ime=(e,t,n,i,r)=>{var a,o;if(n.length>0&&e.forEach(l=>{n.forEach(c=>{var u,d,h=(u=i[c.id])===null||u===void 0?void 0:u.filter(w=>Xpe(r,w)),m=Ia(l,(d=t.dataKey)!==null&&d!==void 0?d:c.dataKey),p=nat(l,m,h);if(p.length>=2){var v=Math.min(...p),S=Math.max(...p);(a==null||v<a)&&(a=v),(o==null||S>o)&&(o=S)}var b=iQ(m);b!=null&&(a=a==null?b[0]:Math.min(a,b[0]),o=o==null?b[1]:Math.max(o,b[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var c=iQ(Ia(l,t.dataKey));c!=null&&(a=a==null?c[0]:Math.min(a,c[0]),o=o==null?c[1]:Math.max(o,c[1]))}),$a(a)&&$a(o))return[a,o]},oat=ot([h7,Do,eat,m7,is],ime,{memoizeOptions:{resultEqualityCheck:Lj}});function lat(e){var{value:t}=e;if(Gd(t)||t instanceof Date)return t}var cat=(e,t,n)=>{var i=e.map(lat).filter(r=>r!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&Nfe(i))?Phe(0,e.length):t.allowDuplicatedCategory?i:Array.from(new Set(i))},rme=e=>e.referenceElements.dots,lS=(e,t,n)=>e.filter(i=>i.ifOverflow==="extendDomain").filter(i=>t==="xAxis"?i.xAxisId===n:i.yAxisId===n),uat=ot([rme,is,jj],lS),ame=e=>e.referenceElements.areas,dat=ot([ame,is,jj],lS),sme=e=>e.referenceElements.lines,fat=ot([sme,is,jj],lS),ome=(e,t)=>{var n=oS(e.map(i=>t==="xAxis"?i.x:i.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},hat=ot(uat,is,ome),lme=(e,t)=>{var n=oS(e.flatMap(i=>[t==="xAxis"?i.x1:i.y1,t==="xAxis"?i.x2:i.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},pat=ot([dat,is],lme),cme=(e,t)=>{var n=oS(e.map(i=>t==="xAxis"?i.x:i.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},mat=ot(fat,is,cme),yat=ot(hat,mat,pat,(e,t,n)=>dN(e,n,t)),ume=(e,t,n,i,r,a,o,l)=>{if(n!=null)return n;var c=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",u=c?dN(i,a,r):dN(a,r);return jrt(t,u,e.allowDataOverflow)},gat=ot([Do,tme,nme,aat,oat,yat,_i,is],ume,{memoizeOptions:{resultEqualityCheck:Lj}}),vat=[0,1],dme=(e,t,n,i,r,a,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:l,type:c}=e,u=tf(t,a);return u&&l==null?Phe(0,n.length):c==="category"?cat(i,e,u):r==="expand"?vat:o}},y7=ot([Do,_i,h7,Mj,Rj,is,gat],dme),fme=(e,t,n,i,r)=>{if(e!=null){var{scale:a,type:o}=e;if(a==="auto")return t==="radial"&&r==="radiusAxis"?"band":t==="radial"&&r==="angleAxis"?"linear":o==="category"&&i&&(i.indexOf("LineChart")>=0||i.indexOf("AreaChart")>=0||i.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var l="scale".concat(tw(a));return l in Hb?l:"point"}}},yw=ot([Do,_i,Kpe,s7,is],fme);function Sat(e){if(e!=null){if(e in Hb)return Hb[e]();var t="scale".concat(tw(e));if(t in Hb)return Hb[t]()}}function g7(e,t,n,i){if(!(n==null||i==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(i);var r=Sat(t);if(r!=null){var a=r.domain(n).range(i);return jZe(a),a}}}var hme=(e,t,n)=>{var i=p7(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(i)&&(i[0]==="auto"||i[1]==="auto")&&$g(e))return Frt(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&$g(e))return Brt(e,t.tickCount,t.allowDecimals)}},v7=ot([y7,hw,yw],hme),pme=(e,t,n,i)=>{if(i!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&$g(t)&&Array.isArray(n)&&n.length>0){var r=t[0],a=n[0],o=t[1],l=n[n.length-1];return[Math.min(r,a),Math.max(o,l)]}return t},bat=ot([Do,y7,v7,is],pme),xat=ot(Mj,Do,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,i=Array.from(oS(e.map(l=>l.value))).sort((l,c)=>l-c);if(i.length<2)return 1/0;var r=i[i.length-1]-i[0];if(r===0)return 1/0;for(var a=0;a<i.length-1;a++){var o=i[a+1]-i[a];n=Math.min(n,o)}return n/r}}),mme=ot(xat,_i,Tpe,ws,(e,t,n,i)=>i,(e,t,n,i,r)=>{if(!$a(e))return 0;var a=t==="vertical"?i.height:i.width;if(r==="gap")return e*a/2;if(r==="no-gap"){var o=Uu(n,e*a),l=e*a/2;return l-o-(l-o)/a*o}return 0}),wat=(e,t)=>{var n=Dh(e,t);return n==null||typeof n.padding!="string"?0:mme(e,"xAxis",t,n.padding)},Eat=(e,t)=>{var n=Ch(e,t);return n==null||typeof n.padding!="string"?0:mme(e,"yAxis",t,n.padding)},_at=ot(Dh,wat,(e,t)=>{var n,i;if(e==null)return{left:0,right:0};var{padding:r}=e;return typeof r=="string"?{left:t,right:t}:{left:((n=r.left)!==null&&n!==void 0?n:0)+t,right:((i=r.right)!==null&&i!==void 0?i:0)+t}}),Aat=ot(Ch,Eat,(e,t)=>{var n,i;if(e==null)return{top:0,bottom:0};var{padding:r}=e;return typeof r=="string"?{top:t,bottom:t}:{top:((n=r.top)!==null&&n!==void 0?n:0)+t,bottom:((i=r.bottom)!==null&&i!==void 0?i:0)+t}}),Rat=ot([ws,_at,mj,pj,(e,t,n)=>n],(e,t,n,i,r)=>{var{padding:a}=i;return r?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),Nat=ot([ws,_i,Aat,mj,pj,(e,t,n)=>n],(e,t,n,i,r,a)=>{var{padding:o}=r;return a?[i.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),gw=(e,t,n,i)=>{var r;switch(t){case"xAxis":return Rat(e,n,i);case"yAxis":return Nat(e,n,i);case"zAxis":return(r=f7(e,n))===null||r===void 0?void 0:r.range;case"angleAxis":return kpe(e);case"radiusAxis":return $pe(e,n);default:return}},yme=ot([Do,gw],Nj),cS=ot([Do,yw,bat,yme],g7);ot([mw,m7,is],sat);function gme(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Ij=(e,t)=>t,Pj=(e,t,n)=>n,Oat=ot(fj,Ij,Pj,(e,t,n)=>e.filter(i=>i.orientation===t).filter(i=>i.mirror===n).sort(gme)),jat=ot(hj,Ij,Pj,(e,t,n)=>e.filter(i=>i.orientation===t).filter(i=>i.mirror===n).sort(gme)),vme=(e,t)=>({width:e.width,height:t.height}),Dat=(e,t)=>{var n=typeof t.width=="number"?t.width:rw;return{width:n,height:e.height}},Sme=ot(ws,Dh,vme),Cat=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},Lat=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},Tat=ot(Oh,ws,Oat,Ij,Pj,(e,t,n,i,r)=>{var a={},o;return n.forEach(l=>{var c=vme(t,l);o==null&&(o=Cat(t,i,e));var u=i==="top"&&!r||i==="bottom"&&r;a[l.id]=o-Number(u)*c.height,o+=(u?-1:1)*c.height}),a}),Mat=ot(Nh,ws,jat,Ij,Pj,(e,t,n,i,r)=>{var a={},o;return n.forEach(l=>{var c=Dat(t,l);o==null&&(o=Lat(t,i,e));var u=i==="left"&&!r||i==="right"&&r;a[l.id]=o-Number(u)*c.width,o+=(u?-1:1)*c.width}),a}),Iat=(e,t)=>{var n=Dh(e,t);if(n!=null)return Tat(e,n.orientation,n.mirror)},Pat=ot([ws,Dh,Iat,(e,t)=>t],(e,t,n,i)=>{if(t!=null){var r=n==null?void 0:n[i];return r==null?{x:e.left,y:0}:{x:e.left,y:r}}}),kat=(e,t)=>{var n=Ch(e,t);if(n!=null)return Mat(e,n.orientation,n.mirror)},$at=ot([ws,Ch,kat,(e,t)=>t],(e,t,n,i)=>{if(t!=null){var r=n==null?void 0:n[i];return r==null?{x:0,y:e.top}:{x:r,y:e.top}}}),bme=ot(ws,Ch,(e,t)=>{var n=typeof t.width=="number"?t.width:rw;return{width:n,height:e.height}}),rQ=(e,t,n)=>{switch(t){case"xAxis":return Sme(e,n).width;case"yAxis":return bme(e,n).height;default:return}},xme=(e,t,n,i)=>{if(n!=null){var{allowDuplicatedCategory:r,type:a,dataKey:o}=n,l=tf(e,i),c=t.map(u=>u.value);if(o&&l&&a==="category"&&r&&Nfe(c))return c}},S7=ot([_i,Mj,Do,is],xme),wme=(e,t,n,i)=>{if(!(n==null||n.dataKey==null)){var{type:r,scale:a}=n,o=tf(e,i);if(o&&(r==="number"||a!=="auto"))return t.map(l=>l.value)}},b7=ot([_i,Mj,hw,is],wme),aQ=ot([_i,Xrt,yw,cS,S7,b7,gw,v7,is],(e,t,n,i,r,a,o,l,c)=>{if(t==null)return null;var u=tf(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:a,duplicateDomain:r,isCategorical:u,niceTicks:l,range:o,realScaleType:n,scale:i}}),Fat=(e,t,n,i,r,a,o,l,c)=>{if(!(t==null||i==null)){var u=tf(e,c),{type:d,ticks:h,tickCount:m}=t,p=n==="scaleBand"&&typeof i.bandwidth=="function"?i.bandwidth()/2:2,v=d==="category"&&i.bandwidth?i.bandwidth()/p:0;v=c==="angleAxis"&&a!=null&&a.length>=2?il(a[0]-a[1])*2*v:v;var S=h||r;if(S){var b=S.map((w,R)=>{var E=o?o.indexOf(w):w;return{index:R,coordinate:i(E)+v,value:w,offset:v}});return b.filter(w=>!ql(w.coordinate))}return u&&l?l.map((w,R)=>({coordinate:i(w)+v,value:w,index:R,offset:v})):i.ticks?i.ticks(m).map(w=>({coordinate:i(w)+v,value:w,offset:v})):i.domain().map((w,R)=>({coordinate:i(w)+v,value:o?o[w]:w,index:R,offset:v}))}},Eme=ot([_i,hw,yw,cS,v7,gw,S7,b7,is],Fat),Bat=(e,t,n,i,r,a,o)=>{if(!(t==null||n==null||i==null||i[0]===i[1])){var l=tf(e,o),{tickCount:c}=t,u=0;return u=o==="angleAxis"&&(i==null?void 0:i.length)>=2?il(i[0]-i[1])*2*u:u,l&&a?a.map((d,h)=>({coordinate:n(d)+u,value:d,index:h,offset:u})):n.ticks?n.ticks(c).map(d=>({coordinate:n(d)+u,value:d,offset:u})):n.domain().map((d,h)=>({coordinate:n(d)+u,value:r?r[d]:d,index:h,offset:u}))}},qd=ot([_i,hw,cS,gw,S7,b7,is],Bat),Wd=ot(Do,cS,(e,t)=>{if(!(e==null||t==null))return uN(uN({},e),{},{scale:t})}),zat=ot([Do,yw,y7,yme],g7);ot((e,t,n)=>f7(e,n),zat,(e,t)=>{if(!(e==null||t==null))return uN(uN({},e),{},{scale:t})});var Uat=ot([_i,fj,hj],(e,t,n)=>{switch(e){case"horizontal":return t.some(i=>i.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(i=>i.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),_me=e=>e.options.defaultTooltipEventType,Ame=e=>e.options.validateTooltipEventTypes;function Rme(e,t,n){if(e==null)return t;var i=e?"axis":"item";return n==null?t:n.includes(i)?i:t}function x7(e,t){var n=_me(e),i=Ame(e);return Rme(t,n,i)}function Vat(e){return gn(t=>x7(t,e))}var Nme=(e,t)=>{var n,i=Number(t);if(!(ql(i)||t==null))return i>=0?e==null||(n=e[i])===null||n===void 0?void 0:n.value:void 0},Kat=e=>e.tooltip.settings,Tp={active:!1,index:null,dataKey:void 0,coordinate:void 0},Gat={itemInteraction:{click:Tp,hover:Tp},axisInteraction:{click:Tp,hover:Tp},keyboardInteraction:Tp,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Ome=Ql({name:"tooltip",initialState:Gat,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:xo()},removeTooltipEntrySettings:{reducer(e,t){var n=ch(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:xo()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Hat,removeTooltipEntrySettings:qat,setTooltipSettingsState:Wat,setActiveMouseOverItemIndex:jme,mouseLeaveItem:Yat,mouseLeaveChart:Dme,setActiveClickItemIndex:Jat,setMouseOverAxisIndex:Cme,setMouseClickAxisIndex:Qat,setSyncInteraction:XM,setKeyboardInteraction:ZM}=Ome.actions,Xat=Ome.reducer;function sQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function __(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sQ(Object(n),!0).forEach(function(i){Zat(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sQ(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Zat(e,t,n){return(t=est(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function est(e){var t=tst(e,"string");return typeof t=="symbol"?t:t+""}function tst(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nst(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function ist(e){return e.index!=null}var Lme=(e,t,n,i)=>{if(t==null)return Tp;var r=nst(e,t,n);if(r==null)return Tp;if(r.active)return r;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(ist(r)){if(a)return __(__({},r),{},{active:!0})}else if(i!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:i};return __(__({},Tp),{},{coordinate:r.coordinate})},w7=(e,t)=>{var n=e==null?void 0:e.index;if(n==null)return null;var i=Number(n);if(!$a(i))return n;var r=0,a=1/0;return t.length>0&&(a=t.length-1),String(Math.max(r,Math.min(i,a)))},Tme=(e,t,n,i,r,a,o,l)=>{if(!(a==null||l==null)){var c=o[0],u=c==null?void 0:l(c.positions,a);if(u!=null)return u;var d=r==null?void 0:r[Number(a)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(i.top+t)/2};default:return{x:(i.left+e)/2,y:d.coordinate}}}},Mme=(e,t,n,i)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var r;return n==="hover"?r=e.itemInteraction.hover.dataKey:r=e.itemInteraction.click.dataKey,r==null&&i!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===r})},vw=e=>e.options.tooltipPayloadSearcher,uS=e=>e.tooltip;function oQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function lQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oQ(Object(n),!0).forEach(function(i){rst(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oQ(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function rst(e,t,n){return(t=ast(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ast(e){var t=sst(e,"string");return typeof t=="symbol"?t:t+""}function sst(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ost(e,t){return e??t}var Ime=(e,t,n,i,r,a,o)=>{if(!(t==null||a==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=n,h=[];return e.reduce((m,p)=>{var v,{dataDefinedOnItem:S,settings:b}=p,w=ost(S,l),R=Array.isArray(w)?ghe(w,u,d):w,E=(v=b==null?void 0:b.dataKey)!==null&&v!==void 0?v:i,_=b==null?void 0:b.nameKey,N;if(i&&Array.isArray(R)&&!Array.isArray(R[0])&&o==="axis"?N=Ofe(R,i,r):N=a(R,t,c,_),Array.isArray(N))N.forEach(j=>{var D=lQ(lQ({},b),{},{name:j.name,unit:j.unit,color:void 0,fill:void 0});m.push(kY({tooltipEntrySettings:D,dataKey:j.dataKey,payload:j.payload,value:Ia(j.payload,j.dataKey),name:j.name}))});else{var O;m.push(kY({tooltipEntrySettings:b,dataKey:E,payload:N,value:Ia(N,E),name:(O=Ia(N,_))!==null&&O!==void 0?O:b==null?void 0:b.name}))}return m},h)}},E7=ot([as,_i,Kpe,s7,rs],fme),lst=ot([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),cst=ot([rs,sS],Gpe),Sw=ot([lst,as,cst],Hpe,{memoizeOptions:{resultEqualityCheck:Tj}}),ust=ot([Sw],e=>e.filter(Cj)),dst=ot([Sw],Ype,{memoizeOptions:{resultEqualityCheck:Tj}}),dS=ot([dst,Pm],Jpe),fst=ot([ust,Pm,as],zpe),_7=ot([dS,as,Sw],Qpe),Pme=ot([as],p7),hst=ot([as],e=>e.allowDataOverflow),kme=ot([Pme,hst],gpe),pst=ot([Sw],e=>e.filter(Cj)),mst=ot([fst,pst,Rj],Zpe),yst=ot([mst,Pm,rs,kme],eme),gst=ot([Sw],Wpe),vst=ot([dS,as,gst,m7,rs],ime,{memoizeOptions:{resultEqualityCheck:Lj}}),Sst=ot([rme,rs,sS],lS),bst=ot([Sst,rs],ome),xst=ot([ame,rs,sS],lS),wst=ot([xst,rs],lme),Est=ot([sme,rs,sS],lS),_st=ot([Est,rs],cme),Ast=ot([bst,_st,wst],dN),Rst=ot([as,Pme,kme,yst,vst,Ast,_i,rs],ume),$me=ot([as,_i,dS,_7,Rj,rs,Rst],dme),Nst=ot([$me,as,E7],hme),Ost=ot([as,$me,Nst,rs],pme),Fme=e=>{var t=rs(e),n=sS(e),i=!1;return gw(e,t,n,i)},Bme=ot([as,Fme],Nj),zme=ot([as,E7,Ost,Bme],g7),jst=ot([_i,_7,as,rs],xme),Dst=ot([_i,_7,as,rs],wme),Cst=(e,t,n,i,r,a,o,l)=>{if(t){var{type:c}=t,u=tf(e,l);if(i){var d=n==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,h=c==="category"&&i.bandwidth?i.bandwidth()/d:0;return h=l==="angleAxis"&&r!=null&&(r==null?void 0:r.length)>=2?il(r[0]-r[1])*2*h:h,u&&o?o.map((m,p)=>({coordinate:i(m)+h,value:m,index:p,offset:h})):i.domain().map((m,p)=>({coordinate:i(m)+h,value:a?a[m]:m,index:p,offset:h}))}}},Lh=ot([_i,as,E7,zme,Fme,jst,Dst,rs],Cst),A7=ot([_me,Ame,Kat],(e,t,n)=>Rme(n.shared,e,t)),Ume=e=>e.tooltip.settings.trigger,R7=e=>e.tooltip.settings.defaultIndex,kj=ot([uS,A7,Ume,R7],Lme),Bg=ot([kj,dS],w7),Vme=ot([Lh,Bg],Nme),Kme=ot([kj],e=>{if(e)return e.dataKey}),Gme=ot([uS,A7,Ume,R7],Mme),Lst=ot([Nh,Oh,_i,ws,Lh,R7,Gme,vw],Tme),Tst=ot([kj,Lst],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Mst=ot([kj],e=>e.active),Ist=ot([Gme,Bg,Pm,Bpe,Vme,vw,A7],Ime),Pst=ot([Ist],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function cQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function uQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cQ(Object(n),!0).forEach(function(i){kst(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cQ(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function kst(e,t,n){return(t=$st(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $st(e){var t=Fst(e,"string");return typeof t=="symbol"?t:t+""}function Fst(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bst=()=>gn(as),zst=()=>{var e=Bst(),t=gn(Lh),n=gn(zme);return kg(uQ(uQ({},e),{},{scale:n}),t)},Hme=()=>gn(s7),N7=(e,t)=>t,qme=(e,t,n)=>n,O7=(e,t,n,i)=>i,Ust=ot(Lh,e=>sj(e,t=>t.coordinate)),j7=ot([uS,N7,qme,O7],Lme),Wme=ot([j7,dS],w7),Vst=(e,t,n)=>{if(t!=null){var i=uS(e);return t==="axis"?n==="hover"?i.axisInteraction.hover.dataKey:i.axisInteraction.click.dataKey:n==="hover"?i.itemInteraction.hover.dataKey:i.itemInteraction.click.dataKey}},Yme=ot([uS,N7,qme,O7],Mme),fN=ot([Nh,Oh,_i,ws,Lh,O7,Yme,vw],Tme),Kst=ot([j7,fN],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),Jme=ot(Lh,Wme,Nme),Gst=ot([Yme,Wme,Pm,Bpe,Jme,vw,N7],Ime),Hst=ot([j7],e=>({isActive:e.active,activeIndex:e.index})),qst=(e,t,n,i,r,a,o,l)=>{if(!(!e||!t||!i||!r||!a)){var c=FZe(e.chartX,e.chartY,t,n,l);if(c){var u=zZe(c,t),d=NZe(u,o,a,i,r),h=BZe(t,a,d,c);return{activeIndex:String(d),activeCoordinate:h}}}};function eI(){return eI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},eI.apply(null,arguments)}function dQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function A_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dQ(Object(n),!0).forEach(function(i){Wst(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dQ(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Wst(e,t,n){return(t=Yst(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yst(e){var t=Jst(e,"string");return typeof t=="symbol"?t:t+""}function Jst(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qst(e){var{coordinate:t,payload:n,index:i,offset:r,tooltipAxisBandSize:a,layout:o,cursor:l,tooltipEventType:c,chartName:u}=e,d=t,h=n,m=i;if(!l||!d||u!=="ScatterChart"&&c!=="axis")return null;var p,v;if(u==="ScatterChart")p=d,v=utt;else if(u==="BarChart")p=dtt(o,d,r,a),v=Lhe;else if(o==="radial"){var{cx:S,cy:b,radius:w,startAngle:R,endAngle:E}=The(d);p={cx:S,cy:b,startAngle:R,endAngle:E,innerRadius:w,outerRadius:w},v=Ihe}else p={points:Wtt(o,d,r)},v=lx;var _=typeof l=="object"&&"className"in l?l.className:void 0,N=A_(A_(A_(A_({stroke:"#ccc",pointerEvents:"none"},r),p),ew(l)),{},{payload:h,payloadIndex:m,className:Bi("recharts-tooltip-cursor",_)});return g.isValidElement(l)?g.cloneElement(l,N):g.createElement(v,N)}function Xst(e){var t=zst(),n=Ahe(),i=aw(),r=Hme();return g.createElement(Qst,eI({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:i,tooltipAxisBandSize:t,chartName:r}))}var Qme=g.createContext(null),Zst=()=>g.useContext(Qme),yT={exports:{}},fQ;function eot(){return fQ||(fQ=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function r(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,h,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new r(d,h||c,m),v=n?n+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],p]:c._events[v].push(p):(c._events[v]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new i:delete c._events[u]}function l(){this._events=new i,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)t.call(d,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var m=0,p=h.length,v=new Array(p);m<p;m++)v[m]=h[m].fn;return v},l.prototype.listenerCount=function(u){var d=n?n+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,m,p,v){var S=n?n+u:u;if(!this._events[S])return!1;var b=this._events[S],w=arguments.length,R,E;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),w){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,h),!0;case 4:return b.fn.call(b.context,d,h,m),!0;case 5:return b.fn.call(b.context,d,h,m,p),!0;case 6:return b.fn.call(b.context,d,h,m,p,v),!0}for(E=1,R=new Array(w-1);E<w;E++)R[E-1]=arguments[E];b.fn.apply(b.context,R)}else{var _=b.length,N;for(E=0;E<_;E++)switch(b[E].once&&this.removeListener(u,b[E].fn,void 0,!0),w){case 1:b[E].fn.call(b[E].context);break;case 2:b[E].fn.call(b[E].context,d);break;case 3:b[E].fn.call(b[E].context,d,h);break;case 4:b[E].fn.call(b[E].context,d,h,m);break;default:if(!R)for(N=1,R=new Array(w-1);N<w;N++)R[N-1]=arguments[N];b[E].fn.apply(b[E].context,R)}}return!0},l.prototype.on=function(u,d,h){return a(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return a(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,m){var p=n?n+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var v=this._events[p];if(v.fn)v.fn===d&&(!m||v.once)&&(!h||v.context===h)&&o(this,p);else{for(var S=0,b=[],w=v.length;S<w;S++)(v[S].fn!==d||m&&!v[S].once||h&&v[S].context!==h)&&b.push(v[S]);b.length?this._events[p]=b.length===1?b[0]:b:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new i,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(yT)),yT.exports}var tot=eot();const not=ol(tot);var l2=new not,tI="recharts.syncEvent.tooltip",hQ="recharts.syncEvent.brush";function $j(e,t){if(t){var n=Number.parseInt(t,10);if(!ql(n))return e==null?void 0:e[n]}}var iot={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Xme=Ql({name:"options",initialState:iot,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),rot=Xme.reducer,{createEventEmitter:aot}=Xme.actions;function sot(e){return e.tooltip.syncInteraction}var oot={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Zme=Ql({name:"chartData",initialState:oot,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:i}=t.payload;n!=null&&(e.dataStartIndex=n),i!=null&&(e.dataEndIndex=i)}}}),{setChartData:pQ,setDataStartEndIndexes:lot,setComputedData:rwt}=Zme.actions,cot=Zme.reducer,uot=["x","y"];function mQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function f0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mQ(Object(n),!0).forEach(function(i){dot(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mQ(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function dot(e,t,n){return(t=fot(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fot(e){var t=hot(e,"string");return typeof t=="symbol"?t:t+""}function hot(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pot(e,t){if(e==null)return{};var n,i,r=mot(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mot(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var eye=()=>{};function yot(){var e=gn(o7),t=gn(l7),n=Aa(),i=gn(Mpe),r=gn(Lh),a=aw(),o=yj(),l=gn(c=>c.rootProps.className);g.useEffect(()=>{if(e==null)return eye;var c=(u,d,h)=>{if(t!==h&&e===u){if(i==="index"){var m;if(o&&d!==null&&d!==void 0&&(m=d.payload)!==null&&m!==void 0&&m.coordinate&&d.payload.sourceViewBox){var p=d.payload.coordinate,{x:v,y:S}=p,b=pot(p,uot),{x:w,y:R,width:E,height:_}=d.payload.sourceViewBox,N=f0(f0({},b),{},{x:o.x+(E?(v-w)/E:0)*o.width,y:o.y+(_?(S-R)/_:0)*o.height});n(f0(f0({},d),{},{payload:f0(f0({},d.payload),{},{coordinate:N})}))}else n(d);return}if(r!=null){var O;if(typeof i=="function"){var j={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},D=i(r,j);O=r[D]}else i==="value"&&(O=r.find(q=>String(q.value)===d.payload.label));var{coordinate:P}=d.payload;if(O==null||d.payload.active===!1||P==null||o==null){n(XM({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:B,y:M}=P,z=Math.min(B,o.x+o.width),U=Math.min(M,o.y+o.height),K={x:a==="horizontal"?O.coordinate:z,y:a==="horizontal"?U:O.coordinate},te=XM({active:d.payload.active,coordinate:K,dataKey:d.payload.dataKey,index:String(O.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox});n(te)}}};return l2.on(tI,c),()=>{l2.off(tI,c)}},[l,n,t,e,i,r,a,o])}function got(){var e=gn(o7),t=gn(l7),n=Aa();g.useEffect(()=>{if(e==null)return eye;var i=(r,a,o)=>{t!==o&&e===r&&n(lot(a))};return l2.on(hQ,i),()=>{l2.off(hQ,i)}},[n,t,e])}function vot(){var e=Aa();g.useEffect(()=>{e(aot())},[e]),yot(),got()}function Sot(e,t,n,i,r,a){var o=gn(p=>Vst(p,e,t)),l=gn(l7),c=gn(o7),u=gn(Mpe),d=gn(sot),h=d==null?void 0:d.active,m=yj();g.useEffect(()=>{if(!h&&c!=null&&l!=null){var p=XM({active:a,coordinate:n,dataKey:o,index:r,label:typeof i=="number"?String(i):i,sourceViewBox:m});l2.emit(tI,c,p,l)}},[h,n,o,r,i,l,c,u,a,m])}function yQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function gQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yQ(Object(n),!0).forEach(function(i){bot(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yQ(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function bot(e,t,n){return(t=xot(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xot(e){var t=wot(e,"string");return typeof t=="symbol"?t:t+""}function wot(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eot(e){return e.dataKey}function _ot(e,t){return g.isValidElement(e)?g.cloneElement(e,t):typeof e=="function"?g.createElement(e,t):g.createElement(Uet,t)}var vQ=[],Aot={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Tm.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Rot(e){var t=ro(e,Aot),{active:n,allowEscapeViewBox:i,animationDuration:r,animationEasing:a,content:o,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:h,reverseDirection:m,useTranslate3d:p,wrapperStyle:v,cursor:S,shared:b,trigger:w,defaultIndex:R,portal:E,axisId:_}=t,N=Aa(),O=typeof R=="number"?String(R):R;g.useEffect(()=>{N(Wat({shared:b,trigger:w,axisId:_,active:n,defaultIndex:O}))},[N,b,w,_,n,O]);var j=yj(),D=Nhe(),P=Vat(b),{activeIndex:B,isActive:M}=gn(ie=>Hst(ie,P,w,O)),z=gn(ie=>Gst(ie,P,w,O)),U=gn(ie=>Jme(ie,P,w,O)),K=gn(ie=>Kst(ie,P,w,O)),te=z,q=Zst(),V=n??M,[Q,ce]=Kfe([te,V]),ae=P==="axis"?U:void 0;Sot(P,w,K,ae,B,V);var G=E??q;if(G==null)return null;var H=te??vQ;V||(H=vQ),l&&H.length&&(H=Ffe(te.filter(ie=>ie.value!=null&&(ie.hide!==!0||t.includeHidden)),d,Eot));var T=H.length>0,Y=g.createElement(Yet,{allowEscapeViewBox:i,animationDuration:r,animationEasing:a,isAnimationActive:c,active:V,coordinate:K,hasPayload:T,offset:u,position:h,reverseDirection:m,useTranslate3d:p,viewBox:j,wrapperStyle:v,lastBoundingBox:Q,innerRef:ce,hasPortalFromProps:!!E},_ot(o,gQ(gQ({},t),{},{payload:H,label:ae,active:V,coordinate:K,accessibilityLayer:D})));return g.createElement(g.Fragment,null,Kl.createPortal(Y,G),V&&g.createElement(Xst,{cursor:S,tooltipEventType:P,coordinate:K,payload:te,index:B}))}var tye=e=>null;tye.displayName="Cell";function Not(e,t,n){return(t=Oot(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oot(e){var t=jot(e,"string");return typeof t=="symbol"?t:t+""}function jot(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Dot{constructor(t){Not(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var i=this.cache.keys().next().value;this.cache.delete(i)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function SQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function Cot(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SQ(Object(n),!0).forEach(function(i){Lot(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SQ(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Lot(e,t,n){return(t=Tot(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tot(e){var t=Mot(e,"string");return typeof t=="symbol"?t:t+""}function Mot(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Iot={cacheSize:2e3,enableCache:!0},nye=Cot({},Iot),bQ=new Dot(nye.cacheSize),Pot={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},xQ="recharts_measurement_span";function kot(e,t){var n=t.fontSize||"",i=t.fontFamily||"",r=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(i,"|").concat(r,"|").concat(a,"|").concat(o,"|").concat(l)}var wQ=(e,t)=>{try{var n=document.getElementById(xQ);n||(n=document.createElement("span"),n.setAttribute("id",xQ),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Pot,t),n.textContent="".concat(e);var i=n.getBoundingClientRect();return{width:i.width,height:i.height}}catch{return{width:0,height:0}}},cx=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Tm.isSsr)return{width:0,height:0};if(!nye.enableCache)return wQ(t,n);var i=kot(t,n),r=bQ.get(i);if(r)return r;var a=wQ(t,n);return bQ.set(i,a),a},EQ=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_Q=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$ot=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Fot=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,iye={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Bot=Object.keys(iye),_0="NaN";function zot(e,t){return e*iye[t]}class Zo{static parse(t){var n,[,i,r]=(n=Fot.exec(t))!==null&&n!==void 0?n:[];return new Zo(parseFloat(i),r??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,ql(t)&&(this.unit=""),n!==""&&!$ot.test(n)&&(this.num=NaN,this.unit=""),Bot.includes(n)&&(this.num=zot(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Zo(NaN,""):new Zo(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Zo(NaN,""):new Zo(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Zo(NaN,""):new Zo(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Zo(NaN,""):new Zo(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ql(this.num)}}function rye(e){if(e.includes(_0))return _0;for(var t=e;t.includes("*")||t.includes("/");){var n,[,i,r,a]=(n=EQ.exec(t))!==null&&n!==void 0?n:[],o=Zo.parse(i??""),l=Zo.parse(a??""),c=r==="*"?o.multiply(l):o.divide(l);if(c.isNaN())return _0;t=t.replace(EQ,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,h,m]=(u=_Q.exec(t))!==null&&u!==void 0?u:[],p=Zo.parse(d??""),v=Zo.parse(m??""),S=h==="+"?p.add(v):p.subtract(v);if(S.isNaN())return _0;t=t.replace(_Q,S.toString())}return t}var AQ=/\(([^()]*)\)/;function Uot(e){for(var t=e,n;(n=AQ.exec(t))!=null;){var[,i]=n;t=t.replace(AQ,rye(i))}return t}function Vot(e){var t=e.replace(/\s+/g,"");return t=Uot(t),t=rye(t),t}function Kot(e){try{return Vot(e)}catch{return _0}}function gT(e){var t=Kot(e.slice(5,-1));return t===_0?"":t}var Got=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Hot=["dx","dy","angle","className","breakAll"];function nI(){return nI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},nI.apply(null,arguments)}function RQ(e,t){if(e==null)return{};var n,i,r=qot(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qot(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var aye=/[ \f\n\r\t\v\u2028\u2029]+/,sye=e=>{var{children:t,breakAll:n,style:i}=e;try{var r=[];Cr(t)||(n?r=t.toString().split(""):r=t.toString().split(aye));var a=r.map(l=>({word:l,width:cx(l,i).width})),o=n?0:cx("",i).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},Wot=(e,t,n,i,r)=>{var{maxLines:a,children:o,style:l,breakAll:c}=e,u=fn(a),d=o,h=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce((z,U)=>{var{word:K,width:te}=U,q=z[z.length-1];if(q&&(i==null||r||q.width+te+n<Number(i)))q.words.push(K),q.width+=te+n;else{var V={words:[K],width:te};z.push(V)}return z},[])},m=h(t),p=B=>B.reduce((M,z)=>M.width>z.width?M:z);if(!u||r)return m;var v=m.length>a||p(m).width>Number(i);if(!v)return m;for(var S="",b=B=>{var M=d.slice(0,B),z=sye({breakAll:c,style:l,children:M+S}).wordsWithComputedWidth,U=h(z),K=U.length>a||p(U).width>Number(i);return[K,U]},w=0,R=d.length-1,E=0,_;w<=R&&E<=d.length-1;){var N=Math.floor((w+R)/2),O=N-1,[j,D]=b(O),[P]=b(N);if(!j&&!P&&(w=N+1),j&&P&&(R=N-1),!j&&P){_=D;break}E++}return _||m},NQ=e=>{var t=Cr(e)?[]:e.toString().split(aye);return[{words:t}]},Yot=e=>{var{width:t,scaleToFit:n,children:i,style:r,breakAll:a,maxLines:o}=e;if((t||n)&&!Tm.isSsr){var l,c,u=sye({breakAll:a,children:i,style:r});if(u){var{wordsWithComputedWidth:d,spaceWidth:h}=u;l=d,c=h}else return NQ(i);return Wot({breakAll:a,children:i,maxLines:o,style:r},l,c,t,n)}return NQ(i)},OQ="#808080",D7=g.forwardRef((e,t)=>{var{x:n=0,y:i=0,lineHeight:r="1em",capHeight:a="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=OQ}=e,d=RQ(e,Got),h=g.useMemo(()=>Yot({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:o,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,o,d.style,d.width]),{dx:m,dy:p,angle:v,className:S,breakAll:b}=d,w=RQ(d,Hot);if(!Gd(n)||!Gd(i)||h.length===0)return null;var R=n+(fn(m)?m:0),E=i+(fn(p)?p:0),_;switch(c){case"start":_=gT("calc(".concat(a,")"));break;case"middle":_=gT("calc(".concat((h.length-1)/2," * -").concat(r," + (").concat(a," / 2))"));break;default:_=gT("calc(".concat(h.length-1," * -").concat(r,")"));break}var N=[];if(o){var O=h[0].width,{width:j}=d;N.push("scale(".concat(fn(j)?j/O:1,")"))}return v&&N.push("rotate(".concat(v,", ").concat(R,", ").concat(E,")")),N.length&&(w.transform=N.join(" ")),g.createElement("text",nI({},Oo(w),{ref:t,x:R,y:E,className:Bi("recharts-text",S),textAnchor:l,fill:u.includes("url")?OQ:u}),h.map((D,P)=>{var B=D.words.join(b?"":" ");return g.createElement("tspan",{x:R,dy:P===0?_:r,key:"".concat(B,"-").concat(P)},B)}))});D7.displayName="Text";var Jot=["labelRef"];function Qot(e,t){if(e==null)return{};var n,i,r=Xot(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Xot(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function jQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function va(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jQ(Object(n),!0).forEach(function(i){Zot(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jQ(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Zot(e,t,n){return(t=elt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function elt(e){var t=tlt(e,"string");return typeof t=="symbol"?t:t+""}function tlt(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zf(){return Zf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Zf.apply(null,arguments)}var oye=g.createContext(null),nlt=e=>{var{x:t,y:n,width:i,height:r,children:a}=e,o=g.useMemo(()=>({x:t,y:n,width:i,height:r}),[t,n,i,r]);return g.createElement(oye.Provider,{value:o},a)},lye=()=>{var e=g.useContext(oye),t=yj();return e||t},ilt=g.createContext(null),rlt=()=>{var e=g.useContext(ilt),t=gn(Fpe);return e||t},alt=e=>{var{value:t,formatter:n}=e,i=Cr(e.children)?t:e.children;return typeof n=="function"?n(i):i},C7=e=>e!=null&&typeof e=="function",slt=(e,t)=>{var n=il(t-e),i=Math.min(Math.abs(t-e),360);return n*i},olt=(e,t,n,i,r)=>{var{offset:a,className:o}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:h,endAngle:m,clockWise:p}=r,v=(u+d)/2,S=slt(h,m),b=S>=0?1:-1,w,R;switch(t){case"insideStart":w=h+b*a,R=p;break;case"insideEnd":w=m-b*a,R=!p;break;case"end":w=m+b*a,R=p;break;default:throw new Error("Unsupported position ".concat(t))}R=S<=0?R:!R;var E=Ps(l,c,v,w),_=Ps(l,c,v,w+(R?1:-1)*359),N="M".concat(E.x,",").concat(E.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(R?0:1,`,
    `).concat(_.x,",").concat(_.y),O=Cr(e.id)?Qx("recharts-radial-line-"):e.id;return g.createElement("text",Zf({},i,{dominantBaseline:"central",className:Bi("recharts-radial-bar-label",o)}),g.createElement("defs",null,g.createElement("path",{id:O,d:N})),g.createElement("textPath",{xlinkHref:"#".concat(O)},n))},llt=(e,t,n)=>{var{cx:i,cy:r,innerRadius:a,outerRadius:o,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(n==="outside"){var{x:d,y:h}=Ps(i,r,o+t,u);return{x:d,y:h,textAnchor:d>=i?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"end"};var m=(a+o)/2,{x:p,y:v}=Ps(i,r,m,u);return{x:p,y:v,textAnchor:"middle",verticalAnchor:"middle"}},cye=e=>"cx"in e&&fn(e.cx),clt=(e,t)=>{var{parentViewBox:n,offset:i,position:r}=e,a;n!=null&&!cye(n)&&(a=n);var{x:o,y:l,width:c,height:u}=t,d=u>=0?1:-1,h=d*i,m=d>0?"end":"start",p=d>0?"start":"end",v=c>=0?1:-1,S=v*i,b=v>0?"end":"start",w=v>0?"start":"end";if(r==="top"){var R={x:o+c/2,y:l-d*i,textAnchor:"middle",verticalAnchor:m};return va(va({},R),a?{height:Math.max(l-a.y,0),width:c}:{})}if(r==="bottom"){var E={x:o+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:p};return va(va({},E),a?{height:Math.max(a.y+a.height-(l+u),0),width:c}:{})}if(r==="left"){var _={x:o-S,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return va(va({},_),a?{width:Math.max(_.x-a.x,0),height:u}:{})}if(r==="right"){var N={x:o+c+S,y:l+u/2,textAnchor:w,verticalAnchor:"middle"};return va(va({},N),a?{width:Math.max(a.x+a.width-N.x,0),height:u}:{})}var O=a?{width:c,height:u}:{};return r==="insideLeft"?va({x:o+S,y:l+u/2,textAnchor:w,verticalAnchor:"middle"},O):r==="insideRight"?va({x:o+c-S,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},O):r==="insideTop"?va({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:p},O):r==="insideBottom"?va({x:o+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:m},O):r==="insideTopLeft"?va({x:o+S,y:l+h,textAnchor:w,verticalAnchor:p},O):r==="insideTopRight"?va({x:o+c-S,y:l+h,textAnchor:b,verticalAnchor:p},O):r==="insideBottomLeft"?va({x:o+S,y:l+u-h,textAnchor:w,verticalAnchor:m},O):r==="insideBottomRight"?va({x:o+c-S,y:l+u-h,textAnchor:b,verticalAnchor:m},O):r&&typeof r=="object"&&(fn(r.x)||gh(r.x))&&(fn(r.y)||gh(r.y))?va({x:o+Uu(r.x,c),y:l+Uu(r.y,u),textAnchor:"end",verticalAnchor:"end"},O):va({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},O)},ult={offset:5};function Dp(e){var t=ro(e,ult),{viewBox:n,position:i,value:r,children:a,content:o,className:l="",textBreakAll:c,labelRef:u}=t,d=rlt(),h=lye(),m=i==="center"?h:d??h,p=n||m;if(!p||Cr(r)&&Cr(a)&&!g.isValidElement(o)&&typeof o!="function")return null;var v=va(va({},t),{},{viewBox:p});if(g.isValidElement(o)){var{labelRef:S}=v,b=Qot(v,Jot);return g.cloneElement(o,b)}var w;if(typeof o=="function"){if(w=g.createElement(o,v),g.isValidElement(w))return w}else w=alt(t);var R=cye(p),E=Oo(t);if(R&&(i==="insideStart"||i==="insideEnd"||i==="end"))return olt(t,i,w,E,p);var _=R?llt(p,t.offset,t.position):clt(t,p);return g.createElement(D7,Zf({ref:u,className:Bi("recharts-label",l)},E,_,{breakAll:c}),w)}Dp.displayName="Label";var dlt=(e,t,n)=>{if(!e)return null;var i={viewBox:t,labelRef:n};return e===!0?g.createElement(Dp,Zf({key:"label-implicit"},i)):Gd(e)?g.createElement(Dp,Zf({key:"label-implicit",value:e},i)):g.isValidElement(e)?e.type===Dp?g.cloneElement(e,va({key:"label-implicit"},i)):g.createElement(Dp,Zf({key:"label-implicit",content:e},i)):C7(e)?g.createElement(Dp,Zf({key:"label-implicit",content:e},i)):e&&typeof e=="object"?g.createElement(Dp,Zf({},e,{key:"label-implicit"},i)):null};function flt(e){var{label:t,labelRef:n}=e,i=lye();return dlt(t,i,n)||null}var vT={},ST={},DQ;function hlt(){return DQ||(DQ=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(ST)),ST}var bT={},CQ;function plt(){return CQ||(CQ=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(bT)),bT}var LQ;function mlt(){return LQ||(LQ=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hlt(),n=plt(),i=Ek();function r(a){if(i.isArrayLike(a))return t.last(n.toArray(a))}e.last=r})(vT)),vT}var xT,TQ;function ylt(){return TQ||(TQ=1,xT=mlt().last),xT}var glt=ylt();const vlt=ol(glt);var Slt=["valueAccessor"],blt=["dataKey","clockWise","id","textBreakAll"];function hN(){return hN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},hN.apply(null,arguments)}function MQ(e,t){if(e==null)return{};var n,i,r=xlt(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xlt(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var wlt=e=>Array.isArray(e.value)?vlt(e.value):e.value,uye=g.createContext(void 0),L7=uye.Provider,dye=g.createContext(void 0);dye.Provider;function Elt(){return g.useContext(uye)}function _lt(){return g.useContext(dye)}function mA(e){var{valueAccessor:t=wlt}=e,n=MQ(e,Slt),{dataKey:i,clockWise:r,id:a,textBreakAll:o}=n,l=MQ(n,blt),c=Elt(),u=_lt(),d=c||u;return!d||!d.length?null:g.createElement(no,{className:"recharts-label-list"},d.map((h,m)=>{var p,v=Cr(i)?t(h,m):Ia(h&&h.payload,i),S=Cr(a)?{}:{id:"".concat(a,"-").concat(m)};return g.createElement(Dp,hN({key:"label-".concat(m)},Oo(h),l,S,{fill:(p=n.fill)!==null&&p!==void 0?p:h.fill,parentViewBox:h.parentViewBox,value:v,textBreakAll:o,viewBox:h.viewBox,index:m}))}))}mA.displayName="LabelList";function T7(e){var{label:t}=e;return t?t===!0?g.createElement(mA,{key:"labelList-implicit"}):g.isValidElement(t)||C7(t)?g.createElement(mA,{key:"labelList-implicit",content:t}):typeof t=="object"?g.createElement(mA,hN({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function iI(){return iI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},iI.apply(null,arguments)}var M7=e=>{var{cx:t,cy:n,r:i,className:r}=e,a=Bi("recharts-dot",r);return t===+t&&n===+n&&i===+i?g.createElement("circle",iI({},Hl(e),bk(e),{className:a,cx:t,cy:n,r:i})):null},Alt={radiusAxis:{},angleAxis:{}},fye=Ql({name:"polarAxis",initialState:Alt,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:awt,removeRadiusAxis:swt,addAngleAxis:owt,removeAngleAxis:lwt}=fye.actions,Rlt=fye.reducer,wT={exports:{}},rr={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IQ;function Nlt(){if(IQ)return rr;IQ=1;var e=60103,t=60106,n=60107,i=60108,r=60114,a=60109,o=60110,l=60112,c=60113,u=60120,d=60115,h=60116,m=60121,p=60122,v=60117,S=60129,b=60131;if(typeof Symbol=="function"&&Symbol.for){var w=Symbol.for;e=w("react.element"),t=w("react.portal"),n=w("react.fragment"),i=w("react.strict_mode"),r=w("react.profiler"),a=w("react.provider"),o=w("react.context"),l=w("react.forward_ref"),c=w("react.suspense"),u=w("react.suspense_list"),d=w("react.memo"),h=w("react.lazy"),m=w("react.block"),p=w("react.server.block"),v=w("react.fundamental"),S=w("react.debug_trace_mode"),b=w("react.legacy_hidden")}function R(U){if(typeof U=="object"&&U!==null){var K=U.$$typeof;switch(K){case e:switch(U=U.type,U){case n:case r:case i:case c:case u:return U;default:switch(U=U&&U.$$typeof,U){case o:case l:case h:case d:case a:return U;default:return K}}case t:return K}}}var E=a,_=e,N=l,O=n,j=h,D=d,P=t,B=r,M=i,z=c;return rr.ContextConsumer=o,rr.ContextProvider=E,rr.Element=_,rr.ForwardRef=N,rr.Fragment=O,rr.Lazy=j,rr.Memo=D,rr.Portal=P,rr.Profiler=B,rr.StrictMode=M,rr.Suspense=z,rr.isAsyncMode=function(){return!1},rr.isConcurrentMode=function(){return!1},rr.isContextConsumer=function(U){return R(U)===o},rr.isContextProvider=function(U){return R(U)===a},rr.isElement=function(U){return typeof U=="object"&&U!==null&&U.$$typeof===e},rr.isForwardRef=function(U){return R(U)===l},rr.isFragment=function(U){return R(U)===n},rr.isLazy=function(U){return R(U)===h},rr.isMemo=function(U){return R(U)===d},rr.isPortal=function(U){return R(U)===t},rr.isProfiler=function(U){return R(U)===r},rr.isStrictMode=function(U){return R(U)===i},rr.isSuspense=function(U){return R(U)===c},rr.isValidElementType=function(U){return typeof U=="string"||typeof U=="function"||U===n||U===r||U===S||U===i||U===c||U===u||U===b||typeof U=="object"&&U!==null&&(U.$$typeof===h||U.$$typeof===d||U.$$typeof===a||U.$$typeof===o||U.$$typeof===l||U.$$typeof===v||U.$$typeof===m||U[0]===p)},rr.typeOf=R,rr}var PQ;function Olt(){return PQ||(PQ=1,wT.exports=Nlt()),wT.exports}var jlt=Olt(),kQ=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",$Q=null,ET=null,hye=e=>{if(e===$Q&&Array.isArray(ET))return ET;var t=[];return g.Children.forEach(e,n=>{Cr(n)||(jlt.isFragment(n)?t=t.concat(hye(n.props.children)):t.push(n))}),ET=t,$Q=e,t};function Dlt(e,t){var n=[],i=[];return Array.isArray(t)?i=t.map(r=>kQ(r)):i=[kQ(t)],hye(e).forEach(r=>{var a=L1(r,"type.displayName")||L1(r,"type.name");i.indexOf(a)!==-1&&n.push(r)}),n}var Fj=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,_T={},FQ;function Clt(){return FQ||(FQ=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((r=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&r.writable)?!1:n.toString()===`[object ${a}]`}let i=n;for(;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(n)===i}e.isPlainObject=t})(_T)),_T}var AT,BQ;function Llt(){return BQ||(BQ=1,AT=Clt().isPlainObject),AT}var Tlt=Llt();const Mlt=ol(Tlt);function zQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function UQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zQ(Object(n),!0).forEach(function(i){Ilt(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zQ(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Ilt(e,t,n){return(t=Plt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Plt(e){var t=klt(e,"string");return typeof t=="symbol"?t:t+""}function klt(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pN(){return pN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},pN.apply(null,arguments)}var VQ=(e,t,n,i,r)=>{var a=n-i,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+n,",").concat(t),o+="L ".concat(e+n-a/2,",").concat(t+r),o+="L ".concat(e+n-a/2-i,",").concat(t+r),o+="L ".concat(e,",").concat(t," Z"),o},$lt={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Flt=e=>{var t=ro(e,$lt),{x:n,y:i,upperWidth:r,lowerWidth:a,height:o,className:l}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:h}=t,m=g.useRef(null),[p,v]=g.useState(-1),S=g.useRef(r),b=g.useRef(a),w=g.useRef(o),R=g.useRef(n),E=g.useRef(i),_=ow(e,"trapezoid-");if(g.useEffect(()=>{if(m.current&&m.current.getTotalLength)try{var K=m.current.getTotalLength();K&&v(K)}catch{}},[]),n!==+n||i!==+i||r!==+r||a!==+a||o!==+o||r===0&&a===0||o===0)return null;var N=Bi("recharts-trapezoid",l);if(!h)return g.createElement("g",null,g.createElement("path",pN({},Oo(t),{className:N,d:VQ(n,i,r,a,o)})));var O=S.current,j=b.current,D=w.current,P=R.current,B=E.current,M="0px ".concat(p===-1?1:p,"px"),z="".concat(p,"px 0px"),U=Ohe(["strokeDasharray"],u,c);return g.createElement(sw,{animationId:_,key:_,canBegin:p>0,duration:u,easing:c,isActive:h,begin:d},K=>{var te=gr(O,r,K),q=gr(j,a,K),V=gr(D,o,K),Q=gr(P,n,K),ce=gr(B,i,K);m.current&&(S.current=te,b.current=q,w.current=V,R.current=Q,E.current=ce);var ae=K>0?{transition:U,strokeDasharray:z}:{strokeDasharray:M};return g.createElement("path",pN({},Oo(t),{className:N,d:VQ(Q,ce,te,q,V),ref:m,style:UQ(UQ({},ae),t.style)}))})},Blt=["option","shapeType","propTransformer","activeClassName","isActive"];function zlt(e,t){if(e==null)return{};var n,i,r=Ult(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ult(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function KQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function mN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KQ(Object(n),!0).forEach(function(i){Vlt(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KQ(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Vlt(e,t,n){return(t=Klt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Klt(e){var t=Glt(e,"string");return typeof t=="symbol"?t:t+""}function Glt(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hlt(e,t){return mN(mN({},t),e)}function qlt(e,t){return e==="symbols"}function GQ(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return g.createElement(Lhe,n);case"trapezoid":return g.createElement(Flt,n);case"sector":return g.createElement(Ihe,n);case"symbols":if(qlt(t))return g.createElement(Sk,n);break;default:return null}}function Wlt(e){return g.isValidElement(e)?e.props:e}function Ylt(e){var{option:t,shapeType:n,propTransformer:i=Hlt,activeClassName:r="recharts-active-shape",isActive:a}=e,o=zlt(e,Blt),l;if(g.isValidElement(t))l=g.cloneElement(t,mN(mN({},o),Wlt(t)));else if(typeof t=="function")l=t(o);else if(Mlt(t)&&typeof t!="boolean"){var c=i(t,o);l=g.createElement(GQ,{shapeType:n,elementProps:c})}else{var u=o;l=g.createElement(GQ,{shapeType:n,elementProps:u})}return a?g.createElement(no,{className:r},l):l}var pye=(e,t)=>{var n=Aa();return(i,r)=>a=>{e==null||e(i,r,a),n(jme({activeIndex:String(r),activeDataKey:t,activeCoordinate:i.tooltipPosition}))}},mye=e=>{var t=Aa();return(n,i)=>r=>{e==null||e(n,i,r),t(Yat())}},yye=(e,t)=>{var n=Aa();return(i,r)=>a=>{e==null||e(i,r,a),n(Jat({activeIndex:String(r),activeDataKey:t,activeCoordinate:i.tooltipPosition}))}};function I7(e){var{fn:t,args:n}=e,i=Aa(),r=$s();return g.useLayoutEffect(()=>{if(!r){var a=t(n);return i(Hat(a)),()=>{i(qat(a))}}},[t,n,i,r]),null}var Jlt=()=>{};function P7(e){var{legendPayload:t}=e,n=Aa(),i=$s();return g.useLayoutEffect(()=>i?Jlt:(n(_et(t)),()=>{n(Aet(t))}),[n,i,t]),null}var RT,Qlt=()=>{var[e]=g.useState(()=>Qx("uid-"));return e},Xlt=(RT=VI.useId)!==null&&RT!==void 0?RT:Qlt;function Zlt(e,t){var n=Xlt();return t||(e?"".concat(e,"-").concat(n):n)}var ect=g.createContext(void 0),k7=e=>{var{id:t,type:n,children:i}=e,r=Zlt("recharts-".concat(n),t);return g.createElement(ect.Provider,{value:r},i(r))},tct={cartesianItems:[],polarItems:[]},gye=Ql({name:"graphicalItems",initialState:tct,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:xo()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:i}=t.payload,r=ch(e).cartesianItems.indexOf(n);r>-1&&(e.cartesianItems[r]=i)},prepare:xo()},removeCartesianGraphicalItem:{reducer(e,t){var n=ch(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:xo()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:xo()},removePolarGraphicalItem:{reducer(e,t){var n=ch(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:xo()}}}),{addCartesianGraphicalItem:nct,replaceCartesianGraphicalItem:ict,removeCartesianGraphicalItem:rct,addPolarGraphicalItem:cwt,removePolarGraphicalItem:uwt}=gye.actions,act=gye.reducer;function $7(e){var t=Aa(),n=g.useRef(null);return g.useLayoutEffect(()=>{n.current===null?t(nct(e)):n.current!==e&&t(ict({prev:n.current,next:e})),n.current=e},[t,e]),g.useLayoutEffect(()=>()=>{n.current&&(t(rct(n.current)),n.current=null)},[t]),null}function HQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function qQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HQ(Object(n),!0).forEach(function(i){sct(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HQ(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function sct(e,t,n){return(t=oct(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oct(e){var t=lct(e,"string");return typeof t=="symbol"?t:t+""}function lct(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cct={xAxis:{},yAxis:{},zAxis:{}},vye=Ql({name:"cartesianAxis",initialState:cct,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:xo()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:xo()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:xo()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:xo()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:xo()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:xo()},updateYAxisWidth(e,t){var{id:n,width:i}=t.payload,r=e.yAxis[n];if(r){var a=r.widthHistory||[];if(a.length===3&&a[0]===a[2]&&i===a[1]&&i!==r.width&&Math.abs(i-a[0])<=1)return;var o=[...a,i].slice(-3);e.yAxis[n]=qQ(qQ({},e.yAxis[n]),{},{width:i,widthHistory:o})}}}}),{addXAxis:uct,removeXAxis:dct,addYAxis:fct,removeYAxis:hct,addZAxis:dwt,removeZAxis:fwt,updateYAxisWidth:pct}=vye.actions,mct=vye.reducer,yct=ot([ws],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),gct=ot([yct,Nh,Oh],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),Bj=()=>gn(gct),vct=()=>gn(Pst);function WQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function YQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WQ(Object(n),!0).forEach(function(i){Sct(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WQ(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Sct(e,t,n){return(t=bct(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bct(e){var t=xct(e,"string");return typeof t=="symbol"?t:t+""}function xct(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wct=e=>{var{point:t,childIndex:n,mainColor:i,activeDot:r,dataKey:a}=e;if(r===!1||t.x==null||t.y==null)return null;var o=YQ(YQ({index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:i??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},ew(r)),bk(r)),l;return g.isValidElement(r)?l=g.cloneElement(r,o):typeof r=="function"?l=r(o):l=g.createElement(M7,o),g.createElement(no,{className:"recharts-active-dot"},l)};function rI(e){var{points:t,mainColor:n,activeDot:i,itemDataKey:r}=e,a=gn(Bg),o=vct();if(t==null||o==null)return null;var l=t.find(c=>o.includes(c.payload));return Cr(l)?null:wct({point:l,childIndex:Number(a),mainColor:n,dataKey:r,activeDot:i})}var Ect=["x","y"];function aI(){return aI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},aI.apply(null,arguments)}function JQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function xb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JQ(Object(n),!0).forEach(function(i){_ct(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JQ(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _ct(e,t,n){return(t=Act(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Act(e){var t=Rct(e,"string");return typeof t=="symbol"?t:t+""}function Rct(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nct(e,t){if(e==null)return{};var n,i,r=Oct(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Oct(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function jct(e,t){var{x:n,y:i}=e,r=Nct(e,Ect),a="".concat(n),o=parseInt(a,10),l="".concat(i),c=parseInt(l,10),u="".concat(t.height||r.height),d=parseInt(u,10),h="".concat(t.width||r.width),m=parseInt(h,10);return xb(xb(xb(xb(xb({},t),r),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:m,name:t.name,radius:t.radius})}function F7(e){return g.createElement(Ylt,aI({shapeType:"rectangle",propTransformer:jct,activeClassName:"recharts-active-bar"},e))}var Dct=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(i,r)=>{if(fn(t))return t;var a=fn(i)||Cr(i);return a?t(i,r):(a||kd(!1),n)}},Cct={},Sye=Ql({name:"errorBars",initialState:Cct,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:i}=t.payload;e[n]||(e[n]=[]),e[n].push(i)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:i,next:r}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===i.dataKey&&a.direction===i.direction?r:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:i}=t.payload;e[n]&&(e[n]=e[n].filter(r=>r.dataKey!==i.dataKey||r.direction!==i.direction))}}}),{addErrorBar:hwt,replaceErrorBar:pwt,removeErrorBar:mwt}=Sye.actions,Lct=Sye.reducer,Tct=["children"];function Mct(e,t){if(e==null)return{};var n,i,r=Ict(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ict(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var Pct={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},kct=g.createContext(Pct);function bye(e){var{children:t}=e,n=Mct(e,Tct);return g.createElement(kct.Provider,{value:n},t)}function zj(e,t){var n,i,r=gn(u=>Dh(u,e)),a=gn(u=>Ch(u,t)),o=(n=r==null?void 0:r.allowDataOverflow)!==null&&n!==void 0?n:Rl.allowDataOverflow,l=(i=a==null?void 0:a.allowDataOverflow)!==null&&i!==void 0?i:Nl.allowDataOverflow,c=o||l;return{needClip:c,needClipX:o,needClipY:l}}function B7(e){var{xAxisId:t,yAxisId:n,clipPathId:i}=e,r=Bj(),{needClipX:a,needClipY:o,needClip:l}=zj(t,n);if(!l)return null;var{x:c,y:u,width:d,height:h}=r;return g.createElement("clipPath",{id:"clipPath-".concat(i)},g.createElement("rect",{x:a?c:c-d/2,y:o?u:u-h/2,width:a?d:d*2,height:o?h:h*2}))}var $ct=["onMouseEnter","onMouseLeave","onClick"],Fct=["value","background","tooltipPosition"],Bct=["id"],zct=["onMouseEnter","onClick","onMouseLeave"];function ym(){return ym=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ym.apply(null,arguments)}function QQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function wo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QQ(Object(n),!0).forEach(function(i){Uct(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QQ(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Uct(e,t,n){return(t=Vct(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vct(e){var t=Kct(e,"string");return typeof t=="symbol"?t:t+""}function Kct(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yN(e,t){if(e==null)return{};var n,i,r=Gct(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Gct(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var Hct=e=>{var{dataKey:t,name:n,fill:i,legendType:r,hide:a}=e;return[{inactive:a,dataKey:t,type:r,color:i,value:nS(n,t),payload:e}]};function qct(e){var{dataKey:t,stroke:n,strokeWidth:i,fill:r,name:a,hide:o,unit:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:r,dataKey:t,nameKey:void 0,name:nS(a,t),hide:o,type:e.tooltipType,color:e.fill,unit:l}}}function Wct(e){var t=gn(Bg),{data:n,dataKey:i,background:r,allOtherBarProps:a}=e,{onMouseEnter:o,onMouseLeave:l,onClick:c}=a,u=yN(a,$ct),d=pye(o,i),h=mye(l),m=yye(c,i);if(!r||n==null)return null;var p=ew(r);return g.createElement(g.Fragment,null,n.map((v,S)=>{var{value:b,background:w,tooltipPosition:R}=v,E=yN(v,Fct);if(!w)return null;var _=d(v,S),N=h(v,S),O=m(v,S),j=wo(wo(wo(wo(wo({option:r,isActive:String(S)===t},E),{},{fill:"#eee"},w),p),aj(u,v,S)),{},{onMouseEnter:_,onMouseLeave:N,onClick:O,dataKey:i,index:S,className:"recharts-bar-background-rectangle"});return g.createElement(F7,ym({key:"background-bar-".concat(S)},j))}))}function Yct(e){var{showLabels:t,children:n,rects:i}=e,r=i==null?void 0:i.map(a=>{var o={x:a.x,y:a.y,width:a.width,height:a.height};return wo(wo({},o),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:o,fill:a.fill})});return g.createElement(L7,{value:t?r:void 0},n)}function Jct(e){var{shape:t,activeBar:n,baseProps:i,entry:r,index:a,dataKey:o}=e,l=gn(Bg),c=gn(Kme),u=n&&String(a)===l&&(c==null||o===c),d=u?n:t;return g.createElement(F7,ym({},i,{name:String(i.name)},r,{isActive:u,option:d,index:a,dataKey:o}))}function Qct(e){var{shape:t,baseProps:n,entry:i,index:r,dataKey:a}=e;return g.createElement(F7,ym({},n,{name:String(n.name)},i,{isActive:!1,option:t,index:r,dataKey:a}))}function Xct(e){var{data:t,props:n}=e,i=Hl(n),{id:r}=i,a=yN(i,Bct),{shape:o,dataKey:l,activeBar:c}=n,{onMouseEnter:u,onClick:d,onMouseLeave:h}=n,m=yN(n,zct),p=pye(u,l),v=mye(h),S=yye(d,l);return t?g.createElement(g.Fragment,null,t.map((b,w)=>g.createElement(no,ym({key:"rectangle-".concat(b==null?void 0:b.x,"-").concat(b==null?void 0:b.y,"-").concat(b==null?void 0:b.value,"-").concat(w),className:"recharts-bar-rectangle"},aj(m,b,w),{onMouseEnter:p(b,w),onMouseLeave:v(b,w),onClick:S(b,w)}),c?g.createElement(Jct,{shape:o,activeBar:c,baseProps:a,entry:b,index:w,dataKey:l}):g.createElement(Qct,{shape:o,baseProps:a,entry:b,index:w,dataKey:l})))):null}function Zct(e){var{props:t,previousRectanglesRef:n}=e,{data:i,layout:r,isAnimationActive:a,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,h=n.current,m=ow(t,"recharts-bar-"),[p,v]=g.useState(!1),S=!p,b=g.useCallback(()=>{typeof u=="function"&&u(),v(!1)},[u]),w=g.useCallback(()=>{typeof d=="function"&&d(),v(!0)},[d]);return g.createElement(Yct,{showLabels:S,rects:i},g.createElement(sw,{animationId:m,begin:o,duration:l,isActive:a,easing:c,onAnimationEnd:b,onAnimationStart:w,key:m},R=>{var E=R===1?i:i==null?void 0:i.map((_,N)=>{var O=h&&h[N];if(O)return wo(wo({},_),{},{x:gr(O.x,_.x,R),y:gr(O.y,_.y,R),width:gr(O.width,_.width,R),height:gr(O.height,_.height,R)});if(r==="horizontal"){var j=gr(0,_.height,R);return wo(wo({},_),{},{y:_.y+_.height-j,height:j})}var D=gr(0,_.width,R);return wo(wo({},_),{},{width:D})});return R>0&&(n.current=E??null),E==null?null:g.createElement(no,null,g.createElement(Xct,{props:t,data:E}))}),g.createElement(T7,{label:t.label}),t.children)}function eut(e){var t=g.useRef(null);return g.createElement(Zct,{previousRectanglesRef:t,props:e})}var xye=0,tut=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Ia(e,t)}};class nut extends g.PureComponent{render(){var{hide:t,data:n,dataKey:i,className:r,xAxisId:a,yAxisId:o,needClip:l,background:c,id:u}=this.props;if(t||n==null)return null;var d=Bi("recharts-bar",r),h=u;return g.createElement(no,{className:d,id:u},l&&g.createElement("defs",null,g.createElement(B7,{clipPathId:h,xAxisId:a,yAxisId:o})),g.createElement(no,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(h,")"):void 0},g.createElement(Wct,{data:n,dataKey:i,background:c,allOtherBarProps:this.props}),g.createElement(eut,this.props)))}}var iut={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Tm.isSsr,legendType:"rect",minPointSize:xye,xAxisId:0,yAxisId:0};function rut(e){var{xAxisId:t,yAxisId:n,hide:i,legendType:r,minPointSize:a,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:h}=zj(t,n),m=aw(),p=$s(),v=Dlt(e.children,tye),S=gn(R=>Lut(R,t,n,p,e.id,v));if(m!=="vertical"&&m!=="horizontal")return null;var b,w=S==null?void 0:S[0];return w==null||w.height==null||w.width==null?b=0:b=m==="vertical"?w.height/2:w.width/2,g.createElement(bye,{xAxisId:t,yAxisId:n,data:S,dataPointFormatter:tut,errorBarOffset:b},g.createElement(nut,ym({},e,{layout:m,needClip:h,data:S,xAxisId:t,yAxisId:n,hide:i,legendType:r,minPointSize:a,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function aut(e){var{layout:t,barSettings:{dataKey:n,minPointSize:i},pos:r,bandSize:a,xAxis:o,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:h,offset:m,cells:p,parentViewBox:v}=e,S=t==="horizontal"?l:o,b=d?S.scale.domain():null,w=IZe({numericAxis:S});return h.map((R,E)=>{var _,N,O,j,D,P;d?_=DZe(d[E],b):(_=Ia(R,n),Array.isArray(_)||(_=[w,_]));var B=Dct(i,xye)(_[1],E);if(t==="horizontal"){var M,[z,U]=[l.scale(_[0]),l.scale(_[1])];N=MY({axis:o,ticks:c,bandSize:a,offset:r.offset,entry:R,index:E}),O=(M=U??z)!==null&&M!==void 0?M:void 0,j=r.size;var K=z-U;if(D=ql(K)?0:K,P={x:N,y:m.top,width:j,height:m.height},Math.abs(B)>0&&Math.abs(D)<Math.abs(B)){var te=il(D||B)*(Math.abs(B)-Math.abs(D));O-=te,D+=te}}else{var[q,V]=[o.scale(_[0]),o.scale(_[1])];if(N=q,O=MY({axis:l,ticks:u,bandSize:a,offset:r.offset,entry:R,index:E}),j=V-q,D=r.size,P={x:m.left,y:O,width:m.width,height:D},Math.abs(B)>0&&Math.abs(j)<Math.abs(B)){var Q=il(j||B)*(Math.abs(B)-Math.abs(j));j+=Q}}if(N==null||O==null||j==null||D==null)return null;var ce=wo(wo({},R),{},{x:N,y:O,width:j,height:D,value:d?_:_[1],payload:R,background:P,tooltipPosition:{x:N+j/2,y:O+D/2},parentViewBox:v},p&&p[E]&&p[E].props);return ce}).filter(Boolean)}function sut(e){var t=ro(e,iut),n=$s();return g.createElement(k7,{id:t.id,type:"bar"},i=>g.createElement(g.Fragment,null,g.createElement(P7,{legendPayload:Hct(t)}),g.createElement(I7,{fn:qct,args:t}),g.createElement($7,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:bhe(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),g.createElement(rut,ym({},t,{id:i}))))}var qb=g.memo(sut);qb.displayName="Bar";function XQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function R_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XQ(Object(n),!0).forEach(function(i){out(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XQ(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function out(e,t,n){return(t=lut(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lut(e){var t=cut(e,"string");return typeof t=="symbol"?t:t+""}function cut(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uut=(e,t)=>t,dut=(e,t,n)=>n,fut=(e,t,n,i)=>i,hut=(e,t,n,i,r)=>r,bw=ot([pw,hut],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),put=ot([bw],e=>e==null?void 0:e.maxBarSize),mut=(e,t,n,i,r,a)=>a,ZQ=(e,t,n)=>{var i=n??e;if(!Cr(i))return Uu(i,t,0)},yut=ot([_i,pw,uut,dut,fut],(e,t,n,i,r)=>t.filter(a=>e==="horizontal"?a.xAxisId===n:a.yAxisId===i).filter(a=>a.isPanorama===r).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),gut=(e,t,n,i)=>{var r=_i(e);return r==="horizontal"?o2(e,"yAxis",n,i):o2(e,"xAxis",t,i)},vut=(e,t,n)=>{var i=_i(e);return i==="horizontal"?rQ(e,"xAxis",t):rQ(e,"yAxis",n)},Sut=(e,t,n)=>{var i={},r=e.filter(Cj),a=e.filter(u=>u.stackId==null),o=r.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),i),l=Object.entries(o).map(u=>{var[d,h]=u,m=h.map(v=>v.dataKey),p=ZQ(t,n,h[0].barSize);return{stackId:d,dataKeys:m,barSize:p}}),c=a.map(u=>{var d=[u.dataKey].filter(m=>m!=null),h=ZQ(t,n,u.barSize);return{stackId:void 0,dataKeys:d,barSize:h}});return[...l,...c]},but=ot([yut,Urt,vut],Sut),xut=(e,t,n,i,r)=>{var a,o,l=bw(e,t,n,i,r);if(l!=null){var c=_i(e),u=Lpe(e),{maxBarSize:d}=l,h=Cr(d)?u:d,m,p;return c==="horizontal"?(m=Wd(e,"xAxis",t,i),p=qd(e,"xAxis",t,i)):(m=Wd(e,"yAxis",n,i),p=qd(e,"yAxis",n,i)),(a=(o=kg(m,p,!0))!==null&&o!==void 0?o:h)!==null&&a!==void 0?a:0}},wye=(e,t,n,i)=>{var r=_i(e),a,o;return r==="horizontal"?(a=Wd(e,"xAxis",t,i),o=qd(e,"xAxis",t,i)):(a=Wd(e,"yAxis",n,i),o=qd(e,"yAxis",n,i)),kg(a,o)};function wut(e,t,n,i,r){var a=i.length;if(!(a<1)){var o=Uu(e,n,0,!0),l,c=[];if($a(i[0].barSize)){var u=!1,d=n/a,h=i.reduce((w,R)=>w+(R.barSize||0),0);h+=(a-1)*o,h>=n&&(h-=(a-1)*o,o=0),h>=n&&d>0&&(u=!0,d*=.9,h=a*d);var m=(n-h)/2>>0,p={offset:m-o,size:0};l=i.reduce((w,R)=>{var E,_={stackId:R.stackId,dataKeys:R.dataKeys,position:{offset:p.offset+p.size+o,size:u?d:(E=R.barSize)!==null&&E!==void 0?E:0}},N=[...w,_];return p=N[N.length-1].position,N},c)}else{var v=Uu(t,n,0,!0);n-2*v-(a-1)*o<=0&&(o=0);var S=(n-2*v-(a-1)*o)/a;S>1&&(S>>=0);var b=$a(r)?Math.min(S,r):S;l=i.reduce((w,R,E)=>[...w,{stackId:R.stackId,dataKeys:R.dataKeys,position:{offset:v+(S+o)*E+(S-b)/2,size:b}}],c)}return l}}var Eut=(e,t,n,i,r,a,o)=>{var l=Cr(o)?t:o,c=wut(n,i,r!==a?r:a,e,l);return r!==a&&c!=null&&(c=c.map(u=>R_(R_({},u),{},{position:R_(R_({},u.position),{},{offset:u.position.offset-r/2})}))),c},_ut=ot([but,Lpe,zrt,Tpe,xut,wye,put],Eut),Aut=(e,t,n,i)=>Wd(e,"xAxis",t,i),Rut=(e,t,n,i)=>Wd(e,"yAxis",n,i),Nut=(e,t,n,i)=>qd(e,"xAxis",t,i),Out=(e,t,n,i)=>qd(e,"yAxis",n,i),jut=ot([_ut,bw],(e,t)=>{if(!(e==null||t==null)){var n=e.find(i=>i.stackId===t.stackId&&t.dataKey!=null&&i.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),Dut=(e,t)=>{var n=Dj(t);if(!(!e||n==null||t==null)){var{stackId:i}=t;if(i!=null){var r=e[i];if(r){var{stackedData:a}=r;if(a)return a.find(o=>o.key===n)}}}},Cut=ot([gut,bw],Dut),Lut=ot([ws,Dk,Aut,Rut,Nut,Out,jut,_i,fw,wye,Cut,bw,mut],(e,t,n,i,r,a,o,l,c,u,d,h,m)=>{var{chartData:p,dataStartIndex:v,dataEndIndex:S}=c;if(!(h==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||n==null||i==null||r==null||a==null||u==null)){var{data:b}=h,w;if(b!=null&&b.length>0?w=b:w=p==null?void 0:p.slice(v,S+1),w!=null)return aut({layout:l,barSettings:h,pos:o,parentViewBox:t,bandSize:u,xAxis:n,yAxis:i,xAxisTicks:r,yAxisTicks:a,stackedData:d,displayedData:w,offset:e,cells:m})}}),Tut=e=>{var{chartData:t}=e,n=Aa(),i=$s();return g.useEffect(()=>i?()=>{}:(n(pQ(t)),()=>{n(pQ(void 0))}),[t,n,i]),null},eX={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Eye=Ql({name:"brush",initialState:eX,reducers:{setBrushSettings(e,t){return t.payload==null?eX:t.payload}}}),{setBrushSettings:ywt}=Eye.actions,Mut=Eye.reducer;function Iut(e,t,n){return(t=Put(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Put(e){var t=kut(e,"string");return typeof t=="symbol"?t:t+""}function kut(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class z7{static create(t){return new z7(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(i)switch(i){case"start":return this.scale(t);case"middle":{var r=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+r}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),i=n[0],r=n[n.length-1];return i<=r?t>=i&&t<=r:t>=r&&t<=i}}Iut(z7,"EPS",1e-4);function $ut(e){return(e%180+180)%180}var Fut=function(t){var{width:n,height:i}=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=$ut(r),o=a*Math.PI/180,l=Math.atan(i/n),c=o>l&&o<Math.PI-l?i/Math.sin(o):n/Math.cos(o);return Math.abs(c)},But={dots:[],areas:[],lines:[]},_ye=Ql({name:"referenceElements",initialState:But,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=ch(e).dots.findIndex(i=>i===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=ch(e).areas.findIndex(i=>i===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=ch(e).lines.findIndex(i=>i===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:gwt,removeDot:vwt,addArea:Swt,removeArea:bwt,addLine:xwt,removeLine:wwt}=_ye.actions,zut=_ye.reducer,Uut=g.createContext(void 0),Vut=e=>{var{children:t}=e,[n]=g.useState("".concat(Qx("recharts"),"-clip")),i=Bj();if(i==null)return null;var{x:r,y:a,width:o,height:l}=i;return g.createElement(Uut.Provider,{value:n},g.createElement("defs",null,g.createElement("clipPath",{id:n},g.createElement("rect",{x:r,y:a,height:l,width:o}))),t)};function $1(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var i in t)if({}.hasOwnProperty.call(t,i)&&!{}.hasOwnProperty.call(e,i))return!1;return!0}function Aye(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var i=[],r=0;r<e.length;r+=t)i.push(e[r]);return i}function Kut(e,t,n){var i={width:e.width+t.width,height:e.height+t.height};return Fut(i,n)}function Gut(e,t,n){var i=n==="width",{x:r,y:a,width:o,height:l}=e;return t===1?{start:i?r:a,end:i?r+o:a+l}:{start:i?r+o:a+l,end:i?r:a}}function gN(e,t,n,i,r){if(e*t<e*i||e*t>e*r)return!1;var a=n();return e*(t-e*a/2-i)>=0&&e*(t+e*a/2-r)<=0}function Hut(e,t){return Aye(e,t+1)}function qut(e,t,n,i,r){for(var a=(i||[]).slice(),{start:o,end:l}=t,c=0,u=1,d=o,h=function(){var v=i==null?void 0:i[c];if(v===void 0)return{v:Aye(i,u)};var S=c,b,w=()=>(b===void 0&&(b=n(v,S)),b),R=v.coordinate,E=c===0||gN(e,R,w,d,l);E||(c=0,d=o,u+=1),E&&(d=R+e*(w()/2+r),c+=u)},m;u<=a.length;)if(m=h(),m)return m.v;return[]}function tX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function Ys(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tX(Object(n),!0).forEach(function(i){Wut(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tX(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Wut(e,t,n){return(t=Yut(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yut(e){var t=Jut(e,"string");return typeof t=="symbol"?t:t+""}function Jut(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qut(e,t,n,i,r){for(var a=(i||[]).slice(),o=a.length,{start:l}=t,{end:c}=t,u=function(m){var p=a[m],v,S=()=>(v===void 0&&(v=n(p,m)),v);if(m===o-1){var b=e*(p.coordinate+e*S()/2-c);a[m]=p=Ys(Ys({},p),{},{tickCoord:b>0?p.coordinate-b*e:p.coordinate})}else a[m]=p=Ys(Ys({},p),{},{tickCoord:p.coordinate});var w=gN(e,p.tickCoord,S,l,c);w&&(c=p.tickCoord-e*(S()/2+r),a[m]=Ys(Ys({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return a}function Xut(e,t,n,i,r,a){var o=(i||[]).slice(),l=o.length,{start:c,end:u}=t;if(a){var d=i[l-1],h=n(d,l-1),m=e*(d.coordinate+e*h/2-u);o[l-1]=d=Ys(Ys({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate});var p=gN(e,d.tickCoord,()=>h,c,u);p&&(u=d.tickCoord-e*(h/2+r),o[l-1]=Ys(Ys({},d),{},{isShow:!0}))}for(var v=a?l-1:l,S=function(R){var E=o[R],_,N=()=>(_===void 0&&(_=n(E,R)),_);if(R===0){var O=e*(E.coordinate-e*N()/2-c);o[R]=E=Ys(Ys({},E),{},{tickCoord:O<0?E.coordinate-O*e:E.coordinate})}else o[R]=E=Ys(Ys({},E),{},{tickCoord:E.coordinate});var j=gN(e,E.tickCoord,N,c,u);j&&(c=E.tickCoord+e*(N()/2+r),o[R]=Ys(Ys({},E),{},{isShow:!0}))},b=0;b<v;b++)S(b);return o}function U7(e,t,n){var{tick:i,ticks:r,viewBox:a,minTickGap:o,orientation:l,interval:c,tickFormatter:u,unit:d,angle:h}=e;if(!r||!r.length||!i)return[];if(fn(c)||Tm.isSsr){var m;return(m=Hut(r,fn(c)?c:0))!==null&&m!==void 0?m:[]}var p=[],v=l==="top"||l==="bottom"?"width":"height",S=d&&v==="width"?cx(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},b=(E,_)=>{var N=typeof u=="function"?u(E.value,_):E.value;return v==="width"?Kut(cx(N,{fontSize:t,letterSpacing:n}),S,h):cx(N,{fontSize:t,letterSpacing:n})[v]},w=r.length>=2?il(r[1].coordinate-r[0].coordinate):1,R=Gut(a,w,v);return c==="equidistantPreserveStart"?qut(w,R,b,r,o):(c==="preserveStart"||c==="preserveStartEnd"?p=Xut(w,R,b,r,o,c==="preserveStartEnd"):p=Qut(w,R,b,r,o),p.filter(E=>E.isShow))}var Zut=e=>{var{ticks:t,label:n,labelGapWithTick:i=5,tickSize:r=0,tickMargin:a=0}=e,o=0;if(t){Array.from(t).forEach(d=>{if(d){var h=d.getBoundingClientRect();h.width>o&&(o=h.width)}});var l=n?n.getBoundingClientRect().width:0,c=r+a,u=o+c+l+(n?i:0);return Math.round(u)}return 0},edt=["axisLine","width","height","className","hide","ticks"],tdt=["viewBox"],ndt=["viewBox"];function sI(e,t){if(e==null)return{};var n,i,r=idt(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function idt(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function zg(){return zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},zg.apply(null,arguments)}function nX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function Ja(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nX(Object(n),!0).forEach(function(i){rdt(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nX(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function rdt(e,t,n){return(t=adt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function adt(e){var t=sdt(e,"string");return typeof t=="symbol"?t:t+""}function sdt(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var V7={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function odt(e){var{x:t,y:n,width:i,height:r,orientation:a,mirror:o,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var u=Ja(Ja(Ja({},c),Hl(l)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!o||a==="bottom"&&o);u=Ja(Ja({},u),{},{x1:t,y1:n+d*r,x2:t+i,y2:n+d*r})}else{var h=+(a==="left"&&!o||a==="right"&&o);u=Ja(Ja({},u),{},{x1:t+h*i,y1:n,x2:t+h*i,y2:n+r})}return g.createElement("line",zg({},u,{className:Bi("recharts-cartesian-axis-line",L1(l,"className"))}))}function ldt(e,t,n,i,r,a,o,l,c){var u,d,h,m,p,v,S=l?-1:1,b=e.tickSize||o,w=fn(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=d=e.coordinate,m=n+ +!l*r,h=m-S*b,v=h-S*c,p=w;break;case"left":h=m=e.coordinate,d=t+ +!l*i,u=d-S*b,p=u-S*c,v=w;break;case"right":h=m=e.coordinate,d=t+ +l*i,u=d+S*b,p=u+S*c,v=w;break;default:u=d=e.coordinate,m=n+ +l*r,h=m+S*b,v=h+S*c,p=w;break}return{line:{x1:u,y1:h,x2:d,y2:m},tick:{x:p,y:v}}}function cdt(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function udt(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function ddt(e){var{option:t,tickProps:n,value:i}=e,r,a=Bi(n.className,"recharts-cartesian-axis-tick-value");if(g.isValidElement(t))r=g.cloneElement(t,Ja(Ja({},n),{},{className:a}));else if(typeof t=="function")r=t(Ja(Ja({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Bi(o,t==null?void 0:t.className)),r=g.createElement(D7,zg({},n,{className:o}),i)}return r}function fdt(e){var{ticks:t=[],tick:n,tickLine:i,stroke:r,tickFormatter:a,unit:o,padding:l,tickTextProps:c,orientation:u,mirror:d,x:h,y:m,width:p,height:v,tickSize:S,tickMargin:b,fontSize:w,letterSpacing:R,getTicksConfig:E,events:_}=e,N=U7(Ja(Ja({},E),{},{ticks:t}),w,R),O=cdt(u,d),j=udt(u,d),D=Hl(E),P=ew(n),B={};typeof i=="object"&&(B=i);var M=Ja(Ja({},D),{},{fill:"none"},B),z=N.map((U,K)=>{var{line:te,tick:q}=ldt(U,h,m,p,v,u,S,d,b),V=Ja(Ja(Ja(Ja({textAnchor:O,verticalAnchor:j},D),{},{stroke:"none",fill:r},P),q),{},{index:K,payload:U,visibleTicksCount:N.length,tickFormatter:a,padding:l},c);return g.createElement(no,zg({className:"recharts-cartesian-axis-tick",key:"tick-".concat(U.value,"-").concat(U.coordinate,"-").concat(U.tickCoord)},aj(_,U,K)),i&&g.createElement("line",zg({},M,te,{className:Bi("recharts-cartesian-axis-tick-line",L1(i,"className"))})),n&&g.createElement(ddt,{option:n,tickProps:V,value:"".concat(typeof a=="function"?a(U.value,K):U.value).concat(o||"")}))});return z.length>0?g.createElement("g",{className:"recharts-cartesian-axis-ticks"},z):null}var hdt=g.forwardRef((e,t)=>{var{axisLine:n,width:i,height:r,className:a,hide:o,ticks:l}=e,c=sI(e,edt),[u,d]=g.useState(""),[h,m]=g.useState(""),p=g.useRef(null);g.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var S;return Zut({ticks:p.current,label:(S=e.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var v=g.useCallback(S=>{if(S){var b=S.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=b;var w=b[0];if(w){var R=window.getComputedStyle(w),E=R.fontSize,_=R.letterSpacing;(E!==u||_!==h)&&(d(E),m(_))}}},[u,h]);return o||i!=null&&i<=0||r!=null&&r<=0?null:g.createElement(no,{className:Bi("recharts-cartesian-axis",a),ref:v},g.createElement(odt,{x:e.x,y:e.y,width:i,height:r,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Hl(e)}),g.createElement(fdt,{ticks:l,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:u,letterSpacing:h,getTicksConfig:e,events:c}),g.createElement(nlt,{x:e.x,y:e.y,width:e.width,height:e.height},g.createElement(flt,{label:e.label,labelRef:e.labelRef}),e.children))}),pdt=g.memo(hdt,(e,t)=>{var{viewBox:n}=e,i=sI(e,tdt),{viewBox:r}=t,a=sI(t,ndt);return $1(n,r)&&$1(i,a)}),K7=g.forwardRef((e,t)=>{var n=ro(e,V7);return g.createElement(pdt,zg({},n,{ref:t}))});K7.displayName="CartesianAxis";var mdt=["x1","y1","x2","y2","key"],ydt=["offset"],gdt=["xAxisId","yAxisId"],vdt=["xAxisId","yAxisId"];function iX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function Xs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iX(Object(n),!0).forEach(function(i){Sdt(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iX(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Sdt(e,t,n){return(t=bdt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bdt(e){var t=xdt(e,"string");return typeof t=="symbol"?t:t+""}function xdt(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uy(){return Uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Uy.apply(null,arguments)}function vN(e,t){if(e==null)return{};var n,i,r=wdt(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wdt(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var Edt=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:i,y:r,width:a,height:o,ry:l}=e;return g.createElement("rect",{x:i,y:r,ry:l,width:a,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Rye(e,t){var n;if(g.isValidElement(e))n=g.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:i,y1:r,x2:a,y2:o,key:l}=t,c=vN(t,mdt),u=Hl(c),{offset:d}=u,h=vN(u,ydt);n=g.createElement("line",Uy({},h,{x1:i,y1:r,x2:a,y2:o,fill:"none",key:l}))}return n}function _dt(e){var{x:t,width:n,horizontal:i=!0,horizontalPoints:r}=e;if(!i||!r||!r.length)return null;var{xAxisId:a,yAxisId:o}=e,l=vN(e,gdt),c=r.map((u,d)=>{var h=Xs(Xs({},l),{},{x1:t,y1:u,x2:t+n,y2:u,key:"line-".concat(d),index:d});return Rye(i,h)});return g.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function Adt(e){var{y:t,height:n,vertical:i=!0,verticalPoints:r}=e;if(!i||!r||!r.length)return null;var{xAxisId:a,yAxisId:o}=e,l=vN(e,vdt),c=r.map((u,d)=>{var h=Xs(Xs({},l),{},{x1:u,y1:t,x2:u,y2:t+n,key:"line-".concat(d),index:d});return Rye(i,h)});return g.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function Rdt(e){var{horizontalFill:t,fillOpacity:n,x:i,y:r,width:a,height:o,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var u=l.map(h=>Math.round(h+r-r)).sort((h,m)=>h-m);r!==u[0]&&u.unshift(0);var d=u.map((h,m)=>{var p=!u[m+1],v=p?r+o-h:u[m+1]-h;if(v<=0)return null;var S=m%t.length;return g.createElement("rect",{key:"react-".concat(m),y:h,x:i,height:v,width:a,stroke:"none",fill:t[S],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Ndt(e){var{vertical:t=!0,verticalFill:n,fillOpacity:i,x:r,y:a,width:o,height:l,verticalPoints:c}=e;if(!t||!n||!n.length)return null;var u=c.map(h=>Math.round(h+r-r)).sort((h,m)=>h-m);r!==u[0]&&u.unshift(0);var d=u.map((h,m)=>{var p=!u[m+1],v=p?r+o-h:u[m+1]-h;if(v<=0)return null;var S=m%n.length;return g.createElement("rect",{key:"react-".concat(m),x:h,y:a,width:v,height:l,stroke:"none",fill:n[S],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Odt=(e,t)=>{var{xAxis:n,width:i,height:r,offset:a}=e;return vhe(U7(Xs(Xs(Xs({},V7),n),{},{ticks:She(n),viewBox:{x:0,y:0,width:i,height:r}})),a.left,a.left+a.width,t)},jdt=(e,t)=>{var{yAxis:n,width:i,height:r,offset:a}=e;return vhe(U7(Xs(Xs(Xs({},V7),n),{},{ticks:She(n),viewBox:{x:0,y:0,width:i,height:r}})),a.top,a.top+a.height,t)},Ddt={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Nye(e){var t=Lk(),n=Tk(),i=Ahe(),r=Xs(Xs({},ro(e,Ddt)),{},{x:fn(e.x)?e.x:i.left,y:fn(e.y)?e.y:i.top,width:fn(e.width)?e.width:i.width,height:fn(e.height)?e.height:i.height}),{xAxisId:a,yAxisId:o,x:l,y:c,width:u,height:d,syncWithTicks:h,horizontalValues:m,verticalValues:p}=r,v=$s(),S=gn(P=>aQ(P,"xAxis",a,v)),b=gn(P=>aQ(P,"yAxis",o,v));if(!fn(u)||u<=0||!fn(d)||d<=0||!fn(l)||l!==+l||!fn(c)||c!==+c)return null;var w=r.verticalCoordinatesGenerator||Odt,R=r.horizontalCoordinatesGenerator||jdt,{horizontalPoints:E,verticalPoints:_}=r;if((!E||!E.length)&&typeof R=="function"){var N=m&&m.length,O=R({yAxis:b?Xs(Xs({},b),{},{ticks:N?m:b.ticks}):void 0,width:t,height:n,offset:i},N?!0:h);JR(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(E=O)}if((!_||!_.length)&&typeof w=="function"){var j=p&&p.length,D=w({xAxis:S?Xs(Xs({},S),{},{ticks:j?p:S.ticks}):void 0,width:t,height:n,offset:i},j?!0:h);JR(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(_=D)}return g.createElement("g",{className:"recharts-cartesian-grid"},g.createElement(Edt,{fill:r.fill,fillOpacity:r.fillOpacity,x:r.x,y:r.y,width:r.width,height:r.height,ry:r.ry}),g.createElement(Rdt,Uy({},r,{horizontalPoints:E})),g.createElement(Ndt,Uy({},r,{verticalPoints:_})),g.createElement(_dt,Uy({},r,{offset:i,horizontalPoints:E,xAxis:S,yAxis:b})),g.createElement(Adt,Uy({},r,{offset:i,verticalPoints:_,xAxis:S,yAxis:b})))}Nye.displayName="CartesianGrid";var Oye=(e,t,n,i)=>Wd(e,"xAxis",t,i),jye=(e,t,n,i)=>qd(e,"xAxis",t,i),Dye=(e,t,n,i)=>Wd(e,"yAxis",n,i),Cye=(e,t,n,i)=>qd(e,"yAxis",n,i),Cdt=ot([_i,Oye,Dye,jye,Cye],(e,t,n,i,r)=>tf(e,"xAxis")?kg(t,i,!1):kg(n,r,!1)),Ldt=(e,t,n,i,r)=>r;function Tdt(e){return e.type==="line"}var Mdt=ot([pw,Ldt],(e,t)=>e.filter(Tdt).find(n=>n.id===t)),Idt=ot([_i,Oye,Dye,jye,Cye,Mdt,Cdt,fw],(e,t,n,i,r,a,o,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=l;if(!(a==null||t==null||n==null||i==null||r==null||i.length===0||r.length===0||o==null)){var{dataKey:h,data:m}=a,p;if(m!=null&&m.length>0?p=m:p=c==null?void 0:c.slice(u,d+1),p!=null)return ift({layout:e,xAxis:t,yAxis:n,xAxisTicks:i,yAxisTicks:r,dataKey:h,bandSize:o,displayedData:p})}});function Lye(e){var t=ew(e),n=3,i=2;if(t!=null){var{r,strokeWidth:a}=t,o=Number(r),l=Number(a);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(l)||l<0)&&(l=i),{r:o,strokeWidth:l}}return{r:n,strokeWidth:i}}var Pdt=["id"],kdt=["type","layout","connectNulls","needClip"],$dt=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function rX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function Tl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rX(Object(n),!0).forEach(function(i){Fdt(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rX(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Fdt(e,t,n){return(t=Bdt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bdt(e){var t=zdt(e,"string");return typeof t=="symbol"?t:t+""}function zdt(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G7(e,t){if(e==null)return{};var n,i,r=Udt(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Udt(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function Ug(){return Ug=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ug.apply(null,arguments)}var Vdt=e=>{var{dataKey:t,name:n,stroke:i,legendType:r,hide:a}=e;return[{inactive:a,dataKey:t,type:r,color:i,value:nS(n,t),payload:e}]};function Kdt(e){var{dataKey:t,data:n,stroke:i,strokeWidth:r,fill:a,name:o,hide:l,unit:c}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:i,strokeWidth:r,fill:a,dataKey:t,nameKey:void 0,name:nS(o,t),hide:l,type:e.tooltipType,color:e.stroke,unit:c}}}var Tye=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Gdt(e,t){for(var n=e.length%2!==0?[...e,0]:e,i=[],r=0;r<t;++r)i=[...i,...n];return i}var Hdt=(e,t,n)=>{var i=n.reduce((h,m)=>h+m);if(!i)return Tye(t,e);for(var r=Math.floor(e/i),a=e%i,o=t-e,l=[],c=0,u=0;c<n.length;u+=n[c],++c)if(u+n[c]>a){l=[...n.slice(0,c),a-u];break}var d=l.length%2===0?[0,o]:[o];return[...Gdt(n,r),...l,...d].map(h=>"".concat(h,"px")).join(", ")};function qdt(e,t){var n;if(g.isValidElement(e))n=g.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var i=Bi("recharts-line-dot",typeof e!="boolean"?e.className:"");n=g.createElement(M7,Ug({},t,{className:i}))}return n}function Wdt(e,t){return e==null?!1:t?!0:e.length===1}function Ydt(e){var{clipPathId:t,points:n,props:i}=e,{dot:r,dataKey:a,needClip:o}=i;if(!Wdt(n,r))return null;var{id:l}=i,c=G7(i,Pdt),u=Fj(r),d=Hl(c),h=lfe(r),m=n.map((v,S)=>{var b=Tl(Tl(Tl({key:"dot-".concat(S),r:3},d),h),{},{index:S,cx:v.x,cy:v.y,dataKey:a,value:v.value,payload:v.payload,points:n});return qdt(r,b)}),p={clipPath:o?"url(#clipPath-".concat(u?"":"dots-").concat(t,")"):void 0};return g.createElement(no,Ug({className:"recharts-line-dots",key:"dots"},p),m)}function Jdt(e){var{showLabels:t,children:n,points:i}=e,r=g.useMemo(()=>i==null?void 0:i.map(a=>{var o={x:a.x,y:a.y,width:0,height:0};return Tl(Tl({},o),{},{value:a.value,payload:a.payload,viewBox:o,parentViewBox:void 0,fill:void 0})}),[i]);return g.createElement(L7,{value:t?r:null},n)}function aX(e){var{clipPathId:t,pathRef:n,points:i,strokeDasharray:r,props:a}=e,{type:o,layout:l,connectNulls:c,needClip:u}=a,d=G7(a,kdt),h=Tl(Tl({},Oo(d)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:i,type:o,layout:l,connectNulls:c,strokeDasharray:r??a.strokeDasharray});return g.createElement(g.Fragment,null,(i==null?void 0:i.length)>1&&g.createElement(lx,Ug({},h,{pathRef:n})),g.createElement(Ydt,{points:i,clipPathId:t,props:a}))}function Qdt(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Xdt(e){var{clipPathId:t,props:n,pathRef:i,previousPointsRef:r,longestAnimatedLengthRef:a}=e,{points:o,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:h,animateNewValues:m,width:p,height:v,onAnimationEnd:S,onAnimationStart:b}=n,w=r.current,R=ow(n,"recharts-line-"),[E,_]=g.useState(!1),N=!E,O=g.useCallback(()=>{typeof S=="function"&&S(),_(!1)},[S]),j=g.useCallback(()=>{typeof b=="function"&&b(),_(!0)},[b]),D=Qdt(i.current),P=a.current;return g.createElement(Jdt,{points:o,showLabels:N},n.children,g.createElement(sw,{animationId:R,begin:u,duration:d,isActive:c,easing:h,onAnimationEnd:O,onAnimationStart:j,key:R},B=>{var M=gr(P,D+P,B),z=Math.min(M,D),U;if(c)if(l){var K="".concat(l).split(/[,\s]+/gim).map(V=>parseFloat(V));U=Hdt(z,D,K)}else U=Tye(D,z);else U=l==null?void 0:String(l);if(w){var te=w.length/o.length,q=B===1?o:o.map((V,Q)=>{var ce=Math.floor(Q*te);if(w[ce]){var ae=w[ce];return Tl(Tl({},V),{},{x:gr(ae.x,V.x,B),y:gr(ae.y,V.y,B)})}return m?Tl(Tl({},V),{},{x:gr(p*2,V.x,B),y:gr(v/2,V.y,B)}):Tl(Tl({},V),{},{x:V.x,y:V.y})});return r.current=q,g.createElement(aX,{props:n,points:q,clipPathId:t,pathRef:i,strokeDasharray:U})}return B>0&&D>0&&(r.current=o,a.current=z),g.createElement(aX,{props:n,points:o,clipPathId:t,pathRef:i,strokeDasharray:U})}),g.createElement(T7,{label:n.label}))}function Zdt(e){var{clipPathId:t,props:n}=e,i=g.useRef(null),r=g.useRef(0),a=g.useRef(null);return g.createElement(Xdt,{props:n,clipPathId:t,previousPointsRef:i,longestAnimatedLengthRef:r,pathRef:a})}var eft=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Ia(e.payload,t)});class tft extends g.Component{render(){var{hide:t,dot:n,points:i,className:r,xAxisId:a,yAxisId:o,top:l,left:c,width:u,height:d,id:h,needClip:m}=this.props;if(t)return null;var p=Bi("recharts-line",r),v=h,{r:S,strokeWidth:b}=Lye(n),w=Fj(n),R=S*2+b;return g.createElement(g.Fragment,null,g.createElement(no,{className:p},m&&g.createElement("defs",null,g.createElement(B7,{clipPathId:v,xAxisId:a,yAxisId:o}),!w&&g.createElement("clipPath",{id:"clipPath-dots-".concat(v)},g.createElement("rect",{x:c-R/2,y:l-R/2,width:u+R,height:d+R}))),g.createElement(bye,{xAxisId:a,yAxisId:o,data:i,dataPointFormatter:eft,errorBarOffset:0},g.createElement(Zdt,{props:this.props,clipPathId:v}))),g.createElement(rI,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var Mye={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Tm.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function nft(e){var t=ro(e,Mye),{activeDot:n,animateNewValues:i,animationBegin:r,animationDuration:a,animationEasing:o,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:h,legendType:m,xAxisId:p,yAxisId:v,id:S}=t,b=G7(t,$dt),{needClip:w}=zj(p,v),R=Bj(),E=aw(),_=$s(),N=gn(B=>Idt(B,p,v,_,S));if(E!=="horizontal"&&E!=="vertical"||N==null||R==null)return null;var{height:O,width:j,x:D,y:P}=R;return g.createElement(tft,Ug({},b,{id:S,connectNulls:l,dot:c,activeDot:n,animateNewValues:i,animationBegin:r,animationDuration:a,animationEasing:o,isAnimationActive:d,hide:u,label:h,legendType:m,xAxisId:p,yAxisId:v,points:N,layout:E,height:O,width:j,left:D,top:P,needClip:w}))}function ift(e){var{layout:t,xAxis:n,yAxis:i,xAxisTicks:r,yAxisTicks:a,dataKey:o,bandSize:l,displayedData:c}=e;return c.map((u,d)=>{var h=Ia(u,o);if(t==="horizontal"){var m=YR({axis:n,ticks:r,bandSize:l,entry:u,index:d}),p=Cr(h)?null:i.scale(h);return{x:m,y:p,value:h,payload:u}}var v=Cr(h)?null:n.scale(h),S=YR({axis:i,ticks:a,bandSize:l,entry:u,index:d});return v==null||S==null?null:{x:v,y:S,value:h,payload:u}}).filter(Boolean)}function rft(e){var t=ro(e,Mye),n=$s();return g.createElement(k7,{id:t.id,type:"line"},i=>g.createElement(g.Fragment,null,g.createElement(P7,{legendPayload:Vdt(t)}),g.createElement(I7,{fn:Kdt,args:t}),g.createElement($7,{type:"line",id:i,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),g.createElement(nft,Ug({},t,{id:i}))))}var yA=g.memo(rft);yA.displayName="Line";var Iye=(e,t,n,i)=>Wd(e,"xAxis",t,i),Pye=(e,t,n,i)=>qd(e,"xAxis",t,i),kye=(e,t,n,i)=>Wd(e,"yAxis",n,i),$ye=(e,t,n,i)=>qd(e,"yAxis",n,i),aft=ot([_i,Iye,kye,Pye,$ye],(e,t,n,i,r)=>tf(e,"xAxis")?kg(t,i,!1):kg(n,r,!1)),sft=(e,t,n,i,r)=>r,Fye=ot([pw,sft],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),oft=(e,t,n,i,r)=>{var a,o=Fye(e,t,n,i,r);if(o!=null){var l=_i(e),c=tf(l,"xAxis"),u;if(c?u=o2(e,"yAxis",n,i):u=o2(e,"xAxis",t,i),u!=null){var{stackId:d}=o,h=Dj(o);if(!(d==null||h==null)){var m=(a=u[d])===null||a===void 0?void 0:a.stackedData;return m==null?void 0:m.find(p=>p.key===h)}}}},lft=ot([_i,Iye,kye,Pye,$ye,oft,fw,aft,Fye],(e,t,n,i,r,a,o,l,c)=>{var{chartData:u,dataStartIndex:d,dataEndIndex:h}=o;if(!(c==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||i==null||r==null||i.length===0||r.length===0||l==null)){var{data:m}=c,p;if(m&&m.length>0?p=m:p=u==null?void 0:u.slice(d,h+1),p!=null){var v=void 0;return jft({layout:e,xAxis:t,yAxis:n,xAxisTicks:i,yAxisTicks:r,dataStartIndex:d,areaSettings:c,stackedData:a,displayedData:p,chartBaseValue:v,bandSize:l})}}}),cft=["id"],uft=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Bye(e,t){if(e==null)return{};var n,i,r=dft(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dft(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function sX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function ih(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sX(Object(n),!0).forEach(function(i){fft(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sX(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function fft(e,t,n){return(t=hft(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hft(e){var t=pft(e,"string");return typeof t=="symbol"?t:t+""}function pft(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dh(){return dh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},dh.apply(null,arguments)}function SN(e,t){return e&&e!=="none"?e:t}var mft=e=>{var{dataKey:t,name:n,stroke:i,fill:r,legendType:a,hide:o}=e;return[{inactive:o,dataKey:t,type:a,color:SN(i,r),value:nS(n,t),payload:e}]};function yft(e){var{dataKey:t,data:n,stroke:i,strokeWidth:r,fill:a,name:o,hide:l,unit:c}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:i,strokeWidth:r,fill:a,dataKey:t,nameKey:void 0,name:nS(o,t),hide:l,type:e.tooltipType,color:SN(i,a),unit:c}}}var gft=(e,t)=>{var n;if(g.isValidElement(e))n=g.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var i=Bi("recharts-area-dot",typeof e!="boolean"?e.className:"");n=g.createElement(M7,dh({},t,{className:i}))}return n};function vft(e,t){return e==null?!1:t?!0:e.length===1}function Sft(e){var{clipPathId:t,points:n,props:i}=e,{needClip:r,dot:a,dataKey:o}=i;if(!vft(n,a))return null;var l=Fj(a),c=Hl(i),u=lfe(a),d=n.map((m,p)=>{var v=ih(ih(ih({key:"dot-".concat(p),r:3},c),u),{},{index:p,cx:m.x,cy:m.y,dataKey:o,value:m.value,payload:m.payload,points:n});return gft(a,v)}),h={clipPath:r?"url(#clipPath-".concat(l?"":"dots-").concat(t,")"):void 0};return g.createElement(no,dh({className:"recharts-area-dots"},h),d)}function bft(e){var{showLabels:t,children:n,points:i}=e,r=i.map(a=>{var o={x:a.x,y:a.y,width:0,height:0};return ih(ih({},o),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:o,fill:void 0})});return g.createElement(L7,{value:t?r:null},n)}function oX(e){var{points:t,baseLine:n,needClip:i,clipPathId:r,props:a}=e,{layout:o,type:l,stroke:c,connectNulls:u,isRange:d}=a,{id:h}=a,m=Bye(a,cft),p=Hl(m);return g.createElement(g.Fragment,null,(t==null?void 0:t.length)>1&&g.createElement(no,{clipPath:i?"url(#clipPath-".concat(r,")"):void 0},g.createElement(lx,dh({},p,{id:h,points:t,connectNulls:u,type:l,baseLine:n,layout:o,stroke:"none",className:"recharts-area-area"})),c!=="none"&&g.createElement(lx,dh({},p,{className:"recharts-area-curve",layout:o,type:l,connectNulls:u,fill:"none",points:t})),c!=="none"&&d&&g.createElement(lx,dh({},p,{className:"recharts-area-curve",layout:o,type:l,connectNulls:u,fill:"none",points:n}))),g.createElement(Sft,{points:t,props:m,clipPathId:r}))}function xft(e){var{alpha:t,baseLine:n,points:i,strokeWidth:r}=e,a=i[0].y,o=i[i.length-1].y;if(!$a(a)||!$a(o))return null;var l=t*Math.abs(a-o),c=Math.max(...i.map(u=>u.x||0));return fn(n)?c=Math.max(n,c):n&&Array.isArray(n)&&n.length&&(c=Math.max(...n.map(u=>u.x||0),c)),fn(c)?g.createElement("rect",{x:0,y:a<o?a:a-l,width:c+(r?parseInt("".concat(r),10):1),height:Math.floor(l)}):null}function wft(e){var{alpha:t,baseLine:n,points:i,strokeWidth:r}=e,a=i[0].x,o=i[i.length-1].x;if(!$a(a)||!$a(o))return null;var l=t*Math.abs(a-o),c=Math.max(...i.map(u=>u.y||0));return fn(n)?c=Math.max(n,c):n&&Array.isArray(n)&&n.length&&(c=Math.max(...n.map(u=>u.y||0),c)),fn(c)?g.createElement("rect",{x:a<o?a:a-l,y:0,width:l,height:Math.floor(c+(r?parseInt("".concat(r),10):1))}):null}function Eft(e){var{alpha:t,layout:n,points:i,baseLine:r,strokeWidth:a}=e;return n==="vertical"?g.createElement(xft,{alpha:t,points:i,baseLine:r,strokeWidth:a}):g.createElement(wft,{alpha:t,points:i,baseLine:r,strokeWidth:a})}function _ft(e){var{needClip:t,clipPathId:n,props:i,previousPointsRef:r,previousBaselineRef:a}=e,{points:o,baseLine:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:h,onAnimationStart:m,onAnimationEnd:p}=i,v=ow(i,"recharts-area-"),[S,b]=g.useState(!1),w=!S,R=g.useCallback(()=>{typeof p=="function"&&p(),b(!1)},[p]),E=g.useCallback(()=>{typeof m=="function"&&m(),b(!0)},[m]),_=r.current,N=a.current;return g.createElement(bft,{showLabels:w,points:o},i.children,g.createElement(sw,{animationId:v,begin:u,duration:d,isActive:c,easing:h,onAnimationEnd:R,onAnimationStart:E,key:v},O=>{if(_){var j=_.length/o.length,D=O===1?o:o.map((B,M)=>{var z=Math.floor(M*j);if(_[z]){var U=_[z];return ih(ih({},B),{},{x:gr(U.x,B.x,O),y:gr(U.y,B.y,O)})}return B}),P;return fn(l)?P=gr(N,l,O):Cr(l)||ql(l)?P=gr(N,0,O):P=l.map((B,M)=>{var z=Math.floor(M*j);if(Array.isArray(N)&&N[z]){var U=N[z];return ih(ih({},B),{},{x:gr(U.x,B.x,O),y:gr(U.y,B.y,O)})}return B}),O>0&&(r.current=D,a.current=P),g.createElement(oX,{points:D,baseLine:P,needClip:t,clipPathId:n,props:i})}return O>0&&(r.current=o,a.current=l),g.createElement(no,null,c&&g.createElement("defs",null,g.createElement("clipPath",{id:"animationClipPath-".concat(n)},g.createElement(Eft,{alpha:O,points:o,baseLine:l,layout:i.layout,strokeWidth:i.strokeWidth}))),g.createElement(no,{clipPath:"url(#animationClipPath-".concat(n,")")},g.createElement(oX,{points:o,baseLine:l,needClip:t,clipPathId:n,props:i})))}),g.createElement(T7,{label:i.label}))}function Aft(e){var{needClip:t,clipPathId:n,props:i}=e,r=g.useRef(null),a=g.useRef();return g.createElement(_ft,{needClip:t,clipPathId:n,props:i,previousPointsRef:r,previousBaselineRef:a})}class Rft extends g.PureComponent{render(){var{hide:t,dot:n,points:i,className:r,top:a,left:o,needClip:l,xAxisId:c,yAxisId:u,width:d,height:h,id:m,baseLine:p}=this.props;if(t)return null;var v=Bi("recharts-area",r),S=m,{r:b,strokeWidth:w}=Lye(n),R=Fj(n),E=b*2+w;return g.createElement(g.Fragment,null,g.createElement(no,{className:v},l&&g.createElement("defs",null,g.createElement(B7,{clipPathId:S,xAxisId:c,yAxisId:u}),!R&&g.createElement("clipPath",{id:"clipPath-dots-".concat(S)},g.createElement("rect",{x:o-E/2,y:a-E/2,width:d+E,height:h+E}))),g.createElement(Aft,{needClip:l,clipPathId:S,props:this.props})),g.createElement(rI,{points:i,mainColor:SN(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(p)&&g.createElement(rI,{points:p,mainColor:SN(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var zye={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!Tm.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function Nft(e){var t,n=ro(e,zye),{activeDot:i,animationBegin:r,animationDuration:a,animationEasing:o,connectNulls:l,dot:c,fill:u,fillOpacity:d,hide:h,isAnimationActive:m,legendType:p,stroke:v,xAxisId:S,yAxisId:b}=n,w=Bye(n,uft),R=aw(),E=Hme(),{needClip:_}=zj(S,b),N=$s(),{points:O,isRange:j,baseLine:D}=(t=gn(K=>lft(K,S,b,N,e.id)))!==null&&t!==void 0?t:{},P=Bj();if(R!=="horizontal"&&R!=="vertical"||P==null||E!=="AreaChart"&&E!=="ComposedChart")return null;var{height:B,width:M,x:z,y:U}=P;return!O||!O.length?null:g.createElement(Rft,dh({},w,{activeDot:i,animationBegin:r,animationDuration:a,animationEasing:o,baseLine:D,connectNulls:l,dot:c,fill:u,fillOpacity:d,height:B,hide:h,layout:R,isAnimationActive:m,isRange:j,legendType:p,needClip:_,points:O,stroke:v,width:M,left:z,top:U,xAxisId:S,yAxisId:b}))}var Oft=(e,t,n,i,r)=>{var a=n??t;if(fn(a))return a;var o=e==="horizontal"?r:i,l=o.scale.domain();if(o.type==="number"){var c=Math.max(l[0],l[1]),u=Math.min(l[0],l[1]);return a==="dataMin"?u:a==="dataMax"||c<0?c:Math.max(Math.min(l[0],l[1]),0)}return a==="dataMin"?l[0]:a==="dataMax"?l[1]:l[0]};function jft(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:i},stackedData:r,layout:a,chartBaseValue:o,xAxis:l,yAxis:c,displayedData:u,dataStartIndex:d,xAxisTicks:h,yAxisTicks:m,bandSize:p}=e,v=r&&r.length,S=Oft(a,o,n,l,c),b=a==="horizontal",w=!1,R=u.map((_,N)=>{var O;v?O=r[d+N]:(O=Ia(_,i),Array.isArray(O)?w=!0:O=[S,O]);var j=O[1]==null||v&&!t&&Ia(_,i)==null;return b?{x:YR({axis:l,ticks:h,bandSize:p,entry:_,index:N}),y:j?null:c.scale(O[1]),value:O,payload:_}:{x:j?null:l.scale(O[1]),y:YR({axis:c,ticks:m,bandSize:p,entry:_,index:N}),value:O,payload:_}}),E;return v||w?E=R.map(_=>{var N=Array.isArray(_.value)?_.value[0]:null;return b?{x:_.x,y:N!=null&&_.y!=null?c.scale(N):null,payload:_.payload}:{x:N!=null?l.scale(N):null,y:_.y,payload:_.payload}}):E=b?c.scale(S):l.scale(S),{points:R,baseLine:E,isRange:w}}function Dft(e){var t=ro(e,zye),n=$s();return g.createElement(k7,{id:t.id,type:"area"},i=>g.createElement(g.Fragment,null,g.createElement(P7,{legendPayload:mft(t)}),g.createElement(I7,{fn:yft,args:t}),g.createElement($7,{type:"area",id:i,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:bhe(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),g.createElement(Nft,dh({},t,{id:i}))))}var oI=g.memo(Dft);oI.displayName="Area";var Cft=["dangerouslySetInnerHTML","ticks"],Lft=["id"],Tft=["domain"],Mft=["domain"];function lI(){return lI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},lI.apply(null,arguments)}function bN(e,t){if(e==null)return{};var n,i,r=Ift(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ift(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function Pft(e){var t=Aa();return g.useLayoutEffect(()=>(t(uct(e)),()=>{t(dct(e))}),[e,t]),null}var kft=e=>{var{xAxisId:t,className:n}=e,i=gn(Dk),r=$s(),a="xAxis",o=gn(b=>cS(b,a,t,r)),l=gn(b=>Eme(b,a,t,r)),c=gn(b=>Sme(b,t)),u=gn(b=>Pat(b,t)),d=gn(b=>Upe(b,t));if(c==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:h,ticks:m}=e,p=bN(e,Cft),{id:v}=d,S=bN(d,Lft);return g.createElement(K7,lI({},p,S,{scale:o,x:u.x,y:u.y,width:c.width,height:c.height,className:Bi("recharts-".concat(a," ").concat(a),n),viewBox:i,ticks:l}))},$ft={allowDataOverflow:Rl.allowDataOverflow,allowDecimals:Rl.allowDecimals,allowDuplicatedCategory:Rl.allowDuplicatedCategory,height:Rl.height,hide:!1,mirror:Rl.mirror,orientation:Rl.orientation,padding:Rl.padding,reversed:Rl.reversed,scale:Rl.scale,tickCount:Rl.tickCount,type:Rl.type,xAxisId:0},Fft=e=>{var t,n,i,r,a,o=ro(e,$ft);return g.createElement(g.Fragment,null,g.createElement(Pft,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(n=o.includeHidden)!==null&&n!==void 0?n:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(i=o.angle)!==null&&i!==void 0?i:0,minTickGap:(r=o.minTickGap)!==null&&r!==void 0?r:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),g.createElement(kft,o))},Bft=(e,t)=>{var{domain:n}=e,i=bN(e,Tft),{domain:r}=t,a=bN(t,Mft);return $1(i,a)?Array.isArray(n)&&n.length===2&&Array.isArray(r)&&r.length===2?n[0]===r[0]&&n[1]===r[1]:$1({domain:n},{domain:r}):!1},Uye=g.memo(Fft,Bft);Uye.displayName="XAxis";var zft=["dangerouslySetInnerHTML","ticks"],Uft=["id"],Vft=["domain"],Kft=["domain"];function cI(){return cI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},cI.apply(null,arguments)}function xN(e,t){if(e==null)return{};var n,i,r=Gft(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Gft(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function Hft(e){var t=Aa();return g.useLayoutEffect(()=>(t(fct(e)),()=>{t(hct(e))}),[e,t]),null}var qft=e=>{var{yAxisId:t,className:n,width:i,label:r}=e,a=g.useRef(null),o=g.useRef(null),l=gn(Dk),c=$s(),u=Aa(),d="yAxis",h=gn(N=>cS(N,d,t,c)),m=gn(N=>bme(N,t)),p=gn(N=>$at(N,t)),v=gn(N=>Eme(N,d,t,c)),S=gn(N=>Vpe(N,t));if(g.useLayoutEffect(()=>{if(!(i!=="auto"||!m||C7(r)||g.isValidElement(r)||S==null)){var N=a.current;if(N){var O=N.getCalculatedWidth();Math.round(m.width)!==Math.round(O)&&u(pct({id:t,width:O}))}}},[v,m,u,r,t,i,S]),m==null||p==null||S==null)return null;var{dangerouslySetInnerHTML:b,ticks:w}=e,R=xN(e,zft),{id:E}=S,_=xN(S,Uft);return g.createElement(K7,cI({},R,_,{ref:a,labelRef:o,scale:h,x:p.x,y:p.y,tickTextProps:i==="auto"?{width:void 0}:{width:i},width:m.width,height:m.height,className:Bi("recharts-".concat(d," ").concat(d),n),viewBox:l,ticks:v}))},Wft={allowDataOverflow:Nl.allowDataOverflow,allowDecimals:Nl.allowDecimals,allowDuplicatedCategory:Nl.allowDuplicatedCategory,hide:!1,mirror:Nl.mirror,orientation:Nl.orientation,padding:Nl.padding,reversed:Nl.reversed,scale:Nl.scale,tickCount:Nl.tickCount,type:Nl.type,width:Nl.width,yAxisId:0},Yft=e=>{var t,n,i,r,a,o=ro(e,Wft);return g.createElement(g.Fragment,null,g.createElement(Hft,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(n=o.includeHidden)!==null&&n!==void 0?n:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(i=o.angle)!==null&&i!==void 0?i:0,minTickGap:(r=o.minTickGap)!==null&&r!==void 0?r:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),g.createElement(qft,o))},Jft=(e,t)=>{var{domain:n}=e,i=xN(e,Vft),{domain:r}=t,a=xN(t,Kft);return $1(i,a)?Array.isArray(n)&&n.length===2&&Array.isArray(r)&&r.length===2?n[0]===r[0]&&n[1]===r[1]:$1({domain:n},{domain:r}):!1},Vye=g.memo(Yft,Jft);Vye.displayName="YAxis";var NT={exports:{}},OT={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lX;function Qft(){if(lX)return OT;lX=1;var e=z1();function t(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var n=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,r=e.useRef,a=e.useEffect,o=e.useMemo,l=e.useDebugValue;return OT.useSyncExternalStoreWithSelector=function(c,u,d,h,m){var p=r(null);if(p.current===null){var v={hasValue:!1,value:null};p.current=v}else v=p.current;p=o(function(){function b(N){if(!w){if(w=!0,R=N,N=h(N),m!==void 0&&v.hasValue){var O=v.value;if(m(O,N))return E=O}return E=N}if(O=E,n(R,N))return O;var j=h(N);return m!==void 0&&m(O,j)?(R=N,O):(R=N,E=j)}var w=!1,R,E,_=d===void 0?null:d;return[function(){return b(u())},_===null?void 0:function(){return b(_())}]},[u,d,h,m]);var S=i(c,p[0],p[1]);return a(function(){v.hasValue=!0,v.value=S},[S]),l(S),S},OT}var cX;function Xft(){return cX||(cX=1,NT.exports=Qft()),NT.exports}Xft();function Zft(e){e()}function eht(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Zft(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=e;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const r=t={callback:n,next:null,prev:t};return r.prev?r.prev.next=r:e=r,function(){!i||e===null||(i=!1,r.next?r.next.prev=r.prev:t=r.prev,r.prev?r.prev.next=r.next:e=r.next)}}}}var uX={notify(){},get:()=>[]};function tht(e,t){let n,i=uX,r=0,a=!1;function o(S){d();const b=i.subscribe(S);let w=!1;return()=>{w||(w=!0,b(),h())}}function l(){i.notify()}function c(){v.onStateChange&&v.onStateChange()}function u(){return a}function d(){r++,n||(n=e.subscribe(c),i=eht())}function h(){r--,n&&r===0&&(n(),n=void 0,i.clear(),i=uX)}function m(){a||(a=!0,d())}function p(){a&&(a=!1,h())}const v={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:m,tryUnsubscribe:p,getListeners:()=>i};return v}var nht=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iht=nht(),rht=()=>typeof navigator<"u"&&navigator.product==="ReactNative",aht=rht(),sht=()=>iht||aht?g.useLayoutEffect:g.useEffect,oht=sht(),jT=Symbol.for("react-redux-context"),DT=typeof globalThis<"u"?globalThis:{};function lht(){if(!g.createContext)return{};const e=DT[jT]??(DT[jT]=new Map);let t=e.get(g.createContext);return t||(t=g.createContext(null),e.set(g.createContext,t)),t}var cht=lht();function uht(e){const{children:t,context:n,serverState:i,store:r}=e,a=g.useMemo(()=>{const c=tht(r);return{store:r,subscription:c,getServerState:i?()=>i:void 0}},[r,i]),o=g.useMemo(()=>r.getState(),[r]);oht(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==r.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,o]);const l=n||cht;return g.createElement(l.Provider,{value:a},t)}var dht=uht,fht=(e,t)=>t,H7=ot([fht,_i,Fpe,rs,Bme,Lh,Ust,ws],qst),q7=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,i=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/i)}},Kye=kc("mouseClick"),Gye=iw();Gye.startListening({actionCreator:Kye,effect:(e,t)=>{var n=e.payload,i=H7(t.getState(),q7(n));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(Qat({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}});var uI=kc("mouseMove"),Hye=iw();Hye.startListening({actionCreator:uI,effect:(e,t)=>{var n=e.payload,i=t.getState(),r=x7(i,i.tooltip.settings.shared),a=H7(i,q7(n));r==="axis"&&((a==null?void 0:a.activeIndex)!=null?t.dispatch(Cme({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(Dme()))}});var dX={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},qye=Ql({name:"rootProps",initialState:dX,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:dX.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),hht=qye.reducer,{updateOptions:pht}=qye.actions,Wye=Ql({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Ewt}=Wye.actions,mht=Wye.reducer,Yye=kc("keyDown"),Jye=kc("focus"),W7=iw();W7.startListening({actionCreator:Yye,effect:(e,t)=>{var n=t.getState(),i=n.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:r}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=Number(w7(r,dS(n))),l=Lh(n);if(a==="Enter"){var c=fN(n,"axis","hover",String(r.index));t.dispatch(ZM({active:!r.active,activeIndex:r.index,activeDataKey:r.dataKey,activeCoordinate:c}));return}var u=Uat(n),d=u==="left-to-right"?1:-1,h=a==="ArrowRight"?1:-1,m=o+h*d;if(!(l==null||m>=l.length||m<0)){var p=fN(n,"axis","hover",String(m));t.dispatch(ZM({active:!0,activeIndex:m.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});W7.startListening({actionCreator:Jye,effect:(e,t)=>{var n=t.getState(),i=n.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:r}=n.tooltip;if(!r.active&&r.index==null){var a="0",o=fN(n,"axis","hover",String(a));t.dispatch(ZM({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var Ec=kc("externalEvent"),Qye=iw();Qye.startListening({actionCreator:Ec,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),i={activeCoordinate:Tst(n),activeDataKey:Kme(n),activeIndex:Bg(n),activeLabel:Vme(n),activeTooltipIndex:Bg(n),isTooltipActive:Mst(n)};e.payload.handler(i,e.payload.reactEvent)}}});var yht=ot([uS],e=>e.tooltipItemPayloads),ght=ot([yht,vw,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,i)=>{var r=e.find(l=>l.settings.dataKey===i);if(r!=null){var{positions:a}=r;if(a!=null){var o=t(a,n);return o}}}),Xye=kc("touchMove"),Zye=iw();Zye.startListening({actionCreator:Xye,effect:(e,t)=>{var n=e.payload,i=t.getState(),r=x7(i,i.tooltip.settings.shared);if(r==="axis"){var a=H7(i,q7({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(Cme({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(r==="item"){var o,l=n.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(VZe),d=(o=c.getAttribute(KZe))!==null&&o!==void 0?o:void 0,h=ght(t.getState(),u,d);t.dispatch(jme({activeDataKey:d,activeIndex:u,activeCoordinate:h}))}}});var vht=Hfe({brush:Mut,cartesianAxis:mct,chartData:cot,errorBars:Lct,graphicalItems:act,layout:hZe,legend:Ret,options:rot,polarAxis:Rlt,polarOptions:mht,referenceElements:zut,rootProps:hht,tooltip:Xat}),Sht=function(t){return $Xe({reducer:vht,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([Gye.middleware,Hye.middleware,W7.middleware,Qye.middleware,Zye.middleware]),enhancers:n=>{var i=n;return typeof n=="function"&&(i=n()),i.concat(rhe({type:"raf"}))},devTools:Tm.devToolsEnabled})};function bht(e){var{preloadedState:t,children:n,reduxStoreName:i}=e,r=$s(),a=g.useRef(null);if(r)return n;a.current==null&&(a.current=Sht(t));var o=_k;return g.createElement(dht,{context:o,store:a.current},n)}function xht(e){var{layout:t,margin:n}=e,i=Aa(),r=$s();return g.useEffect(()=>{r||(i(uZe(t)),i(cZe(n)))},[i,r,t,n]),null}function wht(e){var t=Aa();return g.useEffect(()=>{t(pht(e))},[t,e]),null}var Eht=["children"];function _ht(e,t){if(e==null)return{};var n,i,r=Aht(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Aht(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function wN(){return wN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},wN.apply(null,arguments)}var Rht={width:"100%",height:"100%",display:"block"},Nht=g.forwardRef((e,t)=>{var n=Lk(),i=Tk(),r=Nhe();if(!T1(n)||!T1(i))return null;var{children:a,otherAttributes:o,title:l,desc:c}=e,u,d;return typeof o.tabIndex=="number"?u=o.tabIndex:u=r?0:void 0,typeof o.role=="string"?d=o.role:d=r?"application":void 0,g.createElement(fk,wN({},o,{title:l,desc:c,role:d,tabIndex:u,width:n,height:i,style:Rht,ref:t}),a)}),Oht=e=>{var{children:t}=e,n=gn(mj);if(!n)return null;var{width:i,height:r,y:a,x:o}=n;return g.createElement(fk,{width:i,height:r,x:o,y:a},t)},fX=g.forwardRef((e,t)=>{var{children:n}=e,i=_ht(e,Eht),r=$s();return r?g.createElement(Oht,null,n):g.createElement(Nht,wN({ref:t},i),n)});function jht(){var e=Aa(),[t,n]=g.useState(null),i=gn(UZe);return g.useEffect(()=>{if(t!=null){var r=t.getBoundingClientRect(),a=r.width/t.offsetWidth;$a(a)&&a!==i&&e(fZe(a))}},[t,e,i]),n}function hX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function Dht(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hX(Object(n),!0).forEach(function(i){Cht(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hX(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Cht(e,t,n){return(t=Lht(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lht(e){var t=Tht(e,"string");return typeof t=="symbol"?t:t+""}function Tht(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vg(){return Vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Vg.apply(null,arguments)}var Mht=()=>(vot(),null);function EN(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Iht=g.forwardRef((e,t)=>{var n,i,r=g.useRef(null),[a,o]=g.useState({containerWidth:EN((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:EN((i=e.style)===null||i===void 0?void 0:i.height)}),l=g.useCallback((u,d)=>{o(h=>{var m=Math.round(u),p=Math.round(d);return h.containerWidth===m&&h.containerHeight===p?h:{containerWidth:m,containerHeight:p}})},[]),c=g.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:d,height:h}=u.getBoundingClientRect();l(d,h);var m=v=>{var{width:S,height:b}=v[0].contentRect;l(S,b)},p=new ResizeObserver(m);p.observe(u),r.current=p}},[t,l]);return g.useEffect(()=>()=>{var u=r.current;u!=null&&u.disconnect()},[l]),g.createElement(g.Fragment,null,g.createElement(gj,{width:a.containerWidth,height:a.containerHeight}),g.createElement("div",Vg({ref:c},e)))}),Pht=g.forwardRef((e,t)=>{var{width:n,height:i}=e,[r,a]=g.useState({containerWidth:EN(n),containerHeight:EN(i)}),o=g.useCallback((c,u)=>{a(d=>{var h=Math.round(c),m=Math.round(u);return d.containerWidth===h&&d.containerHeight===m?d:{containerWidth:h,containerHeight:m}})},[]),l=g.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();o(u,d)}},[t,o]);return g.createElement(g.Fragment,null,g.createElement(gj,{width:r.containerWidth,height:r.containerHeight}),g.createElement("div",Vg({ref:l},e)))}),kht=g.forwardRef((e,t)=>{var{width:n,height:i}=e;return g.createElement(g.Fragment,null,g.createElement(gj,{width:n,height:i}),g.createElement("div",Vg({ref:t},e)))}),$ht=g.forwardRef((e,t)=>{var{width:n,height:i}=e;return gh(n)||gh(i)?g.createElement(Pht,Vg({},e,{ref:t})):g.createElement(kht,Vg({},e,{ref:t}))});function Fht(e){return e===!0?Iht:$ht}var Bht=g.forwardRef((e,t)=>{var{children:n,className:i,height:r,onClick:a,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:h,onMouseUp:m,onTouchEnd:p,onTouchMove:v,onTouchStart:S,style:b,width:w,responsive:R,dispatchTouchEvents:E=!0}=e,_=g.useRef(null),N=Aa(),[O,j]=g.useState(null),[D,P]=g.useState(null),B=jht(),M=Ck(),z=(M==null?void 0:M.width)>0?M.width:w,U=(M==null?void 0:M.height)>0?M.height:r,K=g.useCallback(se=>{B(se),typeof t=="function"&&t(se),j(se),P(se),se!=null&&(_.current=se)},[B,t,j,P]),te=g.useCallback(se=>{N(Kye(se)),N(Ec({handler:a,reactEvent:se}))},[N,a]),q=g.useCallback(se=>{N(uI(se)),N(Ec({handler:u,reactEvent:se}))},[N,u]),V=g.useCallback(se=>{N(Dme()),N(Ec({handler:d,reactEvent:se}))},[N,d]),Q=g.useCallback(se=>{N(uI(se)),N(Ec({handler:h,reactEvent:se}))},[N,h]),ce=g.useCallback(()=>{N(Jye())},[N]),ae=g.useCallback(se=>{N(Yye(se.key))},[N]),G=g.useCallback(se=>{N(Ec({handler:o,reactEvent:se}))},[N,o]),H=g.useCallback(se=>{N(Ec({handler:l,reactEvent:se}))},[N,l]),T=g.useCallback(se=>{N(Ec({handler:c,reactEvent:se}))},[N,c]),Y=g.useCallback(se=>{N(Ec({handler:m,reactEvent:se}))},[N,m]),ie=g.useCallback(se=>{N(Ec({handler:S,reactEvent:se}))},[N,S]),ne=g.useCallback(se=>{E&&N(Xye(se)),N(Ec({handler:v,reactEvent:se}))},[N,E,v]),J=g.useCallback(se=>{N(Ec({handler:p,reactEvent:se}))},[N,p]),ee=Fht(R);return g.createElement(Qme.Provider,{value:O},g.createElement(cfe.Provider,{value:D},g.createElement(ee,{width:z??(b==null?void 0:b.width),height:U??(b==null?void 0:b.height),className:Bi("recharts-wrapper",i),style:Dht({position:"relative",cursor:"default",width:z,height:U},b),onClick:te,onContextMenu:G,onDoubleClick:H,onFocus:ce,onKeyDown:ae,onMouseDown:T,onMouseEnter:q,onMouseLeave:V,onMouseMove:Q,onMouseUp:Y,onTouchEnd:J,onTouchMove:ne,onTouchStart:ie,ref:K},g.createElement(Mht,null),n)))}),zht=["width","height","responsive","children","className","style","compact","title","desc"];function Uht(e,t){if(e==null)return{};var n,i,r=Vht(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Vht(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var Kht=g.forwardRef((e,t)=>{var{width:n,height:i,responsive:r,children:a,className:o,style:l,compact:c,title:u,desc:d}=e,h=Uht(e,zht),m=Hl(h);return c?g.createElement(g.Fragment,null,g.createElement(gj,{width:n,height:i}),g.createElement(fX,{otherAttributes:m,title:u,desc:d},a)):g.createElement(Bht,{className:o,style:l,width:n,height:i,responsive:r,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},g.createElement(fX,{otherAttributes:m,title:u,desc:d,ref:t},g.createElement(Vut,null,a)))});function dI(){return dI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},dI.apply(null,arguments)}var Ght={top:5,right:5,bottom:5,left:5},Hht={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Ght,reverseStackOrder:!1,syncMethod:"index",responsive:!1},Uj=g.forwardRef(function(t,n){var i,r=ro(t.categoricalChartProps,Hht),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,categoricalChartProps:u}=t,d={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return g.createElement(bht,{preloadedState:{options:d},reduxStoreName:(i=u.id)!==null&&i!==void 0?i:a},g.createElement(Tut,{chartData:u.data}),g.createElement(xht,{layout:r.layout,margin:r.margin}),g.createElement(wht,{accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className}),g.createElement(Kht,dI({},r,{ref:n})))}),qht=["axis"],Wht=g.forwardRef((e,t)=>g.createElement(Uj,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:qht,tooltipPayloadSearcher:$j,categoricalChartProps:e,ref:t})),Yht=["axis","item"],Jht=g.forwardRef((e,t)=>g.createElement(Uj,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Yht,tooltipPayloadSearcher:$j,categoricalChartProps:e,ref:t})),Qht=["axis"],Xht=g.forwardRef((e,t)=>g.createElement(Uj,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Qht,tooltipPayloadSearcher:$j,categoricalChartProps:e,ref:t})),Zht=["axis"],ept=g.forwardRef((e,t)=>g.createElement(Uj,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Zht,tooltipPayloadSearcher:$j,categoricalChartProps:e,ref:t}));function Y7(){const[e,t]=g.useState(()=>{if(typeof window>"u")return!1;const n=document.documentElement;return n.classList.contains("dark")?!0:n.classList.contains("light")?!1:window.matchMedia("(prefers-color-scheme: dark)").matches});return g.useEffect(()=>{const n=document.documentElement,i=()=>{n.classList.contains("dark")?t(!0):n.classList.contains("light")?t(!1):t(window.matchMedia("(prefers-color-scheme: dark)").matches)};i();const r=new MutationObserver(i);r.observe(n,{attributes:!0,attributeFilter:["class"]});const a=window.matchMedia("(prefers-color-scheme: dark)"),o=()=>{!n.classList.contains("dark")&&!n.classList.contains("light")&&t(a.matches)};return a.addEventListener("change",o),()=>{r.disconnect(),a.removeEventListener("change",o)}},[]),{isDark:e,isLight:!e}}function tpt({data:e,height:t,chartType:n,onChartTypeChange:i}){const{isDark:r}=Y7(),a=g.useRef(null),[o,l]=g.useState(t||300),[c,u]=g.useState("area"),d=n??c;g.useEffect(()=>{if(t!==void 0){l(t);return}const P=()=>{if(a.current){const M=a.current.clientHeight;M>0&&l(M)}};P();const B=new ResizeObserver(P);return a.current&&B.observe(a.current),()=>{B.disconnect()}},[t]);const h=(P,B)=>{if(typeof window>"u")return B;const M=document.documentElement;return getComputedStyle(M).getPropertyValue(P).trim()||B},m=r?"#ffffff":"#000000",p=r?h("--gray-6","#2e2e2e"):h("--gray-4","#e5e5e5"),v=h("--green-9","#30a46c"),S=h("--red-9","#e5484d"),b=h("--blue-9","#3e63dd"),w=(P,B)=>{if(P.startsWith("rgba")||P.startsWith("rgb("))return P.startsWith("rgba")?P.replace(/[\d.]+\)$/g,`${B})`):P.replace("rgb","rgba").replace(")",`, ${B})`);if(P.startsWith("#")){const M=parseInt(P.slice(1,3),16),z=parseInt(P.slice(3,5),16),U=parseInt(P.slice(5,7),16);return`rgba(${M}, ${z}, ${U}, ${B})`}return P},R=w(v,.7),E=w(S,.7),_=w(b,.7),N=P=>new Intl.NumberFormat("no-NO",{style:"currency",currency:"NOK",minimumFractionDigits:0,maximumFractionDigits:0}).format(P),O=({active:P,payload:B})=>{var z,U;if(!P||!B||B.length===0)return null;const M=K=>{switch(K){case"income":return"Income";case"expenses":return"Expenses";case"result":return"Net Profit";default:return K}};return s.jsxs(X,{style:{background:r?"rgba(0, 0, 0, 0.9)":"rgba(255, 255, 255, 0.95)",border:`1px solid ${p}`,borderRadius:8,padding:"8px 12px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},children:[s.jsx(L,{size:"2",weight:"medium",mb:"2",style:{display:"block"},children:((U=(z=B[0])==null?void 0:z.payload)==null?void 0:U.month)||""}),B.map((K,te)=>s.jsxs(L,{size:"1",style:{color:K.color,display:"block",marginBottom:"4px"},children:[M(K.dataKey),": ",N(K.value)]},te))]})};if(e.length===0)return s.jsx(X,{py:"6",style:{border:`2px dashed ${p}`,borderRadius:8,textAlign:"center"},children:s.jsx(L,{size:"2",color:"gray",children:"No data available"})});const j=g.useMemo(()=>e.map(P=>({...P,result:P.income-P.expenses})),[e]),D=()=>{const P={data:j,margin:{top:20,right:30,left:20,bottom:5}},B=s.jsxs(s.Fragment,{children:[s.jsx(Nye,{strokeDasharray:"3 3",stroke:p}),s.jsx(Uye,{dataKey:"month",stroke:m,tick:{fill:m,fontSize:12}}),s.jsx(Vye,{stroke:m,tick:{fill:m,fontSize:12},tickFormatter:M=>M>=1e6?`${(M/1e6).toFixed(1)}M`:M>=1e3?`${(M/1e3).toFixed(0)}k`:M.toString()}),s.jsx(Rot,{content:s.jsx(O,{})}),s.jsx(vj,{wrapperStyle:{color:m},iconType:"square"})]});switch(d){case"line":return s.jsxs(Wht,{...P,children:[B,s.jsx(yA,{type:"monotone",dataKey:"income",stroke:R,strokeWidth:3,name:"Income",dot:{fill:R,r:4},activeDot:{r:6}}),s.jsx(yA,{type:"monotone",dataKey:"expenses",stroke:E,strokeWidth:3,name:"Expenses",dot:{fill:E,r:4},activeDot:{r:6}})]});case"area":return s.jsxs(Xht,{...P,children:[B,s.jsx(oI,{type:"monotone",dataKey:"income",stroke:R,fill:R,name:"Income",fillOpacity:.7}),s.jsx(oI,{type:"monotone",dataKey:"expenses",stroke:E,fill:E,name:"Expenses",fillOpacity:.7})]});case"composed":return s.jsxs(ept,{...P,barCategoryGap:"10%",children:[B,s.jsx(qb,{dataKey:"income",fill:R,name:"Income",radius:[4,4,0,0],barSize:30}),s.jsx(qb,{dataKey:"expenses",fill:E,name:"Expenses",radius:[4,4,0,0],barSize:30}),s.jsx(yA,{type:"monotone",dataKey:"result",stroke:_,strokeWidth:3,name:"Net Profit",dot:{fill:_,r:4},activeDot:{r:6}})]});case"bar":default:return s.jsxs(Jht,{...P,barCategoryGap:"10%",children:[B,s.jsx(qb,{dataKey:"income",fill:R,name:"Income",radius:[4,4,0,0],barSize:40}),s.jsx(qb,{dataKey:"expenses",fill:E,name:"Expenses",radius:[4,4,0,0],barSize:40})]})}};return s.jsx("div",{ref:a,style:{width:"100%",height:"100%",minHeight:0},children:s.jsx(vet,{width:"100%",height:o,children:D()})})}function npt({chartType:e,onChartTypeChange:t}){return s.jsxs($,{gap:"1",align:"center",wrap:"wrap",children:[s.jsx(pe,{variant:e==="bar"?"solid":"soft",size:"1",onClick:()=>t("bar"),children:"Bar"}),s.jsx(pe,{variant:e==="line"?"solid":"soft",size:"1",onClick:()=>t("line"),children:"Line"}),s.jsx(pe,{variant:e==="area"?"solid":"soft",size:"1",onClick:()=>t("area"),children:"Area"}),s.jsx(pe,{variant:e==="composed"?"solid":"soft",size:"1",onClick:()=>t("composed"),children:"Composed"})]})}function ipt({jobId:e}){const{companyId:t}=En(),[n,i]=g.useState("area"),[r,a]=g.useState("income"),o=V=>V?new Date(V).toLocaleDateString("nb-NO",{year:"numeric",month:"short",day:"numeric"}):"",{data:l=[],isLoading:c}=et({queryKey:["jobs",e,"money","accepted-offers"],queryFn:async()=>{const{data:V,error:Q}=await re.from("job_offers").select("*").eq("job_id",e).eq("status","accepted").order("accepted_at",{ascending:!1});if(Q)throw Q;return V}}),{data:u}=et({queryKey:["jobs",e,"money","job-info"],queryFn:async()=>{const{data:V,error:Q}=await re.from("jobs").select("id, title, jobnr, start_at, end_at").eq("id",e).single();if(Q)throw Q;return V}}),{data:d}=et({queryKey:["company",t,"accounting-config"],queryFn:async()=>{if(!t)return null;const{data:V,error:Q}=await re.from("company_expansions").select("accounting_organization_id, accounting_software").eq("company_id",t).maybeSingle();if(Q)throw Q;return V},enabled:!!t}),{data:h}=et({queryKey:["conta","project",d==null?void 0:d.accounting_organization_id,e,u==null?void 0:u.jobnr],queryFn:async()=>!(d!=null&&d.accounting_organization_id)||!u?null:rfe(d.accounting_organization_id,{jobTitle:u.title,jobnr:u.jobnr,jobId:e}),enabled:!!(d!=null&&d.accounting_organization_id)&&!!u}),m=g.useMemo(()=>{if(!(u!=null&&u.jobnr))return[];const V=String(u.jobnr),Q=String(u.jobnr).padStart(6,"0");return[V,Q,`#${V}`,`#${Q}`,`job ${V}`,`job ${Q}`,`job #${V}`,`job #${Q}`].map(ce=>ce.toLowerCase())},[u==null?void 0:u.jobnr]),p=g.useCallback(V=>{if(!m.length)return!1;const Q=`${V.description||""} ${V.invoiceNo||""}`.toLowerCase();return m.some(ce=>Q.includes(ce))},[m]),{data:v=[],isLoading:S,refetch:b}=et({queryKey:["conta","job-expenses",d==null?void 0:d.accounting_organization_id,h,u==null?void 0:u.jobnr,u==null?void 0:u.start_at,u==null?void 0:u.end_at],queryFn:async()=>{if(!(d!=null&&d.accounting_organization_id))return[];if(!h&&m.length===0)return[];const V=new URLSearchParams({includeLedgerLines:"true",includeClosedLedgerLines:"true",includeOldTransactions:"true",maxTransactionsPerPage:"200"});h&&V.set("projectId",String(h)),u!=null&&u.start_at&&V.set("startDate",u.start_at.split("T")[0]),u!=null&&u.end_at&&V.set("endDate",u.end_at.split("T")[0]);const ce=((await bo.get(`/accounting/organizations/${d.accounting_organization_id}/reports/supplier-ledger?${V.toString()}`)).bookkeepingAccountLedgers||[]).flatMap(ae=>(ae.ledgerLines||[]).map(G=>({...G,supplierName:ae.name})));return h?ce:ce.filter(p)},enabled:!!(d!=null&&d.accounting_organization_id)&&(!!h||m.length>0)}),{data:w}=et({queryKey:["company",t,"general-rates"],enabled:!!t,queryFn:async()=>{if(!t)return null;const{data:V,error:Q}=await re.from("companies").select("employee_daily_rate, employee_hourly_rate, owner_daily_rate, owner_hourly_rate").eq("id",t).single();if(Q)throw Q;return V}}),{data:R}=et({queryKey:["jobs",e,"money","crew-expenses"],enabled:!!t,queryFn:async()=>{const{data:V,error:Q}=await re.from("time_periods").select("id, start_at, end_at").eq("job_id",e).eq("category","crew");if(Q)throw Q;if(!V||V.length===0)return[];const ce=V.map(ie=>ie.id),{data:ae,error:G}=await re.from("reserved_crew").select(`
          id,
          user_id,
          placeholder_name,
          time_period_id,
          user:user_id (
            user_id,
            display_name,
            email
          )
        `).in("time_period_id",ce);if(G)throw G;if(!ae||ae.length===0)return[];const H=ae.map(ie=>ie.user_id).filter(ie=>!!ie);let T=[];if(H.length>0){const{data:ie,error:ne}=await re.from("company_user_profiles").select("user_id, role, rate_type, rate").eq("company_id",t).in("user_id",H);if(ne)throw ne;T=ie||[]}const Y=new Map((T||[]).map(ie=>[ie.user_id,ie]));return(ae||[]).map(ie=>{const ne=V.find(se=>se.id===ie.time_period_id),J=Array.isArray(ie.user)?ie.user[0]:ie.user,ee=Y.get(ie.user_id);return{id:ie.id,user_id:ie.user_id,user_name:(J==null?void 0:J.display_name)||(J==null?void 0:J.email)||ie.placeholder_name||"Unknown",role:(ee==null?void 0:ee.role)||null,rate_type:(ee==null?void 0:ee.rate_type)||null,rate:ee!=null&&ee.rate?Number(ee.rate):null,time_period_id:ie.time_period_id,start_at:(ne==null?void 0:ne.start_at)||null,end_at:(ne==null?void 0:ne.end_at)||null}})}}),E=g.useMemo(()=>!R||!w?[]:R.map(V=>{if(!V.start_at||!V.end_at)return null;const Q=new Date(V.start_at),G=(new Date(V.end_at).getTime()-Q.getTime())/(1e3*60*60),H=G/24;let T=null,Y=null;if(V.role==="freelancer"?(T=V.rate,Y=V.rate_type):V.role==="employee"?w.employee_daily_rate?(T=Number(w.employee_daily_rate),Y="daily"):w.employee_hourly_rate&&(T=Number(w.employee_hourly_rate),Y="hourly"):V.role==="owner"&&(w.owner_daily_rate?(T=Number(w.owner_daily_rate),Y="daily"):w.owner_hourly_rate&&(T=Number(w.owner_hourly_rate),Y="hourly")),!T||!Y)return null;let ie=0;return Y==="daily"?ie=T*Math.ceil(H):ie=T*G,{id:`crew-${V.id}`,type:"crew",description:`${V.user_name} (${V.role||"unknown"})`,amount:ie,date:V.start_at,reference:void 0,booking:V}}).filter(V=>V!==null),[R,w]),_=g.useMemo(()=>v.map(V=>{const Q=Number(V.amount??0);return Q?{id:`conta-${V.id??`${V.description}-${V.date}`}`,type:"conta",description:V.description||V.bookkeepingAccountName||V.supplierName||"Accounting expense",amount:Math.abs(Q),date:V.date||V.dueDate||null,reference:V.invoiceNo||void 0,line:V}:null}).filter(V=>V!==null),[v]),N=g.useMemo(()=>[...E,..._],[E,_]),O=g.useMemo(()=>l.map(V=>({id:`offer-${V.id}`,description:V.title||`Offer v${V.version_number}`,amount:V.total_with_vat,date:V.accepted_at||null,source:"offer"})),[l]),j=g.useMemo(()=>N.map(V=>({id:V.id,description:V.description,amount:V.amount,date:V.date||null,source:V.type==="crew"?"crew":"conta",reference:V.reference})),[N]),D=r==="income"?O:j,P=V=>new Intl.NumberFormat("nb-NO",{style:"currency",currency:"NOK",minimumFractionDigits:2}).format(V),B=l.reduce((V,Q)=>V+Q.total_with_vat,0),M=N.length,z=E.length,U=_.length,K=N.reduce((V,Q)=>V+Q.amount,0),te=B-K,q=g.useMemo(()=>{const V=new Map;return l.forEach(Q=>{if(Q.accepted_at){const ce=new Date(Q.accepted_at),ae=`${ce.getFullYear()}-${String(ce.getMonth()+1).padStart(2,"0")}`;ce.toLocaleDateString("nb-NO",{month:"long",year:"numeric"}),V.has(ae)||V.set(ae,{income:0,expenses:0});const G=V.get(ae);G.income+=Q.total_with_vat}}),N.forEach(Q=>{const ce=new Date(Q.date),ae=`${ce.getFullYear()}-${String(ce.getMonth()+1).padStart(2,"0")}`;V.has(ae)||V.set(ae,{income:0,expenses:0});const G=V.get(ae);G.expenses+=Q.amount}),Array.from(V.entries()).map(([Q,ce])=>{const[ae,G]=Q.split("-");return{month:new Date(parseInt(ae),parseInt(G)-1).toLocaleDateString("nb-NO",{month:"short",year:"numeric"}),income:ce.income,expenses:ce.expenses}}).sort((Q,ce)=>Q.month.localeCompare(ce.month))},[l,N]);return c?s.jsxs(X,{children:[s.jsx(He,{size:"3",mb:"3",children:"Money"}),s.jsx(L,{children:"Loading financial data..."})]}):s.jsxs(X,{children:[s.jsxs($,{justify:"between",align:"center",mb:"3",children:[s.jsx(He,{size:"3",children:"Money"}),q.length>0&&s.jsx(npt,{chartType:n,onChartTypeChange:i})]}),s.jsxs($,{gap:"3",mb:"4",wrap:"wrap",children:[s.jsx(Rt,{style:{flex:1,minWidth:200},children:s.jsxs($,{direction:"column",gap:"2",children:[s.jsx(L,{size:"2",color:"gray",children:"Total Income"}),s.jsx(He,{size:"6",color:"green",children:P(B)}),s.jsxs(L,{size:"1",color:"gray",children:[l.length," accepted offer",l.length!==1?"s":""]})]})}),s.jsx(Rt,{style:{flex:1,minWidth:200},children:s.jsxs($,{direction:"column",gap:"2",children:[s.jsx(L,{size:"2",color:"gray",children:"Total Expenses"}),s.jsx(He,{size:"6",color:"red",children:P(K)}),s.jsx(L,{size:"1",color:"gray",children:M>0?`${M} expense${M!==1?"s":""} (${z} crew, ${U} Conta)`:d!=null&&d.accounting_organization_id?"No Conta expenses yet":"No expenses yet"})]})}),s.jsx(Rt,{style:{flex:1,minWidth:200},children:s.jsxs($,{direction:"column",gap:"2",children:[s.jsx(L,{size:"2",color:"gray",children:"Net Profit/Loss"}),s.jsx(He,{size:"6",color:te>=0?"green":"red",children:P(te)}),s.jsxs($,{align:"center",gap:"1",children:[te>=0?s.jsx(Ic,{width:14,height:14,color:"var(--green-9)"}):s.jsx(Ox,{width:14,height:14,color:"var(--red-9)"}),s.jsx(L,{size:"1",color:te>=0?"green":"red",children:te>=0?"Profit":"Loss"})]})]})})]}),s.jsxs(Rt,{mb:"4",children:[s.jsxs($,{justify:"between",align:"center",mb:"3",gap:"3",wrap:"wrap",children:[s.jsx(He,{size:"4",children:"Items"}),s.jsxs($,{align:"center",gap:"2",wrap:"wrap",children:[r==="expenses"&&(d==null?void 0:d.accounting_organization_id)&&s.jsx(pe,{size:"2",variant:"soft",onClick:()=>b(),disabled:S,children:"Sync Conta"}),s.jsxs(Xa,{value:r,onValueChange:V=>a(V),size:"2",children:[s.jsxs(wi,{value:"income",children:["Income (",O.length,")"]}),s.jsxs(wi,{value:"expenses",children:["Expenses (",j.length,")"]})]})]})]}),r==="expenses"&&(d==null?void 0:d.accounting_organization_id)&&!h&&s.jsx(Rt,{mb:"3",style:{background:"var(--yellow-a2)"},children:s.jsx(L,{size:"2",color:"gray",children:m.length>0?"No Conta project linked yet. Showing expenses that match the job number in invoice reference or description.":"No Conta project linked yet. Create a Conta invoice to link the job number, or ensure the project exists in Conta."})}),D.length===0?s.jsx(L,{size:"2",color:"gray",children:r==="income"?"No income items yet.":"No expense items yet."}):s.jsxs(Hn,{variant:"surface",children:[s.jsx(Qn,{children:s.jsxs(ht,{children:[s.jsx(ze,{children:"Description"}),s.jsx(ze,{children:"Date"}),s.jsx(ze,{children:"Reference"}),s.jsx(ze,{children:"Source"}),s.jsx(ze,{align:"right",children:"Amount"})]})}),s.jsx(qn,{children:D.map(V=>s.jsxs(ht,{children:[s.jsx(Oe,{children:V.description}),s.jsx(Oe,{children:o(V.date)}),s.jsx(Oe,{children:V.reference||""}),s.jsx(Oe,{children:s.jsx(mt,{color:V.source==="offer"?"green":V.source==="crew"?"red":"blue",variant:"soft",children:V.source==="offer"?"Offer":V.source==="crew"?"Crew":"Conta"})}),s.jsx(Oe,{align:"right",children:s.jsx(L,{weight:"medium",color:V.source==="offer"?"green":"red",children:P(V.amount)})})]},V.id))})]})]}),q.length>0?s.jsxs(Rt,{mb:"4",children:[s.jsx(He,{size:"4",mb:"3",children:"Income vs Expenses"}),s.jsx(X,{style:{height:400,width:"100%"},children:s.jsx(tpt,{data:q,height:400,chartType:n,onChartTypeChange:i})})]}):s.jsx(Rt,{mb:"4",children:s.jsxs($,{direction:"column",align:"center",justify:"center",gap:"3",style:{minHeight:300,padding:"40px"},children:[s.jsx(L,{size:"3",color:"gray",align:"center",children:"No financial data yet"}),s.jsx(L,{size:"2",color:"gray",align:"center",children:"Once offers are accepted, they will appear here along with expenses from your accounting software."})]})}),!(d!=null&&d.accounting_organization_id)&&s.jsx(Rt,{style:{background:"var(--blue-a2)"},children:s.jsxs($,{gap:"3",align:"start",children:[s.jsx(X,{style:{paddingTop:"2px"},children:s.jsx(K2,{width:20,height:20,color:"var(--blue-9)"})}),s.jsxs(X,{style:{flex:1},children:[s.jsx(He,{size:"3",mb:"1",children:"Connect Accounting Software"}),s.jsx(L,{size:"2",color:"gray",mb:"2",children:"Connect your accounting software in Company settings to automatically pull expenses and get a complete financial overview of your jobs."}),s.jsx(L,{size:"1",color:"gray",children:"Once connected, expenses will be automatically synchronized and displayed in charts and summaries."})]})]})})]})}function rpt({jobId:e,job:t}){const n=_a(),[i,r]=g.useState(!1),{data:a}=et({queryKey:["jobs",e,"todo","crew-roles"],queryFn:async()=>{const{data:d,error:h}=await re.from("time_periods").select("id, title, needed_count").eq("job_id",e).eq("category","crew").eq("deleted",!1);if(h)throw h;if(d.length===0)return[];const m=d.map(b=>b.id),{data:p,error:v}=await re.from("reserved_crew").select("time_period_id, status").in("time_period_id",m);if(v)throw v;const S=new Map;for(const b of p){const w=b.time_period_id,R=S.get(w)||{};R[b.status]=(R[b.status]||0)+1,S.set(w,R)}return d.map(b=>{const w=S.get(b.id)||{};return{id:b.id,title:b.title||"Untitled Role",needed_count:b.needed_count||0,planned_count:w.planned||0,requested_count:w.requested||0,accepted_count:w.accepted||0,declined_count:w.declined||0,assigned_count:(w.planned||0)+(w.requested||0)+(w.accepted||0)+(w.declined||0)}})}}),{data:o}=et({queryKey:["jobs",e,"todo","vehicles"],queryFn:async()=>{const{data:d,error:h}=await re.from("time_periods").select("id").eq("job_id",e).eq("category","transport").eq("deleted",!1);if(h)throw h;if(d.length===0)return[];const m=d.map(S=>S.id),{data:p,error:v}=await re.from("reserved_vehicles").select("id, vehicle_id, external_status, vehicle:vehicle_id ( id, name, external_owner_id )").in("time_period_id",m);if(v)throw v;return p.map(S=>{var b,w;return{id:S.id,vehicle_id:S.vehicle_id,external_status:S.external_status,vehicle:Array.isArray(S.vehicle)?S.vehicle[0]:S.vehicle,is_external:!!(Array.isArray(S.vehicle)?(b=S.vehicle[0])!=null&&b.external_owner_id:(w=S.vehicle)!=null&&w.external_owner_id)}})}}),l=g.useMemo(()=>{const d=[];return t.job_address_id||d.push({id:"missing-location",type:"missing_location",title:"Missing Location",description:"No location has been set for this job.",severity:"high",actionUrl:`/jobs?jobId=${e}&tab=overview`,actionLabel:"Add Location"}),!t.customer_contact_id&&t.customer_id&&d.push({id:"missing-contact",type:"missing_contact",title:"Missing Contact",description:"No contact has been set for this job.",severity:"high",actionUrl:`/jobs?jobId=${e}&tab=overview`,actionLabel:"Add Contact"}),a&&a.forEach(h=>{const m=h.needed_count||0;if(m===0)return;const p=h.requested_count+h.accepted_count;if(h.planned_count===0&&h.requested_count===0&&h.accepted_count===0&&m>0&&d.push({id:`no-crew-planned-${h.id}`,type:"no_crew_planned",title:`No Crew Planned: ${h.title}`,description:`This role requires ${m} crew member(s) but no crew has been planned yet.`,severity:"medium",actionUrl:`/jobs?jobId=${e}&tab=crew`,actionLabel:"Plan Crew",metadata:{roleId:h.id,roleTitle:h.title}}),h.planned_count>0&&h.requested_count===0&&d.push({id:`crew-planned-not-requested-${h.id}`,type:"crew_planned_not_requested",title:`Crew Planned But Not Requested: ${h.title}`,description:`${h.planned_count} crew member(s) are planned but none have been requested yet.`,severity:"medium",actionUrl:`/jobs?jobId=${e}&tab=crew`,actionLabel:"Request Crew",metadata:{roleId:h.id,roleTitle:h.title}}),p<m){const v=m-p;d.push({id:`insufficient-crew-requested-${h.id}`,type:"insufficient_crew_requested",title:`Insufficient Crew Requested: ${h.title}`,description:`This role needs ${m} crew member(s), but only ${p} have been requested or accepted (${h.requested_count} requested, ${h.accepted_count} accepted). ${v} more needed.`,severity:"medium",actionUrl:`/jobs?jobId=${e}&tab=crew`,actionLabel:"Request More Crew",metadata:{roleId:h.id,roleTitle:h.title}})}if(h.needed_count>h.assigned_count&&h.planned_count>0&&h.requested_count>0){const v=h.needed_count-h.assigned_count;d.push({id:`unassigned-crew-${h.id}`,type:"unassigned_crew",title:`Unassigned Crew Role: ${h.title}`,description:`${v} crew member(s) still needed (${h.assigned_count}/${h.needed_count} assigned)`,severity:"medium",actionUrl:`/jobs?jobId=${e}&tab=crew`,actionLabel:"Assign Crew",metadata:{roleId:h.id,roleTitle:h.title}})}}),o&&o.forEach(h=>{var m;h.is_external&&!h.external_status&&d.push({id:`unconfirmed-vehicle-${h.id}`,type:"unconfirmed_vehicle",title:"Vehicle Booking Needs Confirmation",description:`External vehicle booking for "${((m=h.vehicle)==null?void 0:m.name)||"Unknown Vehicle"}" needs confirmation`,severity:"medium",actionUrl:`/jobs?jobId=${e}&tab=transport`,actionLabel:"Review Booking",metadata:{bookingId:h.id}})}),t.status==="completed"&&d.push({id:"uninvoiced-completed",type:"uninvoiced_completed",title:"Job Completed - Invoice Required",description:"This job is marked as completed but has not been invoiced yet.",severity:"high",actionUrl:`/jobs?jobId=${e}&tab=invoice`,actionLabel:"Create Invoice"}),d},[t,a,o,e]),c=d=>{switch(d){case"high":return"red";case"medium":return"orange";case"low":return"blue";default:return"gray"}},u=d=>{d.type==="missing_contact"?r(!0):d.actionUrl&&n({to:d.actionUrl})};return l.length===0?s.jsxs(X,{children:[s.jsx(He,{size:"3",mb:"3",children:"To Do"}),s.jsx(Rt,{children:s.jsxs($,{direction:"column",align:"center",justify:"center",gap:"3",style:{minHeight:"300px",padding:"40px"},children:[s.jsx(Ic,{width:48,height:48,color:"var(--green-9)"}),s.jsx(L,{size:"4",weight:"medium",children:"All tasks complete!"}),s.jsx(L,{size:"2",color:"gray",align:"center",children:"There are no pending action items for this job."})]})})]}):s.jsxs(X,{children:[s.jsxs(He,{size:"3",mb:"3",children:["To Do (",l.length,")"]}),s.jsx($,{direction:"column",gap:"3",children:l.map(d=>s.jsx(Rt,{children:s.jsxs($,{gap:"3",align:"start",children:[s.jsx(X,{style:{paddingTop:"4px"},children:s.jsx(Ox,{width:20,height:20,color:`var(--${c(d.severity)}-9)`})}),s.jsx(X,{style:{flex:1},children:s.jsxs($,{direction:"column",gap:"2",children:[s.jsxs($,{gap:"2",align:"center",children:[s.jsx(He,{size:"3",children:d.title}),s.jsx(X,{style:{padding:"2px 8px",borderRadius:4,background:`var(--${c(d.severity)}-3)`,border:`1px solid var(--${c(d.severity)}-6)`},children:s.jsx(L,{size:"1",weight:"medium",style:{color:`var(--${c(d.severity)}-11)`,textTransform:"uppercase"},children:d.severity})})]}),s.jsx(L,{size:"2",color:"gray",children:d.description}),d.actionUrl&&s.jsxs(pe,{size:"2",variant:"soft",onClick:()=>u(d),children:[d.actionLabel||"Fix",s.jsx(jg,{width:14,height:14})]})]})})]})},d.id))}),s.jsx(tde,{open:i,onOpenChange:r,companyId:t.company_id,job:t})]})}function apt(e,t){return t==="freelancer"&&(e==="invoiced"||e==="paid")?"completed":e}function pX({id:e,onDeleted:t,initialTab:n}){const{companyRole:i}=zr(),[r,a]=g.useState(!1),[o,l]=g.useState(!1),[c,u]=g.useState(!1),[d,h]=g.useState(!1),[m,p]=g.useState(n||"overview"),v=g.useRef(null);g.useEffect(()=>{n&&p(n)},[n]);const S=Yt(),{success:b,error:w}=Jt(),{data:R,isLoading:E}=et({...X1({jobId:e??"__none__"}),enabled:!!e});uBe(R);const _=bt({mutationFn:async j=>{const{error:D}=await re.from("matters").delete().eq("job_id",j).eq("matter_type","crew_invite");if(D)throw D;const{error:P}=await re.from("time_periods").delete().eq("job_id",j);if(P)throw P;const{error:B}=await re.from("jobs").delete().eq("id",j);if(B)throw B},onSuccess:async()=>{await S.invalidateQueries({queryKey:["company"]}),await S.invalidateQueries({queryKey:["jobs-detail"]}),l(!1),b("Job deleted","The job and all related data have been deleted."),t==null||t()},onError:j=>{w("Failed to delete job",(j==null?void 0:j.message)||"Please try again.")}}),N=bt({mutationFn:async({jobId:j,archived:D})=>{const{error:P}=await re.from("jobs").update({archived:D}).eq("id",j);if(P)throw P;return D},onSuccess:async j=>{await S.invalidateQueries({queryKey:["company"]}),await S.invalidateQueries({queryKey:["jobs-index"]}),await S.invalidateQueries({queryKey:["jobs-detail"]}),u(!1),b("Job updated",j?"Job has been archived.":"Job has been unarchived.")},onError:j=>{w("Failed to update job",(j==null?void 0:j.message)||"Please try again.")}});if(!e)return s.jsx(L,{color:"gray",children:"Select a job to see details."});if(E||!R)return s.jsx(L,{children:"Loading"});const O=R;return s.jsxs(X,{children:[s.jsxs(X,{mb:"3",style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsxs($,{align:"center",gap:"3",children:[s.jsx(He,{size:"4",children:O.title}),O.jobnr&&s.jsxs(L,{size:"3",color:"gray",weight:"medium",children:["#",String(O.jobnr).padStart(6,"0")]})]}),s.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[(()=>{const j=apt(O.status,i);return s.jsx(mt,{color:KO(j),radius:"full",highContrast:!0,children:Qs(j)})})(),i!=="freelancer"&&s.jsxs(s.Fragment,{children:[s.jsx(pe,{size:"2",variant:"soft",onClick:()=>a(!0),children:s.jsx(gi,{width:16,height:16})}),s.jsx(pe,{size:"2",variant:"soft",color:"red",onClick:()=>l(!0),children:s.jsx(vi,{width:16,height:16})}),s.jsx(ju,{content:O.archived?"Unarchive job":"Archive job",children:s.jsx(pe,{size:"2",variant:"soft",color:O.archived?"blue":"gray",onClick:()=>u(!0),disabled:N.isPending,children:s.jsx(a6,{width:16,height:16})})}),s.jsx(lue,{open:r,onOpenChange:a,companyId:O.company_id,mode:"edit",initialData:O}),s.jsx(spt,{open:o,onOpenChange:l,job:O,onConfirm:()=>_.mutate(O.id),isDeleting:_.isPending}),s.jsx(opt,{open:c,onOpenChange:u,job:O,onConfirm:()=>N.mutate({jobId:O.id,archived:!O.archived}),isArchiving:N.isPending})]})]})]}),s.jsxs(Ud,{defaultValue:"overview",value:m,onValueChange:j=>{m==="files"&&j!=="files"&&v.current?v.current.checkUnsavedChanges(()=>{p(j)}):p(j)},children:[s.jsxs(Vd,{wrap:"wrap",mb:"2",children:[s.jsx(ii,{value:"overview",children:"Overview"}),s.jsx(ii,{value:"timeline",children:"Time Periods"}),s.jsx(ii,{value:"program",children:"Program"}),s.jsx(ii,{value:"calendar",children:"Calendar"}),s.jsx(ii,{value:"bookings",children:"Bookings"}),s.jsx(ii,{value:"offers",children:"Offers"}),s.jsx(ii,{value:"invoice",children:"Invoice"}),s.jsx(ii,{value:"money",children:"Money"}),s.jsx(ii,{value:"todo",children:"To Do"}),s.jsx(ii,{value:"contacts",children:"Contacts"}),s.jsx(ii,{value:"files",children:"Files"})]}),s.jsx(ri,{value:"overview",mt:"10px",children:s.jsx(qGe,{job:O})}),s.jsx(ri,{value:"timeline",mt:"10px",children:s.jsx(IHe,{jobId:O.id})}),s.jsx(ri,{value:"program",mt:"10px",children:s.jsx(KHe,{jobId:O.id})}),s.jsx(ri,{value:"calendar",mt:"10px",children:s.jsx(zHe,{jobId:O.id})}),s.jsx(ri,{value:"bookings",mt:"10px",children:s.jsx(MHe,{jobId:O.id})}),s.jsx(ri,{value:"offers",mt:"10px",children:s.jsx(fJe,{jobId:O.id,companyId:O.company_id})}),s.jsx(ri,{value:"invoice",mt:"10px",children:s.jsx(xJe,{jobId:O.id,job:O})}),s.jsx(ri,{value:"money",mt:"10px",children:s.jsx(ipt,{jobId:O.id})}),s.jsx(ri,{value:"todo",mt:"10px",children:s.jsx(rpt,{jobId:O.id,job:O})}),s.jsx(ri,{value:"contacts",mt:"10px",children:s.jsx(BHe,{jobId:O.id,companyId:O.company_id})}),s.jsx(ri,{value:"files",mt:"10px",children:s.jsx(ade,{ref:v,job:O})})]})]})}function spt({open:e,onOpenChange:t,job:n,onConfirm:i,isDeleting:r}){return s.jsx(rn,{open:e,onOpenChange:t,children:s.jsxs(an,{maxWidth:"500px",children:[s.jsxs(cn,{children:["Delete Job: ",n.title,"?"]}),s.jsx(st,{my:"3"}),s.jsxs($,{direction:"column",gap:"3",children:[s.jsx(L,{size:"2",color:"red",weight:"bold",children:" This action cannot be undone!"}),s.jsx(L,{size:"2",children:"Deleting this job will permanently remove:"}),s.jsx(X,{p:"3",style:{background:"var(--red-a2)",border:"1px solid var(--red-a5)",borderRadius:"8px"},children:s.jsxs($,{direction:"column",gap:"2",children:[s.jsx(L,{size:"2",children:" All time periods"}),s.jsx(L,{size:"2",children:" All booked equipment (internal & external)"}),s.jsx(L,{size:"2",children:" All crew assignments"}),s.jsx(L,{size:"2",children:" All vehicle bookings"}),s.jsx(L,{size:"2",children:" All job contacts and related data"})]})}),s.jsx(L,{size:"2",color:"gray",children:"Job details:"}),s.jsx(X,{p:"2",style:{background:"var(--gray-a2)",borderRadius:"6px",fontSize:"13px"},children:s.jsxs($,{direction:"column",gap:"1",children:[s.jsxs(L,{size:"1",children:[s.jsx("strong",{children:"Title:"})," ",n.title]}),s.jsxs(L,{size:"1",children:[s.jsx("strong",{children:"Status:"})," ",Qs(n.status)]}),n.customer&&s.jsxs(L,{size:"1",children:[s.jsx("strong",{children:"Customer:"})," ",n.customer.name]})]})})]}),s.jsxs($,{gap:"3",mt:"4",justify:"end",children:[s.jsx(pe,{variant:"soft",onClick:()=>t(!1),disabled:r,children:"Cancel"}),s.jsx(pe,{color:"red",onClick:i,disabled:r,children:r?"Deleting...":"Delete Job"})]})]})})}function opt({open:e,onOpenChange:t,job:n,onConfirm:i,isArchiving:r}){const a=n.archived?"unarchive":"archive",o=n.archived?`Unarchive Job: ${n.title}?`:`Archive Job: ${n.title}?`;return s.jsx(rn,{open:e,onOpenChange:t,children:s.jsxs(an,{maxWidth:"500px",children:[s.jsx(cn,{children:o}),s.jsx(st,{my:"3"}),s.jsxs($,{direction:"column",gap:"3",children:[s.jsxs(L,{size:"2",children:["Are you sure you want to ",a," this job?"]}),s.jsx(L,{size:"2",color:"gray",children:n.archived?"Unarchiving will make this job visible in the jobs list again.":'Archiving will hide this job from the default jobs list, but it can be viewed by enabling "Show archived" in the filter.'}),s.jsx(L,{size:"2",color:"gray",children:"Job details:"}),s.jsx(X,{p:"2",style:{background:"var(--gray-a2)",borderRadius:"6px",fontSize:"13px"},children:s.jsxs($,{direction:"column",gap:"1",children:[s.jsxs(L,{size:"1",children:[s.jsx("strong",{children:"Title:"})," ",n.title]}),s.jsxs(L,{size:"1",children:[s.jsx("strong",{children:"Status:"})," ",Qs(n.status)]}),n.customer&&s.jsxs(L,{size:"1",children:[s.jsx("strong",{children:"Customer:"})," ",n.customer.name]})]})})]}),s.jsxs($,{gap:"3",mt:"4",justify:"end",children:[s.jsx(pe,{variant:"soft",onClick:()=>t(!1),disabled:r,children:"Cancel"}),s.jsx(pe,{onClick:i,disabled:r,children:r?`${a.charAt(0).toUpperCase()+a.slice(1)}ing...`:`${a.charAt(0).toUpperCase()+a.slice(1)} Job`})]})]})})}function lpt(){const{companyId:e}=En(),n=FN().search,i=n==null?void 0:n.jobId,r=n==null?void 0:n.tab,a=g.useMemo(()=>{if(!e)return null;const K=UO({companyId:e});return{...K,queryFn:async()=>{const te=new Date().toISOString();console.log("[JobsPage] Fetching company expansion",{companyId:e,timestamp:te,queryKey:K.queryKey});try{const q=await K.queryFn();return console.log("[JobsPage] Fetched company expansion result",{companyId:e,timestamp:new Date().toISOString(),result:q}),q}catch(q){throw console.error("[JobsPage] Company expansion fetch failed",{companyId:e,timestamp:new Date().toISOString(),error:q}),q}}}},[e]),{data:o,status:l,error:c,isFetching:u,isLoading:d,isError:h}=et({...a??{queryKey:["company-expansion","no-company"],queryFn:async()=>null},enabled:!!e});g.useEffect(()=>{console.log("[JobsPage] companyId updated",{companyId:e,timestamp:new Date().toISOString()})},[e]),g.useEffect(()=>{console.log("[JobsPage] Company expansion query status changed",{status:l,isLoading:d,isFetching:u,isError:h,error:c??null,timestamp:new Date().toISOString()})},[l,d,u,h,c]),g.useEffect(()=>{o&&console.log("[JobsPage] Vehicle/Transport Rates fetched",{vehicle_daily_rate:o.vehicle_daily_rate,vehicle_distance_rate:o.vehicle_distance_rate,vehicle_distance_increment:o.vehicle_distance_increment,raw:o,timestamp:new Date().toISOString()})},[o]);const[m,p]=g.useState(i||null);g.useEffect(()=>{i&&p(i)},[i]);const[v,S]=g.useState(()=>typeof window<"u"?window.matchMedia("(min-width: 1024px)").matches:!1);g.useEffect(()=>{const K=window.matchMedia("(min-width: 1024px)"),te=q=>S(q.matches);try{return K.addEventListener("change",te),()=>K.removeEventListener("change",te)}catch{return K.addListener(te),()=>K.removeListener(te)}},[]);const[b,w]=g.useState(45),[R,E]=g.useState(!1),[_,N]=g.useState(45),[O,j]=g.useState(!1),[D,P]=g.useState(!1),B=g.useRef(null),M=g.useCallback(()=>{R?(w(_||45),E(!1)):(N(b),E(!0))},[R,_,b]),z=g.useCallback(()=>{R&&(w(_||45),E(!1))},[R,_]),U=g.useCallback(K=>{!D&&!R&&(w(K),N(K))},[D,R]);return g.useEffect(()=>{if(!O)return;const K=q=>{if(!B.current)return;const V=B.current.getBoundingClientRect(),Q=V.width,ce=q.clientX-V.left,H=Math.max(15,Math.min(75,ce/Q*100));w(H),N(H),P(!0),R&&H>35&&E(!1)},te=()=>{j(!1),document.body.style.cursor="",document.body.style.userSelect=""};return document.body.style.cursor="col-resize",document.body.style.userSelect="none",document.addEventListener("mousemove",K),document.addEventListener("mouseup",te),()=>{document.removeEventListener("mousemove",K),document.removeEventListener("mouseup",te),document.body.style.cursor="",document.body.style.userSelect=""}},[O]),e?v?s.jsx("section",{style:{height:v?"100%":void 0,minHeight:0},children:s.jsxs($,{ref:B,gap:"2",align:"stretch",style:{height:v?"100%":void 0,minHeight:0,position:"relative"},children:[s.jsx(Rt,{size:"3",style:{display:"flex",flexDirection:"column",width:R?"60px":`${b}%`,height:v?"100%":void 0,minWidth:R?"60px":"300px",maxWidth:R?"60px":"75%",minHeight:0,flexShrink:0,transition:O?"none":"width 0.2s ease-out",position:"relative",overflow:"hidden"},children:R?s.jsxs(X,{onClick:z,onMouseEnter:K=>{const te=K.currentTarget.querySelector("[data-glowing-bar]");te&&(te.style.width="24px")},onMouseLeave:K=>{const te=K.currentTarget.querySelector("[data-glowing-bar]");te&&(te.style.width="12px")},style:{position:"absolute",top:0,left:0,right:0,bottom:0,cursor:"pointer",zIndex:1},children:[s.jsx(X,{"data-glowing-bar":!0,style:{position:"absolute",left:"50%",top:"20px",bottom:"20px",transform:"translateX(-50%)",width:"12px",borderRadius:"4px",background:"linear-gradient(180deg, var(--accent-9), var(--accent-6))",pointerEvents:"none",zIndex:5,transition:"all 0.2s ease-out",animation:"glow-pulse 5s ease-in-out infinite"}}),s.jsx("style",{children:`
                @keyframes glow-pulse {
                  0%, 100% {
                    box-shadow: 0 0 8px var(--accent-a5), 0 0 12px var(--accent-a4);
                  }
                  50% {
                    box-shadow: 0 0 12px var(--accent-a6), 0 0 18px var(--accent-a5);
                  }
                }
              `})]}):s.jsxs(s.Fragment,{children:[s.jsxs($,{align:"center",justify:"between",mb:"3",children:[s.jsx(He,{size:"5",children:"Jobs"}),s.jsx(ju,{content:"Collapse sidebar",children:s.jsx(Mn,{size:"3",variant:"ghost",onClick:M,style:{flexShrink:0},children:s.jsx(r4e,{width:22,height:22})})})]}),s.jsx(st,{size:"4",mb:"3"}),s.jsx(X,{style:{flex:v?1:void 0,minHeight:v?0:void 0,overflowY:v?"auto":"visible"},children:s.jsx(HG,{selectedId:m,onSelect:p,onWidthChange:v?U:void 0})})]})}),!R&&s.jsx(X,{className:"section-resizer",onMouseDown:K=>{K.preventDefault(),K.stopPropagation(),j(!0)},style:{width:"6px",height:"20%",cursor:"col-resize",backgroundColor:"var(--gray-a4)",borderRadius:"4px",flexShrink:0,alignSelf:"center",userSelect:"none",margin:"0 -4px",zIndex:10,transition:O?"none":"background-color 0.2s"},onMouseEnter:K=>{O||(K.currentTarget.style.backgroundColor="var(--gray-a6)",K.currentTarget.style.cursor="col-resize")},onMouseLeave:K=>{O||(K.currentTarget.style.backgroundColor="var(--gray-a4)")}}),s.jsxs(Rt,{size:"3",style:{display:"flex",flexDirection:"column",flex:1,height:v?"100%":void 0,maxHeight:v?"100%":void 0,overflow:v?"hidden":"visible",minWidth:"300px",minHeight:0,transition:O?"none":"flex-basis 0.1s ease-out"},children:[s.jsx(He,{size:"5",mb:"3",children:"Inspector"}),s.jsx(st,{size:"4",mb:"3"}),s.jsx(X,{style:{flex:v?1:void 0,minHeight:v?0:void 0,overflowY:v?"auto":"visible"},children:s.jsx(pX,{id:m,onDeleted:()=>p(null),initialTab:r})})]})]})}):s.jsx("section",{style:{height:v?"100%":void 0,minHeight:0},children:s.jsxs(Zn,{columns:"1fr",gap:"4",align:"stretch",style:{height:v?"100%":void 0,minHeight:0},children:[s.jsxs(Rt,{size:"3",style:{display:"flex",flexDirection:"column",height:v?"100%":void 0,minHeight:0},children:[s.jsx(He,{size:"5",mb:"3",children:"Jobs"}),s.jsx(st,{size:"4",mb:"3"}),s.jsx(X,{style:{flex:v?1:void 0,minHeight:v?0:void 0,overflowY:v?"auto":"visible"},children:s.jsx(HG,{selectedId:m,onSelect:p,onWidthChange:v?U:void 0})})]}),s.jsxs(Rt,{size:"3",style:{display:"flex",flexDirection:"column",height:v?"100%":void 0,maxHeight:v?"100%":void 0,overflow:v?"hidden":"visible",minHeight:0},children:[s.jsx(He,{size:"5",mb:"3",children:"Inspector"}),s.jsx(st,{size:"4",mb:"3"}),s.jsx(X,{style:{flex:v?1:void 0,minHeight:v?0:void 0,overflowY:v?"auto":"visible"},children:s.jsx(pX,{id:m,onDeleted:()=>p(null),initialTab:r})})]})]})}):s.jsx(VO,{columns:"2fr 3fr"})}function ege({open:e,onOpenChange:t,onAdded:n}){const{companyId:i}=En(),{success:r,info:a,error:o}=Jt(),[l,c]=g.useState(""),u=l.trim().toLowerCase(),d=!!i&&!!u&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u),h=bt({mutationFn:async()=>{if(!i)throw new Error("No company selected");return await Qce({companyId:i,email:u,role:"freelancer"})},onSuccess:p=>{p.type==="added"?a("Freelancer added","They already had an account and were added to your company."):p.type==="invited"?a("Invite created","They will be added automatically when they sign up."):p.type==="already_invited"?a("Already invited",`An invite already exists by ${p.by}.`):a("Already a member","This user is already in your crew."),c(""),t(!1),n==null||n()},onError:p=>{o("Failed",(p==null?void 0:p.message)??"Please try again.")}});function m(p){p.preventDefault(),!(!d||h.isPending)&&h.mutate()}return s.jsx(rn,{open:e,onOpenChange:t,children:s.jsxs(an,{maxWidth:"460px",children:[s.jsx(cn,{children:"Add freelancer"}),s.jsx(vr,{size:"2",children:"Enter the persons email. If they already have an account, theyll be added immediately. Otherwise, theyll appear as a pending invite (expires in 30 days)."}),s.jsxs("form",{onSubmit:m,children:[s.jsx($,{direction:"column",gap:"3",mt:"3",children:s.jsxs("label",{children:[s.jsx(L,{size:"2",children:"Email"}),s.jsx(qe,{type:"email",required:!0,placeholder:"freelancer@example.com",value:l,onChange:p=>c(p.target.value),autoFocus:!0})]})}),s.jsxs($,{gap:"3",justify:"end",mt:"4",children:[s.jsx(Dn,{children:s.jsx(pe,{type:"button",variant:"soft",disabled:h.isPending,children:"Cancel"})}),s.jsx(pe,{type:"submit",disabled:!d||h.isPending,children:h.isPending?"Saving":"Add"})]})]})]})})}function mX({selectedUserId:e,onSelect:t,showEmployees:n,showFreelancers:i,showMyPending:r}){const{companyId:a}=En(),o=Yt(),[l,c]=g.useState(""),[u,d]=g.useState(null),[h,m]=g.useState("asc"),[p,v]=g.useState(1),[S,b]=g.useState(10),{success:w}=Jt(),R=g.useRef(null),E=g.useRef(null),_=g.useRef(null),N=g.useRef(null),{data:O=[],isLoading:j}=et({...oh({companyId:a,kind:"employee"}),enabled:!!a&&n}),{data:D=[],isLoading:P}=et({...oh({companyId:a,kind:"freelancer"}),enabled:!!a&&i}),{data:B=[],isLoading:M}=et({...oh({companyId:a,kind:"owner"}),enabled:!!a&&!0}),{data:z=[],isLoading:U}=et({...Jce({companyId:a}),enabled:!!a&&r}),K=g.useMemo(()=>{const Y=[];n&&O.forEach(J=>Y.push({kind:"employee",id:J.user_id,title:J.display_name??J.email,subtitle:`${J.email}  employee`,email:J.email})),i&&D.forEach(J=>Y.push({kind:"freelancer",id:J.user_id,title:J.display_name??J.email,subtitle:`${J.email}  freelancer`,email:J.email})),B.forEach(J=>Y.push({kind:"owner",id:J.user_id,title:J.display_name??J.email,subtitle:`${J.email}  owner`,email:J.email})),r&&z.forEach(J=>Y.push({kind:"invite",id:`invite:${J.id}`,title:J.email,subtitle:`${J.role}  expires ${new Date(J.expires_at).toLocaleDateString()}`,role:J.role,email:J.email}));const ne=(l.trim()?Q2(Y,l,[J=>J.title,J=>J.subtitle??"",J=>J.email??""],.3):Y).slice();if(u)ne.sort((J,ee)=>{let se=0;if(u==="name")se=J.title.localeCompare(ee.title);else if(u==="email")se=J.email.localeCompare(ee.email);else{const de={invite:0,owner:1,employee:2,freelancer:3};se=de[J.kind]-de[ee.kind],se===0&&(se=J.title.localeCompare(ee.title))}return h==="asc"?se:-se});else{const J={invite:0,owner:1,employee:2,freelancer:3};ne.sort((ee,se)=>{const de=J[ee.kind]-J[se.kind];return de!==0?de:ee.title.localeCompare(se.title)})}return ne},[O,D,B,z,n,i,r,l,u,h]),te=g.useCallback(()=>{var le,ue,De,Le;if(!R.current)return;const ie=R.current.getBoundingClientRect().height;if(ie===0)return;const ne=((le=E.current)==null?void 0:le.offsetHeight)??0,J=((ue=_.current)==null?void 0:ue.offsetHeight)??0,ee=((De=N.current)==null?void 0:De.offsetHeight)??0,de=Math.max(0,ie-ne-J-ee-40);if(de<100){b(5);return}const he=(Le=R.current)==null?void 0:Le.querySelector("tbody tr:not([data-row-probe])"),me=(he==null?void 0:he.getBoundingClientRect().height)||60,we=Math.max(5,Math.min(50,Math.floor(de/me)+1));b(we)},[]);g.useEffect(()=>{if(!R.current)return;const Y=()=>te();window.addEventListener("resize",Y);const ie=new ResizeObserver(()=>{te()});ie.observe(R.current);const ne=setTimeout(()=>{te()},0),J=requestAnimationFrame(()=>{te()});return()=>{window.removeEventListener("resize",Y),ie.disconnect(),clearTimeout(ne),cancelAnimationFrame(J)}},[te]),g.useEffect(()=>{!j&&!P&&!U&&!M&&K.length>0&&requestAnimationFrame(()=>{te()})},[j,P,U,M,K.length,te]),g.useEffect(()=>{v(1)},[l,u,h,n,i,r]);const q=Math.ceil(K.length/S),V=(p-1)*S,Q=V+S,ce=K.slice(V,Q),ae=Y=>{u===Y?m(h==="asc"?"desc":"asc"):(d(Y),m("asc"))},[G,H]=g.useState(!1),T=bt({mutationFn:Y=>Xce({inviteId:Y}),onSuccess:()=>{o.invalidateQueries({queryKey:["company",a,"pending-invites"]}),w("Success","Invite successfully deleted")}});return s.jsxs(X,{ref:R,style:{height:"100%",display:"flex",flexDirection:"column"},children:[s.jsx("div",{ref:E,children:s.jsxs($,{gap:"2",align:"center",wrap:"wrap",children:[s.jsxs(qe,{value:l,onChange:Y=>c(Y.target.value),placeholder:"Search crew",size:"3",style:{flex:"1 1 260px"},children:[s.jsx(Sr,{side:"left",children:s.jsx(qu,{})}),s.jsx(Sr,{side:"right",children:(j||P||U||M)&&s.jsxs($,{align:"center",gap:"1",children:[s.jsx(L,{children:"Thinking"}),s.jsx(Ei,{size:"2"})]})})]}),s.jsx(pe,{variant:"classic",onClick:()=>H(!0),children:"Add freelancer"}),s.jsx(ege,{open:G,onOpenChange:H,onAdded:()=>{o.invalidateQueries({queryKey:["company",a,"crew-index","freelancer"]}),o.invalidateQueries({queryKey:["company",a,"pending-invites"]})}})]})}),s.jsx(X,{style:{flex:1,minHeight:0},children:s.jsxs(Hn,{variant:"surface",style:{marginTop:16},children:[s.jsx(Qn,{ref:_,children:s.jsxs(ht,{children:[s.jsx(ze,{style:{cursor:"pointer",userSelect:"none"},onClick:()=>ae("name"),children:s.jsxs($,{align:"center",gap:"1",children:[s.jsx(L,{children:"Name / Email"}),u==="name"&&(h==="asc"?s.jsx(Eu,{width:12,height:12}):s.jsx(Ml,{width:12,height:12}))]})}),s.jsx(ze,{style:{cursor:"pointer",userSelect:"none"},onClick:()=>ae("status"),children:s.jsxs($,{align:"center",gap:"1",children:[s.jsx(L,{children:"Status"}),u==="status"&&(h==="asc"?s.jsx(Eu,{width:12,height:12}):s.jsx(Ml,{width:12,height:12}))]})}),s.jsx(ze,{style:{width:120,textAlign:"right"}})]})}),s.jsxs(qn,{children:[ce.length===0?s.jsx(ht,{children:s.jsx(Oe,{colSpan:3,children:"No results"})}):ce.map(Y=>{const ie=Y.kind!=="invite"&&Y.id===e;return s.jsxs(ht,{onClick:()=>Y.kind!=="invite"&&t(Y.id),style:{cursor:Y.kind!=="invite"?"pointer":"default",background:ie?"var(--accent-a3)":void 0},"data-state":ie?"active":void 0,children:[s.jsxs(Oe,{children:[s.jsx(L,{size:"2",weight:"medium",children:Y.title}),Y.subtitle&&s.jsx(L,{as:"div",size:"1",color:"gray",children:Y.subtitle})]}),s.jsx(Oe,{style:{verticalAlign:"middle"},children:Y.kind==="invite"?s.jsx(mt,{variant:"soft",color:"amber",children:"Pending invite"}):s.jsx(mt,{variant:"soft",color:Y.kind==="owner"?"purple":Y.kind==="employee"?"blue":"green",children:Y.kind})}),s.jsx(Oe,{style:{textAlign:"right"},children:Y.kind==="invite"&&s.jsx(pe,{variant:"soft",color:"red",onClick:ne=>{ne.stopPropagation();const J=Y.id.replace("invite:","");T.mutate(J)},disabled:T.isPending,children:s.jsx(vi,{width:14,height:14})})})]},Y.id)}),s.jsx(ht,{"data-row-probe":!0,style:{display:"none"},children:s.jsx(Oe,{colSpan:3,children:"probe"})})]})]})}),K.length>0&&s.jsx("div",{ref:N,children:s.jsxs($,{align:"center",justify:"between",mt:"3",children:[s.jsxs(L,{size:"2",color:"gray",children:["Showing ",V+1,"-",Math.min(Q,K.length)," of"," ",K.length," crew members"]}),s.jsxs($,{gap:"2",children:[s.jsx(pe,{disabled:p===1,onClick:()=>v(Y=>Y-1),variant:"classic",size:"2",children:"Prev"}),s.jsx(pe,{disabled:p>=q,onClick:()=>v(Y=>Y+1),variant:"classic",size:"2",children:"Next"})]})]})})]})}function cpt({open:e,onOpenChange:t,onChanged:n,userName:i,userEmail:r,currentRole:a,newRole:o,userId:l}){const{companyId:c}=En(),u=Yt(),{success:d,error:h}=Jt(),m=bt({mutationFn:async()=>{if(!c)throw new Error("No company selected");return await UFe({companyId:c,userId:l,role:o})},onSuccess:()=>{u.invalidateQueries({predicate:v=>Array.isArray(v.queryKey)&&v.queryKey[0]==="company"&&v.queryKey[1]===c&&v.queryKey[2]==="crew-index"}),d("Updated","Permissions updated"),t(!1),n==null||n()},onError:v=>{h("Failed to update",(v==null?void 0:v.hint)||(v==null?void 0:v.message)||"Please try again.")}}),p=v=>v.charAt(0).toUpperCase()+v.slice(1);return s.jsx(rn,{open:e,onOpenChange:t,children:s.jsxs(an,{maxWidth:"460px",children:[s.jsx(cn,{children:"Change role"}),s.jsxs(vr,{size:"2",children:["Are you sure you want to change"," ",s.jsx(L,{weight:"medium",children:i}),"'s (",r,") role from"," ",s.jsx(L,{weight:"medium",children:p(a)})," to"," ",s.jsx(L,{weight:"medium",children:p(o)}),"?"]}),s.jsxs($,{direction:"column",gap:"2",mt:"4",p:"3",style:{backgroundColor:"var(--amber-3)",borderRadius:"var(--radius-2)"},children:[s.jsx(L,{size:"2",weight:"medium",style:{color:"var(--amber-11)"},children:" Warning"}),s.jsx(L,{size:"2",style:{color:"var(--amber-11)"},children:"This action will:"}),s.jsx(L,{size:"2",style:{color:"var(--amber-11)"},children:" Change their permissions and access level"}),s.jsx(L,{size:"2",style:{color:"var(--amber-11)"},children:" Affect what features they can use"}),s.jsx(L,{size:"2",style:{color:"var(--amber-11)"},children:" Update their role across the entire company"})]}),s.jsxs($,{gap:"3",justify:"end",mt:"4",children:[s.jsx(Dn,{children:s.jsx(pe,{type:"button",variant:"soft",disabled:m.isPending,children:"Cancel"})}),s.jsx(pe,{type:"button",variant:"solid",color:"amber",disabled:m.isPending,onClick:()=>m.mutate(),children:m.isPending?"Updating":"Change Role"})]})]})})}function _N({userId:e}){var z,U,K,te,q,V,Q,ce,ae;const{companyId:t}=En(),n=Yt(),{success:i,error:r}=Jt();zr();const[a,o]=g.useState(!1),[l,c]=g.useState(null),[u,d]=g.useState(!1),[h,m]=g.useState(null),[p,v]=g.useState(""),{data:S,isLoading:b,isError:w,error:R}=et({...t&&e?OFe({companyId:t,userId:e}):{queryKey:["company","none","crew-detail","none"],queryFn:async()=>null},enabled:!!t&&!!e}),{data:E=[]}=et({...t&&(S==null?void 0:S.role)==="owner"?oh({companyId:t,kind:"owner"}):{queryKey:["crew-index","none"],queryFn:async()=>[]},enabled:!!t&&!!S&&S.role==="owner"}),_=(S==null?void 0:S.role)==="owner"&&E.length<=1,{data:N=[]}=et({...vFe({companyId:t??"",userId:e??""}),enabled:!!t&&!!e}),O=g.useMemo(()=>FO(N),[N]),{data:j}=et({queryKey:["company",t,"general-rates"],enabled:!!t&&!!S&&(S.role==="employee"||S.role==="owner"),queryFn:async()=>{if(!t)return null;const{data:G,error:H}=await re.from("companies").select("employee_daily_rate, employee_hourly_rate, owner_daily_rate, owner_hourly_rate").eq("id",t).single();if(H)throw H;return G}});g.useEffect(()=>{var G;S&&(m(S.rate_type),v(((G=S.rate)==null?void 0:G.toString())??""))},[S]);const D=bt({mutationFn:async()=>{if(!t||!e)throw new Error("Missing company or user ID");const G=p.trim()===""?null:parseFloat(p);if(G!==null&&(isNaN(G)||G<0))throw new Error("Rate must be a positive number");await jFe({companyId:t,userId:e,rateType:h,rate:G})},onSuccess:()=>{i("Success","Rate updated successfully"),d(!1),n.invalidateQueries({queryKey:["company",t,"crew-detail",e]})},onError:G=>{r("Failed to update rate",(G==null?void 0:G.message)??"Please try again.")}}),P=g.useMemo(()=>{if(!(S!=null&&S.avatar_url))return null;const{data:G}=re.storage.from("avatars").getPublicUrl(S.avatar_url);return G.publicUrl},[S==null?void 0:S.avatar_url]);if(!e)return s.jsx(L,{color:"gray",children:"Select a crew member to view details."});if(b)return s.jsxs($,{align:"center",gap:"1",children:[s.jsx(L,{children:"Thinking"}),s.jsx(Ei,{size:"2"})]});if(w)return s.jsxs(L,{color:"red",children:["Failed to load."," ",s.jsx(Ou,{children:(R==null?void 0:R.message)||"Unknown error"})]});if(!S)return s.jsx(L,{color:"gray",children:"Not found."});const B=S.display_name||[S.first_name,S.last_name].filter(Boolean).join(" ")||null,M=S.role==="owner"?"purple":S.role==="employee"?"blue":S.role==="super_user"?"amber":"green";return s.jsxs(X,{children:[s.jsxs($,{align:"center",justify:"between",gap:"3",mb:"3",wrap:"wrap",children:[s.jsxs($,{align:"center",gap:"3",children:[s.jsx(Xr,{size:"5",radius:"full",src:P??void 0,fallback:Rh(B??S.email),style:{border:"1px solid var(--gray-5)"}}),s.jsxs("div",{children:[s.jsx(L,{as:"div",size:"4",weight:"bold",children:B??S.email}),s.jsx(L,{as:"div",color:"gray",size:"2",children:s.jsx("a",{href:`mailto:${S.email}`,style:{color:"inherit"},children:S.email})})]})]}),s.jsxs($,{align:"center",gap:"2",children:[s.jsx(mt,{variant:"soft",color:M,children:S.role}),S.role!=="super_user"&&s.jsxs(Yg,{children:[s.jsx(Jg,{children:s.jsx(o6,{style:{color:"var(--gray-9)",cursor:"pointer"}})}),s.jsxs(Qg,{align:"start",side:"bottom",children:[s.jsx(ag,{children:"Set role"}),s.jsx(Qr,{disabled:S.role==="owner"||_,onSelect:G=>{G.preventDefault(),c({userId:S.user_id,userName:B||S.email,userEmail:S.email,currentRole:S.role,newRole:"freelancer"}),o(!0)},children:"Freelancer"}),s.jsx(Qr,{disabled:S.role==="employee",onSelect:G=>{G.preventDefault(),c({userId:S.user_id,userName:B||S.email,userEmail:S.email,currentRole:S.role,newRole:"employee"}),o(!0)},children:"Employee"}),s.jsx(Ag,{}),s.jsx(Qr,{disabled:S.role==="owner",onSelect:G=>{G.preventDefault(),c({userId:S.user_id,userName:B||S.email,userEmail:S.email,currentRole:S.role,newRole:"owner"}),o(!0)},children:"Owner"}),_&&s.jsxs(s.Fragment,{children:[s.jsx(Ag,{}),s.jsx(Qr,{disabled:!0,children:"Can't demote last owner"})]})]})]})]})]}),s.jsx(cpt,{open:a,onOpenChange:o,onChanged:()=>{n.invalidateQueries({queryKey:["company",t,"crew-detail",e]}),n.invalidateQueries({predicate:G=>Array.isArray(G.queryKey)&&G.queryKey[0]==="company"&&G.queryKey[1]===t&&G.queryKey[2]==="crew-index"})},userName:(l==null?void 0:l.userName)??"",userEmail:(l==null?void 0:l.userEmail)??"",currentRole:(l==null?void 0:l.currentRole)??"employee",newRole:(l==null?void 0:l.newRole)??"employee",userId:(l==null?void 0:l.userId)??""}),s.jsx(st,{my:"2"}),s.jsxs(wb,{children:[s.jsx(oa,{children:"Joined"}),s.jsx(la,{children:CT(S.created_at)}),s.jsx(oa,{children:"Phone"}),s.jsx(la,{children:S.phone?s.jsx("a",{href:`tel:${S.phone}`,style:{color:"inherit"},children:Ta(S.phone)}):""}),s.jsx(oa,{children:"First name"}),s.jsx(la,{children:S.first_name||""}),s.jsx(oa,{children:"Last name"}),s.jsx(la,{children:S.last_name||""}),s.jsx(oa,{children:"Display name"}),s.jsx(la,{children:S.display_name||""})]}),s.jsx(st,{my:"2"}),(S.role==="employee"||S.role==="freelancer"||S.role==="owner")&&s.jsxs(s.Fragment,{children:[s.jsx(N_,{children:"Billing Rate"}),S.role==="freelancer"&&!u?s.jsxs(X,{mb:"3",children:[s.jsxs(wb,{children:[s.jsx(oa,{children:"Rate type"}),s.jsx(la,{children:S.rate_type?S.rate_type:""}),s.jsx(oa,{children:"Rate"}),s.jsx(la,{children:S.rate!==null?`${S.rate.toFixed(2)} kr ${S.rate_type==="daily"?"per day":"per hour"}`:""}),S.rate_updated_at&&s.jsxs(s.Fragment,{children:[s.jsx(oa,{children:"Last updated"}),s.jsx(la,{children:s.jsx(L,{size:"1",color:"gray",children:CT(S.rate_updated_at)})})]})]}),s.jsxs(pe,{size:"2",variant:"soft",onClick:()=>d(!0),style:{marginTop:8},children:[s.jsx(o6,{width:14,height:14}),"Edit rate"]})]}):S.role==="freelancer"&&u?s.jsx(X,{mb:"3",children:s.jsxs($,{direction:"column",gap:"3",children:[s.jsxs($,{align:"end",gap:"3",wrap:"wrap",children:[s.jsxs(X,{style:{flex:1,minWidth:150},children:[s.jsx(L,{as:"label",size:"2",weight:"medium",mb:"1",style:{display:"block"},children:"Rate type"}),s.jsxs(Vn,{value:h??"none",onValueChange:G=>m(G==="none"?null:G),children:[s.jsx(Kn,{placeholder:"Select rate type"}),s.jsxs(Gn,{children:[s.jsx(wt,{value:"none",children:"None"}),s.jsx(wt,{value:"daily",children:"Daily"}),s.jsx(wt,{value:"hourly",children:"Hourly"})]})]})]}),s.jsxs(X,{style:{flex:"0 0 auto",minWidth:120},children:[s.jsx(L,{as:"label",size:"2",weight:"medium",mb:"1",style:{display:"block"},children:"Rate amount"}),s.jsxs($,{align:"center",gap:"2",children:[s.jsx(qe,{type:"number",value:p,onChange:G=>v(G.target.value),placeholder:"0.00",min:"0",step:"0.01",style:{width:100}}),s.jsx(L,{size:"2",color:"gray",children:"kr"})]})]})]}),s.jsxs($,{gap:"2",children:[s.jsx(pe,{size:"2",variant:"solid",onClick:()=>D.mutate(),disabled:D.isPending,children:D.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Ei,{size:"2"})," Saving..."]}):"Save"}),s.jsx(pe,{size:"2",variant:"soft",onClick:()=>{var G;d(!1),m(S.rate_type),v(((G=S.rate)==null?void 0:G.toString())??"")},disabled:D.isPending,children:"Cancel"})]})]})}):s.jsx(X,{mb:"3",children:s.jsxs(wb,{children:[S.role==="employee"&&s.jsxs(s.Fragment,{children:[s.jsx(oa,{children:"Daily rate"}),s.jsx(la,{children:j!=null&&j.employee_daily_rate?`${Number(j.employee_daily_rate).toFixed(2)} kr per day`:""}),s.jsx(oa,{children:"Hourly rate"}),s.jsx(la,{children:j!=null&&j.employee_hourly_rate?`${Number(j.employee_hourly_rate).toFixed(2)} kr per hour`:""})]}),S.role==="owner"&&s.jsxs(s.Fragment,{children:[s.jsx(oa,{children:"Daily rate"}),s.jsx(la,{children:j!=null&&j.owner_daily_rate?`${Number(j.owner_daily_rate).toFixed(2)} kr per day`:""}),s.jsx(oa,{children:"Hourly rate"}),s.jsx(la,{children:j!=null&&j.owner_hourly_rate?`${Number(j.owner_hourly_rate).toFixed(2)} kr per hour`:""})]}),s.jsx(oa,{children:"Note"}),s.jsx(la,{children:s.jsx(L,{size:"1",color:"gray",children:"General rates are set in Company  Setup (owners only)"})})]})}),s.jsx(st,{my:"2"})]}),s.jsx(N_,{children:"Bio"}),s.jsx(X,{mb:"3",children:s.jsx(L,{size:"2",color:S.bio?void 0:"gray",children:S.bio||""})}),s.jsx(st,{my:"2"}),s.jsx(N_,{children:"Address"}),s.jsxs(wb,{children:[s.jsx(oa,{children:"Label"}),s.jsx(la,{children:((z=S.primary_address)==null?void 0:z.name)||""}),s.jsx(oa,{children:"Street"}),s.jsx(la,{children:((U=S.primary_address)==null?void 0:U.address_line)||""}),s.jsx(oa,{children:"City"}),s.jsx(la,{children:S.primary_address?`${S.primary_address.zip_code} ${S.primary_address.city}`:""}),s.jsx(oa,{children:"Country"}),s.jsx(la,{children:((K=S.primary_address)==null?void 0:K.country)||""})]}),!S.primary_address&&s.jsx(L,{size:"2",color:"gray",mb:"3",children:"No address on file"}),s.jsx(st,{my:"2"}),s.jsx(N_,{children:"Optional details"}),s.jsxs(wb,{children:[s.jsx(oa,{children:"Date of birth"}),s.jsx(la,{children:CT((te=S.preferences)==null?void 0:te.date_of_birth)}),s.jsx(oa,{children:"Driver's license"}),s.jsx(la,{children:((q=S.preferences)==null?void 0:q.drivers_license)||""}),s.jsx(oa,{children:"Other licenses"}),s.jsx(la,{children:yX((V=S.preferences)==null?void 0:V.licenses)}),s.jsx(oa,{children:"Certificates"}),s.jsx(la,{children:yX((Q=S.preferences)==null?void 0:Q.certificates)}),s.jsx(oa,{children:"Notes"}),s.jsx(la,{children:s.jsx(L,{size:"2",color:(ce=S.preferences)!=null&&ce.notes?void 0:"gray",children:((ae=S.preferences)==null?void 0:ae.notes)||""})})]}),s.jsx(st,{my:"2"}),s.jsx(q8,{events:O,calendarHref:`/calendar?userId=${e}`,onCreate:G=>{},onUpdate:(G,H)=>{},onDelete:G=>{}})]})}function N_({children:e}){return s.jsx(L,{as:"div",size:"2",weight:"bold",mb:"2",children:e})}function wb({children:e}){return s.jsx("dl",{style:{display:"grid",gridTemplateColumns:"140px 1fr",rowGap:8,columnGap:12,marginBottom:12},children:e})}function oa({children:e}){return s.jsx("dt",{children:s.jsx(L,{size:"1",color:"gray",children:e})})}function la({children:e}){return s.jsx("dd",{children:s.jsx(L,{size:"2",children:e})})}function CT(e){if(!e)return"";const t=new Date(e),n=t.getDate(),i=t.toLocaleDateString("en-GB",{month:"short",year:"numeric"}).toLowerCase();return`${n}. ${i}`}function yX(e){return!e||e.length===0?"":e.join(", ")}function upt(){const{companyId:e}=En(),[t,n]=g.useState(null),[i,r]=g.useState(!0),[a,o]=g.useState(!0),[l,c]=g.useState(!0),[u,d]=g.useState(()=>typeof window<"u"?window.matchMedia("(min-width: 1024px)").matches:!1);g.useEffect(()=>{const b=window.matchMedia("(min-width: 1024px)"),w=R=>d(R.matches);try{return b.addEventListener("change",w),()=>b.removeEventListener("change",w)}catch{return b.addListener(w),()=>b.removeListener(w)}},[]);const[h,m]=g.useState(66.67),[p,v]=g.useState(!1),S=g.useRef(null);return g.useEffect(()=>{if(!p)return;const b=R=>{if(!S.current)return;const E=S.current.getBoundingClientRect(),_=E.width,N=R.clientX-E.left,D=Math.max(25,Math.min(75,N/_*100));m(D)},w=()=>{v(!1),document.body.style.cursor="",document.body.style.userSelect=""};return document.body.style.cursor="col-resize",document.body.style.userSelect="none",document.addEventListener("mousemove",b),document.addEventListener("mouseup",w),()=>{document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",w),document.body.style.cursor="",document.body.style.userSelect=""}},[p]),e?u?s.jsx("section",{style:{height:u?"100%":void 0,minHeight:0},children:s.jsxs($,{ref:S,gap:"2",align:"stretch",style:{height:u?"100%":void 0,minHeight:0,position:"relative"},children:[s.jsxs(Rt,{size:"3",style:{display:"flex",flexDirection:"column",width:`${h}%`,height:u?"100%":void 0,minWidth:"300px",maxWidth:"75%",minHeight:0,flexShrink:0,transition:p?"none":"width 0.1s ease-out"},children:[s.jsxs($,{align:"center",justify:"between",mb:"3",children:[s.jsx(He,{size:"5",children:"Crew"}),s.jsx(gX,{showEmployees:i,showFreelancers:a,showMyPending:l,onShowEmployeesChange:r,onShowFreelancersChange:o,onShowMyPendingChange:c})]}),s.jsx(st,{size:"4",mb:"3"}),s.jsx(X,{style:{flex:u?1:void 0,minHeight:u?0:void 0,overflowY:u?"auto":"visible"},children:s.jsx(mX,{selectedUserId:t,onSelect:n,showEmployees:i,showFreelancers:a,showMyPending:l})})]}),s.jsx(X,{className:"section-resizer",onMouseDown:b=>{b.preventDefault(),v(!0)},style:{width:"6px",height:"20%",cursor:"col-resize",backgroundColor:"var(--gray-a4)",borderRadius:"4px",flexShrink:0,alignSelf:"center",userSelect:"none",margin:"0 -4px",zIndex:10,transition:p?"none":"background-color 0.2s"},onMouseEnter:b=>{p||(b.currentTarget.style.backgroundColor="var(--gray-a6)",b.currentTarget.style.cursor="col-resize")},onMouseLeave:b=>{p||(b.currentTarget.style.backgroundColor="var(--gray-a4)")}}),s.jsxs(Rt,{size:"3",style:{display:"flex",flexDirection:"column",flex:1,height:u?"100%":void 0,maxHeight:u?"100%":void 0,overflow:u?"hidden":"visible",minWidth:"300px",minHeight:0,transition:p?"none":"flex-basis 0.1s ease-out"},children:[s.jsx(He,{size:"5",mb:"3",children:"Inspector"}),s.jsx(st,{size:"4",mb:"3"}),s.jsx(X,{style:{flex:u?1:void 0,minHeight:u?0:void 0,overflowY:u?"auto":"visible"},children:s.jsx(_N,{userId:t})})]})]})}):s.jsx("section",{style:{height:u?"100%":void 0,minHeight:0},children:s.jsxs(Zn,{columns:"1fr",gap:"4",align:"stretch",style:{height:u?"100%":void 0,minHeight:0},children:[s.jsxs(Rt,{size:"3",style:{display:"flex",flexDirection:"column",height:u?"100%":void 0,minHeight:0},children:[s.jsxs($,{align:"center",justify:"between",mb:"3",children:[s.jsx(He,{size:"5",children:"Crew"}),s.jsx(gX,{showEmployees:i,showFreelancers:a,showMyPending:l,onShowEmployeesChange:r,onShowFreelancersChange:o,onShowMyPendingChange:c})]}),s.jsx(st,{size:"4",mb:"3"}),s.jsx(X,{style:{flex:u?1:void 0,minHeight:u?0:void 0,overflowY:u?"auto":"visible"},children:s.jsx(mX,{selectedUserId:t,onSelect:n,showEmployees:i,showFreelancers:a,showMyPending:l})})]}),s.jsxs(Rt,{size:"3",style:{display:"flex",flexDirection:"column",height:u?"100%":void 0,maxHeight:u?"100%":void 0,overflow:u?"hidden":"visible",minHeight:0},children:[s.jsx(He,{size:"5",mb:"3",children:"Inspector"}),s.jsx(st,{size:"4",mb:"3"}),s.jsx(X,{style:{flex:u?1:void 0,minHeight:u?0:void 0,overflowY:u?"auto":"visible"},children:s.jsx(_N,{userId:t})})]})]})}):s.jsx("div",{children:"No company selected."})}function gX({showEmployees:e,showFreelancers:t,showMyPending:n,onShowEmployeesChange:i,onShowFreelancersChange:r,onShowMyPendingChange:a}){const o=[e,t,n].filter(Boolean).length,l=o===3?"All statuses":o===0?"No statuses":`${o} selected`;return s.jsxs(Yg,{children:[s.jsx(Jg,{children:s.jsxs(pe,{variant:"soft",size:"2",children:[s.jsx(L,{children:l}),s.jsx(Za,{width:14,height:14})]})}),s.jsxs(Qg,{children:[s.jsx(Qr,{onSelect:c=>{c.preventDefault(),i(!e)},children:s.jsxs($,{align:"center",gap:"2",children:[s.jsx(fr,{checked:e,onCheckedChange:i}),s.jsx(L,{children:"Employees"})]})}),s.jsx(Qr,{onSelect:c=>{c.preventDefault(),r(!t)},children:s.jsxs($,{align:"center",gap:"2",children:[s.jsx(fr,{checked:t,onCheckedChange:r}),s.jsx(L,{children:"Freelancers"})]})}),s.jsx(Qr,{onSelect:c=>{c.preventDefault(),a(!n)},children:s.jsxs($,{align:"center",gap:"2",children:[s.jsx(fr,{checked:n,onCheckedChange:a}),s.jsx(L,{children:"Pending invites"})]})})]})]})}/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Qp(e,t){return typeof e=="function"?e(t):e}function Yl(e,t){return n=>{t.setState(i=>({...i,[e]:Qp(n,i[e])}))}}function Vj(e){return e instanceof Function}function dpt(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function fpt(e,t){const n=[],i=r=>{r.forEach(a=>{n.push(a);const o=t(a);o!=null&&o.length&&i(o)})};return i(e),n}function Pn(e,t,n){let i=[],r;return a=>{let o;n.key&&n.debug&&(o=Date.now());const l=e(a);if(!(l.length!==i.length||l.some((d,h)=>i[h]!==d)))return r;i=l;let u;if(n.key&&n.debug&&(u=Date.now()),r=t(...l),n==null||n.onChange==null||n.onChange(r),n.key&&n.debug&&n!=null&&n.debug()){const d=Math.round((Date.now()-o)*100)/100,h=Math.round((Date.now()-u)*100)/100,m=h/16,p=(v,S)=>{for(v=String(v);v.length<S;)v=" "+v;return v};console.info(`%c ${p(h,5)} /${p(d,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*m,120))}deg 100% 31%);`,n==null?void 0:n.key)}return r}}function kn(e,t,n,i){return{debug:()=>{var r;return(r=e==null?void 0:e.debugAll)!=null?r:e[t]},key:!1,onChange:i}}function hpt(e,t,n,i){const r=()=>{var o;return(o=a.getValue())!=null?o:e.options.renderFallbackValue},a={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(i),renderValue:r,getContext:Pn(()=>[e,n,t,a],(o,l,c,u)=>({table:o,column:l,row:c,cell:u,getValue:u.getValue,renderValue:u.renderValue}),kn(e.options,"debugCells"))};return e._features.forEach(o=>{o.createCell==null||o.createCell(a,n,t,e)},{}),a}function ppt(e,t,n,i){var r,a;const l={...e._getDefaultColumnDef(),...t},c=l.accessorKey;let u=(r=(a=l.id)!=null?a:c?typeof String.prototype.replaceAll=="function"?c.replaceAll(".","_"):c.replace(/\./g,"_"):void 0)!=null?r:typeof l.header=="string"?l.header:void 0,d;if(l.accessorFn?d=l.accessorFn:c&&(c.includes(".")?d=m=>{let p=m;for(const S of c.split(".")){var v;p=(v=p)==null?void 0:v[S]}return p}:d=m=>m[l.accessorKey]),!u)throw new Error;let h={id:`${String(u)}`,accessorFn:d,parent:i,depth:n,columnDef:l,columns:[],getFlatColumns:Pn(()=>[!0],()=>{var m;return[h,...(m=h.columns)==null?void 0:m.flatMap(p=>p.getFlatColumns())]},kn(e.options,"debugColumns")),getLeafColumns:Pn(()=>[e._getOrderColumnsFn()],m=>{var p;if((p=h.columns)!=null&&p.length){let v=h.columns.flatMap(S=>S.getLeafColumns());return m(v)}return[h]},kn(e.options,"debugColumns"))};for(const m of e._features)m.createColumn==null||m.createColumn(h,e);return h}const Ws="debugHeaders";function vX(e,t,n){var i;let a={id:(i=n.id)!=null?i:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],l=c=>{c.subHeaders&&c.subHeaders.length&&c.subHeaders.map(l),o.push(c)};return l(a),o},getContext:()=>({table:e,header:a,column:t})};return e._features.forEach(o=>{o.createHeader==null||o.createHeader(a,e)}),a}const mpt={createTable:e=>{e.getHeaderGroups=Pn(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,i,r)=>{var a,o;const l=(a=i==null?void 0:i.map(h=>n.find(m=>m.id===h)).filter(Boolean))!=null?a:[],c=(o=r==null?void 0:r.map(h=>n.find(m=>m.id===h)).filter(Boolean))!=null?o:[],u=n.filter(h=>!(i!=null&&i.includes(h.id))&&!(r!=null&&r.includes(h.id)));return O_(t,[...l,...u,...c],e)},kn(e.options,Ws)),e.getCenterHeaderGroups=Pn(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,i,r)=>(n=n.filter(a=>!(i!=null&&i.includes(a.id))&&!(r!=null&&r.includes(a.id))),O_(t,n,e,"center")),kn(e.options,Ws)),e.getLeftHeaderGroups=Pn(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,i)=>{var r;const a=(r=i==null?void 0:i.map(o=>n.find(l=>l.id===o)).filter(Boolean))!=null?r:[];return O_(t,a,e,"left")},kn(e.options,Ws)),e.getRightHeaderGroups=Pn(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,i)=>{var r;const a=(r=i==null?void 0:i.map(o=>n.find(l=>l.id===o)).filter(Boolean))!=null?r:[];return O_(t,a,e,"right")},kn(e.options,Ws)),e.getFooterGroups=Pn(()=>[e.getHeaderGroups()],t=>[...t].reverse(),kn(e.options,Ws)),e.getLeftFooterGroups=Pn(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),kn(e.options,Ws)),e.getCenterFooterGroups=Pn(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),kn(e.options,Ws)),e.getRightFooterGroups=Pn(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),kn(e.options,Ws)),e.getFlatHeaders=Pn(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),kn(e.options,Ws)),e.getLeftFlatHeaders=Pn(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),kn(e.options,Ws)),e.getCenterFlatHeaders=Pn(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),kn(e.options,Ws)),e.getRightFlatHeaders=Pn(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),kn(e.options,Ws)),e.getCenterLeafHeaders=Pn(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var i;return!((i=n.subHeaders)!=null&&i.length)}),kn(e.options,Ws)),e.getLeftLeafHeaders=Pn(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var i;return!((i=n.subHeaders)!=null&&i.length)}),kn(e.options,Ws)),e.getRightLeafHeaders=Pn(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var i;return!((i=n.subHeaders)!=null&&i.length)}),kn(e.options,Ws)),e.getLeafHeaders=Pn(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,i)=>{var r,a,o,l,c,u;return[...(r=(a=t[0])==null?void 0:a.headers)!=null?r:[],...(o=(l=n[0])==null?void 0:l.headers)!=null?o:[],...(c=(u=i[0])==null?void 0:u.headers)!=null?c:[]].map(d=>d.getLeafHeaders()).flat()},kn(e.options,Ws))}};function O_(e,t,n,i){var r,a;let o=0;const l=function(m,p){p===void 0&&(p=1),o=Math.max(o,p),m.filter(v=>v.getIsVisible()).forEach(v=>{var S;(S=v.columns)!=null&&S.length&&l(v.columns,p+1)},0)};l(e);let c=[];const u=(m,p)=>{const v={depth:p,id:[i,`${p}`].filter(Boolean).join("_"),headers:[]},S=[];m.forEach(b=>{const w=[...S].reverse()[0],R=b.column.depth===v.depth;let E,_=!1;if(R&&b.column.parent?E=b.column.parent:(E=b.column,_=!0),w&&(w==null?void 0:w.column)===E)w.subHeaders.push(b);else{const N=vX(n,E,{id:[i,p,E.id,b==null?void 0:b.id].filter(Boolean).join("_"),isPlaceholder:_,placeholderId:_?`${S.filter(O=>O.column===E).length}`:void 0,depth:p,index:S.length});N.subHeaders.push(b),S.push(N)}v.headers.push(b),b.headerGroup=v}),c.push(v),p>0&&u(S,p-1)},d=t.map((m,p)=>vX(n,m,{depth:o,index:p}));u(d,o-1),c.reverse();const h=m=>m.filter(v=>v.column.getIsVisible()).map(v=>{let S=0,b=0,w=[0];v.subHeaders&&v.subHeaders.length?(w=[],h(v.subHeaders).forEach(E=>{let{colSpan:_,rowSpan:N}=E;S+=_,w.push(N)})):S=1;const R=Math.min(...w);return b=b+R,v.colSpan=S,v.rowSpan=b,{colSpan:S,rowSpan:b}});return h((r=(a=c[0])==null?void 0:a.headers)!=null?r:[]),c}const ypt=(e,t,n,i,r,a,o)=>{let l={id:t,index:i,original:n,depth:r,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:c=>{if(l._valuesCache.hasOwnProperty(c))return l._valuesCache[c];const u=e.getColumn(c);if(u!=null&&u.accessorFn)return l._valuesCache[c]=u.accessorFn(l.original,i),l._valuesCache[c]},getUniqueValues:c=>{if(l._uniqueValuesCache.hasOwnProperty(c))return l._uniqueValuesCache[c];const u=e.getColumn(c);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(l._uniqueValuesCache[c]=u.columnDef.getUniqueValues(l.original,i),l._uniqueValuesCache[c]):(l._uniqueValuesCache[c]=[l.getValue(c)],l._uniqueValuesCache[c])},renderValue:c=>{var u;return(u=l.getValue(c))!=null?u:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>fpt(l.subRows,c=>c.subRows),getParentRow:()=>l.parentId?e.getRow(l.parentId,!0):void 0,getParentRows:()=>{let c=[],u=l;for(;;){const d=u.getParentRow();if(!d)break;c.push(d),u=d}return c.reverse()},getAllCells:Pn(()=>[e.getAllLeafColumns()],c=>c.map(u=>hpt(e,l,u,u.id)),kn(e.options,"debugRows")),_getAllCellsByColumnId:Pn(()=>[l.getAllCells()],c=>c.reduce((u,d)=>(u[d.column.id]=d,u),{}),kn(e.options,"debugRows"))};for(let c=0;c<e._features.length;c++){const u=e._features[c];u==null||u.createRow==null||u.createRow(l,e)}return l},gpt={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},tge=(e,t,n)=>{var i,r;const a=n==null||(i=n.toString())==null?void 0:i.toLowerCase();return!!(!((r=e.getValue(t))==null||(r=r.toString())==null||(r=r.toLowerCase())==null)&&r.includes(a))};tge.autoRemove=e=>Cu(e);const nge=(e,t,n)=>{var i;return!!(!((i=e.getValue(t))==null||(i=i.toString())==null)&&i.includes(n))};nge.autoRemove=e=>Cu(e);const ige=(e,t,n)=>{var i;return((i=e.getValue(t))==null||(i=i.toString())==null?void 0:i.toLowerCase())===(n==null?void 0:n.toLowerCase())};ige.autoRemove=e=>Cu(e);const rge=(e,t,n)=>{var i;return(i=e.getValue(t))==null?void 0:i.includes(n)};rge.autoRemove=e=>Cu(e);const age=(e,t,n)=>!n.some(i=>{var r;return!((r=e.getValue(t))!=null&&r.includes(i))});age.autoRemove=e=>Cu(e)||!(e!=null&&e.length);const sge=(e,t,n)=>n.some(i=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(i)});sge.autoRemove=e=>Cu(e)||!(e!=null&&e.length);const oge=(e,t,n)=>e.getValue(t)===n;oge.autoRemove=e=>Cu(e);const lge=(e,t,n)=>e.getValue(t)==n;lge.autoRemove=e=>Cu(e);const J7=(e,t,n)=>{let[i,r]=n;const a=e.getValue(t);return a>=i&&a<=r};J7.resolveFilterValue=e=>{let[t,n]=e,i=typeof t!="number"?parseFloat(t):t,r=typeof n!="number"?parseFloat(n):n,a=t===null||Number.isNaN(i)?-1/0:i,o=n===null||Number.isNaN(r)?1/0:r;if(a>o){const l=a;a=o,o=l}return[a,o]};J7.autoRemove=e=>Cu(e)||Cu(e[0])&&Cu(e[1]);const zf={includesString:tge,includesStringSensitive:nge,equalsString:ige,arrIncludes:rge,arrIncludesAll:age,arrIncludesSome:sge,equals:oge,weakEquals:lge,inNumberRange:J7};function Cu(e){return e==null||e===""}const vpt={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:Yl("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],i=n==null?void 0:n.getValue(e.id);return typeof i=="string"?zf.includesString:typeof i=="number"?zf.inNumberRange:typeof i=="boolean"||i!==null&&typeof i=="object"?zf.equals:Array.isArray(i)?zf.arrIncludes:zf.weakEquals},e.getFilterFn=()=>{var n,i;return Vj(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(i=t.options.filterFns)==null?void 0:i[e.columnDef.filterFn])!=null?n:zf[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,i,r;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((i=t.options.enableColumnFilters)!=null?i:!0)&&((r=t.options.enableFilters)!=null?r:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(i=>i.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,i;return(n=(i=t.getState().columnFilters)==null?void 0:i.findIndex(r=>r.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(i=>{const r=e.getFilterFn(),a=i==null?void 0:i.find(d=>d.id===e.id),o=Qp(n,a?a.value:void 0);if(SX(r,o,e)){var l;return(l=i==null?void 0:i.filter(d=>d.id!==e.id))!=null?l:[]}const c={id:e.id,value:o};if(a){var u;return(u=i==null?void 0:i.map(d=>d.id===e.id?c:d))!=null?u:[]}return i!=null&&i.length?[...i,c]:[c]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),i=r=>{var a;return(a=Qp(t,r))==null?void 0:a.filter(o=>{const l=n.find(c=>c.id===o.id);if(l){const c=l.getFilterFn();if(SX(c,o.value,l))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(i)},e.resetColumnFilters=t=>{var n,i;e.setColumnFilters(t?[]:(n=(i=e.initialState)==null?void 0:i.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function SX(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const Spt=(e,t,n)=>n.reduce((i,r)=>{const a=r.getValue(e);return i+(typeof a=="number"?a:0)},0),bpt=(e,t,n)=>{let i;return n.forEach(r=>{const a=r.getValue(e);a!=null&&(i>a||i===void 0&&a>=a)&&(i=a)}),i},xpt=(e,t,n)=>{let i;return n.forEach(r=>{const a=r.getValue(e);a!=null&&(i<a||i===void 0&&a>=a)&&(i=a)}),i},wpt=(e,t,n)=>{let i,r;return n.forEach(a=>{const o=a.getValue(e);o!=null&&(i===void 0?o>=o&&(i=r=o):(i>o&&(i=o),r<o&&(r=o)))}),[i,r]},Ept=(e,t)=>{let n=0,i=0;if(t.forEach(r=>{let a=r.getValue(e);a!=null&&(a=+a)>=a&&(++n,i+=a)}),n)return i/n},_pt=(e,t)=>{if(!t.length)return;const n=t.map(a=>a.getValue(e));if(!dpt(n))return;if(n.length===1)return n[0];const i=Math.floor(n.length/2),r=n.sort((a,o)=>a-o);return n.length%2!==0?r[i]:(r[i-1]+r[i])/2},Apt=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),Rpt=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,Npt=(e,t)=>t.length,LT={sum:Spt,min:bpt,max:xpt,extent:wpt,mean:Ept,median:_pt,unique:Apt,uniqueCount:Rpt,count:Npt},Opt={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:Yl("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(i=>i!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,i;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((i=t.options.enableGrouping)!=null?i:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],i=n==null?void 0:n.getValue(e.id);if(typeof i=="number")return LT.sum;if(Object.prototype.toString.call(i)==="[object Date]")return LT.extent},e.getAggregationFn=()=>{var n,i;if(!e)throw new Error;return Vj(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(i=t.options.aggregationFns)==null?void 0:i[e.columnDef.aggregationFn])!=null?n:LT[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,i;e.setGrouping(t?[]:(n=(i=e.initialState)==null?void 0:i.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const i=t.getColumn(n);return i!=null&&i.columnDef.getGroupingValue?(e._groupingValuesCache[n]=i.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,i)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var r;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((r=n.subRows)!=null&&r.length)}}};function jpt(e,t,n){if(!(t!=null&&t.length)||!n)return e;const i=e.filter(a=>!t.includes(a.id));return n==="remove"?i:[...t.map(a=>e.find(o=>o.id===a)).filter(Boolean),...i]}const Dpt={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:Yl("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=Pn(n=>[ux(t,n)],n=>n.findIndex(i=>i.id===e.id),kn(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var i;return((i=ux(t,n)[0])==null?void 0:i.id)===e.id},e.getIsLastColumn=n=>{var i;const r=ux(t,n);return((i=r[r.length-1])==null?void 0:i.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=Pn(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,i)=>r=>{let a=[];if(!(t!=null&&t.length))a=r;else{const o=[...t],l=[...r];for(;l.length&&o.length;){const c=o.shift(),u=l.findIndex(d=>d.id===c);u>-1&&a.push(l.splice(u,1)[0])}a=[...a,...l]}return jpt(a,n,i)},kn(e.options,"debugTable"))}},TT=()=>({left:[],right:[]}),Cpt={getInitialState:e=>({columnPinning:TT(),...e}),getDefaultOptions:e=>({onColumnPinningChange:Yl("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const i=e.getLeafColumns().map(r=>r.id).filter(Boolean);t.setColumnPinning(r=>{var a,o;if(n==="right"){var l,c;return{left:((l=r==null?void 0:r.left)!=null?l:[]).filter(h=>!(i!=null&&i.includes(h))),right:[...((c=r==null?void 0:r.right)!=null?c:[]).filter(h=>!(i!=null&&i.includes(h))),...i]}}if(n==="left"){var u,d;return{left:[...((u=r==null?void 0:r.left)!=null?u:[]).filter(h=>!(i!=null&&i.includes(h))),...i],right:((d=r==null?void 0:r.right)!=null?d:[]).filter(h=>!(i!=null&&i.includes(h)))}}return{left:((a=r==null?void 0:r.left)!=null?a:[]).filter(h=>!(i!=null&&i.includes(h))),right:((o=r==null?void 0:r.right)!=null?o:[]).filter(h=>!(i!=null&&i.includes(h)))}})},e.getCanPin=()=>e.getLeafColumns().some(i=>{var r,a,o;return((r=i.columnDef.enablePinning)!=null?r:!0)&&((a=(o=t.options.enableColumnPinning)!=null?o:t.options.enablePinning)!=null?a:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(l=>l.id),{left:i,right:r}=t.getState().columnPinning,a=n.some(l=>i==null?void 0:i.includes(l)),o=n.some(l=>r==null?void 0:r.includes(l));return a?"left":o?"right":!1},e.getPinnedIndex=()=>{var n,i;const r=e.getIsPinned();return r?(n=(i=t.getState().columnPinning)==null||(i=i[r])==null?void 0:i.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=Pn(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,i,r)=>{const a=[...i??[],...r??[]];return n.filter(o=>!a.includes(o.column.id))},kn(t.options,"debugRows")),e.getLeftVisibleCells=Pn(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,i)=>(i??[]).map(a=>n.find(o=>o.column.id===a)).filter(Boolean).map(a=>({...a,position:"left"})),kn(t.options,"debugRows")),e.getRightVisibleCells=Pn(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,i)=>(i??[]).map(a=>n.find(o=>o.column.id===a)).filter(Boolean).map(a=>({...a,position:"right"})),kn(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,i;return e.setColumnPinning(t?TT():(n=(i=e.initialState)==null?void 0:i.columnPinning)!=null?n:TT())},e.getIsSomeColumnsPinned=t=>{var n;const i=e.getState().columnPinning;if(!t){var r,a;return!!((r=i.left)!=null&&r.length||(a=i.right)!=null&&a.length)}return!!((n=i[t])!=null&&n.length)},e.getLeftLeafColumns=Pn(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(i=>t.find(r=>r.id===i)).filter(Boolean),kn(e.options,"debugColumns")),e.getRightLeafColumns=Pn(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(i=>t.find(r=>r.id===i)).filter(Boolean),kn(e.options,"debugColumns")),e.getCenterLeafColumns=Pn(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,i)=>{const r=[...n??[],...i??[]];return t.filter(a=>!r.includes(a.id))},kn(e.options,"debugColumns"))}};function Lpt(e){return e||(typeof document<"u"?document:null)}const j_={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},MT=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),Tpt={getDefaultColumnDef:()=>j_,getInitialState:e=>({columnSizing:{},columnSizingInfo:MT(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Yl("columnSizing",e),onColumnSizingInfoChange:Yl("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,i,r;const a=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:j_.minSize,(i=a??e.columnDef.size)!=null?i:j_.size),(r=e.columnDef.maxSize)!=null?r:j_.maxSize)},e.getStart=Pn(n=>[n,ux(t,n),t.getState().columnSizing],(n,i)=>i.slice(0,e.getIndex(n)).reduce((r,a)=>r+a.getSize(),0),kn(t.options,"debugColumns")),e.getAfter=Pn(n=>[n,ux(t,n),t.getState().columnSizing],(n,i)=>i.slice(e.getIndex(n)+1).reduce((r,a)=>r+a.getSize(),0),kn(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:i,...r}=n;return r})},e.getCanResize=()=>{var n,i;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((i=t.options.enableColumnResizing)!=null?i:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const i=r=>{if(r.subHeaders.length)r.subHeaders.forEach(i);else{var a;n+=(a=r.column.getSize())!=null?a:0}};return i(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const i=t.getColumn(e.column.id),r=i==null?void 0:i.getCanResize();return a=>{if(!i||!r||(a.persist==null||a.persist(),IT(a)&&a.touches&&a.touches.length>1))return;const o=e.getSize(),l=e?e.getLeafHeaders().map(w=>[w.column.id,w.column.getSize()]):[[i.id,i.getSize()]],c=IT(a)?Math.round(a.touches[0].clientX):a.clientX,u={},d=(w,R)=>{typeof R=="number"&&(t.setColumnSizingInfo(E=>{var _,N;const O=t.options.columnResizeDirection==="rtl"?-1:1,j=(R-((_=E==null?void 0:E.startOffset)!=null?_:0))*O,D=Math.max(j/((N=E==null?void 0:E.startSize)!=null?N:0),-.999999);return E.columnSizingStart.forEach(P=>{let[B,M]=P;u[B]=Math.round(Math.max(M+M*D,0)*100)/100}),{...E,deltaOffset:j,deltaPercentage:D}}),(t.options.columnResizeMode==="onChange"||w==="end")&&t.setColumnSizing(E=>({...E,...u})))},h=w=>d("move",w),m=w=>{d("end",w),t.setColumnSizingInfo(R=>({...R,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},p=Lpt(n),v={moveHandler:w=>h(w.clientX),upHandler:w=>{p==null||p.removeEventListener("mousemove",v.moveHandler),p==null||p.removeEventListener("mouseup",v.upHandler),m(w.clientX)}},S={moveHandler:w=>(w.cancelable&&(w.preventDefault(),w.stopPropagation()),h(w.touches[0].clientX),!1),upHandler:w=>{var R;p==null||p.removeEventListener("touchmove",S.moveHandler),p==null||p.removeEventListener("touchend",S.upHandler),w.cancelable&&(w.preventDefault(),w.stopPropagation()),m((R=w.touches[0])==null?void 0:R.clientX)}},b=Mpt()?{passive:!1}:!1;IT(a)?(p==null||p.addEventListener("touchmove",S.moveHandler,b),p==null||p.addEventListener("touchend",S.upHandler,b)):(p==null||p.addEventListener("mousemove",v.moveHandler,b),p==null||p.addEventListener("mouseup",v.upHandler,b)),t.setColumnSizingInfo(w=>({...w,startOffset:c,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:l,isResizingColumn:i.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?MT():(n=e.initialState.columnSizingInfo)!=null?n:MT())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((i,r)=>i+r.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((i,r)=>i+r.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((i,r)=>i+r.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((i,r)=>i+r.getSize(),0))!=null?t:0}}};let D_=null;function Mpt(){if(typeof D_=="boolean")return D_;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return D_=e,D_}function IT(e){return e.type==="touchstart"}const Ipt={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:Yl("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(i=>({...i,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,i;const r=e.columns;return(n=r.length?r.some(a=>a.getIsVisible()):(i=t.getState().columnVisibility)==null?void 0:i[e.id])!=null?n:!0},e.getCanHide=()=>{var n,i;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((i=t.options.enableHiding)!=null?i:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=Pn(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(i=>i.column.getIsVisible()),kn(t.options,"debugRows")),e.getVisibleCells=Pn(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,i,r)=>[...n,...i,...r],kn(t.options,"debugRows"))},createTable:e=>{const t=(n,i)=>Pn(()=>[i(),i().filter(r=>r.getIsVisible()).map(r=>r.id).join("_")],r=>r.filter(a=>a.getIsVisible==null?void 0:a.getIsVisible()),kn(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var i;e.setColumnVisibility(n?{}:(i=e.initialState.columnVisibility)!=null?i:{})},e.toggleAllColumnsVisible=n=>{var i;n=(i=n)!=null?i:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((r,a)=>({...r,[a.id]:n||!(a.getCanHide!=null&&a.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var i;e.toggleAllColumnsVisible((i=n.target)==null?void 0:i.checked)}}};function ux(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const Ppt={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},kpt={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:Yl("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const i=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof i=="string"||typeof i=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,i,r,a;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((i=t.options.enableGlobalFilter)!=null?i:!0)&&((r=t.options.enableFilters)!=null?r:!0)&&((a=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?a:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>zf.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:i}=e.options;return Vj(i)?i:i==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[i])!=null?t:zf[i]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},$pt={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:Yl("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var i,r;if(!t){e._queue(()=>{t=!0});return}if((i=(r=e.options.autoResetAll)!=null?r:e.options.autoResetExpanded)!=null?i:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=i=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(i),e.toggleAllRowsExpanded=i=>{i??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=i=>{var r,a;e.setExpanded(i?{}:(r=(a=e.initialState)==null?void 0:a.expanded)!=null?r:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(i=>i.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>i=>{i.persist==null||i.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const i=e.getState().expanded;return i===!0||Object.values(i).some(Boolean)},e.getIsAllRowsExpanded=()=>{const i=e.getState().expanded;return typeof i=="boolean"?i===!0:!(!Object.keys(i).length||e.getRowModel().flatRows.some(r=>!r.getIsExpanded()))},e.getExpandedDepth=()=>{let i=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(a=>{const o=a.split(".");i=Math.max(i,o.length)}),i},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(i=>{var r;const a=i===!0?!0:!!(i!=null&&i[e.id]);let o={};if(i===!0?Object.keys(t.getRowModel().rowsById).forEach(l=>{o[l]=!0}):o=i,n=(r=n)!=null?r:!a,!a&&n)return{...o,[e.id]:!0};if(a&&!n){const{[e.id]:l,...c}=o;return c}return i})},e.getIsExpanded=()=>{var n;const i=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:i===!0||i!=null&&i[e.id])},e.getCanExpand=()=>{var n,i,r;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((i=t.options.enableExpanding)!=null?i:!0)&&!!((r=e.subRows)!=null&&r.length)},e.getIsAllParentsExpanded=()=>{let n=!0,i=e;for(;n&&i.parentId;)i=t.getRow(i.parentId,!0),n=i.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},fI=0,hI=10,PT=()=>({pageIndex:fI,pageSize:hI}),Fpt={getInitialState:e=>({...e,pagination:{...PT(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:Yl("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var i,r;if(!t){e._queue(()=>{t=!0});return}if((i=(r=e.options.autoResetAll)!=null?r:e.options.autoResetPageIndex)!=null?i:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=i=>{const r=a=>Qp(i,a);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(r)},e.resetPagination=i=>{var r;e.setPagination(i?PT():(r=e.initialState.pagination)!=null?r:PT())},e.setPageIndex=i=>{e.setPagination(r=>{let a=Qp(i,r.pageIndex);const o=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return a=Math.max(0,Math.min(a,o)),{...r,pageIndex:a}})},e.resetPageIndex=i=>{var r,a;e.setPageIndex(i?fI:(r=(a=e.initialState)==null||(a=a.pagination)==null?void 0:a.pageIndex)!=null?r:fI)},e.resetPageSize=i=>{var r,a;e.setPageSize(i?hI:(r=(a=e.initialState)==null||(a=a.pagination)==null?void 0:a.pageSize)!=null?r:hI)},e.setPageSize=i=>{e.setPagination(r=>{const a=Math.max(1,Qp(i,r.pageSize)),o=r.pageSize*r.pageIndex,l=Math.floor(o/a);return{...r,pageIndex:l,pageSize:a}})},e.setPageCount=i=>e.setPagination(r=>{var a;let o=Qp(i,(a=e.options.pageCount)!=null?a:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...r,pageCount:o}}),e.getPageOptions=Pn(()=>[e.getPageCount()],i=>{let r=[];return i&&i>0&&(r=[...new Array(i)].fill(null).map((a,o)=>o)),r},kn(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:i}=e.getState().pagination,r=e.getPageCount();return r===-1?!0:r===0?!1:i<r-1},e.previousPage=()=>e.setPageIndex(i=>i-1),e.nextPage=()=>e.setPageIndex(i=>i+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var i;return(i=e.options.pageCount)!=null?i:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var i;return(i=e.options.rowCount)!=null?i:e.getPrePaginationRowModel().rows.length}}},kT=()=>({top:[],bottom:[]}),Bpt={getInitialState:e=>({rowPinning:kT(),...e}),getDefaultOptions:e=>({onRowPinningChange:Yl("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,i,r)=>{const a=i?e.getLeafRows().map(c=>{let{id:u}=c;return u}):[],o=r?e.getParentRows().map(c=>{let{id:u}=c;return u}):[],l=new Set([...o,e.id,...a]);t.setRowPinning(c=>{var u,d;if(n==="bottom"){var h,m;return{top:((h=c==null?void 0:c.top)!=null?h:[]).filter(S=>!(l!=null&&l.has(S))),bottom:[...((m=c==null?void 0:c.bottom)!=null?m:[]).filter(S=>!(l!=null&&l.has(S))),...Array.from(l)]}}if(n==="top"){var p,v;return{top:[...((p=c==null?void 0:c.top)!=null?p:[]).filter(S=>!(l!=null&&l.has(S))),...Array.from(l)],bottom:((v=c==null?void 0:c.bottom)!=null?v:[]).filter(S=>!(l!=null&&l.has(S)))}}return{top:((u=c==null?void 0:c.top)!=null?u:[]).filter(S=>!(l!=null&&l.has(S))),bottom:((d=c==null?void 0:c.bottom)!=null?d:[]).filter(S=>!(l!=null&&l.has(S)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:i,enablePinning:r}=t.options;return typeof i=="function"?i(e):(n=i??r)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:i,bottom:r}=t.getState().rowPinning,a=n.some(l=>i==null?void 0:i.includes(l)),o=n.some(l=>r==null?void 0:r.includes(l));return a?"top":o?"bottom":!1},e.getPinnedIndex=()=>{var n,i;const r=e.getIsPinned();if(!r)return-1;const a=(n=r==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(o=>{let{id:l}=o;return l});return(i=a==null?void 0:a.indexOf(e.id))!=null?i:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,i;return e.setRowPinning(t?kT():(n=(i=e.initialState)==null?void 0:i.rowPinning)!=null?n:kT())},e.getIsSomeRowsPinned=t=>{var n;const i=e.getState().rowPinning;if(!t){var r,a;return!!((r=i.top)!=null&&r.length||(a=i.bottom)!=null&&a.length)}return!!((n=i[t])!=null&&n.length)},e._getPinnedRows=(t,n,i)=>{var r;return((r=e.options.keepPinnedRows)==null||r?(n??[]).map(o=>{const l=e.getRow(o,!0);return l.getIsAllParentsExpanded()?l:null}):(n??[]).map(o=>t.find(l=>l.id===o))).filter(Boolean).map(o=>({...o,position:i}))},e.getTopRows=Pn(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),kn(e.options,"debugRows")),e.getBottomRows=Pn(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),kn(e.options,"debugRows")),e.getCenterRows=Pn(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,i)=>{const r=new Set([...n??[],...i??[]]);return t.filter(a=>!r.has(a.id))},kn(e.options,"debugRows"))}},zpt={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:Yl("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const i={...n},r=e.getPreGroupedRowModel().flatRows;return t?r.forEach(a=>{a.getCanSelect()&&(i[a.id]=!0)}):r.forEach(a=>{delete i[a.id]}),i})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const i=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),r={...n};return e.getRowModel().rows.forEach(a=>{pI(r,a.id,i,!0,e)}),r}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=Pn(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?$T(e,n):{rows:[],flatRows:[],rowsById:{}},kn(e.options,"debugTable")),e.getFilteredSelectedRowModel=Pn(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?$T(e,n):{rows:[],flatRows:[],rowsById:{}},kn(e.options,"debugTable")),e.getGroupedSelectedRowModel=Pn(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?$T(e,n):{rows:[],flatRows:[],rowsById:{}},kn(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let i=!!(t.length&&Object.keys(n).length);return i&&t.some(r=>r.getCanSelect()&&!n[r.id])&&(i=!1),i},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(r=>r.getCanSelect()),{rowSelection:n}=e.getState();let i=!!t.length;return i&&t.some(r=>!n[r.id])&&(i=!1),i},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,i)=>{const r=e.getIsSelected();t.setRowSelection(a=>{var o;if(n=typeof n<"u"?n:!r,e.getCanSelect()&&r===n)return a;const l={...a};return pI(l,e.id,n,(o=i==null?void 0:i.selectChildren)!=null?o:!0,t),l})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return Q7(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return mI(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return mI(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return i=>{var r;n&&e.toggleSelected((r=i.target)==null?void 0:r.checked)}}}},pI=(e,t,n,i,r)=>{var a;const o=r.getRow(t,!0);n?(o.getCanMultiSelect()||Object.keys(e).forEach(l=>delete e[l]),o.getCanSelect()&&(e[t]=!0)):delete e[t],i&&(a=o.subRows)!=null&&a.length&&o.getCanSelectSubRows()&&o.subRows.forEach(l=>pI(e,l.id,n,i,r))};function $T(e,t){const n=e.getState().rowSelection,i=[],r={},a=function(o,l){return o.map(c=>{var u;const d=Q7(c,n);if(d&&(i.push(c),r[c.id]=c),(u=c.subRows)!=null&&u.length&&(c={...c,subRows:a(c.subRows)}),d)return c}).filter(Boolean)};return{rows:a(t.rows),flatRows:i,rowsById:r}}function Q7(e,t){var n;return(n=t[e.id])!=null?n:!1}function mI(e,t,n){var i;if(!((i=e.subRows)!=null&&i.length))return!1;let r=!0,a=!1;return e.subRows.forEach(o=>{if(!(a&&!r)&&(o.getCanSelect()&&(Q7(o,t)?a=!0:r=!1),o.subRows&&o.subRows.length)){const l=mI(o,t);l==="all"?a=!0:(l==="some"&&(a=!0),r=!1)}}),r?"all":a?"some":!1}const yI=/([0-9]+)/gm,Upt=(e,t,n)=>cge(gm(e.getValue(n)).toLowerCase(),gm(t.getValue(n)).toLowerCase()),Vpt=(e,t,n)=>cge(gm(e.getValue(n)),gm(t.getValue(n))),Kpt=(e,t,n)=>X7(gm(e.getValue(n)).toLowerCase(),gm(t.getValue(n)).toLowerCase()),Gpt=(e,t,n)=>X7(gm(e.getValue(n)),gm(t.getValue(n))),Hpt=(e,t,n)=>{const i=e.getValue(n),r=t.getValue(n);return i>r?1:i<r?-1:0},qpt=(e,t,n)=>X7(e.getValue(n),t.getValue(n));function X7(e,t){return e===t?0:e>t?1:-1}function gm(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function cge(e,t){const n=e.split(yI).filter(Boolean),i=t.split(yI).filter(Boolean);for(;n.length&&i.length;){const r=n.shift(),a=i.shift(),o=parseInt(r,10),l=parseInt(a,10),c=[o,l].sort();if(isNaN(c[0])){if(r>a)return 1;if(a>r)return-1;continue}if(isNaN(c[1]))return isNaN(o)?-1:1;if(o>l)return 1;if(l>o)return-1}return n.length-i.length}const Eb={alphanumeric:Upt,alphanumericCaseSensitive:Vpt,text:Kpt,textCaseSensitive:Gpt,datetime:Hpt,basic:qpt},Wpt={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:Yl("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let i=!1;for(const r of n){const a=r==null?void 0:r.getValue(e.id);if(Object.prototype.toString.call(a)==="[object Date]")return Eb.datetime;if(typeof a=="string"&&(i=!0,a.split(yI).length>1))return Eb.alphanumeric}return i?Eb.text:Eb.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,i;if(!e)throw new Error;return Vj(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(i=t.options.sortingFns)==null?void 0:i[e.columnDef.sortingFn])!=null?n:Eb[e.columnDef.sortingFn]},e.toggleSorting=(n,i)=>{const r=e.getNextSortingOrder(),a=typeof n<"u"&&n!==null;t.setSorting(o=>{const l=o==null?void 0:o.find(p=>p.id===e.id),c=o==null?void 0:o.findIndex(p=>p.id===e.id);let u=[],d,h=a?n:r==="desc";if(o!=null&&o.length&&e.getCanMultiSort()&&i?l?d="toggle":d="add":o!=null&&o.length&&c!==o.length-1?d="replace":l?d="toggle":d="replace",d==="toggle"&&(a||r||(d="remove")),d==="add"){var m;u=[...o,{id:e.id,desc:h}],u.splice(0,u.length-((m=t.options.maxMultiSortColCount)!=null?m:Number.MAX_SAFE_INTEGER))}else d==="toggle"?u=o.map(p=>p.id===e.id?{...p,desc:h}:p):d==="remove"?u=o.filter(p=>p.id!==e.id):u=[{id:e.id,desc:h}];return u})},e.getFirstSortDir=()=>{var n,i;return((n=(i=e.columnDef.sortDescFirst)!=null?i:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var i,r;const a=e.getFirstSortDir(),o=e.getIsSorted();return o?o!==a&&((i=t.options.enableSortingRemoval)==null||i)&&(!(n&&(r=t.options.enableMultiRemove)!=null)||r)?!1:o==="desc"?"asc":"desc":a},e.getCanSort=()=>{var n,i;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((i=t.options.enableSorting)!=null?i:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,i;return(n=(i=e.columnDef.enableMultiSort)!=null?i:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const i=(n=t.getState().sorting)==null?void 0:n.find(r=>r.id===e.id);return i?i.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,i;return(n=(i=t.getState().sorting)==null?void 0:i.findIndex(r=>r.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(i=>i.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return i=>{n&&(i.persist==null||i.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(i):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,i;e.setSorting(t?[]:(n=(i=e.initialState)==null?void 0:i.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},Ypt=[mpt,Ipt,Dpt,Cpt,gpt,vpt,Ppt,kpt,Wpt,Opt,$pt,Fpt,Bpt,zpt,Tpt];function Jpt(e){var t,n;const i=[...Ypt,...(t=e._features)!=null?t:[]];let r={_features:i};const a=r._features.reduce((m,p)=>Object.assign(m,p.getDefaultOptions==null?void 0:p.getDefaultOptions(r)),{}),o=m=>r.options.mergeOptions?r.options.mergeOptions(a,m):{...a,...m};let c={...{},...(n=e.initialState)!=null?n:{}};r._features.forEach(m=>{var p;c=(p=m.getInitialState==null?void 0:m.getInitialState(c))!=null?p:c});const u=[];let d=!1;const h={_features:i,options:{...a,...e},initialState:c,_queue:m=>{u.push(m),d||(d=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();d=!1}).catch(p=>setTimeout(()=>{throw p})))},reset:()=>{r.setState(r.initialState)},setOptions:m=>{const p=Qp(m,r.options);r.options=o(p)},getState:()=>r.options.state,setState:m=>{r.options.onStateChange==null||r.options.onStateChange(m)},_getRowId:(m,p,v)=>{var S;return(S=r.options.getRowId==null?void 0:r.options.getRowId(m,p,v))!=null?S:`${v?[v.id,p].join("."):p}`},getCoreRowModel:()=>(r._getCoreRowModel||(r._getCoreRowModel=r.options.getCoreRowModel(r)),r._getCoreRowModel()),getRowModel:()=>r.getPaginationRowModel(),getRow:(m,p)=>{let v=(p?r.getPrePaginationRowModel():r.getRowModel()).rowsById[m];if(!v&&(v=r.getCoreRowModel().rowsById[m],!v))throw new Error;return v},_getDefaultColumnDef:Pn(()=>[r.options.defaultColumn],m=>{var p;return m=(p=m)!=null?p:{},{header:v=>{const S=v.header.column.columnDef;return S.accessorKey?S.accessorKey:S.accessorFn?S.id:null},cell:v=>{var S,b;return(S=(b=v.renderValue())==null||b.toString==null?void 0:b.toString())!=null?S:null},...r._features.reduce((v,S)=>Object.assign(v,S.getDefaultColumnDef==null?void 0:S.getDefaultColumnDef()),{}),...m}},kn(e,"debugColumns")),_getColumnDefs:()=>r.options.columns,getAllColumns:Pn(()=>[r._getColumnDefs()],m=>{const p=function(v,S,b){return b===void 0&&(b=0),v.map(w=>{const R=ppt(r,w,b,S),E=w;return R.columns=E.columns?p(E.columns,R,b+1):[],R})};return p(m)},kn(e,"debugColumns")),getAllFlatColumns:Pn(()=>[r.getAllColumns()],m=>m.flatMap(p=>p.getFlatColumns()),kn(e,"debugColumns")),_getAllFlatColumnsById:Pn(()=>[r.getAllFlatColumns()],m=>m.reduce((p,v)=>(p[v.id]=v,p),{}),kn(e,"debugColumns")),getAllLeafColumns:Pn(()=>[r.getAllColumns(),r._getOrderColumnsFn()],(m,p)=>{let v=m.flatMap(S=>S.getLeafColumns());return p(v)},kn(e,"debugColumns")),getColumn:m=>r._getAllFlatColumnsById()[m]};Object.assign(r,h);for(let m=0;m<r._features.length;m++){const p=r._features[m];p==null||p.createTable==null||p.createTable(r)}return r}function Qpt(){return e=>Pn(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},i=function(r,a,o){a===void 0&&(a=0);const l=[];for(let u=0;u<r.length;u++){const d=ypt(e,e._getRowId(r[u],u,o),r[u],u,a,void 0,o==null?void 0:o.id);if(n.flatRows.push(d),n.rowsById[d.id]=d,l.push(d),e.options.getSubRows){var c;d.originalSubRows=e.options.getSubRows(r[u],u),(c=d.originalSubRows)!=null&&c.length&&(d.subRows=i(d.originalSubRows,a+1,d))}}return l};return n.rows=i(t),n},kn(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function Xpt(){return e=>Pn(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const i=e.getState().sorting,r=[],a=i.filter(c=>{var u;return(u=e.getColumn(c.id))==null?void 0:u.getCanSort()}),o={};a.forEach(c=>{const u=e.getColumn(c.id);u&&(o[c.id]={sortUndefined:u.columnDef.sortUndefined,invertSorting:u.columnDef.invertSorting,sortingFn:u.getSortingFn()})});const l=c=>{const u=c.map(d=>({...d}));return u.sort((d,h)=>{for(let p=0;p<a.length;p+=1){var m;const v=a[p],S=o[v.id],b=S.sortUndefined,w=(m=v==null?void 0:v.desc)!=null?m:!1;let R=0;if(b){const E=d.getValue(v.id),_=h.getValue(v.id),N=E===void 0,O=_===void 0;if(N||O){if(b==="first")return N?-1:1;if(b==="last")return N?1:-1;R=N&&O?0:N?b:-b}}if(R===0&&(R=S.sortingFn(d,h,v.id)),R!==0)return w&&(R*=-1),S.invertSorting&&(R*=-1),R}return d.index-h.index}),u.forEach(d=>{var h;r.push(d),(h=d.subRows)!=null&&h.length&&(d.subRows=l(d.subRows))}),u};return{rows:l(n.rows),flatRows:r,rowsById:n.rowsById}},kn(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function bX(e,t){return e?Zpt(e)?g.createElement(e,t):e:null}function Zpt(e){return emt(e)||typeof e=="function"||tmt(e)}function emt(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function tmt(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function nmt(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=g.useState(()=>({current:Jpt(t)})),[i,r]=g.useState(()=>n.current.initialState);return n.current.setOptions(a=>({...a,...e,state:{...i,...e.state},onStateChange:o=>{r(o),e.onStateChange==null||e.onStateChange(o)}})),n.current}function imt({companyId:e,value:t,onChange:n,onBrandIdChange:i,disabled:r,placeholder:a="Type brand name..."}){const o=Yt(),{success:l,error:c}=Jt(),[u,d]=g.useState(t||""),[h,m]=g.useState(!1),p=g.useRef(null),v=g.useRef(null),S=g.useRef(null);g.useEffect(()=>{t!==u&&d(t||"")},[t]);const{data:b=[]}=et({queryKey:["company",e,"item_brands","search",u.trim()],enabled:!!e&&u.trim().length>0,queryFn:async()=>{const j=u.trim(),{data:D,error:P}=await re.from("item_brands").select("id, name").eq("company_id",e).ilike("name",`%${j}%`).order("name",{ascending:!0}).limit(20);if(P)throw P;return D||[]},staleTime:1e3}),w=g.useMemo(()=>{if(!u.trim())return[];const j=u.trim().toLowerCase(),D=b.filter(z=>z.name.toLowerCase()===j),P=b.filter(z=>z.name.toLowerCase().startsWith(j)&&z.name.toLowerCase()!==j),B=b.filter(z=>z.name.toLowerCase().includes(j)&&!z.name.toLowerCase().startsWith(j)),M=b.filter(z=>{const U=z.name.toLowerCase();if(U===j||U.startsWith(j)||U.includes(j))return!1;let K=0;for(let te=0;te<U.length&&K<j.length;te++)U[te]===j[K]&&K++;return K>=Math.ceil(j.length*.7)});return[...D,...P,...B,...M].slice(0,8)},[b,u]),R=j=>{const D=j.target.value;d(D),m(!0),n(D||null),i==null||i(null)},E=j=>{var D;d(j.name),m(!1),n(j.name),i==null||i(j.id),(D=p.current)==null||D.blur()},_=()=>{var D;const j=u.trim();j&&(re.from("item_brands").insert({company_id:e,name:j}).select("id, name").single().then(({data:P,error:B})=>{if(B){re.from("item_brands").select("id, name").eq("company_id",e).ilike("name",j).maybeSingle().then(({data:M,error:z})=>{if(z){c("Failed to save brand",z.message);return}M?(i==null||i(M.id),o.invalidateQueries({queryKey:["company",e,"item_brands"],exact:!1})):c("Failed to save brand",B.message)});return}P&&(S.current={id:P.id,name:P.name},i==null||i(P.id),o.invalidateQueries({queryKey:["company",e,"item_brands"],exact:!1}),l("Brand saved",`"${j}" has been added`,5e3,()=>{S.current&&(re.from("item_brands").delete().eq("id",S.current.id).then(()=>{o.invalidateQueries({queryKey:["company",e,"item_brands"],exact:!1}),i==null||i(null),n(null),d("")}),S.current=null)},"Undo"))}),m(!1),(D=p.current)==null||D.blur())};g.useEffect(()=>{const j=D=>{v.current&&!v.current.contains(D.target)&&p.current&&!p.current.contains(D.target)&&m(!1)};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[]);const N=w.some(j=>j.name.toLowerCase()===u.trim().toLowerCase()),O=u.trim().length>0&&!N&&h;return s.jsxs(X,{style:{position:"relative",width:"100%"},children:[s.jsx(qe,{ref:p,value:u,onChange:R,onFocus:()=>m(!0),disabled:r,placeholder:a}),h&&(w.length>0||O)&&s.jsxs(X,{ref:v,style:{position:"absolute",top:"100%",left:0,right:0,zIndex:1e4,marginTop:4,backgroundColor:"var(--gray-1)",border:"1px solid var(--gray-a6)",borderRadius:8,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",maxHeight:200,overflowY:"auto"},children:[w.map(j=>s.jsx(X,{onClick:()=>E(j),style:{padding:"8px 12px",cursor:"pointer",borderBottom:"1px solid var(--gray-a4)"},onMouseEnter:D=>{D.currentTarget.style.backgroundColor="var(--gray-a3)"},onMouseLeave:D=>{D.currentTarget.style.backgroundColor="transparent"},children:s.jsx(L,{size:"2",children:j.name})},j.id)),O&&s.jsx(X,{onClick:_,style:{padding:"8px 12px",cursor:"pointer",borderTop:"1px solid var(--gray-a4)",backgroundColor:"var(--blue-a2)"},onMouseEnter:j=>{j.currentTarget.style.backgroundColor="var(--blue-a3)"},onMouseLeave:j=>{j.currentTarget.style.backgroundColor="var(--blue-a2)"},children:s.jsx($,{align:"center",gap:"2",children:s.jsxs(L,{size:"2",weight:"medium",children:['+ Create "',u.trim(),'"']})})})]})]})}function uge({open:e,onOpenChange:t,companyId:n,mode:i="create",initialData:r,onSaved:a,showTrigger:o=!0}){var G,H;const{success:l,error:c}=Jt(),u=Yt(),d=_a(),{companyRole:h}=zr(),m=h==="owner",[p,v]=g.useState({name:"",categoryId:null,brandId:null,model:"",allow_individual_booking:!0,total_quantity:0,active:!0,notes:"",nicknames:"",price:void 0,internally_owned:!0,external_owner_id:null}),[S,b]=g.useState(null),w=g.useRef(null),R=(T,Y)=>v(ie=>({...ie,[T]:Y})),E=g.useCallback(()=>{v({name:"",categoryId:null,brandId:null,model:"",allow_individual_booking:!0,total_quantity:0,active:!0,notes:"",nicknames:"",price:void 0,internally_owned:!0,external_owner_id:null}),D(null),b(null),w.current=null},[]),{data:_=[],isLoading:N,error:O}=et({queryKey:["company",n,"item_categories"],enabled:!!n&&e,queryFn:async()=>{const{data:T,error:Y}=await re.from("item_categories").select("id, name").eq("company_id",n).order("name",{ascending:!0});if(Y)throw Y;return T},staleTime:6e4}),[j,D]=g.useState(null),{data:P=[]}=et({...XO({companyId:n}),enabled:!!n&&e});g.useEffect(()=>{e&&i==="create"&&E()},[e,i,E]),g.useEffect(()=>{var Y;if(!e||i!=="edit"||!r)return;const T=((Y=_.find(ie=>ie.name===r.categoryName))==null?void 0:Y.id)??null;D(r.brandName),r.brandName&&re.from("item_brands").select("id, name").eq("company_id",n).ilike("name",r.brandName).maybeSingle().then(({data:ie,error:ne})=>{if(ne){console.error("Failed to preload brand:",ne);return}ie&&R("brandId",ie.id)}),w.current=r.price??null,v(ie=>ie.name===r.name&&ie.categoryId===T&&ie.model===(r.model??"")&&ie.allow_individual_booking===r.allow_individual_booking&&ie.total_quantity===r.total_quantity&&ie.active===r.active&&ie.notes===(r.notes??"")&&ie.nicknames===(r.nicknames??"")&&ie.price===r.price?ie:{name:r.name,categoryId:T,brandId:null,model:r.model??"",allow_individual_booking:r.allow_individual_booking,total_quantity:r.total_quantity,active:r.active,notes:r.notes??"",nicknames:r.nicknames??"",price:r.price,internally_owned:r.internally_owned,external_owner_id:r.external_owner_id??null})},[e,i,r,_]);const B=bt({mutationFn:async T=>{var J;if(!n)throw new Error("No company selected");let Y=T.brandId;if(j&&j.trim()&&!Y){const ee=j.trim(),{data:se,error:de}=await re.from("item_brands").select("id").eq("company_id",n).ilike("name",ee).maybeSingle();if(de)throw de;if(se)Y=se.id;else{const{data:he,error:me}=await re.from("item_brands").insert({company_id:n,name:ee}).select("id").single();if(me)throw me;Y=he.id}}const{data:ie,error:ne}=await re.rpc("create_item_with_price",{p_company_id:n,p_name:T.name,p_category_id:T.categoryId??null,p_brand_id:Y??null,p_model:T.model||null,p_allow_individual_booking:T.allow_individual_booking,p_total_quantity:T.total_quantity||0,p_active:T.active,p_notes:T.notes||null,p_nicknames:T.nicknames||null,p_price:T.price??null,p_effective_from:null});if(ne)throw ne;if(ie){const{error:ee}=await re.from("items").update({internally_owned:T.internally_owned,external_owner_id:T.internally_owned?null:T.external_owner_id}).eq("id",ie);if(ee)throw ee;try{const{logActivity:se}=await $l(async()=>{const{logActivity:de}=await Promise.resolve().then(()=>tv);return{logActivity:de}},void 0);await se({companyId:n,activityType:"inventory_item_created",metadata:{item_id:ie,item_name:T.name,category:T.categoryId?(J=_.find(de=>de.id===T.categoryId))==null?void 0:J.name:null},title:T.name})}catch(se){console.error("Failed to log activity:",se)}}},onSuccess:async()=>{await Promise.all([u.invalidateQueries({queryKey:["company",n,"inventory-index"],exact:!1}),u.invalidateQueries({queryKey:["company",n,"items"],exact:!1}),u.invalidateQueries({queryKey:["company",n,"latest-feed"],exact:!1}),u.invalidateQueries({queryKey:["company",n,"item_brands"],exact:!1})]),E(),t(!1),l("Success!","Item was added to inventory"),a==null||a()},onError:T=>{c("Failed to create item",(T==null?void 0:T.message)??"Please try again.")}}),M=bt({mutationFn:async T=>{if(!n)throw new Error("No company selected");if(!(r!=null&&r.id))throw new Error("Missing item id");let Y=T.brandId;if(j&&j.trim()&&!Y){const ee=j.trim(),{data:se,error:de}=await re.from("item_brands").select("id").eq("company_id",n).ilike("name",ee).maybeSingle();if(de)throw de;if(se)Y=se.id;else{const{data:he,error:me}=await re.from("item_brands").insert({company_id:n,name:ee}).select("id").single();if(me)throw me;Y=he.id}}const{error:ie}=await re.from("items").update({name:T.name,category_id:T.categoryId??null,brand_id:Y??null,model:T.model||null,allow_individual_booking:T.allow_individual_booking,total_quantity:T.total_quantity||0,active:T.active,notes:T.notes||null,nicknames:T.nicknames||null,internally_owned:T.internally_owned,external_owner_id:T.internally_owned?null:T.external_owner_id}).eq("company_id",n).eq("id",r.id);if(ie)throw ie;const ne=T.price===void 0?w.current:T.price;if(ne!==w.current&&ne!=null){const{error:ee}=await re.from("item_price_history").insert({company_id:n,item_id:r.id,amount:ne});if(ee)throw ee}},onSuccess:async()=>{D(null),await Promise.all([u.invalidateQueries({queryKey:["company",n,"inventory-index"],exact:!1}),u.invalidateQueries({queryKey:["company",n,"inventory-detail"],exact:!1}),u.invalidateQueries({queryKey:["company",n,"items"],exact:!1}),u.invalidateQueries({queryKey:["company",n,"item_brands"],exact:!1})]),t(!1),l("Saved","Item was updated."),a==null||a()},onError:T=>{c("Failed to update item",(T==null?void 0:T.message)??"Please try again.")}}),z=N,U=i==="create"?B.isPending:M.isPending,[K,te]=g.useState(!1),q=()=>{i==="edit"?te(!0):B.mutate(p)},V=()=>{te(!1),M.mutate(p)},Q=()=>{const T=["XLR Cable 3m","HDMI Cable 5m","DMX Cable 10m","Power Cable 2m","USB-C Cable 1m","Ethernet Cable 15m","Audio Interface","Microphone Stand","Speaker Stand","Light Stand","Gobo Holder","Color Gel","Fog Machine","Wireless Mic","DI Box"],Y=["Neutrik","Mogami","Canare","Shure","Sennheiser","Yamaha","Behringer","Audio-Technica","Rode","Manfrotto"],ie=["Pro","Standard","Premium","Elite","X1","X2","2024","Classic","Plus","Ultra"],ne=["Test item for inventory management","Used for production testing","Standard equipment item","Backup item in stock","Primary equipment","Reserve stock item"],J=T[Math.floor(Math.random()*T.length)],ee=Y[Math.floor(Math.random()*Y.length)],se=ie[Math.floor(Math.random()*ie.length)],de=ne[Math.floor(Math.random()*ne.length)],he=Math.floor(Math.random()*50)+1,me=Math.floor(Math.random()*5e3)+100,we=_.length>0?_[Math.floor(Math.random()*_.length)]:null,le=P.length>0?P[Math.floor(Math.random()*P.length)]:null,ue=Math.random()>.3;v({name:J,categoryId:(we==null?void 0:we.id)??null,brandId:null,model:se,allow_individual_booking:Math.random()>.5,total_quantity:he,active:Math.random()>.2,notes:de,nicknames:"",price:me,internally_owned:ue,external_owner_id:ue?null:(le==null?void 0:le.id)??null}),D(ee)},ce=i==="edit"?"Edit item":"Add item to inventory",ae=i==="edit"?U?"Saving":"Save":U?"Saving":"Create";return s.jsxs(s.Fragment,{children:[s.jsxs(rn,{open:e,onOpenChange:t,children:[i==="create"&&o&&s.jsx(U2,{children:s.jsxs(pe,{size:"2",variant:"solid",children:[s.jsx(yi,{})," Add item"]})}),s.jsxs(an,{maxWidth:"640px",children:[s.jsxs($,{align:"center",justify:"between",children:[s.jsx(cn,{children:ce}),i==="create"&&s.jsxs(pe,{size:"2",variant:"soft",onClick:Q,type:"button",style:{marginLeft:"auto"},children:[s.jsx(um,{width:16,height:16}),"Auto-fill"]})]}),s.jsx(vr,{size:"2",color:"gray",mt:"1",children:"Add item details, including category, brand, and pricing."}),s.jsxs($,{direction:"column",gap:"3",mt:"1",children:[s.jsx(xc,{label:"Name",children:s.jsx(qe,{placeholder:"e.g. XLR 3m",value:p.name,onChange:T=>R("name",T.target.value)})}),s.jsxs($,{gap:"3",wrap:"wrap",children:[s.jsx(xc,{label:"Category",children:s.jsxs(Vn,{value:p.categoryId??void 0,onValueChange:T=>{T==="__new_category__"?(d({to:"/company",search:{tab:"setup"}}),t(!1)):R("categoryId",T)},disabled:z,children:[s.jsx(Kn,{placeholder:z?"Loading":"Select category",style:{width:"100%"}}),s.jsx(Gn,{style:{zIndex:1e4},children:s.jsxs(Rx,{children:[_.map(T=>s.jsx(wt,{value:T.id,children:T.name},T.id)),m&&s.jsxs(s.Fragment,{children:[s.jsx(Xse,{}),s.jsx(wt,{value:"__new_category__",children:"+ New category"})]})]})})]})}),s.jsx(xc,{label:"Brand",children:s.jsx(imt,{companyId:n,value:j,onChange:T=>{D(T),T||R("brandId",null)},onBrandIdChange:T=>R("brandId",T),disabled:z,placeholder:"Type brand name..."})}),s.jsx(xc,{label:"Model",children:s.jsx(qe,{value:p.model??"",onChange:T=>R("model",T.target.value),placeholder:"e.g. Pro, Standard, 2024"})}),s.jsx(xc,{label:"Owner",children:s.jsxs(Vn,{value:p.internally_owned?"internal":"external",onValueChange:T=>{const Y=T==="internal";R("internally_owned",Y),Y&&R("external_owner_id",null)},children:[s.jsx(Kn,{}),s.jsxs(Gn,{style:{zIndex:1e4},children:[s.jsx(wt,{value:"internal",children:"Internal"}),s.jsx(wt,{value:"external",children:"External"})]})]})}),s.jsx(xc,{label:"External owner",children:s.jsxs(Vn,{value:p.external_owner_id??void 0,onValueChange:T=>R("external_owner_id",T),disabled:p.internally_owned,children:[s.jsx(Kn,{placeholder:"Select partner"}),s.jsx(Gn,{style:{zIndex:1e4},children:s.jsx(Rx,{children:P.map(T=>s.jsx(wt,{value:T.id,children:T.name},T.id))})})]})})]}),s.jsxs($,{gap:"3",wrap:"wrap",children:[s.jsx(xc,{label:"Allow individual booking",children:s.jsx(Ro,{checked:p.allow_individual_booking,onCheckedChange:T=>R("allow_individual_booking",!!T)})}),s.jsx(xc,{label:"Active",children:s.jsx(Ro,{checked:p.active,onCheckedChange:T=>R("active",!!T)})}),s.jsx(xc,{label:"Total quantity",children:s.jsx(qe,{type:"number",inputMode:"numeric",min:"0",value:S??String(p.total_quantity),onChange:T=>{const Y=T.target.value;if(b(Y),Y==="")return;const ie=Number(Y);Number.isNaN(ie)||(R("total_quantity",Math.max(0,ie)),b(null))},onBlur:()=>{S===""&&b(null)}})})]}),s.jsx($,{gap:"3",wrap:"wrap",children:s.jsx(xc,{label:i==="edit"?"Price (creates history if changed)":"Price",children:s.jsx(qe,{type:"number",inputMode:"decimal",step:"0.01",min:"0",placeholder:"e.g. 199.00",value:p.price==null?"":String(p.price),onChange:T=>R("price",T.target.value===""?null:Number(T.target.value))})})}),s.jsx(xc,{label:"Notes",children:s.jsx(Ci,{rows:3,value:p.notes??"",onChange:T=>R("notes",T.target.value),placeholder:"Optional notes"})}),s.jsx(xc,{label:"Nicknames (search keywords)",children:s.jsx(Ci,{rows:2,value:p.nicknames??"",onChange:T=>R("nicknames",T.target.value),placeholder:"e.g. audio, cable, xlrf, backup"})}),(O||B.isError||M.isError)&&s.jsx(L,{color:"red",children:(O==null?void 0:O.message)||((G=B.error)==null?void 0:G.message)||((H=M.error)==null?void 0:H.message)||"Failed"})]}),s.jsxs($,{gap:"2",mt:"4",justify:"end",children:[s.jsx(Dn,{children:s.jsx(pe,{variant:"soft",children:"Cancel"})}),s.jsx(pe,{onClick:q,disabled:!p.name||U,variant:"solid",children:ae})]})]})]}),s.jsx(Mu,{open:K,onOpenChange:te,children:s.jsxs(Iu,{maxWidth:"480px",children:[s.jsx(Pu,{children:"Save changes?"}),s.jsx(ku,{size:"2",children:"Youre about to update this item. If you changed the price, a new price history entry will be added. Are you sure you want to continue?"}),s.jsxs($,{gap:"3",justify:"end",mt:"4",children:[s.jsx($u,{children:s.jsx(pe,{variant:"soft",children:"Cancel"})}),s.jsx(zd,{children:s.jsx(pe,{variant:"solid",onClick:V,children:"Yes, save"})})]})]})})]})}function xc({label:e,children:t}){return s.jsxs("div",{style:{flex:"1 1",minWidth:160},children:[s.jsx(L,{as:"label",size:"2",color:"gray",style:{display:"block",marginBottom:6},children:e}),t]})}function dge({open:e,onOpenChange:t,companyId:n,mode:i="create",initialData:r,onSaved:a,showTrigger:o=!0}){var G,H;const l=Yt(),{success:c,error:u}=Jt();_a(),zr();const d=g.useMemo(()=>new Intl.NumberFormat(void 0,{style:"currency",currency:"NOK",minimumFractionDigits:2}),[]),[h,m]=g.useState({name:"",categoryId:null,description:"",active:!0,price:null,parts:[],internally_owned:!0,external_owner_id:null}),[p,v]=g.useState({}),S=g.useCallback(T=>T.replace(/[(),]/g," ").replace(/\s+/g," ").trim(),[]),b=(T,Y)=>m(ie=>({...ie,[T]:Y})),w=g.useRef(null),R=g.useCallback(()=>{m({name:"",categoryId:null,description:"",active:!0,price:null,parts:[],internally_owned:!0,external_owner_id:null}),j(""),w.current=null},[]),{data:E=[],isLoading:_,error:N}=et({queryKey:["company",n,"item_categories"],enabled:!!n&&e,queryFn:async()=>{const{data:T,error:Y}=await re.from("item_categories").select("id, name").eq("company_id",n).order("name",{ascending:!0});if(Y)throw Y;return T},staleTime:6e4}),[O,j]=g.useState(""),D=g.useCallback((T,Y)=>{const ie=Y.trim().toLowerCase();return ie?[T.name,T.category_name,T.brand_name,T.model,T.description,T.nicknames].some(ne=>ne==null?void 0:ne.toLowerCase().includes(ie)):!0},[]),{data:P=[],isLoading:B,isFetching:M,error:z}=et({queryKey:["company",n,"picker-items-groups",O],enabled:!!n&&e,queryFn:async()=>{let T=[],Y=[];if(O){const{data:Le,error:Be}=await re.from("item_brands").select("id").eq("company_id",n).ilike("name",`%${O}%`).limit(20);if(Be)throw Be;T=Le.map(lt=>lt.id);const{data:ke,error:Ee}=await re.from("item_categories").select("id").eq("company_id",n).ilike("name",`%${O}%`).limit(20);if(Ee)throw Ee;Y=ke.map(lt=>lt.id)}let ie=re.from("items").select("id, name, total_quantity, model, notes, nicknames, item_brands(name), item_categories(name)").eq("company_id",n).eq("active",!0).or("deleted.is.null,deleted.eq.false").limit(20);if(O){const Le=S(O),Be=[`name.ilike.%${Le}%`,`model.ilike.%${Le}%`,`notes.ilike.%${Le}%`,`nicknames.ilike.%${Le}%`];T.length&&Be.push(`brand_id.in.(${T.join(",")})`),Y.length&&Be.push(`category_id.in.(${Y.join(",")})`),ie=ie.or(Be.join(","))}const{data:ne,error:J}=await ie;if(J)throw J;let ee=re.from("item_groups").select("id, name, description").eq("company_id",n).eq("active",!0).or("deleted.is.null,deleted.eq.false").limit(20);if(O){const Le=S(O);ee=ee.or(`name.ilike.%${Le}%,description.ilike.%${Le}%`)}i==="edit"&&(r!=null&&r.id)&&(ee=ee.neq("id",r.id));const{data:se,error:de}=await ee;if(de)throw de;const he=ne.map(Le=>Le.id);let me={};if(he.length){const{data:Le,error:Be}=await re.from("item_current_price").select("item_id, current_price").in("item_id",he);if(Be)throw Be;me=Le.reduce((ke,Ee)=>(Ee.item_id&&(ke[Ee.item_id]=Ee.current_price),ke),{})}const we=se.map(Le=>Le.id);let le={};if(we.length){const{data:Le,error:Be}=await re.from("group_current_price").select("group_id, current_price").in("group_id",we);if(Be)throw Be;le=Le.reduce((ke,Ee)=>(Ee.group_id&&(ke[Ee.group_id]=Ee.current_price),ke),{})}const ue=ne.map(Le=>{var Be,ke;return{id:Le.id,name:Le.name,current_price:Le.id?me[Le.id]??null:null,on_hand:Le.total_quantity??null,type:"item",category_name:((Be=Le.item_categories)==null?void 0:Be.name)??null,brand_name:((ke=Le.item_brands)==null?void 0:ke.name)??null,model:Le.model??null,description:Le.notes??null,nicknames:Le.nicknames??null}}),De=se.map(Le=>({id:Le.id,name:Le.name,current_price:Le.id?le[Le.id]??null:null,on_hand:null,type:"group",description:Le.description??null}));return[...ue,...De]},staleTime:15e3}),{data:U=[]}=et({...n?XO({companyId:n}):{queryKey:["company","__none__","partner-customers"],queryFn:async()=>[]},enabled:!!n&&e});g.useEffect(()=>{e&&i==="create"&&R()},[e,i,R]),g.useEffect(()=>{var ie;if(!e||i!=="edit"||!r)return;const T=((ie=E.find(ne=>ne.name===r.categoryName))==null?void 0:ie.id)??null;w.current=r.price??null;const Y=r.parts.map(ne=>({item_id:ne.item_id??null,child_group_id:ne.child_group_id??null,item_name:ne.item_name,quantity:ne.quantity,unit_price:ne.item_current_price,part_type:ne.part_type?ne.part_type:ne.item_id?"item":"group"}));m(ne=>ne.name===r.name?ne:{...ne,name:r.name,categoryId:T,description:r.description||"",active:r.active,price:r.price,parts:Y,internally_owned:r.internally_owned,external_owner_id:r.external_owner_id})},[e,i,r,E]);const K=bt({mutationFn:async T=>{var ie;if(!n)throw new Error("No company selected");let Y;if(T.price!=null&&!Number.isNaN(Number(T.price))){const{data:ne,error:J}=await re.from("item_groups").insert({company_id:n,name:T.name.trim(),category_id:T.categoryId,description:T.description||null,active:T.active,internally_owned:T.internally_owned,external_owner_id:T.internally_owned?null:T.external_owner_id}).select("id").single();if(J)throw J;Y=ne.id}else{const{data:ne,error:J}=await re.from("item_groups").insert({company_id:n,name:T.name.trim(),category_id:T.categoryId,description:T.description||null,active:T.active,internally_owned:T.internally_owned,external_owner_id:T.internally_owned?null:T.external_owner_id}).select("id").single();if(J)throw J;Y=ne.id}if(T.parts.length&&Y){const{error:ne}=await re.from("group_items").insert(T.parts.map(J=>({group_id:Y,item_id:J.item_id??void 0,child_group_id:J.child_group_id??void 0,quantity:J.quantity})));if(ne)throw await re.from("item_groups").delete().eq("id",Y),ne}if(T.price!=null&&!Number.isNaN(Number(T.price))&&Y){const{error:ne}=await re.from("group_price_history").insert({company_id:n,group_id:Y,amount:T.price});if(ne)throw await re.from("item_groups").delete().eq("id",Y),ne}if(Y)try{const{logActivity:ne}=await $l(async()=>{const{logActivity:J}=await Promise.resolve().then(()=>tv);return{logActivity:J}},void 0);await ne({companyId:n,activityType:"inventory_group_created",metadata:{group_id:Y,group_name:T.name.trim(),category:T.categoryId?(ie=E.find(J=>J.id===T.categoryId))==null?void 0:ie.name:null},title:T.name.trim()})}catch(ne){console.error("Failed to log activity:",ne)}},onSuccess:async()=>{await Promise.all([l.invalidateQueries({queryKey:["company",n,"inventory-index"],exact:!1}),l.invalidateQueries({queryKey:["company",n,"items"],exact:!1}),l.invalidateQueries({queryKey:["company",n,"groups"],exact:!1}),l.invalidateQueries({queryKey:["company",n,"latest-feed"],exact:!1})]),R(),t(!1),c("Group created","Your group was added successfully."),a==null||a()},onError:T=>{u("Failed to create group",(T==null?void 0:T.message)??"Please try again.")}}),te=bt({mutationFn:async T=>{if(!n)throw new Error("No company selected");if(!(r!=null&&r.id))throw new Error("Missing group id");const{error:Y}=await re.from("item_groups").update({name:T.name.trim(),category_id:T.categoryId,description:T.description||null,active:T.active,internally_owned:T.internally_owned,external_owner_id:T.internally_owned?null:T.external_owner_id}).eq("company_id",n).eq("id",r.id);if(Y)throw Y;const{error:ie}=await re.from("group_items").delete().eq("group_id",r.id);if(ie)throw ie;if(T.parts.length){const{error:ee}=await re.from("group_items").insert(T.parts.map(se=>({group_id:r.id,item_id:se.item_id??void 0,child_group_id:se.child_group_id??void 0,quantity:se.quantity})));if(ee)throw ee}const ne=T.price;if((ne??null)!==(w.current??null)&&ne!=null){const{error:ee}=await re.from("group_price_history").insert({company_id:n,group_id:r.id,amount:ne});if(ee)throw ee}},onSuccess:async()=>{await Promise.all([l.invalidateQueries({queryKey:["company",n,"inventory-index"],exact:!1}),l.invalidateQueries({queryKey:["company",n,"inventory-detail"],exact:!1}),l.invalidateQueries({queryKey:["company",n,"latest-feed"],exact:!1})]),t(!1),c("Group updated","Your group was updated successfully."),a==null||a()},onError:T=>{u("Failed to update group",(T==null?void 0:T.message)??"Please try again.")}}),q=T=>{const Y=h.parts.find(ie=>T.type==="item"&&ie.item_id===T.id||T.type==="group"&&ie.child_group_id===T.id);Y?b("parts",h.parts.map(ie=>ie===Y?{...ie,quantity:ie.quantity+1}:ie)):b("parts",[...h.parts,{item_id:T.type==="item"?T.id:null,child_group_id:T.type==="group"?T.id:null,item_name:T.name,quantity:1,unit_price:T.current_price,part_type:T.type}]),j("")},V=T=>{b("parts",h.parts.filter((Y,ie)=>ie!==T)),v({})},Q=(T,Y)=>`${T.part_type}:${T.item_id??T.child_group_id??"row"}:${Y}`,ce=(T,Y)=>{Y<1||b("parts",h.parts.map((ie,ne)=>ne===T?{...ie,quantity:Y}:ie))},ae=()=>{const T=["Stage Box 8ch","PA System Basic","Lighting Rig Standard","Video Production Kit","Sound Recording Setup","Streaming Equipment","Conference AV Package","Stage Monitor System","Wireless Mic Package","DJ Equipment Bundle"],Y=["Complete stage box setup with 8 channels","Basic PA system for small venues","Standard lighting rig for events","Full video production equipment package","Professional sound recording setup","Complete streaming equipment bundle","Conference AV equipment package","Stage monitor system setup","Wireless microphone package","DJ equipment bundle"],ie=T[Math.floor(Math.random()*T.length)],ne=Y[Math.floor(Math.random()*Y.length)],J=Math.floor(Math.random()*1e4)+1e3,ee=Math.random()>.3,se=U.length>0?U[Math.floor(Math.random()*U.length)]:null,de=E.length>0?E[Math.floor(Math.random()*E.length)]:null;m({name:ie,categoryId:(de==null?void 0:de.id)??null,description:ne,active:Math.random()>.2,price:J,parts:[],internally_owned:ee,external_owner_id:ee?null:(se==null?void 0:se.id)??null})};return s.jsx(s.Fragment,{children:s.jsxs(rn,{open:e,onOpenChange:t,children:[i==="create"&&o&&s.jsx(U2,{children:s.jsxs(pe,{size:"2",variant:"solid",children:[s.jsx(yi,{})," Add group"]})}),s.jsxs(an,{style:{maxWidth:1e3},children:[s.jsxs($,{align:"center",justify:"between",children:[s.jsx(cn,{children:i==="create"?"Create Group":"Edit Group"}),i==="create"&&s.jsxs(pe,{size:"2",variant:"soft",onClick:ae,type:"button",style:{marginLeft:"auto"},children:[s.jsx(um,{width:16,height:16}),"Auto-fill"]})]}),s.jsxs(Zn,{columns:"2",gap:"4",mt:"4",children:[s.jsxs($,{direction:"column",gap:"3",children:[s.jsx(qe,{placeholder:"Group name",value:h.name,onChange:T=>b("name",T.target.value)}),s.jsxs(Vn,{value:h.categoryId??"__none__",onValueChange:T=>b("categoryId",T==="__none__"?null:T),children:[s.jsx(Kn,{children:h.categoryId&&((G=E.find(T=>T.id===h.categoryId))==null?void 0:G.name)||"Category (optional)"}),s.jsxs(Gn,{style:{zIndex:1e4},children:[s.jsx(wt,{value:"__none__",children:"None"}),E.map(T=>s.jsx(wt,{value:T.id,children:T.name},T.id))]})]}),s.jsx(Ci,{placeholder:"Description (optional)",value:h.description,onChange:T=>b("description",T.target.value),rows:3}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx("input",{type:"checkbox",checked:h.active,onChange:T=>b("active",T.target.checked)}),"Active"]}),s.jsx(qe,{type:"number",placeholder:"Price (optional)",value:h.price??"",onChange:T=>b("price",T.target.value?Number(T.target.value):null)}),s.jsx(st,{}),s.jsx(L,{size:"2",weight:"bold",children:"Ownership"}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx("input",{type:"checkbox",checked:h.internally_owned,onChange:T=>b("internally_owned",T.target.checked)}),"Internally owned"]}),!h.internally_owned&&s.jsxs(Vn,{value:h.external_owner_id??"__none__",onValueChange:T=>b("external_owner_id",T==="__none__"?null:T),children:[s.jsx(Kn,{children:h.external_owner_id&&((H=U.find(T=>T.id===h.external_owner_id))==null?void 0:H.name)||"Select partner"}),s.jsxs(Gn,{style:{zIndex:1e4},children:[s.jsx(wt,{value:"__none__",children:"None"}),U.map(T=>s.jsx(wt,{value:T.id,children:T.name},T.id))]})]}),s.jsxs($,{gap:"2",justify:"end",mt:"auto",children:[s.jsx(pe,{variant:"soft",onClick:()=>t(!1),children:"Cancel"}),s.jsx(pe,{onClick:()=>{i==="create"?K.mutate(h):te.mutate(h)},disabled:!h.name.trim()||K.isPending||te.isPending,children:i==="create"?"Create":"Update"})]})]}),s.jsxs($,{direction:"column",gap:"3",children:[s.jsx(L,{size:"2",weight:"bold",children:"Parts"}),s.jsxs($,{direction:"column",gap:"2",children:[s.jsx(L,{size:"2",color:"gray",children:"Search & Add"}),s.jsxs(X,{style:{position:"relative"},children:[s.jsxs($,{gap:"2",children:[s.jsx(qe,{placeholder:"Search items or groups...",value:O,onChange:T=>j(T.target.value),style:{flex:1}}),B&&s.jsx(Ei,{})]}),O&&s.jsx(X,{style:{position:"absolute",top:"100%",left:0,right:0,marginTop:"4px",border:"1px solid var(--gray-a6)",borderRadius:"4px",maxHeight:"200px",overflowY:"auto",backgroundColor:"var(--gray-1)",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",zIndex:1e3},children:P.filter(T=>D(T,O)).map(T=>s.jsx(X,{onClick:()=>q(T),style:{padding:"8px 12px",cursor:"pointer",borderBottom:"1px solid var(--gray-a6)"},onMouseEnter:Y=>{Y.currentTarget.style.backgroundColor="var(--gray-a3)"},onMouseLeave:Y=>{Y.currentTarget.style.backgroundColor="transparent"},children:s.jsxs($,{direction:"column",gap:"1",children:[s.jsxs($,{justify:"between",align:"center",children:[s.jsxs($,{align:"center",gap:"2",children:[s.jsx(L,{size:"2",weight:"medium",children:T.name}),T.type==="group"&&s.jsx(mt,{color:"blue",size:"1",children:"Group"})]}),T.current_price!=null&&s.jsx(L,{size:"1",color:"gray",children:d.format(T.current_price)})]}),T.type==="item"&&T.on_hand!=null&&s.jsxs(L,{size:"1",color:"gray",children:["On hand: ",T.on_hand]})]})},T.id))})]})]}),s.jsxs($,{direction:"column",gap:"2",style:{flex:1,minHeight:0},children:[s.jsxs(L,{size:"2",color:"gray",children:["Added Parts (",h.parts.length,")"]}),h.parts.length>0?s.jsx(X,{style:{border:"1px solid var(--gray-a6)",borderRadius:"4px",flex:1,minHeight:0,overflowY:"auto"},children:s.jsxs(Hn,{size:"1",children:[s.jsx(Qn,{children:s.jsxs(ht,{children:[s.jsx(ze,{children:"Name"}),s.jsx(ze,{children:"Qty"}),s.jsx(ze,{})]})}),s.jsx(qn,{children:h.parts.map((T,Y)=>s.jsxs(ht,{children:[s.jsx(Oe,{children:s.jsxs($,{direction:"column",gap:"1",children:[s.jsxs($,{align:"center",gap:"2",children:[s.jsx(L,{size:"2",children:T.item_name}),T.part_type==="group"&&s.jsx(mt,{color:"blue",size:"1",children:"Group"})]}),T.unit_price!=null&&s.jsxs(L,{size:"1",color:"gray",children:[d.format(T.unit_price)," each"]})]})}),s.jsx(Oe,{children:s.jsx(qe,{type:"number",value:p[Q(T,Y)]??String(T.quantity),onChange:ie=>{const ne=ie.target.value,J=Q(T,Y);if(v(se=>({...se,[J]:ne})),ne==="")return;const ee=Number(ne);Number.isNaN(ee)||(ce(Y,Math.max(1,ee)),v(se=>{const de={...se};return delete de[J],de}))},onBlur:()=>{const ie=Q(T,Y);p[ie]===""&&v(ne=>{const J={...ne};return delete J[ie],J})},style:{width:"60px"},size:"1"})}),s.jsx(Oe,{children:s.jsx(Mn,{size:"1",color:"red",variant:"soft",onClick:()=>V(Y),children:s.jsx(vi,{width:14,height:14})})})]},Y))})]})}):s.jsx(X,{style:{border:"1px solid var(--gray-a6)",borderRadius:"4px",padding:"24px",textAlign:"center",flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsxs(L,{size:"2",color:"gray",children:["No parts added yet.",s.jsx("br",{}),"Search and click items to add them."]})})]})]})]})]})]})})}function xX({selectedId:e,onSelect:t,showActive:n,showInactive:i,showInternal:r,showExternal:a,showGroupOnlyItems:o,showGroups:l,showItems:c,pageSizeOverride:u}){const{companyId:d}=En(),[h,m]=g.useState(1),[p,v]=g.useState(""),[S]=W8(p,{wait:300}),[b,w]=g.useState(null),[R,E]=g.useState([{id:"name",desc:!1}]),[_,N]=g.useState("name"),[O,j]=g.useState("asc"),[D,P]=g.useState(!1),[B,M]=g.useState(!1),z=g.useRef(null),U=g.useRef(null),K=g.useRef(null),te=g.useRef(null),[q,V]=g.useState(12),Q=u??q,ce=g.useCallback(()=>{var Le,Be,ke,Ee,lt,Mt;const J=((Le=z.current)==null?void 0:Le.getBoundingClientRect().height)??window.innerHeight,ee=((Be=U.current)==null?void 0:Be.offsetHeight)??0,se=((ke=K.current)==null?void 0:ke.offsetHeight)??0,de=((Ee=te.current)==null?void 0:Ee.offsetHeight)??0,me=Math.max(0,J-ee-se-de-32),le=((lt=z.current)==null?void 0:lt.querySelector("tbody tr:not([data-row-probe])"))||((Mt=z.current)==null?void 0:Mt.querySelector("tbody tr[data-row-probe]")),ue=(le==null?void 0:le.getBoundingClientRect().height)||44,De=Math.max(5,Math.floor(me/ue));V(De)},[]),{data:ae,isLoading:G,isFetching:H}=et({...Yce({companyId:d??"__none__",page:h,pageSize:Q,search:S,showActive:n,showInactive:i,showInternal:r,showExternal:a,showGroupOnlyItems:o,showGroups:l,showItems:c,category:b,sortBy:_,sortDir:O}),enabled:!!d});g.useEffect(()=>{if(u!=null)return;const J=()=>ce();return window.addEventListener("resize",J),ce(),()=>window.removeEventListener("resize",J)},[ce]),g.useEffect(()=>{if(u!=null||!(ae!=null&&ae.rows)||ae.rows.length===0)return;const J=requestAnimationFrame(ce);return()=>cancelAnimationFrame(J)},[u,ae,R,p,b,_,O,n,i,r,a,o,l,c,ce]);const{data:T=[]}=et({...Wce({companyId:d??"__none__"}),enabled:!!d}),Y=g.useMemo(()=>new Intl.NumberFormat(void 0,{style:"currency",currency:"NOK",minimumFractionDigits:2}),[]),ie=g.useMemo(()=>[{accessorKey:"name",header:"Name",cell:J=>{const ee=J.row.original;return s.jsxs($,{align:"center",gap:"2",children:[s.jsx(L,{size:"2",weight:"medium",children:ee.name}),ee.is_group&&s.jsx(mt,{size:"1",variant:"soft",color:"pink",children:"Group"}),ee.active===!1&&s.jsx(mt,{size:"1",variant:"soft",color:"red",children:"Inactive"})]})}},{accessorKey:"category_name",header:"Category",cell:J=>s.jsx(L,{size:"2",color:"gray",children:String(J.getValue()??"").toUpperCase()})},{accessorKey:"brand_name",header:"Brand",cell:J=>s.jsx(L,{size:"2",color:"gray",children:String(J.getValue()??"")})},{accessorKey:"on_hand",header:"On hand",cell:J=>String(J.getValue()??"")},{id:"price",header:"Price",cell:J=>{const ee=J.row.original;return ee.current_price==null?"":Y.format(Number(ee.current_price))}},{id:"owner",header:"Owner",cell:J=>{const ee=J.row.original;return ee.internally_owned?s.jsx(mt,{size:"1",variant:"soft",color:"indigo",children:"Internal"}):s.jsx(mt,{size:"1",variant:"soft",color:"amber",children:ee.external_owner_name??"External"})}}],[Y]),ne=nmt({data:ae==null?void 0:ae.rows,state:{sorting:R},columns:ie,onSortingChange:E,getCoreRowModel:Qpt(),getSortedRowModel:Xpt(),manualSorting:!0});return s.jsxs("div",{ref:z,style:{height:"100%",minHeight:0},children:[s.jsxs($,{ref:U,gap:"2",align:"center",wrap:"wrap",children:[s.jsxs(qe,{value:p,onChange:J=>{m(1),v(J.target.value)},placeholder:"Search items, groups",size:"3",style:{flex:"1 1 260px"},children:[s.jsx(Sr,{side:"left",children:s.jsx(qu,{})}),s.jsx(Sr,{side:"right",children:H&&s.jsx(Ei,{})})]}),s.jsxs(Vn,{value:b??"",size:"3",onValueChange:J=>{m(1),w(J===""?null:J)},children:[s.jsx(Kn,{placeholder:"Filter category",style:{minHeight:"var(--space-7)"}}),s.jsxs(Gn,{children:[s.jsx(wt,{value:"all",children:"All"}),T.map(J=>s.jsx(wt,{value:J,children:J.toUpperCase()},J))]})]}),s.jsxs(pe,{size:"2",variant:"solid",onClick:()=>P(!0),children:[s.jsx(yi,{width:16,height:16})," Add item"]}),s.jsxs(pe,{size:"2",variant:"solid",onClick:()=>M(!0),children:[s.jsx(yi,{width:16,height:16})," Add group"]})]}),s.jsxs(Hn,{variant:"surface",style:{marginTop:16},children:[s.jsx(Qn,{ref:K,children:ne.getHeaderGroups().map(J=>s.jsx(ht,{children:J.headers.map(ee=>{const se=ee.column.id,he=["name","category_name","brand_name","on_hand","current_price"].includes(se),me=_===se,we=me?O==="asc"?" ":" ":"",le=()=>{he&&(m(1),me?j(ue=>ue==="asc"?"desc":"asc"):(N(se),j("asc")))};return s.jsxs(ze,{onClick:he?le:void 0,style:{cursor:he?"pointer":void 0,userSelect:"none"},title:he?"Click to sort":void 0,children:[bX(ee.column.columnDef.header,ee.getContext()),we]},ee.id)})},J.id))}),s.jsx(qn,{children:G?s.jsx(ht,{children:s.jsx(Oe,{colSpan:ie.length,children:"Loading"})}):ne.getRowModel().rows.length===0?s.jsx(ht,{children:s.jsx(Oe,{colSpan:ie.length,style:{textAlign:"center",padding:"var(--space-3)"},children:s.jsx(L,{size:"2",color:"gray",children:"No results"})})}):s.jsxs(s.Fragment,{children:[ne.getRowModel().rows.map(J=>{const ee=J.original.id===e;return s.jsx(ht,{onClick:()=>t(J.original.id),style:{cursor:"pointer",background:ee?"var(--accent-a3)":void 0},"data-state":ee?"active":void 0,children:J.getVisibleCells().map(se=>s.jsx(Oe,{children:bX(se.column.columnDef.cell,se.getContext())},se.id))},J.id)}),s.jsx(ht,{"data-row-probe":!0,style:{display:"none"},children:s.jsx(Oe,{colSpan:ie.length,children:"probe"})})]})})]}),s.jsx("div",{ref:te,children:s.jsxs($,{align:"center",justify:"between",mb:"3",mt:"3",children:[ae&&ae.count>0&&s.jsxs(L,{size:"2",color:"gray",children:["Showing ",(h-1)*Q+1,"-",(h-1)*Q+ae.rows.length," of"," ",ae.count," items"]}),s.jsxs($,{gap:"2",children:[s.jsx(pe,{disabled:h===1,onClick:()=>m(J=>J-1),variant:"solid",size:"2",children:"Prev"}),s.jsx(pe,{disabled:!ae||ae.rows.length<Q,onClick:()=>m(J=>J+1),variant:"solid",size:"2",children:"Next"})]})]})}),s.jsx(uge,{open:D,onOpenChange:P,companyId:d??"",showTrigger:!1}),s.jsx(dge,{open:B,onOpenChange:M,companyId:d??"",showTrigger:!1})]})}function wX({id:e}){const{companyId:t}=En(),{info:n,error:i}=Jt(),[r,a]=g.useState(!1),[o,l]=g.useState(!1),c=Yt(),u=g.useMemo(()=>new Intl.NumberFormat(void 0,{style:"currency",currency:"NOK",minimumFractionDigits:2}),[]),d=bt({mutationFn:async()=>{if(!t||!e)throw new Error("Missing company or id");const j=E.type==="item"?"items":"item_groups",{error:D}=await re.from(j).update({deleted:!0}).eq("company_id",t).eq("id",e);if(D)throw D;try{const{logActivity:P}=await $l(async()=>{const{logActivity:B}=await Promise.resolve().then(()=>tv);return{logActivity:B}},void 0);await P({companyId:t,activityType:E.type==="item"?"inventory_item_deleted":"inventory_group_deleted",metadata:{[E.type==="item"?"item_id":"group_id"]:e,[E.type==="item"?"item_name":"group_name"]:E.name},title:E.name})}catch(P){console.error("Failed to log activity:",P)}},onSuccess:async()=>{await Promise.all([c.invalidateQueries({queryKey:["company",t,"inventory-index"],exact:!1}),c.invalidateQueries({queryKey:["company",t,"inventory-detail"],exact:!1}),c.invalidateQueries({queryKey:["company",t,"latest-feed"],exact:!1})]),n("Deleted","The entry has been deleted."),l(!1)},onError:j=>{i("Failed to delete",(j==null?void 0:j.message)??"Please try again.")}}),h=!!(t&&e),{data:m,isLoading:p,isError:v,error:S}=et({...NFe({companyId:t??"",id:e??""}),enabled:h}),b=(m==null?void 0:m.type)==="item",{data:w=[]}=et({...gFe({companyId:t??"",itemId:e??""}),enabled:h&&!!e&&b}),R=g.useMemo(()=>FO(w),[w]);if(!e)return s.jsx(L,{color:"gray",children:"Select an item/bundle to view details."});if(!h)return s.jsx(L,{color:"gray",children:"Preparing"});if(p)return s.jsxs($,{align:"center",gap:"1",children:[s.jsx(L,{children:"Thinking"}),s.jsx(Ei,{size:"2"})]});if(v)return s.jsxs(L,{color:"red",children:["Failed to load."," ",s.jsx(Ou,{children:(S==null?void 0:S.message)||"Unknown error"})]});if(!m)return s.jsx(L,{color:"red",children:"Not found."});const E=m,_=j=>j?(()=>{const D=new Date(j),P=String(D.getHours()).padStart(2,"0"),B=String(D.getMinutes()).padStart(2,"0");return D.toLocaleString(void 0,{year:"numeric",month:"2-digit",day:"2-digit"})+` ${P}:${B}`})():"",N=E.type==="item"?{id:E.id,name:E.name,categoryName:E.category_name??null,brandName:E.brand_name??null,model:E.model??"",allow_individual_booking:E.allow_individual_booking,active:E.active,notes:E.notes??"",nicknames:E.nicknames??"",price:E.current_price,total_quantity:E.on_hand??0,internally_owned:E.internally_owned,external_owner_id:E.external_owner_id}:void 0,O=E.type==="group"?{id:E.id,name:E.name,categoryName:E.category_name??null,description:E.description??"",active:E.active,price:E.current_price,parts:E.parts.map(j=>({item_id:j.item_id,item_name:j.item_name,quantity:j.quantity,item_current_price:j.item_current_price})),price_history:E.price_history,internally_owned:E.internally_owned,external_owner_id:E.external_owner_id}:void 0;return s.jsxs(X,{children:[s.jsxs($,{align:"center",justify:"between",gap:"2",children:[s.jsxs("div",{children:[s.jsx(L,{as:"div",size:"4",weight:"bold",children:E.name}),s.jsxs(L,{as:"div",color:"gray",size:"2",children:[E.type,E.type==="item"&&E.category_name?`  ${E.category_name.toUpperCase()}`:"",E.type==="item"&&E.brand_name?`  ${E.brand_name}`:"",E.type==="group"&&E.category_name?`  ${E.category_name.toUpperCase()}`:""]})]}),s.jsxs($,{gap:"2",children:[s.jsx(pe,{size:"2",variant:"soft",onClick:()=>a(!0),children:s.jsx(gi,{})}),s.jsx(pe,{size:"2",variant:"surface",color:"red",onClick:()=>l(!0),children:s.jsx(vi,{})})]})]}),s.jsx(st,{my:"3"}),E.type==="item"?s.jsxs($,{direction:"column",gap:"3",children:[s.jsxs(Zn,{columns:{initial:"1",sm:"3"},gap:"3",children:[s.jsx(_b,{label:"On hand",value:s.jsx("b",{children:E.on_hand??0})}),s.jsx(_b,{label:"Current price",value:E.current_price!=null?s.jsx("b",{children:u.format(Number(E.current_price))}):s.jsx(L,{color:"gray",children:""})}),s.jsx(_b,{label:"Booking",value:s.jsx(mt,{color:E.allow_individual_booking?"green":"gray",variant:"soft",children:E.allow_individual_booking?"Individual allowed":"Group-only"})})]}),s.jsxs(Zn,{columns:{initial:"1",sm:"2"},gap:"3",children:[s.jsx(Sp,{label:"Category",value:E.category_name?E.category_name.toUpperCase():""}),s.jsx(Sp,{label:"Brand",value:E.brand_name??""}),s.jsx(Sp,{label:"Owner",value:E.internally_owned?s.jsx(mt,{size:"1",variant:"soft",color:"indigo",children:"Internal"}):s.jsx(mt,{size:"1",variant:"soft",color:"amber",children:E.external_owner_name??"External"})}),s.jsx(Sp,{label:"Status",value:s.jsx(mt,{color:E.active?"green":"red",variant:"soft",children:E.active?"Active":"Inactive"})}),s.jsx(Sp,{label:"Model",value:E.model??""})]}),s.jsxs("div",{children:[s.jsx(L,{as:"div",size:"2",color:"gray",style:{marginBottom:6},children:"Notes"}),s.jsx(X,{p:"2",style:{border:"1px solid var(--gray-a6)",borderRadius:8,minHeight:40},children:s.jsx(L,{size:"2",color:E.notes?void 0:"gray",children:E.notes||"No notes"})})]}),s.jsxs("div",{children:[s.jsx(L,{as:"div",size:"2",color:"gray",style:{marginBottom:6},children:"Nicknames"}),s.jsx(X,{p:"2",style:{border:"1px solid var(--gray-a6)",borderRadius:8,minHeight:40},children:s.jsx(L,{size:"2",color:E.nicknames?void 0:"gray",children:E.nicknames||"No nicknames"})})]}),s.jsxs("div",{children:[s.jsxs($,{align:"baseline",justify:"between",mb:"2",children:[s.jsx(L,{size:"2",color:"gray",children:"Price history"}),s.jsx(L,{size:"1",color:"gray",children:"Most recent first"})]}),E.price_history.length===0?s.jsx(L,{size:"2",color:"gray",children:"No price records yet."}):s.jsx(X,{style:{maxHeight:196,overflowY:"auto",border:"1px solid var(--gray-a6)",borderRadius:8},children:s.jsxs(Hn,{variant:"surface",children:[s.jsx(Qn,{children:s.jsxs(ht,{children:[s.jsx(ze,{children:"Amount"}),s.jsx(ze,{children:"Edited"}),s.jsx(ze,{children:"Set by"})]})}),s.jsx(qn,{children:E.price_history.map(j=>s.jsxs(ht,{children:[s.jsx(Oe,{children:u.format(Number(j.amount))}),s.jsx(Oe,{children:s.jsx(Ou,{children:_(j.effective_from)})}),s.jsx(Oe,{children:j.set_by_name||j.set_by||""})]},j.id))})]})})]}),s.jsx(q8,{events:R,calendarHref:`/calendar?itemId=${e}`,onCreate:j=>{},onUpdate:(j,D)=>{},onDelete:j=>{}})]}):null,E.type==="group"?s.jsxs($,{direction:"column",gap:"3",children:[s.jsxs(Zn,{columns:{initial:"1",sm:"3"},gap:"3",children:[s.jsx(_b,{label:"On hand",value:s.jsx("b",{children:E.on_hand??0})}),s.jsx(_b,{label:"Current price",value:E.current_price!=null?s.jsx("b",{children:u.format(Number(E.current_price))}):s.jsx(L,{color:"gray",children:""})}),s.jsx("div",{})]}),s.jsxs(Zn,{columns:{initial:"1",sm:"2"},gap:"3",children:[s.jsx(Sp,{label:"Category",value:E.category_name?E.category_name.toUpperCase():""}),s.jsx(Sp,{label:"Owner",value:E.internally_owned?s.jsx(mt,{size:"1",variant:"soft",color:"indigo",children:"Internal"}):s.jsx(mt,{size:"1",variant:"soft",color:"amber",children:E.external_owner_name??"External"})}),s.jsx(Sp,{label:"Status",value:s.jsx(mt,{color:E.active?"green":"red",variant:"soft",children:E.active?"Active":"Inactive"})})]}),s.jsxs("div",{children:[s.jsx(L,{as:"div",size:"2",color:"gray",style:{marginBottom:6},children:"Description"}),s.jsx(X,{p:"2",style:{border:"1px solid var(--gray-a6)",borderRadius:8,minHeight:40},children:s.jsx(L,{size:"2",color:E.description?void 0:"gray",children:E.description||"No description"})})]}),s.jsxs("div",{children:[s.jsx(L,{as:"div",size:"2",color:"gray",style:{marginBottom:6},children:"Bundle contents"}),E.parts.length?s.jsxs(Hn,{variant:"surface",children:[s.jsx(Qn,{children:s.jsxs(ht,{children:[s.jsx(ze,{children:"Item"}),s.jsx(ze,{children:"Qty"}),s.jsx(ze,{children:"Unit"}),s.jsx(ze,{children:"Total"})]})}),s.jsxs(qn,{children:[E.parts.map(j=>{const D=j.item_current_price??null,P=D!=null?Number(D)*Number(j.quantity):null;return s.jsxs(ht,{children:[s.jsx(Oe,{children:j.item_name}),s.jsx(Oe,{children:j.quantity}),s.jsx(Oe,{children:D!=null?u.format(Number(D)):""}),s.jsx(Oe,{children:P!=null?u.format(P):""})]},j.item_id)}),s.jsxs(ht,{children:[s.jsx(Oe,{}),s.jsx(Oe,{}),s.jsx(Oe,{style:{fontWeight:600},children:"Parts total"}),s.jsx(Oe,{style:{fontWeight:600},children:u.format(E.parts.reduce((j,D)=>{const P=Number(D.item_current_price??0);return j+P*D.quantity},0))})]})]})]}):s.jsx(L,{size:"2",color:"gray",children:"No parts"})]}),s.jsxs("div",{children:[s.jsxs($,{align:"baseline",justify:"between",mb:"2",children:[s.jsx(L,{size:"2",color:"gray",children:"Price history"}),s.jsx(L,{size:"1",color:"gray",children:"Most recent first"})]}),E.price_history.length?s.jsx(X,{style:{maxHeight:196,overflowY:"auto",border:"1px solid var(--gray-a6)",borderRadius:8},children:s.jsxs(Hn,{variant:"surface",children:[s.jsx(Qn,{children:s.jsxs(ht,{children:[s.jsx(ze,{children:"Amount"}),s.jsx(ze,{children:"Edited"}),s.jsx(ze,{children:"Set by"})]})}),s.jsx(qn,{children:E.price_history.map(j=>s.jsxs(ht,{children:[s.jsx(Oe,{children:u.format(Number(j.amount))}),s.jsx(Oe,{children:s.jsx(Ou,{children:_(j.effective_from)})}),s.jsx(Oe,{children:j.set_by_name||j.set_by||""})]},j.id))})]})}):s.jsx(L,{size:"2",color:"gray",children:"No price records yet."})]})]}):null,E.type==="item"&&s.jsx(uge,{open:r,onOpenChange:a,companyId:t??"",mode:"edit",initialData:N,onSaved:()=>a(!1)}),E.type==="group"&&s.jsx(dge,{open:r,onOpenChange:a,companyId:t??"",mode:"edit",initialData:O,onSaved:()=>a(!1)}),s.jsx(Mu,{open:o,onOpenChange:l,children:s.jsxs(Iu,{maxWidth:"480px",children:[s.jsxs(Pu,{children:["Delete ",E.type,"?"]}),s.jsxs(ku,{size:"2",children:["This will mark the ",E.type," ",s.jsx("b",{children:E.name})," as deleted. It wont be removed permanently, but it will no longer show in the list."]}),s.jsxs($,{gap:"3",justify:"end",mt:"4",children:[s.jsx($u,{children:s.jsx(pe,{variant:"soft",children:"Cancel"})}),s.jsx(zd,{children:s.jsx(pe,{variant:"solid",color:"red",onClick:()=>d.mutate(),disabled:d.isPending,children:d.isPending?"Deleting":"Yes, delete"})})]})]})})]})}function Sp({label:e,value:t}){return s.jsxs("div",{children:[s.jsx(L,{as:"div",size:"1",color:"gray",style:{marginBottom:4},children:e}),s.jsx(L,{as:"div",size:"2",children:t})]})}function _b({label:e,value:t}){return s.jsxs(X,{p:"2",style:{border:"1px solid var(--gray-a6)",borderRadius:8},children:[s.jsx(L,{as:"div",size:"1",color:"gray",style:{marginBottom:2},children:e}),s.jsx(L,{as:"div",size:"2",children:t})]})}function rmt(){const{companyId:e}=En(),n=FN().search,i=n==null?void 0:n.inventoryId,[r,a]=g.useState(i||null);g.useEffect(()=>{i&&a(i)},[i]);const[o,l]=g.useState(!0),[c,u]=g.useState(!1),[d,h]=g.useState(!0),[m,p]=g.useState(!0),[v,S]=g.useState(!1),[b,w]=g.useState(!0),[R,E]=g.useState(!0),[_,N]=g.useState(()=>typeof window<"u"?window.matchMedia("(min-width: 1024px)").matches:!1),[O,j]=g.useState(66.67),[D,P]=g.useState(!1),B=g.useRef(null);return g.useEffect(()=>{const M=window.matchMedia("(min-width: 1024px)"),z=U=>N(U.matches);try{return M.addEventListener("change",z),()=>M.removeEventListener("change",z)}catch{return M.addListener(z),()=>M.removeListener(z)}},[]),g.useEffect(()=>{if(!D)return;const M=U=>{if(!B.current)return;const K=B.current.getBoundingClientRect(),te=K.width,q=U.clientX-K.left,ce=Math.max(25,Math.min(75,q/te*100));j(ce)},z=()=>{P(!1),document.body.style.cursor="",document.body.style.userSelect=""};return document.body.style.cursor="col-resize",document.body.style.userSelect="none",document.addEventListener("mousemove",M),document.addEventListener("mouseup",z),()=>{document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",z),document.body.style.cursor="",document.body.style.userSelect=""}},[D]),e?_?s.jsx("section",{style:{height:_?"100%":void 0,minHeight:0},children:s.jsxs($,{ref:B,gap:"2",align:"stretch",style:{height:_?"100%":void 0,minHeight:0,position:"relative"},children:[s.jsxs(Rt,{size:"3",style:{display:"flex",flexDirection:"column",width:`${O}%`,height:_?"100%":void 0,minWidth:"300px",maxWidth:"75%",minHeight:0,flexShrink:0,transition:D?"none":"width 0.1s ease-out"},children:[s.jsxs($,{align:"center",justify:"between",mb:"3",children:[s.jsx(He,{size:"5",children:"Overview"}),s.jsx(EX,{showActive:o,showInactive:c,showInternal:d,showExternal:m,showGroupOnlyItems:v,showGroups:b,showItems:R,onShowActiveChange:l,onShowInactiveChange:u,onShowInternalChange:h,onShowExternalChange:p,onShowGroupOnlyItemsChange:S,onShowGroupsChange:w,onShowItemsChange:E})]}),s.jsx(st,{size:"4",mb:"3"}),s.jsx(X,{style:{flex:_?1:void 0,minHeight:_?0:void 0,overflowY:_?"auto":"visible"},children:s.jsx(xX,{selectedId:r,onSelect:a,showActive:o,showInactive:c,showInternal:d,showExternal:m,showGroupOnlyItems:v,showGroups:b,showItems:R,pageSizeOverride:_?void 0:12})})]}),s.jsx(X,{className:"section-resizer",onMouseDown:M=>{M.preventDefault(),P(!0)},style:{width:"6px",height:"20%",cursor:"col-resize",backgroundColor:"var(--gray-a4)",borderRadius:"4px",flexShrink:0,alignSelf:"center",userSelect:"none",margin:"0 -4px",zIndex:10,transition:D?"none":"background-color 0.2s"},onMouseEnter:M=>{D||(M.currentTarget.style.backgroundColor="var(--gray-a6)",M.currentTarget.style.cursor="col-resize")},onMouseLeave:M=>{D||(M.currentTarget.style.backgroundColor="var(--gray-a4)")}}),s.jsxs(Rt,{size:"3",style:{display:"flex",flexDirection:"column",flex:1,height:_?"100%":void 0,maxHeight:_?"100%":void 0,overflow:_?"hidden":"visible",minWidth:"300px",minHeight:0,transition:D?"none":"flex-basis 0.1s ease-out"},children:[s.jsx(He,{size:"5",mb:"3",children:"Inspector"}),s.jsx(st,{size:"4",mb:"3"}),s.jsx(X,{style:{flex:_?1:void 0,minHeight:_?0:void 0,overflowY:_?"auto":"visible"},children:s.jsx(wX,{id:r})})]})]})}):s.jsx("section",{style:{height:_?"100%":void 0,minHeight:0},children:s.jsxs(Zn,{columns:"1fr",gap:"4",align:"stretch",style:{height:_?"100%":void 0,minHeight:0},children:[s.jsxs(Rt,{size:"3",style:{display:"flex",flexDirection:"column",height:_?"100%":void 0,minHeight:0},children:[s.jsxs($,{align:"center",justify:"between",mb:"3",children:[s.jsx(He,{size:"5",children:"Overview"}),s.jsx(EX,{showActive:o,showInactive:c,showInternal:d,showExternal:m,showGroupOnlyItems:v,showGroups:b,showItems:R,onShowActiveChange:l,onShowInactiveChange:u,onShowInternalChange:h,onShowExternalChange:p,onShowGroupOnlyItemsChange:S,onShowGroupsChange:w,onShowItemsChange:E})]}),s.jsx(st,{size:"4",mb:"3"}),s.jsx(X,{style:{flex:_?1:void 0,minHeight:_?0:void 0,overflowY:_?"auto":"visible"},children:s.jsx(xX,{selectedId:r,onSelect:a,showActive:o,showInactive:c,showInternal:d,showExternal:m,showGroupOnlyItems:v,showGroups:b,showItems:R,pageSizeOverride:_?void 0:12})})]}),s.jsxs(Rt,{size:"3",style:{display:"flex",flexDirection:"column",height:_?"100%":void 0,maxHeight:_?"100%":void 0,overflow:_?"hidden":"visible",minHeight:0},children:[s.jsx(He,{size:"5",mb:"3",children:"Inspector"}),s.jsx(st,{size:"4",mb:"3"}),s.jsx(X,{style:{flex:_?1:void 0,minHeight:_?0:void 0,overflowY:_?"auto":"visible"},children:s.jsx(wX,{id:r})})]})]})}):s.jsx(VO,{columns:"2fr 1fr"})}function EX({showActive:e,showInactive:t,showInternal:n,showExternal:i,showGroupOnlyItems:r,showGroups:a,showItems:o,onShowActiveChange:l,onShowInactiveChange:c,onShowInternalChange:u,onShowExternalChange:d,onShowGroupOnlyItemsChange:h,onShowGroupsChange:m,onShowItemsChange:p}){const v=[e,t,n,i,r,a,o].filter(Boolean).length,S=v===7?"All filters":v===0?"No filters":`${v} selected`;return s.jsxs(Yg,{children:[s.jsx(Jg,{children:s.jsxs(pe,{variant:"soft",size:"2",children:[s.jsx(L,{children:S}),s.jsx(Za,{width:14,height:14})]})}),s.jsxs(Qg,{children:[s.jsx(ag,{children:"Status"}),s.jsx(Qr,{onSelect:b=>{b.preventDefault(),l(!e)},children:s.jsxs($,{align:"center",gap:"2",children:[s.jsx(fr,{checked:e,onCheckedChange:l}),s.jsx(L,{children:"Active"})]})}),s.jsx(Qr,{onSelect:b=>{b.preventDefault(),c(!t)},children:s.jsxs($,{align:"center",gap:"2",children:[s.jsx(fr,{checked:t,onCheckedChange:c}),s.jsx(L,{children:"Inactive"})]})}),s.jsx(Ag,{}),s.jsx(ag,{children:"Ownership"}),s.jsx(Qr,{onSelect:b=>{b.preventDefault(),u(!n)},children:s.jsxs($,{align:"center",gap:"2",children:[s.jsx(fr,{checked:n,onCheckedChange:u}),s.jsx(L,{children:"Internal"})]})}),s.jsx(Qr,{onSelect:b=>{b.preventDefault(),d(!i)},children:s.jsxs($,{align:"center",gap:"2",children:[s.jsx(fr,{checked:i,onCheckedChange:d}),s.jsx(L,{children:"External"})]})}),s.jsx(Ag,{}),s.jsx(ag,{children:"Type"}),s.jsx(Qr,{onSelect:b=>{b.preventDefault(),h(!r)},children:s.jsxs($,{align:"center",gap:"2",children:[s.jsx(fr,{checked:r,onCheckedChange:h}),s.jsx(L,{children:"Group-only items"})]})}),s.jsx(Qr,{onSelect:b=>{b.preventDefault(),m(!a)},children:s.jsxs($,{align:"center",gap:"2",children:[s.jsx(fr,{checked:a,onCheckedChange:m}),s.jsx(L,{children:"Groups"})]})}),s.jsx(Qr,{onSelect:b=>{b.preventDefault(),p(!o)},children:s.jsxs($,{align:"center",gap:"2",children:[s.jsx(fr,{checked:o,onCheckedChange:p}),s.jsx(L,{children:"Items"})]})})]})]})}const C_=43200,_X=1440,AX=Symbol.for("constructDateFrom");function Z7(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&AX in e?e[AX](t):e instanceof Date?new e.constructor(t):new Date(t)}function vm(e,t){return Z7(e,e)}let amt={};function smt(){return amt}function RX(e){const t=vm(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function e9(e,...t){const n=Z7.bind(null,e||t.find(i=>typeof i=="object"));return t.map(n)}function gA(e,t){const n=+vm(e)-+vm(t);return n<0?-1:n>0?1:n}function omt(e){return Z7(e,Date.now())}function lmt(e,t,n){const[i,r]=e9(n==null?void 0:n.in,e,t),a=i.getFullYear()-r.getFullYear(),o=i.getMonth()-r.getMonth();return a*12+o}function cmt(e){return t=>{const i=(e?Math[e]:Math.trunc)(t);return i===0?0:i}}function umt(e,t){return+vm(e)-+vm(t)}function dmt(e,t){const n=vm(e);return n.setHours(23,59,59,999),n}function fmt(e,t){const n=vm(e),i=n.getMonth();return n.setFullYear(n.getFullYear(),i+1,0),n.setHours(23,59,59,999),n}function hmt(e,t){const n=vm(e);return+dmt(n)==+fmt(n)}function pmt(e,t,n){const[i,r,a]=e9(n==null?void 0:n.in,e,e,t),o=gA(r,a),l=Math.abs(lmt(r,a));if(l<1)return 0;r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-o*l);let c=gA(r,a)===-o;hmt(i)&&l===1&&gA(i,a)===1&&(c=!1);const u=o*(l-+c);return u===0?0:u}function mmt(e,t,n){const i=umt(e,t)/1e3;return cmt(n==null?void 0:n.roundingMethod)(i)}const ymt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},gmt=(e,t,n)=>{let i;const r=ymt[e];return typeof r=="string"?i=r:t===1?i=r.one:i=r.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function FT(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const vmt={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Smt={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},bmt={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},xmt={date:FT({formats:vmt,defaultWidth:"full"}),time:FT({formats:Smt,defaultWidth:"full"}),dateTime:FT({formats:bmt,defaultWidth:"full"})},wmt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Emt=(e,t,n,i)=>wmt[e];function Ab(e){return(t,n)=>{const i=n!=null&&n.context?String(n.context):"standalone";let r;if(i==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;r=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;r=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return r[a]}}const _mt={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Amt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Rmt={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Nmt={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Omt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},jmt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Dmt=(e,t)=>{const n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Cmt={ordinalNumber:Dmt,era:Ab({values:_mt,defaultWidth:"wide"}),quarter:Ab({values:Amt,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ab({values:Rmt,defaultWidth:"wide"}),day:Ab({values:Nmt,defaultWidth:"wide"}),dayPeriod:Ab({values:Omt,defaultWidth:"wide",formattingValues:jmt,defaultFormattingWidth:"wide"})};function Rb(e){return(t,n={})=>{const i=n.width,r=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],a=t.match(r);if(!a)return null;const o=a[0],l=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Tmt(l,h=>h.test(o)):Lmt(l,h=>h.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function Lmt(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Tmt(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Mmt(e){return(t,n={})=>{const i=t.match(e.matchPattern);if(!i)return null;const r=i[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(r.length);return{value:o,rest:l}}}const Imt=/^(\d+)(th|st|nd|rd)?/i,Pmt=/\d+/i,kmt={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},$mt={any:[/^b/i,/^(a|c)/i]},Fmt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Bmt={any:[/1/i,/2/i,/3/i,/4/i]},zmt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Umt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Vmt={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Kmt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Gmt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Hmt={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},qmt={ordinalNumber:Mmt({matchPattern:Imt,parsePattern:Pmt,valueCallback:e=>parseInt(e,10)}),era:Rb({matchPatterns:kmt,defaultMatchWidth:"wide",parsePatterns:$mt,defaultParseWidth:"any"}),quarter:Rb({matchPatterns:Fmt,defaultMatchWidth:"wide",parsePatterns:Bmt,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Rb({matchPatterns:zmt,defaultMatchWidth:"wide",parsePatterns:Umt,defaultParseWidth:"any"}),day:Rb({matchPatterns:Vmt,defaultMatchWidth:"wide",parsePatterns:Kmt,defaultParseWidth:"any"}),dayPeriod:Rb({matchPatterns:Gmt,defaultMatchWidth:"any",parsePatterns:Hmt,defaultParseWidth:"any"})},Wmt={code:"en-US",formatDistance:gmt,formatLong:xmt,formatRelative:Emt,localize:Cmt,match:qmt,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ymt(e,t,n){const i=smt(),r=(n==null?void 0:n.locale)??i.locale??Wmt,a=2520,o=gA(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o}),[c,u]=e9(n==null?void 0:n.in,...o>0?[t,e]:[e,t]),d=mmt(u,c),h=(RX(u)-RX(c))/1e3,m=Math.round((d-h)/60);let p;if(m<2)return n!=null&&n.includeSeconds?d<5?r.formatDistance("lessThanXSeconds",5,l):d<10?r.formatDistance("lessThanXSeconds",10,l):d<20?r.formatDistance("lessThanXSeconds",20,l):d<40?r.formatDistance("halfAMinute",0,l):d<60?r.formatDistance("lessThanXMinutes",1,l):r.formatDistance("xMinutes",1,l):m===0?r.formatDistance("lessThanXMinutes",1,l):r.formatDistance("xMinutes",m,l);if(m<45)return r.formatDistance("xMinutes",m,l);if(m<90)return r.formatDistance("aboutXHours",1,l);if(m<_X){const v=Math.round(m/60);return r.formatDistance("aboutXHours",v,l)}else{if(m<a)return r.formatDistance("xDays",1,l);if(m<C_){const v=Math.round(m/_X);return r.formatDistance("xDays",v,l)}else if(m<C_*2)return p=Math.round(m/C_),r.formatDistance("aboutXMonths",p,l)}if(p=pmt(u,c),p<12){const v=Math.round(m/C_);return r.formatDistance("xMonths",v,l)}else{const v=p%12,S=Math.trunc(p/12);return v<3?r.formatDistance("aboutXYears",S,l):v<9?r.formatDistance("overXYears",S,l):r.formatDistance("almostXYears",S+1,l)}}function Xp(e,t){return Ymt(e,omt(e),t)}const Jmt=3600*1e3;function fge(e){const t=[],n=new Set(["inventory_item_created","inventory_group_created"]);let i=0;for(;i<e.length;){const r=e[i];if(n.has(r.activity_type)&&i<e.length-1){const a=[r],o=new Date(r.created_at).getTime(),l=r.created_by_user_id;let c=i+1;for(;c<e.length;){const u=e[c],d=new Date(u.created_at).getTime(),h=o-d;if(n.has(u.activity_type)&&u.created_by_user_id===l&&h>=0&&h<=Jmt)a.push(u),c++;else break}if(a.length>=2){a.sort((w,R)=>new Date(w.created_at).getTime()-new Date(R.created_at).getTime());const u=a.filter(w=>w.activity_type==="inventory_item_created"),d=a.filter(w=>w.activity_type==="inventory_group_created");let h;u.length>0&&d.length>0?h="inventory_mixed_grouped":u.length>0?h="inventory_items_grouped":h="inventory_groups_grouped";const m=a.reduce((w,R)=>w+R.like_count,0),p=a.reduce((w,R)=>w+R.comment_count,0),v=a.some(w=>w.user_liked),b={id:`grouped_${a.map(w=>w.id).join("_")}`,isGrouped:!0,activity_type:h,created_by_user_id:l,created_at:a[0].created_at,created_by:r.created_by,items:a,item_count:u.length,group_count:d.length,like_count:m,comment_count:p,user_liked:v};t.push(b),i=c}else t.push(r),i++}else t.push(r),i++}return t}function Qmt(){const{companyId:e}=En(),{userId:t,companyRole:n,caps:i}=zr(),r=_a(),a=new Date,[o,l]=g.useState("14"),c=g.useMemo(()=>{if(o==="all")return null;const Q=new Date(a);return Q.setDate(a.getDate()+parseInt(o,10)),Q},[o,a]),u=n==="freelancer",d=i.has("visit:latest"),[h,m]=g.useState(!1),{data:p,isLoading:v}=et({...BO({companyId:e??"",search:"",sortBy:"start_at",sortDir:"asc",userId:t??null,companyRole:n??null}),enabled:!!e}),S=g.useMemo(()=>p?p.filter(Q=>{if(Q.status==="in_progress")return!0;if(!Q.start_at)return!1;const ce=new Date(Q.start_at);return c===null?ce>=a:ce>=a&&ce<=c}):[],[p,a,c]),b=g.useMemo(()=>u||!h||!t?S:S.filter(Q=>{var ce;return((ce=Q.project_lead)==null?void 0:ce.user_id)===t}),[S,h,t,u]),{data:w,isLoading:R}=et({...rde()}),E=g.useMemo(()=>w?w.filter(Q=>Q.is_unread):[],[w]),{data:_,isLoading:N}=et({...Y8({companyId:e??"",limit:10}),enabled:!!e&&d}),O=Q=>{r({to:"/latest",search:{activityId:Q}})},j=X2,D=Q=>{if(!Q)return null;const{data:ce}=re.storage.from("avatars").getPublicUrl(Q);return ce.publicUrl},[P,B]=g.useState(()=>typeof window<"u"?window.matchMedia("(min-width: 1024px)").matches:!1),[M,z]=g.useState(50),[U,K]=g.useState(!1),te=g.useRef(null),q=g.useRef(null),V=g.useRef(null);return g.useEffect(()=>{const Q=window.matchMedia("(min-width: 1024px)"),ce=ae=>B(ae.matches);try{return Q.addEventListener("change",ce),()=>Q.removeEventListener("change",ce)}catch{return Q.addListener(ce),()=>Q.removeListener(ce)}},[]),g.useEffect(()=>{if(!U)return;const Q=ae=>{if(!te.current)return;const G=te.current.getBoundingClientRect(),H=G.width,T=ae.clientX-G.left,ne=Math.max(25,Math.min(75,T/H*100));V.current=ne,q.current===null&&(q.current=requestAnimationFrame(()=>{V.current!==null&&(z(J=>Math.abs(J-V.current)<.1?J:V.current),V.current=null),q.current=null}))},ce=()=>{q.current!==null&&(cancelAnimationFrame(q.current),q.current=null),V.current!==null&&(z(ae=>Math.abs(ae-V.current)<.1?ae:V.current),V.current=null),K(!1),document.body.style.cursor="",document.body.style.userSelect=""};return document.body.style.cursor="col-resize",document.body.style.userSelect="none",document.addEventListener("mousemove",Q),document.addEventListener("mouseup",ce),()=>{q.current!==null&&(cancelAnimationFrame(q.current),q.current=null),document.removeEventListener("mousemove",Q),document.removeEventListener("mouseup",ce),document.body.style.cursor="",document.body.style.userSelect="",V.current=null}},[U]),g.useEffect(()=>{const Q="scroll-button-animation";if(document.getElementById(Q))return;const ce=document.createElement("style");return ce.id=Q,ce.textContent=`
      @keyframes scrollButtonBounce {
        0%, 100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-4px);
        }
      }
    `,document.head.appendChild(ce),()=>{const ae=document.getElementById(Q);ae&&ae.remove()}},[]),e?P?s.jsx(X,{ref:te,style:{width:"100%",height:"100%",minHeight:0,position:"relative"},children:s.jsxs($,{direction:"row",gap:"2",align:"stretch",style:{height:"100%",minHeight:0},children:[s.jsxs($,{direction:"column",gap:"4",style:{width:`${M}%`,height:"100%",minWidth:"300px",maxWidth:"75%",minHeight:0,flexShrink:0,transition:U?"none":"width 0.1s ease-out"},children:[s.jsx(X,{style:{minHeight:0},children:s.jsx(NX,{})}),d&&s.jsx(X,{style:{flex:1,minHeight:"40%"},children:s.jsx(DX,{activities:(_==null?void 0:_.items)||[],loading:N,onActivityClick:O,getInitials:j,getAvatarUrl:D})})]}),s.jsx(X,{className:"section-resizer",onMouseDown:Q=>{Q.preventDefault(),K(!0)},style:{width:"6px",height:"15%",cursor:"col-resize",backgroundColor:"var(--gray-a4)",borderRadius:"4px",flexShrink:0,alignSelf:"center",userSelect:"none",margin:"0 -4px",zIndex:10,transition:U?"none":"background-color 0.2s"},onMouseEnter:Q=>{U||(Q.currentTarget.style.backgroundColor="var(--gray-a6)",Q.currentTarget.style.cursor="col-resize")},onMouseLeave:Q=>{U||(Q.currentTarget.style.backgroundColor="var(--gray-a4)")}}),s.jsxs($,{direction:"column",gap:"4",style:{flex:1,height:"100%",maxHeight:"100%",overflow:"hidden",minWidth:"300px",minHeight:0,transition:U?"none":"flex-basis 0.1s ease-out"},children:[E.length>0&&s.jsx(X,{style:{minHeight:0},children:s.jsx(jX,{matters:E,loading:R,getInitials:j,getAvatarUrl:D})}),s.jsx(X,{style:{flex:2,minHeight:0},children:s.jsx(OX,{jobs:b,loading:v,showMyJobsOnly:h,onToggleMyJobsOnly:m,getInitials:j,getAvatarUrl:D,isFreelancer:u,daysFilter:o,onDaysFilterChange:l})})]})]})}):s.jsx(X,{style:{width:"100%",height:"100%"},children:s.jsxs(Zn,{columns:"1fr",gap:"4",style:{height:"100%"},children:[s.jsxs($,{direction:"column",gap:"4",style:{height:"100%"},children:[s.jsx(X,{style:{minHeight:0},children:s.jsx(NX,{})}),d&&s.jsx(X,{style:{flex:1,minHeight:"40%"},children:s.jsx(DX,{activities:(_==null?void 0:_.items)||[],loading:N,onActivityClick:O,getInitials:j,getAvatarUrl:D})})]}),s.jsxs($,{direction:"column",gap:"4",style:{height:"100%"},children:[E.length>0&&s.jsx(X,{style:{minHeight:0},children:s.jsx(jX,{matters:E,loading:R,getInitials:j,getAvatarUrl:D})}),s.jsx(X,{style:{flex:2,minHeight:0},children:s.jsx(OX,{jobs:b,loading:v,showMyJobsOnly:h,onToggleMyJobsOnly:m,getInitials:j,getAvatarUrl:D,isFreelancer:u,daysFilter:o,onDaysFilterChange:l})})]})]})}):s.jsx(X,{p:"4",children:s.jsx(L,{children:"Please select a company"})})}function NX(){const e=new Date().toISOString().slice(0,10),t="en",{data:n,isLoading:i,error:r}=et({queryKey:["youversion","verse-of-the-day",e,t],queryFn:async()=>{const c=await fetch(`/api/verse-of-the-day?lang=${encodeURIComponent(t)}`),u=await c.json().catch(()=>null);if(!c.ok)throw new Error(typeof(u==null?void 0:u.message)=="string"?u.message:"Failed to load verse of the day");return u},staleTime:1e3*60*60*24,gcTime:1e3*60*60*48,retry:1}),a=n!=null&&n.citation?String(n.citation):"",o=n!=null&&n.passage?String(n.passage):"",l=n!=null&&n.version?String(n.version):"";return s.jsx(Kj,{title:"Today's Bible verse",icon:s.jsx(AO,{width:18,height:18}),notFullHeight:!0,children:i?s.jsx($,{align:"center",justify:"center",py:"4",children:s.jsx(Ei,{size:"2"})}):r?s.jsx(X,{py:"4",children:s.jsx(L,{size:"2",color:"gray",align:"center",children:"Couldn't load today's verse."})}):s.jsxs($,{direction:"column",gap:"2",py:"2",children:[s.jsx(L,{weight:"bold",size:"4",children:a||"Verse of the Day"}),s.jsx(L,{size:"3",style:{whiteSpace:"pre-wrap",lineHeight:1.5},children:o||"No verse text available."}),l&&s.jsxs(L,{size:"1",color:"gray",children:["Translation: ",l]})]})})}function OX({jobs:e,loading:t,showMyJobsOnly:n,onToggleMyJobsOnly:i,getInitials:r,getAvatarUrl:a,isFreelancer:o,daysFilter:l,onDaysFilterChange:c}){const u=_a(),d=g.useRef(null),[h,m]=g.useState(!1),[p,v]=g.useState(!1),S=e.slice(0,5);g.useEffect(()=>{const R=()=>{if(d.current){const N=d.current.parentElement;if(N){const{scrollTop:O,scrollHeight:j,clientHeight:D}=N,P=j>D,B=O+D<j-10;m(P&&B)}}},E=setTimeout(R,100),_=d.current;if(_){const N=_.parentElement;if(N){N.addEventListener("scroll",R),window.addEventListener("resize",R);const O=N;return()=>{clearTimeout(E),O.removeEventListener("scroll",R),window.removeEventListener("resize",R)}}}return()=>clearTimeout(E)},[S]);const b=()=>{if(d.current){const R=d.current.parentElement;R&&R.scrollTo({top:R.scrollHeight,behavior:"smooth"})}},w=R=>R==="all"?"Show all":`Next ${R} days`;return s.jsx(Kj,{title:"Upcoming Jobs",icon:s.jsx(og,{width:18,height:18}),headerAction:o?s.jsxs(Vn,{value:l,onValueChange:R=>c(R),children:[s.jsx(Kn,{variant:"soft",style:{minWidth:"120px"},children:w(l)}),s.jsxs(Gn,{children:[s.jsx(wt,{value:"7",children:"Next 7 days"}),s.jsx(wt,{value:"14",children:"Next 14 days"}),s.jsx(wt,{value:"30",children:"Next 30 days"}),s.jsx(wt,{value:"all",children:"Show all"})]})]}):s.jsxs($,{gap:"2",align:"center",children:[s.jsxs(Vn,{value:l,onValueChange:R=>c(R),children:[s.jsx(Kn,{variant:"soft",style:{minWidth:"120px"},children:w(l)}),s.jsxs(Gn,{children:[s.jsx(wt,{value:"7",children:"Next 7 days"}),s.jsx(wt,{value:"14",children:"Next 14 days"}),s.jsx(wt,{value:"30",children:"Next 30 days"}),s.jsx(wt,{value:"all",children:"Show all"})]})]}),s.jsxs($,{gap:"2",align:"center",children:[s.jsx(L,{size:"1",color:"gray",children:"My jobs only"}),s.jsx(Ro,{checked:n,onCheckedChange:i,size:"1"})]})]}),children:t?s.jsx($,{align:"center",justify:"center",py:"4",children:s.jsx(Ei,{size:"2"})}):e.length===0?s.jsx(X,{py:"4",children:s.jsx(L,{size:"2",color:"gray",align:"center",children:o?`No jobs booked ${l==="all"?"":`in the next ${l} days`}`:`No upcoming jobs ${l==="all"?"":`in the next ${l} days`}`})}):s.jsxs(X,{ref:d,style:{position:"relative",height:"100%"},children:[s.jsx($,{direction:"column",gap:"2",children:S.map(R=>{var j,D,P,B,M,z;const E=a(((j=R.project_lead)==null?void 0:j.avatar_url)??null),_=((D=R.project_lead)==null?void 0:D.display_name)||((P=R.project_lead)==null?void 0:P.email)||"Unassigned",N=r(((B=R.project_lead)==null?void 0:B.display_name)??null,((M=R.project_lead)==null?void 0:M.email)??""),O=((z=R.customer)==null?void 0:z.name)||"No customer";return s.jsx("div",{style:{cursor:"pointer",padding:"8px",borderRadius:"8px",transition:"background-color 0.15s",backgroundColor:"transparent"},onMouseEnter:U=>{U.currentTarget.style.backgroundColor="var(--gray-a2)"},onMouseLeave:U=>{U.currentTarget.style.backgroundColor="transparent"},onClick:()=>u({to:"/jobs",search:{jobId:R.id,tab:void 0}}),children:s.jsxs($,{gap:"2",align:"center",justify:"between",children:[s.jsxs($,{direction:"column",gap:"1",style:{flex:1,minWidth:0},children:[s.jsxs($,{gap:"2",align:"center",children:[s.jsx(L,{size:"2",weight:"medium",children:R.title}),R.status==="in_progress"&&s.jsx(mt,{size:"1",color:"green",variant:"soft",children:"In Progress"})]}),s.jsxs($,{gap:"2",align:"center",children:[s.jsx(L,{size:"2",color:"gray",weight:"medium",children:O}),s.jsx(L,{size:"1",color:"gray",children:""}),s.jsx(L,{size:"1",color:"gray",children:R.start_at?Xp(new Date(R.start_at),{addSuffix:!0}):"No date set"})]})]}),s.jsxs($,{gap:"2",align:"center",style:{flexShrink:0},children:[s.jsx(L,{size:"1",color:"gray",children:_}),s.jsx(Xr,{size:"2",src:E||void 0,fallback:N,radius:"full"})]})]})},R.id)})}),h&&s.jsx(pe,{size:"1",variant:"ghost",style:{position:"absolute",bottom:"8px",right:"8px",borderRadius:"50%",width:"32px",height:"32px",padding:0,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:p?"0 4px 12px rgba(0, 0, 0, 0.2)":"0 2px 8px rgba(0, 0, 0, 0.15)",backgroundColor:p?"var(--gray-4)":"var(--gray-3)",color:"var(--gray-11)",cursor:"pointer",zIndex:10,animation:"scrollButtonBounce 2s ease-in-out infinite",transition:"background-color 0.2s ease, box-shadow 0.2s ease, transform 0.2s ease",transform:p?"scale(1.05)":"scale(1)"},onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),onClick:b,"aria-label":"Scroll to bottom",children:s.jsx(Ml,{width:16,height:16})})]})})}function jX({matters:e,loading:t,getInitials:n,getAvatarUrl:i}){const r=_a(),a=l=>{switch(l){case"vote":return"Vote";case"chat":return"Chat";case"update":return"Update";case"crew_invite":return"Invite";case"announcement":return"Announcement";default:return l}},o=l=>{switch(l){case"vote":return"purple";case"chat":return"blue";case"update":return"blue";case"crew_invite":return"green";case"announcement":return"orange";default:return"blue"}};return s.jsx(Kj,{title:"Matters",icon:s.jsx(AO,{width:18,height:18}),headerAction:s.jsx(pe,{size:"2",variant:"soft",onClick:()=>r({to:"/matters"}),children:"View all"}),notFullHeight:!0,children:t?s.jsx($,{align:"center",justify:"center",py:"4",children:s.jsx(Ei,{size:"2"})}):e.length===0?s.jsx(X,{py:"4",children:s.jsx(L,{size:"2",color:"gray",align:"center",children:"No unread matters"})}):s.jsx($,{direction:"column",gap:"2",children:e.slice(0,5).map(l=>{if(!l.created_by)return null;const c=i(l.created_by.avatar_url),u=n(l.created_by.display_name,l.created_by.email);return s.jsx(g.Fragment,{children:s.jsx("div",{style:{cursor:"pointer",padding:"8px",borderRadius:"8px",transition:"background-color 0.15s",backgroundColor:"transparent"},onMouseEnter:d=>{d.currentTarget.style.backgroundColor="var(--gray-a2)"},onMouseLeave:d=>{d.currentTarget.style.backgroundColor="transparent"},onClick:()=>r({to:"/matters"}),children:s.jsxs($,{gap:"2",align:"center",children:[s.jsx(Xr,{size:"2",src:c||void 0,fallback:u,radius:"full"}),s.jsxs(X,{style:{flex:1},children:[s.jsx(L,{size:"2",weight:"medium",children:l.title}),s.jsxs($,{gap:"2",align:"center",children:[s.jsx(L,{size:"1",color:"gray",children:l.created_by.display_name||l.created_by.email}),s.jsx(L,{size:"1",color:"gray",children:""}),s.jsx(mt,{size:"1",color:o(l.matter_type),variant:"soft",children:a(l.matter_type)}),s.jsx(L,{size:"1",color:"gray",children:""}),s.jsx(L,{size:"1",color:"gray",children:Xp(new Date(l.created_at),{addSuffix:!0})})]})]})]})})},l.id)})})})}function DX({activities:e,loading:t,onActivityClick:n,getInitials:i,getAvatarUrl:r}){const a=_a(),o=g.useRef(null),[l,c]=g.useState(!1),[u,d]=g.useState(!1),h=g.useMemo(()=>fge(e),[e]),m=h.slice(0,10);g.useEffect(()=>{const b=()=>{if(o.current){const E=o.current.parentElement;if(E){const{scrollTop:_,scrollHeight:N,clientHeight:O}=E,j=N>O,D=_+O<N-10;c(j&&D)}}},w=setTimeout(b,100),R=o.current;if(R){const E=R.parentElement;if(E){E.addEventListener("scroll",b),window.addEventListener("resize",b);const _=E;return()=>{clearTimeout(w),_.removeEventListener("scroll",b),window.removeEventListener("resize",b)}}}return()=>clearTimeout(w)},[m]);const p=()=>{if(o.current){const b=o.current.parentElement;b&&b.scrollTo({top:b.scrollHeight,behavior:"smooth"})}},v=b=>{if("isGrouped"in b)return b.activity_type==="inventory_items_grouped"?{icon:"",bgColor:"var(--blue-3)"}:b.activity_type==="inventory_groups_grouped"?{icon:"",bgColor:"var(--purple-3)"}:{icon:"",bgColor:"var(--blue-3)"};switch(b.activity_type){case"inventory_item_created":case"inventory_item_deleted":return{icon:"",bgColor:"var(--blue-3)"};case"inventory_group_created":case"inventory_group_deleted":return{icon:"",bgColor:"var(--purple-3)"};case"vehicle_added":case"vehicle_removed":return{icon:"",bgColor:"var(--green-3)"};case"customer_added":case"customer_removed":return{icon:"",bgColor:"var(--orange-3)"};case"crew_added":case"crew_removed":return{icon:"",bgColor:"var(--yellow-3)"};case"job_created":case"job_status_changed":case"job_deleted":return{icon:"",bgColor:"var(--indigo-3)"};case"announcement":return{icon:"",bgColor:"var(--red-3)"};default:return{icon:"",bgColor:"var(--gray-3)"}}},S=b=>{if("isGrouped"in b){const E=[];return b.item_count>0&&E.push(`${b.item_count} ${b.item_count===1?"item":"items"}`),b.group_count>0&&E.push(`${b.group_count} ${b.group_count===1?"group":"groups"}`),`Added ${E.join(" and ")} to inventory`}const w=b,R=w.metadata;switch(w.activity_type){case"inventory_item_created":return`Added "${R.item_name||"item"}" to inventory`;case"inventory_item_deleted":return`Removed "${R.item_name||"item"}" from inventory`;case"inventory_group_created":return`Created inventory group "${R.group_name||"group"}"`;case"inventory_group_deleted":return`Removed inventory group "${R.group_name||"group"}"`;case"vehicle_added":return`Added vehicle "${R.vehicle_name||R.license_plate||"vehicle"}"`;case"vehicle_removed":return`Removed vehicle "${R.vehicle_name||R.license_plate||"vehicle"}"`;case"customer_added":return`Added customer "${R.customer_name||"customer"}"`;case"customer_removed":return`Removed customer "${R.customer_name||"customer"}"`;case"crew_added":return`Added crew member "${R.user_name||R.email||"crew"}"`;case"crew_removed":return`Removed crew member "${R.user_name||R.email||"crew"}"`;case"job_created":return`Created job "${R.job_title||w.title||"job"}"`;case"job_status_changed":return`Changed job "${R.job_title||w.title||"job"}" status`;case"job_deleted":return`Deleted job "${R.job_title||w.title||"job"}"`;case"announcement":return w.title||"Announcement";default:return w.title||"Activity"}};return s.jsx(Kj,{title:"Latest",icon:s.jsx(soe,{width:18,height:18}),headerAction:s.jsx(pe,{size:"2",variant:"soft",onClick:()=>a({to:"/latest",search:{activityId:void 0}}),children:"View all"}),children:t?s.jsx($,{align:"center",justify:"center",py:"4",children:s.jsx(Ei,{size:"2"})}):h.length===0?s.jsx(X,{py:"4",children:s.jsx(L,{size:"2",color:"gray",align:"center",children:"No recent activity"})}):s.jsxs(X,{ref:o,style:{position:"relative",height:"100%"},children:[s.jsx($,{direction:"column",gap:"2",children:m.map(b=>{const w=b.created_by.display_name||b.created_by.email,R=r(b.created_by.avatar_url),E=i(b.created_by.display_name,b.created_by.email);return s.jsx("div",{style:{cursor:"pointer",padding:"8px",borderRadius:"8px",transition:"background-color 0.15s",backgroundColor:"transparent"},onMouseEnter:_=>{_.currentTarget.style.backgroundColor="var(--gray-a2)"},onMouseLeave:_=>{_.currentTarget.style.backgroundColor="transparent"},onClick:()=>n(b.id),children:s.jsxs($,{gap:"3",align:"center",justify:"between",children:[s.jsxs($,{gap:"3",align:"center",style:{flex:1,minWidth:0},children:[s.jsx(L,{size:"3",style:{flexShrink:0},children:v(b).icon}),s.jsxs($,{direction:"column",gap:"1",style:{flex:1,minWidth:0},children:[s.jsx(L,{size:"2",weight:"medium",children:S(b)}),s.jsx(L,{size:"1",color:"gray",children:Xp(new Date(b.created_at),{addSuffix:!0})})]})]}),s.jsxs($,{gap:"2",align:"center",style:{flexShrink:0},children:[s.jsx(L,{size:"1",color:"gray",children:w}),s.jsx(Xr,{size:"2",src:R||void 0,fallback:E,radius:"full"})]})]})},b.id)})}),l&&s.jsx(pe,{size:"1",variant:"ghost",style:{position:"absolute",bottom:"8px",right:"8px",borderRadius:"50%",width:"32px",height:"32px",padding:0,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:u?"0 4px 12px rgba(0, 0, 0, 0.2)":"0 2px 8px rgba(0, 0, 0, 0.15)",backgroundColor:u?"var(--gray-4)":"var(--gray-3)",color:"var(--gray-11)",cursor:"pointer",zIndex:10,animation:"scrollButtonBounce 2s ease-in-out infinite",transition:"background-color 0.2s ease, box-shadow 0.2s ease, transform 0.2s ease",transform:u?"scale(1.05)":"scale(1)"},onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),onClick:p,"aria-label":"Scroll to bottom",children:s.jsx(Ml,{width:16,height:16})})]})})}function Kj({title:e,icon:t,children:n,footer:i,headerAction:r,notFullHeight:a}){return s.jsx(Rt,{size:"3",style:a?void 0:{height:"100%"},children:s.jsxs($,{direction:"column",gap:"3",style:a?void 0:{height:"100%"},children:[s.jsxs($,{align:"center",justify:"between",children:[s.jsxs($,{align:"center",gap:"2",children:[s.jsx(Xmt,{children:t}),s.jsx(He,{size:"4",children:e})]}),r&&s.jsx(X,{children:r})]}),s.jsx(X,{style:a?void 0:{flex:1,minHeight:0,overflowY:"auto"},children:n}),i&&s.jsx($,{justify:"end",children:i})]})})}function Xmt({children:e}){return s.jsx($,{align:"center",justify:"center",width:"32px",height:"32px",style:{borderRadius:8,background:"var(--accent-3)",color:"var(--accent-11)"},children:s.jsx(X,{style:{lineHeight:0},children:e})})}const hge=g.createContext({});function Gj(e){const t=g.useRef(null);return t.current===null&&(t.current=e()),t.current}const t9=typeof window<"u",n9=t9?g.useLayoutEffect:g.useEffect,i9=g.createContext(null);function r9(e,t){e.indexOf(t)===-1&&e.push(t)}function a9(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Yd=(e,t,n)=>n>t?t:n<e?e:n;let c2=()=>{};const wh={},pge=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function mge(e){return typeof e=="object"&&e!==null}const yge=e=>/^0[^.\s]+$/u.test(e);function s9(e){let t;return()=>(t===void 0&&(t=e()),t)}const sl=e=>e,Zmt=(e,t)=>n=>t(e(n)),xw=(...e)=>e.reduce(Zmt),F1=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class o9{constructor(){this.subscriptions=[]}add(t){return r9(this.subscriptions,t),()=>a9(this.subscriptions,t)}notify(t,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,n,i);else for(let a=0;a<r;a++){const o=this.subscriptions[a];o&&o(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Id=e=>e*1e3,Lc=e=>e/1e3;function l9(e,t){return t?e*(1e3/t):0}const gge=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,eyt=1e-7,tyt=12;function nyt(e,t,n,i,r){let a,o,l=0;do o=t+(n-t)/2,a=gge(o,i,r)-e,a>0?n=o:t=o;while(Math.abs(a)>eyt&&++l<tyt);return o}function ww(e,t,n,i){if(e===t&&n===i)return sl;const r=a=>nyt(a,0,1,e,n);return a=>a===0||a===1?a:gge(r(a),t,i)}const vge=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Sge=e=>t=>1-e(1-t),bge=ww(.33,1.53,.69,.99),c9=Sge(bge),xge=vge(c9),wge=e=>(e*=2)<1?.5*c9(e):.5*(2-Math.pow(2,-10*(e-1))),u9=e=>1-Math.sin(Math.acos(e)),Ege=Sge(u9),_ge=vge(u9),iyt=ww(.42,0,1,1),ryt=ww(0,0,.58,1),Age=ww(.42,0,.58,1),ayt=e=>Array.isArray(e)&&typeof e[0]!="number",Rge=e=>Array.isArray(e)&&typeof e[0]=="number",syt={linear:sl,easeIn:iyt,easeInOut:Age,easeOut:ryt,circIn:u9,circInOut:_ge,circOut:Ege,backIn:c9,backInOut:xge,backOut:bge,anticipate:wge},oyt=e=>typeof e=="string",CX=e=>{if(Rge(e)){c2(e.length===4);const[t,n,i,r]=e;return ww(t,n,i,r)}else if(oyt(e))return syt[e];return e},L_=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function lyt(e,t){let n=new Set,i=new Set,r=!1,a=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(d){o.has(d)&&(u.schedule(d),e()),d(l)}const u={schedule:(d,h=!1,m=!1)=>{const v=m&&r?n:i;return h&&o.add(d),v.has(d)||v.add(d),d},cancel:d=>{i.delete(d),o.delete(d)},process:d=>{if(l=d,r){a=!0;return}r=!0,[n,i]=[i,n],n.forEach(c),n.clear(),r=!1,a&&(a=!1,u.process(d))}};return u}const cyt=40;function Nge(e,t){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=L_.reduce((E,_)=>(E[_]=lyt(a),E),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:h,preRender:m,render:p,postRender:v}=o,S=()=>{const E=wh.useManualTiming?r.timestamp:performance.now();n=!1,wh.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(E-r.timestamp,cyt),1)),r.timestamp=E,r.isProcessing=!0,l.process(r),c.process(r),u.process(r),d.process(r),h.process(r),m.process(r),p.process(r),v.process(r),r.isProcessing=!1,n&&t&&(i=!1,e(S))},b=()=>{n=!0,i=!0,r.isProcessing||e(S)};return{schedule:L_.reduce((E,_)=>{const N=o[_];return E[_]=(O,j=!1,D=!1)=>(n||b(),N.schedule(O,j,D)),E},{}),cancel:E=>{for(let _=0;_<L_.length;_++)o[L_[_]].cancel(E)},state:r,steps:o}}const{schedule:Ji,cancel:Vu,state:vs,steps:BT}=Nge(typeof requestAnimationFrame<"u"?requestAnimationFrame:sl,!0);let vA;function uyt(){vA=void 0}const al={now:()=>(vA===void 0&&al.set(vs.isProcessing||wh.useManualTiming?vs.timestamp:performance.now()),vA),set:e=>{vA=e,queueMicrotask(uyt)}},Oge=e=>t=>typeof t=="string"&&t.startsWith(e),d9=Oge("--"),dyt=Oge("var(--"),f9=e=>dyt(e)?fyt.test(e.split("/*")[0].trim()):!1,fyt=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,fS={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},u2={...fS,transform:e=>Yd(0,1,e)},T_={...fS,default:1},dx=e=>Math.round(e*1e5)/1e5,h9=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function hyt(e){return e==null}const pyt=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,p9=(e,t)=>n=>!!(typeof n=="string"&&pyt.test(n)&&n.startsWith(e)||t&&!hyt(n)&&Object.prototype.hasOwnProperty.call(n,t)),jge=(e,t,n)=>i=>{if(typeof i!="string")return i;const[r,a,o,l]=i.match(h9);return{[e]:parseFloat(r),[t]:parseFloat(a),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},myt=e=>Yd(0,255,e),zT={...fS,transform:e=>Math.round(myt(e))},Vy={test:p9("rgb","red"),parse:jge("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+zT.transform(e)+", "+zT.transform(t)+", "+zT.transform(n)+", "+dx(u2.transform(i))+")"};function yyt(e){let t="",n="",i="",r="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),r=e.substring(4,5),t+=t,n+=n,i+=i,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const gI={test:p9("#"),parse:yyt,transform:Vy.transform},Ew=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Np=Ew("deg"),Pd=Ew("%"),In=Ew("px"),gyt=Ew("vh"),vyt=Ew("vw"),LX={...Pd,parse:e=>Pd.parse(e)/100,transform:e=>Pd.transform(e*100)},A0={test:p9("hsl","hue"),parse:jge("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+Pd.transform(dx(t))+", "+Pd.transform(dx(n))+", "+dx(u2.transform(i))+")"},La={test:e=>Vy.test(e)||gI.test(e)||A0.test(e),parse:e=>Vy.test(e)?Vy.parse(e):A0.test(e)?A0.parse(e):gI.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Vy.transform(e):A0.transform(e),getAnimatableNone:e=>{const t=La.parse(e);return t.alpha=0,La.transform(t)}},Syt=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function byt(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(h9))==null?void 0:t.length)||0)+(((n=e.match(Syt))==null?void 0:n.length)||0)>0}const Dge="number",Cge="color",xyt="var",wyt="var(",TX="${}",Eyt=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function d2(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},r=[];let a=0;const l=t.replace(Eyt,c=>(La.test(c)?(i.color.push(a),r.push(Cge),n.push(La.parse(c))):c.startsWith(wyt)?(i.var.push(a),r.push(xyt),n.push(c)):(i.number.push(a),r.push(Dge),n.push(parseFloat(c))),++a,TX)).split(TX);return{values:n,split:l,indexes:i,types:r}}function Lge(e){return d2(e).values}function Tge(e){const{split:t,types:n}=d2(e),i=t.length;return r=>{let a="";for(let o=0;o<i;o++)if(a+=t[o],r[o]!==void 0){const l=n[o];l===Dge?a+=dx(r[o]):l===Cge?a+=La.transform(r[o]):a+=r[o]}return a}}const _yt=e=>typeof e=="number"?0:La.test(e)?La.getAnimatableNone(e):e;function Ayt(e){const t=Lge(e);return Tge(e)(t.map(_yt))}const Sm={test:byt,parse:Lge,createTransformer:Tge,getAnimatableNone:Ayt};function UT(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Ryt({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let r=0,a=0,o=0;if(!t)r=a=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;r=UT(c,l,e+1/3),a=UT(c,l,e),o=UT(c,l,e-1/3)}return{red:Math.round(r*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:i}}function AN(e,t){return n=>n>0?t:e}const Zr=(e,t,n)=>e+(t-e)*n,VT=(e,t,n)=>{const i=e*e,r=n*(t*t-i)+i;return r<0?0:Math.sqrt(r)},Nyt=[gI,Vy,A0],Oyt=e=>Nyt.find(t=>t.test(e));function MX(e){const t=Oyt(e);if(!t)return!1;let n=t.parse(e);return t===A0&&(n=Ryt(n)),n}const IX=(e,t)=>{const n=MX(e),i=MX(t);if(!n||!i)return AN(e,t);const r={...n};return a=>(r.red=VT(n.red,i.red,a),r.green=VT(n.green,i.green,a),r.blue=VT(n.blue,i.blue,a),r.alpha=Zr(n.alpha,i.alpha,a),Vy.transform(r))},vI=new Set(["none","hidden"]);function jyt(e,t){return vI.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Dyt(e,t){return n=>Zr(e,t,n)}function m9(e){return typeof e=="number"?Dyt:typeof e=="string"?f9(e)?AN:La.test(e)?IX:Tyt:Array.isArray(e)?Mge:typeof e=="object"?La.test(e)?IX:Cyt:AN}function Mge(e,t){const n=[...e],i=n.length,r=e.map((a,o)=>m9(a)(a,t[o]));return a=>{for(let o=0;o<i;o++)n[o]=r[o](a);return n}}function Cyt(e,t){const n={...e,...t},i={};for(const r in n)e[r]!==void 0&&t[r]!==void 0&&(i[r]=m9(e[r])(e[r],t[r]));return r=>{for(const a in i)n[a]=i[a](r);return n}}function Lyt(e,t){const n=[],i={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const a=t.types[r],o=e.indexes[a][i[a]],l=e.values[o]??0;n[r]=l,i[a]++}return n}const Tyt=(e,t)=>{const n=Sm.createTransformer(t),i=d2(e),r=d2(t);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?vI.has(e)&&!r.values.length||vI.has(t)&&!i.values.length?jyt(e,t):xw(Mge(Lyt(i,r),r.values),n):AN(e,t)};function Ige(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Zr(e,t,n):m9(e)(e,t)}const Myt=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Ji.update(t,n),stop:()=>Vu(t),now:()=>vs.isProcessing?vs.timestamp:al.now()}},Pge=(e,t,n=10)=>{let i="";const r=Math.max(Math.round(t/n),2);for(let a=0;a<r;a++)i+=Math.round(e(a/(r-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},RN=2e4;function y9(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<RN;)t+=n,i=e.next(t);return t>=RN?1/0:t}function Iyt(e,t=100,n){const i=n({...e,keyframes:[0,t]}),r=Math.min(y9(i),RN);return{type:"keyframes",ease:a=>i.next(r*a).value/t,duration:Lc(r)}}const Pyt=5;function kge(e,t,n){const i=Math.max(t-Pyt,0);return l9(n-e(i),t-i)}const da={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},KT=.001;function kyt({duration:e=da.duration,bounce:t=da.bounce,velocity:n=da.velocity,mass:i=da.mass}){let r,a,o=1-t;o=Yd(da.minDamping,da.maxDamping,o),e=Yd(da.minDuration,da.maxDuration,Lc(e)),o<1?(r=u=>{const d=u*o,h=d*e,m=d-n,p=SI(u,o),v=Math.exp(-h);return KT-m/p*v},a=u=>{const h=u*o*e,m=h*n+n,p=Math.pow(o,2)*Math.pow(u,2)*e,v=Math.exp(-h),S=SI(Math.pow(u,2),o);return(-r(u)+KT>0?-1:1)*((m-p)*v)/S}):(r=u=>{const d=Math.exp(-u*e),h=(u-n)*e+1;return-KT+d*h},a=u=>{const d=Math.exp(-u*e),h=(n-u)*(e*e);return d*h});const l=5/e,c=Fyt(r,a,l);if(e=Id(e),isNaN(c))return{stiffness:da.stiffness,damping:da.damping,duration:e};{const u=Math.pow(c,2)*i;return{stiffness:u,damping:o*2*Math.sqrt(i*u),duration:e}}}const $yt=12;function Fyt(e,t,n){let i=n;for(let r=1;r<$yt;r++)i=i-e(i)/t(i);return i}function SI(e,t){return e*Math.sqrt(1-t*t)}const Byt=["duration","bounce"],zyt=["stiffness","damping","mass"];function PX(e,t){return t.some(n=>e[n]!==void 0)}function Uyt(e){let t={velocity:da.velocity,stiffness:da.stiffness,damping:da.damping,mass:da.mass,isResolvedFromDuration:!1,...e};if(!PX(e,zyt)&&PX(e,Byt))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,a=2*Yd(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:da.mass,stiffness:r,damping:a}}else{const n=kyt(e);t={...t,...n,mass:da.mass},t.isResolvedFromDuration=!0}return t}function NN(e=da.visualDuration,t=da.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:r}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:u,mass:d,duration:h,velocity:m,isResolvedFromDuration:p}=Uyt({...n,velocity:-Lc(n.velocity||0)}),v=m||0,S=u/(2*Math.sqrt(c*d)),b=o-a,w=Lc(Math.sqrt(c/d)),R=Math.abs(b)<5;i||(i=R?da.restSpeed.granular:da.restSpeed.default),r||(r=R?da.restDelta.granular:da.restDelta.default);let E;if(S<1){const N=SI(w,S);E=O=>{const j=Math.exp(-S*w*O);return o-j*((v+S*w*b)/N*Math.sin(N*O)+b*Math.cos(N*O))}}else if(S===1)E=N=>o-Math.exp(-w*N)*(b+(v+w*b)*N);else{const N=w*Math.sqrt(S*S-1);E=O=>{const j=Math.exp(-S*w*O),D=Math.min(N*O,300);return o-j*((v+S*w*b)*Math.sinh(D)+N*b*Math.cosh(D))/N}}const _={calculatedDuration:p&&h||null,next:N=>{const O=E(N);if(p)l.done=N>=h;else{let j=N===0?v:0;S<1&&(j=N===0?Id(v):kge(E,N,O));const D=Math.abs(j)<=i,P=Math.abs(o-O)<=r;l.done=D&&P}return l.value=l.done?o:O,l},toString:()=>{const N=Math.min(y9(_),RN),O=Pge(j=>_.next(N*j).value,N,30);return N+"ms "+O},toTransition:()=>{}};return _}NN.applyToOptions=e=>{const t=Iyt(e,100,NN);return e.ease=t.ease,e.duration=Id(t.duration),e.type="keyframes",e};function bI({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],m={done:!1,value:h},p=D=>l!==void 0&&D<l||c!==void 0&&D>c,v=D=>l===void 0?c:c===void 0||Math.abs(l-D)<Math.abs(c-D)?l:c;let S=n*t;const b=h+S,w=o===void 0?b:o(b);w!==b&&(S=w-h);const R=D=>-S*Math.exp(-D/i),E=D=>w+R(D),_=D=>{const P=R(D),B=E(D);m.done=Math.abs(P)<=u,m.value=m.done?w:B};let N,O;const j=D=>{p(m.value)&&(N=D,O=NN({keyframes:[m.value,v(m.value)],velocity:kge(E,D,m.value),damping:r,stiffness:a,restDelta:u,restSpeed:d}))};return j(0),{calculatedDuration:null,next:D=>{let P=!1;return!O&&N===void 0&&(P=!0,_(D),j(D)),N!==void 0&&D>=N?O.next(D-N):(!P&&_(D),m)}}}function Vyt(e,t,n){const i=[],r=n||wh.mix||Ige,a=e.length-1;for(let o=0;o<a;o++){let l=r(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||sl:t;l=xw(c,l)}i.push(l)}return i}function g9(e,t,{clamp:n=!0,ease:i,mixer:r}={}){const a=e.length;if(c2(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Vyt(t,i,r),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const m=F1(e[h],e[h+1],d);return l[h](m)};return n?d=>u(Yd(e[0],e[a-1],d)):u}function Kyt(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const r=F1(0,t,i);e.push(Zr(n,1,r))}}function $ge(e){const t=[0];return Kyt(t,e.length-1),t}function Gyt(e,t){return e.map(n=>n*t)}function Hyt(e,t){return e.map(()=>t||Age).splice(0,e.length-1)}function fx({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const r=ayt(i)?i.map(CX):CX(i),a={done:!1,value:t[0]},o=Gyt(n&&n.length===t.length?n:$ge(t),e),l=g9(o,t,{ease:Array.isArray(r)?r:Hyt(t,r)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const qyt=e=>e!==null;function v9(e,{repeat:t,repeatType:n="loop"},i,r=1){const a=e.filter(qyt),l=r<0||t&&n!=="loop"&&t%2===1?0:a.length-1;return!l||i===void 0?a[l]:i}const Wyt={decay:bI,inertia:bI,tween:fx,keyframes:fx,spring:NN};function Fge(e){typeof e.type=="string"&&(e.type=Wyt[e.type])}class S9{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const Yyt=e=>e/100;class b9 extends S9{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,r;const{motionValue:n}=this.options;n&&n.updatedAt!==al.now()&&this.tick(al.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(i=this.options).onStop)==null||r.call(i))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Fge(t);const{type:n=fx,repeat:i=0,repeatDelay:r=0,repeatType:a,velocity:o=0}=t;let{keyframes:l}=t;const c=n||fx;c!==fx&&typeof l[0]!="number"&&(this.mixKeyframes=xw(Yyt,Ige(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});a==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=y9(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:i,totalDuration:r,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return i.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:m,repeatDelay:p,type:v,onUpdate:S,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-r/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const w=this.currentTime-u*(this.playbackSpeed>=0?1:-1),R=this.playbackSpeed>=0?w<0:w>r;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let E=this.currentTime,_=i;if(h){const D=Math.min(this.currentTime,r)/l;let P=Math.floor(D),B=D%1;!B&&D>=1&&(B=1),B===1&&P--,P=Math.min(P,h+1),!!(P%2)&&(m==="reverse"?(B=1-B,p&&(B-=p/l)):m==="mirror"&&(_=o)),E=Yd(0,1,B)*l}const N=R?{done:!1,value:d[0]}:_.next(E);a&&(N.value=a(N.value));let{done:O}=N;!R&&c!==null&&(O=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return j&&v!==bI&&(N.value=v9(d,this.options,b,this.speed)),S&&S(N.value),j&&this.finish(),N}then(t,n){return this.finished.then(t,n)}get duration(){return Lc(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Lc(t)}get time(){return Lc(this.currentTime)}set time(t){var n;t=Id(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(al.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Lc(this.currentTime))}play(){var r,a;if(this.isStopped)return;const{driver:t=Myt,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(a=(r=this.options).onPlay)==null||a.call(r);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(al.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function Jyt(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Ky=e=>e*180/Math.PI,xI=e=>{const t=Ky(Math.atan2(e[1],e[0]));return wI(t)},Qyt={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:xI,rotateZ:xI,skewX:e=>Ky(Math.atan(e[1])),skewY:e=>Ky(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},wI=e=>(e=e%360,e<0&&(e+=360),e),kX=xI,$X=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),FX=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Xyt={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:$X,scaleY:FX,scale:e=>($X(e)+FX(e))/2,rotateX:e=>wI(Ky(Math.atan2(e[6],e[5]))),rotateY:e=>wI(Ky(Math.atan2(-e[2],e[0]))),rotateZ:kX,rotate:kX,skewX:e=>Ky(Math.atan(e[4])),skewY:e=>Ky(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function EI(e){return e.includes("scale")?1:0}function _I(e,t){if(!e||e==="none")return EI(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(n)i=Xyt,r=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=Qyt,r=l}if(!r)return EI(t);const a=i[t],o=r[1].split(",").map(egt);return typeof a=="function"?a(o):o[a]}const Zyt=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return _I(n,t)};function egt(e){return parseFloat(e.trim())}const hS=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],pS=new Set(hS),BX=e=>e===fS||e===In,tgt=new Set(["x","y","z"]),ngt=hS.filter(e=>!tgt.has(e));function igt(e){const t=[];return ngt.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const yg={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>_I(t,"x"),y:(e,{transform:t})=>_I(t,"y")};yg.translateX=yg.x;yg.translateY=yg.y;const gg=new Set;let AI=!1,RI=!1,NI=!1;function Bge(){if(RI){const e=Array.from(gg).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const r=igt(i);r.length&&(n.set(i,r),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([a,o])=>{var l;(l=i.getValue(a))==null||l.set(o)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}RI=!1,AI=!1,gg.forEach(e=>e.complete(NI)),gg.clear()}function zge(){gg.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(RI=!0)})}function rgt(){NI=!0,zge(),Bge(),NI=!1}class x9{constructor(t,n,i,r,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=r,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(gg.add(this),AI||(AI=!0,Ji.read(zge),Ji.resolveKeyframes(Bge))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:r}=this;if(t[0]===null){const a=r==null?void 0:r.get(),o=t[t.length-1];if(a!==void 0)t[0]=a;else if(i&&n){const l=i.readValue(n,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),r&&a===void 0&&r.set(t[0])}Jyt(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),gg.delete(this)}cancel(){this.state==="scheduled"&&(gg.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const agt=e=>e.startsWith("--");function sgt(e,t,n){agt(t)?e.style.setProperty(t,n):e.style[t]=n}const Uge=s9(()=>window.ScrollTimeline!==void 0),ogt={};function lgt(e,t){const n=s9(e);return()=>ogt[t]??n()}const Vge=lgt(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Wb=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,zX={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Wb([0,.65,.55,1]),circOut:Wb([.55,0,1,.45]),backIn:Wb([.31,.01,.66,-.59]),backOut:Wb([.33,1.53,.69,.99])};function Kge(e,t){if(e)return typeof e=="function"?Vge()?Pge(e,t):"ease-out":Rge(e)?Wb(e):Array.isArray(e)?e.map(n=>Kge(n,t)||zX.easeOut):zX[e]}function cgt(e,t,n,{delay:i=0,duration:r=300,repeat:a=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:n};c&&(d.offset=c);const h=Kge(l,r);Array.isArray(h)&&(d.easing=h);const m={delay:i,duration:r,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return u&&(m.pseudoElement=u),e.animate(d,m)}function Gge(e){return typeof e=="function"&&"applyToOptions"in e}function ugt({type:e,...t}){return Gge(e)&&Vge()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class dgt extends S9{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:i,keyframes:r,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=t,c2(typeof t.type!="string");const u=ugt(t);this.animation=cgt(n,i,r,u,a),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const d=v9(r,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):sgt(n,i,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,i;const t=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return Lc(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Lc(t)}get time(){return Lc(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Id(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Uge()?(this.animation.timeline=t,sl):n(this)}}const Hge={anticipate:wge,backInOut:xge,circInOut:_ge};function fgt(e){return e in Hge}function hgt(e){typeof e.ease=="string"&&fgt(e.ease)&&(e.ease=Hge[e.ease])}const UX=10;class pgt extends dgt{constructor(t){hgt(t),Fge(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:i,onComplete:r,element:a,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new b9({...o,autoplay:!1}),c=Id(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-UX).value,l.sample(c).value,UX),l.stop()}}const VX=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Sm.test(e)||e==="0")&&!e.startsWith("url("));function mgt(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function ygt(e,t,n,i){const r=e[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=VX(r,t),l=VX(a,t);return!o||!l?!1:mgt(e)||(n==="spring"||Gge(n))&&i}function OI(e){e.duration=0,e.type="keyframes"}const ggt=new Set(["opacity","clipPath","filter","transform"]),vgt=s9(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Sgt(e){var d;const{motionValue:t,name:n,repeatDelay:i,repeatType:r,damping:a,type:o}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return vgt()&&n&&ggt.has(n)&&(n!=="transform"||!u)&&!c&&!i&&r!=="mirror"&&a!==0&&o!=="inertia"}const bgt=40;class xgt extends S9{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:d,...h}){var v;super(),this.stop=()=>{var S,b;this._animation&&(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=al.now();const m={autoplay:t,delay:n,type:i,repeat:r,repeatDelay:a,repeatType:o,name:c,motionValue:u,element:d,...h},p=(d==null?void 0:d.KeyframeResolver)||x9;this.keyframeResolver=new p(l,(S,b,w)=>this.onKeyframesResolved(S,b,m,!w),c,u,d),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(t,n,i,r){this.keyframeResolver=void 0;const{name:a,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:d}=i;this.resolvedAt=al.now(),ygt(t,a,o,l)||((wh.instantAnimations||!c)&&(d==null||d(v9(t,i,n))),t[0]=t[t.length-1],OI(i),i.repeat=0);const m={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>bgt?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:t},p=!u&&Sgt(m)?new pgt({...m,element:m.motionValue.owner.current}):new b9(m);p.finished.then(()=>this.notifyFinished()).catch(sl),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),rgt()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const wgt=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Egt(e){const t=wgt.exec(e);if(!t)return[,];const[,n,i,r]=t;return[`--${n??i}`,r]}function qge(e,t,n=1){const[i,r]=Egt(e);if(!i)return;const a=window.getComputedStyle(t).getPropertyValue(i);if(a){const o=a.trim();return pge(o)?parseFloat(o):o}return f9(r)?qge(r,t,n+1):r}function w9(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Wge=new Set(["width","height","top","left","right","bottom",...hS]),_gt={test:e=>e==="auto",parse:e=>e},Yge=e=>t=>t.test(e),Jge=[fS,In,Pd,Np,vyt,gyt,_gt],KX=e=>Jge.find(Yge(e));function Agt(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||yge(e):!0}const Rgt=new Set(["brightness","contrast","saturate","opacity"]);function Ngt(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(h9)||[];if(!i)return e;const r=n.replace(i,"");let a=Rgt.has(t)?1:0;return i!==n&&(a*=100),t+"("+a+r+")"}const Ogt=/\b([a-z-]*)\(.*?\)/gu,jI={...Sm,getAnimatableNone:e=>{const t=e.match(Ogt);return t?t.map(Ngt).join(" "):e}},GX={...fS,transform:Math.round},jgt={rotate:Np,rotateX:Np,rotateY:Np,rotateZ:Np,scale:T_,scaleX:T_,scaleY:T_,scaleZ:T_,skew:Np,skewX:Np,skewY:Np,distance:In,translateX:In,translateY:In,translateZ:In,x:In,y:In,z:In,perspective:In,transformPerspective:In,opacity:u2,originX:LX,originY:LX,originZ:In},E9={borderWidth:In,borderTopWidth:In,borderRightWidth:In,borderBottomWidth:In,borderLeftWidth:In,borderRadius:In,radius:In,borderTopLeftRadius:In,borderTopRightRadius:In,borderBottomRightRadius:In,borderBottomLeftRadius:In,width:In,maxWidth:In,height:In,maxHeight:In,top:In,right:In,bottom:In,left:In,padding:In,paddingTop:In,paddingRight:In,paddingBottom:In,paddingLeft:In,margin:In,marginTop:In,marginRight:In,marginBottom:In,marginLeft:In,backgroundPositionX:In,backgroundPositionY:In,...jgt,zIndex:GX,fillOpacity:u2,strokeOpacity:u2,numOctaves:GX},Dgt={...E9,color:La,backgroundColor:La,outlineColor:La,fill:La,stroke:La,borderColor:La,borderTopColor:La,borderRightColor:La,borderBottomColor:La,borderLeftColor:La,filter:jI,WebkitFilter:jI},Qge=e=>Dgt[e];function Xge(e,t){let n=Qge(e);return n!==jI&&(n=Sm),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Cgt=new Set(["auto","none","0"]);function Lgt(e,t,n){let i=0,r;for(;i<e.length&&!r;){const a=e[i];typeof a=="string"&&!Cgt.has(a)&&d2(a).values.length&&(r=e[i]),i++}if(r&&n)for(const a of t)e[a]=Xge(n,r)}class Tgt extends x9{constructor(t,n,i,r,a){super(t,n,i,r,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),f9(u))){const d=qge(u,n.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Wge.has(i)||t.length!==2)return;const[r,a]=t,o=KX(r),l=KX(a);if(o!==l)if(BX(o)&&BX(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else yg[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let r=0;r<t.length;r++)(t[r]===null||Agt(t[r]))&&i.push(r);i.length&&Lgt(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=yg[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&t.getValue(i,r).jump(r,!1)}measureEndState(){var l;const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const r=t.getValue(n);r&&r.jump(this.measuredOrigin,!1);const a=i.length-1,o=i[a];i[a]=yg[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function Zge(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const r=document.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e)}const eve=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function tve(e){return mge(e)&&"offsetHeight"in e}const HX=30,Mgt=e=>!isNaN(parseFloat(e)),hx={current:void 0};class Igt{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var a;const r=al.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=al.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Mgt(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new o9);const i=this.events[t].add(n);return t==="change"?()=>{i(),Ji.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return hx.current&&hx.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=al.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>HX)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,HX);return l9(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Nu(e,t){return new Igt(e,t)}const{schedule:_9}=Nge(queueMicrotask,!1),gu={x:!1,y:!1};function nve(){return gu.x||gu.y}function Pgt(e){return e==="x"||e==="y"?gu[e]?null:(gu[e]=!0,()=>{gu[e]=!1}):gu.x||gu.y?null:(gu.x=gu.y=!0,()=>{gu.x=gu.y=!1})}function ive(e,t){const n=Zge(e),i=new AbortController,r={passive:!0,...t,signal:i.signal};return[n,r,()=>i.abort()]}function qX(e){return!(e.pointerType==="touch"||nve())}function kgt(e,t,n={}){const[i,r,a]=ive(e,n),o=l=>{if(!qX(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=h=>{qX(h)&&(u(h),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,r)};return i.forEach(l=>{l.addEventListener("pointerenter",o,r)}),a}const rve=(e,t)=>t?e===t?!0:rve(e,t.parentElement):!1,A9=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,$gt=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Fgt(e){return $gt.has(e.tagName)||e.tabIndex!==-1}const SA=new WeakSet;function WX(e){return t=>{t.key==="Enter"&&e(t)}}function GT(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Bgt=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=WX(()=>{if(SA.has(n))return;GT(n,"down");const r=WX(()=>{GT(n,"up")}),a=()=>GT(n,"cancel");n.addEventListener("keyup",r,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function YX(e){return A9(e)&&!nve()}function zgt(e,t,n={}){const[i,r,a]=ive(e,n),o=l=>{const c=l.currentTarget;if(!YX(l))return;SA.add(c);const u=t(c,l),d=(p,v)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),SA.has(c)&&SA.delete(c),YX(p)&&typeof u=="function"&&u(p,{success:v})},h=p=>{d(p,c===window||c===document||n.useGlobalTarget||rve(c,p.target))},m=p=>{d(p,!1)};window.addEventListener("pointerup",h,r),window.addEventListener("pointercancel",m,r)};return i.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,r),tve(l)&&(l.addEventListener("focus",u=>Bgt(u,r)),!Fgt(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function R9(e){return mge(e)&&"ownerSVGElement"in e}const bA=new WeakMap;let Op;const ave=(e,t,n)=>(i,r)=>r&&r[0]?r[0][e+"Size"]:R9(i)&&"getBBox"in i?i.getBBox()[t]:i[n],Ugt=ave("inline","width","offsetWidth"),Vgt=ave("block","height","offsetHeight");function Kgt({target:e,borderBoxSize:t}){var n;(n=bA.get(e))==null||n.forEach(i=>{i(e,{get width(){return Ugt(e,t)},get height(){return Vgt(e,t)}})})}function Ggt(e){e.forEach(Kgt)}function Hgt(){typeof ResizeObserver>"u"||(Op=new ResizeObserver(Ggt))}function qgt(e,t){Op||Hgt();const n=Zge(e);return n.forEach(i=>{let r=bA.get(i);r||(r=new Set,bA.set(i,r)),r.add(t),Op==null||Op.observe(i)}),()=>{n.forEach(i=>{const r=bA.get(i);r==null||r.delete(t),r!=null&&r.size||Op==null||Op.unobserve(i)})}}const xA=new Set;let R0;function Wgt(){R0=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};xA.forEach(t=>t(e))},window.addEventListener("resize",R0)}function Ygt(e){return xA.add(e),R0||Wgt(),()=>{xA.delete(e),!xA.size&&typeof R0=="function"&&(window.removeEventListener("resize",R0),R0=void 0)}}function Jgt(e,t){return typeof e=="function"?Ygt(e):qgt(e,t)}function sve(e,t){let n;const i=()=>{const{currentTime:r}=t,o=(r===null?0:r.value)/100;n!==o&&e(o),n=o};return Ji.preUpdate(i,!0),()=>Vu(i)}function Qgt(e){return R9(e)&&e.tagName==="svg"}function Xgt(...e){const t=!Array.isArray(e[0]),n=t?0:-1,i=e[0+n],r=e[1+n],a=e[2+n],o=e[3+n],l=g9(r,a,o);return t?l(i):l}const eo=e=>!!(e&&e.getVelocity),Zgt=[...Jge,La,Sm],evt=e=>Zgt.find(Yge(e)),N9=g.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function tvt(e=!0){const t=g.useContext(i9);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=t,a=g.useId();g.useEffect(()=>{if(e)return r(a)},[e]);const o=g.useCallback(()=>e&&i&&i(a),[a,i,e]);return!n&&i?[!1,o]:[!0]}const ove=g.createContext({strict:!1}),JX={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},B1={};for(const e in JX)B1[e]={isEnabled:t=>JX[e].some(n=>!!t[n])};function nvt(e){for(const t in e)B1[t]={...B1[t],...e[t]}}const ivt=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ON(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||ivt.has(e)}let lve=e=>!ON(e);function rvt(e){typeof e=="function"&&(lve=t=>t.startsWith("on")?!ON(t):e(t))}try{rvt(require("@emotion/is-prop-valid").default)}catch{}function avt(e,t,n){const i={};for(const r in e)r==="values"&&typeof e.values=="object"||(lve(r)||n===!0&&ON(r)||!t&&!ON(r)||e.draggable&&r.startsWith("onDrag"))&&(i[r]=e[r]);return i}const Hj=g.createContext({});function qj(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function f2(e){return typeof e=="string"||Array.isArray(e)}const O9=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],j9=["initial",...O9];function Wj(e){return qj(e.animate)||j9.some(t=>f2(e[t]))}function cve(e){return!!(Wj(e)||e.variants)}function svt(e,t){if(Wj(e)){const{initial:n,animate:i}=e;return{initial:n===!1||f2(n)?n:void 0,animate:f2(i)?i:void 0}}return e.inherit!==!1?t:{}}function ovt(e){const{initial:t,animate:n}=svt(e,g.useContext(Hj));return g.useMemo(()=>({initial:t,animate:n}),[QX(t),QX(n)])}function QX(e){return Array.isArray(e)?e.join(" "):e}const h2={};function lvt(e){for(const t in e)h2[t]=e[t],d9(t)&&(h2[t].isCSSVariable=!0)}function uve(e,{layout:t,layoutId:n}){return pS.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!h2[e]||e==="opacity")}const cvt={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},uvt=hS.length;function dvt(e,t,n){let i="",r=!0;for(let a=0;a<uvt;a++){const o=hS[a],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=eve(l,E9[o]);if(!c){r=!1;const d=cvt[o]||o;i+=`${d}(${u}) `}n&&(t[o]=u)}}return i=i.trim(),n?i=n(t,r?"":i):r&&(i="none"),i}function D9(e,t,n){const{style:i,vars:r,transformOrigin:a}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(pS.has(c)){o=!0;continue}else if(d9(c)){r[c]=u;continue}else{const d=eve(u,E9[c]);c.startsWith("origin")?(l=!0,a[c]=d):i[c]=d}}if(t.transform||(o||n?i.transform=dvt(t,e.transform,n):i.transform&&(i.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=a;i.transformOrigin=`${c} ${u} ${d}`}}const C9=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function dve(e,t,n){for(const i in t)!eo(t[i])&&!uve(i,n)&&(e[i]=t[i])}function fvt({transformTemplate:e},t){return g.useMemo(()=>{const n=C9();return D9(n,t,e),Object.assign({},n.vars,n.style)},[t])}function hvt(e,t){const n=e.style||{},i={};return dve(i,n,e),Object.assign(i,fvt(e,t)),i}function pvt(e,t){const n={},i=hvt(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const mvt={offset:"stroke-dashoffset",array:"stroke-dasharray"},yvt={offset:"strokeDashoffset",array:"strokeDasharray"};function gvt(e,t,n=1,i=0,r=!0){e.pathLength=1;const a=r?mvt:yvt;e[a.offset]=In.transform(-i);const o=In.transform(t),l=In.transform(n);e[a.array]=`${o} ${l}`}function fve(e,{attrX:t,attrY:n,attrScale:i,pathLength:r,pathSpacing:a=1,pathOffset:o=0,...l},c,u,d){if(D9(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:m}=e;h.transform&&(m.transform=h.transform,delete h.transform),(m.transform||h.transformOrigin)&&(m.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),m.transform&&(m.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),i!==void 0&&(h.scale=i),r!==void 0&&gvt(h,r,a,o,!1)}const hve=()=>({...C9(),attrs:{}}),pve=e=>typeof e=="string"&&e.toLowerCase()==="svg";function vvt(e,t,n,i){const r=g.useMemo(()=>{const a=hve();return fve(a,t,pve(i),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};dve(a,e.style,e),r.style={...a,...r.style}}return r}const Svt=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function L9(e){return typeof e!="string"||e.includes("-")?!1:!!(Svt.indexOf(e)>-1||/[A-Z]/u.test(e))}function bvt(e,t,n,{latestValues:i},r,a=!1){const l=(L9(e)?vvt:pvt)(t,i,r,e),c=avt(t,typeof e=="string",a),u=e!==g.Fragment?{...c,...l,ref:n}:{},{children:d}=t,h=g.useMemo(()=>eo(d)?d.get():d,[d]);return g.createElement(e,{...u,children:h})}function XX(e){const t=[{},{}];return e==null||e.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function T9(e,t,n,i){if(typeof t=="function"){const[r,a]=XX(i);t=t(n!==void 0?n:e.custom,r,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[r,a]=XX(i);t=t(n!==void 0?n:e.custom,r,a)}return t}function wA(e){return eo(e)?e.get():e}function xvt({scrapeMotionValuesFromProps:e,createRenderState:t},n,i,r){return{latestValues:wvt(n,i,r,e),renderState:t()}}function wvt(e,t,n,i){const r={},a=i(e,{});for(const m in a)r[m]=wA(a[m]);let{initial:o,animate:l}=e;const c=Wj(e),u=cve(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?l:o;if(h&&typeof h!="boolean"&&!qj(h)){const m=Array.isArray(h)?h:[h];for(let p=0;p<m.length;p++){const v=T9(e,m[p]);if(v){const{transitionEnd:S,transition:b,...w}=v;for(const R in w){let E=w[R];if(Array.isArray(E)){const _=d?E.length-1:0;E=E[_]}E!==null&&(r[R]=E)}for(const R in S)r[R]=S[R]}}}return r}const mve=e=>(t,n)=>{const i=g.useContext(Hj),r=g.useContext(i9),a=()=>xvt(e,t,i,r);return n?a():Gj(a)};function M9(e,t,n){var a;const{style:i}=e,r={};for(const o in i)(eo(i[o])||t.style&&eo(t.style[o])||uve(o,e)||((a=n==null?void 0:n.getValue(o))==null?void 0:a.liveStyle)!==void 0)&&(r[o]=i[o]);return r}const Evt=mve({scrapeMotionValuesFromProps:M9,createRenderState:C9});function yve(e,t,n){const i=M9(e,t,n);for(const r in e)if(eo(e[r])||eo(t[r])){const a=hS.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[a]=e[r]}return i}const _vt=mve({scrapeMotionValuesFromProps:yve,createRenderState:hve}),Avt=Symbol.for("motionComponentSymbol");function N0(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Rvt(e,t,n){return g.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),n&&(typeof n=="function"?n(i):N0(n)&&(n.current=i))},[t])}const I9=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Nvt="framerAppearId",gve="data-"+I9(Nvt),vve=g.createContext({});function Ovt(e,t,n,i,r){var S,b;const{visualElement:a}=g.useContext(Hj),o=g.useContext(ove),l=g.useContext(i9),c=g.useContext(N9).reducedMotion,u=g.useRef(null);i=i||o.renderer,!u.current&&i&&(u.current=i(e,{visualState:t,parent:a,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,h=g.useContext(vve);d&&!d.projection&&r&&(d.type==="html"||d.type==="svg")&&jvt(u.current,n,r,h);const m=g.useRef(!1);g.useInsertionEffect(()=>{d&&m.current&&d.update(n,l)});const p=n[gve],v=g.useRef(!!p&&!((S=window.MotionHandoffIsComplete)!=null&&S.call(window,p))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,p)));return n9(()=>{d&&(m.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),v.current&&d.animationState&&d.animationState.animateChanges())}),g.useEffect(()=>{d&&(!v.current&&d.animationState&&d.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,p)}),v.current=!1),d.enteringChildren=void 0)}),d}function jvt(e,t,n,i){const{layoutId:r,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Sve(e.parent)),e.projection.setOptions({layoutId:r,layout:a,alwaysMeasureLayout:!!o||l&&N0(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:d,layoutScroll:c,layoutRoot:u})}function Sve(e){if(e)return e.options.allowProjection!==!1?e.projection:Sve(e.parent)}function HT(e,{forwardMotionProps:t=!1}={},n,i){n&&nvt(n);const r=L9(e)?_vt:Evt;function a(l,c){let u;const d={...g.useContext(N9),...l,layoutId:Dvt(l)},{isStatic:h}=d,m=ovt(l),p=r(l,h);if(!h&&t9){Cvt();const v=Lvt(d);u=v.MeasureLayout,m.visualElement=Ovt(e,p,d,i,v.ProjectionNode)}return s.jsxs(Hj.Provider,{value:m,children:[u&&m.visualElement?s.jsx(u,{visualElement:m.visualElement,...d}):null,bvt(e,l,Rvt(p,m.visualElement,c),p,h,t)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=g.forwardRef(a);return o[Avt]=e,o}function Dvt({layoutId:e}){const t=g.useContext(hge).id;return t&&e!==void 0?t+"-"+e:e}function Cvt(e,t){g.useContext(ove).strict}function Lvt(e){const{drag:t,layout:n}=B1;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function Tvt(e,t){if(typeof Proxy>"u")return HT;const n=new Map,i=(a,o)=>HT(a,o,e,t),r=(a,o)=>i(a,o);return new Proxy(r,{get:(a,o)=>o==="create"?i:(n.has(o)||n.set(o,HT(o,void 0,e,t)),n.get(o))})}function bve({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function Mvt({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Ivt(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function qT(e){return e===void 0||e===1}function DI({scale:e,scaleX:t,scaleY:n}){return!qT(e)||!qT(t)||!qT(n)}function Ly(e){return DI(e)||xve(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function xve(e){return ZX(e.x)||ZX(e.y)}function ZX(e){return e&&e!=="0%"}function jN(e,t,n){const i=e-n,r=t*i;return n+r}function eZ(e,t,n,i,r){return r!==void 0&&(e=jN(e,r,i)),jN(e,n,i)+t}function CI(e,t=0,n=1,i,r){e.min=eZ(e.min,t,n,i,r),e.max=eZ(e.max,t,n,i,r)}function wve(e,{x:t,y:n}){CI(e.x,t.translate,t.scale,t.originPoint),CI(e.y,n.translate,n.scale,n.originPoint)}const tZ=.999999999999,nZ=1.0000000000001;function Pvt(e,t,n,i=!1){const r=n.length;if(!r)return;t.x=t.y=1;let a,o;for(let l=0;l<r;l++){a=n[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&j0(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,wve(e,o)),i&&Ly(a.latestValues)&&j0(e,a.latestValues))}t.x<nZ&&t.x>tZ&&(t.x=1),t.y<nZ&&t.y>tZ&&(t.y=1)}function O0(e,t){e.min=e.min+t,e.max=e.max+t}function iZ(e,t,n,i,r=.5){const a=Zr(e.min,e.max,r);CI(e,t,n,a,i)}function j0(e,t){iZ(e.x,t.x,t.scaleX,t.scale,t.originX),iZ(e.y,t.y,t.scaleY,t.scale,t.originY)}function Eve(e,t){return bve(Ivt(e.getBoundingClientRect(),t))}function kvt(e,t,n){const i=Eve(e,n),{scroll:r}=t;return r&&(O0(i.x,r.offset.x),O0(i.y,r.offset.y)),i}const rZ=()=>({translate:0,scale:1,origin:0,originPoint:0}),D0=()=>({x:rZ(),y:rZ()}),aZ=()=>({min:0,max:0}),Sa=()=>({x:aZ(),y:aZ()}),LI={current:null},_ve={current:!1};function $vt(){if(_ve.current=!0,!!t9)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>LI.current=e.matches;e.addEventListener("change",t),t()}else LI.current=!1}const Fvt=new WeakMap;function Bvt(e,t,n){for(const i in t){const r=t[i],a=n[i];if(eo(r))e.addValue(i,r);else if(eo(a))e.addValue(i,Nu(r,{owner:e}));else if(a!==r)if(e.hasValue(i)){const o=e.getValue(i);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=e.getStaticValue(i);e.addValue(i,Nu(o!==void 0?o:r,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const sZ=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class zvt{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=x9,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=al.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Ji.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=Wj(n),this.isVariantNode=cve(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in h){const p=h[m];c[m]!==void 0&&eo(p)&&p.set(c[m])}}mount(t){var n;this.current=t,Fvt.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,r)=>this.bindToMotionValue(r,i)),_ve.current||$vt(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:LI.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Vu(this.notifyUpdate),Vu(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=pS.has(t);i&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Ji.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{r(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in B1){const n=B1[t];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[t]&&r&&i(this.props)&&(this.features[t]=new r(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Sa()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<sZ.length;i++){const r=sZ[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const a="on"+r,o=t[a];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=Bvt(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=Nu(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(pge(i)||yge(i))?i=parseFloat(i):!evt(i)&&Sm.test(n)&&(i=Xge(t,n)),this.setBaseTarget(t,eo(i)?i.get():i)),eo(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var a;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=T9(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);o&&(i=o[t])}if(n&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!eo(r)?r:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new o9),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){_9.render(this.render)}}class Ave extends zvt{constructor(){super(...arguments),this.KeyframeResolver=Tgt}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;eo(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Rve(e,{style:t,vars:n},i,r){const a=e.style;let o;for(o in t)a[o]=t[o];r==null||r.applyProjectionStyles(a,i);for(o in n)a.setProperty(o,n[o])}function Uvt(e){return window.getComputedStyle(e)}class Vvt extends Ave{constructor(){super(...arguments),this.type="html",this.renderInstance=Rve}readValueFromInstance(t,n){var i;if(pS.has(n))return(i=this.projection)!=null&&i.isProjecting?EI(n):Zyt(t,n);{const r=Uvt(t),a=(d9(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Eve(t,n)}build(t,n,i){D9(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return M9(t,n,i)}}const Nve=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Kvt(e,t,n,i){Rve(e,t,void 0,i);for(const r in t.attrs)e.setAttribute(Nve.has(r)?r:I9(r),t.attrs[r])}class Gvt extends Ave{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Sa}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(pS.has(n)){const i=Qge(n);return i&&i.default||0}return n=Nve.has(n)?n:I9(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return yve(t,n,i)}build(t,n,i){fve(t,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,n,i,r){Kvt(t,n,i,r)}mount(t){this.isSVGTag=pve(t.tagName),super.mount(t)}}const Hvt=(e,t)=>L9(e)?new Gvt(t):new Vvt(t,{allowProjection:e!==g.Fragment});function J0(e,t,n){const i=e.getProps();return T9(i,t,n!==void 0?n:i.custom,e)}const TI=e=>Array.isArray(e);function qvt(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Nu(n))}function Wvt(e){return TI(e)?e[e.length-1]||0:e}function Yvt(e,t){const n=J0(e,t);let{transitionEnd:i={},transition:r={},...a}=n||{};a={...a,...i};for(const o in a){const l=Wvt(a[o]);qvt(e,o,l)}}function Jvt(e){return!!(eo(e)&&e.add)}function MI(e,t){const n=e.getValue("willChange");if(Jvt(n))return n.add(t);if(!n&&wh.WillChange){const i=new wh.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function Ove(e){return e.props[gve]}const Qvt=e=>e!==null;function Xvt(e,{repeat:t,repeatType:n="loop"},i){const r=e.filter(Qvt),a=t&&n!=="loop"&&t%2===1?0:r.length-1;return r[a]}const Zvt={type:"spring",stiffness:500,damping:25,restSpeed:10},e0t=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),t0t={type:"keyframes",duration:.8},n0t={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},i0t=(e,{keyframes:t})=>t.length>2?t0t:pS.has(e)?e.startsWith("scale")?e0t(t[1]):Zvt:n0t;function r0t({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const P9=(e,t,n,i={},r,a)=>o=>{const l=w9(i,e)||{},c=l.delay||i.delay||0;let{elapsed:u=0}=i;u=u-Id(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:m=>{t.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:r};r0t(l)||Object.assign(d,i0t(e,d)),d.duration&&(d.duration=Id(d.duration)),d.repeatDelay&&(d.repeatDelay=Id(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(OI(d),d.delay===0&&(h=!0)),(wh.instantAnimations||wh.skipAnimations)&&(h=!0,OI(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,h&&!a&&t.get()!==void 0){const m=Xvt(d.keyframes,l);if(m!==void 0){Ji.update(()=>{d.onUpdate(m),d.onComplete()});return}}return l.isSync?new b9(d):new xgt(d)};function a0t({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function jve(e,t,{delay:n=0,transitionOverride:i,type:r}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...l}=t;i&&(a=i);const c=[],u=r&&e.animationState&&e.animationState.getState()[r];for(const d in l){const h=e.getValue(d,e.latestValues[d]??null),m=l[d];if(m===void 0||u&&a0t(u,d))continue;const p={delay:n,...w9(a||{},d)},v=h.get();if(v!==void 0&&!h.isAnimating&&!Array.isArray(m)&&m===v&&!p.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const w=Ove(e);if(w){const R=window.MotionHandoffAnimation(w,d,Ji);R!==null&&(p.startTime=R,S=!0)}}MI(e,d),h.start(P9(d,h,m,e.shouldReduceMotion&&Wge.has(d)?{type:!1}:p,e,S));const b=h.animation;b&&c.push(b)}return o&&Promise.all(c).then(()=>{Ji.update(()=>{o&&Yvt(e,o)})}),c}function Dve(e,t,n,i=0,r=1){const a=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),o=e.size,l=(o-1)*i;return typeof n=="function"?n(a,o):r===1?a*i:l-a*i}function II(e,t,n={}){var c;const i=J0(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:r=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(r=n.transitionOverride);const a=i?()=>Promise.all(jve(e,i,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:m}=r;return s0t(e,t,u,d,h,m,n)}:()=>Promise.resolve(),{when:l}=r;if(l){const[u,d]=l==="beforeChildren"?[a,o]:[o,a];return u().then(()=>d())}else return Promise.all([a(),o(n.delay)])}function s0t(e,t,n=0,i=0,r=0,a=1,o){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(II(c,t,{...o,delay:n+(typeof i=="function"?0:i)+Dve(e.variantChildren,c,i,r,a)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function o0t(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const r=t.map(a=>II(e,a,n));i=Promise.all(r)}else if(typeof t=="string")i=II(e,t,n);else{const r=typeof t=="function"?J0(e,t,n.custom):t;i=Promise.all(jve(e,r,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}function Cve(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const l0t=j9.length;function Lve(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Lve(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<l0t;n++){const i=j9[n],r=e.props[i];(f2(r)||r===!1)&&(t[i]=r)}return t}const c0t=[...O9].reverse(),u0t=O9.length;function d0t(e){return t=>Promise.all(t.map(({animation:n,options:i})=>o0t(e,n,i)))}function f0t(e){let t=d0t(e),n=oZ(),i=!0;const r=c=>(u,d)=>{var m;const h=J0(e,d,c==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);if(h){const{transition:p,transitionEnd:v,...S}=h;u={...u,...S,...v}}return u};function a(c){t=c(e)}function o(c){const{props:u}=e,d=Lve(e.parent)||{},h=[],m=new Set;let p={},v=1/0;for(let b=0;b<u0t;b++){const w=c0t[b],R=n[w],E=u[w]!==void 0?u[w]:d[w],_=f2(E),N=w===c?R.isActive:null;N===!1&&(v=b);let O=E===d[w]&&E!==u[w]&&_;if(O&&i&&e.manuallyAnimateOnMount&&(O=!1),R.protectedKeys={...p},!R.isActive&&N===null||!E&&!R.prevProp||qj(E)||typeof E=="boolean")continue;const j=h0t(R.prevProp,E);let D=j||w===c&&R.isActive&&!O&&_||b>v&&_,P=!1;const B=Array.isArray(E)?E:[E];let M=B.reduce(r(w),{});N===!1&&(M={});const{prevResolvedValues:z={}}=R,U={...z,...M},K=V=>{D=!0,m.has(V)&&(P=!0,m.delete(V)),R.needsAnimating[V]=!0;const Q=e.getValue(V);Q&&(Q.liveStyle=!1)};for(const V in U){const Q=M[V],ce=z[V];if(p.hasOwnProperty(V))continue;let ae=!1;TI(Q)&&TI(ce)?ae=!Cve(Q,ce):ae=Q!==ce,ae?Q!=null?K(V):m.add(V):Q!==void 0&&m.has(V)?K(V):R.protectedKeys[V]=!0}R.prevProp=E,R.prevResolvedValues=M,R.isActive&&(p={...p,...M}),i&&e.blockInitialAnimation&&(D=!1);const te=O&&j;D&&(!te||P)&&h.push(...B.map(V=>{const Q={type:w};if(typeof V=="string"&&i&&!te&&e.manuallyAnimateOnMount&&e.parent){const{parent:ce}=e,ae=J0(ce,V);if(ce.enteringChildren&&ae){const{delayChildren:G}=ae.transition||{};Q.delay=Dve(ce.enteringChildren,e,G)}}return{animation:V,options:Q}}))}if(m.size){const b={};if(typeof u.initial!="boolean"){const w=J0(e,Array.isArray(u.initial)?u.initial[0]:u.initial);w&&w.transition&&(b.transition=w.transition)}m.forEach(w=>{const R=e.getBaseTarget(w),E=e.getValue(w);E&&(E.liveStyle=!0),b[w]=R??null}),h.push({animation:b})}let S=!!h.length;return i&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(S=!1),i=!1,S?t(h):Promise.resolve()}function l(c,u){var h;if(n[c].isActive===u)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(m=>{var p;return(p=m.animationState)==null?void 0:p.setActive(c,u)}),n[c].isActive=u;const d=o(c);for(const m in n)n[m].protectedKeys={};return d}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>n,reset:()=>{n=oZ(),i=!0}}}function h0t(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Cve(t,e):!1}function xy(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function oZ(){return{animate:xy(!0),whileInView:xy(),whileHover:xy(),whileTap:xy(),whileDrag:xy(),whileFocus:xy(),exit:xy()}}class km{constructor(t){this.isMounted=!1,this.node=t}update(){}}class p0t extends km{constructor(t){super(t),t.animationState||(t.animationState=f0t(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();qj(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let m0t=0;class y0t extends km{constructor(){super(...arguments),this.id=m0t++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const r=this.node.animationState.setActive("exit",!t);n&&!t&&r.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const g0t={animation:{Feature:p0t},exit:{Feature:y0t}};function p2(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function _w(e){return{point:{x:e.pageX,y:e.pageY}}}const v0t=e=>t=>A9(t)&&e(t,_w(t));function px(e,t,n,i){return p2(e,t,v0t(n),i)}const Tve=1e-4,S0t=1-Tve,b0t=1+Tve,Mve=.01,x0t=0-Mve,w0t=0+Mve;function _o(e){return e.max-e.min}function E0t(e,t,n){return Math.abs(e-t)<=n}function lZ(e,t,n,i=.5){e.origin=i,e.originPoint=Zr(t.min,t.max,e.origin),e.scale=_o(n)/_o(t),e.translate=Zr(n.min,n.max,e.origin)-e.originPoint,(e.scale>=S0t&&e.scale<=b0t||isNaN(e.scale))&&(e.scale=1),(e.translate>=x0t&&e.translate<=w0t||isNaN(e.translate))&&(e.translate=0)}function mx(e,t,n,i){lZ(e.x,t.x,n.x,i?i.originX:void 0),lZ(e.y,t.y,n.y,i?i.originY:void 0)}function cZ(e,t,n){e.min=n.min+t.min,e.max=e.min+_o(t)}function _0t(e,t,n){cZ(e.x,t.x,n.x),cZ(e.y,t.y,n.y)}function uZ(e,t,n){e.min=t.min-n.min,e.max=e.min+_o(t)}function yx(e,t,n){uZ(e.x,t.x,n.x),uZ(e.y,t.y,n.y)}function Ac(e){return[e("x"),e("y")]}const Ive=({current:e})=>e?e.ownerDocument.defaultView:null,dZ=(e,t)=>Math.abs(e-t);function A0t(e,t){const n=dZ(e.x,t.x),i=dZ(e.y,t.y);return Math.sqrt(n**2+i**2)}class Pve{constructor(t,n,{transformPagePoint:i,contextWindow:r=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=YT(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,v=A0t(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!v)return;const{point:S}=m,{timestamp:b}=vs;this.history.push({...S,timestamp:b});const{onStart:w,onMove:R}=this.handlers;p||(w&&w(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,m)},this.handlePointerMove=(m,p)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=WT(p,this.transformPagePoint),Ji.update(this.updatePoint,!0)},this.handlePointerUp=(m,p)=>{this.end();const{onEnd:v,onSessionEnd:S,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=YT(m.type==="pointercancel"?this.lastMoveEventInfo:WT(p,this.transformPagePoint),this.history);this.startEvent&&v&&v(m,w),S&&S(m,w)},!A9(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=o,this.contextWindow=r||window;const l=_w(t),c=WT(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=vs;this.history=[{...u,timestamp:d}];const{onSessionStart:h}=n;h&&h(t,YT(c,this.history)),this.removeListeners=xw(px(this.contextWindow,"pointermove",this.handlePointerMove),px(this.contextWindow,"pointerup",this.handlePointerUp),px(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Vu(this.updatePoint)}}function WT(e,t){return t?{point:t(e.point)}:e}function fZ(e,t){return{x:e.x-t.x,y:e.y-t.y}}function YT({point:e},t){return{point:e,delta:fZ(e,kve(t)),offset:fZ(e,R0t(t)),velocity:N0t(t,.1)}}function R0t(e){return e[0]}function kve(e){return e[e.length-1]}function N0t(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const r=kve(e);for(;n>=0&&(i=e[n],!(r.timestamp-i.timestamp>Id(t)));)n--;if(!i)return{x:0,y:0};const a=Lc(r.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const o={x:(r.x-i.x)/a,y:(r.y-i.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function O0t(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?Zr(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?Zr(n,e,i.max):Math.min(e,n)),e}function hZ(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function j0t(e,{top:t,left:n,bottom:i,right:r}){return{x:hZ(e.x,n,r),y:hZ(e.y,t,i)}}function pZ(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function D0t(e,t){return{x:pZ(e.x,t.x),y:pZ(e.y,t.y)}}function C0t(e,t){let n=.5;const i=_o(e),r=_o(t);return r>i?n=F1(t.min,t.max-i,e.min):i>r&&(n=F1(e.min,e.max-r,t.min)),Yd(0,1,n)}function L0t(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const PI=.35;function T0t(e=PI){return e===!1?e=0:e===!0&&(e=PI),{x:mZ(e,"left","right"),y:mZ(e,"top","bottom")}}function mZ(e,t,n){return{min:yZ(e,t),max:yZ(e,n)}}function yZ(e,t){return typeof e=="number"?e:e[t]||0}const M0t=new WeakMap;class I0t{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Sa(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=h=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(_w(h).point)},o=(h,m)=>{const{drag:p,dragPropagation:v,onDragStart:S}=this.getProps();if(p&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Pgt(p),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ac(w=>{let R=this.getAxisMotionValue(w).get()||0;if(Pd.test(R)){const{projection:E}=this.visualElement;if(E&&E.layout){const _=E.layout.layoutBox[w];_&&(R=_o(_)*(parseFloat(R)/100))}}this.originPoint[w]=R}),S&&Ji.postRender(()=>S(h,m)),MI(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},l=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m;const{dragPropagation:p,dragDirectionLock:v,onDirectionLock:S,onDrag:b}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:w}=m;if(v&&this.currentDirection===null){this.currentDirection=P0t(w),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",m.point,w),this.updateAxis("y",m.point,w),this.visualElement.render(),b&&b(h,m)},c=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m,this.stop(h,m),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Ac(h=>{var m;return this.getAnimationState(h)==="paused"&&((m=this.getAxisMotionValue(h).animation)==null?void 0:m.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new Pve(t,{onSessionStart:a,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:i,contextWindow:Ive(this.visualElement)})}stop(t,n){const i=t||this.latestPointerEvent,r=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!r||!i)return;const{velocity:o}=r;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Ji.postRender(()=>l(i,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:r}=this.getProps();if(!i||!M_(t,r,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(o=O0t(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,r=this.constraints;t&&N0(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=j0t(i.layoutBox,t):this.constraints=!1,this.elastic=T0t(n),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ac(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=L0t(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!N0(t))return!1;const i=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=kvt(i,r.root,this.visualElement.getTransformPagePoint());let o=D0t(r.layout.layoutBox,a);if(n){const l=n(Mvt(o));this.hasMutatedConstraints=!!l,l&&(o=bve(l))}return o}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Ac(d=>{if(!M_(d,n,this.currentDirection))return;let h=c&&c[d]||{};o&&(h={min:0,max:0});const m=r?200:1e6,p=r?40:1e7,v={type:"inertia",velocity:i?t[d]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return MI(this.visualElement,t),i.start(P9(t,i,0,n,this.visualElement,!1))}stopAnimation(){Ac(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ac(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Ac(n=>{const{drag:i}=this.getProps();if(!M_(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:l}=r.layout.layoutBox[n];a.set(t[n]-Zr(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!N0(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Ac(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();r[o]=C0t({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Ac(o=>{if(!M_(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(Zr(c,u,r[o]))})}addListeners(){if(!this.visualElement.current)return;M0t.set(this.visualElement,this);const t=this.visualElement.current,n=px(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),i=()=>{const{dragConstraints:c}=this.getProps();N0(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,a=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Ji.read(i);const o=p2(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ac(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())}));return()=>{o(),n(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:o=PI,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function M_(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function P0t(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class k0t extends km{constructor(t){super(t),this.removeGroupControls=sl,this.removeListeners=sl,this.controls=new I0t(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||sl}unmount(){this.removeGroupControls(),this.removeListeners()}}const gZ=e=>(t,n)=>{e&&Ji.postRender(()=>e(t,n))};class $0t extends km{constructor(){super(...arguments),this.removePointerDownListener=sl}onPointerDown(t){this.session=new Pve(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ive(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:gZ(t),onStart:gZ(n),onMove:i,onEnd:(a,o)=>{delete this.session,r&&Ji.postRender(()=>r(a,o))}}}mount(){this.removePointerDownListener=px(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const EA={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function vZ(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Nb={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(In.test(e))e=parseFloat(e);else return e;const n=vZ(e,t.target.x),i=vZ(e,t.target.y);return`${n}% ${i}%`}},F0t={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,r=Sm.parse(e);if(r.length>5)return i;const a=Sm.createTransformer(e),o=typeof r[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;r[0+o]/=l,r[1+o]/=c;const u=Zr(l,c,.5);return typeof r[2+o]=="number"&&(r[2+o]/=u),typeof r[3+o]=="number"&&(r[3+o]/=u),a(r)}};let JT=!1;class B0t extends g.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:a}=t;lvt(z0t),a&&(n.group&&n.group.add(a),i&&i.register&&r&&i.register(a),JT&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),EA.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:r,isPresent:a}=this.props,{projection:o}=i;return o&&(o.isPresent=a,JT=!0,r||t.layoutDependency!==n||n===void 0||t.isPresent!==a?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||Ji.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),_9.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=t;JT=!0,r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function $ve(e){const[t,n]=tvt(),i=g.useContext(hge);return s.jsx(B0t,{...e,layoutGroup:i,switchLayoutGroup:g.useContext(vve),isPresent:t,safeToRemove:n})}const z0t={borderRadius:{...Nb,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Nb,borderTopRightRadius:Nb,borderBottomLeftRadius:Nb,borderBottomRightRadius:Nb,boxShadow:F0t};function U0t(e,t,n){const i=eo(e)?e:Nu(e);return i.start(P9("",i,t,n)),i.animation}const V0t=(e,t)=>e.depth-t.depth;class K0t{constructor(){this.children=[],this.isDirty=!1}add(t){r9(this.children,t),this.isDirty=!0}remove(t){a9(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(V0t),this.isDirty=!1,this.children.forEach(t)}}function G0t(e,t){const n=al.now(),i=({timestamp:r})=>{const a=r-n;a>=t&&(Vu(i),e(a-t))};return Ji.setup(i,!0),()=>Vu(i)}const Fve=["TopLeft","TopRight","BottomLeft","BottomRight"],H0t=Fve.length,SZ=e=>typeof e=="string"?parseFloat(e):e,bZ=e=>typeof e=="number"||In.test(e);function q0t(e,t,n,i,r,a){r?(e.opacity=Zr(0,n.opacity??1,W0t(i)),e.opacityExit=Zr(t.opacity??1,0,Y0t(i))):a&&(e.opacity=Zr(t.opacity??1,n.opacity??1,i));for(let o=0;o<H0t;o++){const l=`border${Fve[o]}Radius`;let c=xZ(t,l),u=xZ(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||bZ(c)===bZ(u)?(e[l]=Math.max(Zr(SZ(c),SZ(u),i),0),(Pd.test(u)||Pd.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=Zr(t.rotate||0,n.rotate||0,i))}function xZ(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const W0t=Bve(0,.5,Ege),Y0t=Bve(.5,.95,sl);function Bve(e,t,n){return i=>i<e?0:i>t?1:n(F1(e,t,i))}function wZ(e,t){e.min=t.min,e.max=t.max}function wc(e,t){wZ(e.x,t.x),wZ(e.y,t.y)}function EZ(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function _Z(e,t,n,i,r){return e-=t,e=jN(e,1/n,i),r!==void 0&&(e=jN(e,1/r,i)),e}function J0t(e,t=0,n=1,i=.5,r,a=e,o=e){if(Pd.test(t)&&(t=parseFloat(t),t=Zr(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Zr(a.min,a.max,i);e===a&&(l-=t),e.min=_Z(e.min,t,n,l,r),e.max=_Z(e.max,t,n,l,r)}function AZ(e,t,[n,i,r],a,o){J0t(e,t[n],t[i],t[r],t.scale,a,o)}const Q0t=["x","scaleX","originX"],X0t=["y","scaleY","originY"];function RZ(e,t,n,i){AZ(e.x,t,Q0t,n?n.x:void 0,i?i.x:void 0),AZ(e.y,t,X0t,n?n.y:void 0,i?i.y:void 0)}function NZ(e){return e.translate===0&&e.scale===1}function zve(e){return NZ(e.x)&&NZ(e.y)}function OZ(e,t){return e.min===t.min&&e.max===t.max}function Z0t(e,t){return OZ(e.x,t.x)&&OZ(e.y,t.y)}function jZ(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Uve(e,t){return jZ(e.x,t.x)&&jZ(e.y,t.y)}function DZ(e){return _o(e.x)/_o(e.y)}function CZ(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class e1t{constructor(){this.members=[]}add(t){r9(this.members,t),t.scheduleRender()}remove(t){if(a9(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(r=>t===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const a=this.members[r];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function t1t(e,t,n){let i="";const r=e.x.translate/t.x,a=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((r||a||o)&&(i=`translate3d(${r}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:m,skewX:p,skewY:v}=n;u&&(i=`perspective(${u}px) ${i}`),d&&(i+=`rotate(${d}deg) `),h&&(i+=`rotateX(${h}deg) `),m&&(i+=`rotateY(${m}deg) `),p&&(i+=`skewX(${p}deg) `),v&&(i+=`skewY(${v}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(i+=`scale(${l}, ${c})`),i||"none"}const QT=["","X","Y","Z"],n1t=1e3;let i1t=0;function XT(e,t,n,i){const{latestValues:r}=t;r[e]&&(n[e]=r[e],t.setStaticValue(e,0),i&&(i[e]=0))}function Vve(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Ove(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Ji,!(r||a))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&Vve(i)}function Kve({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},l=t==null?void 0:t()){this.id=i1t++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(s1t),this.nodes.forEach(u1t),this.nodes.forEach(d1t),this.nodes.forEach(o1t)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new K0t)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new o9),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=R9(o)&&!Qgt(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,h=0;const m=()=>this.root.updateBlockedByResize=!1;Ji.read(()=>{h=window.innerWidth}),e(o,()=>{const p=window.innerWidth;p!==h&&(h=p,this.root.updateBlockedByResize=!0,d&&d(),d=G0t(m,250),EA.hasAnimatedSinceResize&&(EA.hasAnimatedSinceResize=!1,this.nodes.forEach(MZ)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:m,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||y1t,{onLayoutAnimationStart:S,onLayoutAnimationComplete:b}=u.getProps(),w=!this.targetLayout||!Uve(this.targetLayout,p),R=!h&&m;if(this.options.layoutRoot||this.resumeFrom||R||h&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...w9(v,"layout"),onPlay:S,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(d,R)}else h||MZ(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Vu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(f1t),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Vve(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(LZ);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(TZ);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(c1t),this.nodes.forEach(r1t),this.nodes.forEach(a1t)):this.nodes.forEach(TZ),this.clearAllSnapshots();const l=al.now();vs.delta=Yd(0,1e3/60,l-vs.timestamp),vs.timestamp=l,vs.isProcessing=!0,BT.update.process(vs),BT.preRender.process(vs),BT.render.process(vs),vs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,_9.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(l1t),this.sharedNodes.forEach(h1t)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ji.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ji.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!_o(this.snapshot.measuredBox.x)&&!_o(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Sa(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!zve(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||Ly(this.latestValues)||d)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),g1t(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return Sa();const l=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(v1t))){const{scroll:d}=this.root;d&&(O0(l.x,d.offset.x),O0(l.y,d.offset.y))}return l}removeElementScroll(o){var c;const l=Sa();if(wc(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:m}=d;d!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&wc(l,o),O0(l.x,h.offset.x),O0(l.y,h.offset.y))}return l}applyTransform(o,l=!1){const c=Sa();wc(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&j0(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ly(d.latestValues)&&j0(c,d.latestValues)}return Ly(this.latestValues)&&j0(c,this.latestValues),c}removeTransform(o){const l=Sa();wc(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Ly(u.latestValues))continue;DI(u.latestValues)&&u.updateSnapshot();const d=Sa(),h=u.measurePageBox();wc(d,h),RZ(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Ly(this.latestValues)&&RZ(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==vs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=vs.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Sa(),this.relativeTargetOrigin=Sa(),yx(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),wc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Sa(),this.targetWithTransforms=Sa()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_0t(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):wc(this.target,this.layout.layoutBox),wve(this.target,this.targetDelta)):wc(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Sa(),this.relativeTargetOrigin=Sa(),yx(this.relativeTargetOrigin,this.target,p.target),wc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||DI(this.parent.latestValues)||xve(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===vs.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;wc(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;Pvt(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Sa());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(EZ(this.prevProjectionDelta.x,this.projectionDelta.x),EZ(this.prevProjectionDelta.y,this.projectionDelta.y)),mx(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!CZ(this.projectionDelta.x,this.prevProjectionDelta.x)||!CZ(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=D0(),this.projectionDelta=D0(),this.projectionDeltaWithTransform=D0()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=D0();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=Sa(),p=c?c.source:void 0,v=this.layout?this.layout.source:void 0,S=p!==v,b=this.getStack(),w=!b||b.members.length<=1,R=!!(S&&!w&&this.options.crossfade===!0&&!this.path.some(m1t));this.animationProgress=0;let E;this.mixTargetDelta=_=>{const N=_/1e3;IZ(h.x,o.x,N),IZ(h.y,o.y,N),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(yx(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p1t(this.relativeTarget,this.relativeTargetOrigin,m,N),E&&Z0t(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Sa()),wc(E,this.relativeTarget)),S&&(this.animationValues=d,q0t(d,u,this.latestValues,N,R,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Vu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ji.update(()=>{EA.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Nu(0)),this.currentAnimation=U0t(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(n1t),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&Gve(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Sa();const h=_o(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const m=_o(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}wc(l,c),j0(l,d),mx(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new e1t),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&XT("z",o,u,this.animationValues);for(let d=0;d<QT.length;d++)XT(`rotate${QT[d]}`,o,u,this.animationValues),XT(`skew${QT[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=wA(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=wA(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Ly(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=t1t(this.projectionDeltaWithTransform,this.treeScale,d);c&&(h=c(d,h)),o.transform=h;const{x:m,y:p}=this.projectionDelta;o.transformOrigin=`${m.origin*100}% ${p.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const v in h2){if(d[v]===void 0)continue;const{correct:S,applyTo:b,isCSSVariable:w}=h2[v],R=h==="none"?d[v]:S(d[v],u);if(b){const E=b.length;for(let _=0;_<E;_++)o[b[_]]=R}else w?this.options.visualElement.renderState.vars[v]=R:o[v]=R}this.options.layoutId&&(o.pointerEvents=u===this?wA(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(LZ),this.root.sharedNodes.clear()}}}function r1t(e){e.updateLayout()}function a1t(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=e.layout,{animationType:a}=e.options,o=t.source!==e.layout.source;a==="size"?Ac(h=>{const m=o?t.measuredBox[h]:t.layoutBox[h],p=_o(m);m.min=i[h].min,m.max=m.min+p}):Gve(a,t.layoutBox,i)&&Ac(h=>{const m=o?t.measuredBox[h]:t.layoutBox[h],p=_o(i[h]);m.max=m.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+p)});const l=D0();mx(l,i,t.layoutBox);const c=D0();o?mx(c,e.applyTransform(r,!0),t.measuredBox):mx(c,i,t.layoutBox);const u=!zve(l);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:p}=h;if(m&&p){const v=Sa();yx(v,t.layoutBox,m.layoutBox);const S=Sa();yx(S,i,p.layoutBox),Uve(v,S)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=S,e.relativeTargetOrigin=v,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:i}=e.options;i&&i()}e.options.transition=void 0}function s1t(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function o1t(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function l1t(e){e.clearSnapshot()}function LZ(e){e.clearMeasurements()}function TZ(e){e.isLayoutDirty=!1}function c1t(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function MZ(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function u1t(e){e.resolveTargetDelta()}function d1t(e){e.calcProjection()}function f1t(e){e.resetSkewAndRotation()}function h1t(e){e.removeLeadSnapshot()}function IZ(e,t,n){e.translate=Zr(t.translate,0,n),e.scale=Zr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function PZ(e,t,n,i){e.min=Zr(t.min,n.min,i),e.max=Zr(t.max,n.max,i)}function p1t(e,t,n,i){PZ(e.x,t.x,n.x,i),PZ(e.y,t.y,n.y,i)}function m1t(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const y1t={duration:.45,ease:[.4,0,.1,1]},kZ=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),$Z=kZ("applewebkit/")&&!kZ("chrome/")?Math.round:sl;function FZ(e){e.min=$Z(e.min),e.max=$Z(e.max)}function g1t(e){FZ(e.x),FZ(e.y)}function Gve(e,t,n){return e==="position"||e==="preserve-aspect"&&!E0t(DZ(t),DZ(n),.2)}function v1t(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const S1t=Kve({attachResizeListener:(e,t)=>p2(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ZT={current:void 0},Hve=Kve({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ZT.current){const e=new S1t({});e.mount(window),e.setOptions({layoutScroll:!0}),ZT.current=e}return ZT.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),b1t={pan:{Feature:$0t},drag:{Feature:k0t,ProjectionNode:Hve,MeasureLayout:$ve}};function BZ(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,a=i[r];a&&Ji.postRender(()=>a(t,_w(t)))}class x1t extends km{mount(){const{current:t}=this.node;t&&(this.unmount=kgt(t,(n,i)=>(BZ(this.node,i,"Start"),r=>BZ(this.node,r,"End"))))}unmount(){}}class w1t extends km{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=xw(p2(this.node.current,"focus",()=>this.onFocus()),p2(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function zZ(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),a=i[r];a&&Ji.postRender(()=>a(t,_w(t)))}class E1t extends km{mount(){const{current:t}=this.node;t&&(this.unmount=zgt(t,(n,i)=>(zZ(this.node,i,"Start"),(r,{success:a})=>zZ(this.node,r,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const kI=new WeakMap,e4=new WeakMap,_1t=e=>{const t=kI.get(e.target);t&&t(e)},A1t=e=>{e.forEach(_1t)};function R1t({root:e,...t}){const n=e||document;e4.has(n)||e4.set(n,{});const i=e4.get(n),r=JSON.stringify(t);return i[r]||(i[r]=new IntersectionObserver(A1t,{root:e,...t})),i[r]}function N1t(e,t,n){const i=R1t(t);return kI.set(e,n),i.observe(e),()=>{kI.delete(e),i.unobserve(e)}}const O1t={some:0,all:1};class j1t extends km{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:a}=t,o={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:O1t[r]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),m=u?d:h;m&&m(c)};return N1t(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(D1t(t,n))&&this.startObserver()}unmount(){}}function D1t({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const C1t={inView:{Feature:j1t},tap:{Feature:E1t},focus:{Feature:w1t},hover:{Feature:x1t}},L1t={layout:{ProjectionNode:Hve,MeasureLayout:$ve}},T1t={...g0t,...C1t,...b1t,...L1t},pi=Tvt(T1t,Hvt),M1t=50,UZ=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),I1t=()=>({time:0,x:UZ(),y:UZ()}),P1t={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function VZ(e,t,n,i){const r=n[t],{length:a,position:o}=P1t[t],l=r.current,c=n.time;r.current=e[`scroll${o}`],r.scrollLength=e[`scroll${a}`]-e[`client${a}`],r.offset.length=0,r.offset[0]=0,r.offset[1]=r.scrollLength,r.progress=F1(0,r.scrollLength,r.current);const u=i-c;r.velocity=u>M1t?0:l9(r.current-l,u)}function k1t(e,t,n){VZ(e,"x",t,n),VZ(e,"y",t,n),t.time=n}function $1t(e,t){const n={x:0,y:0};let i=e;for(;i&&i!==t;)if(tve(i))n.x+=i.offsetLeft,n.y+=i.offsetTop,i=i.offsetParent;else if(i.tagName==="svg"){const r=i.getBoundingClientRect();i=i.parentElement;const a=i.getBoundingClientRect();n.x+=r.left-a.left,n.y+=r.top-a.top}else if(i instanceof SVGGraphicsElement){const{x:r,y:a}=i.getBBox();n.x+=r,n.y+=a;let o=null,l=i.parentNode;for(;!o;)l.tagName==="svg"&&(o=l),l=i.parentNode;i=o}else break;return n}const $I={start:0,center:.5,end:1};function KZ(e,t,n=0){let i=0;if(e in $I&&(e=$I[e]),typeof e=="string"){const r=parseFloat(e);e.endsWith("px")?i=r:e.endsWith("%")?e=r/100:e.endsWith("vw")?i=r/100*document.documentElement.clientWidth:e.endsWith("vh")?i=r/100*document.documentElement.clientHeight:e=r}return typeof e=="number"&&(i=t*e),n+i}const F1t=[0,0];function B1t(e,t,n,i){let r=Array.isArray(e)?e:F1t,a=0,o=0;return typeof e=="number"?r=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?r=e.split(" "):r=[e,$I[e]?e:"0"]),a=KZ(r[0],n,i),o=KZ(r[1],t),a-o}const z1t={All:[[0,0],[1,1]]},U1t={x:0,y:0};function V1t(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function K1t(e,t,n){const{offset:i=z1t.All}=n,{target:r=e,axis:a="y"}=n,o=a==="y"?"height":"width",l=r!==e?$1t(r,e):U1t,c=r===e?{width:e.scrollWidth,height:e.scrollHeight}:V1t(r),u={width:e.clientWidth,height:e.clientHeight};t[a].offset.length=0;let d=!t[a].interpolate;const h=i.length;for(let m=0;m<h;m++){const p=B1t(i[m],u[o],c[o],l[a]);!d&&p!==t[a].interpolatorOffsets[m]&&(d=!0),t[a].offset[m]=p}d&&(t[a].interpolate=g9(t[a].offset,$ge(i),{clamp:!1}),t[a].interpolatorOffsets=[...t[a].offset]),t[a].progress=Yd(0,1,t[a].interpolate(t[a].current))}function G1t(e,t=e,n){if(n.x.targetOffset=0,n.y.targetOffset=0,t!==e){let i=t;for(;i&&i!==e;)n.x.targetOffset+=i.offsetLeft,n.y.targetOffset+=i.offsetTop,i=i.offsetParent}n.x.targetLength=t===e?t.scrollWidth:t.clientWidth,n.y.targetLength=t===e?t.scrollHeight:t.clientHeight,n.x.containerLength=e.clientWidth,n.y.containerLength=e.clientHeight}function H1t(e,t,n,i={}){return{measure:r=>{G1t(e,i.target,n),k1t(e,n,r),(i.offset||i.target)&&K1t(e,n,i)},notify:()=>t(n)}}const Ob=new WeakMap,GZ=new WeakMap,t4=new WeakMap,HZ=e=>e===document.scrollingElement?window:e;function qve(e,{container:t=document.scrollingElement,...n}={}){if(!t)return sl;let i=t4.get(t);i||(i=new Set,t4.set(t,i));const r=I1t(),a=H1t(t,e,r,n);if(i.add(a),!Ob.has(t)){const l=()=>{for(const h of i)h.measure(vs.timestamp);Ji.preUpdate(c)},c=()=>{for(const h of i)h.notify()},u=()=>Ji.read(l);Ob.set(t,u);const d=HZ(t);window.addEventListener("resize",u,{passive:!0}),t!==document.documentElement&&GZ.set(t,Jgt(t,u)),d.addEventListener("scroll",u,{passive:!0}),u()}const o=Ob.get(t);return Ji.read(o,!1,!0),()=>{var u;Vu(o);const l=t4.get(t);if(!l||(l.delete(a),l.size))return;const c=Ob.get(t);Ob.delete(t),c&&(HZ(t).removeEventListener("scroll",c),(u=GZ.get(t))==null||u(),window.removeEventListener("resize",c))}}const qZ=new Map;function q1t(e){const t={value:0},n=qve(i=>{t.value=i[e.axis].progress*100},e);return{currentTime:t,cancel:n}}function Wve({source:e,container:t,...n}){const{axis:i}=n;e&&(t=e);const r=qZ.get(t)??new Map;qZ.set(t,r);const a=n.target??"self",o=r.get(a)??{},l=i+(n.offset??[]).join(",");return o[l]||(o[l]=!n.target&&Uge()?new ScrollTimeline({source:t,axis:i}):q1t({container:t,...n})),o[l]}function W1t(e,t){const n=Wve(t);return e.attachTimeline({timeline:t.target?void 0:n,observe:i=>(i.pause(),sve(r=>{i.time=i.iterationDuration*r},n))})}function Y1t(e){return e.length===2}function J1t(e,t){return Y1t(e)?qve(n=>{e(n[t.axis].progress,n)},t):sve(e,Wve(t))}function Q1t(e,{axis:t="y",container:n=document.scrollingElement,...i}={}){if(!n)return sl;const r={axis:t,container:n,...i};return typeof e=="function"?J1t(e,r):W1t(e,r)}const X1t=()=>({scrollX:Nu(0),scrollY:Nu(0),scrollXProgress:Nu(0),scrollYProgress:Nu(0)}),I_=e=>e?!e.current:!1;function Z1t({container:e,target:t,...n}={}){const i=Gj(X1t),r=g.useRef(null),a=g.useRef(!1),o=g.useCallback(()=>(r.current=Q1t((l,{x:c,y:u})=>{i.scrollX.set(c.current),i.scrollXProgress.set(c.progress),i.scrollY.set(u.current),i.scrollYProgress.set(u.progress)},{...n,container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0}),()=>{var l;(l=r.current)==null||l.call(r)}),[e,t,JSON.stringify(n.offset)]);return n9(()=>{if(a.current=!1,I_(e)||I_(t)){a.current=!0;return}else return o()},[o]),g.useEffect(()=>{if(a.current)return c2(!I_(e)),c2(!I_(t)),o()},[o]),i}function eSt(e){const t=Gj(()=>Nu(e)),{isStatic:n}=g.useContext(N9);if(n){const[,i]=g.useState(e);g.useEffect(()=>t.on("change",i),[])}return t}function Yve(e,t){const n=eSt(t()),i=()=>n.set(t());return i(),n9(()=>{const r=()=>Ji.preRender(i,!1,!0),a=e.map(o=>o.on("change",r));return()=>{a.forEach(o=>o()),Vu(i)}}),n}function tSt(e){hx.current=[],e();const t=Yve(hx.current,e);return hx.current=void 0,t}function WZ(e,t,n,i){if(typeof e=="function")return tSt(e);const r=typeof t=="function"?t:Xgt(t,n,i);return Array.isArray(e)?YZ(e,r):YZ([e],([a])=>r(a))}function YZ(e,t){const n=Gj(()=>[]);return Yve(e,()=>{n.length=0;const i=e.length;for(let r=0;r<i;r++)n[r]=e[r].get();return t(n)})}function m2(e){const t=()=>typeof window<"u"?window.matchMedia(e).matches:!1,[n,i]=g.useState(t);return g.useEffect(()=>{const r=window.matchMedia(e),a=()=>i(r.matches);return a(),r.addEventListener("change",a),()=>r.removeEventListener("change",a)},[e]),n}function nSt(){const e=_a(),t=g.useRef(null),{scrollY:n}=Z1t();Y7();const i=m2("(min-width: 768px)"),r=m2("(min-width: 640px)"),a=WZ(n,[0,100],[.95,1]),o=WZ(n,[0,100],["var(--color-panel-translucent)","var(--color-panel-solid)"]);return s.jsxs(X,{ref:t,style:{minHeight:"100vh",width:"100%",position:"relative",overflow:"hidden",background:"var(--color-background)",maxWidth:"100vw"},children:[s.jsx(iSt,{}),s.jsx(pi.div,{style:{position:"fixed",top:0,left:0,right:0,zIndex:100,padding:i?"1rem 2rem":"0.75rem 1rem",background:o,backdropFilter:"blur(10px)",borderBottom:"1px solid var(--gray-3)",opacity:a},initial:{y:-100},animate:{y:0},transition:{duration:.5,ease:"easeOut"},children:s.jsx(wy,{size:"4",children:s.jsxs($,{align:"center",justify:"between",children:[s.jsx(pi.div,{whileHover:{scale:1.05},whileTap:{scale:.95},transition:{type:"spring",stiffness:400,damping:17},children:s.jsx($,{align:"center",gap:"3",style:{cursor:"pointer"},children:s.jsx(X,{style:{display:"flex",alignItems:"center",justifyContent:"center",color:"var(--gray-12)"},children:s.jsx(mV,{width:i?40:32,height:i?40:32})})})}),s.jsx(pi.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:s.jsx(pe,{size:i?"3":"2",variant:"classic",onClick:()=>e({to:"/login"}),children:"Sign In"})})]})})}),s.jsx(X,{style:{position:"relative",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",paddingTop:i?"80px":"60px",paddingBottom:"2rem",paddingLeft:i?0:"1rem",paddingRight:i?0:"1rem",width:"100%",overflow:"hidden"},children:s.jsx(wy,{size:"4",style:{width:"100%",maxWidth:"100%"},children:s.jsxs($,{direction:"column",align:"center",justify:"center",gap:{initial:"4",md:"6"},style:{textAlign:"center",width:"100%"},children:[s.jsx(pi.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},style:{width:"100%",padding:i?0:"0 0.5rem"},children:s.jsxs(He,{size:{initial:"7",sm:"8",md:"9"},style:{fontWeight:800,lineHeight:1.2,marginBottom:"1rem",wordBreak:"break-word",overflowWrap:"break-word"},children:[s.jsx(pi.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2,ease:"easeOut"},children:s.jsx(L,{style:{background:"linear-gradient(135deg, var(--accent-11) 0%, var(--accent-9) 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",backgroundSize:"200% auto",display:"block",wordBreak:"break-word",overflowWrap:"break-word"},children:"Complete Operations Management"})}),s.jsx("br",{}),s.jsx(pi.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4,ease:"easeOut"},children:s.jsx(L,{style:{color:"var(--gray-12)",wordBreak:"break-word",overflowWrap:"break-word"},children:"for Modern Companies"})})]})}),s.jsx(pi.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6,ease:"easeOut"},style:{width:"100%",maxWidth:"700px",padding:i?0:"0 0.5rem"},children:s.jsx(L,{size:{initial:"3",sm:"4",md:"5"},style:{color:"var(--gray-11)",maxWidth:"700px",lineHeight:1.6,wordBreak:"break-word",overflowWrap:"break-word"},children:"Streamline your entire operation with a unified platform for inventory, crew management, job scheduling, and customer relationsall in one place."})}),s.jsx(pi.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.8,ease:"easeOut"},style:{width:"100%"},children:s.jsxs($,{gap:"3",align:"center",justify:"center",direction:{initial:"column",sm:"row"},style:{width:"100%",maxWidth:"500px",padding:i?0:"0 0.5rem",marginLeft:"auto",marginRight:"auto"},children:[s.jsx(pi.div,{whileHover:{scale:1.05},whileTap:{scale:.95},transition:{type:"spring",stiffness:400,damping:17},style:{width:r?"auto":"100%"},children:s.jsxs(pe,{size:i?"4":"3",variant:"classic",onClick:()=>e({to:"/signup"}),style:{padding:"0.75rem 2rem",width:r?"auto":"100%"},children:["Get Started",s.jsx(pi.span,{animate:{x:[0,4,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},style:{display:"inline-flex",marginLeft:"0.5rem"},children:s.jsx(jg,{})})]})}),s.jsx(pi.div,{whileHover:{scale:1.05},whileTap:{scale:.95},transition:{type:"spring",stiffness:400,damping:17},style:{width:r?"auto":"100%"},children:s.jsx(pe,{size:i?"4":"3",variant:"outline",onClick:()=>e({to:"/login"}),style:{padding:"0.75rem 2rem",width:r?"auto":"100%"},children:"Sign In"})})]})})]})})}),s.jsx(X,{style:{position:"relative",padding:i?"6rem 0":"3rem 1rem"},children:s.jsxs(wy,{size:"4",children:[s.jsxs(pi.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.4},children:[s.jsx(He,{size:i?"8":r?"7":"6",style:{textAlign:"center",marginBottom:"1rem",color:"var(--gray-12)"},children:"Everything You Need"}),s.jsx(L,{size:r?"4":"3",style:{textAlign:"center",color:"var(--gray-11)",marginBottom:i?"4rem":"2rem"},children:"Powerful tools designed to simplify your workflow"})]}),s.jsx(X,{style:{display:"grid",gridTemplateColumns:r?"repeat(auto-fit, minmax(280px, 1fr))":"1fr",gap:r?"2rem":"1.5rem"},children:aSt.map((l,c)=>s.jsx(rSt,{feature:l,index:c},l.title))})]})}),s.jsx(X,{style:{position:"relative",padding:i?"6rem 0":"3rem 1rem",background:"var(--gray-2)"},children:s.jsx(wy,{size:"4",children:s.jsx($,{direction:{initial:"column",md:"row"},gap:"6",align:"center",children:s.jsx(X,{style:{flex:1,width:"100%"},children:s.jsxs(pi.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.4},children:[s.jsx(He,{size:i?"8":r?"7":"6",style:{marginBottom:"1rem",color:"var(--gray-12)"},children:"Why Grid?"}),s.jsx(L,{size:r?"4":"3",style:{color:"var(--gray-11)",lineHeight:1.8,marginBottom:"2rem"},children:"Running a company means juggling multiple systems and spreadsheets, leading to missed deadlines, double-bookings, and frustrated teams. Grid brings everything together in one intuitive platform."}),s.jsx(X,{style:{display:"grid",gridTemplateColumns:r?"repeat(auto-fit, minmax(200px, 1fr))":"1fr",gap:r?"1.5rem":"1rem"},children:sSt.map((l,c)=>s.jsx(pi.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.4,delay:c*.1,ease:"easeOut"},children:s.jsx(pi.div,{whileHover:{y:-4,scale:1.02},transition:{type:"spring",stiffness:300,damping:20},children:s.jsxs(X,{style:{padding:"1.5rem",background:"var(--color-panel-translucent)",backdropFilter:"blur(8px)",borderRadius:"12px",border:"1px solid var(--gray-4)",position:"relative",overflow:"hidden"},children:[s.jsx(pi.div,{style:{position:"absolute",inset:0,background:"linear-gradient(135deg, var(--accent-a2) 0%, transparent 50%)",opacity:0,borderRadius:"12px"},whileHover:{opacity:.1},transition:{duration:.3}}),s.jsxs(X,{style:{position:"relative",zIndex:1},children:[s.jsx(pi.div,{style:{marginBottom:"0.75rem",color:"var(--accent-11)",display:"inline-block"},whileHover:{scale:1.15,rotate:[0,-10,10,-10,0]},transition:{scale:{duration:.2},rotate:{duration:.6}},children:l.icon}),s.jsxs($,{direction:"column",gap:"1",children:[s.jsx(L,{size:"3",weight:"bold",style:{marginBottom:"0.5rem",color:"var(--gray-12)"},children:l.title}),s.jsx(L,{size:"2",style:{color:"var(--gray-11)"},children:l.description})]})]})]})})},l.title))})]})})})})}),s.jsx(X,{style:{position:"relative",padding:i?"6rem 0":"3rem 1rem"},children:s.jsx(wy,{size:"4",children:s.jsx(pi.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.4},children:s.jsxs(pi.div,{style:{padding:i?"4rem":"2rem 1.5rem",background:"linear-gradient(135deg, var(--accent-9) 0%, var(--accent-11) 100%)",borderRadius:"24px",textAlign:"center",position:"relative",overflow:"hidden"},whileHover:{scale:1.01},transition:{type:"spring",stiffness:300,damping:20},children:[s.jsx(pi.div,{style:{position:"absolute",inset:0,background:"linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.1) 50%, transparent 70%)",backgroundSize:"200% 200%"},animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:5,repeat:1/0,ease:"linear"}}),s.jsxs(X,{style:{position:"relative",zIndex:1},children:[s.jsx(He,{size:i?"8":r?"7":"6",style:{color:"white",marginBottom:"1rem"},children:"Ready to Transform Your Operations?"}),s.jsxs($,{direction:"column",gap:"1",align:"center",children:[s.jsx(L,{size:i?"5":r?"4":"3",style:{color:"rgba(255,255,255,0.9)",marginBottom:i?"2rem":"1rem",maxWidth:"600px",marginLeft:"auto",marginRight:"auto"},children:"Join companies already using Grid to streamline their operations and boost productivity."}),s.jsx(pi.div,{whileHover:{scale:1.05},whileTap:{scale:.98},transition:{type:"spring",stiffness:400,damping:17},children:s.jsx(pi.div,{animate:{boxShadow:["0 4px 20px var(--accent-a7)","0 8px 30px var(--accent-a8)","0 4px 20px var(--accent-a7)"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},style:{borderRadius:"var(--radius-3)",display:"inline-block",width:"100%",maxWidth:"300px"},children:s.jsx(pe,{size:i?"4":"3",variant:"classic",onClick:()=>e({to:"/signup"}),style:{background:"var(--accent-9)",color:"var(--accent-contrast)",padding:"0.75rem 2rem",width:r?"300px":"100%",position:"relative",overflow:"hidden"},onMouseEnter:l=>{const c=l.currentTarget,u=document.createElement("div");u.style.cssText=`
                          position: absolute;
                          top: 0;
                          left: -100%;
                          width: 100%;
                          height: 100%;
                          background: linear-gradient(
                            90deg,
                            transparent,
                            rgba(255, 255, 255, 0.3),
                            transparent
                          );
                          transition: left 0.5s ease;
                        `,c.appendChild(u),requestAnimationFrame(()=>{u.style.left="100%"}),setTimeout(()=>u.remove(),500)},children:s.jsxs($,{align:"center",gap:"2",justify:"center",children:["Get Started Free",s.jsx(pi.div,{animate:{x:[0,4,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:s.jsx(jg,{})})]})})})})]})]})]})})})}),s.jsx(X,{style:{padding:i?"3rem 0":"2rem 1rem",borderTop:"1px solid var(--gray-4)",background:"var(--gray-2)"},children:s.jsx(wy,{size:"4",children:s.jsxs($,{direction:{initial:"column",md:"row"},align:"center",justify:"between",gap:"4",children:[s.jsxs($,{align:"center",gap:"2",direction:{initial:"column",sm:"row"},children:[s.jsx(X,{style:{display:"flex",alignItems:"center",justifyContent:"center",color:"var(--gray-12)"},children:s.jsx(mV,{width:i?32:28,height:i?32:28})}),s.jsx(L,{size:r?"3":"2",style:{color:"var(--gray-11)",textAlign:"center"},children:" 2025 Grid. All rights reserved."})]}),s.jsx($,{gap:"4",children:s.jsx(pe,{variant:"ghost",size:r?"3":"2",onClick:()=>e({to:"/legal"}),style:{cursor:"pointer",transition:"transform 0.2s ease"},onMouseEnter:l=>{l.currentTarget.style.transform="scale(1.05)"},onMouseLeave:l=>{l.currentTarget.style.transform="scale(1)"},onMouseDown:l=>{l.currentTarget.style.transform="scale(0.95)"},onMouseUp:l=>{l.currentTarget.style.transform="scale(1.05)"},children:"Terms & Privacy"})})]})})})]})}function iSt(){return s.jsx(X,{style:{position:"absolute",inset:0,zIndex:0,overflow:"hidden",opacity:.4,willChange:"transform"},children:s.jsxs(pi.svg,{width:"100%",height:"100%",viewBox:"0 0 1200 1600",preserveAspectRatio:"none",style:{display:"block",transform:"translateZ(0)"},animate:{y:[0,-20,0]},transition:{duration:20,repeat:1/0,ease:"easeInOut"},children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"grad1",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[s.jsx("stop",{offset:"0%",style:{stopColor:"var(--accent-a2)",stopOpacity:1}}),s.jsx("stop",{offset:"100%",style:{stopColor:"var(--gray-a2)",stopOpacity:1}})]})}),s.jsx(pi.rect,{x:"250",y:"-100",width:"200",height:"1800",fill:"var(--gray-a1)",transform:"rotate(12 600 800)",animate:{y:[0,30,0]},transition:{duration:15,repeat:1/0,ease:"easeInOut"}}),s.jsx(pi.rect,{x:"-100",y:"300",width:"600",height:"100",fill:"var(--gray-a1)",transform:"rotate(-10 600 800)",animate:{x:[0,20,0]},transition:{duration:18,repeat:1/0,ease:"easeInOut"}}),s.jsx(pi.polygon,{points:"50,50 1100,50 1050,800 200,850",fill:"url(#grad1)",opacity:"0.3",animate:{scale:[1,1.02,1]},transition:{duration:25,repeat:1/0,ease:"easeInOut"}}),s.jsx(pi.polygon,{points:"800,200 1200,150 1000,1200 600,1100",fill:"var(--indigo-a2)",animate:{y:[0,-30,0],opacity:[.6,.8,.6]},transition:{duration:22,repeat:1/0,ease:"easeInOut"}})]})})}function rSt({feature:e,index:t}){const n=m2("(min-width: 768px)");return s.jsx(pi.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.5,delay:t*.08,ease:"easeOut"},children:s.jsx(pi.div,{whileHover:{y:-8,scale:1.02},transition:{type:"spring",stiffness:300,damping:20},style:{height:"100%"},children:s.jsxs(X,{style:{padding:n?"2rem":"1.5rem",background:"var(--color-panel-translucent)",backdropFilter:"blur(8px)",borderRadius:"16px",border:"1px solid var(--gray-4)",height:"100%",cursor:"default",willChange:"transform",position:"relative",overflow:"hidden"},children:[s.jsx(pi.div,{style:{position:"absolute",inset:0,background:"linear-gradient(135deg, var(--accent-a2) 0%, transparent 50%)",opacity:0,borderRadius:"16px"},whileHover:{opacity:.1},transition:{duration:.3}}),s.jsxs(X,{style:{position:"relative",zIndex:1},children:[s.jsx(pi.div,{style:{marginBottom:"1rem",width:"48px",height:"48px",borderRadius:"12px",background:"var(--accent-3)",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--accent-11)"},whileHover:{scale:1.1,rotate:[0,-5,5,-5,0]},transition:{scale:{duration:.2},rotate:{duration:.5}},children:e.icon}),s.jsx(He,{size:"5",style:{marginBottom:"0.5rem",color:"var(--gray-12)"},children:e.title}),s.jsx(L,{size:"3",style:{color:"var(--gray-11)",lineHeight:1.6},children:e.description})]})]})})})}const aSt=[{icon:s.jsx(noe,{width:24,height:24}),title:"Crew Management",description:"Track your team, manage schedules, and ensure the right people are on the right jobs at the right time."},{icon:s.jsx(og,{width:24,height:24}),title:"Job Management",description:"Create, assign, and track jobs from start to finish with all the details you need in one place."},{icon:s.jsx(Fu,{width:24,height:24}),title:"Smart Calendar",description:"Visualize your operations with an intuitive calendar view that helps prevent conflicts and optimize resources."},{icon:s.jsx(Zse,{width:24,height:24}),title:"Inventory Tracking",description:"Keep tabs on your inventory levels, set low-stock alerts, and ensure you have what you need when you need it."},{icon:s.jsx(V2,{width:24,height:24}),title:"Vehicle Fleet",description:"Manage your company vehicles and track assignments to keep operations running smoothly."},{icon:s.jsx(ooe,{width:24,height:24}),title:"Customer Relations",description:"Maintain detailed customer profiles and manage relationships all in one organized system."},{icon:s.jsx(AO,{width:24,height:24}),title:"Team Collaboration",description:"Communicate through matters, share updates, and keep everyone in the loop with real-time notifications."},{icon:s.jsx(eoe,{width:24,height:24}),title:"Company Dashboard",description:"Get a comprehensive overview of your entire operation with key metrics and insights at a glance."},{icon:s.jsx(o3e,{width:24,height:24}),title:"Alerts & Notifications",description:"Stay informed about important updates, low stock, scheduling conflicts, and more with smart alerts."}],sSt=[{icon:s.jsx(Ic,{width:24,height:24}),title:"Increased Efficiency",description:"Automate workflows and reduce manual errors"},{icon:s.jsx(I5e,{width:24,height:24}),title:"Better Planning",description:"Make data-driven decisions with real-time insights"},{icon:s.jsx(ITe,{width:24,height:24}),title:"Secure & Reliable",description:"Enterprise-grade security and backup systems"},{icon:s.jsx(um,{width:24,height:24}),title:"Easy to Use",description:"Intuitive interface that your team will love"}];function Yj({intensity:e=1,shapeType:t="circles",speed:n=1}){const i=Math.max(0,Math.min(1,e)),r=Math.max(.1,Math.min(3,n)),o=[120,150,180,100,200].map(h=>h/r),c=[300,420,360,380,400].map(h=>h/r),u=[15,30,45,60,75],d=o.map((h,m)=>Math.round(h/c[m]*360));return s.jsxs(X,{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:0,pointerEvents:"none",overflow:"hidden"},children:[s.jsx("style",{children:`
        @keyframes slideSlow {
          0% {
            transform: translateX(-100%);
          }
          100% {
            transform: translateX(calc(100vw + 100%));
          }
        }
        
        @keyframes slideSlowReverse {
          0% {
            transform: translateX(calc(100vw + 100%));
          }
          100% {
            transform: translateX(-100%);
          }
        }
        
        @keyframes slideSlowWithRotate1 {
          0% {
            transform: translateX(-100%) rotate(${u[0]}deg);
          }
          100% {
            transform: translateX(calc(100vw + 100%)) rotate(${u[0]+d[0]}deg);
          }
        }
        
        @keyframes slideSlowReverseWithRotate2 {
          0% {
            transform: translateX(calc(100vw + 100%)) rotate(${u[1]}deg);
          }
          100% {
            transform: translateX(-100%) rotate(${u[1]-d[1]}deg);
          }
        }
        
        @keyframes slideSlowWithRotate3 {
          0% {
            transform: translateX(-100%) rotate(${u[2]}deg);
          }
          100% {
            transform: translateX(calc(100vw + 100%)) rotate(${u[2]+d[2]}deg);
          }
        }
        
        @keyframes slideSlowReverseWithRotate4 {
          0% {
            transform: translateX(calc(100vw + 100%)) rotate(${u[3]}deg);
          }
          100% {
            transform: translateX(-100%) rotate(${u[3]-d[3]}deg);
          }
        }
        
        @keyframes slideSlowWithRotate5 {
          0% {
            transform: translateX(-100%) rotate(${u[4]}deg);
          }
          100% {
            transform: translateX(calc(100vw + 100%)) rotate(${u[4]+d[4]}deg);
          }
        }
        
        @keyframes rotateSlow {
          0% {
            transform: rotate(0deg);
          }
          100% {
            transform: rotate(360deg);
          }
        }
        
        @keyframes rotateSlowReverse {
          0% {
            transform: rotate(360deg);
          }
          100% {
            transform: rotate(0deg);
          }
        }
        
        .bg-shape {
          position: absolute;
          opacity: ${i};
          mix-blend-mode: normal;
        }
        
        .bg-shape-1 {
          width: 800px;
          height: 800px;
          background: var(--accent-a3);
          top: -200px;
          left: 0;
          animation: ${t==="triangles"||t==="rectangles"?`slideSlowWithRotate1 ${o[0]}s linear infinite`:`slideSlow ${o[0]}s linear infinite`};
          ${t==="circles"?"border-radius: 50%;":""}
          ${t==="triangles"?"clip-path: polygon(50% 0%, 0% 100%, 100% 100%);":""}
          ${t==="rectangles"?"border-radius: 10px;":""}
        }
        
        .bg-shape-2 {
          width: 600px;
          height: 600px;
          background: var(--accent-a2);
          top: 20%;
          left: 0;
          animation: ${t==="triangles"||t==="rectangles"?`slideSlowReverseWithRotate2 ${o[1]}s linear infinite`:`slideSlowReverse ${o[1]}s linear infinite`};
          ${t==="circles"?"border-radius: 50%;":""}
          ${t==="triangles"?"clip-path: polygon(50% 0%, 0% 100%, 100% 100%);":""}
          ${t==="rectangles"?"border-radius: 20px;":""}
        }
        
        .bg-shape-3 {
          width: 1000px;
          height: 1000px;
          background: var(--accent-a3);
          bottom: -300px;
          left: 0;
          animation: ${t==="triangles"||t==="rectangles"?`slideSlowWithRotate3 ${o[2]}s linear infinite`:`slideSlow ${o[2]}s linear infinite`};
          ${t==="circles"?"border-radius: 50%;":""}
          ${t==="triangles"?"clip-path: polygon(50% 0%, 0% 100%, 100% 100%);":""}
          ${t==="rectangles"?"border-radius: 10px;":""}
        }
        
        .bg-shape-4 {
          width: 400px;
          height: 400px;
          background: var(--accent-a2);
          top: 50%;
          left: 0;
          animation: ${t==="triangles"||t==="rectangles"?`slideSlowReverseWithRotate4 ${o[3]}s linear infinite`:`slideSlowReverse ${o[3]}s linear infinite`};
          ${t==="circles"?"border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%;":""}
          ${t==="triangles"?"clip-path: polygon(50% 0%, 0% 100%, 100% 100%);":""}
          ${t==="rectangles"?"border-radius: 40px;":""}
        }
        
        .bg-shape-5 {
          width: 700px;
          height: 700px;
          background: var(--accent-a3);
          top: 10%;
          left: 0;
          animation: ${t==="triangles"||t==="rectangles"?`slideSlowWithRotate5 ${o[4]}s linear infinite`:`slideSlow ${o[4]}s linear infinite`};
          ${t==="circles"?"border-radius: 40% 60% 60% 40% / 60% 30% 70% 40%;":""}
          ${t==="triangles"?"clip-path: polygon(50% 0%, 0% 100%, 100% 100%);":""}
          ${t==="rectangles"?"border-radius: 15px;":""}
        }
        
        /* Increase contrast for light mode */
        .light .bg-shape-1,
        .light .bg-shape-3,
        .light .bg-shape-5 {
          background: var(--accent-a7);
        }
        
        .light .bg-shape-2,
        .light .bg-shape-4 {
          background: var(--accent-a6);
        }
      `}),s.jsx("div",{className:"bg-shape bg-shape-1"}),s.jsx("div",{className:"bg-shape bg-shape-2"}),s.jsx("div",{className:"bg-shape bg-shape-3"}),s.jsx("div",{className:"bg-shape bg-shape-4"}),s.jsx("div",{className:"bg-shape bg-shape-5"})]})}function oSt(){const e=_a(),[t,n]=g.useState(""),[i,r]=g.useState(""),[a,o]=g.useState(!1),[l,c]=g.useState(null);g.useEffect(()=>{const d={overflow:document.body.style.overflow,padding:document.body.style.padding,margin:document.body.style.margin},h={overflow:document.documentElement.style.overflow,padding:document.documentElement.style.padding,margin:document.documentElement.style.margin};return document.body.style.overflow="hidden",document.body.style.padding="0",document.body.style.margin="0",document.documentElement.style.overflow="hidden",document.documentElement.style.padding="0",document.documentElement.style.margin="0",()=>{document.body.style.overflow=d.overflow,document.body.style.padding=d.padding,document.body.style.margin=d.margin,document.documentElement.style.overflow=h.overflow,document.documentElement.style.padding=h.padding,document.documentElement.style.margin=h.margin}},[]);async function u(d){d.preventDefault(),o(!0),c(null);const{error:h}=await re.auth.signInWithPassword({email:t,password:i});if(o(!1),h)return c(h.message);e({to:"/dashboard"})}return s.jsxs(X,{style:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",padding:"24px",zIndex:1,boxSizing:"border-box",overflow:"auto"},children:[s.jsx(Yj,{intensity:.1,shapeType:"circles",speed:.5}),s.jsx(Rt,{size:"4",style:{width:"100%",maxWidth:480,background:"var(--gray-a2)",position:"relative",zIndex:1},children:s.jsxs($,{direction:"column",gap:"4",children:[s.jsxs(X,{style:{position:"relative"},children:[s.jsxs($,{align:"center",justify:"between",mb:"1",children:[s.jsx(X,{children:s.jsx(He,{size:"7",children:"Sign in"})}),s.jsxs(pe,{size:"2",variant:"ghost",onClick:()=>e({to:"/"}),style:{gap:"4px"},children:[s.jsx(_Le,{width:16,height:16}),"Back"]})]}),s.jsx(L,{color:"gray",children:"Welcome back. Please enter your details."})]}),s.jsx(st,{size:"4"}),s.jsx("form",{onSubmit:u,children:s.jsxs($,{direction:"column",gap:"3",children:[s.jsxs(X,{children:[s.jsx(L,{as:"label",size:"2",color:"gray",mb:"1",style:{display:"block"},children:"Email"}),s.jsx(qe,{type:"email",placeholder:"you@company.com",value:t,onChange:d=>n(d.target.value),autoComplete:"email",size:"3",required:!0})]}),s.jsxs(X,{children:[s.jsx($,{justify:"between",align:"center",mb:"1",children:s.jsx(L,{as:"label",size:"2",color:"gray",children:"Password"})}),s.jsx(qe,{type:"password",placeholder:"",value:i,onChange:d=>r(d.target.value),autoComplete:"current-password",size:"3",required:!0})]}),l&&s.jsx(L,{color:"red",children:l}),s.jsx(pe,{type:"submit",size:"3",disabled:a,variant:"classic",children:a?"Signing in":"Sign in"}),s.jsx(pe,{type:"button",variant:"outline",size:"3",onClick:()=>e({to:"/signup"}),disabled:a,children:"Create account"})]})})]})})]})}const lSt=[{id:"length",label:"At least 12 characters",check:e=>e.length>=12},{id:"lowercase",label:"Contains lowercase letter",check:e=>/[a-z]/.test(e)},{id:"uppercase",label:"Contains uppercase letter",check:e=>/[A-Z]/.test(e)},{id:"number",label:"Contains number",check:e=>/[0-9]/.test(e)},{id:"special",label:"Contains special character (!@#$%^&*...)",check:e=>/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/.test(e)}];function cSt(){const e=_a(),[t,n]=g.useState(""),[i,r]=g.useState(""),[a,o]=g.useState(void 0),[l,c]=g.useState(""),[u,d]=g.useState(""),[h,m]=g.useState(""),[p,v]=g.useState(!1),[S,b]=g.useState(null),[w,R]=g.useState(null);g.useEffect(()=>{const O={overflow:document.body.style.overflow,padding:document.body.style.padding,margin:document.body.style.margin},j={overflow:document.documentElement.style.overflow,padding:document.documentElement.style.padding,margin:document.documentElement.style.margin};return document.body.style.overflow="hidden",document.body.style.padding="0",document.body.style.margin="0",document.documentElement.style.overflow="hidden",document.documentElement.style.padding="0",document.documentElement.style.margin="0",()=>{document.body.style.overflow=O.overflow,document.body.style.padding=O.padding,document.body.style.margin=O.margin,document.documentElement.style.overflow=j.overflow,document.documentElement.style.padding=j.padding,document.documentElement.style.margin=j.margin}},[]);const E=g.useMemo(()=>lSt.map(O=>({...O,satisfied:O.check(u)})),[u]),_=g.useMemo(()=>!u||!h?null:u===h,[u,h]);async function N(O){var D;if(O.preventDefault(),b(null),R(null),!a||!Xue(a)){b("Please enter a valid phone number");return}if(u!==h){b("Passwords do not match");return}v(!0);try{const{error:P}=await re.auth.signUp({email:l,password:u,options:{emailRedirectTo:`${window.location.origin}/auth/callback`,data:{full_name:`${t} ${i}`.trim(),first_name:t,last_name:i,phone:a}}});if(P)throw P}catch(P){console.error("signUp failed:",{message:P==null?void 0:P.message,status:P==null?void 0:P.status,name:P==null?void 0:P.name}),v(!1),b((P==null?void 0:P.message)??"Sign up failed");return}const{data:j}=await re.auth.getSession();if((D=j.session)!=null&&D.user){v(!1),e({to:"/dashboard"});return}v(!1),R("Check your email to confirm your account. Your profile will be created after confirmation.")}return s.jsxs(X,{style:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",padding:"24px",zIndex:1,boxSizing:"border-box",overflow:"auto"},children:[s.jsx(Yj,{intensity:.1,shapeType:"circles",speed:.5}),s.jsx(Rt,{size:"4",style:{width:"100%",maxWidth:520,background:"var(--gray-a2)",position:"relative",zIndex:1},children:s.jsxs($,{direction:"column",gap:"4",children:[s.jsxs(X,{children:[s.jsx(He,{size:"7",mb:"1",children:"Create your account"}),s.jsx(L,{color:"gray",children:"Fill in your details to sign up."})]}),s.jsx(st,{size:"4"}),s.jsx("form",{onSubmit:N,children:s.jsxs($,{direction:"column",gap:"3",children:[s.jsxs($,{gap:"3",wrap:"wrap",children:[s.jsxs(X,{style:{flex:1,minWidth:180},children:[s.jsx(L,{as:"label",size:"2",color:"gray",mb:"1",style:{display:"block"},children:"First name"}),s.jsx(qe,{placeholder:"First name",value:t,onChange:O=>n(O.target.value),required:!0,size:"3"})]}),s.jsxs(X,{style:{flex:1,minWidth:180},children:[s.jsx(L,{as:"label",size:"2",color:"gray",mb:"1",style:{display:"block"},children:"Last name"}),s.jsx(qe,{placeholder:"Last name",value:i,onChange:O=>r(O.target.value),required:!0,size:"3"})]})]}),s.jsxs(X,{children:[s.jsx(L,{as:"label",size:"2",color:"gray",mb:"1",style:{display:"block"},children:"Phone number"}),s.jsx(Td,{id:"signup-phone",value:a,onChange:o,defaultCountry:"NO",placeholder:"Enter phone number",disabled:p})]}),s.jsxs(X,{children:[s.jsx(L,{as:"label",size:"2",color:"gray",mb:"1",style:{display:"block"},children:"Email"}),s.jsx(qe,{type:"email",placeholder:"you@company.com",value:l,onChange:O=>c(O.target.value),autoComplete:"email",required:!0,size:"3"})]}),s.jsxs(X,{children:[s.jsx(L,{as:"label",size:"2",color:"gray",mb:"1",style:{display:"block"},children:"Password"}),s.jsx(qe,{type:"password",placeholder:"",value:u,onChange:O=>d(O.target.value),autoComplete:"new-password",required:!0,size:"3"}),u&&s.jsxs(X,{mt:"2",style:{padding:"12px",background:"var(--gray-2)",borderRadius:"6px"},children:[s.jsx(L,{size:"2",weight:"medium",mb:"2",style:{display:"block"},children:"Password requirements:"}),s.jsx($,{direction:"column",gap:"1",children:E.map(O=>s.jsxs($,{align:"center",gap:"2",children:[s.jsx(fr,{checked:O.satisfied,disabled:!0}),s.jsx(L,{size:"2",style:{color:O.satisfied?"var(--green-11)":"var(--gray-11)",textDecoration:O.satisfied?"line-through":"none"},children:O.label})]},O.id))})]})]}),s.jsxs(X,{children:[s.jsx(L,{as:"label",size:"2",color:"gray",mb:"1",style:{display:"block"},children:"Confirm password"}),s.jsx(qe,{type:"password",placeholder:"",value:h,onChange:O=>m(O.target.value),autoComplete:"new-password",required:!0,size:"3"}),_!==null&&s.jsx(X,{mt:"2",children:_?s.jsx(L,{size:"2",color:"green",children:" Passwords match"}):s.jsx(L,{size:"2",color:"red",children:" Passwords do not match"})})]}),S&&s.jsx(L,{color:"red",children:S}),w&&s.jsx(L,{color:"green",children:w}),s.jsx(pe,{type:"submit",size:"3",disabled:p,variant:"classic",children:p?"Creating account":"Create account"}),s.jsx(pe,{type:"button",variant:"outline",size:"3",onClick:()=>e({to:"/login"}),disabled:p,children:"Back to sign in"})]})}),s.jsxs(L,{size:"2",color:"gray",children:["By creating an account, you agree to our"," ",s.jsx(Kg,{to:"/legal",style:{textDecoration:"underline"},children:"terms and privacy policy."})]})]})})]})}function uSt(){const e=_a(),[t,n]=g.useState(null);return g.useEffect(()=>{let i=!1;return(async()=>{var l;const a=new URL(window.location.href),o=a.searchParams.get("code")||((l=a.hash.match(/code=([^&]+)/))==null?void 0:l[1]);try{const{error:c}=await re.auth.exchangeCodeForSession(window.location.href);if(c)if(o){const{error:u}=await re.auth.verifyOtp({type:"signup",token_hash:o});if(u)throw u}else{const{data:u}=await re.auth.getSession();if(!u.session)throw c}i||e({to:"/dashboard"})}catch(c){i||n((c==null?void 0:c.message)??"Could not complete sign-in")}})(),()=>{i=!0}},[e]),t?s.jsx($,{align:"center",justify:"center",style:{minHeight:"100dvh"},children:s.jsxs(Rt,{size:"3",style:{width:420,background:"var(--gray-a2)"},children:[s.jsx(He,{size:"5",mb:"2",children:"Sign-in error"}),s.jsx(L,{color:"red",children:t})]})}):s.jsx($,{align:"center",justify:"center",style:{minHeight:"100dvh"},children:s.jsxs(Rt,{size:"3",style:{width:420,background:"var(--gray-a2)"},children:[s.jsx(He,{size:"5",children:"Completing sign-in"}),s.jsx(L,{color:"gray",children:"Please wait."})]})})}function dSt(){const[e,t]=g.useState("en");return g.useEffect(()=>{const n={overflow:document.body.style.overflow,padding:document.body.style.padding,margin:document.body.style.margin},i={overflow:document.documentElement.style.overflow,padding:document.documentElement.style.padding,margin:document.documentElement.style.margin};return document.body.style.overflow="hidden",document.body.style.padding="0",document.body.style.margin="0",document.documentElement.style.overflow="hidden",document.documentElement.style.padding="0",document.documentElement.style.margin="0",()=>{document.body.style.overflow=n.overflow,document.body.style.padding=n.padding,document.body.style.margin=n.margin,document.documentElement.style.overflow=i.overflow,document.documentElement.style.padding=i.padding,document.documentElement.style.margin=i.margin}},[]),s.jsxs(X,{style:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",padding:"24px",zIndex:1,boxSizing:"border-box",overflow:"auto"},children:[s.jsx(Yj,{intensity:.1,shapeType:"circles",speed:.5}),s.jsx(Rt,{size:"4",style:{width:"100%",maxWidth:860,background:"var(--gray-a2)",position:"relative",zIndex:1},children:s.jsxs($,{direction:"column",gap:"4",children:[s.jsxs($,{align:"center",justify:"between",wrap:"wrap",gap:"3",children:[s.jsx(He,{size:"7",children:e==="en"?"Terms & Privacy":"Vilkr & Personvern"}),s.jsxs(Xa,{size:"2",value:e,onValueChange:n=>t(n),children:[s.jsx(wi,{value:"en",children:"English"}),s.jsx(wi,{value:"no",children:"Norsk"})]})]}),s.jsx(st,{size:"4"}),s.jsx(X,{style:{maxHeight:"70dvh",overflow:"auto",paddingRight:8},children:e==="en"?s.jsx(fSt,{}):s.jsx(hSt,{})}),s.jsx(st,{size:"4"}),s.jsx($,{justify:"end",gap:"2",children:s.jsx(pe,{highContrast:!0,asChild:!0,variant:"classic",children:s.jsx(Kg,{to:"/signup",children:e==="en"?"Close":"Lukk"})})})]})})]})}function ar({title:e,children:t}){return s.jsxs(X,{mb:"4",children:[s.jsx(He,{size:"4",mb:"2",children:e}),s.jsx(L,{as:"div",size:"2",color:"gray",children:t})]})}function fSt(){return s.jsxs(X,{children:[s.jsx(ar,{title:"1. Introduction",children:"By using this service (Platform), you agree to these Terms of Service and our Privacy Notice (collectively, Terms). If you do not agree, do not use the Platform."}),s.jsx(ar,{title:"2. Definitions",children:"We, us, and our refer to the Platform operator. You means the account holder or authorized user. Inventory means equipment and stock. Booking means the allocation of crew and/or inventory to a job."}),s.jsx(ar,{title:"3. Accounts & Access",children:"You must provide accurate information and keep your credentials secure. You are responsible for all activity under your account. We may suspend or terminate accounts that violate these Terms or applicable law."}),s.jsx(ar,{title:"4. Use of the Platform",children:"You agree to use the Platform only for lawful business purposes. Reverse-engineering, scraping, or abusing rate limits is prohibited. We may update or discontinue features at any time."}),s.jsx(ar,{title:"5. Inventory & Crew Booking",children:"The Platform helps plan availability and reservations. You are solely responsible for the correctness of entries, conflicts resolution, on-site safety, compliance, and honoring any contractual obligations."}),s.jsx(ar,{title:"6. Payments (if applicable)",children:"If paid features are offered, fees and billing cycles will be shown at checkout or in your plan. Unpaid invoices may lead to account suspension. Taxes are your responsibility unless stated otherwise."}),s.jsx(ar,{title:"7. Data & Privacy",children:"We process personal data to operate the Platform, improve services, and meet legal obligations. We retain data only as long as necessary. See the Privacy Notice below for details about categories, purposes, retention, and your rights."}),s.jsx(ar,{title:"8. Security",children:"We use reasonable technical and organizational measures to protect data. No method of transmission or storage is 100% secure; you use the Platform at your own risk and must implement appropriate internal controls."}),s.jsx(ar,{title:"9. Confidentiality",children:"You may process third-party data in the Platform. You are responsible for having a lawful basis and for honoring confidentiality commitments to your clients and crew."}),s.jsx(ar,{title:"10. Warranties & Liability",children:"The Platform is provided as is and as available. To the maximum extent permitted by law, we disclaim all warranties and limit our liability for indirect, incidental, or consequential damages."}),s.jsx(ar,{title:"11. Termination",children:"You may stop using the Platform at any time. We may terminate or suspend access for breach of these Terms or for legal reasons. Upon termination, your right to access the Platform ceases."}),s.jsx(ar,{title:"12. Governing Law",children:"These Terms are governed by the laws of your principal place of business, unless mandatory local law requires otherwise. Disputes will be resolved by competent courts in that jurisdiction."}),s.jsx(ar,{title:"Privacy Notice (Summary)",children:"We collect account and usage data to provide the Platform. Legal bases may include contract performance and legitimate interests. You may request access, correction, deletion, or portability where applicable. We may share data with processors (e.g., hosting, analytics) under data protection agreements. Contact us to exercise your rights."}),s.jsx(ar,{title:"Contact",children:"If you have questions or requests, contact your administrator or our support team at privacy@example.com."})]})}function hSt(){return s.jsxs(X,{children:[s.jsx(ar,{title:"1. Innledning",children:"Ved  bruke denne tjenesten (Plattformen) aksepterer du disse vilkrene og vr personvernerklring (samlet Vilkr). Dersom du ikke samtykker, m du ikke bruke Plattformen."}),s.jsx(ar,{title:"2. Definisjoner",children:"Vi, oss og vr viser til plattformoperatren. Du betyr kontoinnehaver eller autorisert bruker. Inventar betyr utstyr og lager. Booking betyr tildeling av mannskap og/eller inventar til et oppdrag."}),s.jsx(ar,{title:"3. Konto & Tilgang",children:"Du m oppgi riktige opplysninger og holde innloggingsdetaljer sikre. Du er ansvarlig for all aktivitet p kontoen din. Vi kan suspendere eller avslutte kontoer som bryter Vilkrene eller gjeldende lav."}),s.jsx(ar,{title:"4. Bruk av Plattformen",children:"Du skal kun bruke Plattformen til lovlige forretningsforml. Reverse-engineering, scraping eller misbruk av kapasitetsgrenser er forbudt. Vi kan oppdatere eller avvikle funksjoner nr som helst."}),s.jsx(ar,{title:"5. Inventar & Mannskapsbooking",children:"Plattformen hjelper med planlegging av tilgjengelighet og reservasjoner. Du er alene ansvarlig for riktigheten i registreringer, hndtering av konflikter, HMS p stedet, etterlevelse og oppfyllelse av kontrakter."}),s.jsx(ar,{title:"6. Betaling (dersom aktuelt)",children:"Dersom betalte funksjoner tilbys, vil priser og faktureringssyklus fremg ved kjp eller i abonnementet. Manglende betaling kan fre til suspendering. Skatter og avgifter er ditt ansvar med mindre annet er angitt."}),s.jsx(ar,{title:"7. Data & Personvern",children:"Vi behandler personopplysninger for  drive Plattformen, forbedre tjenestene og oppfylle lovkrav. Vi lagrer data kun s lenge det er ndvendig. Se sammendraget under for kategorier, forml, lagringstid og dine rettigheter."}),s.jsx(ar,{title:"8. Sikkerhet",children:"Vi benytter rimelige tekniske og organisatoriske tiltak for  beskytte data. Ingen metode er 100 % sikker; du bruker Plattformen p eget ansvar og m ha hensiktsmessige interne kontroller."}),s.jsx(ar,{title:"9. Konfidensialitet",children:"Du kan behandle tredjepartsdata i Plattformen. Du er ansvarlig for  ha gyldig behandlingsgrunnlag og etterleve konfidensialitetsforpliktelser overfor kunder og mannskap."}),s.jsx(ar,{title:"10. Ansvarsfraskrivelse & Ansvarsbegrensning",children:"Plattformen leveres som den er og som tilgjengelig. I den grad loven tillater, fraskriver vi oss garantier og begrenser ansvar for indirekte, tilfeldige eller flgeskader."}),s.jsx(ar,{title:"11. Opphr",children:"Du kan slutte  bruke Plattformen nr som helst. Vi kan avslutte eller suspendere tilgangen ved brudd p Vilkrene eller av rettslige grunner. Ved opphr opphrer din rett til  bruke Plattformen."}),s.jsx(ar,{title:"12. Lovvalg",children:"Vilkrene reguleres av lovene der virksomheten din er etablert, med mindre ufravikelig lokal rett krever noe annet. Tvister avgjres av kompetent domstol i denne jurisdiksjonen."}),s.jsx(ar,{title:"Personvernerklring (Sammendrag)",children:"Vi samler inn konto- og bruksdata for  levere Plattformen. Behandlingsgrunnlag kan vre oppfyllelse av avtale og berettiget interesse. Du kan be om innsyn, retting, sletting eller dataportabilitet der det gjelder. Vi kan dele data med databehandlere (f.eks. drift, analyse) under databehandleravtaler. Kontakt oss for  utve dine rettigheter."}),s.jsx(ar,{title:"Kontakt",children:"Ved sprsml eller henvendelser, kontakt administrator eller vrt personvernteam p privacy@example.com."})]})}function pSt({currentLightLogoPath:e,currentDarkLogoPath:t,onUploadComplete:n,uploadPathPrefix:i,disabled:r=!1}){const[a,o]=g.useState(!1),[l,c]=g.useState(!1),[u,d]=g.useState(null),[h,m]=g.useState(null),[p,v]=g.useState(!0),[S,b]=g.useState(!0),w=g.useRef(null),R=g.useRef(null),E=g.useRef(null),_=g.useRef(null),{success:N,error:O}=Jt(),j=g.useMemo(()=>{if(e){const{data:U}=re.storage.from("logos").getPublicUrl(e);return`${U.publicUrl}?t=${Date.now()}`}return null},[e]),D=g.useMemo(()=>{if(t){const{data:U}=re.storage.from("logos").getPublicUrl(t);return`${U.publicUrl}?t=${Date.now()}`}return null},[t]);g.useEffect(()=>{E.current&&(URL.revokeObjectURL(E.current),E.current=null),_.current&&(URL.revokeObjectURL(_.current),_.current=null),d(null),m(null),v(!0),b(!0)},[e,t]),g.useEffect(()=>()=>{E.current&&URL.revokeObjectURL(E.current),_.current&&URL.revokeObjectURL(_.current)},[]);const P=async(U,K,te,q,V,Q)=>{var ce;if(!U.type.match(/^image\/(png|svg\+xml)$/)){O("Invalid file type","Company logos must be PNG or SVG format (with transparent backgrounds).");return}te(!0);try{V.current&&URL.revokeObjectURL(V.current);const ae=URL.createObjectURL(U);V.current=ae,q(ae),Q(!0);const G=((ce=U.name.split(".").pop())==null?void 0:ce.toLowerCase())||"png",H=`${i}/logo_${K}.${G}`,{error:T}=await re.storage.from("logos").upload(H,U,{upsert:!0,cacheControl:"3600"});if(T)throw T;n(K==="light"?H:e,K==="dark"?H:t),N(`${K==="light"?"Light":"Dark"} logo uploaded`,"Logo has been uploaded successfully."),V.current&&(URL.revokeObjectURL(V.current),V.current=null),q(null)}catch(ae){O("Upload failed",(ae==null?void 0:ae.message)||"Failed to upload logo."),V.current&&(URL.revokeObjectURL(V.current),V.current=null),q(null)}finally{te(!1)}},B=async(U,K)=>{if(K)try{const{error:te}=await re.storage.from("logos").remove([K]);if(te)throw te;n(U==="light"?null:e,U==="dark"?null:t),U==="light"&&E.current&&(URL.revokeObjectURL(E.current),E.current=null),U==="dark"&&_.current&&(URL.revokeObjectURL(_.current),_.current=null),d(null),m(null),N("Logo deleted","Logo has been removed.")}catch(te){O("Delete failed",(te==null?void 0:te.message)||"Failed to delete logo.")}},M=u||j,z=h||D;return s.jsx(X,{children:s.jsxs($,{direction:"column",gap:"3",children:[s.jsxs($,{gap:"4",wrap:"wrap",align:"start",children:[s.jsxs(X,{style:{flex:"1 1 300px",minWidth:250},children:[s.jsx(L,{as:"div",size:"2",color:"gray",mb:"2",children:"Light Mode Logo"}),M&&s.jsxs(X,{style:{width:"100%",maxWidth:300,aspectRatio:"5/3",borderRadius:8,overflow:"hidden",border:"1px solid var(--gray-a6)",backgroundColor:"#ffffff",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:[p&&s.jsx(Di,{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}}),s.jsx("img",{src:M,alt:"Light mode logo",style:{width:"100%",height:"100%",objectFit:"contain",opacity:p?0:1,transition:"opacity 0.2s ease-in-out"},onLoad:()=>v(!1),onError:()=>v(!1)})]}),s.jsxs($,{gap:"2",align:"center",mt:"2",children:[s.jsx("input",{ref:w,type:"file",accept:"image/png,image/svg+xml",onChange:U=>{var te;const K=(te=U.target.files)==null?void 0:te[0];K&&P(K,"light",o,d,E,v),w.current&&(w.current.value="")},disabled:r||a,style:{display:"none"}}),s.jsxs(pe,{size:"2",variant:"soft",onClick:()=>{var U;return(U=w.current)==null?void 0:U.click()},disabled:r||a,children:[s.jsx(P0,{width:16,height:16}),a?"Uploading...":M?"Replace":"Upload"]}),M&&s.jsx(pe,{size:"2",variant:"soft",color:"red",onClick:()=>B("light",e),disabled:r||a,children:"Delete"})]})]}),s.jsxs(X,{style:{flex:"1 1 300px",minWidth:250},children:[s.jsx(L,{as:"div",size:"2",color:"gray",mb:"2",children:"Dark Mode Logo"}),z&&s.jsxs(X,{style:{width:"100%",maxWidth:300,aspectRatio:"5/3",borderRadius:8,overflow:"hidden",border:"1px solid var(--gray-a6)",backgroundColor:"#000000",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:[S&&s.jsx(Di,{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}}),s.jsx("img",{src:z,alt:"Dark mode logo",style:{width:"100%",height:"100%",objectFit:"contain",opacity:S?0:1,transition:"opacity 0.2s ease-in-out"},onLoad:()=>b(!1),onError:()=>b(!1)})]}),s.jsxs($,{gap:"2",align:"center",mt:"2",children:[s.jsx("input",{ref:R,type:"file",accept:"image/png,image/svg+xml",onChange:U=>{var te;const K=(te=U.target.files)==null?void 0:te[0];K&&P(K,"dark",c,m,_,b),R.current&&(R.current.value="")},disabled:r||l,style:{display:"none"}}),s.jsxs(pe,{size:"2",variant:"soft",onClick:()=>{var U;return(U=R.current)==null?void 0:U.click()},disabled:r||l,children:[s.jsx(P0,{width:16,height:16}),l?"Uploading...":z?"Replace":"Upload"]}),z&&s.jsx(pe,{size:"2",variant:"soft",color:"red",onClick:()=>B("dark",t),disabled:r||l,children:"Delete"})]})]})]}),s.jsx(L,{size:"1",color:"gray",children:"Company logos must be PNG or SVG format with transparent backgrounds. Upload separate logos for light and dark mode."})]})})}function mSt({open:e,onOpenChange:t}){const{companyId:n}=En(),i=Yt(),{success:r,error:a}=Jt(),[o,l]=g.useState(""),[c,u]=g.useState(""),d=bt({mutationFn:async()=>{if(!n)throw new Error("No company selected");return oue({companyId:n,title:o,message:c})},onSuccess:async()=>{l(""),u(""),await i.invalidateQueries({queryKey:["company",n,"latest-feed"],exact:!1}),r("Announcement posted","Your announcement has been added to the feed."),t(!1)},onError:h=>{a("Failed to create announcement",h.message)}});return s.jsx(rn,{open:e,onOpenChange:t,children:s.jsxs(an,{maxWidth:"600px",children:[s.jsx(cn,{children:"Create Announcement"}),s.jsxs($,{direction:"column",gap:"3",mt:"3",children:[s.jsxs($,{direction:"column",gap:"1",children:[s.jsx(L,{as:"label",size:"2",weight:"medium",children:"Title"}),s.jsx(qe,{placeholder:"Announcement title",value:o,onChange:h=>l(h.target.value)})]}),s.jsxs($,{direction:"column",gap:"1",children:[s.jsx(L,{as:"label",size:"2",weight:"medium",children:"Message"}),s.jsx(Ci,{placeholder:"Write your announcement...",value:c,onChange:h=>u(h.target.value),rows:6,style:{resize:"vertical"}})]})]}),s.jsxs($,{gap:"2",mt:"4",justify:"end",children:[s.jsx(Dn,{children:s.jsx(pe,{variant:"soft",children:"Cancel"})}),s.jsx(pe,{onClick:()=>d.mutate(),disabled:!o.trim()||!c.trim()||d.isPending,variant:"classic",children:d.isPending?"Posting":"Post Announcement"})]})]})})}function ySt({open:e,onOpenChange:t,initial:n,onSaved:i}){const{companyId:r}=En(),a=_=>{if(!_)return"";const N=Q1(_);return N===""?"":N},o=_=>{if(!_)return{address_line:"",zip_code:"",city:"",country:"Norway"};const N=_.split(",").map(O=>O.trim()).filter(Boolean);return N.length>=4?{address_line:N[0]||"",zip_code:N[1]||"",city:N[2]||"",country:N[3]||"Norway"}:N.length===1?{address_line:N[0]||"",zip_code:"",city:"",country:"Norway"}:{address_line:_,zip_code:"",city:"",country:"Norway"}},[l,c]=g.useState({id:n.id,name:n.name,vat_number:a(n.vat_number),general_email:n.general_email??"",contact_person_id:n.contact_person_id??null}),[u,d]=g.useState(o(n.address??null));g.useEffect(()=>{c({id:n.id,name:n.name,vat_number:a(n.vat_number),general_email:n.general_email??"",contact_person_id:n.contact_person_id??null}),d(o(n.address??null))},[n.id]);const h=(_,N)=>c(O=>({...O,[_]:N})),m=(_,N)=>d(O=>({...O,[_]:N})),{success:p,error:v}=Jt(),S=[u.address_line,u.zip_code,u.city,u.country].map(_=>_.trim()).filter(Boolean).join(", "),b=S||null,{data:w=[]}=et({queryKey:["company",r,"contact-person-candidates"],enabled:e&&!!r,queryFn:async()=>{if(!r)throw new Error("No company ID");const{data:_,error:N}=await re.from("company_user_profiles").select("user_id, display_name, email, phone, role").eq("company_id",r).in("role",["employee","owner"]).order("display_name",{ascending:!0});if(N)throw N;return _}}),R=bt({mutationFn:async()=>{if(!r)throw new Error("No company selected");return tue({companyId:r,id:l.id,name:l.name.trim(),address:b,vat_number:l.vat_number&&l.vat_number.replace(/[\s-]/g,"")||null,general_email:l.general_email.trim()||null,contact_person_id:l.contact_person_id||null})},onSuccess:()=>{t(!1),i==null||i(),p("Success","Company data saved")},onError:_=>{v("Failed to save",(_==null?void 0:_.message)??"Please try again.")}}),E=w.find(_=>_.user_id===l.contact_person_id);return s.jsx(rn,{open:e,onOpenChange:t,children:s.jsxs(an,{maxWidth:"520px",style:{maxHeight:"90vh",overflow:"auto"},children:[s.jsx(cn,{children:"Edit company"}),s.jsxs($,{direction:"column",gap:"3",mt:"3",children:[s.jsx(bp,{label:"Company name",children:s.jsx(qe,{value:l.name,onChange:_=>h("name",_.target.value),autoFocus:!0})}),s.jsx(st,{size:"4"}),s.jsx(L,{as:"div",size:"2",weight:"bold",mb:"2",children:"Address"}),s.jsx(bp,{label:"Address line",children:s.jsx(qe,{value:u.address_line,onChange:_=>m("address_line",_.target.value),placeholder:"Street and number"})}),s.jsxs(Zn,{columns:"2",gap:"3",children:[s.jsx(bp,{label:"ZIP code",children:s.jsx(qe,{value:u.zip_code,onChange:_=>m("zip_code",_.target.value),placeholder:"e.g., 0361"})}),s.jsx(bp,{label:"City",children:s.jsx(qe,{value:u.city,onChange:_=>m("city",_.target.value),placeholder:"e.g., Oslo"})})]}),s.jsx(bp,{label:"Country",children:s.jsx(qe,{value:u.country,onChange:_=>m("country",_.target.value),placeholder:"e.g., Norway"})}),S&&s.jsxs(X,{mt:"2",style:{maxWidth:400},children:[s.jsx(L,{as:"div",size:"1",color:"gray",mb:"2",children:"Map preview"}),s.jsx(nv,{query:S,zoom:15})]}),s.jsx(st,{size:"4"}),s.jsx(bp,{label:"VAT number",children:s.jsx(qe,{value:l.vat_number,onChange:_=>{const N=_.target.value.replace(/[\s-]/g,"");if(N===""||/^\d{0,9}$/.test(N)){const O=N.length<=3?N:N.length<=6?`${N.slice(0,3)} ${N.slice(3)}`:`${N.slice(0,3)} ${N.slice(3,6)} ${N.slice(6)}`;h("vat_number",O)}},placeholder:"123 456 789"})}),s.jsx(bp,{label:"General email",children:s.jsx(qe,{type:"email",value:l.general_email,onChange:_=>h("general_email",_.target.value),placeholder:"company@example.com"})}),s.jsxs(bp,{label:"Contact person",children:[s.jsx(L,{as:"div",size:"1",color:"gray",mb:"2",children:"The person to contact from this company (for system owner)"}),s.jsxs(Vn,{value:l.contact_person_id||void 0,onValueChange:_=>h("contact_person_id",_||null),children:[s.jsx(Kn,{placeholder:"Select contact person"}),s.jsx(Gn,{style:{zIndex:1e4},children:w.map(_=>{const N=[];_.phone&&N.push(Ta(_.phone)),_.email&&_.display_name&&N.push(_.email);const O=N.length>0?` (${N.join(", ")})`:"";return s.jsxs(wt,{value:_.user_id,children:[_.display_name||_.email,O]},_.user_id)})})]}),E&&s.jsxs($,{direction:"column",gap:"1",mt:"2",style:{padding:8,background:"var(--gray-a2)",borderRadius:4},children:[s.jsx(L,{size:"2",weight:"medium",children:E.display_name||"No name"}),E.email&&s.jsxs(L,{size:"1",color:"gray",children:["Email:"," ",s.jsx("a",{href:`mailto:${E.email}`,style:{color:"inherit"},children:E.email})]}),E.phone&&s.jsxs(L,{size:"1",color:"gray",children:["Phone:"," ",s.jsx("a",{href:`tel:${E.phone}`,style:{color:"inherit"},children:Ta(E.phone)})]})]})]})]}),s.jsxs($,{gap:"2",mt:"4",justify:"end",children:[s.jsx(Dn,{children:s.jsx(pe,{variant:"soft",children:"Cancel"})}),s.jsx(pe,{onClick:()=>R.mutate(),disabled:!l.name.trim()||R.isPending,children:R.isPending?"Saving":"Save"})]})]})})}function bp({label:e,children:t}){return s.jsxs("div",{children:[s.jsx(L,{as:"div",size:"2",color:"gray",style:{marginBottom:6},children:e}),t]})}const Ty=420;function gSt(){const{companyId:e}=En(),t=Yt(),[n,i]=g.useState(!1),[r,a]=g.useState(!1),[o,l]=g.useState(!1),{data:c,isLoading:u,isError:d,error:h}=et({...e?zO({companyId:e}):{queryKey:["company","none","company-detail"],queryFn:()=>Promise.resolve(null)},enabled:!!e}),m=bt({mutationFn:async({lightPath:b,darkPath:w})=>{if(!e||!c)throw new Error("Missing company");await tue({companyId:e,id:e,name:c.name,address:c.address,vat_number:c.vat_number,general_email:c.general_email,contact_person_id:c.contact_person_id,logo_light_path:b,logo_dark_path:w})},onSuccess:()=>{t.invalidateQueries({queryKey:["company",e,"company-detail"]})}});if(u)return s.jsx(X,{p:"4",children:s.jsx(L,{children:"Loading"})});if(d||!c)return s.jsx(X,{p:"4",children:s.jsxs(L,{color:"red",children:["Failed to load company details."," ",h?String(h.message):""]})});const v=(b=>{if(!b)return{address_line:"",zip_code:"",city:"",country:"Norway"};const w=b.split(",").map(R=>R.trim()).filter(Boolean);return w.length>=4?{address_line:w[0]||"",zip_code:w[1]||"",city:w[2]||"",country:w[3]||"Norway"}:{address_line:b,zip_code:"",city:"",country:"Norway"}})(c.address),S=[v.address_line,v.zip_code,v.city,v.country].map(b=>b.trim()).filter(Boolean).join(", ");return s.jsxs(Rt,{size:"4",style:{display:"flex",flexDirection:"column",height:"100%",minHeight:0,overflow:"hidden"},children:[s.jsxs($,{align:"center",justify:"between",wrap:"wrap",gap:"3",mb:"4",p:"4",pb:"0",children:[s.jsx(He,{size:"4",children:c.name}),s.jsxs($,{gap:"2",children:[s.jsxs(pe,{size:"2",variant:"soft",onClick:()=>a(!0),children:[s.jsx(roe,{}),"New Announcement"]}),s.jsxs(pe,{size:"2",variant:"soft",onClick:()=>i(!0),children:[s.jsx(gi,{}),"Edit"]})]})]}),s.jsx(ySt,{open:n,onOpenChange:i,initial:c,onSaved:()=>{t.invalidateQueries({queryKey:["company",e,"company-detail"]})}}),s.jsx(mSt,{open:r,onOpenChange:a}),s.jsx(X,{style:{flex:1,minHeight:0,overflowY:"auto",overflowX:"hidden"},children:s.jsxs($,{direction:"column",gap:"4",p:"4",pt:"0",children:[s.jsxs(X,{children:[s.jsxs($,{align:"center",gap:"2",mb:"2",style:{cursor:"pointer",userSelect:"none"},onClick:()=>l(!o),children:[o?s.jsx(Za,{width:16,height:16}):s.jsx(Gl,{width:16,height:16}),s.jsx(L,{as:"div",size:"2",color:"gray",children:"Company Logos"}),c.logo_light_path||c.logo_dark_path?s.jsx(mt,{variant:"soft",color:"green",size:"1",children:"Configured"}):s.jsx(mt,{variant:"soft",color:"red",size:"1",children:"Not configured"})]}),o&&s.jsx(pSt,{currentLightLogoPath:c.logo_light_path,currentDarkLogoPath:c.logo_dark_path,uploadPathPrefix:`companies/${e}`,onUploadComplete:(b,w)=>{m.mutate({lightPath:b,darkPath:w})},disabled:m.isPending})]}),s.jsx(st,{size:"4"}),s.jsxs(Zn,{columns:{initial:"1",md:"2",lg:"3"},gap:"4",children:[s.jsxs(n4,{title:"Company information",children:[s.jsx($f,{label:"Company name",maxWidth:Ty,children:s.jsx(L,{size:"3",weight:"medium",children:c.name})}),s.jsx($f,{label:"VAT number",maxWidth:Ty,children:s.jsx(L,{size:"3",children:Q1(c.vat_number)})}),s.jsx($f,{label:"General email",maxWidth:Ty,children:c.general_email?s.jsx("a",{href:`mailto:${c.general_email}`,style:{color:"inherit"},children:s.jsx(L,{size:"3",children:c.general_email})}):s.jsx(L,{size:"3",color:"gray",children:""})}),s.jsx($f,{label:"Created",maxWidth:Ty,children:s.jsx(L,{size:"3",children:SSt(c.created_at)})})]}),s.jsxs(n4,{title:"Address",children:[s.jsx($f,{label:"Address line",maxWidth:520,children:s.jsx(L,{size:"3",children:v.address_line||""})}),s.jsx(vSt,{children:s.jsxs($,{gap:"2",width:"100%",children:[s.jsx($f,{label:"ZIP",maxWidth:100,children:s.jsx(L,{size:"3",children:v.zip_code||""})}),s.jsx($f,{label:"City",maxWidth:Ty,children:s.jsx(L,{size:"3",children:v.city||""})})]})}),s.jsx($f,{label:"Country",maxWidth:Ty,children:s.jsx(L,{size:"3",children:v.country||""})}),S&&s.jsx(X,{mt:"2",style:{maxWidth:520},children:s.jsx(nv,{query:S,zoom:15})})]}),s.jsx(n4,{title:"Contact person",children:s.jsx($f,{label:"For system owner to contact this company",maxWidth:520,children:c.contact_person?s.jsxs(X,{style:{padding:12,background:"var(--gray-a2)",borderRadius:6},children:[s.jsx(L,{as:"div",size:"3",weight:"medium",mb:"2",children:c.contact_person.display_name||"No name"}),c.contact_person.email&&s.jsx(L,{as:"div",size:"2",color:"gray",mb:"1",children:s.jsx("a",{href:`mailto:${c.contact_person.email}`,style:{color:"inherit"},children:c.contact_person.email})}),c.contact_person.phone&&s.jsx(L,{as:"div",size:"2",color:"gray",children:s.jsx("a",{href:`tel:${c.contact_person.phone}`,style:{color:"inherit"},children:Ta(c.contact_person.phone)})})]}):s.jsx(L,{size:"2",color:"gray",children:"No contact person assigned"})})})]})]})})]})}function n4({title:e,children:t}){return s.jsxs(X,{children:[s.jsx(He,{size:"3",mb:"2",children:e}),s.jsx($,{direction:"column",gap:"3",children:t})]})}function vSt({children:e}){return s.jsx($,{wrap:"wrap",gap:"3",style:{alignItems:"start"},children:e})}function $f({label:e,children:t,maxWidth:n=Ty}){return s.jsxs(X,{style:{maxWidth:n,width:"min(100%, "+n+"px)"},children:[s.jsx(L,{as:"div",size:"2",color:"gray",mb:"1",children:e}),s.jsx(X,{style:{width:"100%"},children:t})]})}function SSt(e){return e?new Date(e).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):""}function bSt({open:e,onOpenChange:t,onAdded:n}){const{companyId:i}=En(),{info:r,error:a}=Jt(),[o,l]=g.useState(""),c=o.trim().toLowerCase(),u=!!i&&!!c&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c),d=bt({mutationFn:async()=>{if(!i)throw new Error("No company selected");return await Qce({companyId:i,email:c,role:"employee"})},onSuccess:m=>{if(m.type==="added")r("Employee added","They already had an account and were added to your company.");else if(m.type==="invited")r("Invite created","They will be added automatically when they sign up.");else if(m.type==="already_invited")r("Already invited",`An invite already exists by ${m.by}.`);else{const p=m.role==="super_user"?"super user":m.role.replace("_"," ");r("Already a member",`This user is already ${p} in your company.`)}l(""),t(!1),n==null||n()},onError:m=>{a("Failed",(m==null?void 0:m.message)??"Please try again.")}});function h(m){m.preventDefault(),!(!u||d.isPending)&&d.mutate()}return s.jsx(rn,{open:e,onOpenChange:t,children:s.jsxs(an,{maxWidth:"460px",children:[s.jsx(cn,{children:"Add employee"}),s.jsxs(vr,{size:"2",children:["Enter the persons email. If they already have an account, theyll be added immediately as an ",s.jsx("b",{children:"employee"}),". Otherwise, theyll appear as a pending invite (expires in 30 days)."]}),s.jsxs("form",{onSubmit:h,children:[s.jsx($,{direction:"column",gap:"3",mt:"3",children:s.jsxs("label",{children:[s.jsx(L,{size:"2",children:"Email"}),s.jsx(qe,{type:"email",required:!0,placeholder:"employee@example.com",value:o,onChange:m=>l(m.target.value),autoFocus:!0})]})}),s.jsxs($,{gap:"3",justify:"end",mt:"4",children:[s.jsx(Dn,{children:s.jsx(pe,{type:"button",variant:"soft",disabled:d.isPending,children:"Cancel"})}),s.jsx(pe,{type:"submit",disabled:!u||d.isPending,children:d.isPending?"Saving":"Add"})]})]})]})})}function xSt({open:e,onOpenChange:t,onRemoved:n,userName:i,userEmail:r,userKind:a,userId:o}){const{companyId:l}=En(),c=Yt(),{success:u,error:d}=Jt(),h=bt({mutationFn:async()=>{if(!l)throw new Error("No company selected");return await VFe({companyId:l,userId:o})},onSuccess:()=>{c.invalidateQueries({predicate:m=>Array.isArray(m.queryKey)&&m.queryKey[0]==="company"&&m.queryKey[1]===l&&m.queryKey[2]==="crew-index"}),u("User removed",`${i} has been removed from the company.`),t(!1),n==null||n()},onError:m=>{d("Failed to remove user",(m==null?void 0:m.message)??"Please try again.")}});return s.jsx(rn,{open:e,onOpenChange:t,children:s.jsxs(an,{maxWidth:"460px",children:[s.jsxs(cn,{children:["Remove ",a]}),s.jsxs(vr,{size:"2",children:["Are you sure you want to remove"," ",s.jsx(L,{weight:"medium",children:i})," (",r,") from this company?"]}),s.jsxs($,{direction:"column",gap:"2",mt:"4",p:"3",style:{backgroundColor:"var(--red-3)",borderRadius:"var(--radius-2)"},children:[s.jsx(L,{size:"2",weight:"medium",style:{color:"var(--red-11)"},children:" Warning"}),s.jsx(L,{size:"2",style:{color:"var(--red-11)"},children:"This action will:"}),s.jsx(L,{size:"2",style:{color:"var(--red-11)"},children:" Remove all access to company data and features"}),s.jsx(L,{size:"2",style:{color:"var(--red-11)"},children:" Remove them from all company-related activities"}),s.jsx(L,{size:"2",style:{color:"var(--red-11)"},children:" Not delete their user account"})]}),s.jsxs($,{gap:"3",justify:"end",mt:"4",children:[s.jsx(Dn,{children:s.jsx(pe,{type:"button",variant:"soft",disabled:h.isPending,children:"Cancel"})}),s.jsx(pe,{type:"button",variant:"solid",color:"red",disabled:h.isPending,onClick:()=>h.mutate(),children:h.isPending?"Removing":"Remove"})]})]})})}function JZ({selectedUserId:e,onSelectUser:t,showEmployees:n,showFreelancers:i,showMyPending:r}){const{companyId:a}=En(),o=Yt(),[l,c]=g.useState(""),{success:u,error:d}=Jt(),{data:h=[],isLoading:m}=et({...oh({companyId:a,kind:"owner"}),enabled:!!a}),{data:p=[],isLoading:v}=et({...oh({companyId:a,kind:"employee"}),enabled:!!a&&n}),{data:S=[],isLoading:b}=et({...oh({companyId:a,kind:"freelancer"}),enabled:!!a&&i}),{data:w=[],isLoading:R}=et({...Jce({companyId:a}),enabled:!!a&&r}),E=g.useMemo(()=>{const K=[];h.forEach(Q=>K.push({kind:"owner",id:Q.user_id,title:Q.display_name??Q.email,subtitle:`${Q.email}  owner`,email:Q.email})),n&&p.forEach(Q=>K.push({kind:"employee",id:Q.user_id,title:Q.display_name??Q.email,subtitle:`${Q.email}  employee`,email:Q.email})),i&&S.forEach(Q=>K.push({kind:"freelancer",id:Q.user_id,title:Q.display_name??Q.email,subtitle:`${Q.email}  freelancer`,email:Q.email})),r&&w.forEach(Q=>K.push({kind:"invite",id:`invite:${Q.id}`,title:Q.email,subtitle:`${Q.role}  expires ${new Date(Q.expires_at).toLocaleDateString()}`,role:Q.role,email:Q.email}));const te=l.trim().toLowerCase(),q=te?K.filter(Q=>Q.title.toLowerCase().includes(te)||(Q.subtitle??"").toLowerCase().includes(te)):K,V={invite:0,owner:1,employee:2,freelancer:3};return q.slice().sort((Q,ce)=>V[Q.kind]-V[ce.kind])},[h,p,S,w,n,i,r,l]),[_,N]=g.useState(!1),[O,j]=g.useState(!1),[D,P]=g.useState(!1),[B,M]=g.useState(null),z=bt({mutationFn:K=>Xce({inviteId:K}),onSuccess:()=>{o.invalidateQueries({predicate:K=>Array.isArray(K.queryKey)&&K.queryKey[0]==="company"&&K.queryKey[1]===a&&K.queryKey[2]==="pending-invites"}),u("Success","Invite successfully deleted")}}),U=K=>K==="owner"?"purple":K==="employee"?"blue":K==="freelancer"?"green":"amber";return s.jsxs("div",{style:{height:"100%",minHeight:0},children:[s.jsxs($,{gap:"2",align:"center",wrap:"wrap",children:[s.jsxs(qe,{value:l,onChange:K=>c(K.target.value),placeholder:"Search people...",size:"3",style:{flex:"1 1 260px"},children:[s.jsx(Sr,{side:"left",children:s.jsx(qu,{})}),s.jsx(Sr,{side:"right",children:(v||R||m)&&s.jsxs($,{align:"center",gap:"1",children:[s.jsx(L,{children:"Thinking"}),s.jsx(Ei,{size:"2"})]})})]}),s.jsx(pe,{variant:"classic",onClick:()=>N(!0),children:"Add employee"}),s.jsx(pe,{variant:"soft",onClick:()=>j(!0),children:"Add freelancer"}),s.jsx(bSt,{open:_,onOpenChange:N,onAdded:()=>{o.invalidateQueries({queryKey:["company",a,"crew-index","employee"]}),o.invalidateQueries({predicate:K=>Array.isArray(K.queryKey)&&K.queryKey[0]==="company"&&K.queryKey[1]===a&&K.queryKey[2]==="pending-invites"})}}),s.jsx(ege,{open:O,onOpenChange:j,onAdded:()=>{o.invalidateQueries({predicate:K=>Array.isArray(K.queryKey)&&K.queryKey[0]==="company"&&K.queryKey[1]===a&&K.queryKey[2]==="pending-invites"})}})]}),s.jsx(xSt,{open:D,onOpenChange:P,onRemoved:()=>{},userName:(B==null?void 0:B.name)??"",userEmail:(B==null?void 0:B.email)??"",userKind:(B==null?void 0:B.kind)??"employee",userId:(B==null?void 0:B.id)??""}),s.jsxs(Hn,{variant:"surface",style:{marginTop:16},children:[s.jsx(Qn,{children:s.jsxs(ht,{children:[s.jsx(ze,{children:"Name / Email"}),s.jsx(ze,{children:"Status"}),s.jsx(ze,{style:{width:120,textAlign:"right"}})]})}),s.jsx(qn,{children:E.length===0?s.jsx(ht,{children:s.jsx(Oe,{colSpan:3,children:"No results"})}):E.map(K=>{const te=K.kind!=="invite"&&K.id===e;return s.jsxs(ht,{onClick:()=>K.kind!=="invite"&&t(K.id),style:{cursor:K.kind!=="invite"?"pointer":"default",background:te?"var(--accent-a3)":void 0},"data-state":te?"active":void 0,children:[s.jsxs(Oe,{children:[s.jsx(L,{size:"2",weight:"medium",children:K.title}),K.subtitle&&s.jsx(L,{as:"div",size:"1",color:"gray",children:K.subtitle})]}),s.jsx(Oe,{style:{verticalAlign:"middle"},children:K.kind==="invite"?s.jsxs($,{gap:"2",align:"center",children:[s.jsx(mt,{variant:"soft",color:"amber",children:"Pending invite"}),K.role&&s.jsx(mt,{variant:"soft",color:K.role==="owner"?"purple":K.role==="employee"?"blue":K.role==="freelancer"?"green":"amber",children:K.role==="super_user"?"super user":K.role})]}):s.jsx(mt,{asChild:!1,variant:"soft",color:U(K.kind),children:K.kind})}),s.jsxs(Oe,{style:{textAlign:"right"},children:[K.kind==="invite"&&s.jsx(pe,{variant:"soft",color:"red",onClick:q=>{q.stopPropagation();const V=K.id.replace("invite:","");z.mutate(V)},disabled:z.isPending,children:s.jsx(vi,{width:14,height:14})}),(K.kind==="employee"||K.kind==="freelancer")&&s.jsx(pe,{variant:"soft",color:"red",onClick:q=>{q.stopPropagation(),M({id:K.id,name:K.title,email:K.email??"",kind:K.kind}),P(!0)},children:s.jsx(vi,{width:14,height:14})})]})]},K.id)})})]})]})}function wSt(){const{companyId:e}=En(),[t,n]=g.useState({kind:"none"}),[i,r]=g.useState(!0),[a,o]=g.useState(!0),[l,c]=g.useState(!0),[u,d]=g.useState(()=>typeof window<"u"?window.matchMedia("(min-width: 1024px)").matches:!1);g.useEffect(()=>{const b=window.matchMedia("(min-width: 1024px)"),w=R=>d(R.matches);try{return b.addEventListener("change",w),()=>b.removeEventListener("change",w)}catch{return b.addListener(w),()=>b.removeListener(w)}},[]);const[h,m]=g.useState(66.67),[p,v]=g.useState(!1),S=g.useRef(null);return g.useEffect(()=>{if(!p)return;const b=R=>{if(!S.current)return;const E=S.current.getBoundingClientRect(),_=E.width,N=R.clientX-E.left,D=Math.max(25,Math.min(75,N/_*100));m(D)},w=()=>{v(!1),document.body.style.cursor="",document.body.style.userSelect=""};return document.body.style.cursor="col-resize",document.body.style.userSelect="none",document.addEventListener("mousemove",b),document.addEventListener("mouseup",w),()=>{document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",w),document.body.style.cursor="",document.body.style.userSelect=""}},[p]),e?u?s.jsxs($,{ref:S,gap:"2",align:"stretch",style:{height:u?"100%":void 0,minHeight:0,position:"relative",flex:u?1:void 0},children:[s.jsxs(Rt,{size:"3",style:{display:"flex",flexDirection:"column",width:`${h}%`,height:u?"100%":void 0,minWidth:"300px",maxWidth:"75%",minHeight:0,flexShrink:0,transition:p?"none":"width 0.1s ease-out"},children:[s.jsxs($,{align:"center",justify:"between",mb:"3",children:[s.jsx(He,{size:"5",children:"Users"}),s.jsx(QZ,{showEmployees:i,showFreelancers:a,showMyPending:l,onShowEmployeesChange:r,onShowFreelancersChange:o,onShowMyPendingChange:c})]}),s.jsx(st,{size:"4",mb:"3"}),s.jsx(X,{style:{flex:u?1:void 0,minHeight:u?0:void 0,overflowY:u?"auto":"visible"},children:s.jsx(JZ,{selectedUserId:t.kind==="user"?t.userId:null,onSelectUser:b=>n({kind:"user",userId:b}),showEmployees:i,showFreelancers:a,showMyPending:l})})]}),s.jsx(X,{className:"section-resizer",onMouseDown:b=>{b.preventDefault(),v(!0)},style:{width:"6px",height:"20%",cursor:"col-resize",backgroundColor:"var(--gray-a4)",borderRadius:"4px",flexShrink:0,alignSelf:"center",userSelect:"none",margin:"0 -4px",zIndex:10,transition:p?"none":"background-color 0.2s"},onMouseEnter:b=>{p||(b.currentTarget.style.backgroundColor="var(--gray-a6)",b.currentTarget.style.cursor="col-resize")},onMouseLeave:b=>{p||(b.currentTarget.style.backgroundColor="var(--gray-a4)")}}),s.jsxs(Rt,{size:"3",style:{display:"flex",flexDirection:"column",flex:1,height:u?"100%":void 0,maxHeight:u?"100%":void 0,overflow:u?"hidden":"visible",minWidth:"300px",minHeight:0,transition:p?"none":"flex-basis 0.1s ease-out"},children:[s.jsx(He,{size:"5",mb:"3",children:"Inspector"}),s.jsx(st,{size:"4",mb:"3"}),s.jsx(X,{style:{flex:u?1:void 0,minHeight:u?0:void 0,overflowY:u?"auto":"visible"},children:t.kind==="user"?s.jsx(_N,{userId:t.userId}):s.jsx("div",{style:{color:"var(--gray-11)"},children:"Select an employee to view details."})})]})]}):s.jsxs(Zn,{columns:"1fr",gap:"4",align:"stretch",style:{height:u?"100%":void 0,minHeight:0,flex:u?1:void 0},children:[s.jsxs(Rt,{size:"3",style:{display:"flex",flexDirection:"column",height:u?"100%":void 0,minHeight:0},children:[s.jsxs($,{align:"center",justify:"between",mb:"3",children:[s.jsx(He,{size:"5",children:"Users"}),s.jsx(QZ,{showEmployees:i,showFreelancers:a,showMyPending:l,onShowEmployeesChange:r,onShowFreelancersChange:o,onShowMyPendingChange:c})]}),s.jsx(st,{size:"4",mb:"3"}),s.jsx(X,{style:{flex:u?1:void 0,minHeight:u?0:void 0,overflowY:u?"auto":"visible"},children:s.jsx(JZ,{selectedUserId:t.kind==="user"?t.userId:null,onSelectUser:b=>n({kind:"user",userId:b}),showEmployees:i,showFreelancers:a,showMyPending:l})})]}),s.jsxs(Rt,{size:"3",style:{display:"flex",flexDirection:"column",height:u?"100%":void 0,maxHeight:u?"100%":void 0,overflow:u?"hidden":"visible",minHeight:0},children:[s.jsx(He,{size:"5",mb:"3",children:"Inspector"}),s.jsx(st,{size:"4",mb:"3"}),s.jsx(X,{style:{flex:u?1:void 0,minHeight:u?0:void 0,overflowY:u?"auto":"visible"},children:t.kind==="user"?s.jsx(_N,{userId:t.userId}):s.jsx("div",{style:{color:"var(--gray-11)"},children:"Select an employee to view details."})})]})]}):s.jsx("div",{children:"No company selected."})}function QZ({showEmployees:e,showFreelancers:t,showMyPending:n,onShowEmployeesChange:i,onShowFreelancersChange:r,onShowMyPendingChange:a}){const o=[e,t,n].filter(Boolean).length,l=o===3?"All statuses":o===0?"No statuses":`${o} selected`;return s.jsxs(Yg,{children:[s.jsx(Jg,{children:s.jsxs(pe,{variant:"soft",size:"2",children:[s.jsx(L,{children:l}),s.jsx(Za,{width:14,height:14})]})}),s.jsxs(Qg,{children:[s.jsx(Qr,{onSelect:c=>{c.preventDefault(),i(!e)},children:s.jsxs($,{align:"center",gap:"2",children:[s.jsx(fr,{checked:e,onCheckedChange:i}),s.jsx(L,{children:"Employees"})]})}),s.jsx(Qr,{onSelect:c=>{c.preventDefault(),r(!t)},children:s.jsxs($,{align:"center",gap:"2",children:[s.jsx(fr,{checked:t,onCheckedChange:r}),s.jsx(L,{children:"Freelancers"})]})}),s.jsx(Qr,{onSelect:c=>{c.preventDefault(),a(!n)},children:s.jsxs($,{align:"center",gap:"2",children:[s.jsx(fr,{checked:n,onCheckedChange:a}),s.jsx(L,{children:"Pending invites"})]})})]})]})}async function ESt(){var e;try{console.log("Fetching organizations from Conta API...");const t=await bo.get("/invoice/organizations");console.log("Organizations API response:",t);const n=Array.isArray(t)?t:[t];console.log("Processed organizations array:",n);const i=[];for(const r of n){console.log("Processing organization:",r);const a=r.id||r.opContextOrgId||r.organizationId||r.orgId||((e=r.opContext)==null?void 0:e.orgId)||null;if(a){const o=r.name||r.organizationName||r.orgName||r.displayName||void 0;i.push({id:String(a),name:o}),console.log(`Found organization: ${o||"unnamed"} (${a})`)}else console.warn("Could not extract ID from organization:",r)}return console.log(`Total organizations found: ${i.length}`),i}catch(t){throw console.error("Error fetching organizations from API:",t),t instanceof Error&&(console.error("Error message:",t.message),console.error("Error stack:",t.stack)),t}}function _St({open:e,onOpenChange:t,onConfirm:n,isDeleting:i}){return s.jsx(rn,{open:e,onOpenChange:t,children:s.jsxs(an,{maxWidth:"500px",children:[s.jsx(cn,{children:"Delete Accounting Configuration?"}),s.jsx(vr,{size:"2",children:"Are you sure you want to delete the entire accounting software configuration?"}),s.jsxs($,{direction:"column",gap:"2",mt:"4",p:"3",style:{backgroundColor:"var(--red-3)",borderRadius:"var(--radius-2)"},children:[s.jsx(L,{size:"2",weight:"medium",style:{color:"var(--red-11)"},children:" Warning"}),s.jsx(L,{size:"2",style:{color:"var(--red-11)"},children:"This action will permanently:"}),s.jsx(L,{size:"2",style:{color:"var(--red-11)"},children:" Remove the API key and all authentication credentials"}),s.jsx(L,{size:"2",style:{color:"var(--red-11)"},children:" Remove the organization selection"}),s.jsx(L,{size:"2",style:{color:"var(--red-11)"},children:" Disconnect all accounting software integrations"}),s.jsx(L,{size:"2",style:{color:"var(--red-11)"},children:" Stop automatic data synchronization"}),s.jsx(L,{size:"2",style:{color:"var(--red-11)"},mt:"2",children:"You will need to reconfigure the integration from scratch if you want to reconnect later."})]}),s.jsxs($,{gap:"3",justify:"end",mt:"4",children:[s.jsx(Dn,{children:s.jsx(pe,{type:"button",variant:"soft",disabled:i,children:"Cancel"})}),s.jsx(pe,{type:"button",variant:"solid",color:"red",disabled:i,onClick:()=>{n()},children:i?"Deleting":"Delete Configuration"})]})]})})}function ASt({open:e,onOpenChange:t,onConfirm:n,isRemoving:i}){return s.jsx(rn,{open:e,onOpenChange:t,children:s.jsxs(an,{maxWidth:"500px",children:[s.jsx(cn,{children:"Remove API Key?"}),s.jsx(vr,{size:"2",children:"Are you sure you want to remove the API key?"}),s.jsxs($,{direction:"column",gap:"2",mt:"4",p:"3",style:{backgroundColor:"var(--red-3)",borderRadius:"var(--radius-2)"},children:[s.jsx(L,{size:"2",weight:"medium",style:{color:"var(--red-11)"},children:" Warning"}),s.jsx(L,{size:"2",style:{color:"var(--red-11)"},children:"This action will:"}),s.jsx(L,{size:"2",style:{color:"var(--red-11)"},children:" Remove the API key and all authentication credentials"}),s.jsx(L,{size:"2",style:{color:"var(--red-11)"},children:" Remove the organization selection"}),s.jsx(L,{size:"2",style:{color:"var(--red-11)"},children:" Stop automatic data synchronization"}),s.jsx(L,{size:"2",style:{color:"var(--red-11)"},mt:"2",children:"You will need to enter a new API key to restore the connection."})]}),s.jsxs($,{gap:"3",justify:"end",mt:"4",children:[s.jsx(Dn,{children:s.jsx(pe,{type:"button",variant:"soft",disabled:i,children:"Cancel"})}),s.jsx(pe,{type:"button",variant:"solid",color:"red",disabled:i,onClick:()=>{n()},children:i?"Removing":"Remove API Key"})]})]})})}function RSt(){var we;const{companyId:e}=En(),t=Yt(),{success:n,error:i}=Jt(),{data:r,isLoading:a}=et({...e?UO({companyId:e}):{queryKey:["company","none","expansion"],queryFn:()=>Promise.resolve(null)},enabled:!!e}),[o,l]=g.useState(!1),[c,u]=g.useState(!1),[d,h]=g.useState(!1),[m,p]=g.useState(!1),[v,S]=g.useState(""),[b,w]=g.useState({accounting_software:"none",accounting_api_key:null,accounting_api_environment:"production",accounting_organization_id:null,accounting_api_read_only:!0}),[R,E]=g.useState(!1),_=b.accounting_api_environment??(r==null?void 0:r.accounting_api_environment)??"production",N=!!(r!=null&&r.accounting_api_key_encrypted),O=!!(r!=null&&r.accounting_api_key_sandbox_encrypted),j=_==="sandbox"?O:N,D=!!(r!=null&&r.accounting_organization_id),P=b.accounting_software==="conta"||(r==null?void 0:r.accounting_software)==="conta",B=P&&(r==null?void 0:r.accounting_software)==="conta",M=j,z=D,U=[B,M,z].filter(Boolean).length,K=B&&M&&z,te=g.useRef(!1);g.useEffect(()=>{if(!P){l(!1),u(!1);return}!te.current&&!K&&(l(!0),te.current=!0)},[P,K]),g.useEffect(()=>{K&&!c&&l(!1)},[K,c]);const{data:q,isLoading:V,error:Q,refetch:ce}=et({queryKey:["conta","organizations",e,_],queryFn:ESt,enabled:P&&j,staleTime:300*1e3,retry:1}),{data:ae,isLoading:G,error:H,refetch:T}=et({queryKey:["conta","health",e,_],queryFn:async()=>(await bo.get("/invoice/ping"),!0),enabled:P&&j,staleTime:60*1e3,retry:0});g.useEffect(()=>{r?(w({accounting_software:r.accounting_software==="conta"?"conta":"none",accounting_api_key:null,accounting_api_environment:r.accounting_api_environment??"production",accounting_organization_id:r.accounting_organization_id||null,accounting_api_read_only:r.accounting_api_read_only}),E(!1)):(w({accounting_software:"none",accounting_api_key:null,accounting_api_environment:"production",accounting_organization_id:null,accounting_api_read_only:!0}),E(!1))},[r]);const Y=bt({mutationFn:async le=>{if(!e)throw new Error("No company selected");if(!b.accounting_software||b.accounting_software==="none")throw new Error("Please select an accounting software first");return Sd(_==="sandbox"?{companyId:e,accountingSoftware:b.accounting_software,sandboxApiKey:le,apiEnvironment:_,organizationId:b.accounting_organization_id||void 0,readOnly:b.accounting_api_read_only}:{companyId:e,accountingSoftware:b.accounting_software,apiKey:le,apiEnvironment:_,organizationId:b.accounting_organization_id||void 0,readOnly:b.accounting_api_read_only})},onSuccess:()=>{t.invalidateQueries({queryKey:["company",e,"expansion"]}),t.invalidateQueries({queryKey:["conta","organizations",e]}),n("API Key Saved","API key has been securely saved and encrypted."),S(""),setTimeout(()=>{ce()},500)},onError:le=>{i("Failed to save API key",(le==null?void 0:le.message)??"Please check your API key and try again.")}}),ie=bt({mutationFn:async le=>{if(!e)throw new Error("No company selected");if(!P)throw new Error("Please select Conta as your accounting software");if(!j)throw new Error("Please configure your API key first");return Sd({companyId:e,accountingSoftware:void 0,apiKey:void 0,organizationId:le||null,readOnly:void 0})},onSuccess:()=>{t.invalidateQueries({queryKey:["company",e,"expansion"]}),t.invalidateQueries({queryKey:["conta","income-expenses",e],exact:!1}),n("Organization Confirmed","Your organization has been set up successfully. Dashboard data will update shortly.")},onError:le=>{i("Failed to confirm organization",(le==null?void 0:le.message)??"Please try again.")}}),ne=bt({mutationFn:async()=>{if(!e)throw new Error("No company selected");return Sd(_==="sandbox"?{companyId:e,accountingSoftware:void 0,sandboxApiKey:null,apiEnvironment:_,organizationId:null,readOnly:void 0}:{companyId:e,accountingSoftware:void 0,apiKey:null,apiEnvironment:_,organizationId:null,readOnly:void 0})},onSuccess:()=>{t.invalidateQueries({queryKey:["company",e,"expansion"]}),t.invalidateQueries({queryKey:["conta","organizations",e]}),t.invalidateQueries({queryKey:["conta","income-expenses",e],exact:!1}),n("API Key Removed","API key has been securely removed from the database."),S(""),w(le=>({...le,accounting_organization_id:null})),p(!1)},onError:le=>{i("Failed to remove API key",(le==null?void 0:le.message)??"Please try again.")}}),J=bt({mutationFn:async()=>{if(!e)throw new Error("No company selected");return Sd({companyId:e,accountingSoftware:"none",apiKey:null,sandboxApiKey:null,organizationId:null,readOnly:!0})},onSuccess:()=>{t.invalidateQueries({queryKey:["company",e,"expansion"]}),t.invalidateQueries({queryKey:["conta","organizations",e]}),t.invalidateQueries({queryKey:["conta","income-expenses",e],exact:!1}),n("Configuration Deleted","Accounting software configuration has been completely removed."),S(""),u(!1),l(!1),h(!1)},onError:le=>{i("Failed to delete configuration",(le==null?void 0:le.message)??"Please try again.")}}),ee=bt({mutationFn:async le=>{if(!e)throw new Error("No company selected");return Sd({companyId:e,accountingSoftware:void 0,apiKey:void 0,organizationId:void 0,readOnly:le})},onSuccess:()=>{t.invalidateQueries({queryKey:["company",e,"expansion"]}),n("Permissions Updated","API permissions have been updated."),E(!1)},onError:le=>{i("Failed to update permissions",(le==null?void 0:le.message)??"Please try again.")}}),se=()=>{e&&(w(r?{accounting_software:r.accounting_software==="conta"?"conta":"none",accounting_api_key:null,accounting_api_environment:r.accounting_api_environment??"production",accounting_organization_id:r.accounting_organization_id||null,accounting_api_read_only:r.accounting_api_read_only}:{accounting_software:"none",accounting_api_key:null,accounting_api_environment:"production",accounting_organization_id:null,accounting_api_read_only:!0}),l(!1),u(!1),S(""),E(!1))},de=le=>{le==="none"?(w(ue=>({...ue,accounting_software:"none"})),l(!1),Sd({companyId:e,accountingSoftware:"none",apiKey:void 0,organizationId:void 0,readOnly:void 0}).then(()=>{t.invalidateQueries({queryKey:["company",e,"expansion"]}),n("Software Selection Updated","Accounting software has been set to None.")}).catch(ue=>{i("Failed to save selection",(ue==null?void 0:ue.message)??"Please try again.")})):(w(ue=>({...ue,accounting_software:le})),l(!0),Sd({companyId:e,accountingSoftware:le,apiKey:void 0,organizationId:void 0,readOnly:void 0}).then(()=>{t.invalidateQueries({queryKey:["company",e,"expansion"]}),n("Software Selected","Accounting software has been selected.")}).catch(ue=>{i("Failed to save selection",(ue==null?void 0:ue.message)??"Please try again.")}))},he=le=>{w(ue=>({...ue,accounting_api_environment:le}))};if(a)return s.jsx(X,{p:"4",children:s.jsx(L,{children:"Loading"})});const me=()=>K?s.jsx(mt,{color:"green",variant:"soft",children:"Configured"}):o||P?s.jsxs(mt,{color:"amber",variant:"soft",children:[U,"/3 Steps"]}):s.jsx(mt,{color:"red",variant:"soft",children:"Not Configured"});return s.jsxs(Rt,{size:"4",style:{height:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},children:[s.jsxs(X,{p:"4",style:{flex:1,minHeight:0,display:"flex",flexDirection:"column",overflow:"hidden"},children:[s.jsxs(X,{mb:"4",style:{flexShrink:0},children:[s.jsx(He,{size:"4",mb:"4",children:"Expansions"}),s.jsx(L,{as:"div",size:"2",color:"gray",mb:"4",children:"Configure integrations and external services for your company."}),s.jsx(st,{size:"4",mb:"4"})]}),s.jsx(X,{style:{flex:1,minHeight:0,overflowY:"auto",overflowX:"hidden"},children:s.jsxs(X,{mb:"6",children:[s.jsxs($,{align:"center",justify:"between",gap:"3",mb:"3",children:[s.jsxs($,{align:"center",gap:"3",children:[s.jsx(He,{size:"3",children:"Accounting Software"}),me()]}),(o||c)&&s.jsx(pe,{variant:"outline",color:"red",size:"2",onClick:se,children:"Cancel Config"})]}),s.jsx(L,{as:"div",size:"2",color:"gray",mb:"4",children:"Connect your accounting software to sync data automatically."}),!o&&!P&&!c&&s.jsx($,{direction:"column",gap:"4",style:{maxWidth:520},children:s.jsxs(X,{style:{padding:16,background:"var(--gray-a2)",borderRadius:6,border:"1px solid var(--gray-a6)"},children:[s.jsx(L,{as:"div",size:"2",color:"gray",mb:"3",children:"No accounting software is configured for this company."}),s.jsx(pe,{onClick:()=>l(!0),size:"2",children:"Configure"})]})}),K&&!c&&!o&&s.jsx($,{direction:"column",gap:"4",style:{maxWidth:520},children:s.jsx(X,{style:{padding:16,background:"var(--gray-a2)",borderRadius:6,border:"1px solid var(--gray-a6)"},children:s.jsxs($,{direction:"column",gap:"3",children:[s.jsxs(L,{as:"div",size:"2",weight:"medium",children:["Accounting software:"," ",XZ(r.accounting_software)]}),s.jsx(L,{as:"div",size:"2",color:"gray",children:"API key:  (configured)"}),s.jsxs(L,{as:"div",size:"2",color:"gray",children:["Environment:"," ",_==="sandbox"?"Sandbox":"Production"]}),r.accounting_organization_id&&s.jsxs(L,{as:"div",size:"2",color:"gray",children:["Organization:"," ",((we=q==null?void 0:q.find(le=>le.id===r.accounting_organization_id))==null?void 0:we.name)||r.accounting_organization_id]}),s.jsxs(L,{as:"div",size:"2",color:"gray",children:["Permissions:"," ",r.accounting_api_read_only?"Read-only":"Full access"]}),s.jsxs($,{gap:"2",mt:"2",children:[s.jsx(pe,{onClick:()=>u(!0),size:"2",children:"Edit"}),s.jsx(pe,{variant:"soft",color:"red",onClick:()=>h(!0),disabled:J.isPending,size:"2",children:J.isPending?"Deleting...":"Delete Configuration"})]})]})})}),(o||c)&&s.jsxs($,{direction:"column",gap:"6",children:[s.jsx(P_,{label:"Accounting Software",children:s.jsxs(Vn,{value:b.accounting_software??"none",onValueChange:le=>de(le),children:[s.jsx(Kn,{placeholder:"Select accounting software"}),s.jsxs(Gn,{children:[s.jsx(wt,{value:"none",children:"None"}),s.jsx(wt,{value:"conta",children:"Conta"})]})]})}),b.accounting_software&&b.accounting_software!=="none"&&s.jsxs(X,{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:24},children:[s.jsx(P_,{label:"API Key",children:s.jsxs($,{direction:"column",gap:"2",children:[s.jsxs(Xa,{value:_,onValueChange:le=>he(le),size:"1",children:[s.jsx(wi,{value:"production",children:"Production"}),s.jsx(wi,{value:"sandbox",children:"Sandbox"})]}),s.jsx(qe,{type:"password",value:v,onChange:le=>S(le.target.value),placeholder:M?`Enter new ${_} API key to update...`:`Enter ${_} API key...`,disabled:Y.isPending,children:s.jsx(Sr,{side:"right",children:s.jsx(ju,{content:`Enter your API key for ${XZ(b.accounting_software)}`,delayDuration:300,children:s.jsx(Mn,{size:"1",variant:"ghost",color:"gray",style:{cursor:"help"},children:s.jsx(K2,{width:14,height:14})})})})}),s.jsxs($,{align:"center",gap:"2",mt:"1",wrap:"wrap",children:[M&&s.jsxs(s.Fragment,{children:[s.jsx(mt,{color:"green",variant:"soft",size:"1",children:"Configured"}),s.jsx(mt,{color:"blue",variant:"soft",size:"1",children:_==="sandbox"?"Sandbox key":"Production key"}),s.jsxs(pe,{size:"1",variant:"soft",color:"red",onClick:()=>p(!0),disabled:ne.isPending,children:[s.jsx(vi,{width:12,height:12}),"Remove"]})]}),v.trim()&&s.jsx(pe,{size:"2",onClick:()=>{v.trim()&&Y.mutate(v.trim())},disabled:Y.isPending,children:Y.isPending?"Saving...":M?"Update API Key":"Save API Key"})]}),s.jsx(X,{mt:"2",style:{padding:12,background:"var(--gray-a2)",borderRadius:6,border:"1px solid var(--gray-a6)"},children:s.jsxs($,{align:"center",justify:"between",gap:"3",children:[s.jsxs($,{direction:"column",gap:"1",children:[s.jsx(L,{size:"2",weight:"medium",children:"Health Check"}),j?G?s.jsx(L,{size:"1",color:"gray",children:"Checking connectivity..."}):ae?s.jsxs(L,{size:"1",color:"gray",children:["API responded OK for ",_,"."]}):s.jsx(L,{size:"1",color:"red",children:H instanceof Error?H.message:"Health check failed."}):s.jsxs(L,{size:"1",color:"gray",children:["Add a ",_," API key to run the check."]})]}),s.jsxs($,{direction:"column",align:"end",gap:"2",children:[s.jsx(mt,{color:!j||G?"gray":ae?"green":"red",variant:"soft",size:"1",children:!j||G?"Pending":ae?"Healthy":"Failed"}),s.jsx(pe,{size:"1",variant:"soft",onClick:()=>T(),disabled:!j||G,children:"Check now"})]})]})})]})}),s.jsx(P_,{label:"Organization",children:M?V?s.jsx(L,{size:"2",color:"gray",children:"Loading organizations..."}):Q?s.jsx(X,{style:{padding:12,background:"var(--red-2)",borderRadius:6},children:s.jsxs($,{direction:"column",gap:"1",children:[s.jsx(L,{size:"2",color:"red",weight:"medium",children:"Error loading organizations"}),s.jsx(L,{size:"1",color:"red",children:Q instanceof Error?Q.message:"Failed to fetch organizations from API"})]})}):q&&q.length>0?s.jsxs($,{direction:"column",gap:"2",children:[s.jsxs(Vn,{value:b.accounting_organization_id??"",onValueChange:le=>w(ue=>({...ue,accounting_organization_id:le||null})),children:[s.jsx(Kn,{placeholder:"Select organization"}),s.jsx(Gn,{children:q.map(le=>s.jsx(wt,{value:le.id,children:le.name||le.id},le.id))})]}),b.accounting_organization_id&&(b.accounting_organization_id!==r.accounting_organization_id||!z)&&s.jsx(pe,{size:"2",onClick:()=>{ie.mutate(b.accounting_organization_id||null)},disabled:ie.isPending||!b.accounting_organization_id,children:ie.isPending?"Saving...":z?"Update Organization":"Confirm Organization"})]}):s.jsxs(X,{style:{padding:12,background:"var(--orange-2)",borderRadius:6},children:[s.jsx(L,{size:"2",color:"orange",weight:"medium",mb:"1",children:"No organizations found"}),s.jsx(L,{size:"1",color:"orange",children:"Could not fetch organizations from API. Please check your API key."})]}):s.jsx(X,{style:{padding:12,background:"var(--gray-a2)",borderRadius:6},children:s.jsx(L,{size:"1",color:"gray",children:"Configure your API key first to select an organization."})})}),s.jsx(P_,{label:"API Permissions",children:s.jsx($,{direction:"column",gap:"3",children:s.jsxs($,{align:"center",justify:"between",gap:"4",children:[s.jsxs($,{direction:"column",gap:"1",style:{flex:1},children:[s.jsx(L,{size:"2",weight:"medium",children:"Read-Only Mode"}),s.jsx(L,{size:"1",color:"gray",children:b.accounting_api_read_only?"Only read operations (GET) are allowed":"All operations (GET, POST, PUT, DELETE) are allowed"})]}),s.jsx(Ro,{checked:b.accounting_api_read_only??!0,onCheckedChange:le=>{w(ue=>({...ue,accounting_api_read_only:le})),E(!0)},disabled:ee.isPending})]})})})]}),s.jsx(X,{style:{padding:12,background:"var(--blue-2)",borderRadius:6,border:"1px solid var(--blue-6)"},children:s.jsxs(L,{as:"div",size:"1",color:"blue",children:[s.jsx("strong",{children:"Security:"})," API keys are stored securely and encrypted. They are never displayed once saved. Make sure you have the correct permissions to generate API keys from your accounting software."]})}),(c||o)&&s.jsxs($,{justify:"end",gap:"3",pt:"4",style:{borderTop:"1px solid var(--gray-a6)"},children:[s.jsx(pe,{variant:"soft",onClick:se,children:"Cancel"}),s.jsx(pe,{onClick:async()=>{try{const le=(r==null?void 0:r.accounting_api_environment)??"production";v.trim()&&await Y.mutateAsync(v.trim()),_!==le&&(await Sd({companyId:e,accountingSoftware:void 0,apiEnvironment:_,apiKey:void 0,sandboxApiKey:void 0,organizationId:void 0,readOnly:void 0}),t.invalidateQueries({queryKey:["company",e,"expansion"]}),t.invalidateQueries({queryKey:["conta","organizations",e]})),b.accounting_organization_id!==void 0&&b.accounting_organization_id!==(r==null?void 0:r.accounting_organization_id)&&await ie.mutateAsync(b.accounting_organization_id||null),R&&await ee.mutateAsync(b.accounting_api_read_only??!0),l(!1),u(!1),S(""),E(!1)}catch{}},disabled:Y.isPending||ie.isPending||ee.isPending||!v.trim()&&!R&&b.accounting_organization_id===(r==null?void 0:r.accounting_organization_id)&&_===((r==null?void 0:r.accounting_api_environment)??"production"),children:Y.isPending||ie.isPending||ee.isPending?"Saving...":"Save Changes"})]})]})]})})]}),s.jsx(_St,{open:d,onOpenChange:h,onConfirm:()=>{J.mutate()},isDeleting:J.isPending}),s.jsx(ASt,{open:m,onOpenChange:p,onConfirm:()=>{ne.mutate()},isRemoving:ne.isPending})]})}function P_({label:e,children:t}){return s.jsxs(X,{children:[typeof e=="string"?s.jsx(L,{as:"div",size:"2",color:"gray",mb:"1",children:e}):s.jsx(X,{mb:"1",children:e}),s.jsx(X,{style:{width:"100%"},children:t})]})}function XZ(e){return{none:"None",conta:"Conta"}[e]||"Unknown"}const NSt=[{value:"blue",label:"Blue"},{value:"green",label:"Green"},{value:"purple",label:"Purple"},{value:"violet",label:"Violet"},{value:"red",label:"Red"},{value:"orange",label:"Orange"},{value:"amber",label:"Amber"},{value:"yellow",label:"Yellow"},{value:"pink",label:"Pink"},{value:"iris",label:"Iris"},{value:"indigo",label:"Indigo"},{value:"cyan",label:"Cyan"},{value:"teal",label:"Teal"},{value:"jade",label:"Jade"},{value:"grass",label:"Grass"},{value:"mint",label:"Mint"},{value:"lime",label:"Lime"},{value:"sky",label:"Sky"},{value:"tomato",label:"Tomato"},{value:"ruby",label:"Ruby"},{value:"plum",label:"Plum"},{value:"gold",label:"Gold"},{value:"bronze",label:"Bronze"},{value:"brown",label:"Brown"},{value:"gray",label:"Gray"}];function OSt({value:e,onChange:t}){return s.jsxs(X,{children:[s.jsx(L,{as:"div",size:"2",weight:"bold",mb:"2",children:"Accent color"}),s.jsx(Zn,{columns:"6",gap:"1.5",style:{maxWidth:"100%"},children:NSt.map(n=>{const i=e===n.value;return s.jsx(jSt,{color:n.value,label:n.label,isSelected:i,onClick:()=>t(n.value)},n.value)})})]})}function jSt({color:e,label:t,isSelected:n,onClick:i}){const r={blue:"#3e63dd",green:"#30a46c",purple:"#8e4ec6",violet:"#6e56cf",red:"#e5484d",orange:"#f76808",amber:"#f59e0b",yellow:"#f5d90a",pink:"#d6409f",iris:"#5b5bd6",indigo:"#3451b2",cyan:"#0891b2",teal:"#12a594",jade:"#00a972",grass:"#46a758",mint:"#00c897",lime:"#65a30d",sky:"#0284c7",tomato:"#f23d3d",ruby:"#e54666",plum:"#ab4aba",gold:"#f7c948",bronze:"#cd7f32",brown:"#ad7f58",gray:"#6f6e77"},a=r[e]||r.blue;return s.jsxs($,{direction:"column",align:"center",gap:"0.5",children:[s.jsx("button",{type:"button",onClick:i,style:{width:32,height:32,borderRadius:6,background:a,border:n?"2px solid var(--gray-12)":"1px solid var(--gray-a6)",cursor:"pointer",transition:"all 0.2s",boxShadow:n?"0 0 0 1px var(--gray-a3)":"0 1px 2px rgba(0, 0, 0, 0.1)",outline:"none"},"aria-label":`Select ${t} color`,title:t}),s.jsx(L,{size:"1",color:n?void 0:"gray",style:{fontSize:"10px"},children:t})]})}const DSt=[{value:"none",label:"None"},{value:"small",label:"Small"},{value:"medium",label:"Medium"},{value:"large",label:"Large"},{value:"full",label:"Full"}];function CSt({value:e,onChange:t}){return s.jsxs(X,{children:[s.jsx(L,{as:"div",size:"2",weight:"bold",mb:"2",children:"Radius"}),s.jsx(Zn,{columns:"5",gap:"1.5",style:{maxWidth:"100%"},children:DSt.map(n=>{const i=e===n.value;return s.jsx(LSt,{value:n.value,label:n.label,isSelected:i,onClick:()=>t(n.value)},n.value)})})]})}function LSt({value:e,label:t,isSelected:n,onClick:i}){const a={none:0,small:4,medium:8,large:12,full:999}[e];return s.jsxs($,{direction:"column",align:"center",gap:"0.5",children:[s.jsx("button",{type:"button",onClick:i,style:{width:40,height:40,borderRadius:a,background:"var(--gray-a3)",border:n?"2px solid var(--gray-12)":"1px solid var(--gray-a6)",cursor:"pointer",transition:"all 0.2s",boxShadow:n?"0 0 0 1px var(--gray-a3)":"0 1px 2px rgba(0, 0, 0, 0.1)",outline:"none"},"aria-label":`Select ${t} radius`,title:t}),s.jsx(L,{size:"1",color:n?void 0:"gray",style:{fontSize:"10px"},children:t})]})}const TSt=[{value:"gray",label:"Gray"},{value:"mauve",label:"Mauve"},{value:"slate",label:"Slate"},{value:"sage",label:"Sage"},{value:"olive",label:"Olive"},{value:"sand",label:"Sand"}];function MSt({value:e,onChange:t}){return s.jsxs(X,{children:[s.jsx(L,{as:"div",size:"2",weight:"bold",mb:"2",children:"Gray color"}),s.jsx(Zn,{columns:"6",gap:"1.5",style:{maxWidth:"100%"},children:TSt.map(n=>{const i=e===n.value;return s.jsx(ISt,{color:n.value,label:n.label,isSelected:i,onClick:()=>t(n.value)},n.value)})})]})}function ISt({color:e,label:t,isSelected:n,onClick:i}){const r={gray:"#6f6e77",mauve:"#8e8c99",slate:"#637394",sage:"#738573",olive:"#7d7d6f",sand:"#9e8f86"},a=r[e]||r.gray;return s.jsxs($,{direction:"column",align:"center",gap:"0.5",children:[s.jsx("button",{type:"button",onClick:i,style:{width:32,height:32,borderRadius:6,background:a,border:n?"2px solid var(--gray-12)":"1px solid var(--gray-a6)",cursor:"pointer",transition:"all 0.2s",boxShadow:n?"0 0 0 1px var(--gray-a3)":"0 1px 2px rgba(0, 0, 0, 0.1)",outline:"none"},"aria-label":`Select ${t} gray color`,title:t}),s.jsx(L,{size:"1",color:n?void 0:"gray",style:{fontSize:"10px"},children:t})]})}const PSt=[{value:"solid",label:"Solid",description:"Opaque backgrounds"},{value:"translucent",label:"Translucent",description:"Semi-transparent backgrounds"}];function kSt({value:e,onChange:t}){return s.jsxs(X,{children:[s.jsx(L,{as:"div",size:"2",weight:"bold",mb:"2",children:"Panel background"}),s.jsx(Zn,{columns:"2",gap:"2",style:{maxWidth:"100%"},children:PSt.map(n=>{const i=e===n.value;return s.jsx($St,{value:n.value,label:n.label,description:n.description,isSelected:i,onClick:()=>t(n.value)},n.value)})})]})}function $St({value:e,label:t,description:n,isSelected:i,onClick:r}){const a=e==="translucent";return s.jsx("button",{type:"button",onClick:r,style:{padding:"10px 12px",borderRadius:6,background:a?"rgba(128, 128, 128, 0.5)":"var(--gray-a3)",border:i?"2px solid var(--gray-12)":"1px solid var(--gray-a6)",cursor:"pointer",transition:"all 0.2s",boxShadow:i?"0 0 0 1px var(--gray-a3)":"0 1px 2px rgba(0, 0, 0, 0.1)",outline:"none",textAlign:"left",width:"100%"},"aria-label":`Select ${t} panel background`,title:t,children:s.jsxs($,{direction:"column",gap:"0.5",align:"start",children:[s.jsx(L,{size:"2",weight:"medium",children:t}),s.jsx(L,{size:"1",color:"gray",style:{fontSize:"10px"},children:n})]})})}const FSt=[{value:"90%",label:"90%"},{value:"95%",label:"95%"},{value:"100%",label:"100%"},{value:"105%",label:"105%"},{value:"110%",label:"110%"}];function BSt({value:e,onChange:t}){return s.jsxs(X,{children:[s.jsx(L,{as:"div",size:"2",weight:"bold",mb:"2",children:"Scaling"}),s.jsx(Zn,{columns:"5",gap:"1.5",style:{maxWidth:"100%"},children:FSt.map(n=>{const i=e===n.value;return s.jsx(zSt,{value:n.value,label:n.label,isSelected:i,onClick:()=>t(n.value)},n.value)})})]})}function zSt({value:e,label:t,isSelected:n,onClick:i}){const r=parseFloat(e)/100;return s.jsxs($,{direction:"column",align:"center",gap:"0.5",children:[s.jsx("button",{type:"button",onClick:i,style:{width:`${32*r}px`,height:`${32*r}px`,borderRadius:6,background:"var(--gray-a3)",border:n?"2px solid var(--gray-12)":"1px solid var(--gray-a6)",cursor:"pointer",transition:"all 0.2s",boxShadow:n?"0 0 0 1px var(--gray-a3)":"0 1px 2px rgba(0, 0, 0, 0.1)",outline:"none",display:"flex",alignItems:"center",justifyContent:"center"},"aria-label":`Select ${t} scaling`,title:t,children:s.jsx("div",{style:{width:`${16*r}px`,height:`${16*r}px`,borderRadius:3,background:"var(--gray-9)"}})}),s.jsx(L,{size:"1",color:n?void 0:"gray",style:{fontSize:"10px"},children:t})]})}function USt({accentColor:e,radius:t,grayColor:n,panelBackground:i,scaling:r}){const[a,o]=g.useState(!0),[l,c]=g.useState(!0),[u,d]=g.useState("option1"),[h,m]=g.useState("option1"),[p,v]=g.useState("tab1"),[S,b]=g.useState("option1"),[w,R]=g.useState(!1),[E,_]=g.useState(!1),N=parseFloat(r)/100;return s.jsxs(X,{style:{height:"100%",display:"flex",flexDirection:"column",minHeight:0},children:[s.jsxs($,{align:"center",gap:"2",mb:"2",children:[s.jsx(He,{size:"3",children:"Preview"}),s.jsx(mt,{size:"1",color:"blue",variant:"soft",children:"Live"})]}),s.jsx(L,{as:"div",size:"1",color:"gray",mb:"3",style:{fontSize:"11px"},children:"Real-time preview of your theme"}),s.jsx(Rt,{style:{border:"2px dashed var(--gray-a6)",background:"var(--gray-a1)",flex:1,minHeight:0,display:"flex",flexDirection:"column"},children:s.jsxs(X,{p:"3",style:{flex:1,minHeight:0,overflow:"auto"},children:[s.jsx(L,{size:"1",color:"gray",mb:"2",style:{fontStyle:"italic",fontSize:"10px"},children:"Preview Area"}),s.jsx(st,{mb:"3"}),s.jsx("div",{style:{transform:`scale(${Math.min(N,.85)})`,transformOrigin:"top left",width:`${100/Math.min(N,.85)}%`},children:s.jsx(Xd,{accentColor:e,radius:t,grayColor:n,panelBackground:i,scaling:"100%",children:s.jsxs($,{direction:"column",gap:"4",children:[s.jsx(Rt,{children:s.jsxs($,{direction:"column",gap:"3",p:"3",children:[s.jsx(He,{size:"4",children:"Typography"}),s.jsxs($,{direction:"column",gap:"1",children:[s.jsx(He,{size:"6",children:"Heading 6"}),s.jsx(He,{size:"5",children:"Heading 5"}),s.jsx(He,{size:"4",children:"Heading 4"}),s.jsx(He,{size:"3",children:"Heading 3"}),s.jsx(L,{size:"3",weight:"bold",children:"Bold Text"}),s.jsx(L,{size:"2",children:"Regular Text"}),s.jsx(L,{size:"1",color:"gray",children:"Gray Text"})]})]})}),s.jsx(Rt,{children:s.jsxs($,{direction:"column",gap:"3",p:"3",children:[s.jsx(He,{size:"4",children:"Buttons"}),s.jsxs($,{gap:"2",wrap:"wrap",children:[s.jsx(pe,{color:e,children:"Primary"}),s.jsx(pe,{variant:"soft",color:e,children:"Soft"}),s.jsx(pe,{variant:"outline",color:e,children:"Outline"}),s.jsx(pe,{variant:"ghost",color:e,children:"Ghost"}),s.jsx(pe,{color:e,size:"1",children:"Small"}),s.jsx(pe,{color:e,size:"3",children:"Large"}),s.jsx(Mn,{color:e,children:s.jsx(Ic,{})})]})]})}),s.jsx(Rt,{children:s.jsxs($,{direction:"column",gap:"3",p:"3",children:[s.jsx(He,{size:"4",children:"Badges"}),s.jsxs($,{gap:"2",wrap:"wrap",align:"center",children:[s.jsx(mt,{color:e,children:"Default"}),s.jsx(mt,{color:e,variant:"soft",children:"Soft"}),s.jsx(mt,{color:e,variant:"outline",children:"Outline"}),s.jsx(mt,{color:"green",children:"Success"}),s.jsx(mt,{color:"red",children:"Error"}),s.jsx(mt,{color:"yellow",children:"Warning"})]})]})}),s.jsx(Rt,{children:s.jsxs($,{direction:"column",gap:"3",p:"3",children:[s.jsx(He,{size:"4",children:"Form Controls"}),s.jsxs($,{direction:"column",gap:"3",children:[s.jsx(qe,{placeholder:"Text input field"}),s.jsx(qe,{placeholder:"With color",color:e}),s.jsxs(Vn,{value:h,onValueChange:m,children:[s.jsx(Kn,{}),s.jsxs(Gn,{children:[s.jsx(wt,{value:"option1",children:"Option 1"}),s.jsx(wt,{value:"option2",children:"Option 2"}),s.jsx(wt,{value:"option3",children:"Option 3"})]})]}),s.jsxs($,{gap:"3",align:"center",children:[s.jsx(Ro,{checked:a,onCheckedChange:O=>o(O===!0),color:e}),s.jsx(L,{size:"2",children:"Toggle switch"})]}),s.jsxs($,{gap:"3",align:"center",children:[s.jsx(fr,{checked:l,onCheckedChange:O=>c(O===!0),color:e}),s.jsx(L,{size:"2",children:"Checkbox option"})]}),s.jsx(_O,{value:u,onValueChange:d,children:s.jsxs($,{direction:"column",gap:"2",children:[s.jsx(L,{size:"2",weight:"medium",children:"Radio Group"}),s.jsx(L,{as:"label",size:"2",children:s.jsxs($,{align:"center",gap:"2",children:[s.jsx(rm,{value:"option1"}),s.jsx(L,{children:"Option 1"})]})}),s.jsx(L,{as:"label",size:"2",children:s.jsxs($,{align:"center",gap:"2",children:[s.jsx(rm,{value:"option2"}),s.jsx(L,{children:"Option 2"})]})})]})})]})]})}),s.jsx(Rt,{children:s.jsxs($,{direction:"column",gap:"3",p:"3",children:[s.jsx(He,{size:"4",children:"Tabs"}),s.jsxs(Ud,{value:p,onValueChange:v,children:[s.jsxs(Vd,{children:[s.jsx(ii,{value:"tab1",children:"Tab 1"}),s.jsx(ii,{value:"tab2",children:"Tab 2"}),s.jsx(ii,{value:"tab3",children:"Tab 3"})]}),s.jsxs(X,{pt:"3",children:[s.jsx(ri,{value:"tab1",children:s.jsx(L,{size:"2",children:"Content for Tab 1"})}),s.jsx(ri,{value:"tab2",children:s.jsx(L,{size:"2",children:"Content for Tab 2"})}),s.jsx(ri,{value:"tab3",children:s.jsx(L,{size:"2",children:"Content for Tab 3"})})]})]})]})}),s.jsx(Rt,{children:s.jsxs($,{direction:"column",gap:"3",p:"3",children:[s.jsx(He,{size:"4",children:"Alerts"}),s.jsxs($,{direction:"column",gap:"2",children:[s.jsxs(q_,{color:e,children:[s.jsx(W_,{children:s.jsx(K2,{})}),s.jsx(Y_,{children:"This is an informational callout"})]}),s.jsxs(q_,{color:"green",children:[s.jsx(W_,{children:s.jsx(Ic,{})}),s.jsx(Y_,{children:"Success message"})]}),s.jsxs(q_,{color:"yellow",children:[s.jsx(W_,{children:s.jsx(loe,{})}),s.jsx(Y_,{children:"Warning message"})]})]})]})}),s.jsx(Rt,{children:s.jsxs($,{direction:"column",gap:"3",p:"3",children:[s.jsx(He,{size:"4",children:"Table"}),s.jsxs(Hn,{children:[s.jsx(Qn,{children:s.jsxs(ht,{children:[s.jsx(ze,{children:"Name"}),s.jsx(ze,{children:"Status"}),s.jsx(ze,{children:"Action"})]})}),s.jsxs(qn,{children:[s.jsxs(ht,{children:[s.jsx(r6,{children:"Item 1"}),s.jsx(Oe,{children:s.jsx(mt,{color:e,children:"Active"})}),s.jsx(Oe,{children:s.jsx(pe,{size:"1",variant:"soft",children:"Edit"})})]}),s.jsxs(ht,{children:[s.jsx(r6,{children:"Item 2"}),s.jsx(Oe,{children:s.jsx(mt,{color:"gray",children:"Inactive"})}),s.jsx(Oe,{children:s.jsx(pe,{size:"1",variant:"soft",children:"Edit"})})]})]})]})]})}),s.jsx(Rt,{children:s.jsxs($,{direction:"column",gap:"3",p:"3",children:[s.jsx(He,{size:"4",children:"Text Area"}),s.jsx(Ci,{placeholder:"Multi-line text input...",rows:3}),s.jsx(Ci,{placeholder:"With color",rows:2,color:e})]})}),s.jsx(Rt,{children:s.jsxs($,{direction:"column",gap:"3",p:"3",children:[s.jsx(He,{size:"4",children:"Segmented Control"}),s.jsxs(Xa,{value:S,onValueChange:b,children:[s.jsx(wi,{value:"option1",children:"Option 1"}),s.jsx(wi,{value:"option2",children:"Option 2"}),s.jsx(wi,{value:"option3",children:"Option 3"})]})]})}),s.jsx(Rt,{children:s.jsxs($,{direction:"column",gap:"3",p:"3",children:[s.jsx(He,{size:"4",children:"Grid Layout"}),s.jsxs(Zn,{columns:"3",gap:"2",children:[s.jsx(X,{p:"2",style:{background:"var(--gray-a2)",borderRadius:"var(--radius-2)"},children:s.jsx(L,{size:"1",children:"Grid Item 1"})}),s.jsx(X,{p:"2",style:{background:"var(--gray-a2)",borderRadius:"var(--radius-2)"},children:s.jsx(L,{size:"1",children:"Grid Item 2"})}),s.jsx(X,{p:"2",style:{background:"var(--gray-a2)",borderRadius:"var(--radius-2)"},children:s.jsx(L,{size:"1",children:"Grid Item 3"})})]})]})}),s.jsx(Rt,{children:s.jsxs($,{direction:"column",gap:"3",p:"3",children:[s.jsx(He,{size:"4",children:"Avatars"}),s.jsxs($,{gap:"2",align:"center",wrap:"wrap",children:[s.jsx(Xr,{src:"",fallback:"JD",size:"1",color:e}),s.jsx(Xr,{src:"",fallback:"AB",size:"2",color:e}),s.jsx(Xr,{src:"",fallback:"CD",size:"3",color:e}),s.jsx(Xr,{src:"",fallback:"EF",size:"4",color:e}),s.jsx(Xr,{src:"",fallback:"GH",size:"5",color:e})]})]})}),s.jsx(Rt,{children:s.jsxs($,{direction:"column",gap:"3",p:"3",children:[s.jsx(He,{size:"4",children:"Dropdown Menu"}),s.jsxs(Yg,{children:[s.jsx(Jg,{children:s.jsxs(pe,{variant:"soft",color:e,children:["Menu",s.jsx(Za,{})]})}),s.jsxs(Qg,{children:[s.jsx(Qr,{children:"Edit"}),s.jsx(Qr,{children:"Duplicate"}),s.jsx(Ag,{}),s.jsx(Qr,{color:"red",children:"Delete"})]})]})]})}),s.jsx(Rt,{children:s.jsxs($,{direction:"column",gap:"3",p:"3",children:[s.jsx(He,{size:"4",children:"Dialog"}),s.jsxs(rn,{open:w,onOpenChange:R,children:[s.jsx(U2,{children:s.jsx(pe,{variant:"outline",color:e,children:"Open Dialog"})}),s.jsxs(an,{style:{maxWidth:450},children:[s.jsx(cn,{children:"Dialog Example"}),s.jsx(vr,{size:"2",mb:"4",children:"This is a sample dialog showing your theme settings."}),s.jsxs($,{direction:"column",gap:"3",children:[s.jsx(qe,{placeholder:"Name"}),s.jsx(Ci,{placeholder:"Description",rows:3})]}),s.jsxs($,{gap:"3",mt:"4",justify:"end",children:[s.jsx(Dn,{children:s.jsx(pe,{variant:"soft",color:"gray",children:"Cancel"})}),s.jsx(Dn,{children:s.jsx(pe,{color:e,children:"Save"})})]})]})]})]})}),s.jsx(Rt,{children:s.jsxs($,{direction:"column",gap:"3",p:"3",children:[s.jsx(He,{size:"4",children:"Popover"}),s.jsxs(Rg,{open:E,onOpenChange:_,children:[s.jsx(Ng,{children:s.jsx(pe,{variant:"soft",color:e,children:"Open Popover"})}),s.jsx(Og,{style:{width:260},children:s.jsxs($,{direction:"column",gap:"2",children:[s.jsx(He,{size:"3",children:"Popover Title"}),s.jsx(L,{size:"2",children:"This is a popover component showing your theme."}),s.jsx(pe,{size:"2",color:e,mt:"2",children:"Action"})]})})]})]})}),s.jsx(Rt,{children:s.jsxs($,{direction:"column",gap:"3",p:"3",children:[s.jsx(He,{size:"4",children:"Progress & More"}),s.jsxs($,{direction:"column",gap:"3",children:[s.jsxs(X,{children:[s.jsx(L,{size:"2",mb:"1",as:"div",children:"Progress Bar"}),s.jsx(EO,{value:65,color:e})]}),s.jsxs($,{gap:"2",align:"center",children:[s.jsx(Ei,{size:"2"}),s.jsx(L,{size:"2",children:"Loading spinner"})]}),s.jsxs($,{gap:"2",align:"center",children:[s.jsx(XA,{href:"#",color:e,children:"Link example"}),s.jsx(L,{size:"2",color:"gray",children:""}),s.jsx(XA,{href:"#",children:"Ghost link"})]})]})]})})]})})})]})})]})}const FI="indigo",jb="small",Db="gray",Cb="translucent",Lb="100%";function k_(e){return e&&["gray","gold","bronze","brown","yellow","amber","orange","tomato","red","ruby","pink","plum","purple","violet","iris","indigo","blue","cyan","teal","jade","green","grass","mint","lime","sky"].includes(e)?e:FI}function VSt(){const{companyId:e}=En(),t=Yt(),{error:n}=Jt(),{data:i}=et({...e?zO({companyId:e}):{queryKey:["company","none","company-detail"],queryFn:()=>Promise.resolve(null)},enabled:!!e}),[r,a]=g.useState(k_(i==null?void 0:i.accent_color)),[o,l]=g.useState((i==null?void 0:i.theme_radius)??jb),[c,u]=g.useState((i==null?void 0:i.theme_gray_color)??Db),[d,h]=g.useState((i==null?void 0:i.theme_panel_background)??Cb),[m,p]=g.useState((i==null?void 0:i.theme_scaling)??Lb);g.useEffect(()=>{i&&(a(k_(i.accent_color)),l(i.theme_radius??jb),u(i.theme_gray_color??Db),h(i.theme_panel_background??Cb),p(i.theme_scaling??Lb))},[i]);const v=bt({mutationFn:async()=>{if(!e)throw new Error("No company selected");await GFe({companyId:e,accentColor:r,radius:o,grayColor:c,panelBackground:d,scaling:m})},onSuccess:async()=>{await t.invalidateQueries({queryKey:["company",e,"company-detail"]}),window.dispatchEvent(new CustomEvent("accent-color-changed",{detail:{color:r}})),window.dispatchEvent(new CustomEvent("theme-changed",{detail:{property:"radius",value:o}})),window.dispatchEvent(new CustomEvent("theme-changed",{detail:{property:"grayColor",value:c}})),window.dispatchEvent(new CustomEvent("theme-changed",{detail:{property:"panelBackground",value:d}})),window.dispatchEvent(new CustomEvent("theme-changed",{detail:{property:"scaling",value:m}}))},onError:E=>{n("Failed to save",(E==null?void 0:E.message)??"Please try again.")}}),S=g.useMemo(()=>{if(!i)return!1;const E=k_(i.accent_color),_=i.theme_radius??jb,N=i.theme_gray_color??Db,O=i.theme_panel_background??Cb,j=i.theme_scaling??Lb;return E!==r||_!==o||N!==c||O!==d||j!==m},[i,r,o,c,d,m]),b=g.useCallback(()=>{v.mutate()},[v]),w=g.useCallback(()=>{a(FI),l(jb),u(Db),h(Cb),p(Lb)},[]),R=g.useCallback(()=>{i&&(a(k_(i.accent_color)),l(i.theme_radius??jb),u(i.theme_gray_color??Db),h(i.theme_panel_background??Cb),p(i.theme_scaling??Lb))},[i]);return s.jsx(Rt,{size:"4",style:{height:"100%",minHeight:0,display:"flex",flexDirection:"column",overflow:"hidden"},children:s.jsx("div",{style:{flex:1,minHeight:0,overflow:"auto",padding:"var(--space-4)"},children:s.jsxs($,{gap:"4",direction:{initial:"column",md:"row"},style:{height:"100%"},children:[s.jsx(X,{style:{flex:"1 1 50%",minWidth:0,display:"flex",flexDirection:"column",minHeight:0},children:s.jsx(USt,{accentColor:r,radius:o,grayColor:c,panelBackground:d,scaling:m})}),s.jsxs(X,{style:{flex:"1 1 50%",minWidth:0,display:"flex",flexDirection:"column",minHeight:0},children:[s.jsx(He,{size:"3",mb:"3",children:"Theme Settings"}),s.jsx(X,{style:{flex:1,minHeight:0,overflow:"auto"},children:s.jsxs($,{direction:"column",gap:"3",children:[s.jsx(OSt,{value:r,onChange:a}),s.jsx(MSt,{value:c,onChange:u}),s.jsx(CSt,{value:o,onChange:l}),s.jsx(BSt,{value:m,onChange:p}),s.jsx(kSt,{value:d,onChange:h})]})}),s.jsxs($,{gap:"3",justify:"end",wrap:"wrap",mt:"3",pt:"3",style:{borderTop:"1px solid var(--gray-a6)"},children:[s.jsxs(pe,{variant:"soft",onClick:w,disabled:v.isPending,size:"2",children:[s.jsx(aoe,{}),"Restore to Defaults"]}),s.jsx(pe,{variant:"soft",color:"gray",onClick:R,disabled:!S||v.isPending,size:"2",children:"Cancel"}),s.jsx(pe,{onClick:b,disabled:!S||v.isPending,size:"2",children:v.isPending?"Saving...":"Save Changes"})]})]})]})})})}function KSt({open:e,onOpenChange:t,companyId:n}){var _,N,O;const i=Yt(),{success:r}=Jt(),[a,o]=g.useState({name:""}),[l,c]=g.useState(null),[u,d]=g.useState(""),h=(j,D)=>o(P=>({...P,[j]:D})),m=["company",n,"item_brands"],{data:p,isLoading:v,isError:S,error:b}=et({queryKey:m,enabled:!!n&&e,queryFn:async()=>{const{data:j,error:D}=await re.from("item_brands").select("id, company_id, name").eq("company_id",n).order("name",{ascending:!0});if(D)throw D;return j},staleTime:5e3}),w=bt({mutationFn:async j=>{if(!n)throw new Error("No company selected");const{error:D}=await re.from("item_brands").insert({company_id:n,name:j.name.trim()});if(D)throw D},onSuccess:async(j,D)=>{const P=D.name.trim();o({name:""}),await i.invalidateQueries({queryKey:m}),await i.invalidateQueries({queryKey:["company",n,"inventory-index"],exact:!1}),r("Brand created",`"${P}" has been added.`)}}),R=bt({mutationFn:async j=>{const{error:D}=await re.from("item_brands").update({name:j.name.trim()}).eq("id",j.id).eq("company_id",n);if(D)throw D},onSuccess:async(j,D)=>{c(null),d(""),await i.invalidateQueries({queryKey:m}),await i.invalidateQueries({queryKey:["company",n,"inventory-index"],exact:!1}),r("Brand updated",`"${D.name.trim()}" has been updated.`)}}),E=bt({mutationFn:async j=>{const{error:D}=await re.from("item_brands").delete().eq("id",j).eq("company_id",n);if(D)throw D},onSuccess:async(j,D)=>{const P=p==null?void 0:p.find(B=>B.id===D);await i.invalidateQueries({queryKey:m}),await i.invalidateQueries({queryKey:["company",n,"inventory-index"],exact:!1}),P&&r("Brand removed",`"${P.name}" has been removed.`)}});return s.jsx(rn,{open:e,onOpenChange:t,children:s.jsxs(an,{maxWidth:"640px",children:[s.jsx(cn,{children:"Edit Brands"}),s.jsx("div",{style:{maxHeight:280,overflowY:"auto",border:"1px solid var(--gray-a6)",borderRadius:8,padding:8,paddingRight:16,marginTop:12},children:v?s.jsx($,{align:"center",justify:"center",p:"4",children:s.jsxs($,{align:"center",gap:"1",children:[s.jsx(L,{children:"Thinking"}),s.jsx(Ei,{size:"2"})]})}):S?s.jsx(L,{color:"red",children:(b==null?void 0:b.message)??"Failed to load"}):((p==null?void 0:p.length)??0)===0?s.jsx(L,{color:"gray",children:"No brands yet."}):p.map((j,D)=>s.jsxs(g.Fragment,{children:[D>0&&s.jsx(st,{my:"2"}),s.jsx($,{align:"center",gap:"2",py:"1",children:l===j.id?s.jsxs(s.Fragment,{children:[s.jsx(qe,{value:u,onChange:P=>d(P.target.value),style:{flex:1},autoFocus:!0}),s.jsx(Mn,{size:"2",variant:"soft",title:"Save",disabled:R.isPending||u.trim().length===0,onClick:()=>R.mutate({id:j.id,name:u}),children:s.jsx(el,{})}),s.jsx(Mn,{size:"2",variant:"ghost",title:"Cancel",onClick:()=>{c(null),d("")},children:s.jsx(wu,{})})]}):s.jsxs(s.Fragment,{children:[s.jsx(L,{style:{flex:1},children:j.name}),s.jsx(Mn,{size:"2",variant:"soft",title:"Edit name",onClick:()=>{c(j.id),d(j.name)},children:s.jsx(gi,{})}),s.jsx(Mn,{size:"2",color:"red",variant:"soft",title:"Delete",disabled:E.isPending,onClick:()=>E.mutate(j.id),children:s.jsx(vi,{})})]})})]},j.id))}),s.jsxs($,{direction:"column",gap:"3",mt:"3",children:[s.jsxs("div",{children:[s.jsx(L,{as:"label",size:"2",color:"gray",style:{display:"block",marginBottom:6},children:"New brand name"}),s.jsx(qe,{placeholder:"e.g. Shure",value:a.name,onChange:j=>h("name",j.target.value)})]}),(w.isError||R.isError||E.isError)&&s.jsx(L,{color:"red",children:((_=w.error)==null?void 0:_.message)||((N=R.error)==null?void 0:N.message)||((O=E.error)==null?void 0:O.message)||"Something went wrong"})]}),s.jsxs($,{gap:"2",mt:"4",justify:"end",children:[s.jsx(Dn,{children:s.jsx(pe,{variant:"soft",children:"Close"})}),s.jsx(pe,{onClick:()=>w.mutate({name:a.name}),disabled:!a.name.trim()||w.isPending,children:w.isPending?"Saving":"Create"})]})]})})}const i4="Welcome to our company",r4=`Welcome to the team! We're excited to have you on board.

This platform will help you stay connected with the team, manage your work assignments, and access important company information.

If you have any questions or need help getting started, don't hesitate to reach out. We're here to support you!

Looking forward to working with you.`;function GSt({open:e,onOpenChange:t,onSaved:n}){const{companyId:i}=En(),r=Yt(),{success:a,error:o}=Jt(),{data:l,isLoading:c}=et({queryKey:["company",i,"welcome-matter"],enabled:e&&!!i,queryFn:async()=>{if(!i)return null;const{data:p,error:v}=await re.from("matters").select("id, title, content").eq("company_id",i).eq("title",i4).eq("matter_type","announcement").maybeSingle();if(v&&v.code!=="PGRST116")throw v;return p?{id:p.id,title:p.title,content:p.content??""}:null}}),[u,d]=g.useState({title:i4,content:r4});g.useEffect(()=>{d(l?{title:l.title,content:l.content}:{title:i4,content:r4})},[l==null?void 0:l.id]);const h=(p,v)=>d(S=>({...S,[p]:v})),m=bt({mutationFn:async()=>{if(!i)throw new Error("No company selected");const{data:{user:p}}=await re.auth.getUser();if(!p)throw new Error("Not authenticated");if(l){const{error:v}=await re.from("matters").update({title:u.title.trim(),content:u.content.trim()||null}).eq("id",l.id).eq("company_id",i);if(v)throw v}else{const{data:v,error:S}=await re.from("matters").insert({company_id:i,created_by_user_id:p.id,matter_type:"announcement",title:u.title.trim(),content:u.content.trim()||null}).select("id").single();if(S)throw S;if(v!=null&&v.id){const{error:b}=await re.rpc("add_existing_users_to_welcome_matter",{p_company_id:i,p_matter_id:v.id});b&&console.warn("Failed to add existing users to welcome matter:",b)}}},onSuccess:()=>{r.invalidateQueries({queryKey:["company",i,"welcome-matter"]}),t(!1),n==null||n(),a("Success","Welcome matter saved")},onError:p=>{o("Failed to save",(p==null?void 0:p.message)??"Please try again.")}});return c?s.jsx(rn,{open:e,onOpenChange:t,children:s.jsxs(an,{maxWidth:"520px",children:[s.jsx(cn,{children:"Edit welcome matter"}),s.jsx($,{align:"center",gap:"2",p:"4",children:s.jsx(L,{children:"Loading"})})]})}):s.jsx(rn,{open:e,onOpenChange:t,children:s.jsxs(an,{maxWidth:"520px",style:{maxHeight:"90vh",overflow:"auto"},children:[s.jsx(cn,{children:"Edit welcome matter"}),s.jsx(L,{as:"div",size:"1",color:"gray",mb:"3",children:"This message will be sent to all users when they are added to this company"}),s.jsx(st,{size:"4",mb:"3"}),s.jsxs($,{direction:"column",gap:"3",children:[s.jsx(HSt,{label:"Title",children:s.jsx(qe,{value:u.title,onChange:p=>h("title",p.target.value),autoFocus:!0})}),s.jsxs(X,{children:[s.jsxs($,{align:"center",justify:"between",mb:"1",children:[s.jsx(L,{as:"div",size:"2",color:"gray",children:"Content"}),s.jsx(pe,{size:"1",variant:"soft",onClick:()=>h("content",r4),type:"button",children:"Use generic message"})]}),s.jsx(Ci,{rows:8,value:u.content,onChange:p=>h("content",p.target.value),placeholder:"Welcome message content..."})]})]}),s.jsxs($,{gap:"2",mt:"4",justify:"end",children:[s.jsx(Dn,{children:s.jsx(pe,{variant:"soft",children:"Cancel"})}),s.jsx(pe,{onClick:()=>m.mutate(),disabled:!u.title.trim()||m.isPending,children:m.isPending?"Saving":"Save"})]})]})})}function HSt({label:e,children:t}){return s.jsxs("div",{children:[s.jsx(L,{as:"div",size:"2",color:"gray",style:{marginBottom:6},children:e}),t]})}function qSt({open:e,onOpenChange:t,companyId:n}){var R,E,_;const i=Yt(),[r,a]=g.useState({name:""}),[o,l]=g.useState(null),[c,u]=g.useState(""),d=["company",n,"item-categories"],{data:h,isLoading:m,isError:p,error:v}=et({queryKey:d,enabled:!!n&&e,queryFn:async()=>{const{data:N,error:O}=await re.from("item_categories").select("id, company_id, name").eq("company_id",n).order("name",{ascending:!0});if(O)throw O;return N},staleTime:5e3}),S=bt({mutationFn:async N=>{if(!n)throw new Error("No company selected");const{error:O}=await re.from("item_categories").insert({company_id:n,name:N.name.trim()});if(O)throw O},onSuccess:async()=>{a({name:""}),await i.invalidateQueries({queryKey:d}),await i.invalidateQueries({queryKey:["company",n,"inventory-index"],exact:!1})}}),b=bt({mutationFn:async N=>{const{error:O}=await re.from("item_categories").update({name:N.name.trim()}).eq("id",N.id).eq("company_id",n);if(O)throw O},onSuccess:async()=>{l(null),u(""),await i.invalidateQueries({queryKey:d}),await i.invalidateQueries({queryKey:["company",n,"inventory-index"],exact:!1})}}),w=bt({mutationFn:async N=>{const{error:O}=await re.from("item_categories").delete().eq("id",N).eq("company_id",n);if(O)throw O},onSuccess:async()=>{await i.invalidateQueries({queryKey:d}),await i.invalidateQueries({queryKey:["company",n,"inventory-index"],exact:!1})}});return s.jsx(rn,{open:e,onOpenChange:t,children:s.jsxs(an,{maxWidth:"640px",children:[s.jsx(cn,{children:"Edit Categories"}),s.jsx("div",{style:{maxHeight:280,overflowY:"auto",border:"1px solid var(--gray-a6)",borderRadius:8,padding:8,marginTop:12},children:m?s.jsx($,{align:"center",justify:"center",p:"4",children:s.jsxs($,{align:"center",gap:"1",children:[s.jsx(L,{children:"Thinking"}),s.jsx(Ei,{size:"2"})]})}):p?s.jsx(L,{color:"red",children:(v==null?void 0:v.message)??"Failed to load"}):((h==null?void 0:h.length)??0)===0?s.jsx(L,{color:"gray",children:"No categories yet."}):h.map((N,O)=>s.jsxs(g.Fragment,{children:[O>0&&s.jsx(st,{my:"2"}),s.jsx($,{align:"center",gap:"2",py:"1",children:o===N.id?s.jsxs(s.Fragment,{children:[s.jsx(qe,{value:c,onChange:j=>u(j.target.value),style:{flex:1},autoFocus:!0}),s.jsx(Mn,{size:"2",variant:"soft",title:"Save",disabled:b.isPending||c.trim().length===0,onClick:()=>b.mutate({id:N.id,name:c}),children:s.jsx(el,{})}),s.jsx(Mn,{size:"2",variant:"ghost",title:"Cancel",onClick:()=>{l(null),u("")},children:s.jsx(wu,{})})]}):s.jsxs(s.Fragment,{children:[s.jsx(L,{style:{flex:1},children:N.name}),s.jsx(Mn,{size:"2",variant:"soft",title:"Edit name",onClick:()=>{l(N.id),u(N.name)},children:s.jsx(gi,{})}),s.jsx(Mn,{size:"2",color:"red",variant:"soft",title:"Delete",disabled:w.isPending,onClick:()=>w.mutate(N.id),children:s.jsx(vi,{})})]})})]},N.id))}),s.jsxs($,{direction:"column",gap:"3",mt:"3",children:[s.jsxs("div",{children:[s.jsx(L,{as:"label",size:"2",color:"gray",style:{display:"block",marginBottom:6},children:"New category name"}),s.jsx(qe,{placeholder:"e.g. Audio",value:r.name,onChange:N=>a({name:N.target.value})})]}),(S.isError||b.isError||w.isError)&&s.jsx(L,{color:"red",children:((R=S.error)==null?void 0:R.message)||((E=b.error)==null?void 0:E.message)||((_=w.error)==null?void 0:_.message)||"Something went wrong"})]}),s.jsxs($,{gap:"2",mt:"4",justify:"end",children:[s.jsx(Dn,{children:s.jsx(pe,{variant:"soft",children:"Close"})}),s.jsx(pe,{onClick:()=>S.mutate({name:r.name}),disabled:!r.name.trim()||S.isPending,variant:"classic",children:S.isPending?"Saving":"Create"})]})]})})}function WSt({companyId:e}){const t=Yt(),{success:n,error:i}=Jt(),[r,a]=g.useState(!1),[o,l]=g.useState(""),[c,u]=g.useState(""),[d,h]=g.useState(""),[m,p]=g.useState(""),{data:v,isLoading:S}=et({queryKey:["company",e,"general-rates"],enabled:!!e,queryFn:async()=>{const{data:w,error:R}=await re.from("companies").select("employee_daily_rate, employee_hourly_rate, owner_daily_rate, owner_hourly_rate").eq("id",e).single();if(R)throw R;return w}});g.useEffect(()=>{var w,R,E,_;v&&!r&&(l(((w=v.employee_daily_rate)==null?void 0:w.toString())??""),u(((R=v.employee_hourly_rate)==null?void 0:R.toString())??""),h(((E=v.owner_daily_rate)==null?void 0:E.toString())??""),p(((_=v.owner_hourly_rate)==null?void 0:_.toString())??""))},[v,r]);const b=bt({mutationFn:async()=>{const w={employee_daily_rate:o.trim()?parseFloat(o):null,employee_hourly_rate:c.trim()?parseFloat(c):null,owner_daily_rate:d.trim()?parseFloat(d):null,owner_hourly_rate:m.trim()?parseFloat(m):null};Object.values(w).forEach(E=>{if(E!==null&&(isNaN(E)||E<0))throw new Error("All rates must be positive numbers")});const{error:R}=await re.from("companies").update(w).eq("id",e);if(R)throw R},onSuccess:async()=>{a(!1),await t.invalidateQueries({queryKey:["company",e,"general-rates"]}),n("General rates updated","Rates have been saved successfully.")},onError:w=>{i("Failed to update rates",(w==null?void 0:w.message)??"Please try again.")}});return S?s.jsxs($,{align:"center",gap:"1",mb:"4",children:[s.jsx(L,{children:"Loading"}),s.jsx(Ei,{size:"2"})]}):s.jsx($,{direction:"column",gap:"4",mb:"6",children:r?s.jsxs(s.Fragment,{children:[s.jsxs($,{direction:"column",gap:"4",children:[s.jsxs(X,{children:[s.jsx(L,{size:"2",weight:"bold",mb:"3",style:{display:"block"},children:"Employee Rates"}),s.jsxs($,{direction:"column",gap:"3",children:[s.jsxs(X,{children:[s.jsx(L,{as:"label",size:"2",weight:"medium",mb:"1",style:{display:"block"},children:"Daily rate"}),s.jsxs($,{align:"center",gap:"2",children:[s.jsx(qe,{type:"number",value:o,onChange:w=>l(w.target.value),placeholder:"0.00",min:"0",step:"0.01",style:{width:150}}),s.jsx(L,{size:"2",color:"gray",children:"kr per day"})]})]}),s.jsxs(X,{children:[s.jsx(L,{as:"label",size:"2",weight:"medium",mb:"1",style:{display:"block"},children:"Hourly rate"}),s.jsxs($,{align:"center",gap:"2",children:[s.jsx(qe,{type:"number",value:c,onChange:w=>u(w.target.value),placeholder:"0.00",min:"0",step:"0.01",style:{width:150}}),s.jsx(L,{size:"2",color:"gray",children:"kr per hour"})]})]})]})]}),s.jsx(st,{}),s.jsxs(X,{children:[s.jsx(L,{size:"2",weight:"bold",mb:"3",style:{display:"block"},children:"Owner Rates"}),s.jsxs($,{direction:"column",gap:"3",children:[s.jsxs(X,{children:[s.jsx(L,{as:"label",size:"2",weight:"medium",mb:"1",style:{display:"block"},children:"Daily rate"}),s.jsxs($,{align:"center",gap:"2",children:[s.jsx(qe,{type:"number",value:d,onChange:w=>h(w.target.value),placeholder:"0.00",min:"0",step:"0.01",style:{width:150}}),s.jsx(L,{size:"2",color:"gray",children:"kr per day"})]})]}),s.jsxs(X,{children:[s.jsx(L,{as:"label",size:"2",weight:"medium",mb:"1",style:{display:"block"},children:"Hourly rate"}),s.jsxs($,{align:"center",gap:"2",children:[s.jsx(qe,{type:"number",value:m,onChange:w=>p(w.target.value),placeholder:"0.00",min:"0",step:"0.01",style:{width:150}}),s.jsx(L,{size:"2",color:"gray",children:"kr per hour"})]})]})]})]})]}),s.jsxs($,{gap:"2",justify:"end",children:[s.jsx(pe,{size:"2",variant:"soft",onClick:()=>{var w,R,E,_;a(!1),v&&(l(((w=v.employee_daily_rate)==null?void 0:w.toString())??""),u(((R=v.employee_hourly_rate)==null?void 0:R.toString())??""),h(((E=v.owner_daily_rate)==null?void 0:E.toString())??""),p(((_=v.owner_hourly_rate)==null?void 0:_.toString())??""))},disabled:b.isPending,children:"Cancel"}),s.jsx(pe,{size:"2",variant:"classic",onClick:()=>b.mutate(),disabled:b.isPending,children:b.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Ei,{size:"2"})," Saving..."]}):"Save"})]})]}):s.jsxs(s.Fragment,{children:[s.jsx(X,{p:"3",style:{border:"1px solid var(--gray-a6)",borderRadius:8,background:"var(--gray-a2)"},children:s.jsxs($,{direction:"column",gap:"3",children:[s.jsxs(X,{children:[s.jsx(L,{size:"2",weight:"bold",mb:"2",style:{display:"block"},children:"Employee Rates"}),s.jsxs(ZZ,{children:[s.jsx($_,{children:"Daily rate"}),s.jsx(F_,{children:v!=null&&v.employee_daily_rate?`${Number(v.employee_daily_rate).toFixed(2)} kr per day`:""}),s.jsx($_,{children:"Hourly rate"}),s.jsx(F_,{children:v!=null&&v.employee_hourly_rate?`${Number(v.employee_hourly_rate).toFixed(2)} kr per hour`:""})]})]}),s.jsx(st,{}),s.jsxs(X,{children:[s.jsx(L,{size:"2",weight:"bold",mb:"2",style:{display:"block"},children:"Owner Rates"}),s.jsxs(ZZ,{children:[s.jsx($_,{children:"Daily rate"}),s.jsx(F_,{children:v!=null&&v.owner_daily_rate?`${Number(v.owner_daily_rate).toFixed(2)} kr per day`:""}),s.jsx($_,{children:"Hourly rate"}),s.jsx(F_,{children:v!=null&&v.owner_hourly_rate?`${Number(v.owner_hourly_rate).toFixed(2)} kr per hour`:""})]})]})]})}),s.jsxs(pe,{size:"2",variant:"outline",onClick:()=>a(!0),children:[s.jsx(gi,{width:16,height:16}),"Edit General Rates"]})]})})}function ZZ({children:e}){return s.jsx("dl",{style:{display:"grid",gridTemplateColumns:"140px 1fr",rowGap:8,columnGap:12},children:e})}function $_({children:e}){return s.jsx("dt",{children:s.jsx(L,{size:"1",color:"gray",children:e})})}function F_({children:e}){return s.jsx("dd",{children:s.jsx(L,{size:"2",children:e})})}function YSt(){const{companyId:e}=En(),t=Yt(),{success:n,error:i,info:r}=Jt(),{companyRole:a}=zr(),[o,l]=g.useState(!1),[c,u]=g.useState(!1),[d,h]=g.useState(!1),m=g.useRef(null),[p,v]=g.useState(!1),{data:S,isLoading:b}=et({queryKey:["company",e,"expansions"],enabled:!!e,queryFn:async()=>{if(!e)return null;const{data:ae,error:G}=await re.from("company_expansions").select("id, latest_feed_open_to_freelancers").eq("company_id",e).maybeSingle();if(G)throw G;return ae}}),{data:w}=et({queryKey:["company",e,"terms"],enabled:!!e,queryFn:async()=>{if(!e)return null;const{data:ae,error:G}=await re.from("companies").select("terms_and_conditions_type, terms_and_conditions_text, terms_and_conditions_pdf_path").eq("id",e).single();if(G)throw G;return ae}}),[R,E]=g.useState(null),[_,N]=g.useState(""),[O,j]=g.useState(null);g.useEffect(()=>{if(w){const ae=w.terms_and_conditions_type;E(ae==="pdf"||ae==="text"?ae:null),N(w.terms_and_conditions_text||""),j(w.terms_and_conditions_pdf_path||null)}},[w]);const D=async ae=>{var G;if(!e)throw new Error("No company selected");v(!0);try{const H=((G=ae.name.split(".").pop())==null?void 0:G.toLowerCase())||"pdf";if(H!=="pdf")throw new Error("Only PDF files are allowed");const T=`terms_${Date.now()}.${H}`,Y=`${e}/terms/${T}`;w!=null&&w.terms_and_conditions_pdf_path&&await re.storage.from("company_files").remove([w.terms_and_conditions_pdf_path]);const{error:ie}=await re.storage.from("company_files").upload(Y,ae,{upsert:!1,cacheControl:"3600"});if(ie)throw ie;return j(Y),r("PDF uploaded",'Click "Save" to apply the changes.'),Y}finally{v(!1)}},P=bt({mutationFn:async()=>{if(!e)throw new Error("No company selected");if(!R)throw new Error("Please select a type for terms and conditions");const ae={terms_and_conditions_type:R};if(R==="text")ae.terms_and_conditions_text=_.trim()||null,ae.terms_and_conditions_pdf_path=null;else{if(!O&&!(w!=null&&w.terms_and_conditions_pdf_path))throw new Error("Please upload a PDF file first");ae.terms_and_conditions_pdf_path=O||(w==null?void 0:w.terms_and_conditions_pdf_path)||null,ae.terms_and_conditions_text=null}const{error:G}=await re.from("companies").update(ae).eq("id",e);if(G)throw G},onSuccess:async()=>{j(null),q(!1),await t.invalidateQueries({queryKey:["company",e,"terms"]}),n("Terms and conditions saved","Terms will be included with offers.")},onError:ae=>{i("Failed to save terms and conditions",(ae==null?void 0:ae.message)??"Please try again.")}}),B=bt({mutationFn:async()=>{if(!e)throw new Error("No company selected");w!=null&&w.terms_and_conditions_pdf_path&&await re.storage.from("company_files").remove([w.terms_and_conditions_pdf_path]);const{error:ae}=await re.from("companies").update({terms_and_conditions_type:null,terms_and_conditions_text:null,terms_and_conditions_pdf_path:null}).eq("id",e);if(ae)throw ae},onSuccess:async()=>{E(null),N(""),j(null),q(!1),await t.invalidateQueries({queryKey:["company",e,"terms"]}),n("Terms and conditions deleted","Terms have been removed.")},onError:ae=>{i("Failed to delete terms and conditions",(ae==null?void 0:ae.message)??"Please try again.")}}),M=O||(w==null?void 0:w.terms_and_conditions_pdf_path),z=g.useMemo(()=>{if(!M)return null;const{data:ae}=re.storage.from("company_files").getPublicUrl(M);return ae.publicUrl},[M]),U=g.useMemo(()=>{if(!M)return null;const ae=M.split("/");return ae[ae.length-1]||"terms.pdf"},[M]),K=!!(w!=null&&w.terms_and_conditions_type&&(w.terms_and_conditions_type==="pdf"?w.terms_and_conditions_pdf_path:w.terms_and_conditions_text)),[te,q]=g.useState(!1),[V,Q]=g.useState(null),ce=bt({mutationFn:async ae=>{if(!e)throw new Error("No company selected");if(S!=null&&S.id){const{error:G}=await re.from("company_expansions").update({latest_feed_open_to_freelancers:ae}).eq("id",S.id);if(G)throw G}else{const{error:G}=await re.from("company_expansions").insert({company_id:e,latest_feed_open_to_freelancers:ae});if(G)throw G}},onSuccess:async()=>{await t.invalidateQueries({queryKey:["company",e,"expansions"]}),V?n("Latest feed enabled for freelancers","Freelancers can now view the Latest feed"):n("Latest feed disabled for freelancers","Freelancers can no longer view the Latest feed"),Q(null)},onError:ae=>{i("Failed to update setting",(ae==null?void 0:ae.message)??"Please try again."),Q(null)}});return e?s.jsxs(s.Fragment,{children:[s.jsx(qSt,{open:o,onOpenChange:l,companyId:e}),s.jsx(KSt,{open:c,onOpenChange:u,companyId:e}),s.jsx(Rt,{size:"4",style:{minHeight:0,height:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},children:s.jsxs(X,{p:"4",style:{flex:1,minHeight:0,overflowY:"auto"},children:[s.jsx(He,{size:"4",mb:"4",children:"Welcome Message"}),s.jsxs($,{direction:"column",gap:"3",mb:"6",children:[s.jsxs(X,{children:[s.jsxs($,{align:"center",gap:"3",mb:"2",children:[s.jsx(L,{as:"div",size:"2",weight:"bold",children:"Welcome matter"}),s.jsxs(pe,{size:"2",variant:"soft",onClick:()=>h(!0),children:[s.jsx(roe,{}),"Edit"]})]}),s.jsx(L,{as:"div",size:"1",color:"gray",children:"Message sent to all users when they are added to this company"})]}),s.jsx(GSt,{open:d,onOpenChange:h,onSaved:()=>{}})]}),s.jsx(st,{size:"4",mb:"6"}),s.jsx(He,{size:"4",mb:"4",children:"Inventory setup"}),s.jsxs($,{direction:"column",gap:"3",mb:"6",children:[s.jsxs(pe,{size:"3",variant:"outline",onClick:()=>l(!0),children:[s.jsx(gi,{})," Manage Categories"]}),s.jsxs(pe,{size:"3",variant:"outline",onClick:()=>u(!0),children:[s.jsx(gi,{})," Manage Brands"]})]}),s.jsx(st,{size:"4",mb:"6"}),s.jsxs($,{align:"center",justify:"between",mb:"4",children:[s.jsx(He,{size:"4",children:"Terms and Conditions"}),K&&s.jsx(mt,{color:"green",variant:"soft",size:"2",children:"Configured"})]}),!K&&!te?s.jsxs(X,{mb:"6",children:[s.jsx(L,{size:"2",color:"gray",mb:"3",style:{display:"block"},children:"No terms and conditions configured. Add terms to include them with all offers."}),s.jsxs(pe,{size:"2",variant:"outline",onClick:()=>q(!0),children:[s.jsx(P0,{width:16,height:16}),"Add Terms and Conditions"]})]}):s.jsxs($,{direction:"column",gap:"4",mb:"6",children:[K&&!te&&(()=>{if(!w)return null;const ae=w.terms_and_conditions_type;return s.jsx(X,{p:"3",style:{border:"1px solid var(--gray-a6)",borderRadius:8,background:"var(--gray-a2)"},children:s.jsxs($,{align:"center",justify:"between",gap:"2",children:[s.jsxs($,{direction:"column",gap:"1",style:{flex:1},children:[s.jsxs($,{align:"center",gap:"2",children:[s.jsx(L,{size:"2",weight:"medium",children:ae==="pdf"?"PDF Document":"Text Field"}),s.jsx(mt,{variant:"soft",color:ae==="pdf"?"blue":"gray",size:"1",children:ae==="pdf"?"PDF":"Text"})]}),ae==="pdf"&&U&&s.jsx(L,{size:"1",color:"gray",children:U}),ae==="text"&&w.terms_and_conditions_text&&s.jsx(L,{size:"1",color:"gray",style:{maxWidth:500},children:w.terms_and_conditions_text.length>100?`${w.terms_and_conditions_text.substring(0,100)}...`:w.terms_and_conditions_text})]}),s.jsxs($,{gap:"2",children:[ae==="pdf"&&z&&s.jsx(pe,{size:"2",variant:"soft",onClick:()=>window.open(z,"_blank"),children:"View"}),s.jsxs(pe,{size:"2",variant:"soft",onClick:()=>{q(!0),E(ae==="pdf"||ae==="text"?ae:null)},children:[s.jsx(gi,{width:16,height:16}),"Edit"]}),s.jsx(pe,{size:"2",variant:"soft",color:"red",onClick:()=>B.mutate(),disabled:B.isPending,children:s.jsx(vi,{width:16,height:16})})]})]})})})(),(te||!K)&&s.jsxs(s.Fragment,{children:[s.jsxs($,{direction:"column",gap:"2",children:[s.jsx(L,{size:"2",weight:"medium",mb:"1",children:"Type"}),s.jsx(_O,{value:R||"",onValueChange:ae=>{E(ae==="pdf"||ae==="text"?ae:null)},children:s.jsxs($,{direction:"column",gap:"2",children:[s.jsx(L,{as:"label",size:"2",children:s.jsxs($,{align:"center",gap:"2",children:[s.jsx(rm,{value:"pdf"}),s.jsx(L,{children:"PDF Document"})]})}),s.jsx(L,{as:"label",size:"2",children:s.jsxs($,{align:"center",gap:"2",children:[s.jsx(rm,{value:"text"}),s.jsx(L,{children:"Text Field"})]})})]})})]}),R==="pdf"&&s.jsxs($,{direction:"column",gap:"2",children:[s.jsx(L,{size:"2",weight:"medium",mb:"1",children:"PDF Document"}),s.jsx("input",{ref:m,type:"file",accept:".pdf",style:{display:"none"},onChange:async ae=>{var H;const G=(H=ae.target.files)==null?void 0:H[0];if(G)try{await D(G)}catch(T){i("Upload failed",(T==null?void 0:T.message)??"Please try again.")}finally{m.current&&(m.current.value="")}}}),M?s.jsx(X,{p:"2",style:{border:"1px solid var(--gray-a6)",borderRadius:8,background:"var(--gray-a2)"},children:s.jsxs($,{align:"center",justify:"between",gap:"2",children:[s.jsxs($,{direction:"column",gap:"1",style:{flex:1},children:[s.jsx(L,{size:"2",weight:"medium",children:U||"PDF file"}),s.jsx(L,{size:"1",color:"gray",children:O?"New file uploaded (click Save to apply)":"Current file"})]}),s.jsxs($,{gap:"2",children:[z&&s.jsx(pe,{size:"1",variant:"soft",onClick:()=>window.open(z,"_blank"),children:"View"}),s.jsxs(pe,{size:"1",variant:"soft",onClick:()=>{var ae;return(ae=m.current)==null?void 0:ae.click()},disabled:p,children:[s.jsx(P0,{width:14,height:14}),p?"Uploading...":"Replace"]})]})]})}):s.jsxs(pe,{size:"2",variant:"outline",onClick:()=>{var ae;return(ae=m.current)==null?void 0:ae.click()},disabled:p,children:[s.jsx(P0,{width:16,height:16}),p?"Uploading...":"Upload PDF"]})]}),R==="text"&&s.jsxs($,{direction:"column",gap:"2",children:[s.jsx(L,{size:"2",weight:"medium",mb:"1",children:"Terms and Conditions Text"}),s.jsx(Ci,{value:_,onChange:ae=>N(ae.target.value),placeholder:"Enter terms and conditions text here...",rows:10,resize:"vertical"})]}),R&&s.jsxs($,{gap:"2",justify:"end",children:[K&&s.jsx(pe,{size:"2",variant:"soft",onClick:()=>{q(!1);const ae=w==null?void 0:w.terms_and_conditions_type;E(ae==="pdf"||ae==="text"?ae:null),N((w==null?void 0:w.terms_and_conditions_text)||""),j(null)},children:"Cancel"}),s.jsx(pe,{size:"2",variant:"soft",color:"red",onClick:()=>{B.mutate(),q(!1)},disabled:B.isPending,children:B.isPending?"Deleting...":"Delete"}),s.jsx(pe,{size:"2",variant:"classic",onClick:()=>{P.mutate(),q(!1)},disabled:P.isPending||R==="text"&&!_.trim()||R==="pdf"&&!M,children:P.isPending?"Saving...":"Save"})]})]})]}),s.jsx(st,{size:"4",mb:"6"}),a==="owner"&&s.jsxs(s.Fragment,{children:[s.jsx(He,{size:"4",mb:"4",children:"General Rates"}),s.jsx(WSt,{companyId:e}),s.jsx(st,{size:"4",mb:"6"})]}),s.jsx(He,{size:"4",mb:"4",children:"Latest Feed Settings"}),s.jsx($,{direction:"column",gap:"3",children:s.jsxs($,{align:"center",justify:"between",gap:"4",children:[s.jsxs($,{direction:"column",children:[s.jsx(L,{size:"3",weight:"medium",mb:"1",children:"Allow freelancers to view Latest feed"}),s.jsx(L,{size:"2",color:"gray",children:"When enabled, freelancers in your company can view the Latest feed. They will have read-only access and can like and comment."})]}),b?s.jsx(Ei,{size:"2"}):s.jsx(Ro,{checked:ce.isPending?!(S!=null&&S.latest_feed_open_to_freelancers):(S==null?void 0:S.latest_feed_open_to_freelancers)??!1,onCheckedChange:ae=>{Q(ae),ce.mutate(ae)},disabled:ce.isPending})]})})]})})]}):s.jsx("div",{children:"No company selected."})}function JSt(){const{companyId:e}=En(),{data:t,isLoading:n}=et({queryKey:["company",e,"expansion"],enabled:!!e,queryFn:async()=>{if(!e)return null;const{data:i,error:r}=await re.from("company_expansions").select("crew_rate_per_day, crew_rate_per_hour, vehicle_daily_rate, vehicle_distance_rate, vehicle_distance_increment, customer_discount_percent, partner_discount_percent, rental_factor_config, fixed_rate_start_day, fixed_rate_per_day").eq("company_id",e).maybeSingle();if(r)throw r;if(!i)return null;const a=i;let o=a.rental_factor_config;if(typeof o=="string")try{o=JSON.parse(o)}catch{o=null}return{crew_rate_per_day:a.crew_rate_per_day??null,crew_rate_per_hour:a.crew_rate_per_hour??null,vehicle_daily_rate:a.vehicle_daily_rate??null,vehicle_distance_rate:a.vehicle_distance_rate??null,vehicle_distance_increment:a.vehicle_distance_increment??150,customer_discount_percent:a.customer_discount_percent??null,partner_discount_percent:a.partner_discount_percent??null,rental_factor_config:o,fixed_rate_start_day:a.fixed_rate_start_day??null,fixed_rate_per_day:a.fixed_rate_per_day??null}}});return e?n?s.jsx($,{align:"center",justify:"center",p:"6",children:s.jsx(Ei,{size:"3"})}):s.jsx(X,{style:{height:"100%",overflowY:"auto",minHeight:0},children:s.jsxs($,{direction:"column",gap:"4",p:"4",children:[s.jsx(He,{size:"4",mb:"2",children:"Standard Rates & Discounts"}),s.jsx(L,{size:"2",color:"gray",mb:"4",children:"Set default rates for crew and transport (per day and per hour), and standard discounts for customers and partners. These will be used as defaults in technical offers, but can be overridden when creating offers."}),s.jsx(QSt,{companyId:e,initialRates:{crew_rate_per_day:(t==null?void 0:t.crew_rate_per_day)??null,crew_rate_per_hour:(t==null?void 0:t.crew_rate_per_hour)??null}}),s.jsx(XSt,{companyId:e,initialRates:{vehicle_daily_rate:(t==null?void 0:t.vehicle_daily_rate)??null,vehicle_distance_rate:(t==null?void 0:t.vehicle_distance_rate)??null,vehicle_distance_increment:(t==null?void 0:t.vehicle_distance_increment)??150}}),s.jsx(ZSt,{companyId:e,initialDiscounts:{customer_discount_percent:(t==null?void 0:t.customer_discount_percent)??null,partner_discount_percent:(t==null?void 0:t.partner_discount_percent)??null}}),s.jsx(ebt,{companyId:e,initialConfig:{rental_factor_config:(t==null?void 0:t.rental_factor_config)??null,fixed_rate_start_day:(t==null?void 0:t.fixed_rate_start_day)??null,fixed_rate_per_day:(t==null?void 0:t.fixed_rate_per_day)??null}})]})}):s.jsx("div",{children:"No company selected."})}function Jj({title:e,summary:t,children:n,defaultExpanded:i=!1,expanded:r,onExpandedChange:a}){const[o,l]=g.useState(i),c=r!==void 0?r:o,u=a||l;return s.jsxs(Rt,{size:"3",children:[s.jsx(X,{p:"4",style:{cursor:"pointer",userSelect:"none"},onClick:()=>u(!c),children:s.jsx($,{justify:"between",align:"center",children:s.jsxs($,{align:"center",gap:"3",style:{flex:1},children:[c?s.jsx(Za,{width:18,height:18}):s.jsx(Gl,{width:18,height:18}),s.jsxs(X,{style:{flex:1},children:[s.jsx(He,{size:"3",mb:"1",children:e}),!c&&s.jsx(L,{size:"2",color:"gray",children:t})]})]})})}),c&&s.jsx(X,{p:"4",pt:"0",onClick:d=>d.stopPropagation(),style:{cursor:"default"},children:n})]})}function QSt({companyId:e,initialRates:t}){const n=Yt(),{success:i,error:r}=Jt(),[a,o]=g.useState(t),[l,c]=g.useState(!1);g.useEffect(()=>{o(t)},[t]);const u=m=>m===null?"Not set":new Intl.NumberFormat("nb-NO",{style:"currency",currency:"NOK",minimumFractionDigits:0,maximumFractionDigits:0}).format(m),d=s.jsxs($,{gap:"4",align:"center",wrap:"wrap",children:[s.jsxs($,{align:"center",gap:"2",children:[s.jsx(L,{size:"1",color:"gray",children:"Day:"}),s.jsx(L,{size:"3",weight:"bold",children:u(a.crew_rate_per_day)})]}),s.jsx(L,{size:"1",color:"gray",children:""}),s.jsxs($,{align:"center",gap:"2",children:[s.jsx(L,{size:"1",color:"gray",children:"Hour:"}),s.jsx(L,{size:"3",weight:"bold",children:u(a.crew_rate_per_hour)})]})]}),h=bt({mutationFn:async()=>{const{data:m}=await re.from("company_expansions").select("*").eq("company_id",e).maybeSingle(),{error:p}=await re.from("company_expansions").upsert({company_id:e,crew_rate_per_day:a.crew_rate_per_day,crew_rate_per_hour:a.crew_rate_per_hour,accounting_software:(m==null?void 0:m.accounting_software)??"none",accounting_api_key_encrypted:(m==null?void 0:m.accounting_api_key_encrypted)??null,accounting_organization_id:(m==null?void 0:m.accounting_organization_id)??null,accounting_api_read_only:(m==null?void 0:m.accounting_api_read_only)??!0,latest_feed_open_to_freelancers:(m==null?void 0:m.latest_feed_open_to_freelancers)??!1},{onConflict:"company_id"});if(p)throw p},onSuccess:async()=>{await n.invalidateQueries({queryKey:["company",e,"expansion"]}),i("Crew rates updated","Crew rates have been saved."),c(!1)},onError:m=>{r("Failed to update crew rates",(m==null?void 0:m.message)??"Please try again.")}});return s.jsx(Jj,{title:"Crew Rates",summary:d,expanded:l,onExpandedChange:c,children:s.jsxs($,{direction:"column",gap:"4",children:[s.jsxs($,{gap:"4",align:"start",children:[s.jsxs(X,{style:{flex:1,maxWidth:200},children:[s.jsx(L,{as:"label",size:"2",color:"gray",style:{display:"block",marginBottom:6},children:"Rate (per day)"}),s.jsx(qe,{type:"number",min:"0",step:"0.01",placeholder:"e.g., 5000",value:a.crew_rate_per_day!==null?String(a.crew_rate_per_day):"",onChange:m=>o({...a,crew_rate_per_day:m.target.value===""?null:Number(m.target.value)||0})})]}),s.jsxs(X,{style:{flex:1,maxWidth:200},children:[s.jsx(L,{as:"label",size:"2",color:"gray",style:{display:"block",marginBottom:6},children:"Rate (per hour)"}),s.jsx(qe,{type:"number",min:"0",step:"0.01",placeholder:"e.g., 650",value:a.crew_rate_per_hour!==null?String(a.crew_rate_per_hour):"",onChange:m=>o({...a,crew_rate_per_hour:m.target.value===""?null:Number(m.target.value)||0})})]})]}),s.jsx(L,{size:"1",color:"gray",children:"Default rates for crew members in technical offers"}),s.jsx($,{justify:"end",children:s.jsx(pe,{variant:"classic",onClick:()=>h.mutate(),disabled:h.isPending,children:h.isPending?"Saving...":"Save Crew Rates"})})]})})}function XSt({companyId:e,initialRates:t}){const n=Yt(),{success:i,error:r}=Jt(),[a,o]=g.useState(t),[l,c]=g.useState(!1),[u,d]=g.useState(null);g.useEffect(()=>{o(t),d(null)},[t]);const h=v=>v===null?"Not set":new Intl.NumberFormat("nb-NO",{style:"currency",currency:"NOK",minimumFractionDigits:0,maximumFractionDigits:0}).format(v),m=s.jsxs($,{gap:"4",align:"center",wrap:"wrap",children:[s.jsxs($,{align:"center",gap:"2",children:[s.jsx(L,{size:"1",color:"gray",children:"Daily:"}),s.jsx(L,{size:"3",weight:"bold",children:h(a.vehicle_daily_rate)})]}),s.jsx(L,{size:"1",color:"gray",children:""}),s.jsxs($,{align:"center",gap:"2",children:[s.jsx(L,{size:"1",color:"gray",children:"Distance:"}),s.jsxs(L,{size:"3",weight:"bold",children:[h(a.vehicle_distance_rate)," /"," ",a.vehicle_distance_increment,"km"]})]})]}),p=bt({mutationFn:async()=>{const{data:v}=await re.from("company_expansions").select("*").eq("company_id",e).maybeSingle(),{error:S}=await re.from("company_expansions").upsert({company_id:e,vehicle_daily_rate:a.vehicle_daily_rate,vehicle_distance_rate:a.vehicle_distance_rate,vehicle_distance_increment:a.vehicle_distance_increment,accounting_software:(v==null?void 0:v.accounting_software)??"none",accounting_api_key_encrypted:(v==null?void 0:v.accounting_api_key_encrypted)??null,accounting_organization_id:(v==null?void 0:v.accounting_organization_id)??null,accounting_api_read_only:(v==null?void 0:v.accounting_api_read_only)??!0,latest_feed_open_to_freelancers:(v==null?void 0:v.latest_feed_open_to_freelancers)??!1},{onConflict:"company_id"});if(S)throw S},onSuccess:async()=>{await n.invalidateQueries({queryKey:["company",e,"expansion"]}),i("Vehicle rates updated","Vehicle rates have been saved."),c(!1)},onError:v=>{r("Failed to update vehicle rates",(v==null?void 0:v.message)??"Please try again.")}});return s.jsx(Jj,{title:"Vehicle Rates",summary:m,expanded:l,onExpandedChange:c,children:s.jsxs($,{direction:"column",gap:"4",children:[s.jsxs($,{gap:"4",align:"start",children:[s.jsxs(X,{style:{flex:1,maxWidth:200},children:[s.jsx(L,{as:"label",size:"2",color:"gray",style:{display:"block",marginBottom:6},children:"Daily Rate"}),s.jsx(qe,{type:"number",min:"0",step:"0.01",placeholder:"e.g., 3000",value:a.vehicle_daily_rate!==null?String(a.vehicle_daily_rate):"",onChange:v=>o({...a,vehicle_daily_rate:v.target.value===""?null:Number(v.target.value)||0})})]}),s.jsxs(X,{style:{flex:1,maxWidth:200},children:[s.jsx(L,{as:"label",size:"2",color:"gray",style:{display:"block",marginBottom:6},children:"Distance Rate (per increment)"}),s.jsx(qe,{type:"number",min:"0",step:"0.01",placeholder:"e.g., 500",value:a.vehicle_distance_rate!==null?String(a.vehicle_distance_rate):"",onChange:v=>o({...a,vehicle_distance_rate:v.target.value===""?null:Number(v.target.value)||0})})]}),s.jsxs(X,{style:{flex:1,maxWidth:200},children:[s.jsx(L,{as:"label",size:"2",color:"gray",style:{display:"block",marginBottom:6},children:"Distance Increment (km)"}),s.jsx(qe,{type:"number",min:"1",step:"1",placeholder:"e.g., 150",value:u??String(a.vehicle_distance_increment),onChange:v=>{const S=v.target.value;if(d(S),S==="")return;const b=Number(S);Number.isNaN(b)||(o({...a,vehicle_distance_increment:Math.max(1,b)}),d(null))},onBlur:()=>{u===""&&d(null)}})]})]}),s.jsx(L,{size:"1",color:"gray",children:"Fixed daily rate for vehicles, plus distance-based rate calculated per increment. Distance is rounded up to the nearest increment."}),s.jsx($,{justify:"end",children:s.jsx(pe,{variant:"classic",onClick:()=>p.mutate(),disabled:p.isPending,children:p.isPending?"Saving...":"Save Vehicle Rates"})})]})})}function ZSt({companyId:e,initialDiscounts:t}){const n=Yt(),{success:i,error:r}=Jt(),[a,o]=g.useState(t),[l,c]=g.useState(!1);g.useEffect(()=>{o(t)},[t]);const u=m=>m===null?"Not set":`${m}%`,d=s.jsxs($,{gap:"4",align:"center",wrap:"wrap",children:[s.jsxs($,{align:"center",gap:"2",children:[s.jsx(L,{size:"1",color:"gray",children:"Customer:"}),s.jsx(L,{size:"3",weight:"bold",children:u(a.customer_discount_percent)})]}),s.jsx(L,{size:"1",color:"gray",children:""}),s.jsxs($,{align:"center",gap:"2",children:[s.jsx(L,{size:"1",color:"gray",children:"Partner:"}),s.jsx(L,{size:"3",weight:"bold",children:u(a.partner_discount_percent)})]})]}),h=bt({mutationFn:async()=>{const{data:m}=await re.from("company_expansions").select("*").eq("company_id",e).maybeSingle(),{error:p}=await re.from("company_expansions").upsert({company_id:e,customer_discount_percent:a.customer_discount_percent,partner_discount_percent:a.partner_discount_percent,accounting_software:(m==null?void 0:m.accounting_software)??"none",accounting_api_key_encrypted:(m==null?void 0:m.accounting_api_key_encrypted)??null,accounting_organization_id:(m==null?void 0:m.accounting_organization_id)??null,accounting_api_read_only:(m==null?void 0:m.accounting_api_read_only)??!0,latest_feed_open_to_freelancers:(m==null?void 0:m.latest_feed_open_to_freelancers)??!1},{onConflict:"company_id"});if(p)throw p},onSuccess:async()=>{await n.invalidateQueries({queryKey:["company",e,"expansion"]}),i("Discounts updated","Discounts have been saved."),c(!1)},onError:m=>{r("Failed to update discounts",(m==null?void 0:m.message)??"Please try again.")}});return s.jsx(Jj,{title:"Standard Discounts",summary:d,expanded:l,onExpandedChange:c,children:s.jsxs($,{direction:"column",gap:"4",children:[s.jsxs($,{gap:"4",align:"start",children:[s.jsxs(X,{style:{flex:1,maxWidth:200},children:[s.jsx(L,{as:"label",size:"2",color:"gray",style:{display:"block",marginBottom:6},children:"Customer Discount (%)"}),s.jsx(qe,{type:"number",min:"0",max:"100",step:"0.01",placeholder:"e.g., 5",value:a.customer_discount_percent!==null?String(a.customer_discount_percent):"",onChange:m=>o({...a,customer_discount_percent:m.target.value===""?null:Math.max(0,Math.min(100,Number(m.target.value)||0))})})]}),s.jsxs(X,{style:{flex:1,maxWidth:200},children:[s.jsx(L,{as:"label",size:"2",color:"gray",style:{display:"block",marginBottom:6},children:"Partner Discount (%)"}),s.jsx(qe,{type:"number",min:"0",max:"100",step:"0.01",placeholder:"e.g., 10",value:a.partner_discount_percent!==null?String(a.partner_discount_percent):"",onChange:m=>o({...a,partner_discount_percent:m.target.value===""?null:Math.max(0,Math.min(100,Number(m.target.value)||0))})})]})]}),s.jsx(L,{size:"1",color:"gray",children:"Default discount percentages for customers and partners"}),s.jsx($,{justify:"end",children:s.jsx(pe,{variant:"classic",onClick:()=>h.mutate(),disabled:h.isPending,children:h.isPending?"Saving...":"Save Discounts"})})]})})}function ebt({companyId:e,initialConfig:t}){const n=Yt(),{success:i,error:r}=Jt(),[a,o]=g.useState(t),[l,c]=g.useState(!1);g.useEffect(()=>{o(t)},[t]);const u=a.fixed_rate_start_day?s.jsxs($,{gap:"4",align:"center",wrap:"wrap",children:[s.jsxs($,{align:"center",gap:"2",children:[s.jsx(L,{size:"1",color:"gray",children:"Starts at day:"}),s.jsx(L,{size:"3",weight:"bold",children:a.fixed_rate_start_day})]}),s.jsx(L,{size:"1",color:"gray",children:""}),s.jsxs($,{align:"center",gap:"2",children:[s.jsx(L,{size:"1",color:"gray",children:"Multiplier:"}),s.jsx(L,{size:"3",weight:"bold",children:a.fixed_rate_per_day!==null?`0.${String(a.fixed_rate_per_day).replace("0.","")}`:"not set"})]})]}):s.jsx(L,{size:"2",color:"gray",style:{fontStyle:"italic"},children:"No fixed rate configured"}),d=bt({mutationFn:async()=>{const{data:h}=await re.from("company_expansions").select("*").eq("company_id",e).maybeSingle(),{error:m}=await re.from("company_expansions").upsert({company_id:e,rental_factor_config:a.rental_factor_config?JSON.stringify(a.rental_factor_config):null,fixed_rate_start_day:a.fixed_rate_start_day,fixed_rate_per_day:a.fixed_rate_per_day,accounting_software:(h==null?void 0:h.accounting_software)??"none",accounting_api_key_encrypted:(h==null?void 0:h.accounting_api_key_encrypted)??null,accounting_organization_id:(h==null?void 0:h.accounting_organization_id)??null,accounting_api_read_only:(h==null?void 0:h.accounting_api_read_only)??!0,latest_feed_open_to_freelancers:(h==null?void 0:h.latest_feed_open_to_freelancers)??!1},{onConflict:"company_id"});if(m)throw m},onSuccess:async()=>{await n.invalidateQueries({queryKey:["company",e,"expansion"]}),i("Rental factors updated","Rental factors have been saved."),c(!1)},onError:h=>{r("Failed to update rental factors",(h==null?void 0:h.message)??"Please try again.")}});return s.jsx(Jj,{title:"Rental Factors",summary:u,expanded:l,onExpandedChange:c,children:s.jsxs($,{direction:"column",gap:"4",children:[s.jsx(L,{size:"2",color:"gray",children:"Configure rental factors based on days of use. These multipliers adjust pricing based on rental duration. If not set, default factors will be used."}),s.jsx(X,{p:"3",style:{background:"var(--gray-a2)",borderRadius:8},children:s.jsxs($,{direction:"column",gap:"3",children:[s.jsx(He,{size:"2",children:"Fixed Rate Configuration"}),s.jsxs($,{gap:"4",align:"start",children:[s.jsxs(X,{style:{flex:1,maxWidth:200},children:[s.jsx(L,{as:"label",size:"2",color:"gray",style:{display:"block",marginBottom:6},children:"Start fixed rates at day"}),s.jsx(qe,{type:"number",min:"1",step:"1",placeholder:"e.g., 30",value:a.fixed_rate_start_day!==null?String(a.fixed_rate_start_day):"",onChange:h=>o({...a,fixed_rate_start_day:h.target.value===""?null:Math.max(1,Number(h.target.value)||1)})}),s.jsx(L,{size:"1",color:"gray",mt:"1",children:"Rental factors table will show days up to this value"})]}),s.jsxs(X,{style:{flex:1,maxWidth:200},children:[s.jsx(L,{as:"label",size:"2",color:"gray",style:{display:"block",marginBottom:6},children:a.fixed_rate_start_day?`Fixed rate multiplier (after day ${a.fixed_rate_start_day})`:"Fixed rate multiplier"}),s.jsxs($,{align:"center",gap:"1",children:[s.jsx(L,{size:"3",style:{userSelect:"none"},children:"0."}),s.jsx(qe,{type:"text",placeholder:"3",inputMode:"numeric",maxLength:1,value:a.fixed_rate_per_day!==null?String(a.fixed_rate_per_day).replace("0.",""):"",onChange:h=>{const m=h.target.value.replace(/[^0-9]/g,"");if(m===""){o({...a,fixed_rate_per_day:null});return}const v=Math.min(9,Math.max(0,parseInt(m.slice(0,1),10)))/10;o({...a,fixed_rate_per_day:v})},style:{width:60}})]}),s.jsx(L,{size:"1",color:"gray",mt:"1",children:"Enter a digit 0-9 (e.g., 3 = 0.3 = 30% of daily rate)"})]})]}),s.jsx(L,{size:"1",color:"gray",children:"After the specified day, rental factors will be replaced with this fixed multiplier"})]})}),s.jsx(tbt,{config:a.rental_factor_config,onChange:h=>o({...a,rental_factor_config:h}),maxDays:a.fixed_rate_start_day}),s.jsx($,{justify:"end",children:s.jsx(pe,{variant:"classic",onClick:()=>d.mutate(),disabled:d.isPending,children:d.isPending?"Saving...":"Save Rental Factors"})})]})})}const h0={1:1,2:1.6,3:2,4:2.3,5:2.5,7:2.8,10:3.2,14:3.5,21:4,30:4.5};function tbt({config:e,onChange:t,maxDays:n}){const[i,r]=g.useState(e||h0),[a,o]=g.useState(!1);g.useEffect(()=>{r(e||h0)},[e]);const l=(h,m)=>{const p={...i};m===null||m<=0?delete p[h]:p[h]=m,r(p),t(Object.keys(p).length>0?p:null)},c=()=>{r(h0),t(h0)},u=g.useMemo(()=>{if(n&&n>0)return n;const h=Object.keys(i).map(p=>Number(p)),m=h.length?Math.max(...h):Math.max(...Object.keys(h0).map(p=>Number(p)));return Math.max(1,m)},[i,n]),d=g.useMemo(()=>Array.from({length:u},(h,m)=>m+1),[u]);return s.jsxs($,{direction:"column",gap:"4",children:[s.jsx(X,{p:"3",style:{cursor:"pointer",userSelect:"none",background:"var(--gray-a2)",borderRadius:8},onClick:()=>o(!a),children:s.jsx($,{justify:"between",align:"center",children:s.jsxs($,{align:"center",gap:"2",children:[a?s.jsx(Za,{width:18,height:18}):s.jsx(Gl,{width:18,height:18}),s.jsx(L,{size:"2",weight:"medium",children:"Rental Factors Table"})]})})}),a&&s.jsxs(X,{onClick:h=>h.stopPropagation(),style:{cursor:"default"},children:[s.jsxs(Hn,{variant:"surface",size:"2",children:[s.jsx(Qn,{children:s.jsxs(ht,{children:[s.jsx(ze,{children:"Days"}),s.jsx(ze,{children:"Factor"})]})}),s.jsx(qn,{children:d.map(h=>s.jsxs(ht,{children:[s.jsx(Oe,{children:s.jsxs(L,{weight:"medium",children:[h," ",h===1?"day":"days"]})}),s.jsx(Oe,{children:s.jsx(qe,{type:"number",min:"0",step:"0.01",placeholder:"Auto",value:h in i?String(i[h]):"",onChange:m=>l(h,m.target.value===""?null:Number(m.target.value)),style:{width:120}})})]},h))})]}),s.jsxs($,{gap:"2",align:"center",mt:"3",children:[s.jsx(pe,{size:"2",variant:"soft",onClick:c,disabled:JSON.stringify(i)===JSON.stringify(h0),children:"Reset to Defaults"}),s.jsx(L,{size:"1",color:"gray",children:"Leave blank to use default factors for that day"})]})]})]})}function _A({companyId:e,year:t}){const n=`${t}-01-01`,i=`${t+1}-01-01`;return{queryKey:["logging_periods",e,t],queryFn:async()=>{const{data:r,error:a}=await re.from("logging_periods").select("*").eq("company_id",e).gte("period_start",n).lt("period_start",i).order("period_start",{ascending:!0});if(a)throw a;return r??[]}}}async function nbt({companyId:e,periodStart:t,isLocked:n,lockedByUserId:i}){const r={company_id:e,period_start:t,is_locked:n,locked_at:n?new Date().toISOString():null,locked_by_user_id:n?i:null},{error:a}=await re.from("logging_periods").upsert(r,{onConflict:"company_id,period_start"});if(a)throw a}function Jve({companyId:e,userId:t,from:n,to:i}){return{queryKey:["time_entries",e,t??"all",n,i],queryFn:async()=>{let r=re.from("time_entries").select(`
          *,
          profile:profiles!time_entries_user_id_fkey (
            user_id,
            display_name,
            first_name,
            last_name,
            email,
            avatar_url
          )
        `).eq("company_id",e).gte("start_at",n).lt("start_at",i);t&&(r=r.eq("user_id",t));const{data:a,error:o}=await r.order("start_at",{ascending:!0});if(o)throw o;return a??[]}}}async function ibt(e){const{data:t,error:n}=await re.from("time_entries").insert(e).select("id").single();if(n)throw n;return t==null?void 0:t.id}async function rbt({id:e,changes:t}){const{data:n,error:i}=await re.from("time_entries").update(t).eq("id",e).select("id").single();if(i)throw i;return n==null?void 0:n.id}async function abt({id:e}){const{error:t}=await re.from("time_entries").delete().eq("id",e);if(t)throw t}function Qve({entries:e,isLoading:t,emptyLabel:n="No entries yet for this period.",onEditEntry:i,canEditEntry:r,onDeleteEntry:a,canDeleteEntry:o}){return t?s.jsx(L,{children:"Loading..."}):e.length===0?s.jsx(L,{color:"gray",children:n}):s.jsxs(Hn,{variant:"surface",children:[s.jsx(Qn,{children:s.jsxs(ht,{children:[s.jsx(ze,{children:"Employee"}),s.jsx(ze,{children:"Date"}),s.jsx(ze,{children:"Start"}),s.jsx(ze,{children:"End"}),s.jsx(ze,{children:"Title"}),s.jsx(ze,{children:"Job #"}),s.jsx(ze,{children:"Note"}),s.jsx(ze,{children:"Duration"}),(i||a)&&s.jsx(ze,{})]})}),s.jsx(qn,{children:e.map(l=>{var c,u,d,h,m;return s.jsxs(ht,{children:[s.jsx(Oe,{children:s.jsxs($,{align:"center",gap:"2",children:[s.jsx(Xr,{size:"2",radius:"full",fallback:X2(((c=l.profile)==null?void 0:c.display_name)??[(u=l.profile)==null?void 0:u.first_name,(d=l.profile)==null?void 0:d.last_name].filter(Boolean).join(" ")??null,((h=l.profile)==null?void 0:h.email)??"??"),src:lbt((m=l.profile)==null?void 0:m.avatar_url)??void 0,style:{border:"1px solid var(--gray-5)"}}),s.jsx(L,{size:"2",children:cbt(l.profile)??"Unknown"})]})}),s.jsx(Oe,{children:sbt(l.start_at)}),s.jsx(Oe,{children:eee(l.start_at)}),s.jsx(Oe,{children:eee(l.end_at)}),s.jsx(Oe,{children:s.jsx(L,{weight:"medium",children:l.title})}),s.jsx(Oe,{children:l.job_number??"-"}),s.jsx(Oe,{children:ubt(l.note)?s.jsx(L,{color:"gray",children:"-"}):s.jsxs(rn,{children:[s.jsx(U2,{asChild:!0,children:s.jsx(pe,{variant:"soft",size:"1",children:"Show"})}),s.jsxs(an,{size:"2",style:{maxWidth:520},children:[s.jsx(cn,{children:"Note"}),s.jsx(vr,{size:"2",color:"gray",mb:"3",children:"Details for this time entry."}),s.jsx(L,{size:"2",style:{whiteSpace:"pre-wrap"},children:l.note})]})]})}),s.jsx(Oe,{children:obt(l.start_at,l.end_at)}),(i||a)&&s.jsx(Oe,{children:s.jsxs($,{align:"center",gap:"1",justify:"end",children:[i&&s.jsx(Mn,{variant:"ghost",size:"1",onClick:()=>i(l),disabled:r?!r(l):!1,"aria-label":"Edit time entry",children:s.jsx(gi,{width:14,height:14})}),a&&s.jsx(Mn,{variant:"ghost",size:"1",color:"red",onClick:()=>a(l),disabled:o?!o(l):!1,"aria-label":"Delete time entry",children:s.jsx(vi,{width:14,height:14})})]})})]},l.id)})})]})}function sbt(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}function eee(e){return new Date(e).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit"})}function obt(e,t){const n=new Date(e),i=new Date(t),r=Math.max(0,i.getTime()-n.getTime()),a=Math.floor(r/(1e3*60*60)),o=Math.floor(r%(1e3*60*60)/(1e3*60));return a===0&&o===0?"0m":a===0?`${o}m`:o===0?`${a}h`:`${a}h ${o}m`}function lbt(e){if(!e)return null;const{data:t}=re.storage.from("avatars").getPublicUrl(e);return t.publicUrl}function cbt(e){return e?e.display_name||[e.first_name,e.last_name].filter(Boolean).join(" ")||e.email:null}function ubt(e){return!e||e.trim().length===0}function Xve(e,t){const n=new Date;n.getFullYear();{const{month:i,year:r}=dbt(t,n),a=new Date(r,i,1),o=new Date(r,i+1,1),l=a.toLocaleDateString("en-US",{month:"long",year:"numeric"});return{from:a.toISOString(),to:o.toISOString(),label:l}}}function Zve(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0");return`${t}-${n}`}function e0e(e){return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((n,i)=>{const r=String(i+1).padStart(2,"0");return{label:n,value:`${e}-${r}`,monthIndex:i}})}function dbt(e,t){if(!e)return{year:t.getFullYear(),month:t.getMonth()};const[n,i]=e.split("-"),r=Number(n),a=Number(i)-1;return!r||Number.isNaN(a)||a<0||a>11?{year:t.getFullYear(),month:t.getMonth()}:{year:r,month:a}}function fbt(){const{companyId:e}=En(),{companyRole:t,isGlobalSuperuser:n,userId:i}=zr(),r=Yt(),[a,o]=g.useState(()=>Zve(new Date)),l=Number(a.split("-")[0])||new Date().getFullYear(),c=g.useMemo(()=>e0e(l),[l]),u=g.useMemo(()=>{const z=new Date().getFullYear();return Array.from({length:5},(U,K)=>z-2+K)},[]),{from:d,to:h,label:m}=g.useMemo(()=>Xve("month",a),[a]),[p,v]=g.useState("all"),{data:S=[],isLoading:b}=et({...e?oh({companyId:e,kind:"all"}):{queryKey:["company","none","crew-index","all"],queryFn:async()=>[]},enabled:!!e}),w=g.useMemo(()=>{const z=S.filter(U=>U.role!=="freelancer");return z.sort((U,K)=>a4(U).localeCompare(a4(K))),z},[S]);g.useEffect(()=>{p!=="all"&&w.length>0&&!w.some(z=>z.user_id===p)&&v("all")},[w,p]);const R=p==="all"?null:p,E=!!e,{data:_=[],isLoading:N}=et({...Jve({companyId:e??"",userId:R,from:d,to:h}),enabled:E}),{data:O=[]}=et({queryKey:["logging_periods",e??"none",l],enabled:!!e,queryFn:async()=>{if(!e)return[];const{queryFn:z}=_A({companyId:e,year:l});return z()}}),j=g.useMemo(()=>{const z=new Set;return O.forEach(U=>{if(!U.is_locked)return;const K=hbt(U.period_start);z.add(K)}),z},[O]),D=j.has(a),P=t==="owner"||t==="super_user"||n,B=bt({mutationFn:async()=>{if(!e)throw new Error("Missing company");if(!i)throw new Error("Missing user");const z=`${a}-01`;await nbt({companyId:e,periodStart:z,isLocked:!D,lockedByUserId:i})},onSuccess:async()=>{await r.invalidateQueries({queryKey:["logging_periods",e,l]})}}),M=g.useMemo(()=>_.reduce((U,K)=>{const te=new Date(K.start_at).getTime(),q=new Date(K.end_at).getTime(),V=Math.max(0,q-te);return U+V},0)/(1e3*60*60),[_]);return s.jsx("section",{style:{minHeight:0},children:s.jsx($,{direction:"column",gap:"4",children:s.jsxs(Rt,{size:"3",children:[s.jsxs($,{align:"center",justify:"between",gap:"3",wrap:"wrap",mb:"3",children:[s.jsx(He,{size:"5",children:"Logging"}),s.jsxs($,{align:"center",gap:"3",wrap:"wrap",children:[s.jsx(L,{size:"2",color:"gray",children:"Person"}),s.jsxs(Vn,{value:p,onValueChange:z=>v(z),disabled:b,children:[s.jsx(Kn,{placeholder:"Select employee"}),s.jsxs(Gn,{children:[s.jsx(wt,{value:"all",children:"All staff"}),w.map(z=>s.jsx(wt,{value:z.user_id,children:a4(z)},z.user_id))]})]})]})]}),s.jsxs(L,{size:"2",color:"gray",mb:"3",children:["Showing entries for ",m]}),s.jsx(st,{size:"4",mb:"3"}),s.jsxs($,{align:"center",gap:"3",wrap:"wrap",mb:"3",children:[s.jsxs(L,{size:"2",color:"gray",children:[_.length," total"]}),s.jsxs(Vn,{value:String(l),onValueChange:z=>{const U=a.split("-")[1]??"01";o(`${z}-${U}`)},children:[s.jsx(Kn,{}),s.jsx(Gn,{children:u.map(z=>s.jsx(wt,{value:String(z),children:z},z))})]}),s.jsx(Xa,{value:a,onValueChange:z=>o(z),children:c.map(z=>{const U=j.has(z.value);return s.jsx(wi,{value:z.value,style:U?{backgroundColor:"var(--green-3)",color:"var(--green-11)"}:void 0,children:s.jsxs($,{align:"center",gap:"1",children:[s.jsx(L,{size:"1",children:z.label}),U&&s.jsx(w1,{width:12,height:12})]})},z.value)})}),P&&s.jsxs($,{align:"center",gap:"2",children:[s.jsx(L,{size:"2",color:D?"green":"gray",children:D?"Period locked":"Period open"}),s.jsxs(pe,{size:"2",variant:"soft",onClick:()=>B.mutate(),disabled:B.isPending,children:[s.jsx(w1,{width:14,height:14}),D?"Unlock period":"Lock period"]})]})]}),s.jsx(X,{style:{overflowX:"auto"},children:b?s.jsx(L,{children:"Loading employees..."}):w.length===0&&p!=="all"?s.jsx(L,{color:"gray",children:"No employees found."}):s.jsx(Qve,{entries:_,isLoading:N})}),s.jsx($,{justify:"end",mt:"3",children:s.jsxs(L,{size:"4",weight:"bold",children:["Total: ",M.toFixed(2)," hours"]})})]})})})}function a4(e){return e.display_name||[e.first_name,e.last_name].filter(Boolean).join(" ")||e.email}function hbt(e){const t=e.match(/^(\d{4}-\d{2})/);if(t)return t[1];const n=new Date(e);if(Number.isNaN(n.getTime()))return e.slice(0,7);const i=n.getFullYear(),r=String(n.getMonth()+1).padStart(2,"0");return`${i}-${r}`}function pbt(){const{companyId:e}=En(),t=FN(),n=_a(),r=t.search.tab,[a,o]=g.useState(r||"overview");g.useEffect(()=>{r&&o(r)},[r]);const l=d=>{o(d),n({to:"/company",search:{tab:d}})},[c,u]=g.useState(()=>typeof window<"u"?window.matchMedia("(min-width: 1024px)").matches:!1);return g.useEffect(()=>{const d=window.matchMedia("(min-width: 1024px)"),h=m=>u(m.matches);try{return d.addEventListener("change",h),()=>d.removeEventListener("change",h)}catch{return d.addListener(h),()=>d.removeListener(h)}},[]),e?s.jsx("section",{style:{height:c?"100%":void 0,minHeight:0},children:s.jsxs(Ud,{defaultValue:"overview",value:a,onValueChange:l,style:{display:"flex",flexDirection:"column",height:c?"100%":void 0,minHeight:0},children:[s.jsxs(Vd,{children:[s.jsx(ii,{value:"overview",children:"Overview"}),s.jsx(ii,{value:"users",children:"Users"}),s.jsx(ii,{value:"logging",children:"Logging"}),s.jsx(ii,{value:"expansions",children:"Expansions"}),s.jsx(ii,{value:"personalization",children:"Personalization"}),s.jsx(ii,{value:"rates",children:"Rates"}),s.jsx(ii,{value:"setup",children:"Setup"})]}),s.jsxs(X,{pt:"4",style:{flex:c?1:void 0,minHeight:c?0:void 0,display:"flex",flexDirection:"column"},children:[s.jsx(ri,{value:"overview",style:{flex:1,minHeight:0,display:"flex",flexDirection:"column"},children:s.jsx(gSt,{})}),s.jsx(ri,{value:"users",style:{flex:1,minHeight:0,display:"flex",flexDirection:"column"},children:s.jsx(wSt,{})}),s.jsx(ri,{value:"logging",style:{flex:1,minHeight:0,display:"flex",flexDirection:"column"},children:s.jsx(fbt,{})}),s.jsx(ri,{value:"expansions",style:{flex:1,minHeight:0,display:"flex",flexDirection:"column"},children:s.jsx(RSt,{})}),s.jsx(ri,{value:"personalization",style:{flex:1,minHeight:0,display:"flex",flexDirection:"column"},children:s.jsx(VSt,{})}),s.jsx(ri,{value:"rates",style:{flex:1,minHeight:0,display:"flex",flexDirection:"column"},children:s.jsx(JSt,{})}),s.jsx(ri,{value:"setup",style:{flex:1,minHeight:0,display:"flex",flexDirection:"column"},children:s.jsx(YSt,{})})]})]})}):s.jsx("div",{children:"No company selected."})}function tee({selectedId:e,onSelect:t}){const[n,i]=g.useState(""),{data:r=[],isLoading:a}=et({...KFe()}),o=g.useMemo(()=>{if(!n.trim())return r;const l=n.toLowerCase();return r.filter(c=>{var u,d,h;return c.name.toLowerCase().includes(l)||((u=c.general_email)==null?void 0:u.toLowerCase().includes(l))||((d=c.address)==null?void 0:d.toLowerCase().includes(l))||((h=c.vat_number)==null?void 0:h.toLowerCase().includes(l))})},[r,n]);return a?s.jsx($,{align:"center",justify:"center",py:"8",children:s.jsx(Ei,{size:"3"})}):s.jsxs("div",{children:[s.jsx($,{gap:"2",mb:"4",align:"center",children:s.jsx(qe,{value:n,onChange:l=>i(l.target.value),placeholder:"Search companies",size:"3",style:{flex:"1 1 260px"}})}),s.jsxs(Hn,{variant:"surface",children:[s.jsx(Qn,{children:s.jsxs(ht,{children:[s.jsx(ze,{children:"Name"}),s.jsx(ze,{children:"Email"}),s.jsx(ze,{children:"Contact Person"})]})}),s.jsx(qn,{children:o.length===0?s.jsx(ht,{children:s.jsx(Oe,{colSpan:3,children:s.jsx(L,{color:"gray",children:n?"No companies found":"No companies"})})}):o.map(l=>{var c,u;return s.jsxs(ht,{style:{cursor:"pointer",backgroundColor:e===l.id?"var(--accent-a3)":void 0},onClick:()=>t(l.id),children:[s.jsx(Oe,{children:s.jsx(L,{weight:"medium",children:l.name})}),s.jsx(Oe,{children:s.jsx(L,{size:"2",color:"gray",children:l.general_email||""})}),s.jsx(Oe,{children:s.jsx(L,{size:"2",color:"gray",children:((c=l.contact_person)==null?void 0:c.display_name)||((u=l.contact_person)==null?void 0:u.email)||""})})]},l.id)})})]})]})}function mbt({open:e,onOpenChange:t,mode:n="create",initialData:i,onSaved:r}){const{success:a,error:o}=Jt(),l=Yt(),[c,u]=g.useState(""),d=j=>{if(!j)return"";const D=Q1(j);return D===""?"":D},h=j=>{if(!j)return{address_line:"",zip_code:"",city:"",country:"Norway"};const D=j.split(",").map(P=>P.trim()).filter(Boolean);return{address_line:D[0]||"",zip_code:D[1]||"",city:D[2]||"",country:D[3]||"Norway"}},[m,p]=g.useState({name:"",general_email:"",address_line:"",zip_code:"",city:"",country:"Norway",vat_number:"",contact_person_id:null}),v=(j,D)=>p(P=>({...P,[j]:D})),S=(j,D)=>p(P=>({...P,[j]:D})),{data:b=[],isFetching:w}=et({queryKey:["profiles","contact-person-search",c,m.contact_person_id],enabled:e,queryFn:async()=>{let j=re.from("profiles").select("user_id, display_name, email, first_name, last_name").limit(20);c.trim()?j=j.or(`display_name.ilike.%${c.trim()}%,email.ilike.%${c.trim()}%,first_name.ilike.%${c.trim()}%,last_name.ilike.%${c.trim()}%`):m.contact_person_id&&(j=j.eq("user_id",m.contact_person_id));const{data:D,error:P}=await j.order("display_name",{ascending:!0});if(P)throw P;return D.map(B=>({id:B.user_id,label:B.display_name||[B.first_name,B.last_name].filter(Boolean).join(" ")||B.email,email:B.email,display_name:B.display_name,first_name:B.first_name,last_name:B.last_name}))},staleTime:3e4}),R=g.useMemo(()=>b.find(j=>j.id===m.contact_person_id),[b,m.contact_person_id]);g.useEffect(()=>{if(!e){p({name:"",general_email:"",address_line:"",zip_code:"",city:"",country:"Norway",vat_number:"",contact_person_id:null}),u("");return}if(n==="edit"&&i){const j=h(i.address);p({name:i.name||"",general_email:i.general_email||"",address_line:j.address_line,zip_code:j.zip_code,city:j.city,country:j.country,vat_number:d(i.vat_number),contact_person_id:i.contact_person_id||null}),u("")}else n==="create"&&(p({name:"",general_email:"",address_line:"",zip_code:"",city:"",country:"Norway",vat_number:"",contact_person_id:null}),u(""))},[e,n,i==null?void 0:i.id]),g.useEffect(()=>{R&&m.contact_person_id&&u(R.label)},[R,m.contact_person_id]);const E=bt({mutationFn:async j=>{const P=[j.address_line,j.zip_code,j.city,j.country].filter(Boolean).join(", ")||null,{data:B,error:M}=await re.from("companies").insert({name:j.name.trim(),general_email:j.general_email.trim()||null,address:P,vat_number:j.vat_number&&j.vat_number.replace(/[\s-]/g,"")||null,contact_person_id:j.contact_person_id||null,accent_color:"indigo"}).select().single();if(M)throw M;return B},onSuccess:async()=>{await l.invalidateQueries({queryKey:["companies"]}),t(!1),a("Success!","Company was created"),r==null||r()},onError:j=>{o("Failed to create company",(j==null?void 0:j.message)??"Please try again.")}}),_=bt({mutationFn:async j=>{if(!(i!=null&&i.id))throw new Error("Missing company id");const P=[j.address_line,j.zip_code,j.city,j.country].filter(Boolean).join(", ")||null,{error:B}=await re.from("companies").update({name:j.name.trim(),general_email:j.general_email.trim()||null,address:P,vat_number:j.vat_number&&j.vat_number.replace(/[\s-]/g,"")||null,contact_person_id:j.contact_person_id||null}).eq("id",i.id);if(B)throw B},onSuccess:async()=>{await l.invalidateQueries({queryKey:["companies"]}),await l.invalidateQueries({queryKey:["company",i.id]}),t(!1),a("Success!","Company was updated"),r==null||r()},onError:j=>{o("Failed to update company",(j==null?void 0:j.message)??"Please try again.")}}),N=j=>{j.preventDefault(),n==="create"?E.mutate(m):_.mutate(m)},O=E.isPending||_.isPending;return s.jsx(rn,{open:e,onOpenChange:t,children:s.jsxs(an,{maxWidth:"600px",children:[s.jsx(cn,{children:n==="create"?"Create Company":"Edit Company"}),s.jsx("form",{onSubmit:N,children:s.jsxs($,{direction:"column",gap:"3",mt:"3",children:[s.jsx(xp,{label:s.jsxs(s.Fragment,{children:["Name ",s.jsx(L,{color:"red",children:"*"})]}),children:s.jsx(qe,{value:m.name,onChange:j=>v("name",j.target.value),placeholder:"Company name",required:!0,disabled:O})}),s.jsx(xp,{label:"General Email",children:s.jsx(qe,{type:"email",value:m.general_email,onChange:j=>v("general_email",j.target.value),placeholder:"info@company.com",disabled:O})}),s.jsx(xp,{label:"Address line",children:s.jsx(qe,{value:m.address_line,onChange:j=>S("address_line",j.target.value),placeholder:"Street and number",disabled:O})}),s.jsx(ybt,{children:s.jsxs($,{gap:"2",width:"100%",children:[s.jsx(xp,{label:"ZIP",children:s.jsx(qe,{value:m.zip_code,onChange:j=>S("zip_code",j.target.value),placeholder:"e.g., 0361",disabled:O})}),s.jsx(xp,{label:"City",style:{flex:1},children:s.jsx(qe,{value:m.city,onChange:j=>S("city",j.target.value),placeholder:"e.g., Oslo",disabled:O})})]})}),s.jsx(xp,{label:"Country",children:s.jsx(qe,{value:m.country,onChange:j=>S("country",j.target.value),disabled:O})}),s.jsx(xp,{label:"VAT Number",children:s.jsx(qe,{value:m.vat_number,onChange:j=>{const D=j.target.value.replace(/[\s-]/g,"");if(D===""||/^\d{0,9}$/.test(D)){const P=D.length<=3?D:D.length<=6?`${D.slice(0,3)} ${D.slice(3)}`:`${D.slice(0,3)} ${D.slice(3,6)} ${D.slice(6)}`;v("vat_number",P)}},placeholder:"123 456 789",disabled:O})}),s.jsxs(xp,{label:"Contact Person",children:[s.jsx(qe,{placeholder:"Search by name or email",value:c,onChange:j=>{u(j.target.value),j.target.value!==(R==null?void 0:R.label)&&v("contact_person_id",null)},disabled:O}),s.jsx(Sr,{side:"right",children:w&&s.jsx(Ei,{size:"1"})}),(c.trim()||m.contact_person_id)&&s.jsxs(X,{mt:"2",style:{border:"1px solid var(--gray-a6)",borderRadius:8,maxHeight:220,overflow:"auto"},children:[w&&s.jsx(X,{p:"3",children:s.jsx(L,{size:"2",color:"gray",children:"Searching"})}),!w&&b.length===0&&s.jsx(X,{p:"3",children:s.jsx(L,{size:"2",color:"gray",children:"No results"})}),!w&&b.length>0&&s.jsxs(s.Fragment,{children:[s.jsx(X,{p:"2",style:{cursor:"pointer",borderRadius:6,background:m.contact_person_id?"transparent":"var(--blue-a3)"},onClick:()=>{v("contact_person_id",null),u("")},children:s.jsxs($,{align:"center",justify:"between",children:[s.jsx(L,{size:"2",color:"gray",children:"None"}),!m.contact_person_id&&s.jsx(L,{size:"1",color:"blue",children:"Selected"})]})}),b.map((j,D)=>s.jsxs(g.Fragment,{children:[D>0&&s.jsx(st,{}),s.jsx(X,{p:"2",style:{cursor:"pointer",borderRadius:6,background:m.contact_person_id===j.id?"var(--blue-a3)":"transparent"},onClick:()=>{v("contact_person_id",j.id),u(j.label)},children:s.jsxs($,{align:"center",justify:"between",children:[s.jsxs("div",{children:[s.jsx(L,{weight:"medium",size:"2",children:j.label}),j.display_name&&s.jsx(L,{size:"1",color:"gray",style:{marginLeft:6},children:j.email})]}),m.contact_person_id===j.id&&s.jsx(L,{size:"1",color:"blue",children:"Selected"})]})})]},j.id))]})]})]}),s.jsxs($,{gap:"3",justify:"end",mt:"4",children:[s.jsx(Dn,{children:s.jsx(pe,{type:"button",variant:"soft",disabled:O,children:"Cancel"})}),s.jsx(pe,{type:"submit",disabled:O,children:O?n==="create"?"Creating":"Saving":n==="create"?"Create":"Save"})]})]})})]})})}function xp({label:e,children:t,style:n}){return s.jsxs("div",{style:n,children:[s.jsx(L,{as:"div",size:"2",color:"gray",style:{marginBottom:6},children:e}),t]})}function ybt({children:e}){return s.jsx($,{direction:"column",gap:"2",children:e})}function Qj(){return s.jsxs(X,{children:[s.jsxs($,{align:"center",justify:"between",gap:"2",children:[s.jsxs("div",{children:[s.jsx(Di,{mb:"2",children:s.jsx(X,{style:{width:200,height:24}})}),s.jsx(Di,{children:s.jsx(X,{style:{width:150,height:16}})})]}),s.jsxs($,{gap:"2",align:"center",children:[s.jsx(Di,{children:s.jsx(X,{style:{width:60,height:24}})}),s.jsx(Di,{children:s.jsx(X,{style:{width:32,height:32}})}),s.jsx(Di,{children:s.jsx(X,{style:{width:32,height:32}})})]})]}),s.jsx(st,{my:"3"}),s.jsxs(Zn,{columns:{initial:"1",sm:"2"},gap:"4",mb:"3",children:[s.jsxs($,{direction:"column",gap:"2",children:[s.jsxs("div",{children:[s.jsx(Di,{mb:"1",children:s.jsx(X,{style:{width:50,height:12}})}),s.jsx(Di,{children:s.jsx(X,{style:{width:180,height:16}})})]}),s.jsxs("div",{children:[s.jsx(Di,{mb:"1",children:s.jsx(X,{style:{width:50,height:12}})}),s.jsx(Di,{children:s.jsx(X,{style:{width:150,height:16}})})]}),s.jsxs("div",{children:[s.jsx(Di,{mb:"1",children:s.jsx(X,{style:{width:40,height:12}})}),s.jsx(Di,{children:s.jsx(X,{style:{width:120,height:16}})})]})]}),s.jsxs(X,{children:[s.jsx(Di,{mb:"2",children:s.jsx(X,{style:{width:60,height:16}})}),s.jsx(Di,{children:s.jsx(X,{style:{width:"100%",height:200}})})]})]}),s.jsxs($,{align:"baseline",justify:"between",mb:"2",children:[s.jsx(Di,{children:s.jsx(X,{style:{width:80,height:16}})}),s.jsx(Di,{children:s.jsx(X,{style:{width:100,height:24}})})]}),s.jsx(X,{style:{border:"1px solid var(--gray-a6)",borderRadius:8,overflow:"hidden"},children:s.jsx(Di,{children:s.jsx(X,{style:{width:"100%",height:200}})})}),s.jsx($,{align:"baseline",justify:"between",mb:"2",mt:"4",children:s.jsx(Di,{children:s.jsx(X,{style:{width:100,height:16}})})}),s.jsx(X,{style:{border:"1px solid var(--gray-a6)",borderRadius:8,overflow:"hidden"},children:s.jsx(Di,{children:s.jsx(X,{style:{width:"100%",height:150}})})})]})}function gbt(){return{queryKey:["users","index"],queryFn:async()=>{const{data:e,error:t}=await re.from("profiles").select(`
          user_id,
          email,
          display_name,
          first_name,
          last_name,
          phone,
          superuser,
          created_at
        `).order("created_at",{ascending:!1});if(t)throw t;return e}}}function vbt({userId:e}){return{queryKey:["users","detail",e],queryFn:async()=>{const{data:t,error:n}=await re.from("profiles").select(`
          user_id,
          email,
          display_name,
          first_name,
          last_name,
          phone,
          superuser,
          bio,
          locale,
          timezone,
          avatar_url,
          created_at,
          preferences,
          primary_address_id,
          primary_address:primary_address_id (
            id,
            name,
            address_line,
            zip_code,
            city,
            country
          )
        `).eq("user_id",e).maybeSingle();if(n)throw n;if(!t)return null;const i=(Array.isArray(t.primary_address)?t.primary_address[0]:t.primary_address)??null;return{user_id:t.user_id,email:t.email,display_name:t.display_name??null,first_name:t.first_name??null,last_name:t.last_name??null,phone:t.phone??null,superuser:t.superuser,bio:t.bio??null,locale:t.locale??null,timezone:t.timezone??null,avatar_url:t.avatar_url??null,created_at:t.created_at,preferences:t.preferences??null,primary_address_id:t.primary_address_id??null,primary_address:i}}}}function Sbt({userId:e}){return{queryKey:["users","companies",e],queryFn:async()=>{const{data:t,error:n}=await re.from("company_users").select(`
          company_id,
          role,
          companies (
            id,
            name
          )
        `).eq("user_id",e);if(n)throw n;return t.map(i=>({company_id:i.company_id,company_name:i.companies.name,role:i.role}))}}}function t0e({companyId:e}){return{queryKey:["companies",e,"users"],queryFn:async()=>{const{data:t,error:n}=await re.from("company_users").select("user_id, role").eq("company_id",e);if(n)throw n;if(!t||t.length===0)return[];const i=t.map(c=>c.user_id),{data:r,error:a}=await re.from("profiles").select("user_id, email, display_name, first_name, last_name, superuser").in("user_id",i);if(a)throw a;const o=new Map((r??[]).map(c=>[c.user_id,c]));return t.map(c=>{const u=o.get(c.user_id);return{user_id:c.user_id,email:(u==null?void 0:u.email)??"",display_name:(u==null?void 0:u.display_name)??null,first_name:(u==null?void 0:u.first_name)??null,last_name:(u==null?void 0:u.last_name)??null,role:c.role,superuser:(u==null?void 0:u.superuser)??!1}}).filter(c=>c.email).sort((c,u)=>c.role!==u.role?c.role.localeCompare(u.role):c.email.localeCompare(u.email))}}}async function bbt({companyId:e,userId:t,role:n}){const{data:i,error:r}=await re.auth.getUser();if(r)throw r;const a=i.user.id;if(!a)throw new Error("Not authenticated");const{data:o,error:l}=await re.rpc("set_company_user_role",{p_company_id:e,p_target_user_id:t,p_new_role:n,p_actor_user_id:a});if(l)throw l;return o}async function xbt({companyId:e,userId:t}){const{error:n}=await re.from("company_users").delete().eq("company_id",e).eq("user_id",t);if(n)throw n}async function wbt(){const{data:e,error:t}=await re.auth.getUser();if(t)throw t;const n=e.user.id;if(!n)throw new Error("Not authenticated");const{data:i,error:r}=await re.from("profiles").select("superuser").eq("user_id",n).maybeSingle();if(r)throw r;if(!(i!=null&&i.superuser))throw new Error("Only superusers can create dummy companies. Please ensure you are logged in as a superuser.");const a=new Date,o=a.toISOString().replace(/[:.]/g,"-").slice(0,-5),l=`[DUMMY] Test Company ${o}`,{data:c,error:u}=await re.from("companies").insert({name:l,general_email:`dummy-${o}@test.com`,address:"123 Test Street, Test City, 12345, Test Country",vat_number:`TEST-VAT-${o.slice(-8)}`}).select("id").single();if(u)throw u;if(!c)throw new Error("Failed to create company");const d=c.id,{error:h}=await re.from("company_users").insert({company_id:d,user_id:n,role:"owner"});if(h)throw new Error(`Failed to add user as owner: ${h.message}. This may be an RLS policy issue.`);const{error:m}=await re.from("company_expansions").insert({company_id:d,accounting_api_read_only:!1,latest_feed_open_to_freelancers:!1,crew_rate_per_day:2500,crew_rate_per_hour:350,vehicle_daily_rate:1500,vehicle_distance_rate:5.5,fixed_rate_per_day:.8,fixed_rate_start_day:3});if(m)throw m;const p=["Audio Equipment","Video Equipment","Lighting","Power Distribution","Cables & Connectors","Staging","Rigging","Tools"],{data:v}=await re.from("item_categories").insert(p.map(le=>({company_id:d,name:le}))).select("id, name"),S=new Map((v||[]).map(le=>[le.name,le.id])),w=["BrandX","TechPro","PowerMax","Elite","Standard"].map(le=>`${le} ${o.slice(-8)}`),{data:R,error:E}=await re.from("item_brands").insert(w.map(le=>({company_id:d,name:le}))).select("id, name");if(E)throw E;if(!R||R.length===0)throw new Error("Failed to create brands");const _=new Map(R.map(le=>[le.name,le.id])),N=["Microphone","Speaker","Mixer","Amplifier","Cable","Stand","Light Fixture","LED Panel","Power Strip","Adapter","Transmitter","Receiver","Monitor","Dimmer","Controller","Lens","Camera","Tripod","Battery","Charger"],O=[];for(let le=0;le<200;le++){const ue=N[le%N.length],De=Math.floor(le/N.length),Le=De>0?`${ue} ${De+1}`:ue,Be=le%p.length,ke=p[Be],Ee=le%w.length,lt=w[Ee];O.push({company_id:d,name:`${Le} #${le+1}`,category_id:S.get(ke)??null,brand_id:_.get(lt)??null,model:`Model-${le%10+1}`,total_quantity:Math.floor(Math.random()*50)+1,active:Math.random()>.1,allow_individual_booking:Math.random()>.3,internally_owned:!0,external_owner_id:null,notes:le%5===0?`Test item ${le+1} notes`:null})}const{data:j,error:D}=await re.from("items").insert(O).select("id, allow_individual_booking");if(D)throw D;if(!j||j.length===0)throw new Error("Failed to create items");const P=j.map(le=>le.id),B=j.filter(le=>le.allow_individual_booking===!0).map(le=>le.id);B.length===0&&console.warn(`Warning: No items allow individual booking. Created ${P.length} items, but none can be reserved directly.`);const M=["Basic Audio Setup","Full Stage Package","Lighting Rig","Video Production Kit","Complete Sound System","Portable Setup","Large Event Package","Small Event Package"],{data:z,error:U}=await re.from("item_groups").insert(M.map((le,ue)=>{var De;return{company_id:d,name:le,category_id:v&&ue<v.length?v[ue].id:((De=v==null?void 0:v[0])==null?void 0:De.id)??null,active:!0,internally_owned:!0,external_owner_id:null,group_type:"group"}})).select("id");if(U)throw U;const K=(z||[]).map(le=>le.id);if(P.length>0&&K.length>0){const le=[];K.forEach(ue=>{const De=Math.floor(Math.random()*6)+5;[...P].sort(()=>Math.random()-.5).slice(0,De).forEach(Be=>{le.push({group_id:ue,item_id:Be,quantity:Math.floor(Math.random()*3)+1})})}),le.length>0&&await re.from("group_items").insert(le)}const te=["Van A","Truck B","Car C"],q=["van_medium","C1","passenger_car_small"],{data:V,error:Q}=await re.from("vehicles").insert(te.slice(0,3).map((le,ue)=>({company_id:d,name:le,vehicle_category:q[ue],active:!0,deleted:!1,internally_owned:!0,external_owner_id:null}))).select("id");if(Q)throw Q;const ce=(V||[]).map(le=>le.id),ae=["Test Customer A","Test Customer B","Test Customer C","Test Partner D"],{data:G,error:H}=await re.from("customers").insert(ae.map((le,ue)=>({company_id:d,name:le,email:`${le.toLowerCase().replace(/\s+/g,"-")}@test.com`,phone:`+1234567890${ue}`,address:`${ue+100} Customer Street, Test City`,is_partner:ue===3,notes:`Dummy customer ${ue+1}`}))).select("id, name");if(H)throw H;const T=(G||[]).map(le=>le.id);let Y=[];if(T.length>0&&G){const le=[];T.forEach((Le,Be)=>{le.push({company_id:d,customer_id:Le,name:`Contact Person ${Be+1}`,email:`contact${Be+1}@test.com`,phone:`+123456789${Be}`,title:["Manager","Director","Coordinator","Lead"][Be]??null})});const{data:ue,error:De}=await re.from("contacts").insert(le).select("id");if(De)throw De;Y=(ue||[]).map(Le=>Le.id)}const ie=new Date(a);ie.setMonth(a.getMonth()-1);const ne=new Date(a);ne.setMonth(a.getMonth()+2);const J=[],ee=ne.getTime()-ie.getTime(),se=new Date(a);se.setHours(a.getHours()-2);const de=new Date(a);de.setHours(a.getHours()+6),J.push({company_id:d,title:`[IN PROGRESS] Current Job - ${o}`,status:"in_progress",start_at:se.toISOString(),end_at:de.toISOString(),description:"This is a job currently in progress for testing",customer_id:T[0]??null,customer_contact_id:Y[0]??null,project_lead_user_id:n});for(let le=0;le<29;le++){const ue=Math.random()*ee,De=new Date(ie.getTime()+ue),Le=(Math.random()*5+1)*24*60*60*1e3,Be=new Date(De.getTime()+Le);let ke;Be<a?ke=Math.random()>.9?"canceled":"completed":De>a?ke=["draft","planned","requested","confirmed"][Math.floor(Math.random()*4)]:ke="confirmed",J.push({company_id:d,title:`Test Job ${le+1} - ${De.toISOString().split("T")[0]}`,status:ke,start_at:De.toISOString(),end_at:Be.toISOString(),description:`Dummy job ${le+1} for testing purposes`,customer_id:T[Math.floor(Math.random()*T.length)]??null,customer_contact_id:Y[Math.floor(Math.random()*Y.length)]??null,project_lead_user_id:n})}const{data:he,error:me}=await re.from("jobs").insert(J).select("id, start_at, end_at, status");if(me)throw me;const we=(he||[]).map(le=>le.id);if(we.length>0){const le=[];we.forEach((Be,ke)=>{le.push({company_id:d,name:`Job Address ${ke+1}`,address_line:`${100+ke} Event Street`,zip_code:`${1e4+ke}`,city:"Test City",country:"Test Country",is_personal:!1})});const{data:ue,error:De}=await re.from("addresses").insert(le).select("id");if(De)throw De;const Le=(ue||[]).map(Be=>Be.id);Le.length===we.length&&await Promise.all(we.map((Be,ke)=>re.from("jobs").update({job_address_id:Le[ke]}).eq("id",Be)))}if(we.length>0&&B.length>0){const le=[];if((he||[]).slice(0,Math.floor(we.length/2)).forEach(De=>{De.start_at&&De.end_at&&le.push({company_id:d,job_id:De.id,title:"Equipment Period",start_at:De.start_at,end_at:De.end_at,category:"equipment",notes:"Test equipment time period"})}),le.length>0){const{data:De}=await re.from("time_periods").insert(le).select("id, job_id");if(De&&B.length>0){const Le=[];if(De.forEach(Be=>{const ke=Math.min(Math.floor(Math.random()*6)+3,B.length);[...B].sort(()=>Math.random()-.5).slice(0,ke).forEach(lt=>{Le.push({time_period_id:Be.id,item_id:lt,quantity:Math.floor(Math.random()*5)+1,source_kind:"direct",forced:!1})})}),Le.length>0){const{error:Be}=await re.from("reserved_items").insert(Le);if(Be)throw new Error(`Failed to create reserved_items: ${Be.message}. This may be due to items not allowing individual booking or time period validation issues.`)}}}}return{companyId:d,companyName:l,itemsCreated:P.length,groupsCreated:K.length,vehiclesCreated:ce.length,customersCreated:T.length,jobsCreated:we.length}}function Ebt({open:e,onOpenChange:t,companyId:n,onAssigned:i}){const{success:r,error:a}=Jt(),o=Yt(),[l,c]=g.useState(""),[u,d]=g.useState(null),[h,m]=g.useState("employee"),{data:p=[]}=et({...t0e({companyId:n}),enabled:e&&!!n}),v=g.useMemo(()=>new Set(p.map(_=>_.user_id)),[p]),{data:S=[],isFetching:b}=et({queryKey:["users","search",l,n],enabled:e&&l.trim().length>0,queryFn:async()=>{const{data:_,error:N}=await re.from("profiles").select("user_id, email, display_name, first_name, last_name").or(`display_name.ilike.%${l.trim()}%,email.ilike.%${l.trim()}%,first_name.ilike.%${l.trim()}%,last_name.ilike.%${l.trim()}%`).limit(20).order("email",{ascending:!0});if(N)throw N;return(_??[]).filter(O=>!v.has(O.user_id))},staleTime:3e4}),w=g.useMemo(()=>S.find(_=>_.user_id===u),[S,u]),R=bt({mutationFn:async()=>{if(!u||!n)throw new Error("Please select a user");return await bbt({companyId:n,userId:u,role:h})},onSuccess:async()=>{r("Success!","User assigned to company"),c(""),d(null),m("employee"),t(!1),await o.invalidateQueries({queryKey:["companies",n,"users"]}),await o.invalidateQueries({predicate:_=>Array.isArray(_.queryKey)&&_.queryKey[0]==="company"&&_.queryKey[1]===n&&_.queryKey[2]==="crew-index"}),i==null||i()},onError:_=>{a("Failed to assign user",(_==null?void 0:_.message)??"Please try again.")}}),E=!!u&&!!n&&!!h;return s.jsx(rn,{open:e,onOpenChange:t,children:s.jsxs(an,{maxWidth:"500px",children:[s.jsx(cn,{children:"Assign User to Company"}),s.jsxs($,{direction:"column",gap:"3",mt:"3",children:[s.jsxs("div",{children:[s.jsx(L,{as:"div",size:"2",color:"gray",style:{marginBottom:6},children:"Search for user"}),s.jsx(qe,{placeholder:"Search by name or email",value:l,onChange:_=>{c(_.target.value),d(null)},disabled:R.isPending,children:s.jsx(Sr,{side:"right",children:b&&s.jsx(Ei,{size:"1"})})})]}),l.trim()&&S.length>0&&s.jsx(X,{style:{border:"1px solid var(--gray-a6)",borderRadius:8,maxHeight:200,overflow:"auto"},children:S.map((_,N)=>s.jsxs(g.Fragment,{children:[N>0&&s.jsx(st,{}),s.jsx(X,{p:"2",style:{cursor:"pointer",borderRadius:6,background:u===_.user_id?"var(--blue-a3)":"transparent"},onClick:()=>d(_.user_id),children:s.jsxs($,{align:"center",justify:"between",children:[s.jsxs("div",{children:[s.jsx(L,{weight:"medium",size:"2",children:_.display_name||[_.first_name,_.last_name].filter(Boolean).join(" ")||_.email}),_.display_name&&s.jsx(L,{size:"1",color:"gray",children:_.email})]}),u===_.user_id&&s.jsx(L,{size:"1",color:"blue",children:"Selected"})]})})]},_.user_id))}),l.trim()&&S.length===0&&!b&&s.jsx(L,{size:"2",color:"gray",children:"No users found (excluding users already in company)"}),w&&s.jsx(s.Fragment,{children:s.jsxs("div",{children:[s.jsx(L,{as:"div",size:"2",color:"gray",style:{marginBottom:6},children:"Role"}),s.jsxs(Vn,{value:h,onValueChange:_=>m(_),disabled:R.isPending,children:[s.jsx(Kn,{}),s.jsxs(Gn,{children:[s.jsx(wt,{value:"owner",children:"Owner"}),s.jsx(wt,{value:"employee",children:"Employee"}),s.jsx(wt,{value:"freelancer",children:"Freelancer"}),s.jsx(wt,{value:"super_user",children:"Super User"})]})]}),s.jsxs(L,{size:"1",color:"gray",mt:"1",children:[h==="owner"&&"Full access to company settings and all resources",h==="employee"&&"Access to most company resources, but not settings",h==="freelancer"&&"Limited access to jobs and calendar",h==="super_user"&&"Full access similar to owner"]})]})}),s.jsxs($,{gap:"3",justify:"end",mt:"4",children:[s.jsx(Dn,{children:s.jsx(pe,{type:"button",variant:"soft",disabled:R.isPending,children:"Cancel"})}),s.jsx(pe,{type:"button",onClick:()=>R.mutate(),disabled:!E||R.isPending,children:R.isPending?"Assigning":"Assign"})]})]})]})})}function nee({id:e,onDeleted:t,onEdit:n,onDelete:i}){const{data:r,isLoading:a,isError:o,error:l}=et({...zO({companyId:e??"__none__"}),enabled:!!e}),{data:c=[],isLoading:u}=et({...t0e({companyId:e??"__none__"}),enabled:!!e}),d=Yt(),{success:h,error:m}=Jt(),[p,v]=g.useState(!1),[S,b]=g.useState(null),w=bt({mutationFn:async O=>{if(!e)throw new Error("No company selected");return await xbt({companyId:e,userId:O})},onSuccess:async()=>{await d.invalidateQueries({queryKey:["companies",e,"users"]}),await d.invalidateQueries({predicate:O=>Array.isArray(O.queryKey)&&O.queryKey[0]==="company"&&O.queryKey[1]===e&&O.queryKey[2]==="crew-index"}),b(null),h("Success!","User removed from company")},onError:O=>{m("Failed to remove user",(O==null?void 0:O.message)??"Please try again.")}});if(g.useEffect(()=>{if(e&&!a){const O=(l==null?void 0:l.message)||"",j=O.includes("Cannot coerce")||O.includes("JSON object")||O.includes("No rows returned")||O.includes("PGRST116");(!r&&!o||o&&j)&&(t==null||t())}},[e,a,r,o,l,t]),!e)return s.jsx(L,{color:"gray",children:"Select a company to view details."});if(a)return s.jsx(Qj,{});const R=(l==null?void 0:l.message)||"",E=R.includes("Cannot coerce")||R.includes("JSON object")||R.includes("No rows returned")||R.includes("PGRST116");if(o&&E)return s.jsx(L,{color:"gray",children:"Select a company to view details."});if(o)return s.jsxs(L,{color:"red",children:["Failed to load."," ",s.jsx(Ou,{children:(l==null?void 0:l.message)||"Unknown error"})]});if(!r)return s.jsx(L,{color:"gray",children:"Not found."});const _=r,N=O=>O?new Date(O).toLocaleString(void 0,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"";return s.jsxs(X,{children:[s.jsxs($,{align:"center",justify:"between",gap:"2",mb:"3",children:[s.jsx(L,{as:"div",size:"4",weight:"bold",children:_.name}),s.jsxs($,{gap:"2",align:"center",children:[s.jsx(pe,{size:"2",variant:"soft",onClick:()=>{n==null||n()},children:s.jsx(gi,{})}),s.jsx(pe,{size:"2",variant:"surface",color:"red",onClick:()=>{i==null||i()},children:s.jsx(vi,{})})]})]}),s.jsx(st,{my:"3"}),s.jsxs($,{direction:"column",gap:"3",children:[s.jsxs("div",{children:[s.jsx(L,{as:"div",size:"1",color:"gray",style:{marginBottom:4},children:"Company ID"}),s.jsx(L,{size:"2",children:_.id})]}),s.jsxs("div",{children:[s.jsx(L,{as:"div",size:"1",color:"gray",style:{marginBottom:4},children:"Created"}),s.jsx(L,{size:"2",children:N(_.created_at)})]}),s.jsxs("div",{children:[s.jsx(L,{as:"div",size:"1",color:"gray",style:{marginBottom:4},children:"VAT number"}),s.jsx(L,{size:"2",children:Q1(_.vat_number)})]}),_.general_email&&s.jsxs("div",{children:[s.jsx(L,{as:"div",size:"1",color:"gray",style:{marginBottom:4},children:"General email"}),s.jsx(L,{size:"2",children:s.jsx("a",{href:`mailto:${_.general_email}`,style:{color:"inherit"},children:_.general_email})})]})]}),s.jsx(st,{my:"3"}),s.jsx(L,{as:"div",size:"2",weight:"bold",mb:"2",children:"Address"}),_.address?(()=>{const O=_.address.split(",").map(D=>D.trim()).filter(Boolean),j={address_line:O[0]||"",zip_code:O[1]||"",city:O[2]||"",country:O[3]||""};return s.jsxs(Zn,{columns:{initial:"1",sm:"2"},gap:"4",mb:"3",children:[s.jsxs($,{direction:"column",gap:"2",children:[s.jsxs("div",{children:[s.jsx(L,{as:"div",size:"1",color:"gray",style:{marginBottom:4},children:"Street"}),s.jsx(L,{size:"2",children:j.address_line||""})]}),s.jsxs("div",{children:[s.jsx(L,{as:"div",size:"1",color:"gray",style:{marginBottom:4},children:"City"}),s.jsx(L,{size:"2",children:(j.zip_code||j.city)&&`${j.zip_code} ${j.city}`.trim()||""})]}),s.jsxs("div",{children:[s.jsx(L,{as:"div",size:"1",color:"gray",style:{marginBottom:4},children:"Country"}),s.jsx(L,{size:"2",children:j.country||""})]})]}),s.jsxs(X,{children:[s.jsx(L,{as:"div",size:"2",color:"gray",mb:"2",children:"Location"}),s.jsx(nv,{query:_.address,zoom:15,style:{maxWidth:"100%"}})]})]})})():s.jsx(L,{size:"2",color:"gray",mb:"3",children:"No address on file"}),s.jsx(st,{my:"3"}),s.jsxs(X,{children:[s.jsx(L,{as:"div",size:"2",weight:"bold",mb:"2",children:"Contact person"}),s.jsx(L,{as:"div",size:"1",color:"gray",mb:"3",children:"For system owner to contact this company"}),_.contact_person?s.jsxs($,{direction:"column",gap:"2",style:{padding:12,background:"var(--gray-a2)",borderRadius:6},children:[s.jsx("div",{children:s.jsx(L,{as:"div",size:"2",weight:"medium",children:_.contact_person.display_name||"No name"})}),_.contact_person.email&&s.jsxs("div",{children:[s.jsx(L,{as:"div",size:"1",color:"gray",style:{marginBottom:2},children:"Email"}),s.jsx(L,{as:"div",size:"2",children:s.jsx("a",{href:`mailto:${_.contact_person.email}`,style:{color:"inherit"},children:_.contact_person.email})})]}),_.contact_person.phone&&s.jsxs("div",{children:[s.jsx(L,{as:"div",size:"1",color:"gray",style:{marginBottom:2},children:"Phone"}),s.jsx(L,{as:"div",size:"2",children:s.jsx("a",{href:`tel:${_.contact_person.phone}`,style:{color:"inherit"},children:Ta(_.contact_person.phone)})})]})]}):s.jsx(L,{size:"2",color:"gray",children:"No contact person assigned"})]}),s.jsx(st,{my:"3"}),s.jsxs(X,{children:[s.jsxs($,{align:"center",justify:"between",mb:"2",children:[s.jsx(L,{as:"div",size:"2",weight:"bold",children:"Company Users"}),s.jsxs(pe,{size:"2",variant:"soft",onClick:()=>v(!0),disabled:!e,children:[s.jsx(yi,{width:14,height:14}),"Add User"]})]}),s.jsx(L,{as:"div",size:"1",color:"gray",mb:"3",children:"Manage users and their roles in this company"}),u?s.jsx(L,{size:"2",color:"gray",children:"Loading users..."}):c.length===0?s.jsx(L,{size:"2",color:"gray",children:"No users assigned to this company"}):s.jsxs(Hn,{variant:"surface",size:"1",children:[s.jsx(Qn,{children:s.jsxs(ht,{children:[s.jsx(ze,{children:"User"}),s.jsx(ze,{children:"Role"}),s.jsx(ze,{style:{width:80,textAlign:"right"}})]})}),s.jsx(qn,{children:c.map(O=>s.jsxs(ht,{children:[s.jsx(Oe,{children:s.jsxs($,{direction:"column",gap:"1",children:[s.jsx(L,{size:"2",weight:"medium",children:O.display_name||[O.first_name,O.last_name].filter(Boolean).join(" ")||O.email}),O.display_name&&s.jsx(L,{size:"1",color:"gray",children:O.email}),O.superuser&&s.jsx(mt,{size:"1",color:"purple",variant:"soft",children:"Superuser"})]})}),s.jsx(Oe,{children:s.jsx(mt,{size:"1",color:O.role==="owner"?"purple":O.role==="super_user"?"blue":O.role==="employee"?"green":"gray",children:O.role==="super_user"?"Super User":O.role.charAt(0).toUpperCase()+O.role.slice(1)})}),s.jsx(Oe,{style:{textAlign:"right"},children:s.jsx(pe,{size:"1",variant:"ghost",color:"red",onClick:()=>b(O),disabled:w.isPending,children:s.jsx(vi,{width:14,height:14})})})]},O.user_id))})]})]}),s.jsx(Ebt,{open:p,onOpenChange:v,companyId:e??"",onAssigned:async()=>{await d.invalidateQueries({queryKey:["companies",e,"users"]}),await d.invalidateQueries({predicate:O=>Array.isArray(O.queryKey)&&O.queryKey[0]==="company"&&O.queryKey[1]===e&&O.queryKey[2]==="crew-index"})}}),S&&s.jsxs(X,{p:"3",style:{border:"1px solid var(--red-a6)",borderRadius:8,background:"var(--red-a2)",marginTop:16},children:[s.jsxs(L,{size:"2",weight:"medium",mb:"2",children:["Remove ",S.display_name||S.email,"?"]}),s.jsx(L,{size:"1",color:"gray",mb:"3",children:"This will remove them from the company. They will lose access to company resources."}),s.jsxs($,{gap:"2",children:[s.jsx(pe,{size:"2",variant:"soft",onClick:()=>b(null),children:"Cancel"}),s.jsx(pe,{size:"2",variant:"solid",color:"red",onClick:()=>{w.mutate(S.user_id)},disabled:w.isPending,children:w.isPending?"Removing...":"Remove"})]})]})]})}function iee({selectedId:e,onSelect:t}){const[n,i]=g.useState(""),{data:r=[],isLoading:a}=et({...gbt()}),o=g.useMemo(()=>{if(!n.trim())return r;const l=n.toLowerCase();return r.filter(c=>{var u,d,h,m;return c.email.toLowerCase().includes(l)||((u=c.display_name)==null?void 0:u.toLowerCase().includes(l))||((d=c.first_name)==null?void 0:d.toLowerCase().includes(l))||((h=c.last_name)==null?void 0:h.toLowerCase().includes(l))||((m=c.phone)==null?void 0:m.toLowerCase().includes(l))})},[r,n]);return a?s.jsx($,{align:"center",justify:"center",py:"8",children:s.jsx(Ei,{size:"3"})}):s.jsxs("div",{children:[s.jsx($,{gap:"2",mb:"4",align:"center",children:s.jsx(qe,{value:n,onChange:l=>i(l.target.value),placeholder:"Search users",size:"3",style:{flex:"1 1 260px"}})}),s.jsxs(Hn,{variant:"surface",children:[s.jsx(Qn,{children:s.jsxs(ht,{children:[s.jsx(ze,{children:"Email"}),s.jsx(ze,{children:"Name"}),s.jsx(ze,{children:"Phone"})]})}),s.jsx(qn,{children:o.length===0?s.jsx(ht,{children:s.jsx(Oe,{colSpan:3,children:s.jsx(L,{color:"gray",children:n?"No users found":"No users"})})}):o.map(l=>s.jsxs(ht,{style:{cursor:"pointer",backgroundColor:e===l.user_id?"var(--accent-a3)":void 0},onClick:()=>t(l.user_id),children:[s.jsx(Oe,{children:s.jsx(L,{weight:"medium",children:l.email})}),s.jsx(Oe,{children:s.jsx(L,{size:"2",color:"gray",children:l.display_name||[l.first_name,l.last_name].filter(Boolean).join(" ")||""})}),s.jsx(Oe,{children:s.jsx(L,{size:"2",color:"gray",children:Ta(l.phone)})})]},l.user_id))})]})]})}function _bt({open:e,onOpenChange:t,initialData:n,onSaved:i}){const{success:r,error:a}=Jt(),o=Yt(),[l,c]=g.useState({email:"",display_name:"",first_name:"",last_name:"",phone:"",superuser:!1}),u=(v,S)=>c(b=>({...b,[v]:S}));g.useEffect(()=>{if(!e){c({email:"",display_name:"",first_name:"",last_name:"",phone:"",superuser:!1});return}n&&c({email:n.email||"",display_name:n.display_name||"",first_name:n.first_name||"",last_name:n.last_name||"",phone:n.phone||"",superuser:n.superuser||!1})},[e,n==null?void 0:n.user_id]);const d=bt({mutationFn:async v=>{if(!(n!=null&&n.user_id))throw new Error("Missing user id");const{error:S}=await re.from("profiles").update({display_name:v.display_name.trim()||null,first_name:v.first_name.trim()||null,last_name:v.last_name.trim()||null,phone:v.phone.trim()||null,superuser:v.superuser}).eq("user_id",n.user_id);if(S)throw S},onSuccess:async()=>{await o.invalidateQueries({queryKey:["users"]}),await o.invalidateQueries({queryKey:["users","detail",n.user_id]}),t(!1),r("Success!","User was updated"),i==null||i()},onError:v=>{a("Failed to update user",(v==null?void 0:v.message)??"Please try again.")}}),h=bt({mutationFn:async()=>{if(!(n!=null&&n.user_id))throw new Error("Missing user id");const{error:v}=await re.from("profiles").delete().eq("user_id",n.user_id);if(v)throw v},onSuccess:async()=>{await o.invalidateQueries({queryKey:["users"]}),t(!1),r("Success!","User was deleted"),i==null||i()},onError:v=>{a("Failed to delete user",(v==null?void 0:v.message)??"Please try again.")}}),m=v=>{v.preventDefault(),d.mutate(l)},p=d.isPending||h.isPending;return s.jsx(rn,{open:e,onOpenChange:t,children:s.jsxs(an,{maxWidth:"600px",children:[s.jsx(cn,{children:"Edit User"}),s.jsx("form",{onSubmit:m,children:s.jsxs($,{direction:"column",gap:"4",mt:"4",children:[s.jsxs($,{direction:"column",gap:"2",children:[s.jsxs(L,{size:"2",weight:"medium",children:["Email ",s.jsx(L,{color:"red",children:"*"})]}),s.jsx(qe,{value:l.email,disabled:!0,placeholder:"user@example.com"}),s.jsx(L,{size:"1",color:"gray",children:"Email cannot be changed"})]}),s.jsxs($,{direction:"column",gap:"2",children:[s.jsx(L,{size:"2",weight:"medium",children:"Display Name"}),s.jsx(qe,{value:l.display_name,onChange:v=>u("display_name",v.target.value),placeholder:"Display name",disabled:p})]}),s.jsxs($,{direction:"column",gap:"2",children:[s.jsx(L,{size:"2",weight:"medium",children:"First Name"}),s.jsx(qe,{value:l.first_name,onChange:v=>u("first_name",v.target.value),placeholder:"First name",disabled:p})]}),s.jsxs($,{direction:"column",gap:"2",children:[s.jsx(L,{size:"2",weight:"medium",children:"Last Name"}),s.jsx(qe,{value:l.last_name,onChange:v=>u("last_name",v.target.value),placeholder:"Last name",disabled:p})]}),s.jsxs($,{direction:"column",gap:"2",children:[s.jsx(L,{size:"2",weight:"medium",children:"Phone"}),s.jsx(qe,{value:l.phone,onChange:v=>u("phone",v.target.value),placeholder:"Phone number",disabled:p})]}),s.jsxs($,{gap:"3",align:"center",children:[s.jsx(fr,{checked:l.superuser,onCheckedChange:v=>u("superuser",v===!0),disabled:p}),s.jsx(L,{size:"2",weight:"medium",children:"Superuser"})]}),s.jsxs($,{gap:"3",justify:"end",mt:"4",children:[s.jsx(Dn,{children:s.jsx(pe,{type:"button",variant:"soft",disabled:p,children:"Cancel"})}),s.jsx(pe,{type:"button",variant:"soft",color:"red",onClick:v=>{v.preventDefault(),confirm(`Are you sure you want to delete ${n==null?void 0:n.email}? This action cannot be undone.`)&&h.mutate()},disabled:p,children:h.isPending?"Deleting":"Delete User"}),s.jsx(pe,{type:"submit",disabled:p,children:p?"Saving":"Save"})]})]})})]})})}function ree({id:e,onDeleted:t,onEdit:n,onDelete:i}){const{data:r,isLoading:a,isError:o,error:l}=et({...vbt({userId:e??"__none__"}),enabled:!!e}),{data:c=[]}=et({...Sbt({userId:e??"__none__"}),enabled:!!e});g.useEffect(()=>{e&&!a&&r===void 0&&!o&&t&&t()},[e,a,r,o,t]);const u=g.useMemo(()=>{if(!(r!=null&&r.avatar_url))return null;const{data:m}=re.storage.from("avatars").getPublicUrl(r.avatar_url);return m.publicUrl},[r==null?void 0:r.avatar_url]);if(!e)return s.jsx(L,{color:"gray",children:"Select a user to view details."});if(a)return s.jsx(Qj,{});if(o)return s.jsxs(L,{color:"red",children:["Failed to load."," ",s.jsx(Ou,{children:(l==null?void 0:l.message)||"Unknown error"})]});if(!r)return s.jsx(L,{color:"gray",children:"Not found."});const d=r,h=d.display_name||[d.first_name,d.last_name].filter(Boolean).join(" ")||null;return s.jsxs(X,{children:[s.jsxs($,{align:"center",justify:"between",gap:"3",mb:"3",wrap:"wrap",children:[s.jsxs($,{align:"center",gap:"3",children:[s.jsx(Xr,{src:u??void 0,fallback:Rh(h??d.email),size:"5",style:{border:"1px solid var(--gray-5)"}}),s.jsxs("div",{children:[s.jsx(L,{as:"div",size:"4",weight:"bold",children:h??d.email}),s.jsx(L,{as:"div",color:"gray",size:"2",children:s.jsx("a",{href:`mailto:${d.email}`,style:{color:"inherit"},children:d.email})})]})]}),s.jsxs($,{align:"center",gap:"2",children:[s.jsx(pe,{size:"2",variant:"soft",onClick:()=>{n==null||n()},children:s.jsx(gi,{})}),s.jsx(pe,{size:"2",variant:"surface",color:"red",onClick:()=>{i==null||i()},children:s.jsx(vi,{})})]})]}),s.jsx(st,{my:"2"}),s.jsxs(s4,{children:[s.jsx(ms,{children:"User ID"}),s.jsx(ys,{children:d.user_id}),s.jsx(ms,{children:"Joined"}),s.jsx(ys,{children:aee(d.created_at)}),s.jsx(ms,{children:"Phone"}),s.jsx(ys,{children:d.phone?s.jsx("a",{href:`tel:${d.phone}`,style:{color:"inherit"},children:Ta(d.phone)}):""}),s.jsx(ms,{children:"First name"}),s.jsx(ys,{children:d.first_name||""}),s.jsx(ms,{children:"Last name"}),s.jsx(ys,{children:d.last_name||""}),s.jsx(ms,{children:"Display name"}),s.jsx(ys,{children:d.display_name||""}),s.jsx(ms,{children:"Superuser"}),s.jsx(ys,{children:d.superuser?"Yes":"No"}),d.locale&&s.jsxs(s.Fragment,{children:[s.jsx(ms,{children:"Locale"}),s.jsx(ys,{children:d.locale})]}),d.timezone&&s.jsxs(s.Fragment,{children:[s.jsx(ms,{children:"Timezone"}),s.jsx(ys,{children:d.timezone})]})]}),(d.bio||c.length>0)&&s.jsxs(s.Fragment,{children:[s.jsx(st,{my:"2"}),d.bio&&s.jsxs(s.Fragment,{children:[s.jsx(B_,{children:"Bio"}),s.jsx(X,{mb:"3",children:s.jsx(L,{size:"2",color:d.bio?void 0:"gray",children:d.bio})})]}),c.length>0&&s.jsxs(s.Fragment,{children:[s.jsx(B_,{children:"Companies"}),s.jsx(X,{mb:"3",children:s.jsx(L,{size:"2",children:c.map(m=>s.jsxs("div",{style:{marginBottom:4},children:[m.company_name," (",m.role,")"]},m.company_id))})})]})]}),d.primary_address&&s.jsxs(s.Fragment,{children:[s.jsx(st,{my:"2"}),s.jsx(B_,{children:"Address"}),s.jsxs(s4,{children:[s.jsx(ms,{children:"Label"}),s.jsx(ys,{children:d.primary_address.name||""}),s.jsx(ms,{children:"Street"}),s.jsx(ys,{children:d.primary_address.address_line||""}),s.jsx(ms,{children:"City"}),s.jsx(ys,{children:d.primary_address?`${d.primary_address.zip_code} ${d.primary_address.city}`:""}),s.jsx(ms,{children:"Country"}),s.jsx(ys,{children:d.primary_address.country||""})]})]}),d.preferences&&s.jsxs(s.Fragment,{children:[s.jsx(st,{my:"2"}),s.jsx(B_,{children:"Optional details"}),s.jsxs(s4,{children:[s.jsx(ms,{children:"Date of birth"}),s.jsx(ys,{children:aee(d.preferences.date_of_birth)}),s.jsx(ms,{children:"Driver's license"}),s.jsx(ys,{children:d.preferences.drivers_license||""}),s.jsx(ms,{children:"Other licenses"}),s.jsx(ys,{children:see(d.preferences.licenses)}),s.jsx(ms,{children:"Certificates"}),s.jsx(ys,{children:see(d.preferences.certificates)}),s.jsx(ms,{children:"Notes"}),s.jsx(ys,{children:s.jsx(L,{size:"2",color:d.preferences.notes?void 0:"gray",children:d.preferences.notes||""})})]})]})]})}function B_({children:e}){return s.jsx(L,{as:"div",size:"2",weight:"bold",mb:"2",children:e})}function s4({children:e}){return s.jsx("dl",{style:{display:"grid",gridTemplateColumns:"140px 1fr",rowGap:8,columnGap:12,marginBottom:12},children:e})}function ms({children:e}){return s.jsx("dt",{children:s.jsx(L,{size:"1",color:"gray",children:e})})}function ys({children:e}){return s.jsx("dd",{children:s.jsx(L,{size:"2",children:e})})}function aee(e){if(!e)return"";const t=new Date(e),n=t.getDate(),i=t.toLocaleDateString("en-GB",{month:"short",year:"numeric"}).toLowerCase();return`${n}. ${i}`}function see(e){return!e||e.length===0?"":e.join(", ")}function Abt(){const{success:e,error:t}=Jt(),n=Yt(),[i,r]=g.useState(null),[a,o]=g.useState(!1),[l,c]=g.useState(null),[u,d]=g.useState(null),[h,m]=g.useState(!1),[p,v]=g.useState(null),[S,b]=g.useState(null),[w,R]=g.useState("companies"),[E,_]=g.useState(()=>typeof window<"u"?window.matchMedia("(min-width: 1024px)").matches:!1);g.useEffect(()=>{const T=window.matchMedia("(min-width: 1024px)"),Y=ie=>_(ie.matches);try{return T.addEventListener("change",Y),()=>T.removeEventListener("change",Y)}catch{return T.addListener(Y),()=>T.removeListener(Y)}},[]);const[N,O]=g.useState(40),[j,D]=g.useState(!1),P=g.useRef(null),[B,M]=g.useState(50),[z,U]=g.useState(!1),K=g.useRef(null);g.useEffect(()=>{if(!j)return;const T=ie=>{if(!P.current)return;const ne=P.current.getBoundingClientRect(),J=ne.width,ee=ie.clientX-ne.left,he=Math.max(25,Math.min(75,ee/J*100));O(he)},Y=()=>{D(!1),document.body.style.cursor="",document.body.style.userSelect=""};return document.body.style.cursor="col-resize",document.body.style.userSelect="none",document.addEventListener("mousemove",T),document.addEventListener("mouseup",Y),()=>{document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",Y),document.body.style.cursor="",document.body.style.userSelect=""}},[j]),g.useEffect(()=>{if(!z)return;const T=ie=>{if(!K.current)return;const ne=K.current.getBoundingClientRect(),J=ne.width,ee=ie.clientX-ne.left,he=Math.max(25,Math.min(75,ee/J*100));M(he)},Y=()=>{U(!1),document.body.style.cursor="",document.body.style.userSelect=""};return document.body.style.cursor="col-resize",document.body.style.userSelect="none",document.addEventListener("mousemove",T),document.addEventListener("mouseup",Y),()=>{document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",Y),document.body.style.cursor="",document.body.style.userSelect=""}},[z]);const te=()=>{c(null),o(!0)},q=T=>{c(T),o(!0)},V=T=>{d(T)},Q=T=>{v(T),m(!0)},ce=T=>{b(T)},ae=bt({mutationFn:async T=>{const{data:Y}=await re.from("time_periods").select("id").eq("company_id",T),ie=(Y==null?void 0:Y.map(Le=>Le.id))??[];if(ie.length>0){const{error:Le}=await re.from("reserved_items").delete().in("time_period_id",ie);if(Le)throw Le;const{error:Be}=await re.from("reserved_crew").delete().in("time_period_id",ie);if(Be)throw Be;const{error:ke}=await re.from("reserved_vehicles").delete().in("time_period_id",ie);if(ke)throw ke}const{data:ne}=await re.from("jobs").select("id").eq("company_id",T),J=(ne==null?void 0:ne.map(Le=>Le.id))??[],{error:ee}=await re.from("time_periods").delete().eq("company_id",T);if(ee)throw ee;if(J.length>0){const{error:Le}=await re.from("job_notes").delete().in("job_id",J);if(Le)throw Le;const{error:Be}=await re.from("job_files").delete().in("job_id",J);if(Be)throw Be;const{error:ke}=await re.from("job_contacts").delete().in("job_id",J);if(ke)throw ke;const{error:Ee}=await re.from("job_status_history").delete().in("job_id",J);if(Ee)throw Ee;const{error:lt}=await re.from("job_invoices").delete().in("job_id",J);if(lt)throw lt}const{error:se}=await re.from("jobs").delete().eq("company_id",T);if(se)throw se;const{error:de}=await re.from("contacts").delete().eq("company_id",T);if(de)throw de;const{error:he}=await re.from("customers").delete().eq("company_id",T);if(he)throw he;const{error:me}=await re.from("addresses").delete().eq("company_id",T);if(me)throw me;const{error:we}=await re.from("vehicles").delete().eq("company_id",T);if(we)throw we;const{error:le}=await re.from("group_price_history").delete().eq("company_id",T);if(le)throw le;const{error:ue}=await re.from("profiles").update({selected_company_id:null}).eq("selected_company_id",T);if(ue)throw ue;const{error:De}=await re.from("companies").delete().eq("id",T);if(De)throw De},onMutate:async T=>{i===T&&r(null),await n.removeQueries({queryKey:["company",T]})},onSuccess:async()=>{await n.invalidateQueries({queryKey:["companies"]}),await n.invalidateQueries({queryKey:["company"]}),d(null),e("Success!","Company was deleted")},onError:T=>{t("Failed to delete company",(T==null?void 0:T.message)??"Please try again.")}}),G=bt({mutationFn:wbt,onSuccess:async T=>{await n.invalidateQueries({queryKey:["companies"]}),await n.invalidateQueries({queryKey:["company"]}),e("Dummy company created!",`Created "${T.companyName}" with ${T.itemsCreated} items, ${T.groupsCreated} groups, ${T.vehiclesCreated} vehicles, ${T.customersCreated} customers, and ${T.jobsCreated} jobs.`)},onError:T=>{t("Failed to create dummy company",(T==null?void 0:T.message)??"Please try again.")}}),H=bt({mutationFn:async T=>{const{error:Y}=await re.from("reserved_crew").delete().eq("user_id",T);if(Y)throw Y;const{error:ie}=await re.from("company_users").delete().eq("user_id",T);if(ie)throw ie;const{error:ne}=await re.from("matters").delete().eq("created_by_user_id",T);if(ne)throw ne;const{error:J}=await re.from("matter_files").delete().eq("uploaded_by_user_id",T);if(J)throw J;const{error:ee}=await re.from("matter_messages").delete().eq("user_id",T);if(ee)throw ee;const{error:se}=await re.from("matter_recipients").delete().eq("user_id",T);if(se)throw se;const{error:de}=await re.from("matter_responses").delete().eq("user_id",T);if(de)throw de;const{error:he}=await re.from("job_notes").delete().eq("author_user_id",T);if(he)throw he;await re.from("job_files").update({uploaded_by_user_id:null}).eq("uploaded_by_user_id",T),await re.from("jobs").update({project_lead_user_id:null}).eq("project_lead_user_id",T),await re.from("companies").update({contact_person_id:null}).eq("contact_person_id",T),await re.from("time_periods").update({reserved_by_user_id:null}).eq("reserved_by_user_id",T),await re.from("time_periods").update({updated_by_user_id:null}).eq("updated_by_user_id",T);const{error:me}=await re.from("profiles").delete().eq("user_id",T);if(me)throw me},onSuccess:async()=>{await n.invalidateQueries({queryKey:["users"]}),await n.invalidateQueries({queryKey:["users","detail"]}),await n.invalidateQueries({queryKey:["companies"]}),await n.invalidateQueries({queryKey:["company"]}),b(null),i===(S==null?void 0:S.user_id)&&r(null),e("Success!","User was deleted")},onError:T=>{t("Failed to delete user",(T==null?void 0:T.message)??"Please try again.")}});return s.jsxs("section",{style:{height:E?"100%":void 0,minHeight:0},children:[s.jsxs(Ud,{defaultValue:"companies",value:w,onValueChange:T=>{R(T),r(null)},style:{display:"flex",flexDirection:"column",height:E?"100%":void 0,minHeight:0},children:[s.jsxs(Vd,{children:[s.jsx(ii,{value:"companies",children:"Companies"}),s.jsx(ii,{value:"users",children:"Users"})]}),s.jsxs(X,{pt:"4",style:{flex:E?1:void 0,minHeight:E?0:void 0,display:"flex",flexDirection:"column"},children:[s.jsx(ri,{value:"companies",style:{flex:1,minHeight:0,display:"flex",flexDirection:"column"},children:E?s.jsxs($,{ref:P,gap:"2",align:"stretch",style:{height:E?"100%":void 0,minHeight:0,position:"relative",flex:E?1:void 0},children:[s.jsxs(Rt,{size:"3",style:{display:"flex",flexDirection:"column",width:`${N}%`,height:E?"100%":void 0,minWidth:"300px",maxWidth:"75%",minHeight:0,flexShrink:0,transition:j?"none":"width 0.1s ease-out"},children:[s.jsxs($,{align:"center",justify:"between",mb:"3",children:[s.jsx(He,{size:"5",children:"Companies"}),s.jsxs($,{gap:"2",children:[s.jsxs(pe,{onClick:()=>G.mutate(),disabled:G.isPending,variant:"soft",color:"purple",children:[s.jsx(um,{width:16,height:16}),G.isPending?"Creating...":"Create Dummy"]}),s.jsxs(pe,{onClick:te,children:[s.jsx(yi,{width:16,height:16}),"Create"]})]})]}),s.jsx(st,{size:"4",mb:"3"}),s.jsx(X,{style:{flex:E?1:void 0,minHeight:E?0:void 0,overflowY:E?"auto":"visible"},children:s.jsx(tee,{selectedId:i,onSelect:r,onEdit:q,onDelete:V})})]}),s.jsx(X,{className:"section-resizer",onMouseDown:T=>{T.preventDefault(),D(!0)},style:{width:"6px",height:"20%",cursor:"col-resize",backgroundColor:"var(--gray-a4)",borderRadius:"4px",flexShrink:0,alignSelf:"center",userSelect:"none",margin:"0 -4px",zIndex:10,transition:j?"none":"background-color 0.2s"},onMouseEnter:T=>{j||(T.currentTarget.style.backgroundColor="var(--gray-a6)",T.currentTarget.style.cursor="col-resize")},onMouseLeave:T=>{j||(T.currentTarget.style.backgroundColor="var(--gray-a4)")}}),s.jsxs(Rt,{size:"3",style:{display:"flex",flexDirection:"column",flex:1,height:E?"100%":void 0,maxHeight:E?"100%":void 0,overflow:E?"hidden":"visible",minWidth:"300px",minHeight:0,transition:j?"none":"flex-basis 0.1s ease-out"},children:[s.jsx(He,{size:"5",mb:"3",children:"Inspector"}),s.jsx(st,{size:"4",mb:"3"}),s.jsx(X,{style:{flex:E?1:void 0,minHeight:E?0:void 0,overflowY:E?"auto":"visible"},children:s.jsx(nee,{id:i,onDeleted:()=>r(null),onEdit:()=>{if(i){const T=n.getQueryData(["companies","index"]),Y=T==null?void 0:T.find(ie=>ie.id===i);Y&&(c(Y),o(!0))}},onDelete:()=>{if(i){const T=n.getQueryData(["companies","index"]),Y=T==null?void 0:T.find(ie=>ie.id===i);Y&&d(Y)}}})})]})]}):s.jsxs(Zn,{columns:"1fr",gap:"4",align:"stretch",style:{height:E?"100%":void 0,minHeight:0,flex:E?1:void 0},children:[s.jsxs(Rt,{size:"3",style:{display:"flex",flexDirection:"column",height:E?"100%":void 0,minHeight:0},children:[s.jsxs($,{align:"center",justify:"between",mb:"3",children:[s.jsx(He,{size:"5",children:"Companies"}),s.jsxs($,{gap:"2",children:[s.jsxs(pe,{onClick:()=>G.mutate(),disabled:G.isPending,variant:"soft",color:"purple",children:[s.jsx(um,{width:16,height:16}),G.isPending?"Creating...":"Create Dummy"]}),s.jsxs(pe,{onClick:te,children:[s.jsx(yi,{width:16,height:16}),"Create"]})]})]}),s.jsx(st,{size:"4",mb:"3"}),s.jsx(X,{style:{flex:E?1:void 0,minHeight:E?0:void 0,overflowY:E?"auto":"visible"},children:s.jsx(tee,{selectedId:i,onSelect:r,onEdit:q,onDelete:V})})]}),s.jsxs(Rt,{size:"3",style:{display:"flex",flexDirection:"column",height:E?"100%":void 0,maxHeight:E?"100%":void 0,overflow:E?"hidden":"visible",minHeight:0},children:[s.jsx(He,{size:"5",mb:"3",children:"Inspector"}),s.jsx(st,{size:"4",mb:"3"}),s.jsx(X,{style:{flex:E?1:void 0,minHeight:E?0:void 0,overflowY:E?"auto":"visible"},children:s.jsx(nee,{id:i,onDeleted:()=>r(null),onEdit:()=>{if(i){const T=n.getQueryData(["companies","index"]),Y=T==null?void 0:T.find(ie=>ie.id===i);Y&&(c(Y),o(!0))}},onDelete:()=>{if(i){const T=n.getQueryData(["companies","index"]),Y=T==null?void 0:T.find(ie=>ie.id===i);Y&&d(Y)}}})})]})]})}),s.jsx(ri,{value:"users",style:{flex:1,minHeight:0,display:"flex",flexDirection:"column"},children:E?s.jsxs($,{ref:K,gap:"2",align:"stretch",style:{height:E?"100%":void 0,minHeight:0,position:"relative",flex:E?1:void 0},children:[s.jsxs(Rt,{size:"3",style:{display:"flex",flexDirection:"column",width:`${B}%`,height:E?"100%":void 0,minWidth:"300px",maxWidth:"75%",minHeight:0,flexShrink:0,transition:z?"none":"width 0.1s ease-out"},children:[s.jsx($,{align:"center",justify:"between",mb:"3",children:s.jsx(He,{size:"5",children:"Users"})}),s.jsx(st,{size:"4",mb:"3"}),s.jsx(X,{style:{flex:E?1:void 0,minHeight:E?0:void 0,overflowY:E?"auto":"visible"},children:s.jsx(iee,{selectedId:i,onSelect:r,onEdit:Q,onDelete:ce})})]}),s.jsx(X,{className:"section-resizer",onMouseDown:T=>{T.preventDefault(),U(!0)},style:{width:"6px",height:"20%",cursor:"col-resize",backgroundColor:"var(--gray-a4)",borderRadius:"4px",flexShrink:0,alignSelf:"center",userSelect:"none",margin:"0 -4px",zIndex:10,transition:z?"none":"background-color 0.2s"},onMouseEnter:T=>{z||(T.currentTarget.style.backgroundColor="var(--gray-a6)",T.currentTarget.style.cursor="col-resize")},onMouseLeave:T=>{z||(T.currentTarget.style.backgroundColor="var(--gray-a4)")}}),s.jsxs(Rt,{size:"3",style:{display:"flex",flexDirection:"column",flex:1,height:E?"100%":void 0,maxHeight:E?"100%":void 0,overflow:E?"hidden":"visible",minWidth:"300px",minHeight:0,transition:z?"none":"flex-basis 0.1s ease-out"},children:[s.jsx(He,{size:"5",mb:"3",children:"Inspector"}),s.jsx(st,{size:"4",mb:"3"}),s.jsx(X,{style:{flex:E?1:void 0,minHeight:E?0:void 0,overflowY:E?"auto":"visible"},children:s.jsx(ree,{id:i,onDeleted:()=>r(null),onEdit:()=>{if(i){const T=n.getQueryData(["users","index"]),Y=T==null?void 0:T.find(ie=>ie.user_id===i);Y&&(v(Y),m(!0))}},onDelete:()=>{if(i){const T=n.getQueryData(["users","index"]),Y=T==null?void 0:T.find(ie=>ie.user_id===i);Y&&b(Y)}}})})]})]}):s.jsxs(Zn,{columns:"1fr",gap:"4",align:"stretch",style:{height:E?"100%":void 0,minHeight:0,flex:E?1:void 0},children:[s.jsxs(Rt,{size:"3",style:{display:"flex",flexDirection:"column",height:E?"100%":void 0,minHeight:0},children:[s.jsx($,{align:"center",justify:"between",mb:"3",children:s.jsx(He,{size:"5",children:"Users"})}),s.jsx(st,{size:"4",mb:"3"}),s.jsx(X,{style:{flex:E?1:void 0,minHeight:E?0:void 0,overflowY:E?"auto":"visible"},children:s.jsx(iee,{selectedId:i,onSelect:r,onEdit:Q,onDelete:ce})})]}),s.jsxs(Rt,{size:"3",style:{display:"flex",flexDirection:"column",height:E?"100%":void 0,maxHeight:E?"100%":void 0,overflow:E?"hidden":"visible",minHeight:0},children:[s.jsx(He,{size:"5",mb:"3",children:"Inspector"}),s.jsx(st,{size:"4",mb:"3"}),s.jsx(X,{style:{flex:E?1:void 0,minHeight:E?0:void 0,overflowY:E?"auto":"visible"},children:s.jsx(ree,{id:i,onDeleted:()=>r(null),onEdit:()=>{if(i){const T=n.getQueryData(["users","index"]),Y=T==null?void 0:T.find(ie=>ie.user_id===i);Y&&(v(Y),m(!0))}},onDelete:()=>{if(i){const T=n.getQueryData(["users","index"]),Y=T==null?void 0:T.find(ie=>ie.user_id===i);Y&&b(Y)}}})})]})]})})]})]}),s.jsx(mbt,{open:a,onOpenChange:T=>{o(T),T||c(null)},mode:l?"edit":"create",initialData:l?{id:l.id,name:l.name,general_email:l.general_email,address:l.address,vat_number:l.vat_number,contact_person_id:l.contact_person_id}:void 0,onSaved:()=>{o(!1),c(null),n.invalidateQueries({queryKey:["companies"]}),n.invalidateQueries({queryKey:["company"]})}}),s.jsx(Mu,{open:!!u,onOpenChange:T=>{T||d(null)},children:s.jsxs(Iu,{maxWidth:"480px",children:[s.jsx(Pu,{children:"Delete Company?"}),s.jsxs(ku,{size:"2",children:["This will permanently delete the company"," ",s.jsx("b",{children:u==null?void 0:u.name}),". This action cannot be undone."]}),s.jsxs($,{gap:"3",justify:"end",mt:"4",children:[s.jsx($u,{children:s.jsx(pe,{variant:"soft",children:"Cancel"})}),s.jsx(zd,{children:s.jsx(pe,{variant:"solid",color:"red",onClick:()=>{u&&ae.mutate(u.id)},disabled:ae.isPending,children:ae.isPending?"Deleting":"Yes, delete"})})]})]})}),s.jsx(_bt,{open:h,onOpenChange:T=>{m(T),T||v(null)},initialData:p?{user_id:p.user_id,email:p.email,display_name:p.display_name,first_name:p.first_name,last_name:p.last_name,phone:p.phone,superuser:p.superuser}:void 0,onSaved:()=>{m(!1),v(null),n.invalidateQueries({queryKey:["users"]})}}),s.jsx(Mu,{open:!!S,onOpenChange:T=>{T||b(null)},children:s.jsxs(Iu,{maxWidth:"480px",children:[s.jsx(Pu,{children:"Delete User?"}),s.jsxs(ku,{size:"2",children:[s.jsxs(L,{as:"div",mb:"3",children:["This will permanently delete the user"," ",s.jsx("b",{children:(S==null?void 0:S.display_name)||(S==null?void 0:S.email)}),". This action cannot be undone."]}),s.jsx(L,{as:"div",color:"red",weight:"bold",size:"2",children:"Warning: Deleting a user will remove all their data including:"}),s.jsxs(X,{mt:"2",ml:"3",children:[s.jsx(L,{as:"div",size:"2",color:"gray",children:" Their profile and personal information"}),s.jsx(L,{as:"div",size:"2",color:"gray",children:" Company memberships and roles"}),s.jsx(L,{as:"div",size:"2",color:"gray",children:" Associated jobs, assignments, and work history"}),s.jsx(L,{as:"div",size:"2",color:"gray",children:" All other user-related data"})]})]}),s.jsxs($,{gap:"3",justify:"end",mt:"4",children:[s.jsx($u,{children:s.jsx(pe,{variant:"soft",children:"Cancel"})}),s.jsx(zd,{children:s.jsx(pe,{variant:"solid",color:"red",onClick:()=>{S&&H.mutate(S.user_id)},disabled:H.isPending,children:H.isPending?"Deleting":"Yes, delete"})})]})]})})]})}const o4="theme";function Rbt(){const e=g.useMemo(()=>{const r=localStorage.getItem(o4);return r==="light"||r==="dark"?r:"inherit"},[]),[t,n]=g.useState(e),i=g.useRef(null);return g.useEffect(()=>{const r=document.documentElement,a=l=>{r.classList.remove("light","dark","light-theme","dark-theme"),r.classList.add(l)};i.current&&(i.current.removeEventListener("change",o),i.current=null);function o(l){t==="inherit"&&a(l.matches?"dark":"light")}if(t==="inherit"){localStorage.removeItem(o4);const l=window.matchMedia("(prefers-color-scheme: dark)");i.current=l,a(l.matches?"dark":"light"),l.addEventListener("change",o)}else localStorage.setItem(o4,t),a(t);return()=>{i.current&&(i.current.removeEventListener("change",o),i.current=null)}},[t]),s.jsx(X,{maxWidth:"420px",p:"4",children:s.jsx(JP,{value:t,onValueChange:r=>n(r),children:s.jsxs($,{width:"100%",gap:"3",wrap:"wrap",align:"center",justify:"center",children:[s.jsx(sg,{value:"light",children:s.jsxs($,{gap:"2",children:[s.jsx(L,{weight:"bold",children:"Light"}),s.jsx(HTe,{})]})}),s.jsx(sg,{value:"dark",children:s.jsxs($,{gap:"2",children:[s.jsx(L,{weight:"bold",children:"Dark"}),s.jsx(ZDe,{})]})}),s.jsx(sg,{value:"inherit",children:s.jsxs($,{width:"100%",gap:"2",children:[s.jsx(L,{weight:"bold",children:"System"}),s.jsx(hLe,{})]})})]})})})}const Bf=420;function Nbt(){const e=Yt(),{info:t,success:n,error:i}=Jt(),r=g.useRef(null),[a,o]=g.useState(!1),[l,c]=g.useState(!1),{data:u}=et({queryKey:["auth","user"],queryFn:async()=>{const{data:D,error:P}=await re.auth.getUser();if(P)throw P;return D.user}}),{data:d,isLoading:h,isError:m,error:p}=et({queryKey:["profile",(u==null?void 0:u.id)??"__none__"],enabled:!!(u!=null&&u.id),queryFn:async()=>{if(!(u!=null&&u.id))return null;const{data:D,error:P}=await re.from("profiles").select(`
          user_id,
          email,
          first_name,
          last_name,
          display_name,
          phone,
          avatar_url,
          bio,
          preferences,
          primary_address_id,
          addresses:primary_address_id (
            id,
            name,
            address_line,
            zip_code,
            city,
            country
          )
        `).eq("user_id",u.id).maybeSingle();if(P)throw P;return D}}),[v,S]=g.useState({display_name:"",first_name:"",last_name:"",phone:"",bio:"",avatarPath:"",date_of_birth:"",drivers_license:"",licensesCsv:"",certificatesCsv:"",notes:"",animatedBackground:!1,backgroundIntensity:1,backgroundShapeType:"circles",backgroundSpeed:1}),[b,w]=g.useState({id:null,name:"",address_line:"",zip_code:"",city:"",country:"Norway"});g.useEffect(()=>{if(!d)return;const D=d.preferences??{},P=(D.licenses??[]).join(", "),B=(D.certificates??[]).join(", ");S(z=>{var U,K,te,q;return{...z,display_name:d.display_name??"",first_name:d.first_name??"",last_name:d.last_name??"",phone:d.phone??"",bio:d.bio??"",avatarPath:d.avatar_url??null,date_of_birth:D.date_of_birth??"",drivers_license:D.drivers_license??"",licensesCsv:P,certificatesCsv:B,notes:D.notes??"",animatedBackground:((U=d.preferences)==null?void 0:U.animated_background_enabled)??!1,backgroundIntensity:((K=d.preferences)==null?void 0:K.animated_background_intensity)??1,backgroundShapeType:((te=d.preferences)==null?void 0:te.animated_background_shape_type)??"circles",backgroundSpeed:((q=d.preferences)==null?void 0:q.animated_background_speed)??1}});const M=d.addresses;w({id:(M==null?void 0:M.id)??null,name:(M==null?void 0:M.name)??"",address_line:(M==null?void 0:M.address_line)??"",zip_code:(M==null?void 0:M.zip_code)??"",city:(M==null?void 0:M.city)??"",country:(M==null?void 0:M.country)??"Norway"})},[d]);const R=async D=>{var U;if(!(u!=null&&u.id))throw new Error("Not authenticated");const P=((U=D.name.split(".").pop())==null?void 0:U.toLowerCase())||"png",B=`${Date.now()}.${P}`,M=`${u.id}/${B}`,{error:z}=await re.storage.from("avatars").upload(M,D,{cacheControl:"3600",upsert:!1});if(z)throw z;return M},E=bt({mutationFn:async()=>{if(!(u!=null&&u.id))throw new Error("Not authenticated");const D=v.licensesCsv.split(",").map(te=>te.trim()).filter(Boolean),P=v.certificatesCsv.split(",").map(te=>te.trim()).filter(Boolean),B=(d==null?void 0:d.display_name)+"s home";let M=b.id;const z={name:B,address_line:b.address_line,zip_code:b.zip_code,city:b.city,country:b.country,is_personal:!0,company_id:null};if(M){const{error:te}=await re.from("addresses").update(z).eq("id",M);if(te)throw te}else if(b.address_line&&b.city&&b.zip_code&&b.country){const te=crypto.randomUUID(),{error:q}=await re.from("addresses").insert([{id:te,...z}]);if(q)throw q;M=te,w(V=>({...V,id:te}))}if(M){const{error:te}=await re.from("profiles").update({primary_address_id:M}).eq("user_id",u.id);if(te)throw te}const U={date_of_birth:v.date_of_birth||null,drivers_license:v.drivers_license||null,licenses:D.length?D:null,certificates:P.length?P:null,notes:v.notes||null,animated_background_enabled:v.animatedBackground,animated_background_intensity:v.backgroundIntensity,animated_background_shape_type:v.backgroundShapeType,animated_background_speed:v.backgroundSpeed},{error:K}=await re.rpc("update_my_profile",{p_display_name:v.display_name||null,p_first_name:v.first_name||null,p_last_name:v.last_name||null,p_phone:v.phone||null,p_bio:v.bio||null,p_avatar_path:v.avatarPath||null,p_preferences:U});if(K)throw K},onSuccess:async()=>{await e.invalidateQueries({queryKey:["profile",u==null?void 0:u.id]}),await e.refetchQueries({queryKey:["profile",u==null?void 0:u.id,"animated-background-preference"],exact:!1}),await e.invalidateQueries({queryKey:["profile",u==null?void 0:u.id],exact:!1}),n("Saved","Your profile has been updated.")},onError:D=>{i("Save failed",(D==null?void 0:D.message)??"Please try again.")}}),_=g.useMemo(()=>{if(!v.avatarPath)return null;const{data:D}=re.storage.from("avatars").getPublicUrl(v.avatarPath);return D.publicUrl},[v.avatarPath]),N=(D,P)=>S(B=>({...B,[D]:P})),O=(D,P)=>w(B=>({...B,[D]:P})),j=[b.address_line,b.zip_code,b.city,b.country].map(D=>D.trim()).filter(Boolean).join(", ");return h?s.jsx(X,{p:"4",children:s.jsx(L,{children:"Loading"})}):m||!d?s.jsx(X,{p:"4",children:s.jsxs(L,{color:"red",children:["Failed to load profile. ",p?String(p.message):""]})}):s.jsxs(Rt,{size:"4",style:{minHeight:0,overflow:"auto"},children:[s.jsxs($,{align:"center",justify:"between",wrap:"wrap",gap:"3",children:[s.jsxs($,{align:"center",wrap:"wrap",gap:"3",children:[s.jsxs($,{align:"center",gap:"3",children:[s.jsx(Obt,{src:_??void 0,initials:Rh(v.display_name||d.email)}),s.jsxs(X,{children:[s.jsx(He,{size:"4",children:v.display_name||d.email}),s.jsx(L,{as:"div",color:"gray",size:"2",children:d.email})]})]}),s.jsxs($,{direction:"column",align:"end",gap:"2",style:{minWidth:180},children:[s.jsx("input",{ref:r,type:"file",accept:"image/*",style:{display:"none"},onChange:async D=>{var B;const P=(B=D.target.files)==null?void 0:B[0];if(P){o(!0);try{const M=await R(P);N("avatarPath",M),t("Photo uploaded","Remember to hit Save to apply.")}catch(M){i("Upload failed",(M==null?void 0:M.message)??"Try another image.")}finally{o(!1),D.currentTarget.value=""}}}}),s.jsx(pe,{size:"2",variant:"soft",onClick:()=>{var D;return(D=r.current)==null?void 0:D.click()},disabled:a,children:s.jsxs($,{gap:"2",align:"center",children:[s.jsx(s6,{width:16,height:16}),a?"Uploading":"Change photo"]})}),a&&s.jsx(X,{style:{width:200},children:s.jsx(EO,{})})]})]}),s.jsx($,{align:"center",gap:"4",wrap:"wrap",children:s.jsxs(Rg,{open:l,onOpenChange:c,children:[s.jsx(Ng,{children:s.jsx(pe,{size:"2",variant:"soft",children:"Styling"})}),s.jsx(Og,{size:"2",style:{maxWidth:400},children:s.jsxs($,{direction:"column",gap:"4",children:[s.jsxs(X,{children:[s.jsx(L,{size:"2",weight:"bold",mb:"3",style:{display:"block"},children:"Theme"}),s.jsx(Rbt,{})]}),s.jsx(st,{}),s.jsxs(X,{children:[s.jsx(L,{size:"2",weight:"bold",mb:"3",style:{display:"block"},children:"Background style"}),s.jsxs($,{gap:"3",align:"center",mb:"3",children:[s.jsx(lee,{label:"Animated",isAnimated:!0,selected:v.animatedBackground,shapeType:v.backgroundShapeType,speed:v.backgroundSpeed,onSelect:async()=>{if(!E.isPending){N("animatedBackground",!0);try{await E.mutateAsync()}catch{N("animatedBackground",!1)}}},disabled:E.isPending}),s.jsx(lee,{label:"Solid",isAnimated:!1,selected:!v.animatedBackground,shapeType:v.backgroundShapeType,speed:v.backgroundSpeed,onSelect:async()=>{if(!E.isPending){N("animatedBackground",!1);try{await E.mutateAsync()}catch{N("animatedBackground",!0)}}},disabled:E.isPending})]}),s.jsxs($,{direction:"column",gap:"2",children:[s.jsxs($,{align:"center",justify:"between",children:[s.jsx(L,{size:"2",weight:"medium",children:"Background intensity"}),s.jsx(pe,{size:"1",variant:"soft",onClick:async()=>{if(!(E.isPending||!v.animatedBackground)){N("backgroundIntensity",.1),N("backgroundShapeType","circles"),N("backgroundSpeed",.5);try{await E.mutateAsync()}catch{}}},disabled:!v.animatedBackground||E.isPending,children:"Recommended settings"})]}),s.jsxs($,{gap:"3",align:"center",children:[s.jsx(i6,{value:[v.backgroundIntensity],onValueChange:([D])=>{N("backgroundIntensity",D)},onValueCommit:async()=>{if(!E.isPending&&v.animatedBackground)try{await E.mutateAsync()}catch{}},min:0,max:1,step:.1,disabled:!v.animatedBackground||E.isPending,style:{flex:1}}),s.jsxs(L,{size:"2",color:v.animatedBackground?void 0:"gray",style:{minWidth:40,textAlign:"right",opacity:v.animatedBackground?1:.5},children:[Math.round(v.backgroundIntensity*100),"%"]})]})]}),s.jsx(st,{}),s.jsxs($,{direction:"column",gap:"2",children:[s.jsx(L,{size:"2",weight:"medium",children:"Shape type"}),s.jsx($,{gap:"2",wrap:"wrap",children:["circles","triangles","rectangles"].map(D=>s.jsx(pe,{size:"2",variant:v.backgroundShapeType===D?"solid":"soft",onClick:async()=>{if(!(E.isPending||!v.animatedBackground)){N("backgroundShapeType",D);try{await E.mutateAsync()}catch{}}},disabled:!v.animatedBackground||E.isPending,style:{textTransform:"capitalize"},children:D},D))})]}),s.jsx(st,{}),s.jsxs($,{direction:"column",gap:"2",children:[s.jsx(L,{size:"2",weight:"medium",children:"Animation speed"}),s.jsxs($,{gap:"3",align:"center",children:[s.jsx(i6,{value:[v.backgroundSpeed],onValueChange:([D])=>{N("backgroundSpeed",D)},onValueCommit:async()=>{if(!E.isPending&&v.animatedBackground)try{await E.mutateAsync()}catch{}},min:.1,max:3,step:.1,disabled:!v.animatedBackground||E.isPending,style:{flex:1}}),s.jsxs(L,{size:"2",color:v.animatedBackground?void 0:"gray",style:{minWidth:50,textAlign:"right",opacity:v.animatedBackground?1:.5},children:[v.backgroundSpeed.toFixed(1),"x"]})]}),s.jsx(L,{size:"1",color:"gray",style:{opacity:v.animatedBackground?1:.5},children:v.backgroundSpeed<1?"Slower":v.backgroundSpeed>1?"Faster":"Normal"})]})]})]})})]})})]}),s.jsx("div",{style:{flex:1,minHeight:0,overflow:"auto"},children:s.jsx($,{direction:"column",gap:"4",p:"4",children:s.jsxs(Zn,{columns:{initial:"1",md:"2",lg:"3"},gap:"4",children:[s.jsxs(l4,{title:"Personal information",children:[s.jsx(Yo,{label:"Display name",maxWidth:Bf,children:s.jsx(qe,{value:v.display_name,onChange:D=>N("display_name",D.target.value),placeholder:"Shown in the app"})}),s.jsx(Yo,{label:"Phone",maxWidth:Bf,children:s.jsx(Td,{value:v.phone||void 0,onChange:D=>N("phone",D??""),defaultCountry:"NO"})}),s.jsxs(oee,{children:[s.jsx(Yo,{label:"First name",maxWidth:Bf,children:s.jsx(qe,{value:v.first_name,onChange:D=>N("first_name",D.target.value)})}),s.jsx(Yo,{label:"Last name",maxWidth:Bf,children:s.jsx(qe,{value:v.last_name,onChange:D=>N("last_name",D.target.value)})})]}),s.jsx(Yo,{label:"Bio",maxWidth:680,children:s.jsx(Ci,{value:v.bio,onChange:D=>N("bio",D.target.value),placeholder:"Short description about you",rows:5})})]}),s.jsxs(l4,{title:"Address",children:[s.jsx(Yo,{label:"Address line",maxWidth:520,children:s.jsx(qe,{value:b.address_line,onChange:D=>O("address_line",D.target.value),placeholder:"Street and number"})}),s.jsx(oee,{children:s.jsxs($,{gap:"2",width:"100%",children:[s.jsx(Yo,{label:"ZIP",maxWidth:100,children:s.jsx(YO,{value:b.zip_code,onChange:D=>O("zip_code",D),autoCompleteCity:D=>O("city",D)})}),s.jsx(Yo,{label:"City",maxWidth:Bf,children:s.jsx(qe,{value:b.city,onChange:D=>O("city",D.target.value),placeholder:"e.g., Oslo"})})]})}),s.jsx(Yo,{label:"Country",maxWidth:Bf,children:s.jsx(qe,{value:b.country,onChange:D=>O("country",D.target.value)})}),j&&s.jsx(X,{mt:"2",style:{maxWidth:520},children:s.jsx(nv,{query:j,zoom:15})})]}),s.jsxs(l4,{title:"Optional details",children:[s.jsx(Yo,{label:"Date of birth",maxWidth:Bf,children:s.jsx(or,{value:v.date_of_birth?new Date(v.date_of_birth+"T00:00:00").toISOString():"",onChange:D=>{if(D){const P=new Date(D),B=`${P.getFullYear()}-${String(P.getMonth()+1).padStart(2,"0")}-${String(P.getDate()).padStart(2,"0")}`;N("date_of_birth",B)}else N("date_of_birth","")},dateOnly:!0})}),s.jsx(Yo,{label:"Drivers license",maxWidth:Bf,children:s.jsx(qe,{value:v.drivers_license,onChange:D=>N("drivers_license",D.target.value),placeholder:"e.g., B, BE"})}),s.jsx(Yo,{label:"Other licenses (comma separated)",maxWidth:520,children:s.jsx(qe,{value:v.licensesCsv,onChange:D=>N("licensesCsv",D.target.value),placeholder:"e.g., Lift, Forklift"})}),s.jsx(Yo,{label:"Certificates (comma separated)",maxWidth:520,children:s.jsx(qe,{value:v.certificatesCsv,onChange:D=>N("certificatesCsv",D.target.value),placeholder:"e.g., HSE, First aid"})}),s.jsx(Yo,{label:"Other notes",maxWidth:520,children:s.jsx(Ci,{value:v.notes,onChange:D=>N("notes",D.target.value),rows:5})})]})]})})}),s.jsxs($,{justify:"end",gap:"3",p:"3",children:[s.jsx(pe,{size:"2",variant:"soft",color:"gray",onClick:()=>e.invalidateQueries({queryKey:["profile",u==null?void 0:u.id]}),disabled:E.isPending,children:"Reset"}),s.jsx(pe,{size:"2",onClick:()=>E.mutate(),disabled:E.isPending,children:E.isPending?"Saving":"Save"})]})]})}function l4({title:e,children:t}){return s.jsxs(X,{children:[s.jsx(He,{size:"3",mb:"2",children:e}),s.jsx($,{direction:"column",gap:"3",children:t})]})}function oee({children:e}){return s.jsx($,{wrap:"wrap",gap:"3",style:{alignItems:"start"},children:e})}function Yo({label:e,children:t,maxWidth:n=Bf}){return s.jsxs(X,{style:{maxWidth:n,width:"min(100%, "+n+"px)"},children:[s.jsx(L,{as:"div",size:"2",color:"gray",mb:"1",children:e}),s.jsx(X,{style:{width:"100%"},children:t})]})}function Obt({src:e,initials:t}){return s.jsx(Xr,{size:"5",radius:"full",fallback:t,src:e,style:{border:"1px solid var(--gray-5)"}})}function lee({label:e,isAnimated:t,selected:n,onSelect:i,disabled:r,shapeType:a,speed:o}){return s.jsxs(X,{style:{position:"relative",width:120,height:80,borderRadius:8,overflow:"hidden",cursor:r?"not-allowed":"pointer",opacity:r?.5:1,border:n?"2px solid var(--accent-9)":"2px solid var(--gray-6)",transition:"border-color 0.2s"},onClick:r?void 0:i,children:[t?s.jsx(jbt,{shapeType:a||"circles",speed:o||1}):s.jsx(X,{style:{width:"100%",height:"100%",backgroundColor:"var(--gray-1)"}}),s.jsx(X,{style:{position:"absolute",bottom:0,left:0,right:0,padding:"6px 8px",backgroundColor:n?"var(--accent-9)":"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(4px)",transition:"background-color 0.2s"},children:s.jsx(L,{size:"1",weight:"medium",style:{color:n?"var(--accent-contrast)":"var(--gray-12)",textAlign:"center",display:"block"},children:e})})]})}function jbt({shapeType:e="circles",speed:t=1}){const n=Math.max(.1,Math.min(3,t)),r=[6,8,10,7].map(u=>u/n),o=[15,21,18,19].map(u=>u/n),l=[15,30,45,60],c=r.map((u,d)=>Math.round(u/o[d]*360));return s.jsxs(X,{style:{width:"100%",height:"100%",position:"relative",overflow:"hidden",backgroundColor:"var(--gray-1)"},children:[s.jsx("style",{children:`
        @keyframes previewSlide {
          0% { transform: translateX(-100%); }
          100% { transform: translateX(calc(120px + 100%)); }
        }
        
        @keyframes previewSlideReverse {
          0% { transform: translateX(calc(120px + 100%)); }
          100% { transform: translateX(-100%); }
        }
        
        @keyframes previewSlideWithRotate1 {
          0% { transform: translateX(-100%) rotate(${l[0]}deg); }
          100% { transform: translateX(calc(120px + 100%)) rotate(${l[0]+c[0]}deg); }
        }
        
        @keyframes previewSlideReverseWithRotate2 {
          0% { transform: translateX(calc(120px + 100%)) rotate(${l[1]}deg); }
          100% { transform: translateX(-100%) rotate(${l[1]-c[1]}deg); }
        }
        
        @keyframes previewSlideWithRotate3 {
          0% { transform: translateX(-100%) rotate(${l[2]}deg); }
          100% { transform: translateX(calc(120px + 100%)) rotate(${l[2]+c[2]}deg); }
        }
        
        @keyframes previewSlideReverseWithRotate4 {
          0% { transform: translateX(calc(120px + 100%)) rotate(${l[3]}deg); }
          100% { transform: translateX(-100%) rotate(${l[3]-c[3]}deg); }
        }
        
        .preview-shape {
          position: absolute;
          opacity: 0.4;
        }
        
        .preview-shape-1 {
          width: 70px;
          height: 70px;
          background: var(--accent-a3);
          top: -15px;
          left: 0;
          animation: ${e==="triangles"||e==="rectangles"?`previewSlideWithRotate1 ${r[0]}s linear infinite`:`previewSlide ${r[0]}s linear infinite`};
          ${e==="circles"?"border-radius: 50%;":""}
          ${e==="triangles"?"clip-path: polygon(50% 0%, 0% 100%, 100% 100%);":""}
          ${e==="rectangles"?"border-radius: 8px;":""}
        }
        
        .preview-shape-2 {
          width: 55px;
          height: 55px;
          background: var(--accent-a2);
          top: 15px;
          left: 0;
          animation: ${e==="triangles"||e==="rectangles"?`previewSlideReverseWithRotate2 ${r[1]}s linear infinite`:`previewSlideReverse ${r[1]}s linear infinite`};
          ${e==="circles"?"border-radius: 50%;":""}
          ${e==="triangles"?"clip-path: polygon(50% 0%, 0% 100%, 100% 100%);":""}
          ${e==="rectangles"?"border-radius: 10px;":""}
        }
        
        .preview-shape-3 {
          width: 65px;
          height: 65px;
          background: var(--accent-a3);
          bottom: -10px;
          left: 0;
          animation: ${e==="triangles"||e==="rectangles"?`previewSlideWithRotate3 ${r[2]}s linear infinite`:`previewSlide ${r[2]}s linear infinite`};
          ${e==="circles"?"border-radius: 50%;":""}
          ${e==="triangles"?"clip-path: polygon(50% 0%, 0% 100%, 100% 100%);":""}
          ${e==="rectangles"?"border-radius: 8px;":""}
        }
        
        .preview-shape-4 {
          width: 45px;
          height: 45px;
          background: var(--accent-a2);
          top: 50%;
          left: 0;
          margin-top: -22.5px;
          animation: ${e==="triangles"||e==="rectangles"?`previewSlideReverseWithRotate4 ${r[3]}s linear infinite`:`previewSlideReverse ${r[3]}s linear infinite`};
          ${e==="circles"?"border-radius: 50%;":""}
          ${e==="triangles"?"clip-path: polygon(50% 0%, 0% 100%, 100% 100%);":""}
          ${e==="rectangles"?"border-radius: 12px;":""}
        }
      `}),s.jsx("div",{className:"preview-shape preview-shape-1"}),s.jsx("div",{className:"preview-shape preview-shape-2"}),s.jsx("div",{className:"preview-shape preview-shape-3"}),s.jsx("div",{className:"preview-shape preview-shape-4"})]})}function cee({selectedId:e,onSelect:t,unreadFilter:n,companyFilter:i,companies:r}){const[a,o]=g.useState(""),[l,c]=g.useState("all"),[u,d]=g.useState("created"),[h,m]=g.useState("desc"),[p,v]=g.useState(1),[S,b]=g.useState(10),w=g.useRef(null),R=g.useRef(null),E=g.useRef(null),_=g.useRef(null),{data:N=[],isLoading:O,isFetching:j}=et({...rde()}),D=g.useCallback(()=>{var J,ee,se,de;if(!w.current)return;const Q=w.current.getBoundingClientRect().height;if(Q===0)return;const ce=((J=R.current)==null?void 0:J.offsetHeight)??0,ae=((ee=E.current)==null?void 0:ee.offsetHeight)??0,G=((se=_.current)==null?void 0:se.offsetHeight)??0,T=Math.max(0,Q-ce-ae-G-48);if(T<100){b(5);return}const Y=(de=w.current)==null?void 0:de.querySelector("tbody tr:not([data-row-probe])"),ie=(Y==null?void 0:Y.getBoundingClientRect().height)||60,ne=Math.max(5,Math.min(50,Math.floor(T/ie)));b(ne)},[]);g.useEffect(()=>{if(!w.current)return;const V=()=>D();window.addEventListener("resize",V);const Q=new ResizeObserver(()=>{D()});Q.observe(w.current);const ce=setTimeout(()=>{D()},0),ae=requestAnimationFrame(()=>{D()});return()=>{window.removeEventListener("resize",V),Q.disconnect(),clearTimeout(ce),cancelAnimationFrame(ae)}},[D]),g.useEffect(()=>{!O&&N.length>0&&requestAnimationFrame(()=>{D()})},[O,N.length,D]),g.useEffect(()=>{v(1)},[a,l,n,i,u,h]);const P=g.useMemo(()=>{let V=N;if(a.trim()){const Q=a.trim().toLowerCase();V=V.filter(ce=>{var ae,G,H,T,Y,ie;return ce.title.toLowerCase().includes(Q)||((ae=ce.content)==null?void 0:ae.toLowerCase().includes(Q))||((G=ce.job)==null?void 0:G.title.toLowerCase().includes(Q))||((T=(H=ce.created_by)==null?void 0:H.display_name)==null?void 0:T.toLowerCase().includes(Q))||((Y=ce.created_by)==null?void 0:Y.email.toLowerCase().includes(Q))||ce.created_as_company&&((ie=ce.company)==null?void 0:ie.name.toLowerCase().includes(Q))})}return l!=="all"&&(V=V.filter(Q=>Q.matter_type===l)),n&&(V=V.filter(Q=>Q.is_unread===!0)),i!=="all"&&(V=V.filter(Q=>Q.company_id===i)),[...V].sort((Q,ce)=>{var G,H;let ae=0;switch(u){case"type":ae=Q.matter_type.localeCompare(ce.matter_type);break;case"title":ae=Q.title.localeCompare(ce.title);break;case"created":ae=new Date(Q.created_at).getTime()-new Date(ce.created_at).getTime();break;case"response":{const ie=(Q.matter_type==="vote"||Q.matter_type==="crew_invite")&&Q.my_response?1:0,ne=(ce.matter_type==="vote"||ce.matter_type==="crew_invite")&&ce.my_response?1:0;ae=ie-ne;break}case"company":const T=((G=Q.company)==null?void 0:G.name)||"",Y=((H=ce.company)==null?void 0:H.name)||"";ae=T.localeCompare(Y);break}return h==="asc"?ae:-ae})},[N,a,l,n,i,u,h]),B=Math.ceil(P.length/S),M=(p-1)*S,z=M+S,U=P.slice(M,z),K=V=>{u===V?m(Q=>Q==="asc"?"desc":"asc"):(d(V),m("asc"))},te=V=>{if(V.matter_type==="vote"||V.matter_type==="crew_invite")if(V.my_response){const Q=V.my_response.response.toLowerCase();return Q==="approved"||Q==="accepted"?s.jsx(mt,{radius:"full",color:"green",size:"2",children:s.jsx(el,{width:14,height:14})}):Q==="rejected"||Q==="declined"?s.jsx(mt,{radius:"full",color:"red",size:"2",children:s.jsx(wu,{width:14,height:14})}):s.jsx(mt,{radius:"full",color:"blue",size:"2",title:V.my_response.response,children:s.jsx(uV,{width:14,height:14})})}else return s.jsx(mt,{radius:"full",color:"gray",size:"2",title:"No response",children:s.jsx(uV,{width:14,height:14})});return null},q=V=>{const Q={crew_invite:{color:"blue",label:"Invite"},vote:{color:"purple",label:"Vote"},announcement:{color:"gray",label:"Announcement"},chat:{color:"green",label:"Chat"},update:{color:"blue",label:"Update"}},ce=Q[V]??Q.announcement;return s.jsx(mt,{radius:"full",color:ce.color,children:ce.label})};return O?s.jsx(X,{p:"4",children:s.jsx(L,{color:"gray",children:"Loading matters..."})}):s.jsxs(X,{ref:w,style:{height:"100%",display:"flex",flexDirection:"column"},children:[s.jsx("div",{ref:R,children:s.jsxs($,{gap:"2",align:"center",wrap:"wrap",mb:"3",children:[s.jsxs(qe,{value:a,onChange:V=>o(V.target.value),placeholder:"Search matters",size:"3",style:{flex:"1 1 260px"},children:[s.jsx(Sr,{side:"left",children:s.jsx(qu,{})}),s.jsx(Sr,{side:"right",children:j&&s.jsx(Ei,{size:"2"})})]}),s.jsxs(Vn,{value:l,size:"3",onValueChange:V=>c(V),children:[s.jsx(Kn,{placeholder:"Filter type",style:{minHeight:"var(--space-7)"}}),s.jsxs(Gn,{children:[s.jsx(wt,{value:"all",children:"All Types"}),s.jsx(wt,{value:"vote",children:"Vote"}),s.jsx(wt,{value:"announcement",children:"Announcement"}),s.jsx(wt,{value:"chat",children:"Chat"}),s.jsx(wt,{value:"update",children:"Update"}),s.jsx(wt,{value:"crew_invite",children:"Crew Invite"})]})]})]})}),s.jsx(X,{style:{flex:1,minHeight:0},children:U.length===0?s.jsx(X,{p:"4",children:s.jsx(L,{color:"gray",children:N.length===0?"No matters yet":"No matters match your filters"})}):s.jsxs(Hn,{variant:"surface",children:[s.jsx(Qn,{ref:E,children:s.jsxs(ht,{children:[s.jsx(ze,{style:{cursor:"pointer",userSelect:"none"},onClick:()=>K("type"),children:s.jsxs($,{align:"center",gap:"1",children:[s.jsx(L,{children:"Type"}),u==="type"&&(h==="asc"?s.jsx(Eu,{width:12,height:12}):s.jsx(Ml,{width:12,height:12}))]})}),s.jsx(ze,{style:{cursor:"pointer",userSelect:"none"},onClick:()=>K("title"),children:s.jsxs($,{align:"center",gap:"1",children:[s.jsx(L,{children:"Title"}),u==="title"&&(h==="asc"?s.jsx(Eu,{width:12,height:12}):s.jsx(Ml,{width:12,height:12}))]})}),s.jsx(ze,{style:{cursor:"pointer",userSelect:"none"},onClick:()=>K("created"),children:s.jsxs($,{align:"center",gap:"1",children:[s.jsx(L,{children:"Created"}),u==="created"&&(h==="asc"?s.jsx(Eu,{width:12,height:12}):s.jsx(Ml,{width:12,height:12}))]})}),s.jsx(ze,{style:{cursor:"pointer",userSelect:"none"},onClick:()=>K("response"),children:s.jsxs($,{align:"center",gap:"1",children:[s.jsx(K3e,{width:14,height:14}),u==="response"&&(h==="asc"?s.jsx(Eu,{width:12,height:12}):s.jsx(Ml,{width:12,height:12}))]})}),s.jsx(ze,{style:{cursor:"pointer",userSelect:"none"},onClick:()=>K("company"),children:s.jsxs($,{align:"center",gap:"1",children:[s.jsx(L,{children:"Company"}),u==="company"&&(h==="asc"?s.jsx(Eu,{width:12,height:12}):s.jsx(Ml,{width:12,height:12}))]})})]})}),s.jsxs(qn,{children:[U.map(V=>{var ce;const Q=V.id===e;return s.jsxs(ht,{style:{cursor:"pointer",background:Q?"var(--blue-a2)":void 0},onClick:()=>t(V.id),children:[s.jsx(Oe,{children:s.jsxs($,{align:"center",gap:"2",children:[q(V.matter_type),V.is_unread&&s.jsx(X,{style:{width:8,height:8,borderRadius:"50%",background:"var(--blue-9)"}})]})}),s.jsx(Oe,{style:{maxWidth:"40%"},children:s.jsxs(X,{children:[s.jsxs($,{align:"center",gap:"2",style:{minWidth:0},children:[s.jsx(ju,{content:V.title,delayDuration:300,children:s.jsx(X,{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",minWidth:0,flex:1},children:s.jsx(L,{weight:Q||V.is_unread?"bold":"medium",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:V.title})})}),V.is_unread&&s.jsx(mt,{radius:"full",size:"1",color:"blue",children:"New"})]}),V.job&&s.jsxs(L,{size:"1",color:"gray",style:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:["Job: ",V.job.title]})]})}),s.jsx(Oe,{children:s.jsx(L,{size:"2",color:"gray",children:new Date(V.created_at).toLocaleDateString()})}),s.jsx(Oe,{children:te(V)||s.jsx(L,{size:"2",color:"gray",children:""})}),s.jsx(Oe,{children:s.jsx(L,{size:"2",color:"gray",children:((ce=V.company)==null?void 0:ce.name)||""})})]},V.id)}),s.jsx(ht,{"data-row-probe":!0,style:{display:"none"},children:s.jsx(Oe,{colSpan:5,children:"probe"})})]})]})}),P.length>0&&s.jsx("div",{ref:_,children:s.jsxs($,{align:"center",justify:"between",mt:"3",children:[s.jsxs(L,{size:"2",color:"gray",children:["Showing ",M+1,"-",Math.min(z,P.length)," of"," ",P.length," matters"]}),s.jsxs($,{gap:"2",children:[s.jsx(pe,{disabled:p===1,onClick:()=>v(V=>V-1),variant:"classic",size:"2",children:"Prev"}),s.jsx(pe,{disabled:p>=B,onClick:()=>v(V=>V+1),variant:"classic",size:"2",children:"Next"})]})]})})]})}const n0e=g.createContext({session:null,user:null,loading:!0});function Dbt({children:e}){const t=Yt(),[n,i]=g.useState({session:null,user:null,loading:!0}),r=g.useRef(null);return g.useEffect(()=>{let a=!0;async function o(){var u,d,h;const{data:c}=await re.auth.getSession();a&&(r.current=((u=c.session)==null?void 0:u.user.id)??null,t.setQueryData(["auth","user"],((d=c.session)==null?void 0:d.user)??null),i({session:c.session,user:((h=c.session)==null?void 0:h.user)??null,loading:!1}))}o();const{data:l}=re.auth.onAuthStateChange((c,u)=>{const d=(u==null?void 0:u.user.id)??null;t.setQueryData(["auth","user"],(u==null?void 0:u.user)??null),(c==="SIGNED_IN"||c==="TOKEN_REFRESHED"||c==="USER_UPDATED")&&t.invalidateQueries({queryKey:["auth","user"]}),c==="SIGNED_IN"&&d&&(t.invalidateQueries({queryKey:["my-companies"]}),t.invalidateQueries({queryKey:["profile",d]}),t.invalidateQueries({queryKey:["authz",d]}),window.setTimeout(()=>{t.invalidateQueries({queryKey:["my-companies"]}),t.invalidateQueries({queryKey:["authz",d]})},500)),(c==="SIGNED_OUT"||r.current&&r.current!==d)&&(t.clear(),t.setQueryData(["auth","user"],null)),r.current=d,i({session:u,user:(u==null?void 0:u.user)??null,loading:!1})});return()=>{a=!1,l.subscription.unsubscribe()}},[t]),s.jsx(n0e.Provider,{value:n,children:e})}function Cbt(){return g.useContext(n0e)}function uee({matterId:e,onDeleted:t}){var T,Y,ie;const n=Yt(),{success:i,error:r}=Jt(),{user:a}=Cbt(),{companyId:o}=En(),{companyRole:l}=zr(),c=_a(),[u,d]=g.useState(""),[h,m]=g.useState(!1),{data:p}=et({...oHe(e)}),{data:v=[]}=et({...lHe(e)}),{data:S=[]}=et({...cHe(e)}),{data:b=[]}=et({...uHe(e)}),{data:w}=et({...gHe(e)}),R=w||[],E=g.useMemo(()=>{if(!p||p.matter_type!=="crew_invite"||!p.created_by_user_id)return null;const ne=b.find(J=>J.user_id===p.created_by_user_id);return ne?ne.content:null},[b,p]),{data:_}=et({queryKey:["matters","crew-invite-details",e],queryFn:async()=>{if(!p||p.matter_type!=="crew_invite"||!p.job_id||!p.time_period_id)return null;const{data:ne,error:J}=await re.from("jobs").select("id, title, job_address_id, address:job_address_id ( id, name, address_line, zip_code, city, country )").eq("id",p.job_id).single();if(J)throw J;const{data:ee,error:se}=await re.from("time_periods").select("id, title, start_at, end_at, role_category").eq("id",p.time_period_id).single();if(se)throw se;const{data:{user:de}}=await re.auth.getUser();let he=null;if(de){const{data:me}=await re.from("reserved_crew").select("notes").eq("time_period_id",p.time_period_id).eq("user_id",de.id).maybeSingle();he=(me==null?void 0:me.notes)||null}return{job:ne,timePeriod:ee,notes:he}},enabled:!!p&&p.matter_type==="crew_invite"}),N=ne=>{const J=new Date(ne),ee=J.getDate(),de=["january","february","march","april","may","june","july","august","september","october","november","december"][J.getMonth()],he=J.getFullYear();return`${ee}. ${de} ${he}`},O=ne=>{const J=new Date(ne),ee=String(J.getHours()).padStart(2,"0"),se=String(J.getMinutes()).padStart(2,"0");return`${ee}:${se}`},j=(ne,J)=>{const ee=new Date(ne),de=new Date(J).getTime()-ee.getTime(),he=Math.round(de/(1e3*60)),me=Math.floor(he/60),we=he%60;return me>0&&we>0?`${me}hrs ${we}m`:me>0?`${me}hrs`:`${we}m`},[D,P]=g.useState(!1),B=bt({mutationFn:async()=>{await SHe(e)},onSuccess:async()=>{await n.invalidateQueries({queryKey:["matters"]}),o&&await n.invalidateQueries({queryKey:["matters","index",o]}),i("Matter deleted","The matter has been deleted."),P(!1),t==null||t()},onError:ne=>{r("Failed to delete matter",(ne==null?void 0:ne.message)||"Please try again.")}}),M=g.useMemo(()=>{const ne=v.length,J=v.filter(he=>!!he.response).length,ee=v.filter(he=>he.viewed_at).length,se=ne-J,de=J===ne&&ne>0;return{totalRecipients:ne,respondedCount:J,viewedCount:ee,pendingCount:se,allResponded:de}},[v]),z=g.useRef(null);g.useEffect(()=>{if(z.current!==e&&p){if((a==null?void 0:a.id)===p.created_by_user_id&&!p.created_as_company){z.current=e;return}return z.current=e,yHe(e).then(async()=>{await Promise.all([n.invalidateQueries({queryKey:["matters"]})]),await Promise.all([n.refetchQueries({queryKey:["matters"]})])}).catch(ne=>{console.error("Failed to mark matter as viewed:",ne),z.current=null}),()=>{z.current===e&&(z.current=null)}}},[e,p,a==null?void 0:a.id,n]);const U=bt({mutationFn:async ne=>{await pHe(e,ne)},onSuccess:()=>{n.invalidateQueries({queryKey:["matters","detail",e]}),n.invalidateQueries({queryKey:["matters","responses",e]}),n.invalidateQueries({queryKey:["matters","recipients",e]}),(p==null?void 0:p.matter_type)==="crew_invite"&&p.job_id&&(n.invalidateQueries({queryKey:["jobs.crew",p.job_id]}),n.invalidateQueries({queryKey:["jobs",p.job_id,"time_periods"]})),i("Success","Response recorded"),m(!1)},onError:ne=>{r("Failed",(ne==null?void 0:ne.message)||"Could not record response")}}),K=bt({mutationFn:async()=>{if(!u.trim())throw new Error("Message cannot be empty");await mHe(e,u)},onSuccess:()=>{n.invalidateQueries({queryKey:["matters","messages",e]}),d("")},onError:ne=>{r("Failed",(ne==null?void 0:ne.message)||"Could not send message")}}),te=g.useMemo(()=>{if(!_)return null;const ne=_.job;if(!(ne!=null&&ne.address))return null;const J=ne.address,ee=[J.address_line,J.zip_code,J.city,J.country].filter(Boolean);return ee.length>0?ee.join(", "):null},[_]),q=(T=p==null?void 0:p.job)==null?void 0:T.project_lead,V=g.useMemo(()=>{if(!(q!=null&&q.avatar_url))return null;const{data:ne}=re.storage.from("avatars").getPublicUrl(q.avatar_url);return ne.publicUrl},[q==null?void 0:q.avatar_url]),Q=(q==null?void 0:q.display_name)||(q==null?void 0:q.email)||null,ce=Q?Rh(Q):"";if(!p)return s.jsx(X,{p:"4",children:s.jsx(L,{color:"gray",children:"Loading matter..."})});const ae=(Y=p.metadata)==null?void 0:Y.activity_id,G=()=>{const ne={crew_invite:{color:"blue",label:"Crew Invitation"},vote:{color:"purple",label:"Vote"},announcement:{color:"gray",label:"Announcement"},chat:{color:"green",label:"Chat"}},J=ne[p.matter_type]??ne.announcement;return s.jsx(mt,{radius:"full",color:J.color,size:"2",children:J.label})},H=(a==null?void 0:a.id)===p.created_by_user_id;return s.jsxs(X,{children:[s.jsxs(X,{mb:"4",children:[s.jsxs($,{align:"center",gap:"2",mb:"2",justify:"between",children:[s.jsxs($,{align:"center",gap:"2",children:[G(),s.jsx(He,{size:"5",children:p.title})]}),s.jsxs($,{align:"center",gap:"2",children:[((ie=p.job)==null?void 0:ie.id)&&s.jsxs(pe,{size:"2",variant:"soft",onClick:()=>{var ne;return c({to:"/jobs",search:{jobId:(ne=p.job)==null?void 0:ne.id,tab:void 0}})},children:[s.jsx(jg,{width:16,height:16}),"Go to job"]}),H&&s.jsxs(pe,{size:"2",variant:"soft",color:"red",onClick:()=>P(!0),children:[s.jsx(vi,{width:16,height:16})," Delete"]})]})]}),s.jsxs($,{align:"center",justify:"between",gap:"4",children:[s.jsx(X,{children:p.created_as_company&&p.company?s.jsxs(L,{size:"2",color:"gray",children:["Created by ",p.company.name," on"," ",N(p.created_at)]}):p.created_by&&s.jsxs(L,{size:"2",color:"gray",children:["Created by"," ",p.created_by.display_name||p.created_by.email," on"," ",N(p.created_at)]})}),q&&s.jsxs($,{align:"center",gap:"2",children:[s.jsx(L,{size:"2",weight:"medium",children:Q}),s.jsx(Xr,{size:"3",radius:"full",fallback:ce,src:V||void 0,style:{border:"1px solid var(--gray-5)"}})]})]})]}),p.matter_type==="crew_invite"&&E&&s.jsxs(X,{mb:"4",children:[s.jsx(st,{size:"4",mb:"3"}),s.jsx(He,{size:"4",mb:"2",children:"Message"}),s.jsx(X,{p:"3",style:{background:"var(--gray-a2)",borderRadius:8},children:s.jsx(L,{style:{whiteSpace:"pre-line"},children:E})})]}),p.matter_type==="crew_invite"&&s.jsxs(X,{mb:"4",p:"4",children:[s.jsxs($,{justify:"between",align:"center",mb:"3",children:[s.jsx(He,{size:"4",children:"Your Response"}),p.my_response&&!h&&l!=="freelancer"&&s.jsxs(pe,{size:"2",variant:"soft",onClick:()=>{m(!0)},children:[s.jsx(gi,{width:14,height:14})," Edit"]})]}),p.my_response&&!h?s.jsxs(X,{p:"3",style:{background:"var(--gray-a2)",borderRadius:8},children:[s.jsxs($,{align:"center",gap:"2",mb:"2",children:[p.my_response.response.toLowerCase()==="approved"&&s.jsxs(mt,{radius:"full",color:"green",children:[s.jsx(el,{width:12,height:12})," Accepted"]}),p.my_response.response.toLowerCase()==="rejected"&&s.jsxs(mt,{radius:"full",color:"red",children:[s.jsx(wu,{width:12,height:12})," Declined"]})]}),s.jsxs(L,{size:"1",color:"gray",style:{display:"block",marginTop:8},children:["Last updated:"," ",(()=>{const ne=new Date(p.my_response.updated_at),J=String(ne.getDate()).padStart(2,"0"),ee=String(ne.getMonth()+1).padStart(2,"0"),se=ne.getFullYear(),de=String(ne.getHours()).padStart(2,"0"),he=String(ne.getMinutes()).padStart(2,"0");return`${se}-${ee}-${J} ${de}:${he}`})()]})]}):s.jsx(X,{children:s.jsxs($,{gap:"2",children:[s.jsxs(pe,{variant:"soft",color:"green",onClick:()=>U.mutate("approved"),disabled:U.isPending,children:[s.jsx(el,{})," Accept"]}),s.jsxs(pe,{variant:"soft",color:"red",onClick:()=>U.mutate("rejected"),disabled:U.isPending,children:[s.jsx(wu,{})," Decline"]})]})})]}),p.matter_type==="crew_invite"&&_&&s.jsxs(X,{mb:"4",children:[s.jsx(st,{size:"4",mb:"3"}),s.jsx(He,{size:"4",mb:"3",children:"Job Information"}),s.jsxs(X,{p:"3",style:{background:"var(--gray-a2)",borderRadius:8},children:[s.jsxs($,{gap:"4",wrap:"wrap",children:[s.jsx(X,{style:{flex:1,minWidth:200},children:s.jsxs($,{direction:"column",gap:"3",children:[s.jsxs($,{direction:"column",gap:"1",children:[s.jsx(L,{weight:"medium",children:"Job:"}),s.jsx(L,{children:_.job.title})]}),s.jsxs($,{direction:"column",gap:"1",children:[s.jsx(L,{weight:"medium",children:"Role:"}),s.jsx(L,{children:_.timePeriod.title||"Untitled Role"})]}),_.timePeriod.role_category&&s.jsxs($,{direction:"column",gap:"1",children:[s.jsx(L,{weight:"medium",children:"Category:"}),s.jsx(L,{style:{textTransform:"capitalize"},children:_.timePeriod.role_category})]})]})}),_.timePeriod.start_at&&_.timePeriod.end_at&&s.jsx(X,{style:{flex:1,minWidth:200},children:s.jsxs($,{direction:"column",gap:"3",children:[s.jsxs($,{direction:"column",gap:"1",children:[s.jsx(L,{weight:"medium",children:"Start:"}),s.jsxs(L,{children:[O(_.timePeriod.start_at)," ",N(_.timePeriod.start_at)]})]}),s.jsxs($,{direction:"column",gap:"1",children:[s.jsx(L,{weight:"medium",children:"Stop:"}),s.jsxs(L,{children:[O(_.timePeriod.end_at)," ",N(_.timePeriod.end_at)]})]}),s.jsxs($,{direction:"column",gap:"1",children:[s.jsx(L,{weight:"medium",children:"Duration:"}),s.jsx(L,{children:j(_.timePeriod.start_at,_.timePeriod.end_at)})]})]})})]}),_.job.address&&s.jsxs(X,{mt:"4",pt:"4",style:{borderTop:"1px solid var(--gray-a6)"},children:[s.jsx(He,{size:"3",mb:"3",children:"Address"}),s.jsxs($,{gap:"4",wrap:"wrap",children:[s.jsx(X,{style:{flex:1,minWidth:200},children:(()=>{const ne=_.job.address;return s.jsxs($,{direction:"column",gap:"2",children:[ne.address_line&&s.jsxs($,{direction:"column",gap:"1",children:[s.jsx(L,{weight:"medium",children:"Street:"}),s.jsx(L,{children:ne.address_line})]}),(ne.zip_code||ne.city)&&s.jsxs($,{direction:"column",gap:"1",children:[s.jsx(L,{weight:"medium",children:"City:"}),s.jsx(L,{children:[ne.zip_code,ne.city].filter(Boolean).join(" ")})]}),ne.country&&s.jsxs($,{direction:"column",gap:"1",children:[s.jsx(L,{weight:"medium",children:"Country:"}),s.jsx(L,{children:ne.country})]})]})})()}),te&&s.jsx(X,{style:{flex:1,minWidth:200},children:s.jsx(X,{style:{width:"100%",height:"200px",overflow:"hidden",borderRadius:8},children:s.jsx(nv,{query:te,zoom:14})})})]})]}),_.notes&&s.jsx(X,{mt:"4",pt:"4",style:{borderTop:"1px solid var(--gray-a6)"},children:s.jsxs($,{direction:"column",gap:"1",children:[s.jsx(L,{weight:"medium",children:"Notes:"}),s.jsx(L,{children:_.notes})]})})]})]}),p.content&&p.matter_type!=="crew_invite"&&s.jsxs(X,{mb:"4",children:[s.jsx(st,{size:"4",mb:"3"}),s.jsx(L,{style:{whiteSpace:"pre-line"},children:p.content})]}),ae&&s.jsxs(X,{mb:"4",children:[s.jsx(st,{size:"4",mb:"3"}),s.jsxs(pe,{variant:"soft",onClick:()=>{c({to:"/latest",search:{activityId:ae}})},children:["View Update ",s.jsx(jg,{width:16,height:16})]})]}),R.length>0&&s.jsxs(X,{mb:"4",children:[s.jsx(st,{size:"4",mb:"3"}),s.jsx(He,{size:"4",mb:"2",children:"Attachments"}),s.jsx(X,{style:{display:"flex",flexDirection:"column",gap:8},children:R.map(ne=>s.jsxs($,{align:"center",justify:"between",p:"2",style:{border:"1px solid var(--gray-a6)",borderRadius:6,background:"var(--gray-a2)"},children:[s.jsxs($,{align:"center",gap:"2",style:{flex:1,minWidth:0},children:[s.jsx(L,{size:"2",truncate:!0,children:ne.filename}),ne.size_bytes&&s.jsxs(L,{size:"1",color:"gray",children:["(",(ne.size_bytes/1024).toFixed(1)," KB)"]})]}),s.jsxs(pe,{size:"1",variant:"soft",onClick:async()=>{const{data:J}=await re.storage.from("matter_files").download(ne.path);if(J&&ne.filename){const ee=window.URL.createObjectURL(J),se=document.createElement("a");se.href=ee,se.download=ne.filename,document.body.appendChild(se),se.click(),window.URL.revokeObjectURL(ee),document.body.removeChild(se)}},children:[s.jsx(x1,{width:14,height:14})," Download"]})]},ne.id))})]}),s.jsx(rn,{open:D,onOpenChange:P,children:s.jsxs(an,{style:{maxWidth:450},children:[s.jsx(cn,{children:"Delete Matter"}),s.jsx(vr,{children:"Are you sure you want to delete this matter? This action cannot be undone."}),s.jsxs($,{mt:"4",gap:"2",justify:"end",children:[s.jsx(Dn,{children:s.jsx(pe,{variant:"soft",children:"Cancel"})}),s.jsx(pe,{color:"red",onClick:()=>B.mutate(),disabled:B.isPending,children:B.isPending?"Deleting":"Yes, delete"})]})]})}),p.matter_type!=="crew_invite"&&s.jsxs(Ud,{defaultValue:p.matter_type==="vote"?"responses":p.matter_type==="announcement"?(a==null?void 0:a.id)===p.created_by_user_id?"recipients":void 0:"chat",children:[s.jsxs(Vd,{children:[p.matter_type==="vote"&&s.jsxs(ii,{value:"responses",children:["Responses (",S.length,")"]}),p.matter_type!=="announcement"&&!(p.matter_type==="vote"&&p.is_anonymous)&&s.jsxs(ii,{value:"chat",children:["Chat (",b.length,")"]}),(p.matter_type!=="announcement"||(a==null?void 0:a.id)===p.created_by_user_id)&&s.jsx(ii,{value:"recipients",children:"Recipients"})]}),s.jsxs(X,{mt:"3",children:[(p.matter_type!=="announcement"||(a==null?void 0:a.id)===p.created_by_user_id)&&s.jsx(ri,{value:"recipients",children:p.matter_type==="vote"&&p.is_anonymous?s.jsx(X,{mb:"4",p:"3",style:{background:"var(--gray-a2)",borderRadius:8},children:s.jsxs($,{direction:"column",gap:"1",children:[s.jsxs(L,{size:"3",weight:"medium",children:[M.respondedCount," of"," ",M.totalRecipients," recipient",M.totalRecipients!==1?"s":""," have responded"]}),s.jsx(L,{size:"2",color:"gray",mt:"2",children:"This is an anonymous vote. Individual responses and viewing status are hidden."})]})}):s.jsxs(s.Fragment,{children:[s.jsx(X,{mb:"4",p:"3",style:{background:"var(--gray-a2)",borderRadius:8},children:M.allResponded?s.jsx(L,{size:"3",weight:"medium",color:"green",children:" All recipients have responded"}):s.jsxs($,{direction:"column",gap:"1",children:[s.jsxs(L,{size:"3",weight:"medium",children:[M.pendingCount," of"," ",M.totalRecipients," recipient",M.pendingCount!==1?"s":""," ",M.pendingCount===1?"has":"have"," ","not responded"]}),s.jsxs(L,{size:"2",color:"gray",children:[M.viewedCount," of"," ",M.totalRecipients," viewed"]})]})}),s.jsxs(Hn,{variant:"surface",children:[s.jsx(Qn,{children:s.jsxs(ht,{children:[s.jsx(ze,{children:"Name"}),s.jsx(ze,{children:"Viewed"}),p.matter_type==="vote"&&s.jsx(ze,{children:"Responded"})]})}),s.jsx(qn,{children:v.map(ne=>{var se,de;const J=!!ne.viewed_at,ee=J?"green":"orange";return s.jsxs(ht,{children:[s.jsx(Oe,{children:((se=ne.user)==null?void 0:se.display_name)||((de=ne.user)==null?void 0:de.email)||"Unknown"}),s.jsx(Oe,{children:J?s.jsx(mt,{radius:"full",size:"1",color:ee,children:"Viewed"}):s.jsx(mt,{radius:"full",size:"1",color:"orange",children:"Pending"})}),p.matter_type==="vote"&&s.jsx(Oe,{children:ne.response?s.jsx(mt,{radius:"full",size:"1",color:ne.response.response.toLowerCase()==="approved"?"green":ne.response.response.toLowerCase()==="rejected"?"red":"blue",children:ne.response.response.toLowerCase()==="approved"?"Approved":ne.response.response.toLowerCase()==="rejected"?"Rejected":ne.response.response}):s.jsx(mt,{radius:"full",size:"1",color:"orange",children:"Pending"})})]},ne.id)})})]})]})}),p.matter_type==="vote"&&s.jsxs(ri,{value:"responses",children:[S.length>0&&s.jsxs(X,{mb:"4",p:"3",style:{background:"var(--gray-a2)",borderRadius:8},children:[s.jsxs($,{align:"center",gap:"4",children:[s.jsxs($,{align:"center",gap:"2",children:[s.jsx(mt,{radius:"full",color:"green",children:s.jsx(el,{width:14,height:14})}),s.jsxs(L,{weight:"medium",children:[S.filter(ne=>ne.response.toLowerCase()==="approved").length," ","For"]})]}),s.jsxs($,{align:"center",gap:"2",children:[s.jsx(mt,{radius:"full",color:"red",children:s.jsx(wu,{width:14,height:14})}),s.jsxs(L,{weight:"medium",children:[S.filter(ne=>ne.response.toLowerCase()==="rejected").length," ","Against"]})]})]}),p.is_anonymous&&s.jsxs(L,{size:"2",color:"gray",mt:"2",children:[S.length," of ",M.totalRecipients," ","recipient",M.totalRecipients!==1?"s":""," have responded. Individual responses are hidden for anonymity."]})]}),s.jsxs(X,{mb:"4",children:[s.jsxs($,{justify:"between",align:"center",mb:"3",children:[s.jsx(He,{size:"4",children:"Your Response"}),p.my_response&&!h&&s.jsxs(pe,{size:"2",variant:"soft",onClick:()=>{m(!0)},children:[s.jsx(gi,{width:14,height:14})," Edit"]})]}),p.my_response&&!h?s.jsxs(X,{p:"3",style:{background:"var(--gray-a2)",borderRadius:8},children:[s.jsxs($,{align:"center",gap:"2",mb:"2",children:[p.my_response.response.toLowerCase()==="approved"&&s.jsxs(mt,{radius:"full",color:"green",children:[s.jsx(el,{width:12,height:12})," Approved"]}),p.my_response.response.toLowerCase()==="rejected"&&s.jsxs(mt,{radius:"full",color:"red",children:[s.jsx(wu,{width:12,height:12})," Rejected"]})]}),s.jsxs(L,{size:"1",color:"gray",style:{display:"block",marginTop:8},children:["Last updated:"," ",N(p.my_response.updated_at)," ",O(p.my_response.updated_at)]})]}):s.jsx(X,{children:s.jsxs($,{gap:"2",children:[s.jsxs(pe,{variant:"soft",color:"green",onClick:()=>U.mutate("approved"),disabled:U.isPending,children:[s.jsx(el,{})," Approve"]}),s.jsxs(pe,{variant:"soft",color:"red",onClick:()=>U.mutate("rejected"),disabled:U.isPending,children:[s.jsx(wu,{})," Reject"]})]})})]}),!p.is_anonymous&&s.jsxs(s.Fragment,{children:[s.jsx(st,{size:"4",mb:"3"}),s.jsxs(He,{size:"4",mb:"3",children:["All Responses (",S.length,")"]}),S.length===0?s.jsx(L,{color:"gray",children:"No responses yet"}):s.jsx(X,{style:{display:"flex",flexDirection:"column",gap:8},children:S.map(ne=>{var de,he;const J=ne.response.toLowerCase()==="approved",ee=ne.response.toLowerCase()==="rejected",se=!p.is_anonymous||ne.user_id===p.created_by_user_id;return s.jsxs(X,{p:"3",style:{border:"1px solid var(--gray-a6)",borderRadius:8,background:"var(--gray-a2)"},children:[s.jsxs($,{align:"center",gap:"2",mb:"2",children:[J&&s.jsxs(mt,{radius:"full",color:"green",children:[s.jsx(el,{width:12,height:12})," Approved"]}),ee&&s.jsxs(mt,{radius:"full",color:"red",children:[s.jsx(wu,{width:12,height:12})," Rejected"]}),s.jsx(L,{weight:"medium",children:se?((de=ne.user)==null?void 0:de.display_name)||((he=ne.user)==null?void 0:he.email)||"Unknown":"Anonymous"}),s.jsxs(L,{size:"1",color:"gray",children:[N(ne.created_at)," ",O(ne.created_at)]})]}),!J&&!ee&&s.jsx(L,{children:ne.response})]},ne.id)})})]})]}),!(p.matter_type==="vote"&&p.is_anonymous)&&s.jsxs(ri,{value:"chat",children:[s.jsx(X,{mb:"4",style:{maxHeight:400,overflowY:"auto",display:"flex",flexDirection:"column",gap:12,padding:12,border:"1px solid var(--gray-a6)",borderRadius:8,background:"var(--gray-a1)"},children:b.length===0?s.jsx(L,{color:"gray",style:{textAlign:"center"},children:"No messages yet. Start the conversation!"}):b.map(ne=>{var ee,se;const J=ne.user_id===(a==null?void 0:a.id);return s.jsx(X,{style:{display:"flex",justifyContent:J?"flex-end":"flex-start",width:"100%"},children:s.jsxs(X,{p:"2",style:{background:J?"var(--blue-a3)":"var(--gray-a2)",borderRadius:6,maxWidth:"80%"},children:[!J&&s.jsx(L,{size:"1",weight:"medium",color:"gray",style:{display:"block",marginBottom:4},children:((ee=ne.user)==null?void 0:ee.display_name)||((se=ne.user)==null?void 0:se.email)||"Unknown"}),s.jsx(L,{children:ne.content}),s.jsx(L,{size:"1",color:"gray",style:{display:"block",marginTop:4},children:(()=>{const de=new Date(ne.created_at),he=String(de.getHours()).padStart(2,"0"),me=String(de.getMinutes()).padStart(2,"0");return`${he}:${me}`})()})]})},ne.id)})}),s.jsxs($,{gap:"2",children:[s.jsx(Ci,{placeholder:"Type a message...",value:u,onChange:ne=>d(ne.target.value),onKeyDown:ne=>{ne.key==="Enter"&&(ne.metaKey||ne.ctrlKey)&&K.mutate()},rows:2,style:{flex:1}}),s.jsxs(pe,{onClick:()=>K.mutate(),disabled:!u.trim()||K.isPending,children:[s.jsx(jTe,{width:16,height:16})," Send"]})]})]})]})]})]})}function dee({open:e,onOpenChange:t}){const{companyId:n}=En(),{companyRole:i}=zr(),r=Yt(),{success:a,error:o}=Jt(),[l,c]=g.useState("vote"),[u,d]=g.useState(""),[h,m]=g.useState(""),[p,v]=g.useState(""),[S,b]=g.useState(new Set),[w,R]=g.useState(!1),[E,_]=g.useState(!1),[N,O]=g.useState([]),j=g.useRef(null),[D,P]=g.useState(()=>typeof window<"u"?window.matchMedia("(min-width: 768px)").matches:!1);g.useEffect(()=>{const ee=window.matchMedia("(min-width: 768px)"),se=de=>P(de.matches);try{return ee.addEventListener("change",se),()=>ee.removeEventListener("change",se)}catch{return ee.addListener(se),()=>ee.removeListener(se)}},[]);const B=!!i,{data:M=[],isFetching:z}=et({queryKey:["company-users-with-roles",n,p],enabled:e&&!!n,queryFn:async()=>{if(!n)return[];let ee=re.from("company_user_profiles").select("user_id, display_name, email, role").eq("company_id",n).limit(50);p.trim()&&(ee=ee.or(`display_name.ilike.%${p.trim()}%,email.ilike.%${p.trim()}%`));const{data:se,error:de}=await ee;if(de)throw de;return se}}),U=g.useMemo(()=>{const ee={employee:[],owner:[],freelancer:[],super_user:[],other:[]};for(const se of M){const de=se.role;de&&de in ee?ee[de].push(se):ee.other.push(se)}return ee},[M]),K=g.useMemo(()=>[...U.employee,...U.owner,...U.super_user],[U]),te=g.useMemo(()=>U.freelancer,[U]),q=g.useMemo(()=>K.length===0?!1:K.every(ee=>S.has(ee.user_id)),[K,S]),V=g.useMemo(()=>te.length===0?!1:te.every(ee=>S.has(ee.user_id)),[te,S]),Q=g.useMemo(()=>M.length===0?!1:M.every(ee=>S.has(ee.user_id)),[M,S]),ce=()=>{b(ee=>{const se=new Set(ee);if(q)for(const de of K)se.delete(de.user_id);else for(const de of K)se.add(de.user_id);return se})},ae=()=>{b(ee=>{const se=new Set(ee);if(V)for(const de of te)se.delete(de.user_id);else for(const de of te)se.add(de.user_id);return se})},G=()=>{b(ee=>{const se=new Set(ee);if(Q)return new Set;for(const de of M)se.add(de.user_id);return se})},H=ee=>{if(!ee)return null;const de={owner:{color:"purple",label:"Owner"},employee:{color:"blue",label:"Employee"},freelancer:{color:"green",label:"Freelancer"},super_user:{color:"amber",label:"Super"}}[ee];return s.jsx(mt,{radius:"full",size:"1",color:de.color,children:de.label})},T=ee=>{b(se=>{const de=new Set(se);return de.has(ee)?de.delete(ee):de.add(ee),de})},Y=bt({mutationFn:async()=>{if(!n)throw new Error("No company selected");if(!u.trim())throw new Error("Title is required");if(S.size===0)throw new Error("Please select at least one recipient");await ZO({company_id:n,matter_type:l,title:u.trim(),content:h.trim()||null,recipient_user_ids:Array.from(S),is_anonymous:l==="vote"?w:void 0,allow_custom_responses:l==="vote"?!1:void 0,created_as_company:l==="announcement"&&(i==="owner"||i==="super_user")?E:void 0,files:N.length>0?N:void 0})},onSuccess:()=>{r.invalidateQueries({queryKey:["matters"]}),a("Success","Matter created and sent"),d(""),m(""),b(new Set),v(""),R(!1),_(!1),O([]),j.current&&(j.current.value=""),t(!1)},onError:ee=>{o("Failed to create matter",(ee==null?void 0:ee.message)||"Please try again.")}}),ie=ee=>{const se=Array.from(ee.target.files||[]);O(de=>[...de,...se])},ne=ee=>{O(se=>se.filter((de,he)=>he!==ee))};g.useEffect(()=>{e||(c("vote"),d(""),m(""),b(new Set),v(""),R(!1),_(!1),O([]),j.current&&(j.current.value=""))},[e]);const J=l==="vote";return s.jsx(rn,{open:e,onOpenChange:t,children:s.jsxs(an,{style:{maxWidth:900,maxHeight:"90vh",overflow:"auto"},children:[s.jsx(cn,{children:"Create Matter"}),s.jsx(vr,{children:"Create a new matter to send to team members"}),s.jsxs(Zn,{columns:D?"1fr 1.5fr":"1fr",gap:"4",children:[s.jsxs(X,{children:[s.jsxs(X,{my:"4",children:[s.jsx(L,{size:"2",weight:"medium",mb:"2",style:{display:"block"},children:"Matter Type *"}),s.jsx(_O,{value:l,onValueChange:ee=>c(ee),children:s.jsxs($,{gap:"4",wrap:"wrap",children:[s.jsxs($,{align:"center",gap:"2",children:[s.jsx(rm,{value:"vote",id:"vote"}),s.jsx(L,{size:"2",as:"label",htmlFor:"vote",children:"Vote"})]}),s.jsxs($,{align:"center",gap:"2",children:[s.jsx(rm,{value:"announcement",id:"announcement"}),s.jsx(L,{size:"2",as:"label",htmlFor:"announcement",children:"Announcement"})]}),s.jsxs($,{align:"center",gap:"2",children:[s.jsx(rm,{value:"chat",id:"chat"}),s.jsx(L,{size:"2",as:"label",htmlFor:"chat",children:"Chat"})]})]})})]}),s.jsxs(X,{my:"4",children:[s.jsxs(L,{size:"2",weight:"medium",mb:"1",style:{display:"block"},children:[J?"Question/Title":"Title"," *"]}),s.jsx(qe,{placeholder:J?"e.g., Should we buy this equipment?":"Enter a title...",value:u,onChange:ee=>d(ee.target.value)})]}),s.jsxs(X,{my:"4",children:[s.jsx(L,{size:"2",weight:"medium",mb:"1",style:{display:"block"},children:"Description (optional)"}),s.jsx(Ci,{placeholder:"Provide more context...",value:h,onChange:ee=>m(ee.target.value),rows:4})]}),J&&s.jsx(s.Fragment,{children:s.jsx(X,{my:"4",children:s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"var(--space-2)",cursor:"pointer"},children:[s.jsx(fr,{checked:w,onCheckedChange:ee=>R(ee===!0)}),s.jsx(L,{size:"2",children:"Anonymous vote (responses will not show names)"})]})})}),l==="announcement"&&(i==="owner"||i==="super_user")&&s.jsx(X,{my:"4",children:s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"var(--space-2)",cursor:"pointer"},children:[s.jsx(fr,{checked:E,onCheckedChange:ee=>_(ee===!0)}),s.jsx(L,{size:"2",children:"Create as company (will show company name instead of your name)"})]})}),s.jsxs(X,{my:"4",children:[s.jsx(L,{size:"2",weight:"medium",mb:"1",style:{display:"block"},children:"Attach Files (optional)"}),s.jsx("input",{ref:j,type:"file",multiple:!0,onChange:ie,style:{display:"none"}}),s.jsxs($,{gap:"2",align:"center",children:[s.jsx(pe,{size:"2",variant:"soft",onClick:()=>{var ee;return(ee=j.current)==null?void 0:ee.click()},children:"Choose Files"}),N.length>0&&s.jsxs(L,{size:"2",color:"gray",children:[N.length," file",N.length!==1?"s":""," selected"]})]}),N.length>0&&s.jsx(X,{mt:"2",p:"2",style:{border:"1px solid var(--gray-a6)",borderRadius:8,background:"var(--gray-a2)"},children:N.map((ee,se)=>s.jsxs($,{align:"center",justify:"between",gap:"2",mb:se<N.length-1?"2":void 0,children:[s.jsx(L,{size:"2",truncate:!0,style:{flex:1},children:ee.name}),s.jsx(pe,{size:"1",variant:"ghost",color:"red",onClick:()=>ne(se),children:s.jsx(wu,{width:14,height:14})})]},se))})]})]}),s.jsx(X,{children:s.jsxs(X,{my:"4",children:[s.jsx(L,{size:"2",weight:"medium",mb:"2",style:{display:"block"},children:"Select Recipients *"}),s.jsxs($,{gap:"2",wrap:"wrap",mb:"2",children:[s.jsx(pe,{size:"1",variant:"soft",onClick:G,children:Q?"Unselect All":"Select All"}),B&&s.jsxs(s.Fragment,{children:[s.jsx(pe,{size:"1",variant:"soft",onClick:ce,disabled:K.length===0,children:q?"Unselect Employees":"Select Employees"}),s.jsx(pe,{size:"1",variant:"soft",onClick:ae,disabled:te.length===0,children:V?"Unselect Freelancers":"Select Freelancers"})]})]}),s.jsx(qe,{placeholder:"Search by name or email",value:p,onChange:ee=>v(ee.target.value),mb:"2"}),s.jsxs(X,{style:{maxHeight:400,overflowY:"auto",border:"1px solid var(--gray-a6)",borderRadius:8,padding:8},children:[z&&s.jsx(L,{size:"2",color:"gray",children:"Searching"}),!z&&M.length===0&&s.jsx(L,{size:"2",color:"gray",children:"No users found"}),!z&&M.map(ee=>{const se=S.has(ee.user_id);return s.jsx(X,{p:"2",style:{cursor:"pointer",borderRadius:6,background:se?"var(--blue-a3)":"transparent"},onClick:()=>T(ee.user_id),children:s.jsx($,{align:"center",gap:"2",justify:"between",children:s.jsxs($,{align:"center",gap:"2",children:[s.jsx(fr,{checked:se}),s.jsxs("div",{children:[s.jsxs($,{align:"center",gap:"2",children:[s.jsx(L,{weight:"medium",children:ee.display_name||ee.email}),H(ee.role)]}),ee.display_name&&s.jsx(L,{size:"1",color:"gray",style:{display:"block"},children:ee.email})]})]})})},ee.user_id)})]}),S.size>0&&s.jsxs(L,{size:"2",color:"gray",mt:"2",children:[S.size," recipient",S.size!==1?"s":""," selected"]})]})})]}),s.jsxs($,{mt:"4",gap:"2",justify:"end",children:[s.jsx(Dn,{children:s.jsx(pe,{variant:"soft",children:"Cancel"})}),s.jsx(pe,{onClick:()=>Y.mutate(),disabled:!u.trim()||S.size===0||Y.isPending,children:Y.isPending?"Creating":"Create Matter"})]})]})})}function Lbt(){const{companyId:e}=En(),[t,n]=g.useState(null),[i,r]=g.useState(!1),[a,o]=g.useState(!1),[l,c]=g.useState("all"),{data:u}=et({queryKey:["auth","user"],queryFn:async()=>(await re.auth.getUser()).data.user??null}),{data:d}=et({queryKey:["my-companies",u==null?void 0:u.id],enabled:!!(u!=null&&u.id),queryFn:async()=>{const{data:R}=await re.from("profiles").select("superuser").eq("user_id",u.id).maybeSingle();if((R==null?void 0:R.superuser)??!1){const{data:_,error:N}=await re.from("companies").select("id, name").order("name",{ascending:!0});if(N)throw N;return _}else{const{data:_,error:N}=await re.from("company_users").select("companies ( id, name )").eq("user_id",u.id);if(N)throw N;return _.map(O=>O.companies).filter(Boolean).sort((O,j)=>O.name.localeCompare(j.name))}}}),[h,m]=g.useState(()=>typeof window<"u"?window.matchMedia("(min-width: 1024px)").matches:!1),[p,v]=g.useState(55),[S,b]=g.useState(!1),w=g.useRef(null);return g.useEffect(()=>{const R=window.matchMedia("(min-width: 1024px)"),E=_=>m(_.matches);try{return R.addEventListener("change",E),()=>R.removeEventListener("change",E)}catch{return R.addListener(E),()=>R.removeListener(E)}},[]),g.useEffect(()=>{if(!S)return;const R=_=>{if(!w.current)return;const N=w.current.getBoundingClientRect(),O=N.width,j=_.clientX-N.left,B=Math.max(25,Math.min(75,j/O*100));v(B)},E=()=>{b(!1),document.body.style.cursor="",document.body.style.userSelect=""};return document.body.style.cursor="col-resize",document.body.style.userSelect="none",document.addEventListener("mousemove",R),document.addEventListener("mouseup",E),()=>{document.removeEventListener("mousemove",R),document.removeEventListener("mouseup",E),document.body.style.cursor="",document.body.style.userSelect=""}},[S]),e?h?s.jsxs("section",{style:{height:"100%",minHeight:0},children:[s.jsxs($,{ref:w,gap:"2",align:"stretch",style:{height:"100%",minHeight:0,position:"relative"},children:[s.jsxs(Rt,{size:"3",style:{display:"flex",flexDirection:"column",width:`${p}%`,height:"100%",minWidth:"300px",maxWidth:"75%",minHeight:0,flexShrink:0,transition:S?"none":"width 0.1s ease-out"},children:[s.jsxs(X,{mb:"3",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(He,{size:"5",children:"Matters"}),s.jsxs($,{align:"center",gap:"3",wrap:"wrap",children:[s.jsxs($,{align:"center",gap:"2",children:[s.jsx(L,{size:"2",weight:"medium",children:"Unread only"}),s.jsx(Ro,{checked:a,onCheckedChange:o,size:"2"})]}),d&&d.length>0&&s.jsxs(Vn,{value:l,size:"3",onValueChange:R=>c(R),children:[s.jsx(Kn,{placeholder:"Filter company",style:{minHeight:"var(--space-7)"}}),s.jsxs(Gn,{children:[s.jsx(wt,{value:"all",children:"All Companies"}),d.map(R=>s.jsx(wt,{value:R.id,children:R.name},R.id))]})]}),s.jsxs(pe,{size:"2",onClick:()=>r(!0),children:[s.jsx(yi,{})," New Matter"]})]})]}),s.jsx(st,{size:"4",mb:"3"}),s.jsx(X,{style:{flex:1,minHeight:0},children:s.jsx(cee,{selectedId:t,onSelect:n,unreadFilter:a,companyFilter:l,companies:d||[]})})]}),s.jsx(X,{className:"section-resizer",onMouseDown:R=>{R.preventDefault(),b(!0)},style:{width:"6px",height:"20%",cursor:"col-resize",backgroundColor:"var(--gray-a4)",borderRadius:"4px",flexShrink:0,alignSelf:"center",userSelect:"none",margin:"0 -4px",zIndex:10,transition:S?"none":"background-color 0.2s"},onMouseEnter:R=>{S||(R.currentTarget.style.backgroundColor="var(--gray-a6)",R.currentTarget.style.cursor="col-resize")},onMouseLeave:R=>{S||(R.currentTarget.style.backgroundColor="var(--gray-a4)")}}),s.jsxs(Rt,{size:"3",style:{display:"flex",flexDirection:"column",flex:1,height:"100%",maxHeight:"100%",overflow:"hidden",minWidth:"300px",minHeight:0,transition:S?"none":"flex-basis 0.1s ease-out"},children:[s.jsx(He,{size:"5",mb:"3",children:"Detail"}),s.jsx(st,{size:"4",mb:"3"}),s.jsx(X,{style:{flex:1,minHeight:0,overflowY:"auto"},children:t?s.jsx(uee,{matterId:t,onDeleted:()=>n(null)}):s.jsx(X,{p:"4",children:s.jsxs(X,{style:{textAlign:"center"},children:[s.jsx(He,{size:"4",mb:"2",children:"Select a matter"}),s.jsx("p",{style:{color:"var(--gray-11)"},children:"Choose a matter from the list to view details, responses, and chat."})]})})})]})]}),s.jsx(dee,{open:i,onOpenChange:r})]}):s.jsxs("section",{style:{minHeight:0},children:[s.jsxs(Zn,{columns:"1fr",gap:"4",align:"stretch",style:{minHeight:0},children:[s.jsxs(Rt,{size:"3",style:{display:"flex",flexDirection:"column",minHeight:0},children:[s.jsxs(X,{mb:"3",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(He,{size:"5",children:"Matters"}),s.jsxs($,{align:"center",gap:"3",wrap:"wrap",children:[s.jsxs($,{align:"center",gap:"2",children:[s.jsx(L,{size:"2",weight:"medium",children:"Unread only"}),s.jsx(Ro,{checked:a,onCheckedChange:o,size:"2"})]}),d&&d.length>0&&s.jsxs(Vn,{value:l,size:"3",onValueChange:R=>c(R),children:[s.jsx(Kn,{placeholder:"Filter company",style:{minHeight:"var(--space-7)"}}),s.jsxs(Gn,{children:[s.jsx(wt,{value:"all",children:"All Companies"}),d.map(R=>s.jsx(wt,{value:R.id,children:R.name},R.id))]})]}),s.jsxs(pe,{size:"2",onClick:()=>r(!0),children:[s.jsx(yi,{})," New Matter"]})]})]}),s.jsx(st,{size:"4",mb:"3"}),s.jsx(X,{style:{overflowY:"visible"},children:s.jsx(cee,{selectedId:t,onSelect:n,unreadFilter:a,companyFilter:l,companies:d||[]})})]}),s.jsxs(Rt,{size:"3",style:{display:"flex",flexDirection:"column",minHeight:0},children:[s.jsx(He,{size:"5",mb:"3",children:"Detail"}),s.jsx(st,{size:"4",mb:"3"}),s.jsx(X,{style:{overflowY:"visible"},children:t?s.jsx(uee,{matterId:t,onDeleted:()=>n(null)}):s.jsx(X,{p:"4",children:s.jsxs(X,{style:{textAlign:"center"},children:[s.jsx(He,{size:"4",mb:"2",children:"Select a matter"}),s.jsx("p",{style:{color:"var(--gray-11)"},children:"Choose a matter from the list to view details, responses, and chat."})]})})})]})]}),s.jsx(dee,{open:i,onOpenChange:r})]}):s.jsx(VO,{columns:"2fr 3fr"})}function Tbt({open:e,onOpenChange:t,onAdded:n}){const{companyId:i}=En(),r=Yt(),[a,o]=g.useState({name:"",email:"",phone:"",vat_number:"",address_line:"",zip_code:"",city:"",country:"Norway",is_partner:!1}),l=(m,p)=>o(v=>({...v,[m]:p})),c=(m,p)=>o(v=>({...v,[m]:p})),{success:u}=Jt(),d=bt({mutationFn:async()=>{if(!i)throw new Error("No company selected");const p=[a.address_line,a.zip_code,a.city,a.country].filter(Boolean).join(", ")||null,v={company_id:i,name:a.name,email:a.email||null,phone:a.phone||null,vat_number:a.vat_number.trim()||null,address:p,is_partner:!!a.is_partner};let S;if(a.name.trim()){const{data:b,error:w}=await re.from("customers").insert(v).select("id").single();if(w)throw w;S=b.id}if(S&&a.address_line&&a.city&&a.zip_code&&a.country){const b=`${a.name}'s address`,{error:w}=await re.from("addresses").insert({name:b,address_line:a.address_line,zip_code:a.zip_code,city:a.city,country:a.country,company_id:i,is_personal:!1});if(w)throw w}if(S)try{const{logActivity:b}=await $l(async()=>{const{logActivity:w}=await Promise.resolve().then(()=>tv);return{logActivity:w}},void 0);await b({companyId:i,activityType:"customer_added",metadata:{customer_id:S,customer_name:a.name.trim(),is_partner:a.is_partner},title:a.name.trim()})}catch(b){console.error("Failed to log activity:",b)}return S},onSuccess:async()=>{o({name:"",email:"",phone:"",vat_number:"",address_line:"",zip_code:"",city:"",country:"Norway",is_partner:!1}),await r.invalidateQueries({queryKey:["company",i,"latest-feed"],exact:!1}),t(!1),n==null||n(),u("Success","Customer added")}}),h=a.name.trim().length>0;return s.jsx(rn,{open:e,onOpenChange:t,children:s.jsxs(an,{maxWidth:"480px",children:[s.jsx(cn,{children:"Add customer"}),s.jsxs($,{direction:"column",gap:"3",mt:"3",children:[s.jsx(wp,{label:"Name",children:s.jsx(qe,{value:a.name,onChange:m=>l("name",m.target.value),placeholder:"Company or customer name",autoFocus:!0})}),s.jsx(wp,{label:"Email",children:s.jsx(qe,{type:"email",value:a.email,onChange:m=>l("email",m.target.value),placeholder:"email@example.com"})}),s.jsx(wp,{label:"Phone",children:s.jsx(Td,{id:"signup-phone",value:a.phone,onChange:m=>l("phone",m??""),defaultCountry:"NO",placeholder:"Enter phone number"})}),s.jsx(wp,{label:"VAT number",children:s.jsx(qe,{value:a.vat_number,onChange:m=>l("vat_number",rx(m.target.value)),placeholder:"e.g., 123 456 789"})}),s.jsx(wp,{label:"Address line",children:s.jsx(qe,{value:a.address_line,onChange:m=>c("address_line",m.target.value),placeholder:"Street and number"})}),s.jsx(Mbt,{children:s.jsxs($,{gap:"2",width:"100%",children:[s.jsx(wp,{label:"ZIP",children:s.jsx(YO,{value:a.zip_code,onChange:m=>c("zip_code",m),autoCompleteCity:m=>c("city",m)})}),s.jsx(wp,{label:"City",style:{flex:1},children:s.jsx(qe,{value:a.city,onChange:m=>c("city",m.target.value),placeholder:"e.g., Oslo"})})]})}),s.jsx(wp,{label:"Country",children:s.jsx(qe,{value:a.country,onChange:m=>c("country",m.target.value)})}),s.jsxs($,{align:"center",gap:"2",children:[s.jsx(L,{size:"2",color:"gray",children:"Partner"}),s.jsx(Ro,{checked:a.is_partner,onCheckedChange:m=>l("is_partner",!!m)})]})]}),s.jsxs($,{gap:"2",mt:"4",justify:"end",children:[s.jsx(Dn,{children:s.jsx(pe,{variant:"soft",children:"Cancel"})}),s.jsx(pe,{onClick:()=>d.mutate(),disabled:!h||d.isPending,children:d.isPending?"Saving":"Create"})]})]})})}function wp({label:e,children:t,maxWidth:n,style:i}){return s.jsxs("div",{style:{...n?{maxWidth:n}:{},...i},children:[s.jsx(L,{as:"div",size:"2",color:"gray",style:{marginBottom:6},children:e}),t]})}function Mbt({children:e}){return s.jsx($,{direction:"column",gap:"2",children:e})}function fee({selectedId:e,onSelect:t,showRegular:n,showPartner:i}){const{companyId:r}=En(),a=Yt(),[o,l]=g.useState(""),[c]=W8(o,{wait:300}),[u,d]=g.useState(!1),[h,m]=g.useState(1),[p,v]=g.useState(10),S=g.useRef(null),b=g.useRef(null),w=g.useRef(null),R=g.useRef(null),[E,_]=g.useState(()=>n&&i?"all":n&&!i?"customer":!n&&i?"partner":"all"),N=E==="all"||E==="customer",O=E==="all"||E==="partner",{data:j=[],isFetching:D,isLoading:P}=et({...FGe({companyId:r??"__none__",search:c,showRegular:N,showPartner:O}),enabled:!!r,staleTime:1e4}),B=g.useCallback(()=>{var ie,ne,J,ee;if(!S.current)return;const q=S.current.getBoundingClientRect().height;if(q===0)return;const V=((ie=b.current)==null?void 0:ie.offsetHeight)??0,Q=((ne=w.current)==null?void 0:ne.offsetHeight)??0,ce=((J=R.current)==null?void 0:J.offsetHeight)??0,G=Math.max(0,q-V-Q-ce-48);if(G<100){v(5);return}const H=(ee=S.current)==null?void 0:ee.querySelector("tbody tr:not([data-row-probe])"),T=(H==null?void 0:H.getBoundingClientRect().height)||60,Y=Math.max(5,Math.min(50,Math.floor(G/T)));v(Y)},[]);g.useEffect(()=>{if(!S.current)return;const te=()=>B();window.addEventListener("resize",te);const q=new ResizeObserver(()=>{B()});q.observe(S.current);const V=setTimeout(()=>{B()},0),Q=requestAnimationFrame(()=>{B()});return()=>{window.removeEventListener("resize",te),q.disconnect(),clearTimeout(V),cancelAnimationFrame(Q)}},[B]),g.useEffect(()=>{!P&&j.length>0&&requestAnimationFrame(()=>{B()})},[P,j.length,B]),g.useEffect(()=>{m(1)},[o,E]);const M=Math.ceil(j.length/p),z=(h-1)*p,U=z+p,K=j.slice(z,U);return s.jsxs(X,{ref:S,style:{height:"100%",display:"flex",flexDirection:"column"},children:[s.jsx("div",{ref:b,children:s.jsxs($,{gap:"2",align:"center",wrap:"wrap",children:[s.jsxs(qe,{value:o,onChange:te=>l(te.target.value),placeholder:"Search customers",size:"3",style:{flex:"1 1 260px"},children:[s.jsx(Sr,{side:"left",children:s.jsx(qu,{})}),s.jsx(Sr,{side:"right",children:(D||P)&&s.jsxs($,{align:"center",gap:"1",children:[s.jsx(L,{children:"Thinking"}),s.jsx(Ei,{size:"2"})]})})]}),s.jsxs(Vn,{value:E,size:"3",onValueChange:te=>_(te),children:[s.jsx(Kn,{placeholder:"Filter type",style:{minHeight:"var(--space-7)"}}),s.jsxs(Gn,{children:[s.jsx(wt,{value:"all",children:"All"}),s.jsx(wt,{value:"customer",children:"Customer"}),s.jsx(wt,{value:"partner",children:"Partner"})]})]}),s.jsx(pe,{variant:"classic",onClick:()=>d(!0),children:"Add customer"}),s.jsx(Tbt,{open:u,onOpenChange:d,onAdded:()=>a.invalidateQueries({queryKey:["company",r,"customers-index"]})})]})}),s.jsx(X,{style:{flex:1,minHeight:0},children:s.jsxs(Hn,{variant:"surface",style:{marginTop:16},children:[s.jsx(Qn,{ref:w,children:s.jsxs(ht,{children:[s.jsx(ze,{children:"Name"}),s.jsx(ze,{children:"Contact"}),s.jsx(ze,{children:s.jsxs($,{gap:"1",children:["Type",s.jsx(ju,{content:"Customer: normal customer, Partner: supplier & customer",children:s.jsx(K2,{width:"1em"})})]})})]})}),s.jsxs(qn,{children:[K.length===0?s.jsx(ht,{children:s.jsx(Oe,{colSpan:3,children:"No results"})}):K.map(te=>{const q=te.id===e;return s.jsxs(ht,{onClick:()=>t(te.id),style:{cursor:"pointer",background:q?"var(--accent-a3)":void 0},"data-state":q?"active":void 0,children:[s.jsx(Oe,{children:s.jsx(L,{size:"2",weight:"medium",children:te.name})}),s.jsxs(Oe,{children:[s.jsx(L,{size:"2",color:"gray",children:te.email||""}),te.phone&&s.jsx(L,{as:"div",size:"1",color:"gray",children:Ta(te.phone)})]}),s.jsx(Oe,{children:te.is_partner?s.jsx(mt,{variant:"soft",color:"green",children:"Partner"}):s.jsx(mt,{variant:"soft",children:"Customer"})})]},te.id)}),s.jsx(ht,{"data-row-probe":!0,style:{display:"none"},children:s.jsx(Oe,{colSpan:3,children:"probe"})})]})]})}),j.length>0&&s.jsx("div",{ref:R,children:s.jsxs($,{align:"center",justify:"between",mt:"3",children:[s.jsxs(L,{size:"2",color:"gray",children:["Showing ",z+1,"-",Math.min(U,j.length)," of"," ",j.length," customers"]}),s.jsxs($,{gap:"2",children:[s.jsx(pe,{disabled:h===1,onClick:()=>m(te=>te-1),variant:"classic",size:"2",children:"Prev"}),s.jsx(pe,{disabled:h>=M,onClick:()=>m(te=>te+1),variant:"classic",size:"2",children:"Next"})]})]})})]})}const hee=2/1,Ibt=.1;function Pbt({currentLogoPath:e,onUploadComplete:t,onDelete:n,uploadPath:i,disabled:r=!1}){const[a,o]=g.useState(!1),[l,c]=g.useState(null),[u,d]=g.useState(!0),h=g.useRef(null),m=g.useRef(null),{success:p,error:v}=Jt(),S=g.useMemo(()=>{if(e){const{data:_}=re.storage.from("logos").getPublicUrl(e);return`${_.publicUrl}?t=${Date.now()}`}return null},[e]);g.useEffect(()=>{m.current&&(URL.revokeObjectURL(m.current),m.current=null),c(null),d(!0)},[e,i]),g.useEffect(()=>()=>{m.current&&URL.revokeObjectURL(m.current)},[]);const b=_=>new Promise(N=>{const O=new Image,j=URL.createObjectURL(_);O.onload=()=>{const D=O.width/O.height,P=Math.abs(D-hee)<=hee*Ibt;URL.revokeObjectURL(j),N({isValid:P,width:O.width,height:O.height})},O.onerror=()=>{URL.revokeObjectURL(j),N({isValid:!1})},O.src=j}),w=async _=>{var O;const N=(O=_.target.files)==null?void 0:O[0];if(N){if(!N.type.match(/^image\/(jpeg|jpg)$/)){v("Invalid file type","Please upload a JPG image file. PNG files with transparency are not allowed.");return}o(!0);try{const{isValid:j,width:D,height:P}=await b(N);if(!j){const z=D&&P?`${D}:${P}`:"unknown";v("Invalid aspect ratio",`Logo must have a 2:1 aspect ratio (width:height). Your image has a ${z} ratio.`),o(!1);return}m.current&&URL.revokeObjectURL(m.current);const B=URL.createObjectURL(N);m.current=B,c(B),d(!0);const{error:M}=await re.storage.from("logos").upload(i,N,{upsert:!0,cacheControl:"3600"});if(M)throw M;t(i),p("Logo uploaded","Logo has been uploaded successfully."),m.current&&(URL.revokeObjectURL(m.current),m.current=null),c(null)}catch(j){v("Upload failed",(j==null?void 0:j.message)||"Failed to upload logo."),m.current&&(URL.revokeObjectURL(m.current),m.current=null),c(null)}finally{o(!1),h.current&&(h.current.value="")}}},R=async()=>{if(e)try{const{error:_}=await re.storage.from("logos").remove([e]);if(_)throw _;n==null||n(),m.current&&(URL.revokeObjectURL(m.current),m.current=null),c(null),p("Logo deleted","Logo has been removed.")}catch(_){v("Delete failed",(_==null?void 0:_.message)||"Failed to delete logo.")}},E=l||S;return s.jsx(X,{children:s.jsxs($,{direction:"column",gap:"3",children:[E&&s.jsxs(X,{style:{width:"100%",maxWidth:300,aspectRatio:"2/1",borderRadius:8,overflow:"hidden",border:"1px solid var(--gray-a6)",backgroundColor:"var(--gray-a2)",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:[u&&s.jsx(Di,{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}}),s.jsx("img",{src:E,alt:"Logo preview",style:{width:"100%",height:"100%",objectFit:"contain",opacity:u?0:1,transition:"opacity 0.2s ease-in-out"},onLoad:()=>d(!1),onError:()=>d(!1)})]}),s.jsxs($,{gap:"2",align:"center",children:[s.jsx("input",{ref:h,type:"file",accept:"image/jpeg,image/jpg",onChange:w,disabled:r||a,style:{display:"none"}}),s.jsxs(pe,{size:"2",variant:"soft",onClick:()=>{var _;return(_=h.current)==null?void 0:_.click()},disabled:r||a,children:[s.jsx(P0,{width:16,height:16}),a?"Uploading...":E?"Replace":"Upload"]}),E&&n&&s.jsx(pe,{size:"2",variant:"soft",color:"red",onClick:R,disabled:r||a,children:"Delete"})]}),s.jsx(L,{size:"1",color:"gray",children:"Logo must be JPG format with a 2:1 aspect ratio (width:height)"})]})})}function kbt({open:e,onOpenChange:t,initial:n,onSaved:i}){const{companyId:r}=En();Yt();const a=g.useCallback(p=>{if(!p)return{address_line:"",zip_code:"",city:"",country:"Norway"};const v=p.split(",").map(S=>S.trim()).filter(Boolean);return{address_line:v[0]||"",zip_code:v[1]||"",city:v[2]||"",country:v[3]||"Norway"}},[]),[o,l]=g.useState({...n,vat_number:n.vat_number?rx(n.vat_number):"",...a(n.address)});g.useEffect(()=>{e&&l({...n,vat_number:n.vat_number?rx(n.vat_number):"",...a(n.address)})},[e,n.id]);const c=(p,v)=>l(S=>({...S,[p]:v})),u=(p,v)=>l(S=>({...S,[p]:v})),{success:d,error:h}=Jt(),m=bt({mutationFn:async()=>{if(!r)throw new Error("No company selected");const v=[o.address_line,o.zip_code,o.city,o.country].filter(Boolean).join(", ")||null;return Zue({id:o.id,company_id:r,name:o.name,email:o.email||null,phone:o.phone||null,vat_number:o.vat_number.trim()||null,address:v,is_partner:!!o.is_partner,logo_path:o.logo_path??null})},onSuccess:async()=>{t(!1),i==null||i(),d("Success","Customer data saved")}});return s.jsx(rn,{open:e,onOpenChange:t,children:s.jsxs(an,{maxWidth:"520px",children:[s.jsx(cn,{children:"Edit customer"}),s.jsxs($,{direction:"column",gap:"3",mt:"3",children:[s.jsx(Ep,{label:"Name",children:s.jsx(qe,{value:o.name,onChange:p=>c("name",p.target.value),autoFocus:!0})}),s.jsx(Ep,{label:"Email",children:s.jsx(qe,{type:"email",value:o.email,onChange:p=>c("email",p.target.value)})}),s.jsx(Ep,{label:"Phone",children:s.jsx(Td,{id:"signup-phone",value:o.phone,onChange:p=>c("phone",p??""),defaultCountry:"NO",placeholder:"Enter phone number"})}),s.jsx(Ep,{label:"VAT number",children:s.jsx(qe,{value:o.vat_number,onChange:p=>c("vat_number",rx(p.target.value)),placeholder:"e.g., 123 456 789"})}),s.jsx(Ep,{label:"Address line",children:s.jsx(qe,{value:o.address_line,onChange:p=>u("address_line",p.target.value),placeholder:"Street and number"})}),s.jsx($bt,{children:s.jsxs($,{gap:"2",width:"100%",children:[s.jsx(Ep,{label:"ZIP",children:s.jsx(YO,{value:o.zip_code,onChange:p=>u("zip_code",p),autoCompleteCity:p=>u("city",p)})}),s.jsx(Ep,{label:"City",style:{flex:1},children:s.jsx(qe,{value:o.city,onChange:p=>u("city",p.target.value),placeholder:"e.g., Oslo"})})]})}),s.jsx(Ep,{label:"Country",children:s.jsx(qe,{value:o.country,onChange:p=>u("country",p.target.value)})}),s.jsxs($,{align:"center",gap:"2",children:[s.jsx(L,{size:"2",color:"gray",children:"Partner"}),s.jsx(Ro,{checked:o.is_partner,onCheckedChange:p=>c("is_partner",!!p)})]})]}),s.jsxs($,{gap:"2",mt:"4",justify:"end",children:[s.jsx(Dn,{children:s.jsx(pe,{variant:"soft",children:"Cancel"})}),s.jsx(pe,{onClick:()=>m.mutate(),disabled:!o.name.trim()||m.isPending,children:m.isPending?"Saving":"Save"})]})]})})}function Ep({label:e,children:t,style:n}){return s.jsxs("div",{style:n,children:[s.jsx(L,{as:"div",size:"2",color:"gray",style:{marginBottom:6},children:e}),t]})}function $bt({children:e}){return s.jsx($,{direction:"column",gap:"2",children:e})}function Fbt({open:e,onOpenChange:t,contact:n,onSaved:i}){const[r,a]=g.useState({name:"",email:"",phone:"",title:"",notes:""});g.useEffect(()=>{!e||!n||a({name:n.name,email:n.email??"",phone:n.phone??"",title:n.title??"",notes:n.notes??""})},[e,n==null?void 0:n.id]);const o=(h,m)=>a(p=>({...p,[h]:m})),l=r.name.trim().length>0,{success:c,error:u}=Jt(),d=bt({mutationFn:async()=>UGe({id:n.id,name:r.name.trim(),email:r.email.trim()||null,phone:r.phone.trim()||null,title:r.title.trim()||null,notes:r.notes.trim()||null}),onSuccess:()=>{t(!1),i==null||i(),c("Success","Contact info saved")}});return s.jsx(rn,{open:e,onOpenChange:t,children:s.jsxs(an,{maxWidth:"520px",children:[s.jsx(cn,{children:"Edit contact"}),s.jsxs($,{direction:"column",gap:"3",mt:"3",children:[s.jsx(Tb,{label:"Name *",children:s.jsx(qe,{value:r.name,onChange:h=>o("name",h.target.value),autoFocus:!0})}),s.jsxs($,{gap:"3",wrap:"wrap",children:[s.jsx(Tb,{label:"Email",children:s.jsx(qe,{type:"email",value:r.email,onChange:h=>o("email",h.target.value)})}),s.jsx(Tb,{label:"Phone",children:s.jsx(Td,{id:"signup-phone",value:r.phone,onChange:h=>o("phone",h??""),defaultCountry:"NO",placeholder:"Enter phone number"})})]}),s.jsx(Tb,{label:"Title / Role",children:s.jsx(qe,{value:r.title,onChange:h=>o("title",h.target.value)})}),s.jsx(Tb,{label:"Notes",children:s.jsx(Ci,{rows:3,value:r.notes,onChange:h=>o("notes",h.target.value)})})]}),s.jsxs($,{gap:"2",mt:"4",justify:"end",children:[s.jsx(Dn,{children:s.jsx(pe,{variant:"soft",children:"Cancel"})}),s.jsx(pe,{onClick:()=>d.mutate(),disabled:!l||d.isPending,children:d.isPending?"Saving":"Save"})]})]})})}function Tb({label:e,children:t}){return s.jsxs("div",{style:{flex:"1 1",minWidth:220},children:[s.jsx(L,{as:"div",size:"2",color:"gray",style:{marginBottom:6},children:e}),t]})}function pee({id:e,onDeleted:t}){const{companyId:n}=En(),i=Yt(),r=_a(),[a,o]=g.useState(!1),[l,c]=g.useState(!1),[u,d]=g.useState(!1),[h,m]=g.useState(!1),[p,v]=g.useState(null),{success:S,error:b}=Jt(),[w,R]=g.useState(!1),[E,_]=g.useState(null),[N,O]=g.useState(!1),j=!!(n&&e),{data:D,isLoading:P,isError:B,error:M}=et({...BGe({companyId:n??"",id:e??""}),enabled:j}),{data:z}=et({...GGe({companyId:n??"",customerId:e??""}),enabled:j}),U=bt({mutationFn:VGe,onSuccess:()=>{i.invalidateQueries({queryKey:["company",n,"customer-detail",e]}),S("Contact deleted","The contact was removed successfully."),R(!1),_(null)}}),K=bt({mutationFn:async()=>{if(!n||!e||!D)throw new Error("Missing ids or data");await KGe({companyId:n,id:e});try{const{logActivity:ce}=await $l(async()=>{const{logActivity:ae}=await Promise.resolve().then(()=>tv);return{logActivity:ae}},void 0);await ce({companyId:n,activityType:"customer_removed",metadata:{customer_id:e,customer_name:D.name},title:D.name})}catch(ce){console.error("Failed to log activity:",ce)}},onSuccess:async()=>{await Promise.all([i.invalidateQueries({queryKey:["company",n,"customers-index"],exact:!1}),i.invalidateQueries({queryKey:["company",n,"customer-detail"],exact:!1}),i.invalidateQueries({queryKey:["company",n,"latest-feed"],exact:!1})]),S("Deleted","Customer was marked as deleted."),O(!1),t==null||t()},onError:ce=>b("Failed to delete",(ce==null?void 0:ce.message)??"Please try again.")}),te=bt({mutationFn:async ce=>{if(!n||!e||!D)throw new Error("Missing company or customer");await Zue({id:D.id,company_id:n,name:D.name,email:D.email??null,phone:D.phone??null,address:D.address??null,vat_number:D.vat_number??null,is_partner:D.is_partner,logo_path:ce})},onSuccess:()=>{i.invalidateQueries({queryKey:["company",n,"customer-detail",e]}),i.invalidateQueries({queryKey:["company",n,"customers-index"]})}});if(g.useEffect(()=>{j&&!P&&D===void 0&&!B&&t&&t()},[j,P,D,B,t]),!e)return s.jsx(L,{color:"gray",children:"Select a customer."});if(!j)return s.jsx(L,{color:"gray",children:"Preparing"});if(P)return s.jsx(Qj,{});if(B)return s.jsxs(L,{color:"red",children:["Failed to load."," ",s.jsx(Ou,{children:(M==null?void 0:M.message)||"Unknown error"})]});if(!D)return s.jsx(L,{color:"gray",children:"Not found."});const q=D,Q=(ce=>{if(!ce)return null;const ae=ce.split(",").map(G=>G.trim()).filter(Boolean);return ae.length>=4?{address_line:ae[0],zip_code:ae[1],city:ae[2],country:ae[3]}:null})(q.address);return s.jsxs(X,{children:[s.jsxs($,{align:"center",justify:"between",gap:"2",children:[s.jsx("div",{children:s.jsx(L,{as:"div",size:"4",weight:"bold",children:q.name})}),s.jsxs($,{gap:"2",align:"center",children:[q.is_partner?s.jsx(mt,{variant:"soft",color:"green",children:"Partner"}):s.jsx(mt,{variant:"soft",children:"Customer"}),s.jsx(kbt,{open:a,onOpenChange:o,initial:{id:q.id,name:q.name,address:q.address??"",email:q.email??"",phone:q.phone??"",vat_number:q.vat_number??"",is_partner:q.is_partner,logo_path:q.logo_path??null},onSaved:()=>{i.invalidateQueries({queryKey:["company",n,"customer-detail",e]}),i.invalidateQueries({queryKey:["company",n,"customers-index"]})}}),s.jsx(pe,{size:"2",variant:"soft",onClick:()=>o(!0),children:s.jsx(gi,{})}),s.jsx(pe,{size:"2",variant:"surface",color:"red",onClick:()=>O(!0),children:s.jsx(vi,{})})]})]}),s.jsx(st,{my:"3"}),s.jsxs(X,{mb:"4",children:[s.jsxs($,{align:"center",gap:"2",mb:"2",style:{cursor:"pointer",userSelect:"none"},onClick:()=>c(!l),children:[l?s.jsx(Za,{width:16,height:16}):s.jsx(Gl,{width:16,height:16}),s.jsx(L,{as:"div",size:"2",color:"gray",children:"Logo"}),q.logo_path?s.jsx(mt,{variant:"soft",color:"green",size:"1",children:"Configured"}):s.jsx(mt,{variant:"soft",color:"red",size:"1",children:"Not configured"})]}),l&&s.jsx(Pbt,{currentLogoPath:q.logo_path,uploadPath:`customers/${n}/${q.id}/logo.jpg`,onUploadComplete:ce=>{te.mutate(ce)},onDelete:()=>{te.mutate(null)},disabled:te.isPending})]}),s.jsx(st,{my:"3"}),s.jsxs(Zn,{columns:{initial:"1",sm:"2"},gap:"4",mb:"3",children:[s.jsxs($,{direction:"column",gap:"2",children:[s.jsxs("div",{children:[s.jsx(L,{as:"div",size:"1",color:"gray",style:{marginBottom:4},children:"Email"}),s.jsx(L,{as:"div",size:"2",children:s.jsx("a",{href:`mailto:${q.email}`,style:{color:"inherit"},children:q.email})})]}),s.jsxs("div",{children:[s.jsx(L,{as:"div",size:"1",color:"gray",style:{marginBottom:4},children:"Phone"}),s.jsx(L,{as:"div",size:"2",children:q.phone?s.jsx("a",{href:`tel:${q.phone}`,style:{color:"inherit"},children:Ta(q.phone)}):""})]}),s.jsxs("div",{children:[s.jsx(L,{as:"div",size:"1",color:"gray",style:{marginBottom:4},children:"VAT number"}),s.jsxs($,{align:"center",gap:"2",children:[s.jsx(L,{as:"div",size:"2",children:Q1(q.vat_number)}),q.vat_number&&s.jsx(DR,{text:q.vat_number,copyLabel:"Copy VAT number"})]})]}),Q&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx(L,{as:"div",size:"1",color:"gray",style:{marginBottom:4},children:"Address"}),s.jsx(L,{as:"div",size:"2",children:Q.address_line||""})]}),s.jsxs(Zn,{columns:"2",gap:"4",children:[s.jsxs("div",{children:[s.jsx(L,{as:"div",size:"1",color:"gray",style:{marginBottom:4},children:"ZIP"}),s.jsx(L,{as:"div",size:"2",children:Q.zip_code||""})]}),s.jsxs("div",{children:[s.jsx(L,{as:"div",size:"1",color:"gray",style:{marginBottom:4},children:"City"}),s.jsx(L,{as:"div",size:"2",children:Q.city||""})]})]}),s.jsxs("div",{children:[s.jsx(L,{as:"div",size:"1",color:"gray",style:{marginBottom:4},children:"Country"}),s.jsx(L,{as:"div",size:"2",children:Q.country||""})]})]})]}),q.address&&s.jsxs(X,{children:[s.jsx(L,{as:"div",size:"2",color:"gray",mb:"2",children:"Location"}),s.jsx(nv,{query:q.address,zoom:15,style:{maxWidth:"100%"}})]})]}),s.jsxs($,{align:"baseline",justify:"between",mb:"2",children:[s.jsx(L,{as:"div",size:"2",color:"gray",children:"Contacts"}),s.jsx(pe,{size:"2",variant:"classic",onClick:()=>d(!0),children:"Add contact"})]}),s.jsx(X,{style:{border:"1px solid var(--gray-a6)",borderRadius:8,overflow:"hidden"},children:s.jsxs(Hn,{variant:"surface",children:[s.jsx(Qn,{children:s.jsxs(ht,{children:[s.jsx(ze,{children:"Name"}),s.jsx(ze,{children:"Email"}),s.jsx(ze,{children:"Phone"}),s.jsx(ze,{children:"Title"}),s.jsx(ze,{style:{width:160}})]})}),s.jsx(qn,{children:q.contacts.length===0?s.jsx(ht,{children:s.jsx(Oe,{colSpan:5,children:"No contacts yet."})}):q.contacts.map(ce=>s.jsxs(ht,{children:[s.jsx(Oe,{children:ce.name}),s.jsx(Oe,{children:s.jsx("a",{href:`mailto:${ce.email}`,style:{color:"inherit"},children:ce.email})}),s.jsx(Oe,{children:ce.phone?s.jsx("a",{href:`tel:${ce.phone}`,style:{color:"inherit"},children:Ta(ce.phone)}):""}),s.jsx(Oe,{children:ce.title||""}),s.jsx(Oe,{children:s.jsxs($,{gap:"2",justify:"end",children:[s.jsx(pe,{size:"1",variant:"soft",onClick:()=>{v(ce),m(!0)},children:s.jsx(gi,{width:14,height:14})}),s.jsx(pe,{size:"1",color:"red",variant:"soft",onClick:()=>{_(ce.id),R(!0)},children:s.jsx(vi,{width:14,height:14})})]})})]},ce.id))})]})}),s.jsx($,{align:"baseline",justify:"between",mb:"2",mt:"4",children:s.jsx(L,{as:"div",size:"2",color:"gray",children:"Recent Jobs"})}),s.jsx(X,{style:{border:"1px solid var(--gray-a6)",borderRadius:8,overflow:"hidden"},children:s.jsxs(Hn,{variant:"surface",children:[s.jsx(Qn,{children:s.jsxs(ht,{children:[s.jsx(ze,{children:"Title"}),s.jsx(ze,{children:"Status"}),s.jsx(ze,{children:"Start Date"}),s.jsx(ze,{children:"End Date"})]})}),s.jsx(qn,{children:!z||z.length===0?s.jsx(ht,{children:s.jsx(Oe,{colSpan:4,children:"No jobs yet."})}):z.map(ce=>s.jsxs(ht,{onClick:()=>{r({to:"/jobs",search:{jobId:ce.id,tab:void 0}})},style:{cursor:"pointer"},children:[s.jsx(Oe,{children:s.jsx(L,{size:"2",children:ce.title})}),s.jsx(Oe,{children:s.jsx(mt,{variant:"soft",children:ce.status})}),s.jsx(Oe,{children:s.jsx(L,{size:"2",children:ce.start_at?new Date(ce.start_at).toLocaleDateString():""})}),s.jsx(Oe,{children:s.jsx(L,{size:"2",children:ce.end_at?new Date(ce.end_at).toLocaleDateString():""})})]},ce.id))})]})}),s.jsx(ede,{open:u,onOpenChange:d,companyId:q.company_id,customerId:q.id,onSaved:()=>i.invalidateQueries({queryKey:["company",n,"customer-detail",e]})}),s.jsx(Fbt,{open:h,onOpenChange:m,contact:p,onSaved:()=>i.invalidateQueries({queryKey:["company",n,"customer-detail",e]})}),s.jsx(Mu,{open:w,onOpenChange:R,children:s.jsxs(Iu,{maxWidth:"480px",children:[s.jsx(Pu,{children:"Delete contact?"}),s.jsxs(ku,{size:"2",children:["This will permanently remove this contact from ",s.jsx("b",{children:q.name}),". This action cannot be undone."]}),s.jsxs($,{gap:"3",justify:"end",mt:"4",children:[s.jsx($u,{children:s.jsx(pe,{variant:"soft",disabled:U.isPending,children:"Cancel"})}),s.jsx(zd,{children:s.jsx(pe,{color:"red",variant:"solid",disabled:U.isPending||!E,onClick:()=>{E&&U.mutate({id:E})},children:U.isPending?"Deleting":"Yes, delete"})})]})]})}),s.jsx(Mu,{open:N,onOpenChange:O,children:s.jsxs(Iu,{maxWidth:"480px",children:[s.jsx(Pu,{children:"Delete customer?"}),s.jsxs(ku,{size:"2",children:["This will mark ",s.jsx("b",{children:q.name})," as deleted. The customer will be hidden from all views. This action cannot be undone."]}),s.jsxs($,{gap:"3",justify:"end",mt:"4",children:[s.jsx($u,{children:s.jsx(pe,{variant:"soft",disabled:K.isPending,children:"Cancel"})}),s.jsx(zd,{children:s.jsx(pe,{color:"red",variant:"solid",onClick:()=>K.mutate(),disabled:K.isPending,children:K.isPending?"Deleting":"Yes, delete"})})]})]})})]})}function Bbt(){const{companyId:e}=En(),[t,n]=g.useState(null),[i,r]=g.useState(()=>typeof window<"u"?window.matchMedia("(min-width: 1024px)").matches:!1);g.useEffect(()=>{const d=window.matchMedia("(min-width: 1024px)"),h=m=>r(m.matches);try{return d.addEventListener("change",h),()=>d.removeEventListener("change",h)}catch{return d.addListener(h),()=>d.removeListener(h)}},[]);const[a,o]=g.useState(50),[l,c]=g.useState(!1),u=g.useRef(null);return g.useEffect(()=>{if(!l)return;const d=m=>{if(!u.current)return;const p=u.current.getBoundingClientRect(),v=p.width,S=m.clientX-p.left,R=Math.max(25,Math.min(75,S/v*100));o(R)},h=()=>{c(!1),document.body.style.cursor="",document.body.style.userSelect=""};return document.body.style.cursor="col-resize",document.body.style.userSelect="none",document.addEventListener("mousemove",d),document.addEventListener("mouseup",h),()=>{document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",h),document.body.style.cursor="",document.body.style.userSelect=""}},[l]),e?i?s.jsx("section",{style:{height:i?"100%":void 0,minHeight:0},children:s.jsxs($,{ref:u,gap:"2",align:"stretch",style:{height:i?"100%":void 0,minHeight:0,position:"relative"},children:[s.jsxs(Rt,{size:"3",style:{display:"flex",flexDirection:"column",width:`${a}%`,height:i?"100%":void 0,minWidth:"300px",maxWidth:"75%",minHeight:0,flexShrink:0,transition:l?"none":"width 0.1s ease-out"},children:[s.jsx($,{align:"center",justify:"between",mb:"3",children:s.jsx(He,{size:"5",children:"Customers"})}),s.jsx(st,{size:"4",mb:"3"}),s.jsx(X,{style:{flex:i?1:void 0,minHeight:i?0:void 0,overflowY:i?"auto":"visible"},children:s.jsx(fee,{selectedId:t,onSelect:n,showRegular:!0,showPartner:!0})})]}),s.jsx(X,{className:"section-resizer",onMouseDown:d=>{d.preventDefault(),c(!0)},style:{width:"6px",height:"20%",cursor:"col-resize",backgroundColor:"var(--gray-a4)",borderRadius:"4px",flexShrink:0,alignSelf:"center",userSelect:"none",margin:"0 -4px",zIndex:10,transition:l?"none":"background-color 0.2s"},onMouseEnter:d=>{l||(d.currentTarget.style.backgroundColor="var(--gray-a6)",d.currentTarget.style.cursor="col-resize")},onMouseLeave:d=>{l||(d.currentTarget.style.backgroundColor="var(--gray-a4)")}}),s.jsxs(Rt,{size:"3",style:{display:"flex",flexDirection:"column",flex:1,height:i?"100%":void 0,maxHeight:i?"100%":void 0,overflow:i?"hidden":"visible",minWidth:"300px",minHeight:0,transition:l?"none":"flex-basis 0.1s ease-out"},children:[s.jsx(He,{size:"5",mb:"3",children:"Inspector"}),s.jsx(st,{size:"4",mb:"3"}),s.jsx(X,{style:{flex:i?1:void 0,minHeight:i?0:void 0,overflowY:i?"auto":"visible"},children:s.jsx(pee,{id:t,onDeleted:()=>n(null)})})]})]})}):s.jsx("section",{style:{height:i?"100%":void 0,minHeight:0},children:s.jsxs(Zn,{columns:"1fr",gap:"4",align:"stretch",style:{height:i?"100%":void 0,minHeight:0},children:[s.jsxs(Rt,{size:"3",style:{display:"flex",flexDirection:"column",height:i?"100%":void 0,minHeight:0},children:[s.jsx($,{align:"center",justify:"between",mb:"3",children:s.jsx(He,{size:"5",children:"Customers"})}),s.jsx(st,{size:"4",mb:"3"}),s.jsx(X,{style:{flex:i?1:void 0,minHeight:i?0:void 0,overflowY:i?"auto":"visible"},children:s.jsx(fee,{selectedId:t,onSelect:n,showRegular:!0,showPartner:!0})})]}),s.jsxs(Rt,{size:"3",style:{display:"flex",flexDirection:"column",height:i?"100%":void 0,maxHeight:i?"100%":void 0,overflow:i?"hidden":"visible",minHeight:0},children:[s.jsx(He,{size:"5",mb:"3",children:"Inspector"}),s.jsx(st,{size:"4",mb:"3"}),s.jsx(X,{style:{flex:i?1:void 0,minHeight:i?0:void 0,overflowY:i?"auto":"visible"},children:s.jsx(pee,{id:t,onDeleted:()=>n(null)})})]})]})}):s.jsx("div",{children:"No company selected."})}function zbt(e){const t=e.metadata;switch(e.activity_type){case"inventory_item_created":return{route:"/inventory",searchParam:"inventoryId",id:t.item_id||null};case"inventory_group_created":return{route:"/inventory",searchParam:"inventoryId",id:t.group_id||null};case"vehicle_added":return{route:"/vehicles",searchParam:"vehicleId",id:t.vehicle_id||null};case"customer_added":return{route:"/customers",searchParam:"customerId",id:t.customer_id||null};case"crew_added":return{route:"/crew",searchParam:"userId",id:t.user_id||null};case"job_created":case"job_status_changed":return{route:"/jobs",searchParam:"jobId",id:t.job_id||null};default:return null}}function Ubt(e){switch(e){case"inventory_item_created":case"inventory_group_created":return{label:"Show item",iconName:"BoxIso",color:"blue"};case"vehicle_added":return{label:"Show vehicle",iconName:"Car",color:"green"};case"customer_added":return{label:"Show customer",iconName:"UserLove",color:"orange"};case"crew_added":return{label:"Show crew",iconName:"Group",color:"yellow"};case"job_created":case"job_status_changed":return{label:"Show job",iconName:"GoogleDocs",color:"indigo"};default:return null}}function BI(e){switch(e){case"inventory_item_created":case"grouped_inventory":return"New items added";case"inventory_item_deleted":return"Item removed";case"inventory_group_created":return"New group created";case"inventory_group_deleted":return"Group removed";case"vehicle_added":return"New vehicle added";case"vehicle_removed":return"Vehicle removed";case"customer_added":return"New customer added";case"customer_removed":return"Customer removed";case"crew_added":return"New crew member added";case"crew_removed":return"Crew member removed";case"job_created":return"New job created";case"job_status_changed":return"Job status changed";case"job_deleted":return"Job deleted";case"announcement":return"Announcement";default:return"Activity update"}}const Vbt=X2;function Kbt(e){switch(e){case"inventory_item_created":case"inventory_item_deleted":case"inventory_items_grouped":return"";case"inventory_group_created":case"inventory_group_deleted":case"inventory_groups_grouped":return"";case"inventory_mixed_grouped":return"";case"vehicle_added":case"vehicle_removed":return"";case"customer_added":case"customer_removed":return"";case"crew_added":case"crew_removed":return"";case"job_created":case"job_status_changed":case"job_deleted":return"";case"announcement":return"";default:return""}}function mee({selectedId:e,onSelect:t,activityTypes:n}){const{companyId:i}=En(),[r,a]=g.useState(null),{data:o,isLoading:l,isError:c}=et({...Y8({companyId:i??"",activityTypes:n,limit:100}),enabled:!!i});if(l)return s.jsx($,{align:"center",justify:"center",py:"6",children:s.jsx(Ei,{size:"3"})});if(c)return s.jsx(L,{color:"red",size:"2",children:"Failed to load feed"});if(!o||o.items.length===0)return s.jsx(X,{py:"6",children:s.jsx(L,{color:"gray",size:"2",align:"center",children:"No activity yet"})});const u=fge(o.items);return s.jsx(X,{children:u.map(d=>{const h=d.created_by.avatar_url?re.storage.from("avatars").getPublicUrl(d.created_by.avatar_url).data.publicUrl:null,m=d.created_by.display_name||d.created_by.email,p=Xp(new Date(d.created_at),{addSuffix:!0}),v=e===d.id,S=r===d.id;return s.jsx(g.Fragment,{children:s.jsx(X,{style:{cursor:"pointer",padding:"var(--space-3)",borderRadius:"var(--radius-3)",backgroundColor:v?"var(--accent-3)":S?"var(--gray-2)":"transparent",border:v?"1px solid transparent":S?"1px solid var(--gray-a6)":"1px solid transparent",transition:"background-color 0.15s ease, border-color 0.15s ease"},onClick:()=>t(d.id),onMouseEnter:()=>a(d.id),onMouseLeave:()=>a(null),children:s.jsxs($,{gap:"3",align:"start",justify:"between",children:[s.jsxs($,{gap:"3",align:"start",style:{flex:1,minWidth:0},children:[s.jsx($,{align:"center",justify:"center",style:{width:"32px",height:"32px",borderRadius:"var(--radius-2)",backgroundColor:"var(--accent-3)",flexShrink:0},children:s.jsx(L,{size:"4",children:Kbt(d.activity_type)})}),s.jsxs(X,{style:{flex:1,minWidth:0},children:[s.jsx(L,{size:"2",style:{lineHeight:1.5},mb:"1",children:BI("isGrouped"in d?"grouped_inventory":d.activity_type)}),s.jsxs($,{align:"center",gap:"3",mt:"2",children:[s.jsx(L,{size:"1",color:"gray",children:p}),d.like_count>0&&s.jsxs(L,{size:"1",color:"gray",children:[" ",d.like_count]}),d.comment_count>0&&s.jsxs(L,{size:"1",color:"gray",children:[" ",d.comment_count]})]})]})]}),s.jsxs($,{align:"center",gap:"2",style:{flexShrink:0,marginLeft:"var(--space-2)"},children:[s.jsx(L,{size:"2",weight:"medium",children:m}),s.jsx(Xr,{size:"1",radius:"full",src:h??void 0,fallback:Vbt(d.created_by.display_name,d.created_by.email)})]})]})})},d.id)})})}const c4=X2;function Gbt(e,t){const n=e.metadata;switch(e.activity_type){case"inventory_item_created":return`${t} has added a new item to the company inventory. This item is now available for booking and use across all job sites. You can view its details and manage its availability through the inventory management system.`;case"inventory_item_deleted":return`${t} has removed an item from the company inventory. This item will no longer be available for booking on future jobs. Any existing bookings may need to be reviewed or updated accordingly.`;case"inventory_group_created":return`${t} has created a new inventory group to better organize and manage related items. Groups help streamline the inventory management process by allowing you to categorize items for easier access and tracking.`;case"inventory_group_deleted":return`${t} has removed an inventory group from the system. Items that were previously grouped may need to be reorganized. Please check if any items require reassignment to other groups.`;case"vehicle_added":return`${t} has added a new vehicle to the company fleet. This vehicle is now available for assignment to jobs and can be tracked through the vehicle management system. Make sure all relevant information is up to date.`;case"vehicle_removed":return`${t} has removed a vehicle from the company fleet. This vehicle will no longer be available for assignment to future jobs. Any ongoing or scheduled assignments should be reviewed and updated as needed.`;case"customer_added":return`${t} has added a new customer to the company's customer database. This customer can now be assigned to jobs and projects. Their contact information and preferences are stored in the system for future reference.`;case"customer_removed":return`${t} has removed a customer from the company's customer database. This customer's information is no longer active in the system. Historical job data and records related to this customer will be retained for reference.`;case"crew_added":return`${t} has added a new crew member to the team. This crew member can now be assigned to jobs and will have access to the system based on their role and permissions. Welcome them to the team!`;case"crew_removed":return`${t} has removed a crew member from the team. This person will no longer have access to the system and cannot be assigned to new jobs. Any existing assignments should be reviewed and reassigned if necessary.`;case"job_created":{const i=n.job_title||e.title||"a new job",r=n.job_id?" This job has been added to the system and can be accessed through the jobs section. All team members with appropriate permissions can view and work on this job.":"";return`${t} has created ${i}.${r} Make sure to assign a project lead and add any necessary details to get started.`}case"job_status_changed":{const i=n.job_title||e.title||"a job",r=n.previous_status?Qs(n.previous_status):"the previous status",a=n.new_status?Qs(n.new_status):"a new status";return`${t} has updated the status of "${i}" from ${r} to ${a}. This change reflects the current progress of the job and helps keep the team informed about its status in the workflow.`}case"job_deleted":{const i=n.job_title||e.title||"a job";return`${t} has deleted "${i}" from the system. This job will no longer appear in active job listings, but historical records and data will be retained for reference and reporting purposes.`}case"announcement":return`${t} has posted an announcement to keep the team informed. Make sure to read it carefully as it may contain important updates, policy changes, or other information relevant to the company.`;default:return`${t} has performed an activity update in the system. This change may affect various aspects of the company operations, so please review the details if you need more information.`}}function yee({activityId:e}){const{companyId:t}=En(),n=_a(),i=Yt(),{success:r,error:a}=Jt(),[o,l]=g.useState(""),[c,u]=g.useState("details"),{data:d}=et({queryKey:["auth","user"],queryFn:async()=>{const{data:B,error:M}=await re.auth.getUser();if(M)throw M;return B.user}}),h=d==null?void 0:d.id,m=!!(t&&e),{data:p,isLoading:v,isError:S,error:b}=et({...rue({companyId:t??"",activityId:e??""}),enabled:m}),w=(e==null?void 0:e.startsWith("grouped_"))&&p&&"groupedActivity"in p,R=bt({mutationFn:async()=>{if(!t||!e)throw new Error("Missing ids");if(e.startsWith("grouped_")){const B=e.replace("grouped_","").split("_")[0];return U6({companyId:t,activityId:B})}return U6({companyId:t,activityId:e})},onSuccess:async()=>{await Promise.all([i.invalidateQueries({queryKey:["company",t,"latest-inspector",e]}),i.invalidateQueries({queryKey:["company",t,"latest-feed"],exact:!1})])}}),E=bt({mutationFn:async B=>{if(!t||!e)throw new Error("Missing ids");const M=e.startsWith("grouped_")?e.replace("grouped_","").split("_")[0]:e;return aue({companyId:t,activityId:M,content:B})},onSuccess:async()=>{l(""),await i.invalidateQueries({queryKey:["company",t,"latest-inspector",e]}),r("Comment added","Your comment was posted successfully.")},onError:B=>{a("Failed to add comment",B.message)}}),_=bt({mutationFn:sue,onSuccess:async()=>{await i.invalidateQueries({queryKey:["company",t,"latest-inspector",e]}),r("Comment deleted","The comment was removed successfully.")}});if(!e)return s.jsx(L,{color:"gray",size:"2",children:"Select an activity to view details"});if(v)return s.jsx(Qj,{});if(S)return s.jsxs(L,{color:"red",size:"2",children:["Failed to load activity."," ",s.jsx(L,{as:"span",style:{fontFamily:"monospace"},children:(b==null?void 0:b.message)||"Unknown error"})]});if(!p)return s.jsx(L,{color:"gray",size:"2",children:"Activity not found"});if(w&&"groupedActivity"in p){const B=p.groupedActivity,M=B.created_by.avatar_url?re.storage.from("avatars").getPublicUrl(B.created_by.avatar_url).data.publicUrl:null,z=B.created_by.display_name||B.created_by.email,U=Xp(new Date(B.created_at),{addSuffix:!0}),K=[];B.item_count>0&&K.push(`${B.item_count} ${B.item_count===1?"item":"items"}`),B.group_count>0&&K.push(`${B.group_count} ${B.group_count===1?"group":"groups"}`);const te=[];return s.jsx(X,{children:s.jsxs(Ud,{value:c,onValueChange:q=>u(q),children:[s.jsxs(Vd,{children:[s.jsx(ii,{value:"details",children:"Details"}),s.jsxs(ii,{value:"comments",children:["Comments (",te.length,")"]})]}),s.jsxs(X,{pt:"4",children:[s.jsxs(ri,{value:"details",children:[s.jsxs($,{align:"center",gap:"3",mb:"4",children:[s.jsx(Xr,{size:"3",radius:"full",src:M??void 0,fallback:c4(B.created_by.display_name,B.created_by.email)}),s.jsxs($,{direction:"column",children:[s.jsx(L,{size:"3",weight:"medium",children:z}),s.jsx(L,{size:"1",color:"gray",children:U})]})]}),s.jsx(st,{size:"4",mb:"4"}),s.jsxs(X,{mb:"4",children:[s.jsx(He,{size:"4",mb:"3",children:BI("grouped_inventory")}),s.jsxs(L,{size:"3",style:{lineHeight:1.7},mb:"3",children:[z," has added ",K.join(" and ")," to the company inventory. These items are now available for booking and use across all job sites. You can view their details and manage their availability through the inventory management system."]}),s.jsx(X,{mt:"4",style:{display:"flex",flexDirection:"column",gap:"var(--space-2)"},children:B.items.map(q=>{const V=Xp(new Date(q.created_at),{addSuffix:!0}),Q=q.metadata,ce=q.activity_type==="inventory_item_created"?Q.item_name||"Unknown item":Q.group_name||"Unknown group",ae=q.activity_type==="inventory_item_created"?"item":"group",G=q.activity_type==="inventory_item_created"?Q.item_id:Q.group_id;return s.jsxs($,{align:"center",justify:"between",gap:"3",p:"3",style:{backgroundColor:"transparent",borderRadius:"var(--radius-3)",cursor:G?"pointer":"default",transition:"all 0.2s ease",border:"1px solid transparent"},onClick:G?()=>{n({to:"/inventory",search:{inventoryId:G}})}:void 0,onMouseEnter:H=>{G&&(H.currentTarget.style.backgroundColor="var(--gray-2)",H.currentTarget.style.borderColor="var(--gray-a6)")},onMouseLeave:H=>{G&&(H.currentTarget.style.backgroundColor="transparent",H.currentTarget.style.borderColor="transparent")},children:[s.jsxs($,{align:"center",gap:"3",style:{flex:1},children:[s.jsx($,{align:"center",justify:"center",style:{width:"32px",height:"32px",borderRadius:"var(--radius-2)",backgroundColor:"var(--accent-3)",flexShrink:0},children:s.jsx(L,{size:"4",children:ae==="item"?"":""})}),s.jsxs(X,{style:{flex:1,minWidth:0},children:[s.jsx(L,{size:"2",weight:"medium",style:{display:"block",marginBottom:"2px"},children:ce}),s.jsx(L,{size:"1",color:"gray",children:ae==="item"?"Item":"Group"})]})]}),s.jsx(L,{size:"1",color:"gray",style:{flexShrink:0},children:V})]},q.id)})})]}),s.jsx(st,{size:"4",mb:"4"}),s.jsx($,{align:"center",justify:"between",children:s.jsxs(pe,{variant:B.user_liked?"solid":"soft",color:B.user_liked?"red":"gray",size:"2",onClick:()=>R.mutate(),disabled:R.isPending,children:[B.user_liked?s.jsx(tK,{width:16,height:16}):s.jsx(wU,{width:16,height:16}),s.jsx(L,{ml:"1",children:B.like_count>0?B.like_count:"Like"})]})})]}),s.jsxs(ri,{value:"comments",children:[s.jsxs(X,{mb:"4",children:[s.jsx(Ci,{placeholder:"Write a comment...",value:o,onChange:q=>l(q.target.value),rows:3,style:{resize:"vertical"},mb:"2"}),s.jsx($,{justify:"end",children:s.jsx(pe,{size:"2",onClick:()=>{o.trim()&&E.mutate(o.trim())},disabled:!o.trim()||E.isPending,children:"Post"})})]}),s.jsx(st,{size:"4",mb:"4"}),te.length===0?s.jsx(X,{py:"6",children:s.jsx(L,{color:"gray",size:"2",align:"center",children:"No comments yet"})}):s.jsx(X,{children:te.map((q,V)=>s.jsx(g.Fragment,{children:V<te.length-1&&s.jsx(st,{my:"2"})},q.id))})]})]})]})})}const{activity:N,comments:O}=p,j=N.created_by.avatar_url?re.storage.from("avatars").getPublicUrl(N.created_by.avatar_url).data.publicUrl:null,D=N.created_by.display_name||N.created_by.email,P=Xp(new Date(N.created_at),{addSuffix:!0});return s.jsx(X,{children:s.jsxs(Ud,{value:c,onValueChange:B=>u(B),children:[s.jsxs(Vd,{children:[s.jsx(ii,{value:"details",children:"Details"}),s.jsxs(ii,{value:"comments",children:["Comments (",O.length,")"]})]}),s.jsxs(X,{pt:"4",children:[s.jsxs(ri,{value:"details",children:[s.jsxs($,{align:"center",gap:"3",mb:"4",children:[s.jsx(Xr,{size:"3",radius:"full",src:j??void 0,fallback:c4(N.created_by.display_name,N.created_by.email)}),s.jsxs($,{direction:"column",children:[s.jsx(L,{size:"3",weight:"medium",children:D}),s.jsx(L,{size:"1",color:"gray",children:P})]})]}),s.jsx(st,{size:"4",mb:"4"}),s.jsxs(X,{mb:"4",children:[s.jsx(He,{size:"4",mb:"3",children:BI(N.activity_type)}),N.activity_type!=="announcement"&&s.jsx(L,{size:"3",style:{lineHeight:1.7},mb:"3",children:Gbt(N,D)}),(()=>{const B=zbt(N),M=Ubt(N.activity_type),z=N.metadata;if(!(B!=null&&B.id)||!M)return null;let U="";switch(N.activity_type){case"inventory_item_created":U=z.item_name||"item";break;case"inventory_group_created":U=z.group_name||"group";break;case"vehicle_added":U=z.vehicle_name||z.license_plate||"vehicle";break;case"customer_added":U=z.customer_name||"customer";break;case"crew_added":U=z.user_name||z.email||"crew member";break;case"job_created":case"job_status_changed":U=z.job_title||N.title||"job";break}const te=(q=>{switch(q){case"inventory_item_created":return"";case"inventory_group_created":return"";case"vehicle_added":return"";case"customer_added":return"";case"crew_added":return"";case"job_created":case"job_status_changed":return"";default:return""}})(N.activity_type);return U?s.jsx(X,{mt:"3",onClick:()=>{n({to:B.route,search:{[B.searchParam]:B.id}})},style:{cursor:"pointer",padding:"var(--space-3)",borderRadius:"var(--radius-3)",backgroundColor:"var(--gray-a2)",border:"1px solid var(--gray-a5)",transition:"all 0.2s ease",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.05)"},onMouseEnter:q=>{q.currentTarget.style.backgroundColor="var(--gray-3)",q.currentTarget.style.borderColor="var(--gray-a7)",q.currentTarget.style.boxShadow="0 2px 4px rgba(0, 0, 0, 0.1)",q.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:q=>{q.currentTarget.style.backgroundColor="var(--gray-a2)",q.currentTarget.style.borderColor="var(--gray-a5)",q.currentTarget.style.boxShadow="0 1px 2px rgba(0, 0, 0, 0.05)",q.currentTarget.style.transform="translateY(0)"},children:s.jsxs($,{align:"center",gap:"3",children:[s.jsx($,{align:"center",justify:"center",style:{width:"32px",height:"32px",borderRadius:"var(--radius-2)",backgroundColor:"var(--accent-3)",flexShrink:0},children:s.jsx(L,{size:"4",children:te})}),s.jsx(L,{size:"2",weight:"medium",children:U})]})}):null})(),N.description&&s.jsx(X,{mt:"3",children:s.jsx(L,{size:"2",style:{whiteSpace:"pre-wrap"},children:N.description})})]}),s.jsx(st,{size:"4",mb:"4"}),s.jsx($,{align:"center",justify:"between",children:s.jsxs(pe,{variant:N.user_liked?"solid":"soft",color:N.user_liked?"red":"gray",size:"2",onClick:()=>R.mutate(),disabled:R.isPending,children:[N.user_liked?s.jsx(tK,{width:16,height:16}):s.jsx(wU,{width:16,height:16}),s.jsx(L,{ml:"1",children:N.like_count>0?N.like_count:"Like"})]})})]}),s.jsxs(ri,{value:"comments",children:[s.jsxs(X,{mb:"4",children:[s.jsx(Ci,{placeholder:"Write a comment...",value:o,onChange:B=>l(B.target.value),rows:3,style:{resize:"vertical"},mb:"2"}),s.jsx($,{justify:"end",children:s.jsx(pe,{size:"2",onClick:()=>{o.trim()&&E.mutate(o.trim())},disabled:!o.trim()||E.isPending,children:"Post"})})]}),s.jsx(st,{size:"4",mb:"4"}),O.length===0?s.jsx(X,{py:"6",children:s.jsx(L,{color:"gray",size:"2",align:"center",children:"No comments yet"})}):s.jsx(X,{children:O.map((B,M)=>{const z=B.created_by.avatar_url?re.storage.from("avatars").getPublicUrl(B.created_by.avatar_url).data.publicUrl:null,U=B.created_by.display_name||B.created_by.email,K=Xp(new Date(B.created_at),{addSuffix:!0}),te=B.created_by.user_id===h;return s.jsxs(g.Fragment,{children:[s.jsxs($,{gap:"3",align:"start",mb:"3",children:[s.jsx(Xr,{size:"2",radius:"full",src:z??void 0,fallback:c4(B.created_by.display_name,B.created_by.email)}),s.jsxs(X,{style:{flex:1,minWidth:0},children:[s.jsxs($,{align:"center",gap:"2",mb:"1",children:[s.jsx(L,{size:"2",weight:"medium",children:U}),s.jsx(L,{size:"1",color:"gray",children:K}),te&&s.jsx(pe,{size:"1",variant:"ghost",color:"red",onClick:()=>{_.mutate({commentId:B.id})},disabled:_.isPending,children:"Delete"})]}),s.jsx(L,{size:"2",style:{whiteSpace:"pre-wrap"},children:B.content})]})]}),M<O.length-1&&s.jsx(st,{my:"2"})]},B.id)})})]})]})]})})}const Hbt={inventory_item_created:"Inventory Items",inventory_item_deleted:"Inventory Items",inventory_group_created:"Inventory Groups",inventory_group_deleted:"Inventory Groups",vehicle_added:"Vehicles",vehicle_removed:"Vehicles",customer_added:"Customers",customer_removed:"Customers",crew_added:"Crew",crew_removed:"Crew",job_created:"Jobs",job_status_changed:"Jobs",job_deleted:"Jobs",announcement:"Announcements"},u4={All:[],Inventory:["inventory_item_created","inventory_item_deleted","inventory_group_created","inventory_group_deleted"],Vehicles:["vehicle_added","vehicle_removed"],Customers:["customer_added","customer_removed"],Crew:["crew_added","crew_removed"],Jobs:["job_created","job_status_changed","job_deleted"],Announcements:["announcement"]};function gee({selectedTypes:e,onTypesChange:t}){const[n,i]=g.useState(!1),r=o=>{if(o==="All")t([]);else{const l=u4[o]||[];if(l.every(u=>e.includes(u)))t(e.filter(u=>!l.includes(u)));else{const u=[...new Set([...e,...l])];t(u)}}},a=e.length;return s.jsxs(Yg,{open:n,onOpenChange:i,children:[s.jsx(Jg,{children:s.jsxs(X,{style:{position:"relative",display:"inline-block"},children:[s.jsx(Mn,{variant:"soft",size:"2",children:s.jsx(kDe,{width:16,height:16})}),a>0&&s.jsx(X,{style:{position:"absolute",top:"-4px",right:"-4px",width:"16px",height:"16px",borderRadius:"50%",backgroundColor:"var(--accent-9)",color:"white",fontSize:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:a})]})}),s.jsxs(Qg,{align:"end",style:{minWidth:200},children:[s.jsx(ag,{children:"Filter by Category"}),Object.keys(u4).map(o=>{const l=u4[o],c=o==="All"?e.length===0:l.length>0&&l.every(u=>e.includes(u));return s.jsx(Qr,{onClick:()=>r(o),children:s.jsxs($,{align:"center",gap:"2",children:[s.jsx(fr,{checked:c}),s.jsx(L,{children:o})]})},o)}),s.jsx(Ag,{}),s.jsx(ag,{children:"Filter by Type"}),Object.entries(Object.entries(Hbt).reduce((o,[l,c])=>(o[c]||(o[c]=[]),o[c].push(l),o),{})).map(([o,l])=>{const c=l.every(u=>e.includes(u));return s.jsx(Qr,{onClick:()=>{if(c)t(e.filter(u=>!l.includes(u)));else{const u=[...new Set([...e,...l])];t(u)}},children:s.jsxs($,{align:"center",gap:"2",children:[s.jsx(fr,{checked:c}),s.jsx(L,{children:o})]})},o)})]})]})}function qbt(){const{companyId:e}=En(),i=FN().search.activityId,[r,a]=g.useState(i||null),[o,l]=g.useState([]);g.useEffect(()=>{i&&a(i)},[i]);const[c,u]=g.useState(()=>typeof window<"u"?window.matchMedia("(min-width: 1024px)").matches:!1);g.useEffect(()=>{const S=window.matchMedia("(min-width: 1024px)"),b=w=>u(w.matches);try{return S.addEventListener("change",b),()=>S.removeEventListener("change",b)}catch{return S.addListener(b),()=>S.removeListener(b)}},[]);const[d,h]=g.useState(37),[m,p]=g.useState(!1),v=g.useRef(null);return g.useEffect(()=>{if(!m)return;const S=w=>{if(!v.current)return;const R=v.current.getBoundingClientRect(),E=R.width,_=w.clientX-R.left,j=Math.max(25,Math.min(75,_/E*100));h(j)},b=()=>{p(!1),document.body.style.cursor="",document.body.style.userSelect=""};return document.body.style.cursor="col-resize",document.body.style.userSelect="none",document.addEventListener("mousemove",S),document.addEventListener("mouseup",b),()=>{document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",b),document.body.style.cursor="",document.body.style.userSelect=""}},[m]),e?c?s.jsx("section",{ref:v,style:{height:"100%",minHeight:0,position:"relative"},children:s.jsxs($,{direction:"row",gap:"2",align:"stretch",style:{height:"100%",minHeight:0},children:[s.jsxs(Rt,{size:"3",style:{display:"flex",flexDirection:"column",width:`${d}%`,height:"100%",minWidth:"300px",maxWidth:"75%",minHeight:0,flexShrink:0,transition:m?"none":"width 0.1s ease-out"},children:[s.jsxs($,{align:"center",justify:"between",mb:"3",children:[s.jsx(He,{size:"5",children:"Latest"}),s.jsx(gee,{selectedTypes:o,onTypesChange:l})]}),s.jsx(st,{size:"4",mb:"3"}),s.jsx(X,{style:{flex:1,minHeight:0,overflowY:"auto"},children:s.jsx(mee,{selectedId:r,onSelect:a,activityTypes:o.length>0?o:void 0})})]}),s.jsx(X,{className:"section-resizer",onMouseDown:S=>{S.preventDefault(),p(!0)},style:{width:"6px",height:"20%",cursor:"col-resize",backgroundColor:"var(--gray-a4)",borderRadius:"4px",flexShrink:0,alignSelf:"center",userSelect:"none",margin:"0 -4px",zIndex:10,transition:m?"none":"background-color 0.2s"},onMouseEnter:S=>{m||(S.currentTarget.style.backgroundColor="var(--gray-a6)",S.currentTarget.style.cursor="col-resize")},onMouseLeave:S=>{m||(S.currentTarget.style.backgroundColor="var(--gray-a4)")}}),s.jsxs(Rt,{size:"3",style:{display:"flex",flexDirection:"column",flex:1,height:"100%",maxHeight:"100%",overflow:"hidden",minWidth:"300px",minHeight:0,transition:m?"none":"flex-basis 0.1s ease-out"},children:[s.jsx(He,{size:"5",mb:"3",children:"Details"}),s.jsx(st,{size:"4",mb:"3"}),s.jsx(X,{style:{flex:1,minHeight:0,overflowY:"auto"},children:s.jsx(yee,{activityId:r})})]})]})}):s.jsx("section",{children:s.jsxs(Zn,{columns:"1fr",gap:"4",align:"stretch",children:[s.jsxs(Rt,{size:"3",style:{display:"flex",flexDirection:"column"},children:[s.jsxs($,{align:"center",justify:"between",mb:"3",children:[s.jsx(He,{size:"5",children:"Latest"}),s.jsx(gee,{selectedTypes:o,onTypesChange:l})]}),s.jsx(st,{size:"4",mb:"3"}),s.jsx(X,{children:s.jsx(mee,{selectedId:r,onSelect:a,activityTypes:o.length>0?o:void 0})})]}),s.jsxs(Rt,{size:"3",style:{display:"flex",flexDirection:"column"},children:[s.jsx(He,{size:"5",mb:"3",children:"Details"}),s.jsx(st,{size:"4",mb:"3"}),s.jsx(X,{children:s.jsx(yee,{activityId:r})})]})]})}):s.jsx(VO,{columns:"2fr 3fr"})}function vee({intensity:e=1,shapeType:t="circles",speed:n=1}){const i=Math.max(0,Math.min(1,e)),r=Math.max(.1,Math.min(3,n)),o=[120,150,180,100,200].map(h=>h/r),c=[300,420,360,380,400].map(h=>h/r),u=[15,30,45,60,75],d=o.map((h,m)=>Math.round(h/c[m]*360));return s.jsxs(X,{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:0,pointerEvents:"none",overflow:"hidden"},children:[s.jsx("style",{children:`
        @keyframes slideSlow {
          0% {
            transform: translateX(-100%);
          }
          100% {
            transform: translateX(calc(100vw + 100%));
          }
        }
        
        @keyframes slideSlowReverse {
          0% {
            transform: translateX(calc(100vw + 100%));
          }
          100% {
            transform: translateX(-100%);
          }
        }
        
        @keyframes slideSlowWithRotate1 {
          0% {
            transform: translateX(-100%) rotate(${u[0]}deg);
          }
          100% {
            transform: translateX(calc(100vw + 100%)) rotate(${u[0]+d[0]}deg);
          }
        }
        
        @keyframes slideSlowReverseWithRotate2 {
          0% {
            transform: translateX(calc(100vw + 100%)) rotate(${u[1]}deg);
          }
          100% {
            transform: translateX(-100%) rotate(${u[1]-d[1]}deg);
          }
        }
        
        @keyframes slideSlowWithRotate3 {
          0% {
            transform: translateX(-100%) rotate(${u[2]}deg);
          }
          100% {
            transform: translateX(calc(100vw + 100%)) rotate(${u[2]+d[2]}deg);
          }
        }
        
        @keyframes slideSlowReverseWithRotate4 {
          0% {
            transform: translateX(calc(100vw + 100%)) rotate(${u[3]}deg);
          }
          100% {
            transform: translateX(-100%) rotate(${u[3]-d[3]}deg);
          }
        }
        
        @keyframes slideSlowWithRotate5 {
          0% {
            transform: translateX(-100%) rotate(${u[4]}deg);
          }
          100% {
            transform: translateX(calc(100vw + 100%)) rotate(${u[4]+d[4]}deg);
          }
        }
        
        @keyframes rotateSlow {
          0% {
            transform: rotate(0deg);
          }
          100% {
            transform: rotate(360deg);
          }
        }
        
        @keyframes rotateSlowReverse {
          0% {
            transform: rotate(360deg);
          }
          100% {
            transform: rotate(0deg);
          }
        }
        
        .bg-shape {
          position: absolute;
          opacity: ${i};
          mix-blend-mode: normal;
        }
        
        .bg-shape-1 {
          width: 800px;
          height: 800px;
          background: var(--accent-a3);
          top: -200px;
          left: 0;
          animation: ${t==="triangles"||t==="rectangles"?`slideSlowWithRotate1 ${o[0]}s linear infinite`:`slideSlow ${o[0]}s linear infinite`};
          ${t==="circles"?"border-radius: 50%;":""}
          ${t==="triangles"?"clip-path: polygon(50% 0%, 0% 100%, 100% 100%);":""}
          ${t==="rectangles"?"border-radius: 10px;":""}
        }
        
        .bg-shape-2 {
          width: 600px;
          height: 600px;
          background: var(--accent-a2);
          top: 20%;
          left: 0;
          animation: ${t==="triangles"||t==="rectangles"?`slideSlowReverseWithRotate2 ${o[1]}s linear infinite`:`slideSlowReverse ${o[1]}s linear infinite`};
          ${t==="circles"?"border-radius: 50%;":""}
          ${t==="triangles"?"clip-path: polygon(50% 0%, 0% 100%, 100% 100%);":""}
          ${t==="rectangles"?"border-radius: 20px;":""}
        }
        
        .bg-shape-3 {
          width: 1000px;
          height: 1000px;
          background: var(--accent-a3);
          bottom: -300px;
          left: 0;
          animation: ${t==="triangles"||t==="rectangles"?`slideSlowWithRotate3 ${o[2]}s linear infinite`:`slideSlow ${o[2]}s linear infinite`};
          ${t==="circles"?"border-radius: 50%;":""}
          ${t==="triangles"?"clip-path: polygon(50% 0%, 0% 100%, 100% 100%);":""}
          ${t==="rectangles"?"border-radius: 10px;":""}
        }
        
        .bg-shape-4 {
          width: 400px;
          height: 400px;
          background: var(--accent-a2);
          top: 50%;
          left: 0;
          animation: ${t==="triangles"||t==="rectangles"?`slideSlowReverseWithRotate4 ${o[3]}s linear infinite`:`slideSlowReverse ${o[3]}s linear infinite`};
          ${t==="circles"?"border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%;":""}
          ${t==="triangles"?"clip-path: polygon(50% 0%, 0% 100%, 100% 100%);":""}
          ${t==="rectangles"?"border-radius: 40px;":""}
        }
        
        .bg-shape-5 {
          width: 700px;
          height: 700px;
          background: var(--accent-a3);
          top: 10%;
          left: 0;
          animation: ${t==="triangles"||t==="rectangles"?`slideSlowWithRotate5 ${o[4]}s linear infinite`:`slideSlow ${o[4]}s linear infinite`};
          ${t==="circles"?"border-radius: 40% 60% 60% 40% / 60% 30% 70% 40%;":""}
          ${t==="triangles"?"clip-path: polygon(50% 0%, 0% 100%, 100% 100%);":""}
          ${t==="rectangles"?"border-radius: 15px;":""}
        }
        
        /* Increase contrast for light mode */
        .light .bg-shape-1,
        .light .bg-shape-3,
        .light .bg-shape-5 {
          background: var(--accent-a7);
        }
        
        .light .bg-shape-2,
        .light .bg-shape-4 {
          background: var(--accent-a6);
        }
      `}),s.jsx("div",{className:"bg-shape bg-shape-1"}),s.jsx("div",{className:"bg-shape bg-shape-2"}),s.jsx("div",{className:"bg-shape bg-shape-3"}),s.jsx("div",{className:"bg-shape bg-shape-4"}),s.jsx("div",{className:"bg-shape bg-shape-5"})]})}function Wbt(){var Y,ie,ne;const{accessToken:e}=$N({strict:!1}),{success:t,error:n}=Jt(),i=Yt(),[r,a]=g.useState("light");g.useEffect(()=>{const J=()=>{const se=document.documentElement;a(se.classList.contains("dark")?"dark":"light")};J();const ee=new MutationObserver(J);return ee.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>ee.disconnect()},[]);const[o,l]=g.useState({first_name:"",last_name:"",phone:"",terms_accepted:!1}),[c,u]=g.useState({first_name:"",last_name:"",phone:"",comment:""}),[d,h]=g.useState({first_name:"",last_name:"",phone:"",comment:""}),[m,p]=g.useState(!1),[v,S]=g.useState(!1),[b,w]=g.useState(!1),[R,E]=g.useState(!1),{data:_,isLoading:N,error:O}=et({...VYe(e||""),enabled:!!e});g.useEffect(()=>{_&&!_.viewed_at&&e&&WYe(e).catch(J=>console.error("Failed to mark offer as viewed:",J))},[_,e]);const j=bt({mutationFn:()=>{if(!e)throw new Error("Access token is required");return GYe(e,o)},onSuccess:()=>{t("Offer Accepted","Thank you for accepting the offer!"),i.invalidateQueries({queryKey:["public-offer",e]}),p(!1)},onError:J=>{n("Failed to accept offer",(J==null?void 0:J.message)||"Please try again.")}}),D=bt({mutationFn:()=>{if(!e)throw new Error("Access token is required");return HYe(e,c)},onSuccess:()=>{t("Offer Rejected","Your rejection has been recorded."),i.invalidateQueries({queryKey:["public-offer",e]}),S(!1)},onError:J=>{n("Failed to reject offer",(J==null?void 0:J.message)||"Please try again.")}}),P=bt({mutationFn:()=>{if(!e)throw new Error("Access token is required");return qYe(e,d)},onSuccess:()=>{t("Revision Requested","Your revision request has been sent. We will get back to you with an updated offer."),i.invalidateQueries({queryKey:["public-offer",e]}),w(!1)},onError:J=>{n("Failed to request revision",(J==null?void 0:J.message)||"Please try again.")}}),[B,M]=g.useState(!1),z=g.useMemo(()=>{if(!_||!_.company_terms||!_.company_terms.pdf_path)return null;const{data:J}=re.storage.from("company_files").getPublicUrl(_.company_terms.pdf_path);return J.publicUrl},[(Y=_==null?void 0:_.company_terms)==null?void 0:Y.pdf_path]),U=g.useMemo(()=>!!(_&&_.company_terms&&_.company_terms.type&&(_.company_terms.type==="pdf"?_.company_terms.pdf_path:_.company_terms.text)),[_==null?void 0:_.company_terms]),K=async()=>{if(_){M(!0);try{await Xde(_),t("PDF downloaded","The offer has been downloaded as PDF.")}catch(J){n("Failed to export PDF",(J==null?void 0:J.message)||"Please try again.")}finally{M(!1)}}},te=J=>new Intl.NumberFormat("nb-NO",{style:"currency",currency:"NOK",minimumFractionDigits:2}).format(J),q=J=>J?new Date(J).toLocaleDateString("nb-NO",{year:"numeric",month:"long",day:"numeric"}):"",V=J=>{if(!J)return"";const ee=new Date(J);return Number.isNaN(ee.getTime())?"":ee.toLocaleString("nb-NO",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},Q=(J,ee)=>{const se=new Date(J),de=new Date(ee);if(Number.isNaN(se.getTime())||Number.isNaN(de.getTime())||de.getTime()<=se.getTime())return"";const he=Math.max(0,(de.getTime()-se.getTime())/6e4),me=Math.floor(he),we=Math.floor(me/1440),le=Math.floor(me%1440/60),ue=me%60,De=[];return we>0&&De.push(`${we} day${we!==1?"s":""}`),le>0&&De.push(`${le} hr${le!==1?"s":""}`),ue>0&&we===0&&De.push(`${ue} min`),De.length===0?"Less than 1 hr":De.join(" ")},ce=J=>{if(!J)return!1;const ee=nk(J,"NO");return ee?ee.nationalNumber.length===8:!1};if(N)return s.jsxs(X,{p:"8",style:{maxWidth:900,margin:"0 auto",position:"relative",zIndex:1},children:[s.jsx(vee,{intensity:1,shapeType:"circles",speed:1}),s.jsx(Rt,{children:s.jsx(X,{p:"6",children:s.jsxs($,{direction:"column",gap:"3",align:"center",children:[s.jsx(X,{style:{width:"100%",maxWidth:400},children:s.jsx(X,{style:{width:"100%",height:6,borderRadius:3,overflow:"hidden",position:"relative",background:"var(--gray-a4)"},children:s.jsx(pi.div,{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(90deg, transparent, var(--accent-9), var(--accent-6), var(--accent-9), transparent)",backgroundSize:"200% 100%",borderRadius:3},animate:{backgroundPosition:["-200% 0","200% 0"]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}})})}),s.jsx(pi.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,ease:"easeOut"},children:s.jsx(L,{size:"3",color:"gray",weight:"medium",children:"Loading offer..."})})]})})})]});if(O||!_)return s.jsxs(X,{p:"8",style:{textAlign:"center"},children:[s.jsx(He,{size:"6",mb:"2",color:"red",children:"Offer Not Found"}),s.jsx(L,{color:"gray",children:"This offer link is invalid or the offer has been removed."})]});const ae=_.status==="sent",G=_.status==="accepted",H=_.status==="rejected",T=_.status==="superseded";return s.jsxs(X,{p:"6",style:{maxWidth:900,margin:"0 auto",position:"relative",zIndex:1},children:[s.jsx(vee,{intensity:1,shapeType:"circles",speed:1}),s.jsx(pi.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},children:s.jsx(Rt,{children:s.jsxs(X,{p:"6",children:[s.jsxs($,{justify:"between",align:"start",mb:"4",children:[s.jsxs(X,{children:[s.jsx(He,{size:"7",mb:"2",children:_.title}),s.jsxs(L,{size:"3",color:"gray",children:["Version ",_.version_number]})]}),_.customer&&s.jsx($,{direction:"column",align:"end",children:_.customer.logo_path?s.jsx(X,{style:{maxWidth:200,maxHeight:80},children:s.jsx("img",{src:`${re.storage.from("logos").getPublicUrl(_.customer.logo_path).data.publicUrl}?v=${_.customer.logo_path}`,alt:_.customer.name||"Customer logo",style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain",borderRadius:"8px"}},`customer-logo-${_.customer.id}-${_.customer.logo_path}`)}):s.jsx(L,{size:"3",weight:"medium",children:_.customer.name||"Customer"})})]}),s.jsx(st,{my:"6"}),s.jsxs(X,{mb:"6",children:[_.offer_type==="pretty"&&_.pretty_sections&&_.pretty_sections.length>0&&s.jsx(X,{mb:"6",children:_.pretty_sections.sort((J,ee)=>J.sort_order-ee.sort_order).map(J=>s.jsxs(X,{mb:"6",children:[J.section_type==="hero"&&s.jsxs(X,{p:"6",style:{background:"var(--blue-a3)",borderRadius:12,textAlign:"center"},children:[J.image_url&&s.jsx(X,{mb:"4",children:s.jsx("img",{src:J.image_url,alt:J.title||"Hero image",style:{maxWidth:"100%",borderRadius:8,maxHeight:400,objectFit:"cover"}})}),J.title&&s.jsx(He,{size:"7",mb:"3",children:J.title}),J.content&&s.jsx(L,{size:"4",style:{whiteSpace:"pre-wrap"},children:J.content})]}),J.section_type==="problem"&&s.jsxs(X,{p:"4",style:{background:"var(--red-a2)"},children:[s.jsx(He,{size:"5",mb:"3",color:"red",children:J.title||"The Problem"}),J.content&&s.jsx(L,{size:"3",style:{whiteSpace:"pre-wrap"},children:J.content}),J.image_url&&s.jsx(X,{mt:"4",children:s.jsx("img",{src:J.image_url,alt:J.title||"Problem image",style:{maxWidth:"100%",borderRadius:8}})})]}),J.section_type==="solution"&&s.jsxs(X,{p:"4",style:{background:"var(--blue-a2)"},children:[s.jsx(He,{size:"5",mb:"3",color:"blue",children:J.title||"Our Solution"}),J.content&&s.jsx(L,{size:"3",style:{whiteSpace:"pre-wrap"},children:J.content}),J.image_url&&s.jsx(X,{mt:"4",children:s.jsx("img",{src:J.image_url,alt:J.title||"Solution image",style:{maxWidth:"100%",borderRadius:8}})})]}),J.section_type==="benefits"&&s.jsxs(X,{p:"4",style:{background:"var(--green-a2)"},children:[s.jsx(He,{size:"5",mb:"3",color:"green",children:J.title||"Benefits"}),J.content&&s.jsx(L,{size:"3",style:{whiteSpace:"pre-wrap"},children:J.content}),J.image_url&&s.jsx(X,{mt:"4",children:s.jsx("img",{src:J.image_url,alt:J.title||"Benefits image",style:{maxWidth:"100%",borderRadius:8}})})]}),J.section_type==="testimonial"&&s.jsxs(X,{p:"4",style:{background:"var(--gray-a2)",borderLeft:"4px solid var(--blue-9)",borderRadius:4},children:[J.title&&s.jsx(He,{size:"4",mb:"2",children:J.title}),J.content&&s.jsxs(L,{size:"3",style:{fontStyle:"italic",whiteSpace:"pre-wrap"},children:['"',J.content,'"']}),J.image_url&&s.jsx(X,{mt:"4",children:s.jsx("img",{src:J.image_url,alt:J.title||"Testimonial image",style:{maxWidth:"100%",borderRadius:8}})})]})]},J.id))}),_.offer_type==="technical"&&_.groups&&_.groups.length>0&&s.jsxs(X,{mb:"6",children:[s.jsx(He,{size:"4",mb:"4",children:"Equipment"}),_.groups.map(J=>{const ee=_.show_price_per_line??!0,se=J.items.reduce((de,he)=>de+he.total_price,0);return s.jsxs(X,{mb:"4",children:[s.jsx(He,{size:"3",mb:"3",children:J.group_name}),s.jsxs(Hn,{variant:"surface",children:[s.jsx(Qn,{children:s.jsxs(ht,{children:[s.jsx(ze,{children:"Item"}),s.jsx(ze,{children:"Brand"}),s.jsx(ze,{children:"Model"}),s.jsx(ze,{style:{textAlign:"right"},children:"Quantity"}),ee&&s.jsxs(s.Fragment,{children:[s.jsx(ze,{style:{textAlign:"right"},children:"Unit Price"}),s.jsx(ze,{style:{textAlign:"right"},children:"Total"})]}),!ee&&s.jsx(ze,{style:{textAlign:"right"},children:"Total"})]})}),s.jsxs(qn,{children:[J.items.map(de=>{var he,me,we,le;return s.jsxs(ht,{children:[s.jsx(Oe,{children:de.group?`${de.group.name} (Group)`:((he=de.item)==null?void 0:he.name)||"Unknown Item"}),s.jsx(Oe,{children:((we=(me=de.item)==null?void 0:me.brand)==null?void 0:we.name)??""}),s.jsx(Oe,{children:((le=de.item)==null?void 0:le.model)??""}),s.jsx(Oe,{style:{textAlign:"right"},children:de.quantity}),ee&&s.jsxs(s.Fragment,{children:[s.jsx(Oe,{style:{textAlign:"right"},children:te(de.unit_price)}),s.jsx(Oe,{style:{textAlign:"right"},children:te(de.total_price)})]}),!ee&&s.jsx(Oe,{style:{textAlign:"right"}})]},de.id)}),s.jsxs(ht,{style:{fontWeight:"bold"},children:[s.jsx(Oe,{colSpan:ee?5:4,children:"Total"}),s.jsx(Oe,{style:{textAlign:"right"},children:te(se)})]})]})]})]},J.id)})]}),_.offer_type==="technical"&&_.crew_items&&_.crew_items.length>0&&s.jsxs(X,{mb:"6",children:[s.jsx(He,{size:"4",mb:"4",children:"Crew"}),(()=>{const J=_.crew_items.reduce((ee,se)=>ee+se.total_price,0);return s.jsxs(Hn,{variant:"surface",children:[s.jsx(Qn,{children:s.jsxs(ht,{children:[s.jsx(ze,{children:"Role"}),s.jsx(ze,{style:{textAlign:"right"},children:"Count"}),s.jsx(ze,{children:"Schedule"}),s.jsx(ze,{style:{textAlign:"right"},children:"Duration"}),s.jsx(ze,{style:{textAlign:"right"},children:"Daily Rate"}),s.jsx(ze,{style:{textAlign:"right"},children:"Total"})]})}),s.jsxs(qn,{children:[_.crew_items.map(ee=>s.jsxs(ht,{children:[s.jsx(Oe,{children:ee.role_title}),s.jsx(Oe,{style:{textAlign:"right"},children:ee.crew_count}),s.jsx(Oe,{children:s.jsxs($,{direction:"column",gap:"1",children:[s.jsx(L,{children:V(ee.start_date)}),s.jsx(L,{size:"1",color:"gray",children:V(ee.end_date)})]})}),s.jsx(Oe,{style:{textAlign:"right"},children:Q(ee.start_date,ee.end_date)}),s.jsx(Oe,{style:{textAlign:"right"},children:te(ee.daily_rate)}),s.jsx(Oe,{style:{textAlign:"right"},children:te(ee.total_price)})]},ee.id)),s.jsxs(ht,{style:{fontWeight:"bold"},children:[s.jsx(Oe,{colSpan:5,children:"Total"}),s.jsx(Oe,{style:{textAlign:"right"},children:te(J)})]})]})]})})()]}),_.offer_type==="technical"&&_.transport_items&&_.transport_items.length>0&&s.jsxs(X,{mb:"6",children:[s.jsx(He,{size:"4",mb:"4",children:"Transportation"}),(()=>{const J=_.show_price_per_line??!0,ee=_.transport_items.reduce((de,he)=>de+he.total_price,0),se=de=>de?{passenger_car_small:"Passenger Car - Small",passenger_car_medium:"Passenger Car - Medium",passenger_car_big:"Passenger Car - Big",van_small:"Van - Small",van_medium:"Van - Medium",van_big:"Van - Big",C1:"C1",C1E:"C1E",C:"C",CE:"CE"}[de]||de:"";return s.jsxs(Hn,{variant:"surface",children:[s.jsx(Qn,{children:s.jsxs(ht,{children:[s.jsx(ze,{children:"Vehicle Category"}),s.jsx(ze,{children:"Distance (km)"}),s.jsx(ze,{children:"Start Date"}),s.jsx(ze,{style:{textAlign:"right"},children:"Days"}),s.jsx(ze,{style:{textAlign:"right"},children:"Total"})]})}),s.jsxs(qn,{children:[_.transport_items.map(de=>s.jsxs(ht,{children:[s.jsx(Oe,{children:se(de.vehicle_category)}),s.jsx(Oe,{children:de.distance_km??""}),s.jsx(Oe,{children:V(de.start_date)}),s.jsx(Oe,{style:{textAlign:"right"},children:(()=>{const he=new Date(de.start_date),me=new Date(de.end_date);if(Number.isNaN(he.getTime())||Number.isNaN(me.getTime())||me.getTime()<=he.getTime())return"";const we=Math.max(1,Math.ceil((me.getTime()-he.getTime())/(1e3*60*60*24)));return`${we} day${we!==1?"s":""}`})()}),J?s.jsx(Oe,{style:{textAlign:"right"},children:te(de.total_price)}):s.jsx(Oe,{style:{textAlign:"right"}})]},de.id)),s.jsxs(ht,{style:{fontWeight:"bold"},children:[s.jsx(Oe,{colSpan:4,children:"Total"}),s.jsx(Oe,{style:{textAlign:"right"},children:te(ee)})]})]})]})})()]}),s.jsx(st,{my:"6"}),s.jsxs(X,{mb:"6",children:[s.jsx(He,{size:"4",mb:"4",children:"Pricing Summary"}),s.jsxs($,{direction:"column",gap:"2",children:[s.jsxs($,{justify:"between",children:[s.jsx(L,{children:"Days of use:"}),s.jsx(L,{weight:"medium",children:_.days_of_use})]}),s.jsxs($,{justify:"between",children:[s.jsx(L,{children:"Equipment Subtotal:"}),s.jsx(L,{children:te(_.equipment_subtotal)})]}),s.jsxs($,{justify:"between",children:[s.jsx(L,{children:"Crew Subtotal:"}),s.jsx(L,{children:te(_.crew_subtotal)})]}),s.jsxs($,{justify:"between",children:[s.jsx(L,{children:"Transport Subtotal:"}),s.jsx(L,{children:te(_.transport_subtotal)})]}),s.jsx(st,{my:"2"}),s.jsxs($,{justify:"between",children:[s.jsx(L,{children:"Subtotal:"}),s.jsx(L,{children:te(_.total_before_discount)})]}),_.discount_percent>0&&s.jsxs($,{justify:"between",children:[s.jsxs(L,{children:["Discount (",_.discount_percent,"%):"]}),s.jsxs(L,{color:"green",children:["-",te(_.total_before_discount-_.total_after_discount)]})]}),s.jsxs($,{justify:"between",children:[s.jsx(L,{children:"After Discount:"}),s.jsx(L,{weight:"medium",children:te(_.total_after_discount)})]}),s.jsxs($,{justify:"between",children:[s.jsxs(L,{children:["VAT (",_.vat_percent,"%):"]}),s.jsx(L,{children:te(_.total_with_vat-_.total_after_discount)})]}),s.jsx(st,{my:"2"}),s.jsxs($,{justify:"between",children:[s.jsx(L,{size:"4",weight:"bold",children:"Total:"}),s.jsx(L,{size:"4",weight:"bold",children:te(_.total_with_vat)})]})]})]}),T&&s.jsxs(X,{p:"4",style:{background:"var(--orange-a3)",borderRadius:8,border:"1px solid var(--orange-a6)"},children:[s.jsx(He,{size:"4",mb:"2",color:"orange",children:"Offer Expired"}),s.jsx(L,{size:"2",color:"gray",children:"A newer version of this offer has been sent. Please refer to the latest version for acceptance."})]}),G&&s.jsxs(X,{p:"4",style:{background:"var(--green-a3)",borderRadius:8,border:"1px solid var(--green-a6)"},children:[s.jsx(He,{size:"4",mb:"2",color:"green",children:"Offer Accepted"}),s.jsxs($,{direction:"column",gap:"2",children:[_.accepted_by_name&&s.jsxs($,{direction:"column",gap:"1",children:[s.jsxs(L,{size:"2",color:"gray",children:["Accepted by ",_.accepted_by_name]}),_.accepted_by_phone&&s.jsx(L,{size:"2",color:"gray",children:Ta(_.accepted_by_phone)})]}),s.jsxs(L,{size:"2",color:"gray",children:["Accepted on ",q(_.accepted_at)]})]})]}),H&&s.jsxs(X,{p:"4",style:{background:"var(--red-a3)",borderRadius:8,border:"1px solid var(--red-a6)"},children:[s.jsx(He,{size:"4",mb:"2",color:"red",children:"Offer Rejected"}),s.jsxs($,{direction:"column",gap:"2",children:[_.rejected_by_name&&s.jsxs($,{direction:"column",gap:"1",children:[s.jsxs(L,{size:"2",color:"gray",children:["Rejected by ",_.rejected_by_name]}),_.rejected_by_phone&&s.jsx(L,{size:"2",color:"gray",children:Ta(_.rejected_by_phone)})]}),_.rejection_comment&&s.jsxs(L,{size:"2",color:"gray",children:["Comment: ",_.rejection_comment]}),s.jsxs(L,{size:"2",color:"gray",children:["Rejected on ",q(_.rejected_at)]})]})]}),_.revision_requested_at&&s.jsxs(X,{p:"4",style:{background:"var(--blue-a3)",borderRadius:8,border:"1px solid var(--blue-a6)"},children:[s.jsx(He,{size:"4",mb:"2",color:"blue",children:"Revision Requested"}),s.jsxs($,{direction:"column",gap:"2",children:[_.revision_requested_by_name&&s.jsxs($,{direction:"column",gap:"1",children:[s.jsxs(L,{size:"2",color:"gray",children:["Requested by ",_.revision_requested_by_name]}),_.revision_requested_by_phone&&s.jsx(L,{size:"2",color:"gray",children:Ta(_.revision_requested_by_phone)})]}),_.revision_comment&&s.jsxs(L,{size:"2",color:"gray",children:["Requested changes: ",_.revision_comment]}),s.jsxs(L,{size:"2",color:"gray",children:["Requested on ",q(_.revision_requested_at)]})]})]})]}),s.jsx(st,{my:"6"}),s.jsxs($,{direction:{initial:"column",md:"row"},gap:"6",mb:"6",children:[s.jsxs($,{direction:"column",gap:"4",style:{flex:1},children:[s.jsxs(pe,{size:"2",variant:"outline",onClick:K,disabled:B,style:{alignSelf:"flex-start"},children:[s.jsx(x1,{width:16,height:16}),B?"Downloading...":"Download PDF"]}),s.jsxs($,{direction:{initial:"column",md:"row"},gap:"6",children:[s.jsxs($,{direction:"column",gap:"2",children:[s.jsx(L,{size:"2",weight:"bold",color:"gray",children:"From"}),_.company&&s.jsxs($,{direction:"column",gap:"1",children:[s.jsx(L,{size:"2",weight:"medium",children:_.company.name}),_.company.address&&(()=>{const J=_.company.address.split(",").map(we=>we.trim()),ee=J[0]||"",se=J[1]||"",de=J[2]||"",he=J[3]||"",me=[se,de].filter(Boolean).join(" ")||"";return s.jsxs(s.Fragment,{children:[ee&&s.jsx(L,{size:"1",color:"gray",children:ee}),me&&s.jsx(L,{size:"1",color:"gray",children:me}),he&&s.jsx(L,{size:"1",color:"gray",children:he})]})})()]}),_.project_lead&&s.jsxs($,{direction:"column",gap:"1",mt:"2",children:[s.jsx(L,{size:"2",weight:"medium",children:_.project_lead.display_name||"Project Lead"}),_.project_lead.phone&&s.jsx(L,{size:"1",color:"gray",children:Ta(_.project_lead.phone)})]})]}),s.jsxs($,{direction:"column",gap:"2",children:[s.jsx(L,{size:"2",weight:"bold",color:"gray",children:"To"}),_.customer&&s.jsxs($,{direction:"column",gap:"1",children:[s.jsx(L,{size:"2",weight:"medium",children:_.customer.name||"Customer"}),_.customer.address&&(()=>{const J=_.customer.address.split(",").map(we=>we.trim()),ee=J[0]||"",se=J[1]||"",de=J[2]||"",he=J[3]||"",me=[se,de].filter(Boolean).join(" ")||"";return s.jsxs(s.Fragment,{children:[ee&&s.jsx(L,{size:"1",color:"gray",children:ee}),me&&s.jsx(L,{size:"1",color:"gray",children:me}),he&&s.jsx(L,{size:"1",color:"gray",children:he})]})})()]}),_.customer_contact&&s.jsxs($,{direction:"column",gap:"1",mt:"2",children:[s.jsx(L,{size:"2",weight:"medium",children:_.customer_contact.name||"Contact"}),_.customer_contact.phone&&s.jsx(L,{size:"1",color:"gray",children:Ta(_.customer_contact.phone)})]})]})]})]}),s.jsxs($,{direction:"column",align:"end",style:{minHeight:"100%"},children:[s.jsx(X,{style:{flex:1}}),_.offer_type==="technical"&&(()=>{var se,de,he,me,we,le;const ee=(r==="dark"?(se=_.company)==null?void 0:se.logo_dark_path:(de=_.company)==null?void 0:de.logo_light_path)||((he=_.company)==null?void 0:he.logo_light_path)||((me=_.company)==null?void 0:me.logo_dark_path);return ee?s.jsx(X,{style:{maxWidth:225,maxHeight:90,marginBottom:"24px"},children:s.jsx("img",{src:`${re.storage.from("logos").getPublicUrl(ee).data.publicUrl}?v=${ee}`,alt:((we=_.company)==null?void 0:we.name)||"Company logo",style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}},`company-logo-${(le=_.company)==null?void 0:le.id}-${ee}-${r}`)}):null})(),ae&&s.jsxs($,{gap:"2",align:"center",children:[s.jsx(pe,{size:"2",variant:"soft",color:"red",onClick:()=>S(!0),disabled:m||v||b||j.isPending||D.isPending||P.isPending,children:"Reject Offer"}),s.jsx(pe,{size:"2",variant:"soft",onClick:()=>w(!0),disabled:m||v||b||j.isPending||D.isPending||P.isPending,children:"Revise Offer"}),s.jsx(pe,{size:"2",onClick:()=>p(!0),disabled:m||v||b||j.isPending||D.isPending||P.isPending,children:"Accept Offer"})]})]})]}),!G&&m&&s.jsx(Rt,{mb:"6",children:s.jsxs(X,{p:"5",children:[s.jsx(He,{size:"4",mb:"4",children:"Accept Offer"}),s.jsx(L,{size:"2",color:"gray",mb:"4",children:"Please provide your contact information to accept this offer."}),s.jsxs($,{direction:"column",gap:"3",children:[s.jsxs($,{gap:"3",wrap:"wrap",children:[s.jsxs(X,{style:{flex:1,minWidth:200},children:[s.jsx(L,{size:"2",weight:"medium",mb:"1",as:"label",children:"First Name *"}),s.jsx(qe,{placeholder:"First name",value:o.first_name,onChange:J=>l(ee=>({...ee,first_name:J.target.value}))})]}),s.jsxs(X,{style:{flex:1,minWidth:200},children:[s.jsx(L,{size:"2",weight:"medium",mb:"1",as:"label",children:"Last Name *"}),s.jsx(qe,{placeholder:"Last name",value:o.last_name,onChange:J=>l(ee=>({...ee,last_name:J.target.value}))})]})]}),s.jsxs(X,{children:[s.jsx(L,{size:"2",weight:"medium",mb:"1",as:"label",children:"Phone Number *"}),s.jsx(Td,{value:o.phone,onChange:J=>l(ee=>({...ee,phone:J??""})),defaultCountry:"NO",placeholder:"Enter phone number"})]}),U&&s.jsx(X,{children:s.jsxs($,{align:"start",gap:"2",children:[s.jsx(fr,{checked:o.terms_accepted,onCheckedChange:J=>l(ee=>({...ee,terms_accepted:J===!0})),required:!0}),s.jsx($,{direction:"column",gap:"1",style:{flex:1},children:s.jsxs(L,{size:"2",as:"label",style:{cursor:"pointer",lineHeight:1.5},children:["I have read and accept the"," ",s.jsx(pe,{size:"1",variant:"ghost",onClick:J=>{J.preventDefault(),E(!0)},style:{textDecoration:"underline",padding:0,height:"auto",verticalAlign:"baseline",display:"inline",margin:0},children:"terms and conditions"})," *"]})})]})}),s.jsxs($,{gap:"2",mt:"2",children:[s.jsx(pe,{onClick:()=>j.mutate(),disabled:!o.first_name||!o.last_name||!o.phone||U&&!o.terms_accepted||j.isPending,children:j.isPending?"Accepting...":"Accept"}),s.jsx(pe,{variant:"soft",onClick:()=>p(!1),disabled:j.isPending,children:"Cancel"})]})]})]})}),!G&&!H&&v&&s.jsx(Rt,{mb:"6",children:s.jsxs(X,{p:"5",children:[s.jsx(He,{size:"4",mb:"4",children:"Reject Offer"}),s.jsx(L,{size:"2",color:"gray",mb:"4",children:"Please provide your contact information and optionally a comment explaining why you are rejecting this offer."}),s.jsxs($,{direction:"column",gap:"3",children:[s.jsxs($,{gap:"3",wrap:"wrap",children:[s.jsxs(X,{style:{flex:1,minWidth:200},children:[s.jsx(L,{size:"2",weight:"medium",mb:"1",as:"label",children:"First Name *"}),s.jsx(qe,{placeholder:"First name",value:c.first_name,onChange:J=>u(ee=>({...ee,first_name:J.target.value}))})]}),s.jsxs(X,{style:{flex:1,minWidth:200},children:[s.jsx(L,{size:"2",weight:"medium",mb:"1",as:"label",children:"Last Name *"}),s.jsx(qe,{placeholder:"Last name",value:c.last_name,onChange:J=>u(ee=>({...ee,last_name:J.target.value}))})]})]}),s.jsxs(X,{children:[s.jsx(L,{size:"2",weight:"medium",mb:"1",as:"label",children:"Phone Number *"}),s.jsx(Td,{value:c.phone,onChange:J=>u(ee=>({...ee,phone:J??""})),defaultCountry:"NO",placeholder:"Enter phone number"})]}),s.jsxs(X,{children:[s.jsx(L,{size:"2",weight:"medium",mb:"1",as:"label",children:"Comment"}),s.jsx(Ci,{placeholder:"Please explain why you are rejecting this offer...",value:c.comment,onChange:J=>u(ee=>({...ee,comment:J.target.value})),style:{minHeight:100},rows:4})]}),s.jsxs($,{gap:"2",mt:"2",children:[s.jsx(pe,{onClick:()=>D.mutate(),disabled:!c.first_name||!c.last_name||!ce(c.phone)||D.isPending,color:"red",children:D.isPending?"Rejecting...":"Reject Offer"}),s.jsx(pe,{variant:"soft",onClick:()=>S(!1),disabled:D.isPending,children:"Cancel"})]})]})]})}),!G&&!H&&b&&s.jsx(Rt,{mb:"6",children:s.jsxs(X,{p:"5",children:[s.jsx(He,{size:"4",mb:"4",children:"Request Revision"}),s.jsx(L,{size:"2",color:"gray",mb:"4",children:"Please provide your contact information and describe what changes you would like to see in the offer."}),s.jsxs($,{direction:"column",gap:"3",children:[s.jsxs($,{gap:"3",wrap:"wrap",children:[s.jsxs(X,{style:{flex:1,minWidth:200},children:[s.jsx(L,{size:"2",weight:"medium",mb:"1",as:"label",children:"First Name *"}),s.jsx(qe,{placeholder:"First name",value:d.first_name,onChange:J=>h(ee=>({...ee,first_name:J.target.value}))})]}),s.jsxs(X,{style:{flex:1,minWidth:200},children:[s.jsx(L,{size:"2",weight:"medium",mb:"1",as:"label",children:"Last Name *"}),s.jsx(qe,{placeholder:"Last name",value:d.last_name,onChange:J=>h(ee=>({...ee,last_name:J.target.value}))})]})]}),s.jsxs(X,{children:[s.jsx(L,{size:"2",weight:"medium",mb:"1",as:"label",children:"Phone Number *"}),s.jsx(Td,{value:d.phone,onChange:J=>h(ee=>({...ee,phone:J??""})),defaultCountry:"NO",placeholder:"Enter phone number"})]}),s.jsxs(X,{children:[s.jsx(L,{size:"2",weight:"medium",mb:"1",as:"label",children:"What changes would you like? *"}),s.jsx(Ci,{placeholder:"Please describe what you would like changed in the offer...",value:d.comment,onChange:J=>h(ee=>({...ee,comment:J.target.value})),style:{minHeight:100},rows:4})]}),s.jsxs($,{gap:"2",mt:"2",children:[s.jsx(pe,{onClick:()=>P.mutate(),disabled:!d.first_name||!d.last_name||!d.phone||!d.comment.trim()||P.isPending,children:P.isPending?"Sending...":"Ask for a New Offer"}),s.jsx(pe,{variant:"soft",onClick:()=>w(!1),disabled:P.isPending,children:"Cancel"})]})]})]})})]})})}),U&&s.jsx(rn,{open:R,onOpenChange:E,children:s.jsxs(an,{maxWidth:"800px",style:{maxHeight:"80vh"},children:[s.jsx(cn,{children:"Terms and Conditions"}),s.jsx(X,{style:{maxHeight:"60vh",overflowY:"auto",marginBottom:16},children:((ie=_.company_terms)==null?void 0:ie.type)==="pdf"&&z?s.jsxs($,{direction:"column",gap:"3",children:[s.jsx(L,{size:"2",color:"gray",children:"Please review the terms and conditions PDF before accepting this offer."}),s.jsx(X,{p:"4",style:{border:"1px solid var(--gray-a6)",borderRadius:8,background:"var(--gray-a2)",textAlign:"center"},children:s.jsxs(pe,{size:"3",variant:"outline",onClick:()=>window.open(z,"_blank"),children:[s.jsx(x1,{width:16,height:16}),"View Terms and Conditions PDF"]})})]}):((ne=_.company_terms)==null?void 0:ne.type)==="text"&&_.company_terms.text?s.jsx(X,{p:"4",style:{border:"1px solid var(--gray-a6)",borderRadius:8,background:"var(--gray-a2)"},children:s.jsx(L,{size:"2",style:{whiteSpace:"pre-wrap"},children:_.company_terms.text})}):null}),s.jsx(st,{my:"4"}),s.jsx(X,{p:"3",style:{border:"1px solid var(--gray-a6)",borderRadius:8,background:"var(--gray-a2)"},children:s.jsxs($,{align:"start",gap:"2",children:[s.jsx(fr,{checked:o.terms_accepted,onCheckedChange:J=>l(ee=>({...ee,terms_accepted:J===!0})),required:!0}),s.jsx(L,{size:"2",as:"label",style:{cursor:"pointer",flex:1},children:"I have read and accept the terms and conditions *"})]})}),s.jsx($,{gap:"2",mt:"4",justify:"end",children:s.jsx(Dn,{children:s.jsx(pe,{variant:"soft",children:"Close"})})})]})})]})}function Ybt({open:e,onOpenChange:t,entry:n,onSaved:i,disabled:r=!1}){const{success:a,error:o}=Jt(),[l,c]=g.useState({title:"",jobNumber:"",note:"",startAt:"",endAt:""}),u=g.useMemo(()=>!l.startAt||!l.endAt?!1:new Date(l.endAt).getTime()<new Date(l.startAt).getTime(),[l.endAt,l.startAt]),d=(p,v)=>c(S=>({...S,[p]:v}));g.useEffect(()=>{!e||!n||c({title:n.title??"",jobNumber:n.job_number??"",note:n.note??"",startAt:n.start_at??"",endAt:n.end_at??""})},[e,n==null?void 0:n.id]);const h=g.useMemo(()=>Jbt(l.startAt,l.endAt),[l.startAt,l.endAt]),m=bt({mutationFn:async()=>{if(!n)throw new Error("Missing entry");if(!l.title.trim())throw new Error("Title is required");if(!l.startAt||!l.endAt)throw new Error("Start and end time are required");if(u)throw new Error("End time must be after start time");await rbt({id:n.id,changes:{title:l.title.trim(),job_number:l.jobNumber.trim()||null,note:l.note.trim()||null,start_at:l.startAt,end_at:l.endAt}})},onSuccess:()=>{a("Saved","Time entry updated"),t(!1),i==null||i()},onError:p=>{o("Failed to save",(p==null?void 0:p.message)||"Please try again.")}});return s.jsx(rn,{open:e,onOpenChange:t,children:s.jsxs(an,{size:"3",style:{maxWidth:520},children:[s.jsx(cn,{children:"Edit time entry"}),s.jsx(vr,{size:"2",color:"gray",mb:"3",children:"Update the details for this entry."}),s.jsxs($,{direction:"column",gap:"3",children:[s.jsxs("label",{children:[s.jsx(L,{as:"div",size:"2",mb:"1",weight:"medium",children:"Title"}),s.jsx(qe,{value:l.title,onChange:p=>d("title",p.target.value),placeholder:"Time entry title",disabled:r})]}),s.jsxs("label",{children:[s.jsx(L,{as:"div",size:"2",mb:"1",weight:"medium",children:"Job number"}),s.jsx(qe,{value:l.jobNumber,onChange:p=>d("jobNumber",p.target.value),placeholder:"Optional",disabled:r})]}),s.jsx(or,{label:"Start",value:l.startAt,onChange:p=>d("startAt",p),disabled:r}),s.jsx(or,{label:"End",value:l.endAt,onChange:p=>d("endAt",p),disabled:r,invalid:u}),s.jsxs("label",{children:[s.jsx(L,{as:"div",size:"2",mb:"1",weight:"medium",children:"Note"}),s.jsx(Ci,{rows:2,value:l.note,onChange:p=>d("note",p.target.value),placeholder:"Optional notes",style:{minHeight:60,width:"100%",display:"block"},disabled:r})]}),s.jsxs($,{justify:"between",align:"center",mt:"2",children:[s.jsx(L,{size:"3",weight:"medium",children:h}),s.jsxs($,{gap:"2",children:[s.jsx(Dn,{children:s.jsx(pe,{variant:"soft",disabled:m.isPending,children:"Cancel"})}),s.jsx(pe,{onClick:()=>m.mutate(),disabled:r||m.isPending||!l.title.trim()||u,children:m.isPending?"Saving":"Save"})]})]})]})]})})}function Jbt(e,t){if(!e||!t)return"--";const n=new Date(e),i=new Date(t);return`${(Math.max(0,i.getTime()-n.getTime())/(1e3*60*60)).toFixed(2)} hours`}function Qbt(){const{companyId:e}=En(),{userId:t,isGlobalSuperuser:n,companyRole:i}=zr(),r=Yt(),{success:a,error:o}=Jt(),[l,c]=g.useState(()=>Zve(new Date)),u=Number(l.split("-")[0])||new Date().getFullYear(),d=g.useMemo(()=>e0e(u),[u]),h=g.useMemo(()=>{const Te=new Date().getFullYear();return Array.from({length:5},(Ot,$t)=>Te-2+$t)},[]),{from:m,to:p,label:v}=g.useMemo(()=>Xve("month",l),[l]),{startAt:S,endAt:b}=g.useMemo(()=>See(),[]),[w,R]=g.useState("manual"),[E,_]=g.useState(null),[N,O]=g.useState(""),[j,D]=g.useState(""),[P,B]=g.useState(""),[M,z]=g.useState(S),[U,K]=g.useState(b),te=g.useMemo(()=>!M||!U?!1:new Date(U).getTime()<new Date(M).getTime(),[U,M]),q=g.useMemo(()=>Xbt(M,U),[M,U]),V=!!(e&&t),{data:Q=[],isLoading:ce}=et({...Jve({companyId:e??"",userId:t??"",from:m,to:p}),enabled:V}),{data:ae=[],isLoading:G}=et({...BO({companyId:e??"",search:"",sortBy:"start_at",sortDir:"desc",userId:t??null,companyRole:i??null,includeArchived:!1}),enabled:V}),H=g.useMemo(()=>{const Te=new Date;return Te.setHours(0,0,0,0),ae.filter(Ot=>Ot.start_at?new Date(Ot.start_at).getTime()<Te.getTime():!1).slice(0,25)},[ae]),T=g.useMemo(()=>bee(M)??new Date().getFullYear(),[M]),Y=g.useMemo(()=>bee(U)??T,[U,T]),{data:ie=[]}=et({queryKey:["logging_periods",e??"none",u],enabled:!!e,queryFn:async()=>{if(!e)return[];const{queryFn:Te}=_A({companyId:e,year:u});return Te()}}),{data:ne=[]}=et({queryKey:["logging_periods",e??"none",T],enabled:!!e&&T!==u,queryFn:async()=>{if(!e)return[];const{queryFn:Te}=_A({companyId:e,year:T});return Te()}}),{data:J=[]}=et({queryKey:["logging_periods",e??"none",Y],enabled:!!e&&Y!==u&&Y!==T,queryFn:async()=>{if(!e)return[];const{queryFn:Te}=_A({companyId:e,year:Y});return Te()}}),ee=g.useMemo(()=>{const Te=new Set;return ie.forEach(Ot=>{if(!Ot.is_locked)return;const $t=zI(Ot.period_start);Te.add($t)}),Te},[ie]),se=g.useMemo(()=>{const Te=new Set;return[...ie,...ne,...J].forEach($t=>{if(!$t.is_locked)return;const jt=zI($t.period_start);Te.add(jt)}),Te},[J,ne,ie]),de=g.useMemo(()=>Mb({startAt:M,endAt:U,lockedMonthSet:se}),[U,se,M]),he=g.useCallback(Te=>{_(Te);const Ot=H.find(jt=>jt.id===Te);if(!Ot)return;O(Ot.title||""),D(Ot.jobnr!=null?String(Ot.jobnr):"");const $t=Ot.start_at??"";$t&&(z($t),Ot.end_at?K(Ot.end_at):K(ixt($t)))},[H]),me=bt({mutationFn:async()=>{if(!e||!t)throw new Error("Missing company or user");if(de)throw new Error("You cannot add an entry in a locked logging period");if(!N.trim())throw new Error("Title is required");if(w==="job"&&!E)throw new Error("Select a job to link");if(!M||!U)throw new Error("Start and end time are required");if(te)throw new Error("End time must be after start time");await ibt({company_id:e,user_id:t,title:N.trim(),job_number:j.trim()||null,note:P.trim()||null,start_at:M,end_at:U})},onSuccess:async()=>{await le();const{startAt:Te,endAt:Ot}=See();O(""),D(""),B(""),z(Te),K(Ot),R("manual"),_(null),a("Saved","Time entry added")},onError:Te=>{o("Failed to save",(Te==null?void 0:Te.message)||"Please try again.")}}),we=bt({mutationFn:async Te=>{if(!e||!t)throw new Error("Missing company or user");if(Mb({startAt:Te.start_at,endAt:Te.end_at,lockedMonthSet:ee}))throw new Error("You cannot delete an entry in a locked logging period");await abt({id:Te.id})},onSuccess:async()=>{await le(),Ee(null),a("Deleted","Time entry removed")},onError:Te=>{o("Failed to delete",(Te==null?void 0:Te.message)||"Please try again.")}}),le=g.useCallback(async()=>{await r.invalidateQueries({queryKey:["time_entries",e,t,m,p]}),await r.invalidateQueries({queryKey:["time_entries",e,"all",m,p]})},[e,m,r,p,t]),ue=g.useCallback(Te=>{if(z(Te),!Te)return;if(!U){K(Te);return}const Ot=new Date(Te),$t=new Date(U);$t.setFullYear(Ot.getFullYear(),Ot.getMonth(),Ot.getDate());const jt=$t.toISOString();new Date(jt).getTime()<Ot.getTime()?K(Ot.toISOString()):K(jt)},[U]),De=g.useRef(l);g.useEffect(()=>{if(De.current===l)return;De.current=l;const Te=ext({startAt:M,endAt:U,monthKey:l});Te&&(Te.startAt!==M&&z(Te.startAt),Te.endAt!==U&&K(Te.endAt))},[U,l,M]);const[Le,Be]=g.useState(null),[ke,Ee]=g.useState(null),lt=s.jsxs(s.Fragment,{children:[s.jsx($,{align:"center",justify:"between",gap:"3",wrap:"wrap",mb:"3",children:s.jsx(He,{size:"5",children:"Logging"})}),s.jsx(st,{size:"4",mb:"4"}),s.jsxs(X,{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:16},children:[s.jsxs("label",{children:[s.jsx(L,{as:"div",size:"2",mb:"1",weight:"medium",children:"Entry type"}),s.jsxs(Xa,{value:w,onValueChange:Te=>{R(Te),Te==="manual"&&_(null)},children:[s.jsx(wi,{value:"manual",children:"Manual"}),s.jsx(wi,{value:"job",children:"Link to job"})]})]}),w==="job"&&s.jsxs("label",{children:[s.jsx(L,{as:"div",size:"2",mb:"1",weight:"medium",children:"Recent job"}),s.jsxs(Vn,{value:E||void 0,onValueChange:he,disabled:!1,children:[s.jsx(Kn,{placeholder:G?"Loading jobs":"Select a job"}),s.jsxs(Gn,{children:[H.length===0&&s.jsx(wt,{value:"none",disabled:!0,children:"No recent jobs"}),H.map(Te=>s.jsx(wt,{value:Te.id,children:txt(Te)},Te.id))]})]})]}),s.jsxs("label",{children:[s.jsx(L,{as:"div",size:"2",mb:"1",weight:"medium",children:"Title"}),s.jsx(qe,{value:N,onChange:Te=>O(Te.target.value),placeholder:"Time entry title",autoFocus:!0,disabled:!1})]}),s.jsxs("label",{children:[s.jsx(L,{as:"div",size:"2",mb:"1",weight:"medium",children:"Job number"}),s.jsx(qe,{value:j,onChange:Te=>D(Te.target.value),placeholder:"Optional",disabled:w==="job"})]}),s.jsx(or,{label:"Start",value:M,onChange:ue,disabled:!1}),s.jsx(or,{label:"End",value:U,onChange:Te=>K(Te),disabled:!1,invalid:te})]}),s.jsxs(X,{mt:"4",children:[s.jsx(L,{as:"div",size:"2",mb:"1",weight:"medium",children:"Note"}),s.jsx(Ci,{rows:2,value:P,onChange:Te=>B(Te.target.value),placeholder:"Optional notes",style:{minHeight:60,width:"100%",display:"block"},disabled:!1})]}),s.jsxs($,{justify:"between",align:"center",mt:"4",wrap:"wrap",gap:"2",children:[s.jsx(L,{size:"4",weight:"bold",children:q}),s.jsx(pe,{onClick:()=>me.mutate(),disabled:me.isPending||!N.trim()||te||de||w==="job"&&!E,children:me.isPending?"Saving":"Add entry"})]}),de&&s.jsx(L,{size:"2",color:"red",mt:"2",children:"You can't add an entry in a locked logging period."})]}),Mt=g.useMemo(()=>Q.reduce((Ot,$t)=>{const jt=new Date($t.start_at).getTime(),Ht=new Date($t.end_at).getTime(),Ie=Math.max(0,Ht-jt);return Ot+Ie},0)/(1e3*60*60),[Q]),St=s.jsxs(s.Fragment,{children:[s.jsxs($,{align:"center",justify:"between",gap:"3",mb:"3",wrap:"wrap",children:[s.jsx(He,{size:"4",children:"Entries"}),s.jsxs($,{align:"center",gap:"3",wrap:"wrap",children:[s.jsxs(L,{size:"2",color:"gray",children:[Q.length," total"]}),s.jsxs(Vn,{value:String(u),onValueChange:Te=>{const Ot=l.split("-")[1]??"01";c(`${Te}-${Ot}`)},children:[s.jsx(Kn,{}),s.jsx(Gn,{children:h.map(Te=>s.jsx(wt,{value:String(Te),children:Te},Te))})]}),s.jsx(X,{style:{maxWidth:"100%",overflowX:"auto"},children:s.jsx(Xa,{value:l,onValueChange:Te=>c(Te),style:{minWidth:"max-content"},children:d.map(Te=>{const Ot=ee.has(Te.value);return s.jsx(wi,{value:Te.value,style:Ot?{backgroundColor:"var(--green-3)",color:"var(--green-11)"}:void 0,children:s.jsxs($,{align:"center",gap:"1",children:[s.jsx(L,{size:"1",children:Te.label}),Ot&&s.jsx(w1,{width:12,height:12})]})},Te.value)})})})]})]}),s.jsxs(L,{size:"2",color:"gray",mb:"3",children:["Showing entries for ",v]}),s.jsx(st,{size:"4",mb:"3"}),s.jsx(Qve,{entries:Q,isLoading:ce,onEditEntry:Te=>Be(Te),canEditEntry:Te=>Mb({startAt:Te.start_at,endAt:Te.end_at,lockedMonthSet:ee})||!t?!1:n?!0:Te.user_id===t,onDeleteEntry:Te=>{Ee(Te)},canDeleteEntry:Te=>Mb({startAt:Te.start_at,endAt:Te.end_at,lockedMonthSet:ee})||!t?!1:n?!0:Te.user_id===t&&!we.isPending}),s.jsx($,{justify:"end",mt:"3",children:s.jsxs(L,{size:"4",weight:"bold",children:["Total: ",Mt.toFixed(2)," hours"]})}),s.jsx(Ybt,{open:!!Le,onOpenChange:Te=>{Te||Be(null)},entry:Le,onSaved:le,disabled:!!(Le&&Mb({startAt:Le.start_at,endAt:Le.end_at,lockedMonthSet:ee}))}),s.jsx(rn,{open:!!ke,onOpenChange:Te=>{Te||Ee(null)},children:s.jsxs(an,{size:"2",style:{maxWidth:480},children:[s.jsx(cn,{children:"Delete time entry"}),s.jsx(vr,{size:"2",color:"gray",mb:"3",children:"This will permanently remove the entry."}),ke&&s.jsx(L,{size:"2",as:"div",children:ke.title}),s.jsxs($,{justify:"end",gap:"2",mt:"4",children:[s.jsx(pe,{variant:"soft",disabled:we.isPending,onClick:()=>Ee(null),children:"Cancel"}),s.jsx(pe,{color:"red",onClick:()=>{ke&&we.mutate(ke)},disabled:we.isPending,children:we.isPending?"Deleting":"Delete"})]})]})})]}),[tt,Je]=g.useState(()=>typeof window<"u"?window.matchMedia("(min-width: 1024px)").matches:!1);g.useEffect(()=>{const Te=window.matchMedia("(min-width: 1024px)"),Ot=$t=>Je($t.matches);try{return Te.addEventListener("change",Ot),()=>Te.removeEventListener("change",Ot)}catch{return Te.addListener(Ot),()=>Te.removeListener(Ot)}},[]);const[Ve,qt]=g.useState(35),[Et,rt]=g.useState(!1),xt=g.useRef(null);return g.useEffect(()=>{if(!Et)return;const Te=$t=>{if(!xt.current)return;const jt=xt.current.getBoundingClientRect(),Ht=jt.width,Ie=$t.clientX-jt.left,kt=Math.max(25,Math.min(75,Ie/Ht*100));qt(kt)},Ot=()=>{rt(!1),document.body.style.cursor="",document.body.style.userSelect=""};return document.body.style.cursor="col-resize",document.body.style.userSelect="none",document.addEventListener("mousemove",Te),document.addEventListener("mouseup",Ot),()=>{document.removeEventListener("mousemove",Te),document.removeEventListener("mouseup",Ot),document.body.style.cursor="",document.body.style.userSelect=""}},[Et]),e?tt?s.jsx("section",{style:{height:"100%",minHeight:0},children:s.jsxs($,{ref:xt,gap:"2",align:"stretch",style:{height:"100%",minHeight:0,position:"relative"},children:[s.jsx(Rt,{size:"3",style:{display:"flex",flexDirection:"column",width:`${Ve}%`,height:"100%",minWidth:"320px",maxWidth:"75%",minHeight:0,flexShrink:0,transition:Et?"none":"width 0.1s ease-out"},children:s.jsx(X,{style:{flex:1,minHeight:0,overflowY:"auto"},children:lt})}),s.jsx(X,{className:"section-resizer",onMouseDown:Te=>{Te.preventDefault(),rt(!0)},style:{width:"6px",height:"20%",cursor:"col-resize",backgroundColor:"var(--gray-a4)",borderRadius:"4px",flexShrink:0,alignSelf:"center",userSelect:"none",margin:"0 -4px",zIndex:10,transition:Et?"none":"background-color 0.2s"},onMouseEnter:Te=>{Et||(Te.currentTarget.style.backgroundColor="var(--gray-a6)",Te.currentTarget.style.cursor="col-resize")},onMouseLeave:Te=>{Et||(Te.currentTarget.style.backgroundColor="var(--gray-a4)")}}),s.jsx(Rt,{size:"3",style:{display:"flex",flexDirection:"column",flex:1,height:"100%",maxHeight:"100%",overflow:"hidden",minWidth:"320px",minHeight:0,transition:Et?"none":"flex-basis 0.1s ease-out"},children:s.jsx(X,{style:{flex:1,minHeight:0,overflowY:"auto",overflowX:"auto"},children:St})})]})}):s.jsx("section",{style:{minHeight:0},children:s.jsxs(Zn,{columns:"1fr",gap:"4",align:"stretch",style:{minHeight:0},children:[s.jsx(Rt,{size:"3",style:{minHeight:0},children:lt}),s.jsx(Rt,{size:"3",style:{overflowX:"auto",minHeight:0},children:St})]})}):s.jsx("div",{children:"No company selected."})}function See(){const e=new Date,t=e.getMinutes();e.setMinutes(0,0,0),t>=30&&e.setHours(e.getHours()+1);const n=new Date(e.getTime()+3600*1e3);return{startAt:e.toISOString(),endAt:n.toISOString()}}function Xbt(e,t){if(!e||!t)return"--";const n=new Date(e),i=new Date(t);return`${(Math.max(0,i.getTime()-n.getTime())/(1e3*60*60)).toFixed(2)} hours`}function bee(e){if(!e)return null;const t=new Date(e);return Number.isNaN(t.getTime())?null:t.getFullYear()}function Zbt(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0");return`${t}-${n}`}function Mb({startAt:e,endAt:t,lockedMonthSet:n}){if(!e||!t||n.size===0)return!1;const i=new Date(e),r=new Date(t);if(Number.isNaN(i.getTime())||Number.isNaN(r.getTime())||r.getTime()<i.getTime())return!1;const a=new Date(i);a.setDate(1),a.setHours(0,0,0,0);const o=new Date(r);for(o.setDate(1),o.setHours(0,0,0,0);a.getTime()<=o.getTime();){if(n.has(Zbt(a)))return!0;a.setMonth(a.getMonth()+1)}return!1}function ext({startAt:e,endAt:t,monthKey:n}){if(!e||!t||!n||zI(e)===n)return null;const[i,r]=n.split("-"),a=Number(i),o=Number(r)-1;if(!Number.isFinite(a)||!Number.isFinite(o))return null;const l=new Date(e),c=new Date(t);if(Number.isNaN(l.getTime())||Number.isNaN(c.getTime()))return null;const u=Math.max(0,c.getTime()-l.getTime()),d=new Date(a,o+1,0).getDate(),h=Math.min(l.getDate(),d),m=new Date(l);m.setFullYear(a,o,h);const p=new Date(m.getTime()+u);return{startAt:m.toISOString(),endAt:p.toISOString()}}function txt(e){const t=e.jobnr!=null?`#${e.jobnr}`:"Job",n=e.title?`  ${e.title}`:"",i=e.start_at?` (${nxt(e.start_at)})`:"";return`${t}${n}${i}`}function nxt(e){const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString()}function ixt(e){const t=new Date(e);return Number.isNaN(t.getTime())?e:new Date(t.getTime()+3600*1e3).toISOString()}function zI(e){const t=e.match(/^(\d{4}-\d{2})/);if(t)return t[1];const n=new Date(e);if(Number.isNaN(n.getTime()))return e.slice(0,7);const i=n.getFullYear(),r=String(n.getMonth()+1).padStart(2,"0");return`${i}-${r}`}const rxt="/assets/grid_logo_black-BzU7eBJq.svg",axt="/assets/grid_logo_white-BrsNoL0Z.svg",sxt="1.0.0",oxt=200,lxt=64,AA=[[{to:"/dashboard",label:"Home",icon:s.jsx(uCe,{})},{to:"/latest",label:"Latest",icon:s.jsx(soe,{strokeWidth:2})},{to:"/inventory",label:"Inventory",icon:s.jsx(Zse,{})},{to:"/vehicles",label:"Vehicles",icon:s.jsx(V2,{})},{to:"/crew",label:"Crew",icon:s.jsx(noe,{})},{to:"/jobs",label:"Jobs",icon:s.jsx(og,{})},{to:"/calendar",label:"Calendar",icon:s.jsx(Fu,{})},{to:"/logging",label:"Logging",icon:s.jsx(sDe,{})},{to:"/customers",label:"Customers",icon:s.jsx(C4e,{})}],[{to:"/matters",label:"Matters",icon:s.jsx(AO,{})},{to:"/company",label:"Company",icon:s.jsx(eoe,{})},{to:"/profile",label:"Profile",icon:s.jsx(ooe,{})}],[{to:"/super",label:"Super",icon:s.jsx(XLe,{})}]];function cxt({open:e,onToggle:t,currentPath:n,userDisplayName:i,userEmail:r,userAvatarUrl:a,onLogout:o}){const l=m2("(max-width: 768px)"),c=l?0:e?oxt:lxt;return s.jsxs(s.Fragment,{children:[s.jsx(X,{asChild:!0,style:{width:c,transition:"width 180ms ease"},children:s.jsx("aside",{"aria-label":"Sidebar navigation"})}),l?e&&s.jsxs(s.Fragment,{children:[s.jsx(X,{onClick:()=>t(!1),style:{position:"fixed",inset:0,background:"var(--black-a7)",zIndex:50}}),s.jsx(X,{style:{position:"fixed",top:0,left:0,height:"100dvh",width:Math.min(320,Math.floor(window.innerWidth*.85)),background:"var(--black-a9)",borderRight:"1px solid var(--gray-a6)",zIndex:51,boxShadow:"0 10px 40px var(--black-a6)"},children:s.jsx(xee,{open:e,onToggle:t,currentPath:n,isMobile:l,showCollapseButton:!0,userDisplayName:i,userEmail:r,userAvatarUrl:a,onLogout:o})})]}):s.jsx(X,{style:{position:"absolute",left:0,top:0,bottom:0,width:c,pointerEvents:"none"},children:s.jsx(X,{style:{height:"100dvh",width:c,pointerEvents:"auto"},children:s.jsx(xee,{open:e,onToggle:t,currentPath:n,isMobile:l,showCollapseButton:!0})})})]})}function xee({open:e,onToggle:t,currentPath:n,isMobile:i,showCollapseButton:r,userDisplayName:a,userEmail:o,userAvatarUrl:l,onLogout:c}){const{companies:u,companyId:d,setCompanyId:h,loading:m}=En(),{caps:p,loading:v,isGlobalSuperuser:S}=zr(),{isDark:b}=Y7(),{data:w}=et({queryKey:["auth","user"],queryFn:async()=>{const{data:P}=await re.auth.getUser();return P.user??null}}),{data:R}=et({...d?UO({companyId:d}):{queryKey:["company","none","expansion"],queryFn:()=>Promise.resolve(null)},enabled:!!d}),E=!!w,_=g.useMemo(()=>[...u].sort((P,B)=>P.name.localeCompare(B.name)),[u]),N=b?axt:rxt,O=new Set(["Home","Calendar","Matters","Profile"]),j=!!R&&R.accounting_software==="conta"&&R.accounting_api_environment==="sandbox";function D(P){const M={Home:"visit:home",Inventory:"visit:inventory",Vehicles:"visit:vehicles",Crew:"visit:crew",Jobs:"visit:jobs",Calendar:"visit:calendar",Logging:"visit:logging",Customers:"visit:customers",Latest:"visit:latest",Matters:"visit:matters",Company:"visit:company",Profile:"visit:profile",Super:"visit:super"}[P];return P==="Super"?v?S?!0:E:p.has("visit:super"):v?M?O.has(P):!0:M?bIe(p,M):!0}return s.jsxs("aside",{style:{display:"flex",flexDirection:"column",height:"100dvh"},children:[i&&s.jsxs(s.Fragment,{children:[s.jsxs($,{align:"center",justify:"between",px:"3",py:"3",gap:"3",children:[s.jsx($,{align:"center",gap:"3",style:{minWidth:0,flex:1},children:s.jsx(pe,{variant:"ghost",size:"3",asChild:!0,style:{padding:0},onClick:()=>t(!1),"aria-label":"Go to profile",children:s.jsx(Kg,{to:"/profile",children:s.jsxs($,{align:"center",gap:"2",children:[s.jsx(Xr,{size:"3",radius:"full",src:l??void 0,fallback:Rh(a||o||"?"),style:{border:"1px solid var(--gray-5)"}}),s.jsxs($,{direction:"column",style:{lineHeight:1.1},children:[s.jsx(L,{size:"3",weight:"medium",truncate:!0,children:a||o||"Profile"}),o&&s.jsx(L,{size:"1",color:"gray",truncate:!0,children:o})]})]})})})}),c&&s.jsx(pe,{size:"2",variant:"soft",onClick:c,children:"Logout"})]}),s.jsx(st,{size:"4"})]}),s.jsxs($,{align:"center",justify:"between",px:"3",py:"3",gap:"3",children:[s.jsx($,{align:"center",gap:"2",style:{minWidth:0,flex:1},children:e&&s.jsxs("div",{style:{width:"100%"},children:[s.jsx(L,{as:"div",size:"1",color:"gray",style:{marginBottom:4},children:"Company"}),!m&&s.jsxs(Vn,{value:d??void 0,onValueChange:P=>{P&&P!==d&&h(P)},disabled:_.length===0,children:[s.jsx(Kn,{placeholder:"Select company",variant:"ghost"}),s.jsx(Gn,{children:_.map(P=>s.jsx(wt,{value:P.id,children:P.name},P.id))})]}),j&&s.jsx(mt,{color:"orange",variant:"soft",size:"1",style:{marginTop:6},children:"Accounting in Sandbox Mode"})]})}),r&&s.jsx(ju,{content:e?"Collapse":"Expand",delayDuration:300,children:s.jsx(Mn,{size:"2",variant:"ghost",onClick:()=>t(!e),"aria-label":e?"Collapse sidebar":"Expand sidebar",children:s.jsx(ioe,{})})})]}),s.jsx(st,{size:"4"}),s.jsx(X,{flexGrow:"1",style:{minHeight:0},children:s.jsxs(MP,{style:{height:"100%"},children:[s.jsx(IP,{style:{padding:"8px 8px 16px"},children:s.jsxs($,{direction:"column",gap:"4",children:[AA[0].filter(P=>D(P.label)).map(P=>s.jsx(d4,{to:P.to,icon:P.icon,label:P.label,open:e,currentPath:n,isMobile:i,onCloseMobile:()=>t(!1),badge:P.label==="Matters"?s.jsx(wee,{isCollapsed:!e}):void 0},P.to)),(()=>{const P=AA[1].filter(B=>D(B.label));return P.length===0?null:s.jsxs(s.Fragment,{children:[s.jsx(st,{}),P.map(B=>s.jsx(d4,{to:B.to,icon:B.icon,label:B.label,open:e,currentPath:n,isMobile:i,onCloseMobile:()=>t(!1),badge:B.label==="Matters"?s.jsx(wee,{isCollapsed:!e}):void 0},B.to))]})})(),(()=>{const P=AA[2].filter(B=>D(B.label));return P.length===0?null:s.jsxs(s.Fragment,{children:[s.jsx(st,{}),P.map(B=>s.jsx(d4,{to:B.to,icon:B.icon,label:B.label,open:e,currentPath:n,isMobile:i,onCloseMobile:()=>t(!1)},B.to))]})})()]})}),s.jsx(HA,{orientation:"vertical",children:s.jsx(qA,{})})]})}),e&&s.jsx(X,{px:"3",py:"3",children:s.jsxs($,{direction:"column",align:"center",justify:"center",gap:"2",children:[s.jsx("img",{src:N,alt:"Grid Logo",style:{maxWidth:"70%",height:"auto",borderRadius:6}}),s.jsxs(L,{size:"1",style:{color:"var(--gray-9)",opacity:.6,fontSize:"10px",letterSpacing:"0.5px"},children:["v",sxt]})]})})]})}function wee({isCollapsed:e}){const{data:t=0}=et({...vHe()});return t===0?null:s.jsx(mt,{radius:"full",size:"1",color:"blue",highContrast:!1,style:{minWidth:18,height:18,padding:"0 6px",...e?{backgroundColor:"var(--blue-7)",color:"var(--blue-12)"}:{}},children:t>99?"99+":t})}function d4({to:e,icon:t,label:n,open:i,currentPath:r,isMobile:a,onCloseMobile:o,badge:l}){const c=e==="/"?r==="/":r===e||r.startsWith(e+"/");function u(h){if(!a)return;h.metaKey||h.ctrlKey||h.shiftKey||h.altKey||h.button!==0||o()}const d=s.jsx(pe,{variant:c?"outline":"ghost",size:"2",highContrast:!0,asChild:!0,children:s.jsxs(Kg,{to:e,onClick:u,style:{justifyContent:i?"flex-start":"center",gap:10,width:"100%",position:"relative"},children:[i?t:s.jsxs(X,{style:{position:"relative",display:"inline-flex"},children:[t,l&&s.jsx(X,{style:{position:"absolute",top:-6,right:-6},children:l})]}),i&&s.jsxs($,{align:"center",justify:"between",style:{flex:1},children:[s.jsx("span",{style:{lineHeight:1},children:n}),l]})]})});return i?d:s.jsx(ju,{content:n,delayDuration:300,children:d})}function uxt(){const[e,t]=g.useState(!0),i=to().location.pathname,r=m2("(max-width: 768px)"),a=_a(),{companies:o,loading:l}=En(),c=["localhost","127.0.0.1","0.0.0.0"].includes(window.location.hostname),{data:u}=et({queryKey:["auth","user"],queryFn:async()=>{const{data:O,error:j}=await re.auth.getUser();if(j)throw j;return O.user}}),{data:d}=et({queryKey:["my-profile",u==null?void 0:u.id],enabled:!!(u!=null&&u.id),queryFn:async()=>{const{data:O,error:j}=await re.from("profiles").select("user_id,email,display_name,avatar_url").eq("user_id",u.id).maybeSingle();if(j)throw j;return O}}),h=g.useMemo(()=>{if(!(d!=null&&d.avatar_url))return null;const{data:O}=re.storage.from("avatars").getPublicUrl(d.avatar_url);return O.publicUrl},[d==null?void 0:d.avatar_url]),m=(d==null?void 0:d.display_name)||(d==null?void 0:d.email)||"",{data:p}=et({queryKey:["profile",u==null?void 0:u.id,"animated-background-preference"],enabled:!!(u!=null&&u.id),queryFn:async()=>{if(!(u!=null&&u.id))return{enabled:!1,intensity:1,shapeType:"circles",speed:1};const{data:O}=await re.from("profiles").select("preferences").eq("user_id",u.id).maybeSingle(),j=O==null?void 0:O.preferences;return{enabled:(j==null?void 0:j.animated_background_enabled)??!1,intensity:(j==null?void 0:j.animated_background_intensity)??1,shapeType:(j==null?void 0:j.animated_background_shape_type)??"circles",speed:(j==null?void 0:j.animated_background_speed)??1}},staleTime:0,refetchOnWindowFocus:!0}),v=(p==null?void 0:p.enabled)??!1,S=(p==null?void 0:p.intensity)??1,b=(p==null?void 0:p.shapeType)??"circles",w=(p==null?void 0:p.speed)??1;g.useEffect(()=>{r&&t(!1)},[r]);async function R(){await re.auth.signOut(),a({to:"/login"})}const E=dxt(i),_=i==="/login"||i==="/signup"||i==="/legal"||i==="/"||i.startsWith("/offer/"),N=!_&&!l&&!!(u!=null&&u.id)&&o.length===0;return s.jsxs($,{height:_?"auto":"100svh",width:"100%",direction:"row",style:{position:"relative",minHeight:0},children:[!_&&v===!0&&s.jsx(Yj,{intensity:S,shapeType:b,speed:w}),!_&&!N&&s.jsx(cxt,{open:e,onToggle:O=>t(O??!e),currentPath:i,userDisplayName:m,userEmail:(d==null?void 0:d.email)??"",userAvatarUrl:h,onLogout:R}),s.jsx(X,{style:{flex:1,minWidth:0,position:"relative",zIndex:1,backgroundColor:_?void 0:"transparent"},children:s.jsxs($,{direction:"column",style:{height:_?"auto":"100%",minHeight:0},children:[s.jsxs($,{align:"center",justify:"between",px:"4",py:"3",children:[!_&&r&&s.jsx(Mn,{size:"2",variant:"ghost","aria-label":(e?"Close":"Open")+" menu",onClick:()=>t(O=>!O),children:s.jsx(ioe,{})}),!_&&s.jsx(L,{size:"8",weight:"light",children:E}),!_&&!r&&s.jsxs($,{align:"center",gap:"3",children:[s.jsx(Kg,{to:"/profile",style:{textDecoration:"none"},children:s.jsxs($,{align:"center",gap:"2",role:"button",tabIndex:0,"aria-label":"Go to profile",style:{cursor:"pointer"},onKeyDown:O=>{(O.key==="Enter"||O.key===" ")&&(O.currentTarget.click(),O.preventDefault())},children:[s.jsx(Xr,{size:"2",radius:"full",src:h??void 0,fallback:Rh(m||"?"),style:{border:"1px solid var(--gray-5)"}}),s.jsx(L,{size:"2",style:{maxWidth:200},truncate:!0,children:m})]})}),s.jsx(pe,{variant:"soft",onClick:R,children:"Logout"})]})]}),s.jsx(X,{p:_?void 0:"4",style:{flex:1,minHeight:0,overflow:_?"visible":"auto"},children:N?s.jsxs($,{direction:"column",align:"center",justify:"center",gap:"3",style:{height:"100%"},children:[s.jsx(L,{size:"6",weight:"medium",children:"You are not part of any company."}),s.jsx(L,{size:"3",color:"gray",children:"If this is wrong, contact support."})]}):s.jsx(XI,{})})]})}),c&&s.jsx(X,{style:{position:"fixed",left:12,bottom:12,zIndex:50},children:s.jsx(mt,{role:"status","aria-live":"polite",color:"yellow",variant:"surface",size:"3",children:"Dev environment"})})]})}function dxt(e){const t=AA;for(const n of t)for(const i of n)if(e===i.to)return i.label}function fxt({need:e,children:t}){const{loading:n,caps:i}=zr(),r=_a();return g.useEffect(()=>{n||i.has(e)||r({to:"/dashboard"})},[n,i,e,r]),n?s.jsx($,{align:"center",justify:"center",style:{height:"50vh"},children:s.jsxs($,{align:"center",gap:"1",children:[s.jsx(L,{children:"Thinking"}),s.jsx(Ei,{size:"2"})]})}):s.jsx(s.Fragment,{children:t})}const Th=nbe({component:()=>s.jsx(s.Fragment,{children:s.jsx(uxt,{})})}),Xl=(e,t)=>()=>s.jsx(fxt,{need:e,children:s.jsx(t,{})}),hxt=ha({getParentRoute:()=>Th,path:"/",beforeLoad:async()=>{var t;const{data:e}=await re.auth.getSession();if((t=e.session)!=null&&t.user)throw MN({to:"/dashboard"})},component:nSt}),pxt=ha({getParentRoute:()=>Th,path:"login",component:oSt}),mxt=ha({getParentRoute:()=>Th,path:"signup",component:cSt,beforeLoad:async()=>{const{data:e}=await re.auth.getSession();if(e.session)throw MN({to:"/dashboard"})}}),yxt=ha({getParentRoute:()=>Th,path:"/auth/callback",component:uSt}),gxt=ha({getParentRoute:()=>Th,path:"/legal",component:dSt}),vxt=ha({getParentRoute:()=>Th,path:"/offer/$accessToken",component:Wbt}),cl=ha({getParentRoute:()=>Th,id:"authed",beforeLoad:async({location:e})=>{const{data:t}=await re.auth.getSession(),n=t.session;if(!(n!=null&&n.user))throw MN({to:"/login",search:{redirect:e.href}})},component:()=>s.jsx(XI,{})}),Sxt=ha({getParentRoute:()=>cl,path:"/dashboard",component:Xl("visit:home",Qmt)}),bxt=ha({getParentRoute:()=>cl,path:"inventory",component:Xl("visit:inventory",rmt)}),xxt=ha({getParentRoute:()=>cl,path:"calendar",component:Xl("visit:calendar",TFe)}),wxt=ha({getParentRoute:()=>cl,path:"logging",component:Xl("visit:logging",Qbt)}),Ext=ha({getParentRoute:()=>cl,path:"vehicles",component:Xl("visit:vehicles",zFe)}),_xt=ha({getParentRoute:()=>cl,path:"jobs",validateSearch:e=>({jobId:e.jobId||void 0,tab:e.tab||void 0}),component:Xl("visit:jobs",lpt)}),Axt=ha({getParentRoute:()=>cl,path:"crew",component:Xl("visit:crew",upt)}),Rxt=ha({getParentRoute:()=>cl,path:"matters",component:Xl("visit:matters",Lbt)}),Nxt=ha({getParentRoute:()=>cl,path:"company",validateSearch:e=>({tab:e.tab||void 0}),component:Xl("visit:company",pbt)}),Oxt=ha({getParentRoute:()=>cl,path:"customers",component:Xl("visit:customers",Bbt)}),jxt=ha({getParentRoute:()=>cl,path:"latest",validateSearch:e=>({activityId:e.activityId||void 0}),component:Xl("visit:latest",qbt)}),Dxt=ha({getParentRoute:()=>cl,path:"profile",component:Xl("visit:profile",Nbt)}),Cxt=ha({getParentRoute:()=>cl,path:"super",component:Xl("visit:super",Abt)}),Lxt=ha({getParentRoute:()=>Th,path:"*",component:()=>s.jsx("div",{children:"Not found"})}),Txt=Th.addChildren([hxt,pxt,mxt,yxt,gxt,vxt,cl.addChildren([Sxt,bxt,xxt,wxt,Ext,_xt,Axt,Rxt,Nxt,Oxt,jxt,Dxt,Cxt]),Lxt]),Mxt=dbe({routeTree:Txt,context:{},defaultPreload:"intent",scrollRestoration:!0,defaultStructuralSharing:!0,defaultPreloadStaleTime:0}),Ixt=new Fbe({defaultOptions:{queries:{staleTime:6e4,gcTime:5*6e4,refetchOnWindowFocus:!1,refetchOnReconnect:!0,retry:1,retryDelay:e=>Math.min(1e3*2**e,3e4)}}});function Pxt({children:e}){return s.jsx(Bbe,{client:Ixt,children:e})}function kxt({children:e}){const{companyId:t}=En(),{data:n}=et({...t?zO({companyId:t}):{queryKey:["company","none","company-detail"],queryFn:()=>Promise.resolve(null)},enabled:!!t}),[i,r]=g.useState((n==null?void 0:n.accent_color)??"indigo"),[a,o]=g.useState((n==null?void 0:n.theme_radius)??"small"),[l,c]=g.useState((n==null?void 0:n.theme_gray_color)??"gray"),[u,d]=g.useState((n==null?void 0:n.theme_panel_background)??"solid"),[h,m]=g.useState((n==null?void 0:n.theme_scaling)??"100%");return g.useEffect(()=>{const p=n==null?void 0:n.accent_color;if(!p)r("indigo");else{const v=["gray","gold","bronze","brown","yellow","amber","orange","tomato","red","ruby","pink","plum","purple","violet","iris","indigo","blue","cyan","teal","jade","green","grass","mint","lime","sky"];(b=>v.includes(b))(p)?r(p):r("indigo")}n!=null&&n.theme_radius?o(n.theme_radius):o("small"),n!=null&&n.theme_gray_color?c(n.theme_gray_color):c("gray"),n!=null&&n.theme_panel_background?d(n.theme_panel_background):d("solid"),n!=null&&n.theme_scaling?m(n.theme_scaling):m("100%")},[n]),g.useEffect(()=>{const p=S=>{r(S.detail.color)},v=S=>{S.detail.property==="radius"&&S.detail.value?o(S.detail.value):S.detail.property==="grayColor"&&S.detail.value?c(S.detail.value):S.detail.property==="panelBackground"&&S.detail.value?d(S.detail.value):S.detail.property==="scaling"&&S.detail.value&&m(S.detail.value)};return window.addEventListener("accent-color-changed",p),window.addEventListener("theme-changed",v),()=>{window.removeEventListener("accent-color-changed",p),window.removeEventListener("theme-changed",v)}},[]),s.jsx(Xd,{radius:a,accentColor:i,grayColor:l,panelBackground:u,scaling:h,children:e})}var $xt={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Fxt=Pt.createContext&&Pt.createContext($xt);const f4=document.getElementById("root");f4&&!f4.innerHTML&&x1e.createRoot(f4).render(s.jsx(g.StrictMode,{children:s.jsx(_1e,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:s.jsx(Pxt,{children:s.jsx(Dbt,{children:s.jsx(vIe,{children:s.jsx(kxt,{children:s.jsx($Fe,{children:s.jsx(Fxt.Provider,{value:{size:"1.5em"},children:s.jsx(pbe,{router:Mxt})})})})})})})})}));export{Yi as _,zxt as c,ol as g};
